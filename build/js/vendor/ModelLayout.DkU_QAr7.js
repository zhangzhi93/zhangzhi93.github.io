import{_ as d}from"./index.B2S6NH-b.js";import{f as m,p as f,Q as u,i as _,j as l,w as p,u as g,R as h,o as v,q as i,k as w,m as y}from"./vendor.CGB3Xnwf.js";import{_ as b}from"../index.AVA-eu.js";const R={class:"main-content"},I=m({__name:"ModelLayout",setup(L){const t=h(),s=f(null),c=e=>{e.data&&e.data.cmd&&(console.log("接收到模型页面的消息",e.data),e.data.cmd==="firstLoad"&&(t.name==="dashboard"?o("changeSystem","ground"):t.name==="overview"?o("changeIndoor","柴油发电机房"):t.name==="dataroom"&&o("changeIndoor","中心数据机房")))},o=(e,r)=>{var a,n;console.log(s.value,"iframeRef"),(n=(a=s.value)==null?void 0:a.contentWindow)==null||n.postMessage({cmd:e,param:r},"*")};return u((e,r,a)=>{e.name==="dashboard"?o("changeSystem","ground"):e.name==="overview"?o("changeIndoor","柴油发电机房"):e.name==="dataroom"&&o("changeIndoor","中心数据机房"),a()}),_(()=>{window.addEventListener("message",c,!1)}),(e,r)=>{const a=y("router-view"),n=d;return v(),l(n,{title:g(t).meta.title},{default:p(()=>[i("div",R,[i("iframe",{ref_key:"iframeRef",ref:s,src:"https://chenhaiqiang32.github.io/taobaorm_guangdianyunjifang/",width:"100%",height:"100%",frameborder:"0"},null,512)]),w(a)]),_:1},8,["title"])}}}),B=b(I,[["__scopeId","data-v-834be1c2"]]);export{B as default};
