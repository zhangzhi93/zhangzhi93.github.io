/**
* @vue/shared v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $D(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Lr={},zd=[],au=()=>{},vue=()=>!1,j4=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),WD=t=>t.startsWith("onUpdate:"),Zi=Object.assign,YD=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},mue=Object.prototype.hasOwnProperty,Sr=(t,e)=>mue.call(t,e),Mt=Array.isArray,Hd=t=>V4(t)==="[object Map]",M$=t=>V4(t)==="[object Set]",Nt=t=>typeof t=="function",ui=t=>typeof t=="string",El=t=>typeof t=="symbol",Vr=t=>t!==null&&typeof t=="object",P$=t=>(Vr(t)||Nt(t))&&Nt(t.then)&&Nt(t.catch),L$=Object.prototype.toString,V4=t=>L$.call(t),yue=t=>V4(t).slice(8,-1),O$=t=>V4(t)==="[object Object]",qD=t=>ui(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,_1=$D(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$4=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},_ue=/-(\w)/g,Rs=$4(t=>t.replace(_ue,(e,r)=>r?r.toUpperCase():"")),xue=/\B([A-Z])/g,ff=$4(t=>t.replace(xue,"-$1").toLowerCase()),W4=$4(t=>t.charAt(0).toUpperCase()+t.slice(1)),qC=$4(t=>t?`on${W4(t)}`:""),Ac=(t,e)=>!Object.is(t,e),XC=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},R$=(t,e,r,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:r})},bue=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Cue=t=>{const e=ui(t)?Number(t):NaN;return isNaN(e)?t:e};let eM;const Y4=()=>eM||(eM=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function XD(t){if(Mt(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=ui(i)?Aue(i):XD(i);if(n)for(const a in n)e[a]=n[a]}return e}else if(ui(t)||Vr(t))return t}const Eue=/;(?![^(]*\))/g,Sue=/:([^]+)/,Tue=/\/\*[^]*?\*\//g;function Aue(t){const e={};return t.replace(Tue,"").split(Eue).forEach(r=>{if(r){const i=r.split(Sue);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function ZD(t){let e="";if(ui(t))e=t;else if(Mt(t))for(let r=0;r<t.length;r++){const i=ZD(t[r]);i&&(e+=i+" ")}else if(Vr(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const wue="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Due=$D(wue);function N$(t){return!!t||t===""}const k$=t=>!!(t&&t.__v_isRef===!0),Fue=t=>ui(t)?t:t==null?"":Mt(t)||Vr(t)&&(t.toString===L$||!Nt(t.toString))?k$(t)?Fue(t.value):JSON.stringify(t,z$,2):String(t),z$=(t,e)=>k$(e)?z$(t,e.value):Hd(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],a)=>(r[ZC(i,a)+" =>"]=n,r),{})}:M$(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>ZC(r))}:El(e)?ZC(e):Vr(e)&&!Mt(e)&&!O$(e)?String(e):e,ZC=(t,e="")=>{var r;return El(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wa;class H${constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=wa,!e&&wa&&(this.index=(wa.scopes||(wa.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=wa;try{return wa=this,e()}finally{wa=r}}}on(){++this._on===1&&(this.prevScope=wa,wa=this)}off(){this._on>0&&--this._on===0&&(wa=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(this.effects.length=0,r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Iue(t){return new H$(t)}function Bue(){return wa}let Hr;const KC=new WeakSet;class G${constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,wa&&wa.active&&wa.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,KC.has(this)&&(KC.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||j$(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,tM(this),V$(this);const e=Hr,r=lo;Hr=this,lo=!0;try{return this.fn()}finally{$$(this),Hr=e,lo=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)QD(e);this.deps=this.depsTail=void 0,tM(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?KC.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yA(this)&&this.run()}get dirty(){return yA(this)}}let U$=0,x1,b1;function j$(t,e=!1){if(t.flags|=8,e){t.next=b1,b1=t;return}t.next=x1,x1=t}function KD(){U$++}function JD(){if(--U$>0)return;if(b1){let e=b1;for(b1=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;x1;){let e=x1;for(x1=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=r}}if(t)throw t}function V$(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function $$(t){let e,r=t.depsTail,i=r;for(;i;){const n=i.prevDep;i.version===-1?(i===r&&(r=n),QD(i),Mue(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}t.deps=e,t.depsTail=r}function yA(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(W$(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function W$(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===a2)||(t.globalVersion=a2,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!yA(t))))return;t.flags|=2;const e=t.dep,r=Hr,i=lo;Hr=t,lo=!0;try{V$(t);const n=t.fn(t._value);(e.version===0||Ac(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Hr=r,lo=i,$$(t),t.flags&=-3}}function QD(t,e=!1){const{dep:r,prevSub:i,nextSub:n}=t;if(i&&(i.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=i,t.nextSub=void 0),r.subs===t&&(r.subs=i,!i&&r.computed)){r.computed.flags&=-5;for(let a=r.computed.deps;a;a=a.nextDep)QD(a,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Mue(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let lo=!0;const Y$=[];function ul(){Y$.push(lo),lo=!1}function ll(){const t=Y$.pop();lo=t===void 0?!0:t}function tM(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Hr;Hr=void 0;try{e()}finally{Hr=r}}}let a2=0;class Pue{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class e7{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Hr||!lo||Hr===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Hr)r=this.activeLink=new Pue(Hr,this),Hr.deps?(r.prevDep=Hr.depsTail,Hr.depsTail.nextDep=r,Hr.depsTail=r):Hr.deps=Hr.depsTail=r,q$(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const i=r.nextDep;i.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=i),r.prevDep=Hr.depsTail,r.nextDep=void 0,Hr.depsTail.nextDep=r,Hr.depsTail=r,Hr.deps===r&&(Hr.deps=i)}return r}trigger(e){this.version++,a2++,this.notify(e)}notify(e){KD();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{JD()}}}function q$(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)q$(i)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const $5=new WeakMap,Sh=Symbol(""),_A=Symbol(""),s2=Symbol("");function Nn(t,e,r){if(lo&&Hr){let i=$5.get(t);i||$5.set(t,i=new Map);let n=i.get(r);n||(i.set(r,n=new e7),n.map=i,n.key=r),n.track()}}function qu(t,e,r,i,n,a){const s=$5.get(t);if(!s){a2++;return}const o=u=>{u&&u.trigger()};if(KD(),e==="clear")s.forEach(o);else{const u=Mt(t),l=u&&qD(r);if(u&&r==="length"){const c=Number(i);s.forEach((h,f)=>{(f==="length"||f===s2||!El(f)&&f>=c)&&o(h)})}else switch((r!==void 0||s.has(void 0))&&o(s.get(r)),l&&o(s.get(s2)),e){case"add":u?l&&o(s.get("length")):(o(s.get(Sh)),Hd(t)&&o(s.get(_A)));break;case"delete":u||(o(s.get(Sh)),Hd(t)&&o(s.get(_A)));break;case"set":Hd(t)&&o(s.get(Sh));break}}JD()}function Lue(t,e){const r=$5.get(t);return r&&r.get(e)}function Rf(t){const e=cr(t);return e===t?e:(Nn(e,"iterate",s2),Is(t)?e:e.map(En))}function q4(t){return Nn(t=cr(t),"iterate",s2),t}const Oue={__proto__:null,[Symbol.iterator](){return JC(this,Symbol.iterator,En)},concat(...t){return Rf(this).concat(...t.map(e=>Mt(e)?Rf(e):e))},entries(){return JC(this,"entries",t=>(t[1]=En(t[1]),t))},every(t,e){return Iu(this,"every",t,e,void 0,arguments)},filter(t,e){return Iu(this,"filter",t,e,r=>r.map(En),arguments)},find(t,e){return Iu(this,"find",t,e,En,arguments)},findIndex(t,e){return Iu(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Iu(this,"findLast",t,e,En,arguments)},findLastIndex(t,e){return Iu(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Iu(this,"forEach",t,e,void 0,arguments)},includes(...t){return QC(this,"includes",t)},indexOf(...t){return QC(this,"indexOf",t)},join(t){return Rf(this).join(t)},lastIndexOf(...t){return QC(this,"lastIndexOf",t)},map(t,e){return Iu(this,"map",t,e,void 0,arguments)},pop(){return Qg(this,"pop")},push(...t){return Qg(this,"push",t)},reduce(t,...e){return rM(this,"reduce",t,e)},reduceRight(t,...e){return rM(this,"reduceRight",t,e)},shift(){return Qg(this,"shift")},some(t,e){return Iu(this,"some",t,e,void 0,arguments)},splice(...t){return Qg(this,"splice",t)},toReversed(){return Rf(this).toReversed()},toSorted(t){return Rf(this).toSorted(t)},toSpliced(...t){return Rf(this).toSpliced(...t)},unshift(...t){return Qg(this,"unshift",t)},values(){return JC(this,"values",En)}};function JC(t,e,r){const i=q4(t),n=i[e]();return i!==t&&!Is(t)&&(n._next=n.next,n.next=()=>{const a=n._next();return a.value&&(a.value=r(a.value)),a}),n}const Rue=Array.prototype;function Iu(t,e,r,i,n,a){const s=q4(t),o=s!==t&&!Is(t),u=s[e];if(u!==Rue[e]){const h=u.apply(t,a);return o?En(h):h}let l=r;s!==t&&(o?l=function(h,f){return r.call(this,En(h),f,t)}:r.length>2&&(l=function(h,f){return r.call(this,h,f,t)}));const c=u.call(s,l,i);return o&&n?n(c):c}function rM(t,e,r,i){const n=q4(t);let a=r;return n!==t&&(Is(t)?r.length>3&&(a=function(s,o,u){return r.call(this,s,o,u,t)}):a=function(s,o,u){return r.call(this,s,En(o),u,t)}),n[e](a,...i)}function QC(t,e,r){const i=cr(t);Nn(i,"iterate",s2);const n=i[e](...r);return(n===-1||n===!1)&&i7(r[0])?(r[0]=cr(r[0]),i[e](...r)):n}function Qg(t,e,r=[]){ul(),KD();const i=cr(t)[e].apply(t,r);return JD(),ll(),i}const Nue=$D("__proto__,__v_isRef,__isVue"),X$=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(El));function kue(t){El(t)||(t=String(t));const e=cr(this);return Nn(e,"has",t),e.hasOwnProperty(t)}class Z${constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return a;if(r==="__v_raw")return i===(n?a?que:eW:a?Q$:J$).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const s=Mt(e);if(!n){let u;if(s&&(u=Oue[r]))return u;if(r==="hasOwnProperty")return kue}const o=Reflect.get(e,r,gn(e)?e:i);return(El(r)?X$.has(r):Nue(r))||(n||Nn(e,"get",r),a)?o:gn(o)?s&&qD(r)?o:o.value:Vr(o)?n?rW(o):du(o):o}}class K$ extends Z${constructor(e=!1){super(!1,e)}set(e,r,i,n){let a=e[r];if(!this._isShallow){const u=Pc(a);if(!Is(i)&&!Pc(i)&&(a=cr(a),i=cr(i)),!Mt(e)&&gn(a)&&!gn(i))return u?!1:(a.value=i,!0)}const s=Mt(e)&&qD(r)?Number(r)<e.length:Sr(e,r),o=Reflect.set(e,r,i,gn(e)?e:n);return e===cr(n)&&(s?Ac(i,a)&&qu(e,"set",r,i):qu(e,"add",r,i)),o}deleteProperty(e,r){const i=Sr(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&i&&qu(e,"delete",r,void 0),n}has(e,r){const i=Reflect.has(e,r);return(!El(r)||!X$.has(r))&&Nn(e,"has",r),i}ownKeys(e){return Nn(e,"iterate",Mt(e)?"length":Sh),Reflect.ownKeys(e)}}class zue extends Z${constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Hue=new K$,Gue=new zue,Uue=new K$(!0);const xA=t=>t,Ty=t=>Reflect.getPrototypeOf(t);function jue(t,e,r){return function(...i){const n=this.__v_raw,a=cr(n),s=Hd(a),o=t==="entries"||t===Symbol.iterator&&s,u=t==="keys"&&s,l=n[t](...i),c=r?xA:e?W5:En;return!e&&Nn(a,"iterate",u?_A:Sh),{next(){const{value:h,done:f}=l.next();return f?{value:h,done:f}:{value:o?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Ay(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Vue(t,e){const r={get(n){const a=this.__v_raw,s=cr(a),o=cr(n);t||(Ac(n,o)&&Nn(s,"get",n),Nn(s,"get",o));const{has:u}=Ty(s),l=e?xA:t?W5:En;if(u.call(s,n))return l(a.get(n));if(u.call(s,o))return l(a.get(o));a!==s&&a.get(n)},get size(){const n=this.__v_raw;return!t&&Nn(cr(n),"iterate",Sh),Reflect.get(n,"size",n)},has(n){const a=this.__v_raw,s=cr(a),o=cr(n);return t||(Ac(n,o)&&Nn(s,"has",n),Nn(s,"has",o)),n===o?a.has(n):a.has(n)||a.has(o)},forEach(n,a){const s=this,o=s.__v_raw,u=cr(o),l=e?xA:t?W5:En;return!t&&Nn(u,"iterate",Sh),o.forEach((c,h)=>n.call(a,l(c),l(h),s))}};return Zi(r,t?{add:Ay("add"),set:Ay("set"),delete:Ay("delete"),clear:Ay("clear")}:{add(n){!e&&!Is(n)&&!Pc(n)&&(n=cr(n));const a=cr(this);return Ty(a).has.call(a,n)||(a.add(n),qu(a,"add",n,n)),this},set(n,a){!e&&!Is(a)&&!Pc(a)&&(a=cr(a));const s=cr(this),{has:o,get:u}=Ty(s);let l=o.call(s,n);l||(n=cr(n),l=o.call(s,n));const c=u.call(s,n);return s.set(n,a),l?Ac(a,c)&&qu(s,"set",n,a):qu(s,"add",n,a),this},delete(n){const a=cr(this),{has:s,get:o}=Ty(a);let u=s.call(a,n);u||(n=cr(n),u=s.call(a,n)),o&&o.call(a,n);const l=a.delete(n);return u&&qu(a,"delete",n,void 0),l},clear(){const n=cr(this),a=n.size!==0,s=n.clear();return a&&qu(n,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=jue(n,t,e)}),r}function t7(t,e){const r=Vue(t,e);return(i,n,a)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(Sr(r,n)&&n in i?r:i,n,a)}const $ue={get:t7(!1,!1)},Wue={get:t7(!1,!0)},Yue={get:t7(!0,!1)};const J$=new WeakMap,Q$=new WeakMap,eW=new WeakMap,que=new WeakMap;function Xue(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Zue(t){return t.__v_skip||!Object.isExtensible(t)?0:Xue(yue(t))}function du(t){return Pc(t)?t:r7(t,!1,Hue,$ue,J$)}function tW(t){return r7(t,!1,Uue,Wue,Q$)}function rW(t){return r7(t,!0,Gue,Yue,eW)}function r7(t,e,r,i,n){if(!Vr(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=Zue(t);if(a===0)return t;const s=n.get(t);if(s)return s;const o=new Proxy(t,a===2?i:r);return n.set(t,o),o}function Gd(t){return Pc(t)?Gd(t.__v_raw):!!(t&&t.__v_isReactive)}function Pc(t){return!!(t&&t.__v_isReadonly)}function Is(t){return!!(t&&t.__v_isShallow)}function i7(t){return t?!!t.__v_raw:!1}function cr(t){const e=t&&t.__v_raw;return e?cr(e):t}function iW(t){return!Sr(t,"__v_skip")&&Object.isExtensible(t)&&R$(t,"__v_skip",!0),t}const En=t=>Vr(t)?du(t):t,W5=t=>Vr(t)?rW(t):t;function gn(t){return t?t.__v_isRef===!0:!1}function fr(t){return nW(t,!1)}function hr(t){return nW(t,!0)}function nW(t,e){return gn(t)?t:new Kue(t,e)}class Kue{constructor(e,r){this.dep=new e7,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:cr(e),this._value=r?e:En(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,i=this.__v_isShallow||Is(e)||Pc(e);e=i?e:cr(e),Ac(e,r)&&(this._rawValue=e,this._value=i?e:En(e),this.dep.trigger())}}function Jue(t){t.dep&&t.dep.trigger()}function el(t){return gn(t)?t.value:t}const Que={get:(t,e,r)=>e==="__v_raw"?t:el(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return gn(n)&&!gn(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function aW(t){return Gd(t)?t:new Proxy(t,Que)}class ele{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Lue(cr(this._object),this._key)}}class tle{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function rle(t,e,r){return gn(t)?t:Nt(t)?new tle(t):Vr(t)&&arguments.length>1?ile(t,e,r):fr(t)}function ile(t,e,r){const i=t[e];return gn(i)?i:new ele(t,e,r)}class nle{constructor(e,r,i){this.fn=e,this.setter=r,this._value=void 0,this.dep=new e7(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=a2-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Hr!==this)return j$(this,!0),!0}get value(){const e=this.dep.track();return W$(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function ale(t,e,r=!1){let i,n;return Nt(t)?i=t:(i=t.get,n=t.set),new nle(i,n,r)}const wy={},Y5=new WeakMap;let $0;function sle(t,e=!1,r=$0){if(r){let i=Y5.get(r);i||Y5.set(r,i=[]),i.push(t)}}function ole(t,e,r=Lr){const{immediate:i,deep:n,once:a,scheduler:s,augmentJob:o,call:u}=r,l=x=>n?x:Is(x)||n===!1||n===0?Xu(x,1):Xu(x);let c,h,f,d,p=!1,g=!1;if(gn(t)?(h=()=>t.value,p=Is(t)):Gd(t)?(h=()=>l(t),p=!0):Mt(t)?(g=!0,p=t.some(x=>Gd(x)||Is(x)),h=()=>t.map(x=>{if(gn(x))return x.value;if(Gd(x))return l(x);if(Nt(x))return u?u(x,2):x()})):Nt(t)?e?h=u?()=>u(t,2):t:h=()=>{if(f){ul();try{f()}finally{ll()}}const x=$0;$0=c;try{return u?u(t,3,[d]):t(d)}finally{$0=x}}:h=au,e&&n){const x=h,b=n===!0?1/0:n;h=()=>Xu(x(),b)}const v=Bue(),m=()=>{c.stop(),v&&v.active&&YD(v.effects,c)};if(a&&e){const x=e;e=(...b)=>{x(...b),m()}}let y=g?new Array(t.length).fill(wy):wy;const _=x=>{if(!(!(c.flags&1)||!c.dirty&&!x))if(e){const b=c.run();if(n||p||(g?b.some((C,E)=>Ac(C,y[E])):Ac(b,y))){f&&f();const C=$0;$0=c;try{const E=[b,y===wy?void 0:g&&y[0]===wy?[]:y,d];y=b,u?u(e,3,E):e(...E)}finally{$0=C}}}else c.run()};return o&&o(_),c=new G$(h),c.scheduler=s?()=>s(_,!1):_,d=x=>sle(x,!1,c),f=c.onStop=()=>{const x=Y5.get(c);if(x){if(u)u(x,4);else for(const b of x)b();Y5.delete(c)}},e?i?_(!0):y=c.run():s?s(_.bind(null,!0),!0):c.run(),m.pause=c.pause.bind(c),m.resume=c.resume.bind(c),m.stop=m,m}function Xu(t,e=1/0,r){if(e<=0||!Vr(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,gn(t))Xu(t.value,e,r);else if(Mt(t))for(let i=0;i<t.length;i++)Xu(t[i],e,r);else if(M$(t)||Hd(t))t.forEach(i=>{Xu(i,e,r)});else if(O$(t)){for(const i in t)Xu(t[i],e,r);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Xu(t[i],e,r)}return t}/**
* @vue/runtime-core v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function dm(t,e,r,i){try{return i?t(...i):t()}catch(n){X4(n,e,r)}}function mo(t,e,r,i){if(Nt(t)){const n=dm(t,e,r,i);return n&&P$(n)&&n.catch(a=>{X4(a,e,r)}),n}if(Mt(t)){const n=[];for(let a=0;a<t.length;a++)n.push(mo(t[a],e,r,i));return n}}function X4(t,e,r,i=!0){const n=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:s}=e&&e.appContext.config||Lr;if(e){let o=e.parent;const u=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,u,l)===!1)return}o=o.parent}if(a){ul(),dm(a,null,10,[t,u,l]),ll();return}}ule(t,r,n,i,s)}function ule(t,e,r,i=!0,n=!1){if(n)throw t;console.error(t)}const ta=[];let Ho=-1;const Ud=[];let nc=null,yd=0;const sW=Promise.resolve();let q5=null;function cl(t){const e=q5||sW;return t?e.then(this?t.bind(this):t):e}function lle(t){let e=Ho+1,r=ta.length;for(;e<r;){const i=e+r>>>1,n=ta[i],a=o2(n);a<t||a===t&&n.flags&2?e=i+1:r=i}return e}function n7(t){if(!(t.flags&1)){const e=o2(t),r=ta[ta.length-1];!r||!(t.flags&2)&&e>=o2(r)?ta.push(t):ta.splice(lle(e),0,t),t.flags|=1,oW()}}function oW(){q5||(q5=sW.then(lW))}function cle(t){Mt(t)?Ud.push(...t):nc&&t.id===-1?nc.splice(yd+1,0,t):t.flags&1||(Ud.push(t),t.flags|=1),oW()}function iM(t,e,r=Ho+1){for(;r<ta.length;r++){const i=ta[r];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;ta.splice(r,1),r--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function uW(t){if(Ud.length){const e=[...new Set(Ud)].sort((r,i)=>o2(r)-o2(i));if(Ud.length=0,nc){nc.push(...e);return}for(nc=e,yd=0;yd<nc.length;yd++){const r=nc[yd];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}nc=null,yd=0}}const o2=t=>t.id==null?t.flags&2?-1:1/0:t.id;function lW(t){try{for(Ho=0;Ho<ta.length;Ho++){const e=ta[Ho];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),dm(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ho<ta.length;Ho++){const e=ta[Ho];e&&(e.flags&=-2)}Ho=-1,ta.length=0,uW(),q5=null,(ta.length||Ud.length)&&lW()}}let fn=null,cW=null;function X5(t){const e=fn;return fn=t,cW=t&&t.type.__scopeId||null,e}function hle(t,e=fn,r){if(!e||t._n)return t;const i=(...n)=>{i._d&&mM(-1);const a=X5(e);let s;try{s=t(...n)}finally{X5(a),i._d&&mM(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function hW(t,e){if(fn===null)return t;const r=eb(fn),i=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[a,s,o,u=Lr]=e[n];a&&(Nt(a)&&(a={mounted:a,updated:a}),a.deep&&Xu(s),i.push({dir:a,instance:r,value:s,oldValue:void 0,arg:o,modifiers:u}))}return t}function o0(t,e,r,i){const n=t.dirs,a=e&&e.dirs;for(let s=0;s<n.length;s++){const o=n[s];a&&(o.oldValue=a[s].value);let u=o.dir[i];u&&(ul(),mo(u,r,8,[t.el,o,t,e]),ll())}}const fW=Symbol("_vte"),dW=t=>t.__isTeleport,C1=t=>t&&(t.disabled||t.disabled===""),nM=t=>t&&(t.defer||t.defer===""),aM=t=>typeof SVGElement<"u"&&t instanceof SVGElement,sM=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,bA=(t,e)=>{const r=t&&t.to;return ui(r)?e?e(r):null:r},pW={name:"Teleport",__isTeleport:!0,process(t,e,r,i,n,a,s,o,u,l){const{mc:c,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:g,createComment:v}}=l,m=C1(e.props);let{shapeFlag:y,children:_,dynamicChildren:x}=e;if(t==null){const b=e.el=g(""),C=e.anchor=g("");d(b,r,i),d(C,r,i);const E=(S,T)=>{y&16&&(n&&n.isCE&&(n.ce._teleportTarget=S),c(_,S,T,n,a,s,o,u))},A=()=>{const S=e.target=bA(e.props,p),T=vW(S,e,g,d);S&&(s!=="svg"&&aM(S)?s="svg":s!=="mathml"&&sM(S)&&(s="mathml"),m||(E(S,T),_x(e,!1)))};m&&(E(r,C),_x(e,!0)),nM(e.props)?(e.el.__isMounted=!1,Zn(()=>{A(),delete e.el.__isMounted},a)):A()}else{if(nM(e.props)&&t.el.__isMounted===!1){Zn(()=>{pW.process(t,e,r,i,n,a,s,o,u,l)},a);return}e.el=t.el,e.targetStart=t.targetStart;const b=e.anchor=t.anchor,C=e.target=t.target,E=e.targetAnchor=t.targetAnchor,A=C1(t.props),S=A?r:C,T=A?b:E;if(s==="svg"||aM(C)?s="svg":(s==="mathml"||sM(C))&&(s="mathml"),x?(f(t.dynamicChildren,x,S,n,a,s,o),c7(t,e,!0)):u||h(t,e,S,T,n,a,s,o,!1),m)A?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Dy(e,r,b,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const D=e.target=bA(e.props,p);D&&Dy(e,D,null,l,0)}else A&&Dy(e,C,E,l,1);_x(e,m)}},remove(t,e,r,{um:i,o:{remove:n}},a){const{shapeFlag:s,children:o,anchor:u,targetStart:l,targetAnchor:c,target:h,props:f}=t;if(h&&(n(l),n(c)),a&&n(u),s&16){const d=a||!C1(f);for(let p=0;p<o.length;p++){const g=o[p];i(g,e,r,d,!!g.dynamicChildren)}}},move:Dy,hydrate:fle};function Dy(t,e,r,{o:{insert:i},m:n},a=2){a===0&&i(t.targetAnchor,e,r);const{el:s,anchor:o,shapeFlag:u,children:l,props:c}=t,h=a===2;if(h&&i(s,e,r),(!h||C1(c))&&u&16)for(let f=0;f<l.length;f++)n(l[f],e,r,2);h&&i(o,e,r)}function fle(t,e,r,i,n,a,{o:{nextSibling:s,parentNode:o,querySelector:u,insert:l,createText:c}},h){const f=e.target=bA(e.props,u);if(f){const d=C1(e.props),p=f._lpa||f.firstChild;if(e.shapeFlag&16)if(d)e.anchor=h(s(t),e,o(t),r,i,n,a),e.targetStart=p,e.targetAnchor=p&&s(p);else{e.anchor=s(t);let g=p;for(;g;){if(g&&g.nodeType===8){if(g.data==="teleport start anchor")e.targetStart=g;else if(g.data==="teleport anchor"){e.targetAnchor=g,f._lpa=e.targetAnchor&&s(e.targetAnchor);break}}g=s(g)}e.targetAnchor||vW(f,e,c,l),h(p&&s(p),e,f,r,i,n,a)}_x(e,d)}return e.anchor&&s(e.anchor)}const gW=pW;function _x(t,e){const r=t.ctx;if(r&&r.ut){let i,n;for(e?(i=t.el,n=t.anchor):(i=t.targetStart,n=t.targetAnchor);i&&i!==n;)i.nodeType===1&&i.setAttribute("data-v-owner",r.uid),i=i.nextSibling;r.ut()}}function vW(t,e,r,i){const n=e.targetStart=r(""),a=e.targetAnchor=r("");return n[fW]=a,t&&(i(n,t),i(a,t)),a}const ac=Symbol("_leaveCb"),Fy=Symbol("_enterCb");function mW(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Eu(()=>{t.isMounted=!0}),pf(()=>{t.isUnmounting=!0}),t}const us=[Function,Array],yW={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:us,onEnter:us,onAfterEnter:us,onEnterCancelled:us,onBeforeLeave:us,onLeave:us,onAfterLeave:us,onLeaveCancelled:us,onBeforeAppear:us,onAppear:us,onAfterAppear:us,onAppearCancelled:us},_W=t=>{const e=t.subTree;return e.component?_W(e.component):e},dle={name:"BaseTransition",props:yW,setup(t,{slots:e}){const r=Q4(),i=mW();return()=>{const n=e.default&&a7(e.default(),!0);if(!n||!n.length)return;const a=xW(n),s=cr(t),{mode:o}=s;if(i.isLeaving)return eE(a);const u=oM(a);if(!u)return eE(a);let l=u2(u,s,i,r,h=>l=h);u.type!==Tn&&Vh(u,l);let c=r.subTree&&oM(r.subTree);if(c&&c.type!==Tn&&!Q0(u,c)&&_W(r).type!==Tn){let h=u2(c,s,i,r);if(Vh(c,h),o==="out-in"&&u.type!==Tn)return i.isLeaving=!0,h.afterLeave=()=>{i.isLeaving=!1,r.job.flags&8||r.update(),delete h.afterLeave,c=void 0},eE(a);o==="in-out"&&u.type!==Tn?h.delayLeave=(f,d,p)=>{const g=bW(i,c);g[String(c.key)]=c,f[ac]=()=>{d(),f[ac]=void 0,delete l.delayedLeave,c=void 0},l.delayedLeave=()=>{p(),delete l.delayedLeave,c=void 0}}:c=void 0}else c&&(c=void 0);return a}}};function xW(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Tn){e=r;break}}return e}const ple=dle;function bW(t,e){const{leavingVNodes:r}=t;let i=r.get(e.type);return i||(i=Object.create(null),r.set(e.type,i)),i}function u2(t,e,r,i,n){const{appear:a,mode:s,persisted:o=!1,onBeforeEnter:u,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:f,onLeave:d,onAfterLeave:p,onLeaveCancelled:g,onBeforeAppear:v,onAppear:m,onAfterAppear:y,onAppearCancelled:_}=e,x=String(t.key),b=bW(r,t),C=(S,T)=>{S&&mo(S,i,9,T)},E=(S,T)=>{const D=T[1];C(S,T),Mt(S)?S.every(F=>F.length<=1)&&D():S.length<=1&&D()},A={mode:s,persisted:o,beforeEnter(S){let T=u;if(!r.isMounted)if(a)T=v||u;else return;S[ac]&&S[ac](!0);const D=b[x];D&&Q0(t,D)&&D.el[ac]&&D.el[ac](),C(T,[S])},enter(S){let T=l,D=c,F=h;if(!r.isMounted)if(a)T=m||l,D=y||c,F=_||h;else return;let B=!1;const O=S[Fy]=M=>{B||(B=!0,M?C(F,[S]):C(D,[S]),A.delayedLeave&&A.delayedLeave(),S[Fy]=void 0)};T?E(T,[S,O]):O()},leave(S,T){const D=String(t.key);if(S[Fy]&&S[Fy](!0),r.isUnmounting)return T();C(f,[S]);let F=!1;const B=S[ac]=O=>{F||(F=!0,T(),O?C(g,[S]):C(p,[S]),S[ac]=void 0,b[D]===t&&delete b[D])};b[D]=t,d?E(d,[S,B]):B()},clone(S){const T=u2(S,e,r,i,n);return n&&n(T),T}};return A}function eE(t){if(Z4(t))return t=hl(t),t.children=null,t}function oM(t){if(!Z4(t))return dW(t.type)&&t.children?xW(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&Nt(r.default))return r.default()}}function Vh(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Vh(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function a7(t,e=!1,r){let i=[],n=0;for(let a=0;a<t.length;a++){let s=t[a];const o=r==null?s.key:String(r)+String(s.key!=null?s.key:a);s.type===Si?(s.patchFlag&128&&n++,i=i.concat(a7(s.children,e,o))):(e||s.type!==Tn)&&i.push(o!=null?hl(s,{key:o}):s)}if(n>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Br(t,e){return Nt(t)?Zi({name:t.name},e,{setup:t}):t}function CW(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Z5(t,e,r,i,n=!1){if(Mt(t)){t.forEach((p,g)=>Z5(p,e&&(Mt(e)?e[g]:e),r,i,n));return}if(jd(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Z5(t,e,r,i.component.subTree);return}const a=i.shapeFlag&4?eb(i.component):i.el,s=n?null:a,{i:o,r:u}=t,l=e&&e.r,c=o.refs===Lr?o.refs={}:o.refs,h=o.setupState,f=cr(h),d=h===Lr?()=>!1:p=>Sr(f,p);if(l!=null&&l!==u&&(ui(l)?(c[l]=null,d(l)&&(h[l]=null)):gn(l)&&(l.value=null)),Nt(u))dm(u,o,12,[s,c]);else{const p=ui(u),g=gn(u);if(p||g){const v=()=>{if(t.f){const m=p?d(u)?h[u]:c[u]:u.value;n?Mt(m)&&YD(m,a):Mt(m)?m.includes(a)||m.push(a):p?(c[u]=[a],d(u)&&(h[u]=c[u])):(u.value=[a],t.k&&(c[t.k]=u.value))}else p?(c[u]=s,d(u)&&(h[u]=s)):g&&(u.value=s,t.k&&(c[t.k]=s))};s?(v.id=-1,Zn(v,r)):v()}}}Y4().requestIdleCallback;Y4().cancelIdleCallback;const jd=t=>!!t.type.__asyncLoader,Z4=t=>t.type.__isKeepAlive;function EW(t,e){TW(t,"a",e)}function SW(t,e){TW(t,"da",e)}function TW(t,e,r=An){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(K4(e,i,r),r){let n=r.parent;for(;n&&n.parent;)Z4(n.parent.vnode)&&gle(i,e,r,n),n=n.parent}}function gle(t,e,r,i){const n=K4(e,t,i,!0);pm(()=>{YD(i[e],n)},r)}function K4(t,e,r=An,i=!1){if(r){const n=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...s)=>{ul();const o=vm(r),u=mo(e,r,t,s);return o(),ll(),u});return i?n.unshift(a):n.push(a),a}}const Sl=t=>(e,r=An)=>{(!c2||t==="sp")&&K4(t,(...i)=>e(...i),r)},AW=Sl("bm"),Eu=Sl("m"),wW=Sl("bu"),df=Sl("u"),pf=Sl("bum"),pm=Sl("um"),vle=Sl("sp"),mle=Sl("rtg"),yle=Sl("rtc");function _le(t,e=An){K4("ec",t,e)}const s7="components",xle="directives";function mYe(t,e){return o7(s7,t,!0,e)||t}const DW=Symbol.for("v-ndc");function yYe(t){return ui(t)?o7(s7,t,!1)||t:t||DW}function ble(t){return o7(xle,t)}function o7(t,e,r=!0,i=!1){const n=fn||An;if(n){const a=n.type;if(t===s7){const o=uce(a,!1);if(o&&(o===e||o===Rs(e)||o===W4(Rs(e))))return a}const s=uM(n[t]||a[t],e)||uM(n.appContext[t],e);return!s&&i?a:s}}function uM(t,e){return t&&(t[e]||t[Rs(e)]||t[W4(Rs(e))])}function _Ye(t,e,r,i){let n;const a=r,s=Mt(t);if(s||ui(t)){const o=s&&Gd(t);let u=!1,l=!1;o&&(u=!Is(t),l=Pc(t),t=q4(t)),n=new Array(t.length);for(let c=0,h=t.length;c<h;c++)n[c]=e(u?l?W5(En(t[c])):En(t[c]):t[c],c,void 0,a)}else if(typeof t=="number"){n=new Array(t);for(let o=0;o<t;o++)n[o]=e(o+1,o,void 0,a)}else if(Vr(t))if(t[Symbol.iterator])n=Array.from(t,(o,u)=>e(o,u,void 0,a));else{const o=Object.keys(t);n=new Array(o.length);for(let u=0,l=o.length;u<l;u++){const c=o[u];n[u]=e(t[c],c,u,a)}}else n=[];return n}function xYe(t,e,r={},i,n){if(fn.ce||fn.parent&&jd(fn.parent)&&fn.parent.ce)return e!=="default"&&(r.name=e),AA(),wA(Si,null,[Ae("slot",r,i)],64);let a=t[e];a&&a._c&&(a._d=!1),AA();const s=a&&FW(a(r)),o=r.key||s&&s.key,u=wA(Si,{key:(o&&!El(o)?o:`_${e}`)+""},s||[],s&&t._===1?64:-2);return a&&a._c&&(a._d=!0),u}function FW(t){return t.some(e=>pu(e)?!(e.type===Tn||e.type===Si&&!FW(e.children)):!0)?t:null}const CA=t=>t?qW(t)?eb(t):CA(t.parent):null,E1=Zi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>CA(t.parent),$root:t=>CA(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>BW(t),$forceUpdate:t=>t.f||(t.f=()=>{n7(t.update)}),$nextTick:t=>t.n||(t.n=cl.bind(t.proxy)),$watch:t=>Ule.bind(t)}),tE=(t,e)=>t!==Lr&&!t.__isScriptSetup&&Sr(t,e),Cle={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:i,data:n,props:a,accessCache:s,type:o,appContext:u}=t;let l;if(e[0]!=="$"){const d=s[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return a[e]}else{if(tE(i,e))return s[e]=1,i[e];if(n!==Lr&&Sr(n,e))return s[e]=2,n[e];if((l=t.propsOptions[0])&&Sr(l,e))return s[e]=3,a[e];if(r!==Lr&&Sr(r,e))return s[e]=4,r[e];EA&&(s[e]=0)}}const c=E1[e];let h,f;if(c)return e==="$attrs"&&Nn(t.attrs,"get",""),c(t);if((h=o.__cssModules)&&(h=h[e]))return h;if(r!==Lr&&Sr(r,e))return s[e]=4,r[e];if(f=u.config.globalProperties,Sr(f,e))return f[e]},set({_:t},e,r){const{data:i,setupState:n,ctx:a}=t;return tE(n,e)?(n[e]=r,!0):i!==Lr&&Sr(i,e)?(i[e]=r,!0):Sr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:a}},s){let o;return!!r[s]||t!==Lr&&Sr(t,s)||tE(e,s)||(o=a[0])&&Sr(o,s)||Sr(i,s)||Sr(E1,s)||Sr(n.config.globalProperties,s)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Sr(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function lM(t){return Mt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let EA=!0;function Ele(t){const e=BW(t),r=t.proxy,i=t.ctx;EA=!1,e.beforeCreate&&cM(e.beforeCreate,t,"bc");const{data:n,computed:a,methods:s,watch:o,provide:u,inject:l,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:v,beforeDestroy:m,beforeUnmount:y,destroyed:_,unmounted:x,render:b,renderTracked:C,renderTriggered:E,errorCaptured:A,serverPrefetch:S,expose:T,inheritAttrs:D,components:F,directives:B,filters:O}=e;if(l&&Sle(l,i,null),s)for(const z in s){const k=s[z];Nt(k)&&(i[z]=k.bind(r))}if(n){const z=n.call(r,r);Vr(z)&&(t.data=du(z))}if(EA=!0,a)for(const z in a){const k=a[z],U=Nt(k)?k.bind(r,r):Nt(k.get)?k.get.bind(r,r):au,V=!Nt(k)&&Nt(k.set)?k.set.bind(r):au,j=Ge({get:U,set:V});Object.defineProperty(i,z,{enumerable:!0,configurable:!0,get:()=>j.value,set:Y=>j.value=Y})}if(o)for(const z in o)IW(o[z],i,r,z);if(u){const z=Nt(u)?u.call(r):u;Reflect.ownKeys(z).forEach(k=>{oa(k,z[k])})}c&&cM(c,t,"c");function R(z,k){Mt(k)?k.forEach(U=>z(U.bind(r))):k&&z(k.bind(r))}if(R(AW,h),R(Eu,f),R(wW,d),R(df,p),R(EW,g),R(SW,v),R(_le,A),R(yle,C),R(mle,E),R(pf,y),R(pm,x),R(vle,S),Mt(T))if(T.length){const z=t.exposed||(t.exposed={});T.forEach(k=>{Object.defineProperty(z,k,{get:()=>r[k],set:U=>r[k]=U})})}else t.exposed||(t.exposed={});b&&t.render===au&&(t.render=b),D!=null&&(t.inheritAttrs=D),F&&(t.components=F),B&&(t.directives=B),S&&CW(t)}function Sle(t,e,r=au){Mt(t)&&(t=SA(t));for(const i in t){const n=t[i];let a;Vr(n)?"default"in n?a=Fi(n.from||i,n.default,!0):a=Fi(n.from||i):a=Fi(n),gn(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:s=>a.value=s}):e[i]=a}}function cM(t,e,r){mo(Mt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function IW(t,e,r,i){let n=i.includes(".")?UW(r,i):()=>r[i];if(ui(t)){const a=e[t];Nt(a)&&oi(n,a)}else if(Nt(t))oi(n,t.bind(r));else if(Vr(t))if(Mt(t))t.forEach(a=>IW(a,e,r,i));else{const a=Nt(t.handler)?t.handler.bind(r):e[t.handler];Nt(a)&&oi(n,a,t)}}function BW(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:a,config:{optionMergeStrategies:s}}=t.appContext,o=a.get(e);let u;return o?u=o:!n.length&&!r&&!i?u=e:(u={},n.length&&n.forEach(l=>K5(u,l,s,!0)),K5(u,e,s)),Vr(e)&&a.set(e,u),u}function K5(t,e,r,i=!1){const{mixins:n,extends:a}=e;a&&K5(t,a,r,!0),n&&n.forEach(s=>K5(t,s,r,!0));for(const s in e)if(!(i&&s==="expose")){const o=Tle[s]||r&&r[s];t[s]=o?o(t[s],e[s]):e[s]}return t}const Tle={data:hM,props:fM,emits:fM,methods:Zv,computed:Zv,beforeCreate:Xn,created:Xn,beforeMount:Xn,mounted:Xn,beforeUpdate:Xn,updated:Xn,beforeDestroy:Xn,beforeUnmount:Xn,destroyed:Xn,unmounted:Xn,activated:Xn,deactivated:Xn,errorCaptured:Xn,serverPrefetch:Xn,components:Zv,directives:Zv,watch:wle,provide:hM,inject:Ale};function hM(t,e){return e?t?function(){return Zi(Nt(t)?t.call(this,this):t,Nt(e)?e.call(this,this):e)}:e:t}function Ale(t,e){return Zv(SA(t),SA(e))}function SA(t){if(Mt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Xn(t,e){return t?[...new Set([].concat(t,e))]:e}function Zv(t,e){return t?Zi(Object.create(null),t,e):e}function fM(t,e){return t?Mt(t)&&Mt(e)?[...new Set([...t,...e])]:Zi(Object.create(null),lM(t),lM(e??{})):e}function wle(t,e){if(!t)return e;if(!e)return t;const r=Zi(Object.create(null),t);for(const i in e)r[i]=Xn(t[i],e[i]);return r}function MW(){return{app:null,config:{isNativeTag:vue,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Dle=0;function Fle(t,e){return function(i,n=null){Nt(i)||(i=Zi({},i)),n!=null&&!Vr(n)&&(n=null);const a=MW(),s=new WeakSet,o=[];let u=!1;const l=a.app={_uid:Dle++,_component:i,_props:n,_container:null,_context:a,_instance:null,version:cce,get config(){return a.config},set config(c){},use(c,...h){return s.has(c)||(c&&Nt(c.install)?(s.add(c),c.install(l,...h)):Nt(c)&&(s.add(c),c(l,...h))),l},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),l},component(c,h){return h?(a.components[c]=h,l):a.components[c]},directive(c,h){return h?(a.directives[c]=h,l):a.directives[c]},mount(c,h,f){if(!u){const d=l._ceVNode||Ae(i,n);return d.appContext=a,f===!0?f="svg":f===!1&&(f=void 0),t(d,c,f),u=!0,l._container=c,c.__vue_app__=l,eb(d.component)}},onUnmount(c){o.push(c)},unmount(){u&&(mo(o,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(c,h){return a.provides[c]=h,l},runWithContext(c){const h=Vd;Vd=l;try{return c()}finally{Vd=h}}};return l}}let Vd=null;function oa(t,e){if(An){let r=An.provides;const i=An.parent&&An.parent.provides;i===r&&(r=An.provides=Object.create(i)),r[t]=e}}function Fi(t,e,r=!1){const i=An||fn;if(i||Vd){let n=Vd?Vd._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&Nt(e)?e.call(i&&i.proxy):e}}const PW={},LW=()=>Object.create(PW),OW=t=>Object.getPrototypeOf(t)===PW;function Ile(t,e,r,i=!1){const n={},a=LW();t.propsDefaults=Object.create(null),RW(t,e,n,a);for(const s in t.propsOptions[0])s in n||(n[s]=void 0);r?t.props=i?n:tW(n):t.type.props?t.props=n:t.props=a,t.attrs=a}function Ble(t,e,r,i){const{props:n,attrs:a,vnode:{patchFlag:s}}=t,o=cr(n),[u]=t.propsOptions;let l=!1;if((i||s>0)&&!(s&16)){if(s&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(J4(t.emitsOptions,f))continue;const d=e[f];if(u)if(Sr(a,f))d!==a[f]&&(a[f]=d,l=!0);else{const p=Rs(f);n[p]=TA(u,o,p,d,t,!1)}else d!==a[f]&&(a[f]=d,l=!0)}}}else{RW(t,e,n,a)&&(l=!0);let c;for(const h in o)(!e||!Sr(e,h)&&((c=ff(h))===h||!Sr(e,c)))&&(u?r&&(r[h]!==void 0||r[c]!==void 0)&&(n[h]=TA(u,o,h,void 0,t,!0)):delete n[h]);if(a!==o)for(const h in a)(!e||!Sr(e,h))&&(delete a[h],l=!0)}l&&qu(t.attrs,"set","")}function RW(t,e,r,i){const[n,a]=t.propsOptions;let s=!1,o;if(e)for(let u in e){if(_1(u))continue;const l=e[u];let c;n&&Sr(n,c=Rs(u))?!a||!a.includes(c)?r[c]=l:(o||(o={}))[c]=l:J4(t.emitsOptions,u)||(!(u in i)||l!==i[u])&&(i[u]=l,s=!0)}if(a){const u=cr(r),l=o||Lr;for(let c=0;c<a.length;c++){const h=a[c];r[h]=TA(n,u,h,l[h],t,!Sr(l,h))}}return s}function TA(t,e,r,i,n,a){const s=t[r];if(s!=null){const o=Sr(s,"default");if(o&&i===void 0){const u=s.default;if(s.type!==Function&&!s.skipFactory&&Nt(u)){const{propsDefaults:l}=n;if(r in l)i=l[r];else{const c=vm(n);i=l[r]=u.call(null,e),c()}}else i=u;n.ce&&n.ce._setProp(r,i)}s[0]&&(a&&!o?i=!1:s[1]&&(i===""||i===ff(r))&&(i=!0))}return i}const Mle=new WeakMap;function NW(t,e,r=!1){const i=r?Mle:e.propsCache,n=i.get(t);if(n)return n;const a=t.props,s={},o=[];let u=!1;if(!Nt(t)){const c=h=>{u=!0;const[f,d]=NW(h,e,!0);Zi(s,f),d&&o.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!a&&!u)return Vr(t)&&i.set(t,zd),zd;if(Mt(a))for(let c=0;c<a.length;c++){const h=Rs(a[c]);dM(h)&&(s[h]=Lr)}else if(a)for(const c in a){const h=Rs(c);if(dM(h)){const f=a[c],d=s[h]=Mt(f)||Nt(f)?{type:f}:Zi({},f),p=d.type;let g=!1,v=!0;if(Mt(p))for(let m=0;m<p.length;++m){const y=p[m],_=Nt(y)&&y.name;if(_==="Boolean"){g=!0;break}else _==="String"&&(v=!1)}else g=Nt(p)&&p.name==="Boolean";d[0]=g,d[1]=v,(g||Sr(d,"default"))&&o.push(h)}}const l=[s,o];return Vr(t)&&i.set(t,l),l}function dM(t){return t[0]!=="$"&&!_1(t)}const u7=t=>t[0]==="_"||t==="$stable",l7=t=>Mt(t)?t.map($o):[$o(t)],Ple=(t,e,r)=>{if(e._n)return e;const i=hle((...n)=>l7(e(...n)),r);return i._c=!1,i},kW=(t,e,r)=>{const i=t._ctx;for(const n in t){if(u7(n))continue;const a=t[n];if(Nt(a))e[n]=Ple(n,a,i);else if(a!=null){const s=l7(a);e[n]=()=>s}}},zW=(t,e)=>{const r=l7(e);t.slots.default=()=>r},HW=(t,e,r)=>{for(const i in e)(r||!u7(i))&&(t[i]=e[i])},Lle=(t,e,r)=>{const i=t.slots=LW();if(t.vnode.shapeFlag&32){const n=e._;n?(HW(i,e,r),r&&R$(i,"_",n,!0)):kW(e,i)}else e&&zW(t,e)},Ole=(t,e,r)=>{const{vnode:i,slots:n}=t;let a=!0,s=Lr;if(i.shapeFlag&32){const o=e._;o?r&&o===1?a=!1:HW(n,e,r):(a=!e.$stable,kW(e,n)),s=e}else e&&(zW(t,e),s={default:1});if(a)for(const o in n)!u7(o)&&s[o]==null&&delete n[o]},Zn=Xle;function Rle(t){return Nle(t)}function Nle(t,e){const r=Y4();r.__VUE__=!0;const{insert:i,remove:n,patchProp:a,createElement:s,createText:o,createComment:u,setText:l,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=au,insertStaticContent:p}=t,g=(q,J,se,ve=null,_e=null,we=null,He=void 0,ze=null,Me=!!J.dynamicChildren)=>{if(q===J)return;q&&!Q0(q,J)&&(ve=he(q),Y(q,_e,we,!0),q=null),J.patchFlag===-2&&(Me=!1,J.dynamicChildren=null);const{type:Se,ref:Ze,shapeFlag:$e}=J;switch(Se){case gm:v(q,J,se,ve);break;case Tn:m(q,J,se,ve);break;case xx:q==null&&y(J,se,ve,He);break;case Si:F(q,J,se,ve,_e,we,He,ze,Me);break;default:$e&1?b(q,J,se,ve,_e,we,He,ze,Me):$e&6?B(q,J,se,ve,_e,we,He,ze,Me):($e&64||$e&128)&&Se.process(q,J,se,ve,_e,we,He,ze,Me,xe)}Ze!=null&&_e&&Z5(Ze,q&&q.ref,we,J||q,!J)},v=(q,J,se,ve)=>{if(q==null)i(J.el=o(J.children),se,ve);else{const _e=J.el=q.el;J.children!==q.children&&l(_e,J.children)}},m=(q,J,se,ve)=>{q==null?i(J.el=u(J.children||""),se,ve):J.el=q.el},y=(q,J,se,ve)=>{[q.el,q.anchor]=p(q.children,J,se,ve,q.el,q.anchor)},_=({el:q,anchor:J},se,ve)=>{let _e;for(;q&&q!==J;)_e=f(q),i(q,se,ve),q=_e;i(J,se,ve)},x=({el:q,anchor:J})=>{let se;for(;q&&q!==J;)se=f(q),n(q),q=se;n(J)},b=(q,J,se,ve,_e,we,He,ze,Me)=>{J.type==="svg"?He="svg":J.type==="math"&&(He="mathml"),q==null?C(J,se,ve,_e,we,He,ze,Me):S(q,J,_e,we,He,ze,Me)},C=(q,J,se,ve,_e,we,He,ze)=>{let Me,Se;const{props:Ze,shapeFlag:$e,transition:ct,dirs:yt}=q;if(Me=q.el=s(q.type,we,Ze&&Ze.is,Ze),$e&8?c(Me,q.children):$e&16&&A(q.children,Me,null,ve,_e,rE(q,we),He,ze),yt&&o0(q,null,ve,"created"),E(Me,q,q.scopeId,He,ve),Ze){for(const Vt in Ze)Vt!=="value"&&!_1(Vt)&&a(Me,Vt,null,Ze[Vt],we,ve);"value"in Ze&&a(Me,"value",null,Ze.value,we),(Se=Ze.onVnodeBeforeMount)&&wo(Se,ve,q)}yt&&o0(q,null,ve,"beforeMount");const Bt=kle(_e,ct);Bt&&ct.beforeEnter(Me),i(Me,J,se),((Se=Ze&&Ze.onVnodeMounted)||Bt||yt)&&Zn(()=>{Se&&wo(Se,ve,q),Bt&&ct.enter(Me),yt&&o0(q,null,ve,"mounted")},_e)},E=(q,J,se,ve,_e)=>{if(se&&d(q,se),ve)for(let we=0;we<ve.length;we++)d(q,ve[we]);if(_e){let we=_e.subTree;if(J===we||VW(we.type)&&(we.ssContent===J||we.ssFallback===J)){const He=_e.vnode;E(q,He,He.scopeId,He.slotScopeIds,_e.parent)}}},A=(q,J,se,ve,_e,we,He,ze,Me=0)=>{for(let Se=Me;Se<q.length;Se++){const Ze=q[Se]=ze?sc(q[Se]):$o(q[Se]);g(null,Ze,J,se,ve,_e,we,He,ze)}},S=(q,J,se,ve,_e,we,He)=>{const ze=J.el=q.el;let{patchFlag:Me,dynamicChildren:Se,dirs:Ze}=J;Me|=q.patchFlag&16;const $e=q.props||Lr,ct=J.props||Lr;let yt;if(se&&u0(se,!1),(yt=ct.onVnodeBeforeUpdate)&&wo(yt,se,J,q),Ze&&o0(J,q,se,"beforeUpdate"),se&&u0(se,!0),($e.innerHTML&&ct.innerHTML==null||$e.textContent&&ct.textContent==null)&&c(ze,""),Se?T(q.dynamicChildren,Se,ze,se,ve,rE(J,_e),we):He||k(q,J,ze,null,se,ve,rE(J,_e),we,!1),Me>0){if(Me&16)D(ze,$e,ct,se,_e);else if(Me&2&&$e.class!==ct.class&&a(ze,"class",null,ct.class,_e),Me&4&&a(ze,"style",$e.style,ct.style,_e),Me&8){const Bt=J.dynamicProps;for(let Vt=0;Vt<Bt.length;Vt++){const tr=Bt[Vt],ci=$e[tr],Kr=ct[tr];(Kr!==ci||tr==="value")&&a(ze,tr,ci,Kr,_e,se)}}Me&1&&q.children!==J.children&&c(ze,J.children)}else!He&&Se==null&&D(ze,$e,ct,se,_e);((yt=ct.onVnodeUpdated)||Ze)&&Zn(()=>{yt&&wo(yt,se,J,q),Ze&&o0(J,q,se,"updated")},ve)},T=(q,J,se,ve,_e,we,He)=>{for(let ze=0;ze<J.length;ze++){const Me=q[ze],Se=J[ze],Ze=Me.el&&(Me.type===Si||!Q0(Me,Se)||Me.shapeFlag&198)?h(Me.el):se;g(Me,Se,Ze,null,ve,_e,we,He,!0)}},D=(q,J,se,ve,_e)=>{if(J!==se){if(J!==Lr)for(const we in J)!_1(we)&&!(we in se)&&a(q,we,J[we],null,_e,ve);for(const we in se){if(_1(we))continue;const He=se[we],ze=J[we];He!==ze&&we!=="value"&&a(q,we,ze,He,_e,ve)}"value"in se&&a(q,"value",J.value,se.value,_e)}},F=(q,J,se,ve,_e,we,He,ze,Me)=>{const Se=J.el=q?q.el:o(""),Ze=J.anchor=q?q.anchor:o("");let{patchFlag:$e,dynamicChildren:ct,slotScopeIds:yt}=J;yt&&(ze=ze?ze.concat(yt):yt),q==null?(i(Se,se,ve),i(Ze,se,ve),A(J.children||[],se,Ze,_e,we,He,ze,Me)):$e>0&&$e&64&&ct&&q.dynamicChildren?(T(q.dynamicChildren,ct,se,_e,we,He,ze),(J.key!=null||_e&&J===_e.subTree)&&c7(q,J,!0)):k(q,J,se,Ze,_e,we,He,ze,Me)},B=(q,J,se,ve,_e,we,He,ze,Me)=>{J.slotScopeIds=ze,q==null?J.shapeFlag&512?_e.ctx.activate(J,se,ve,He,Me):O(J,se,ve,_e,we,He,Me):M(q,J,Me)},O=(q,J,se,ve,_e,we,He)=>{const ze=q.component=ice(q,ve,_e);if(Z4(q)&&(ze.ctx.renderer=xe),nce(ze,!1,He),ze.asyncDep){if(_e&&_e.registerDep(ze,R,He),!q.el){const Me=ze.subTree=Ae(Tn);m(null,Me,J,se)}}else R(ze,q,J,se,_e,we,He)},M=(q,J,se)=>{const ve=J.component=q.component;if(Yle(q,J,se))if(ve.asyncDep&&!ve.asyncResolved){z(ve,J,se);return}else ve.next=J,ve.update();else J.el=q.el,ve.vnode=J},R=(q,J,se,ve,_e,we,He)=>{const ze=()=>{if(q.isMounted){let{next:$e,bu:ct,u:yt,parent:Bt,vnode:Vt}=q;{const Ot=GW(q);if(Ot){$e&&($e.el=Vt.el,z(q,$e,He)),Ot.asyncDep.then(()=>{q.isUnmounted||ze()});return}}let tr=$e,ci;u0(q,!1),$e?($e.el=Vt.el,z(q,$e,He)):$e=Vt,ct&&XC(ct),(ci=$e.props&&$e.props.onVnodeBeforeUpdate)&&wo(ci,Bt,$e,Vt),u0(q,!0);const Kr=gM(q),$r=q.subTree;q.subTree=Kr,g($r,Kr,h($r.el),he($r),q,_e,we),$e.el=Kr.el,tr===null&&qle(q,Kr.el),yt&&Zn(yt,_e),(ci=$e.props&&$e.props.onVnodeUpdated)&&Zn(()=>wo(ci,Bt,$e,Vt),_e)}else{let $e;const{el:ct,props:yt}=J,{bm:Bt,m:Vt,parent:tr,root:ci,type:Kr}=q,$r=jd(J);u0(q,!1),Bt&&XC(Bt),!$r&&($e=yt&&yt.onVnodeBeforeMount)&&wo($e,tr,J),u0(q,!0);{ci.ce&&ci.ce._injectChildStyle(Kr);const Ot=q.subTree=gM(q);g(null,Ot,se,ve,q,_e,we),J.el=Ot.el}if(Vt&&Zn(Vt,_e),!$r&&($e=yt&&yt.onVnodeMounted)){const Ot=J;Zn(()=>wo($e,tr,Ot),_e)}(J.shapeFlag&256||tr&&jd(tr.vnode)&&tr.vnode.shapeFlag&256)&&q.a&&Zn(q.a,_e),q.isMounted=!0,J=se=ve=null}};q.scope.on();const Me=q.effect=new G$(ze);q.scope.off();const Se=q.update=Me.run.bind(Me),Ze=q.job=Me.runIfDirty.bind(Me);Ze.i=q,Ze.id=q.uid,Me.scheduler=()=>n7(Ze),u0(q,!0),Se()},z=(q,J,se)=>{J.component=q;const ve=q.vnode.props;q.vnode=J,q.next=null,Ble(q,J.props,ve,se),Ole(q,J.children,se),ul(),iM(q),ll()},k=(q,J,se,ve,_e,we,He,ze,Me=!1)=>{const Se=q&&q.children,Ze=q?q.shapeFlag:0,$e=J.children,{patchFlag:ct,shapeFlag:yt}=J;if(ct>0){if(ct&128){V(Se,$e,se,ve,_e,we,He,ze,Me);return}else if(ct&256){U(Se,$e,se,ve,_e,we,He,ze,Me);return}}yt&8?(Ze&16&&Oe(Se,_e,we),$e!==Se&&c(se,$e)):Ze&16?yt&16?V(Se,$e,se,ve,_e,we,He,ze,Me):Oe(Se,_e,we,!0):(Ze&8&&c(se,""),yt&16&&A($e,se,ve,_e,we,He,ze,Me))},U=(q,J,se,ve,_e,we,He,ze,Me)=>{q=q||zd,J=J||zd;const Se=q.length,Ze=J.length,$e=Math.min(Se,Ze);let ct;for(ct=0;ct<$e;ct++){const yt=J[ct]=Me?sc(J[ct]):$o(J[ct]);g(q[ct],yt,se,null,_e,we,He,ze,Me)}Se>Ze?Oe(q,_e,we,!0,!1,$e):A(J,se,ve,_e,we,He,ze,Me,$e)},V=(q,J,se,ve,_e,we,He,ze,Me)=>{let Se=0;const Ze=J.length;let $e=q.length-1,ct=Ze-1;for(;Se<=$e&&Se<=ct;){const yt=q[Se],Bt=J[Se]=Me?sc(J[Se]):$o(J[Se]);if(Q0(yt,Bt))g(yt,Bt,se,null,_e,we,He,ze,Me);else break;Se++}for(;Se<=$e&&Se<=ct;){const yt=q[$e],Bt=J[ct]=Me?sc(J[ct]):$o(J[ct]);if(Q0(yt,Bt))g(yt,Bt,se,null,_e,we,He,ze,Me);else break;$e--,ct--}if(Se>$e){if(Se<=ct){const yt=ct+1,Bt=yt<Ze?J[yt].el:ve;for(;Se<=ct;)g(null,J[Se]=Me?sc(J[Se]):$o(J[Se]),se,Bt,_e,we,He,ze,Me),Se++}}else if(Se>ct)for(;Se<=$e;)Y(q[Se],_e,we,!0),Se++;else{const yt=Se,Bt=Se,Vt=new Map;for(Se=Bt;Se<=ct;Se++){const xi=J[Se]=Me?sc(J[Se]):$o(J[Se]);xi.key!=null&&Vt.set(xi.key,Se)}let tr,ci=0;const Kr=ct-Bt+1;let $r=!1,Ot=0;const as=new Array(Kr);for(Se=0;Se<Kr;Se++)as[Se]=0;for(Se=yt;Se<=$e;Se++){const xi=q[Se];if(ci>=Kr){Y(xi,_e,we,!0);continue}let tn;if(xi.key!=null)tn=Vt.get(xi.key);else for(tr=Bt;tr<=ct;tr++)if(as[tr-Bt]===0&&Q0(xi,J[tr])){tn=tr;break}tn===void 0?Y(xi,_e,we,!0):(as[tn-Bt]=Se+1,tn>=Ot?Ot=tn:$r=!0,g(xi,J[tn],se,null,_e,we,He,ze,Me),ci++)}const Ha=$r?zle(as):zd;for(tr=Ha.length-1,Se=Kr-1;Se>=0;Se--){const xi=Bt+Se,tn=J[xi],Ga=xi+1<Ze?J[xi+1].el:ve;as[Se]===0?g(null,tn,se,Ga,_e,we,He,ze,Me):$r&&(tr<0||Se!==Ha[tr]?j(tn,se,Ga,2):tr--)}}},j=(q,J,se,ve,_e=null)=>{const{el:we,type:He,transition:ze,children:Me,shapeFlag:Se}=q;if(Se&6){j(q.component.subTree,J,se,ve);return}if(Se&128){q.suspense.move(J,se,ve);return}if(Se&64){He.move(q,J,se,xe);return}if(He===Si){i(we,J,se);for(let $e=0;$e<Me.length;$e++)j(Me[$e],J,se,ve);i(q.anchor,J,se);return}if(He===xx){_(q,J,se);return}if(ve!==2&&Se&1&&ze)if(ve===0)ze.beforeEnter(we),i(we,J,se),Zn(()=>ze.enter(we),_e);else{const{leave:$e,delayLeave:ct,afterLeave:yt}=ze,Bt=()=>{q.ctx.isUnmounted?n(we):i(we,J,se)},Vt=()=>{$e(we,()=>{Bt(),yt&&yt()})};ct?ct(we,Bt,Vt):Vt()}else i(we,J,se)},Y=(q,J,se,ve=!1,_e=!1)=>{const{type:we,props:He,ref:ze,children:Me,dynamicChildren:Se,shapeFlag:Ze,patchFlag:$e,dirs:ct,cacheIndex:yt}=q;if($e===-2&&(_e=!1),ze!=null&&(ul(),Z5(ze,null,se,q,!0),ll()),yt!=null&&(J.renderCache[yt]=void 0),Ze&256){J.ctx.deactivate(q);return}const Bt=Ze&1&&ct,Vt=!jd(q);let tr;if(Vt&&(tr=He&&He.onVnodeBeforeUnmount)&&wo(tr,J,q),Ze&6)de(q.component,se,ve);else{if(Ze&128){q.suspense.unmount(se,ve);return}Bt&&o0(q,null,J,"beforeUnmount"),Ze&64?q.type.remove(q,J,se,xe,ve):Se&&!Se.hasOnce&&(we!==Si||$e>0&&$e&64)?Oe(Se,J,se,!1,!0):(we===Si&&$e&384||!_e&&Ze&16)&&Oe(Me,J,se),ve&&te(q)}(Vt&&(tr=He&&He.onVnodeUnmounted)||Bt)&&Zn(()=>{tr&&wo(tr,J,q),Bt&&o0(q,null,J,"unmounted")},se)},te=q=>{const{type:J,el:se,anchor:ve,transition:_e}=q;if(J===Si){re(se,ve);return}if(J===xx){x(q);return}const we=()=>{n(se),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(q.shapeFlag&1&&_e&&!_e.persisted){const{leave:He,delayLeave:ze}=_e,Me=()=>He(se,we);ze?ze(q.el,we,Me):Me()}else we()},re=(q,J)=>{let se;for(;q!==J;)se=f(q),n(q),q=se;n(J)},de=(q,J,se)=>{const{bum:ve,scope:_e,job:we,subTree:He,um:ze,m:Me,a:Se,parent:Ze,slots:{__:$e}}=q;pM(Me),pM(Se),ve&&XC(ve),Ze&&Mt($e)&&$e.forEach(ct=>{Ze.renderCache[ct]=void 0}),_e.stop(),we&&(we.flags|=8,Y(He,q,J,se)),ze&&Zn(ze,J),Zn(()=>{q.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},Oe=(q,J,se,ve=!1,_e=!1,we=0)=>{for(let He=we;He<q.length;He++)Y(q[He],J,se,ve,_e)},he=q=>{if(q.shapeFlag&6)return he(q.component.subTree);if(q.shapeFlag&128)return q.suspense.next();const J=f(q.anchor||q.el),se=J&&J[fW];return se?f(se):J};let le=!1;const pe=(q,J,se)=>{q==null?J._vnode&&Y(J._vnode,null,null,!0):g(J._vnode||null,q,J,null,null,null,se),J._vnode=q,le||(le=!0,iM(),uW(),le=!1)},xe={p:g,um:Y,m:j,r:te,mt:O,mc:A,pc:k,pbc:T,n:he,o:t};return{render:pe,hydrate:void 0,createApp:Fle(pe)}}function rE({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function u0({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function kle(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function c7(t,e,r=!1){const i=t.children,n=e.children;if(Mt(i)&&Mt(n))for(let a=0;a<i.length;a++){const s=i[a];let o=n[a];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=n[a]=sc(n[a]),o.el=s.el),!r&&o.patchFlag!==-2&&c7(s,o)),o.type===gm&&(o.el=s.el),o.type===Tn&&!o.el&&(o.el=s.el)}}function zle(t){const e=t.slice(),r=[0];let i,n,a,s,o;const u=t.length;for(i=0;i<u;i++){const l=t[i];if(l!==0){if(n=r[r.length-1],t[n]<l){e[i]=n,r.push(i);continue}for(a=0,s=r.length-1;a<s;)o=a+s>>1,t[r[o]]<l?a=o+1:s=o;l<t[r[a]]&&(a>0&&(e[i]=r[a-1]),r[a]=i)}}for(a=r.length,s=r[a-1];a-- >0;)r[a]=s,s=e[s];return r}function GW(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:GW(e)}function pM(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Hle=Symbol.for("v-scx"),Gle=()=>Fi(Hle);function Kp(t,e){return h7(t,null,e)}function oi(t,e,r){return h7(t,e,r)}function h7(t,e,r=Lr){const{immediate:i,deep:n,flush:a,once:s}=r,o=Zi({},r),u=e&&i||!e&&a!=="post";let l;if(c2){if(a==="sync"){const d=Gle();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!u){const d=()=>{};return d.stop=au,d.resume=au,d.pause=au,d}}const c=An;o.call=(d,p,g)=>mo(d,c,p,g);let h=!1;a==="post"?o.scheduler=d=>{Zn(d,c&&c.suspense)}:a!=="sync"&&(h=!0,o.scheduler=(d,p)=>{p?d():n7(d)}),o.augmentJob=d=>{e&&(d.flags|=4),h&&(d.flags|=2,c&&(d.id=c.uid,d.i=c))};const f=ole(t,e,o);return c2&&(l?l.push(f):u&&f()),f}function Ule(t,e,r){const i=this.proxy,n=ui(t)?t.includes(".")?UW(i,t):()=>i[t]:t.bind(i,i);let a;Nt(e)?a=e:(a=e.handler,r=e);const s=vm(this),o=h7(n,a.bind(i),r);return s(),o}function UW(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}const jle=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Rs(e)}Modifiers`]||t[`${ff(e)}Modifiers`];function Vle(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||Lr;let n=r;const a=e.startsWith("update:"),s=a&&jle(i,e.slice(7));s&&(s.trim&&(n=r.map(c=>ui(c)?c.trim():c)),s.number&&(n=r.map(bue)));let o,u=i[o=qC(e)]||i[o=qC(Rs(e))];!u&&a&&(u=i[o=qC(ff(e))]),u&&mo(u,t,6,n);const l=i[o+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[o])return;t.emitted[o]=!0,mo(l,t,6,n)}}function jW(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const a=t.emits;let s={},o=!1;if(!Nt(t)){const u=l=>{const c=jW(l,e,!0);c&&(o=!0,Zi(s,c))};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!a&&!o?(Vr(t)&&i.set(t,null),null):(Mt(a)?a.forEach(u=>s[u]=null):Zi(s,a),Vr(t)&&i.set(t,s),s)}function J4(t,e){return!t||!j4(e)?!1:(e=e.slice(2).replace(/Once$/,""),Sr(t,e[0].toLowerCase()+e.slice(1))||Sr(t,ff(e))||Sr(t,e))}function gM(t){const{type:e,vnode:r,proxy:i,withProxy:n,propsOptions:[a],slots:s,attrs:o,emit:u,render:l,renderCache:c,props:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=t,v=X5(t);let m,y;try{if(r.shapeFlag&4){const x=n||i,b=x;m=$o(l.call(b,x,c,h,d,f,p)),y=o}else{const x=e;m=$o(x.length>1?x(h,{attrs:o,slots:s,emit:u}):x(h,null)),y=e.props?o:$le(o)}}catch(x){S1.length=0,X4(x,t,1),m=Ae(Tn)}let _=m;if(y&&g!==!1){const x=Object.keys(y),{shapeFlag:b}=_;x.length&&b&7&&(a&&x.some(WD)&&(y=Wle(y,a)),_=hl(_,y,!1,!0))}return r.dirs&&(_=hl(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(r.dirs):r.dirs),r.transition&&Vh(_,r.transition),m=_,X5(v),m}const $le=t=>{let e;for(const r in t)(r==="class"||r==="style"||j4(r))&&((e||(e={}))[r]=t[r]);return e},Wle=(t,e)=>{const r={};for(const i in t)(!WD(i)||!(i.slice(9)in e))&&(r[i]=t[i]);return r};function Yle(t,e,r){const{props:i,children:n,component:a}=t,{props:s,children:o,patchFlag:u}=e,l=a.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&u>=0){if(u&1024)return!0;if(u&16)return i?vM(i,s,l):!!s;if(u&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(s[f]!==i[f]&&!J4(l,f))return!0}}}else return(n||o)&&(!o||!o.$stable)?!0:i===s?!1:i?s?vM(i,s,l):!0:!!s;return!1}function vM(t,e,r){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const a=i[n];if(e[a]!==t[a]&&!J4(r,a))return!0}return!1}function qle({vnode:t,parent:e},r){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=r,e=e.parent;else break}}const VW=t=>t.__isSuspense;function Xle(t,e){e&&e.pendingBranch?Mt(t)?e.effects.push(...t):e.effects.push(t):cle(t)}const Si=Symbol.for("v-fgt"),gm=Symbol.for("v-txt"),Tn=Symbol.for("v-cmt"),xx=Symbol.for("v-stc"),S1=[];let Ja=null;function AA(t=!1){S1.push(Ja=t?null:[])}function Zle(){S1.pop(),Ja=S1[S1.length-1]||null}let l2=1;function mM(t,e=!1){l2+=t,t<0&&Ja&&e&&(Ja.hasOnce=!0)}function $W(t){return t.dynamicChildren=l2>0?Ja||zd:null,Zle(),l2>0&&Ja&&Ja.push(t),t}function bYe(t,e,r,i,n,a){return $W(YW(t,e,r,i,n,a,!0))}function wA(t,e,r,i,n){return $W(Ae(t,e,r,i,n,!0))}function pu(t){return t?t.__v_isVNode===!0:!1}function Q0(t,e){return t.type===e.type&&t.key===e.key}const WW=({key:t})=>t??null,bx=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?ui(t)||gn(t)||Nt(t)?{i:fn,r:t,k:e,f:!!r}:t:null);function YW(t,e=null,r=null,i=0,n=null,a=t===Si?0:1,s=!1,o=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&WW(e),ref:e&&bx(e),scopeId:cW,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:fn};return o?(f7(u,r),a&128&&t.normalize(u)):r&&(u.shapeFlag|=ui(r)?8:16),l2>0&&!s&&Ja&&(u.patchFlag>0||a&6)&&u.patchFlag!==32&&Ja.push(u),u}const Ae=Kle;function Kle(t,e=null,r=null,i=0,n=null,a=!1){if((!t||t===DW)&&(t=Tn),pu(t)){const o=hl(t,e,!0);return r&&f7(o,r),l2>0&&!a&&Ja&&(o.shapeFlag&6?Ja[Ja.indexOf(t)]=o:Ja.push(o)),o.patchFlag=-2,o}if(lce(t)&&(t=t.__vccOpts),e){e=Jle(e);let{class:o,style:u}=e;o&&!ui(o)&&(e.class=ZD(o)),Vr(u)&&(i7(u)&&!Mt(u)&&(u=Zi({},u)),e.style=XD(u))}const s=ui(t)?1:VW(t)?128:dW(t)?64:Vr(t)?4:Nt(t)?2:0;return YW(t,e,r,i,n,s,a,!0)}function Jle(t){return t?i7(t)||OW(t)?Zi({},t):t:null}function hl(t,e,r=!1,i=!1){const{props:n,ref:a,patchFlag:s,children:o,transition:u}=t,l=e?ece(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&WW(l),ref:e&&e.ref?r&&a?Mt(a)?a.concat(bx(e)):[a,bx(e)]:bx(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Si?s===-1?16:s|16:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:u,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hl(t.ssContent),ssFallback:t.ssFallback&&hl(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return u&&i&&Vh(c,u.clone(c)),c}function Qle(t=" ",e=0){return Ae(gm,null,t,e)}function CYe(t,e){const r=Ae(xx,null,t);return r.staticCount=e,r}function EYe(t="",e=!1){return e?(AA(),wA(Tn,null,t)):Ae(Tn,null,t)}function $o(t){return t==null||typeof t=="boolean"?Ae(Tn):Mt(t)?Ae(Si,null,t.slice()):pu(t)?sc(t):Ae(gm,null,String(t))}function sc(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:hl(t)}function f7(t,e){let r=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Mt(e))r=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),f7(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!OW(e)?e._ctx=fn:n===3&&fn&&(fn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Nt(e)?(e={default:e,_ctx:fn},r=32):(e=String(e),i&64?(r=16,e=[Qle(e)]):r=8);t.children=e,t.shapeFlag|=r}function ece(...t){const e={};for(let r=0;r<t.length;r++){const i=t[r];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=ZD([e.class,i.class]));else if(n==="style")e.style=XD([e.style,i.style]);else if(j4(n)){const a=e[n],s=i[n];s&&a!==s&&!(Mt(a)&&a.includes(s))&&(e[n]=a?[].concat(a,s):s)}else n!==""&&(e[n]=i[n])}return e}function wo(t,e,r,i=null){mo(t,e,7,[r,i])}const tce=MW();let rce=0;function ice(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||tce,a={uid:rce++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new H$(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:NW(i,n),emitsOptions:jW(i,n),emit:null,emitted:null,propsDefaults:Lr,inheritAttrs:i.inheritAttrs,ctx:Lr,data:Lr,props:Lr,attrs:Lr,slots:Lr,refs:Lr,setupState:Lr,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=Vle.bind(null,a),t.ce&&t.ce(a),a}let An=null;const Q4=()=>An||fn;let J5,DA;{const t=Y4(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),a=>{n.length>1?n.forEach(s=>s(a)):n[0](a)}};J5=e("__VUE_INSTANCE_SETTERS__",r=>An=r),DA=e("__VUE_SSR_SETTERS__",r=>c2=r)}const vm=t=>{const e=An;return J5(t),t.scope.on(),()=>{t.scope.off(),J5(e)}},yM=()=>{An&&An.scope.off(),J5(null)};function qW(t){return t.vnode.shapeFlag&4}let c2=!1;function nce(t,e=!1,r=!1){e&&DA(e);const{props:i,children:n}=t.vnode,a=qW(t);Ile(t,i,a,e),Lle(t,n,r||e);const s=a?ace(t,e):void 0;return e&&DA(!1),s}function ace(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Cle);const{setup:i}=r;if(i){ul();const n=t.setupContext=i.length>1?oce(t):null,a=vm(t),s=dm(i,t,0,[t.props,n]),o=P$(s);if(ll(),a(),(o||t.sp)&&!jd(t)&&CW(t),o){if(s.then(yM,yM),e)return s.then(u=>{_M(t,u)}).catch(u=>{X4(u,t,0)});t.asyncDep=s}else _M(t,s)}else XW(t)}function _M(t,e,r){Nt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Vr(e)&&(t.setupState=aW(e)),XW(t)}function XW(t,e,r){const i=t.type;t.render||(t.render=i.render||au);{const n=vm(t);ul();try{Ele(t)}finally{ll(),n()}}}const sce={get(t,e){return Nn(t,"get",""),t[e]}};function oce(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,sce),slots:t.slots,emit:t.emit,expose:e}}function eb(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(aW(iW(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in E1)return E1[r](t)},has(e,r){return r in e||r in E1}})):t.proxy}function uce(t,e=!0){return Nt(t)?t.displayName||t.name:t.name||e&&t.__name}function lce(t){return Nt(t)&&"__vccOpts"in t}const Ge=(t,e)=>ale(t,e,c2);function Ti(t,e,r){const i=arguments.length;return i===2?Vr(e)&&!Mt(e)?pu(e)?Ae(t,null,[e]):Ae(t,e):Ae(t,null,e):(i>3?r=Array.prototype.slice.call(arguments,2):i===3&&pu(r)&&(r=[r]),Ae(t,e,r))}const cce="3.5.15";/**
* @vue/runtime-dom v3.5.15
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let FA;const xM=typeof window<"u"&&window.trustedTypes;if(xM)try{FA=xM.createPolicy("vue",{createHTML:t=>t})}catch{}const ZW=FA?t=>FA.createHTML(t):t=>t,hce="http://www.w3.org/2000/svg",fce="http://www.w3.org/1998/Math/MathML",ju=typeof document<"u"?document:null,bM=ju&&ju.createElement("template"),dce={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,i)=>{const n=e==="svg"?ju.createElementNS(hce,t):e==="mathml"?ju.createElementNS(fce,t):r?ju.createElement(t,{is:r}):ju.createElement(t);return t==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:t=>ju.createTextNode(t),createComment:t=>ju.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ju.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,i,n,a){const s=r?r.previousSibling:e.lastChild;if(n&&(n===a||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===a||!(n=n.nextSibling)););else{bM.innerHTML=ZW(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const o=bM.content;if(i==="svg"||i==="mathml"){const u=o.firstChild;for(;u.firstChild;)o.appendChild(u.firstChild);o.removeChild(u)}e.insertBefore(o,r)}return[s?s.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Rl="transition",ev="animation",hp=Symbol("_vtc"),KW={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},JW=Zi({},yW,KW),pce=t=>(t.displayName="Transition",t.props=JW,t),d7=pce((t,{slots:e})=>Ti(ple,QW(t),e)),l0=(t,e=[])=>{Mt(t)?t.forEach(r=>r(...e)):t&&t(...e)},CM=t=>t?Mt(t)?t.some(e=>e.length>1):t.length>1:!1;function QW(t){const e={};for(const F in t)F in KW||(e[F]=t[F]);if(t.css===!1)return e;const{name:r="v",type:i,duration:n,enterFromClass:a=`${r}-enter-from`,enterActiveClass:s=`${r}-enter-active`,enterToClass:o=`${r}-enter-to`,appearFromClass:u=a,appearActiveClass:l=s,appearToClass:c=o,leaveFromClass:h=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=t,p=gce(n),g=p&&p[0],v=p&&p[1],{onBeforeEnter:m,onEnter:y,onEnterCancelled:_,onLeave:x,onLeaveCancelled:b,onBeforeAppear:C=m,onAppear:E=y,onAppearCancelled:A=_}=e,S=(F,B,O,M)=>{F._enterCancelled=M,tc(F,B?c:o),tc(F,B?l:s),O&&O()},T=(F,B)=>{F._isLeaving=!1,tc(F,h),tc(F,d),tc(F,f),B&&B()},D=F=>(B,O)=>{const M=F?E:y,R=()=>S(B,F,O);l0(M,[B,R]),EM(()=>{tc(B,F?u:a),Lo(B,F?c:o),CM(M)||SM(B,i,g,R)})};return Zi(e,{onBeforeEnter(F){l0(m,[F]),Lo(F,a),Lo(F,s)},onBeforeAppear(F){l0(C,[F]),Lo(F,u),Lo(F,l)},onEnter:D(!1),onAppear:D(!0),onLeave(F,B){F._isLeaving=!0;const O=()=>T(F,B);Lo(F,h),F._enterCancelled?(Lo(F,f),IA()):(IA(),Lo(F,f)),EM(()=>{F._isLeaving&&(tc(F,h),Lo(F,d),CM(x)||SM(F,i,v,O))}),l0(x,[F,O])},onEnterCancelled(F){S(F,!1,void 0,!0),l0(_,[F])},onAppearCancelled(F){S(F,!0,void 0,!0),l0(A,[F])},onLeaveCancelled(F){T(F),l0(b,[F])}})}function gce(t){if(t==null)return null;if(Vr(t))return[iE(t.enter),iE(t.leave)];{const e=iE(t);return[e,e]}}function iE(t){return Cue(t)}function Lo(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[hp]||(t[hp]=new Set)).add(e)}function tc(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const r=t[hp];r&&(r.delete(e),r.size||(t[hp]=void 0))}function EM(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let vce=0;function SM(t,e,r,i){const n=t._endId=++vce,a=()=>{n===t._endId&&i()};if(r!=null)return setTimeout(a,r);const{type:s,timeout:o,propCount:u}=eY(t,e);if(!s)return i();const l=s+"end";let c=0;const h=()=>{t.removeEventListener(l,f),a()},f=d=>{d.target===t&&++c>=u&&h()};setTimeout(()=>{c<u&&h()},o+1),t.addEventListener(l,f)}function eY(t,e){const r=window.getComputedStyle(t),i=p=>(r[p]||"").split(", "),n=i(`${Rl}Delay`),a=i(`${Rl}Duration`),s=TM(n,a),o=i(`${ev}Delay`),u=i(`${ev}Duration`),l=TM(o,u);let c=null,h=0,f=0;e===Rl?s>0&&(c=Rl,h=s,f=a.length):e===ev?l>0&&(c=ev,h=l,f=u.length):(h=Math.max(s,l),c=h>0?s>l?Rl:ev:null,f=c?c===Rl?a.length:u.length:0);const d=c===Rl&&/\b(transform|all)(,|$)/.test(i(`${Rl}Property`).toString());return{type:c,timeout:h,propCount:f,hasTransform:d}}function TM(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,i)=>AM(r)+AM(t[i])))}function AM(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function IA(){return document.body.offsetHeight}function mce(t,e,r){const i=t[hp];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Q5=Symbol("_vod"),tY=Symbol("_vsh"),yce={beforeMount(t,{value:e},{transition:r}){t[Q5]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):tv(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:i}){!e!=!r&&(i?e?(i.beforeEnter(t),tv(t,!0),i.enter(t)):i.leave(t,()=>{tv(t,!1)}):tv(t,e))},beforeUnmount(t,{value:e}){tv(t,e)}};function tv(t,e){t.style.display=e?t[Q5]:"none",t[tY]=!e}const _ce=Symbol(""),xce=/(^|;)\s*display\s*:/;function bce(t,e,r){const i=t.style,n=ui(r);let a=!1;if(r&&!n){if(e)if(ui(e))for(const s of e.split(";")){const o=s.slice(0,s.indexOf(":")).trim();r[o]==null&&Cx(i,o,"")}else for(const s in e)r[s]==null&&Cx(i,s,"");for(const s in r)s==="display"&&(a=!0),Cx(i,s,r[s])}else if(n){if(e!==r){const s=i[_ce];s&&(r+=";"+s),i.cssText=r,a=xce.test(r)}}else e&&t.removeAttribute("style");Q5 in t&&(t[Q5]=a?i.display:"",t[tY]&&(i.display="none"))}const wM=/\s*!important$/;function Cx(t,e,r){if(Mt(r))r.forEach(i=>Cx(t,e,i));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const i=Cce(t,e);wM.test(r)?t.setProperty(ff(i),r.replace(wM,""),"important"):t[i]=r}}const DM=["Webkit","Moz","ms"],nE={};function Cce(t,e){const r=nE[e];if(r)return r;let i=Rs(e);if(i!=="filter"&&i in t)return nE[e]=i;i=W4(i);for(let n=0;n<DM.length;n++){const a=DM[n]+i;if(a in t)return nE[e]=a}return e}const FM="http://www.w3.org/1999/xlink";function IM(t,e,r,i,n,a=Due(e)){i&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(FM,e.slice(6,e.length)):t.setAttributeNS(FM,e,r):r==null||a&&!N$(r)?t.removeAttribute(e):t.setAttribute(e,a?"":El(r)?String(r):r)}function BM(t,e,r,i,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?ZW(r):r);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const o=a==="OPTION"?t.getAttribute("value")||"":t.value,u=r==null?t.type==="checkbox"?"on":"":String(r);(o!==u||!("_value"in t))&&(t.value=u),r==null&&t.removeAttribute(e),t._value=r;return}let s=!1;if(r===""||r==null){const o=typeof t[e];o==="boolean"?r=N$(r):r==null&&o==="string"?(r="",s=!0):o==="number"&&(r=0,s=!0)}try{t[e]=r}catch{}s&&t.removeAttribute(n||e)}function Ece(t,e,r,i){t.addEventListener(e,r,i)}function Sce(t,e,r,i){t.removeEventListener(e,r,i)}const MM=Symbol("_vei");function Tce(t,e,r,i,n=null){const a=t[MM]||(t[MM]={}),s=a[e];if(i&&s)s.value=i;else{const[o,u]=Ace(e);if(i){const l=a[e]=Fce(i,n);Ece(t,o,l,u)}else s&&(Sce(t,o,s,u),a[e]=void 0)}}const PM=/(?:Once|Passive|Capture)$/;function Ace(t){let e;if(PM.test(t)){e={};let i;for(;i=t.match(PM);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ff(t.slice(2)),e]}let aE=0;const wce=Promise.resolve(),Dce=()=>aE||(wce.then(()=>aE=0),aE=Date.now());function Fce(t,e){const r=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=r.attached)return;mo(Ice(i,r.value),e,5,[i])};return r.value=t,r.attached=Dce(),r}function Ice(t,e){if(Mt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const LM=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Bce=(t,e,r,i,n,a)=>{const s=n==="svg";e==="class"?mce(t,i,s):e==="style"?bce(t,r,i):j4(e)?WD(e)||Tce(t,e,r,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Mce(t,e,i,s))?(BM(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&IM(t,e,i,s,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ui(i))?BM(t,Rs(e),i,a,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),IM(t,e,i,s))};function Mce(t,e,r,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&LM(e)&&Nt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return LM(e)&&ui(r)?!1:e in t}const rY=new WeakMap,iY=new WeakMap,e3=Symbol("_moveCb"),OM=Symbol("_enterCb"),Pce=t=>(delete t.props.mode,t),Lce=Pce({name:"TransitionGroup",props:Zi({},JW,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=Q4(),i=mW();let n,a;return df(()=>{if(!n.length)return;const s=t.moveClass||`${t.name||"v"}-move`;if(!kce(n[0].el,r.vnode.el,s)){n=[];return}n.forEach(Oce),n.forEach(Rce);const o=n.filter(Nce);IA(),o.forEach(u=>{const l=u.el,c=l.style;Lo(l,s),c.transform=c.webkitTransform=c.transitionDuration="";const h=l[e3]=f=>{f&&f.target!==l||(!f||/transform$/.test(f.propertyName))&&(l.removeEventListener("transitionend",h),l[e3]=null,tc(l,s))};l.addEventListener("transitionend",h)}),n=[]}),()=>{const s=cr(t),o=QW(s);let u=s.tag||Si;if(n=[],a)for(let l=0;l<a.length;l++){const c=a[l];c.el&&c.el instanceof Element&&(n.push(c),Vh(c,u2(c,o,i,r)),rY.set(c,c.el.getBoundingClientRect()))}a=e.default?a7(e.default()):[];for(let l=0;l<a.length;l++){const c=a[l];c.key!=null&&Vh(c,u2(c,o,i,r))}return Ae(u,null,a)}}}),nY=Lce;function Oce(t){const e=t.el;e[e3]&&e[e3](),e[OM]&&e[OM]()}function Rce(t){iY.set(t,t.el.getBoundingClientRect())}function Nce(t){const e=rY.get(t),r=iY.get(t),i=e.left-r.left,n=e.top-r.top;if(i||n){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${n}px)`,a.transitionDuration="0s",t}}function kce(t,e,r){const i=t.cloneNode(),n=t[hp];n&&n.forEach(o=>{o.split(/\s+/).forEach(u=>u&&i.classList.remove(u))}),r.split(/\s+/).forEach(o=>o&&i.classList.add(o)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:s}=eY(i);return a.removeChild(i),s}const zce=["ctrl","shift","alt","meta"],Hce={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>zce.some(r=>t[`${r}Key`]&&!e.includes(r))},RM=(t,e)=>{const r=t._withMods||(t._withMods={}),i=e.join(".");return r[i]||(r[i]=(n,...a)=>{for(let s=0;s<e.length;s++){const o=Hce[e[s]];if(o&&o(n,e))return}return t(n,...a)})},Gce=Zi({patchProp:Bce},dce);let NM;function aY(){return NM||(NM=Rle(Gce))}const kM=(...t)=>{aY().render(...t)},SYe=(...t)=>{const e=aY().createApp(...t),{mount:r}=e;return e.mount=i=>{const n=jce(i);if(!n)return;const a=e._component;!Nt(a)&&!a.render&&!a.template&&(a.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const s=r(n,!1,Uce(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),s},e};function Uce(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function jce(t){return ui(t)?document.querySelector(t):t}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Vce=Symbol();var zM;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(zM||(zM={}));function TYe(){const t=Iue(!0),e=t.run(()=>fr({}));let r=[],i=[];const n=iW({install(a){n._a=a,a.provide(Vce,n),a.config.globalProperties.$pinia=n,i.forEach(s=>r.push(s)),i=[]},use(a){return this._a?r.push(a):i.push(a),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function $ce(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var Ex={exports:{}},Wce=Ex.exports,HM;function sY(){return HM||(HM=1,function(t,e){(function(r,i){t.exports=i()})(Wce,function(){var r=1e3,i=6e4,n=36e5,a="millisecond",s="second",o="minute",u="hour",l="day",c="week",h="month",f="quarter",d="year",p="date",g="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var M=["th","st","nd","rd"],R=O%100;return"["+O+(M[(R-20)%10]||M[R]||M[0])+"]"}},_=function(O,M,R){var z=String(O);return!z||z.length>=M?O:""+Array(M+1-z.length).join(R)+O},x={s:_,z:function(O){var M=-O.utcOffset(),R=Math.abs(M),z=Math.floor(R/60),k=R%60;return(M<=0?"+":"-")+_(z,2,"0")+":"+_(k,2,"0")},m:function O(M,R){if(M.date()<R.date())return-O(R,M);var z=12*(R.year()-M.year())+(R.month()-M.month()),k=M.clone().add(z,h),U=R-k<0,V=M.clone().add(z+(U?-1:1),h);return+(-(z+(R-k)/(U?k-V:V-k))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:h,y:d,w:c,d:l,D:p,h:u,m:o,s,ms:a,Q:f}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},b="en",C={};C[b]=y;var E="$isDayjsObject",A=function(O){return O instanceof F||!(!O||!O[E])},S=function O(M,R,z){var k;if(!M)return b;if(typeof M=="string"){var U=M.toLowerCase();C[U]&&(k=U),R&&(C[U]=R,k=U);var V=M.split("-");if(!k&&V.length>1)return O(V[0])}else{var j=M.name;C[j]=M,k=j}return!z&&k&&(b=k),k||!z&&b},T=function(O,M){if(A(O))return O.clone();var R=typeof M=="object"?M:{};return R.date=O,R.args=arguments,new F(R)},D=x;D.l=S,D.i=A,D.w=function(O,M){return T(O,{locale:M.$L,utc:M.$u,x:M.$x,$offset:M.$offset})};var F=function(){function O(R){this.$L=S(R.locale,null,!0),this.parse(R),this.$x=this.$x||R.x||{},this[E]=!0}var M=O.prototype;return M.parse=function(R){this.$d=function(z){var k=z.date,U=z.utc;if(k===null)return new Date(NaN);if(D.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var V=k.match(v);if(V){var j=V[2]-1||0,Y=(V[7]||"0").substring(0,3);return U?new Date(Date.UTC(V[1],j,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Y)):new Date(V[1],j,V[3]||1,V[4]||0,V[5]||0,V[6]||0,Y)}}return new Date(k)}(R),this.init()},M.init=function(){var R=this.$d;this.$y=R.getFullYear(),this.$M=R.getMonth(),this.$D=R.getDate(),this.$W=R.getDay(),this.$H=R.getHours(),this.$m=R.getMinutes(),this.$s=R.getSeconds(),this.$ms=R.getMilliseconds()},M.$utils=function(){return D},M.isValid=function(){return this.$d.toString()!==g},M.isSame=function(R,z){var k=T(R);return this.startOf(z)<=k&&k<=this.endOf(z)},M.isAfter=function(R,z){return T(R)<this.startOf(z)},M.isBefore=function(R,z){return this.endOf(z)<T(R)},M.$g=function(R,z,k){return D.u(R)?this[z]:this.set(k,R)},M.unix=function(){return Math.floor(this.valueOf()/1e3)},M.valueOf=function(){return this.$d.getTime()},M.startOf=function(R,z){var k=this,U=!!D.u(z)||z,V=D.p(R),j=function(pe,xe){var be=D.w(k.$u?Date.UTC(k.$y,xe,pe):new Date(k.$y,xe,pe),k);return U?be:be.endOf(l)},Y=function(pe,xe){return D.w(k.toDate()[pe].apply(k.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(xe)),k)},te=this.$W,re=this.$M,de=this.$D,Oe="set"+(this.$u?"UTC":"");switch(V){case d:return U?j(1,0):j(31,11);case h:return U?j(1,re):j(0,re+1);case c:var he=this.$locale().weekStart||0,le=(te<he?te+7:te)-he;return j(U?de-le:de+(6-le),re);case l:case p:return Y(Oe+"Hours",0);case u:return Y(Oe+"Minutes",1);case o:return Y(Oe+"Seconds",2);case s:return Y(Oe+"Milliseconds",3);default:return this.clone()}},M.endOf=function(R){return this.startOf(R,!1)},M.$set=function(R,z){var k,U=D.p(R),V="set"+(this.$u?"UTC":""),j=(k={},k[l]=V+"Date",k[p]=V+"Date",k[h]=V+"Month",k[d]=V+"FullYear",k[u]=V+"Hours",k[o]=V+"Minutes",k[s]=V+"Seconds",k[a]=V+"Milliseconds",k)[U],Y=U===l?this.$D+(z-this.$W):z;if(U===h||U===d){var te=this.clone().set(p,1);te.$d[j](Y),te.init(),this.$d=te.set(p,Math.min(this.$D,te.daysInMonth())).$d}else j&&this.$d[j](Y);return this.init(),this},M.set=function(R,z){return this.clone().$set(R,z)},M.get=function(R){return this[D.p(R)]()},M.add=function(R,z){var k,U=this;R=Number(R);var V=D.p(z),j=function(re){var de=T(U);return D.w(de.date(de.date()+Math.round(re*R)),U)};if(V===h)return this.set(h,this.$M+R);if(V===d)return this.set(d,this.$y+R);if(V===l)return j(1);if(V===c)return j(7);var Y=(k={},k[o]=i,k[u]=n,k[s]=r,k)[V]||1,te=this.$d.getTime()+R*Y;return D.w(te,this)},M.subtract=function(R,z){return this.add(-1*R,z)},M.format=function(R){var z=this,k=this.$locale();if(!this.isValid())return k.invalidDate||g;var U=R||"YYYY-MM-DDTHH:mm:ssZ",V=D.z(this),j=this.$H,Y=this.$m,te=this.$M,re=k.weekdays,de=k.months,Oe=k.meridiem,he=function(xe,be,q,J){return xe&&(xe[be]||xe(z,U))||q[be].slice(0,J)},le=function(xe){return D.s(j%12||12,xe,"0")},pe=Oe||function(xe,be,q){var J=xe<12?"AM":"PM";return q?J.toLowerCase():J};return U.replace(m,function(xe,be){return be||function(q){switch(q){case"YY":return String(z.$y).slice(-2);case"YYYY":return D.s(z.$y,4,"0");case"M":return te+1;case"MM":return D.s(te+1,2,"0");case"MMM":return he(k.monthsShort,te,de,3);case"MMMM":return he(de,te);case"D":return z.$D;case"DD":return D.s(z.$D,2,"0");case"d":return String(z.$W);case"dd":return he(k.weekdaysMin,z.$W,re,2);case"ddd":return he(k.weekdaysShort,z.$W,re,3);case"dddd":return re[z.$W];case"H":return String(j);case"HH":return D.s(j,2,"0");case"h":return le(1);case"hh":return le(2);case"a":return pe(j,Y,!0);case"A":return pe(j,Y,!1);case"m":return String(Y);case"mm":return D.s(Y,2,"0");case"s":return String(z.$s);case"ss":return D.s(z.$s,2,"0");case"SSS":return D.s(z.$ms,3,"0");case"Z":return V}return null}(xe)||V.replace(":","")})},M.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},M.diff=function(R,z,k){var U,V=this,j=D.p(z),Y=T(R),te=(Y.utcOffset()-this.utcOffset())*i,re=this-Y,de=function(){return D.m(V,Y)};switch(j){case d:U=de()/12;break;case h:U=de();break;case f:U=de()/3;break;case c:U=(re-te)/6048e5;break;case l:U=(re-te)/864e5;break;case u:U=re/n;break;case o:U=re/i;break;case s:U=re/r;break;default:U=re}return k?U:D.a(U)},M.daysInMonth=function(){return this.endOf(h).$D},M.$locale=function(){return C[this.$L]},M.locale=function(R,z){if(!R)return this.$L;var k=this.clone(),U=S(R,z,!0);return U&&(k.$L=U),k},M.clone=function(){return D.w(this.$d,this)},M.toDate=function(){return new Date(this.valueOf())},M.toJSON=function(){return this.isValid()?this.toISOString():null},M.toISOString=function(){return this.$d.toISOString()},M.toString=function(){return this.$d.toUTCString()},O}(),B=F.prototype;return T.prototype=B,[["$ms",a],["$s",s],["$m",o],["$H",u],["$W",l],["$M",h],["$y",d],["$D",p]].forEach(function(O){B[O[1]]=function(M){return this.$g(M,O[0],O[1])}}),T.extend=function(O,M){return O.$i||(O(M,F,T),O.$i=!0),T},T.locale=S,T.isDayjs=A,T.unix=function(O){return T(1e3*O)},T.en=C[b],T.Ls=C,T.p={},T})}(Ex)),Ex.exports}var Yce=sY();const AYe=gf(Yce);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const _d=typeof document<"u";function oY(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function qce(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&oY(t.default)}const Er=Object.assign;function sE(t,e){const r={};for(const i in e){const n=e[i];r[i]=yo(n)?n.map(t):t(n)}return r}const T1=()=>{},yo=Array.isArray,uY=/#/g,Xce=/&/g,Zce=/\//g,Kce=/=/g,Jce=/\?/g,lY=/\+/g,Qce=/%5B/g,e0e=/%5D/g,cY=/%5E/g,t0e=/%60/g,hY=/%7B/g,r0e=/%7C/g,fY=/%7D/g,i0e=/%20/g;function p7(t){return encodeURI(""+t).replace(r0e,"|").replace(Qce,"[").replace(e0e,"]")}function n0e(t){return p7(t).replace(hY,"{").replace(fY,"}").replace(cY,"^")}function BA(t){return p7(t).replace(lY,"%2B").replace(i0e,"+").replace(uY,"%23").replace(Xce,"%26").replace(t0e,"`").replace(hY,"{").replace(fY,"}").replace(cY,"^")}function a0e(t){return BA(t).replace(Kce,"%3D")}function s0e(t){return p7(t).replace(uY,"%23").replace(Jce,"%3F")}function o0e(t){return t==null?"":s0e(t).replace(Zce,"%2F")}function h2(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const u0e=/\/$/,l0e=t=>t.replace(u0e,"");function oE(t,e,r="/"){let i,n={},a="",s="";const o=e.indexOf("#");let u=e.indexOf("?");return o<u&&o>=0&&(u=-1),u>-1&&(i=e.slice(0,u),a=e.slice(u+1,o>-1?o:e.length),n=t(a)),o>-1&&(i=i||e.slice(0,o),s=e.slice(o,e.length)),i=d0e(i??e,r),{fullPath:i+(a&&"?")+a+s,path:i,query:n,hash:h2(s)}}function c0e(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function GM(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function h0e(t,e,r){const i=e.matched.length-1,n=r.matched.length-1;return i>-1&&i===n&&fp(e.matched[i],r.matched[n])&&dY(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function fp(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function dY(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!f0e(t[r],e[r]))return!1;return!0}function f0e(t,e){return yo(t)?UM(t,e):yo(e)?UM(e,t):t===e}function UM(t,e){return yo(e)?t.length===e.length&&t.every((r,i)=>r===e[i]):t.length===1&&t[0]===e}function d0e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),i=t.split("/"),n=i[i.length-1];(n===".."||n===".")&&i.push("");let a=r.length-1,s,o;for(s=0;s<i.length;s++)if(o=i[s],o!==".")if(o==="..")a>1&&a--;else break;return r.slice(0,a).join("/")+"/"+i.slice(s).join("/")}const Nl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var f2;(function(t){t.pop="pop",t.push="push"})(f2||(f2={}));var A1;(function(t){t.back="back",t.forward="forward",t.unknown=""})(A1||(A1={}));function p0e(t){if(!t)if(_d){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),l0e(t)}const g0e=/^[^#]+#/;function v0e(t,e){return t.replace(g0e,"#")+e}function m0e(t,e){const r=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-r.left-(e.left||0),top:i.top-r.top-(e.top||0)}}const tb=()=>({left:window.scrollX,top:window.scrollY});function y0e(t){let e;if("el"in t){const r=t.el,i=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?i?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=m0e(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function jM(t,e){return(history.state?history.state.position-e:-1)+t}const MA=new Map;function _0e(t,e){MA.set(t,e)}function x0e(t){const e=MA.get(t);return MA.delete(t),e}let b0e=()=>location.protocol+"//"+location.host;function pY(t,e){const{pathname:r,search:i,hash:n}=e,a=t.indexOf("#");if(a>-1){let o=n.includes(t.slice(a))?t.slice(a).length:1,u=n.slice(o);return u[0]!=="/"&&(u="/"+u),GM(u,"")}return GM(r,t)+i+n}function C0e(t,e,r,i){let n=[],a=[],s=null;const o=({state:f})=>{const d=pY(t,location),p=r.value,g=e.value;let v=0;if(f){if(r.value=d,e.value=f,s&&s===p){s=null;return}v=g?f.position-g.position:0}else i(d);n.forEach(m=>{m(r.value,p,{delta:v,type:f2.pop,direction:v?v>0?A1.forward:A1.back:A1.unknown})})};function u(){s=r.value}function l(f){n.push(f);const d=()=>{const p=n.indexOf(f);p>-1&&n.splice(p,1)};return a.push(d),d}function c(){const{history:f}=window;f.state&&f.replaceState(Er({},f.state,{scroll:tb()}),"")}function h(){for(const f of a)f();a=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:u,listen:l,destroy:h}}function VM(t,e,r,i=!1,n=!1){return{back:t,current:e,forward:r,replaced:i,position:window.history.length,scroll:n?tb():null}}function E0e(t){const{history:e,location:r}=window,i={value:pY(t,r)},n={value:e.state};n.value||a(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function a(u,l,c){const h=t.indexOf("#"),f=h>-1?(r.host&&document.querySelector("base")?t:t.slice(h))+u:b0e()+t+u;try{e[c?"replaceState":"pushState"](l,"",f),n.value=l}catch(d){console.error(d),r[c?"replace":"assign"](f)}}function s(u,l){const c=Er({},e.state,VM(n.value.back,u,n.value.forward,!0),l,{position:n.value.position});a(u,c,!0),i.value=u}function o(u,l){const c=Er({},n.value,e.state,{forward:u,scroll:tb()});a(c.current,c,!0);const h=Er({},VM(i.value,u,null),{position:c.position+1},l);a(u,h,!1),i.value=u}return{location:i,state:n,push:o,replace:s}}function S0e(t){t=p0e(t);const e=E0e(t),r=C0e(t,e.state,e.location,e.replace);function i(a,s=!0){s||r.pauseListeners(),history.go(a)}const n=Er({location:"",base:t,go:i,createHref:v0e.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function wYe(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),S0e(t)}function T0e(t){return typeof t=="string"||t&&typeof t=="object"}function gY(t){return typeof t=="string"||typeof t=="symbol"}const vY=Symbol("");var $M;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})($M||($M={}));function dp(t,e){return Er(new Error,{type:t,[vY]:!0},e)}function Bu(t,e){return t instanceof Error&&vY in t&&(e==null||!!(t.type&e))}const WM="[^/]+?",A0e={sensitive:!1,strict:!1,start:!0,end:!0},w0e=/[.+*?^${}()[\]/\\]/g;function D0e(t,e){const r=Er({},A0e,e),i=[];let n=r.start?"^":"";const a=[];for(const l of t){const c=l.length?[]:[90];r.strict&&!l.length&&(n+="/");for(let h=0;h<l.length;h++){const f=l[h];let d=40+(r.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(w0e,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:v,regexp:m}=f;a.push({name:p,repeatable:g,optional:v});const y=m||WM;if(y!==WM){d+=10;try{new RegExp(`(${y})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+x.message)}}let _=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(_=v&&l.length<2?`(?:/${_})`:"/"+_),v&&(_+="?"),n+=_,d+=20,v&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}c.push(d)}i.push(c)}if(r.strict&&r.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const s=new RegExp(n,r.sensitive?"":"i");function o(l){const c=l.match(s),h={};if(!c)return null;for(let f=1;f<c.length;f++){const d=c[f]||"",p=a[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function u(l){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of f)if(d.type===0)c+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:v}=d,m=p in l?l[p]:"";if(yo(m)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=yo(m)?m.join("/"):m;if(!y)if(v)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);c+=y}}return c||"/"}return{re:s,score:i,keys:a,parse:o,stringify:u}}function F0e(t,e){let r=0;for(;r<t.length&&r<e.length;){const i=e[r]-t[r];if(i)return i;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function mY(t,e){let r=0;const i=t.score,n=e.score;for(;r<i.length&&r<n.length;){const a=F0e(i[r],n[r]);if(a)return a;r++}if(Math.abs(n.length-i.length)===1){if(YM(i))return 1;if(YM(n))return-1}return n.length-i.length}function YM(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const I0e={type:0,value:""},B0e=/[a-zA-Z0-9_]/;function M0e(t){if(!t)return[[]];if(t==="/")return[[I0e]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${l}": ${d}`)}let r=0,i=r;const n=[];let a;function s(){a&&n.push(a),a=[]}let o=0,u,l="",c="";function h(){l&&(r===0?a.push({type:0,value:l}):r===1||r===2||r===3?(a.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:l,regexp:c,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),l="")}function f(){l+=u}for(;o<t.length;){if(u=t[o++],u==="\\"&&r!==2){i=r,r=4;continue}switch(r){case 0:u==="/"?(l&&h(),s()):u===":"?(h(),r=1):f();break;case 4:f(),r=i;break;case 1:u==="("?r=2:B0e.test(u)?f():(h(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--);break;case 2:u===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+u:r=3:c+=u;break;case 3:h(),r=0,u!=="*"&&u!=="?"&&u!=="+"&&o--,c="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),s(),n}function P0e(t,e,r){const i=D0e(M0e(t.path),r),n=Er(i,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function L0e(t,e){const r=[],i=new Map;e=KM({strict:!1,end:!0,sensitive:!1},e);function n(h){return i.get(h)}function a(h,f,d){const p=!d,g=XM(h);g.aliasOf=d&&d.record;const v=KM(e,h),m=[g];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const b of x)m.push(XM(Er({},g,{components:d?d.record.components:g.components,path:b,aliasOf:d?d.record:g})))}let y,_;for(const x of m){const{path:b}=x;if(f&&b[0]!=="/"){const C=f.record.path,E=C[C.length-1]==="/"?"":"/";x.path=f.record.path+(b&&E+b)}if(y=P0e(x,f,v),d?d.alias.push(y):(_=_||y,_!==y&&_.alias.push(y),p&&h.name&&!ZM(y)&&s(h.name)),yY(y)&&u(y),g.children){const C=g.children;for(let E=0;E<C.length;E++)a(C[E],y,d&&d.children[E])}d=d||y}return _?()=>{s(_)}:T1}function s(h){if(gY(h)){const f=i.get(h);f&&(i.delete(h),r.splice(r.indexOf(f),1),f.children.forEach(s),f.alias.forEach(s))}else{const f=r.indexOf(h);f>-1&&(r.splice(f,1),h.record.name&&i.delete(h.record.name),h.children.forEach(s),h.alias.forEach(s))}}function o(){return r}function u(h){const f=N0e(h,r);r.splice(f,0,h),h.record.name&&!ZM(h)&&i.set(h.record.name,h)}function l(h,f){let d,p={},g,v;if("name"in h&&h.name){if(d=i.get(h.name),!d)throw dp(1,{location:h});v=d.record.name,p=Er(qM(f.params,d.keys.filter(_=>!_.optional).concat(d.parent?d.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),h.params&&qM(h.params,d.keys.map(_=>_.name))),g=d.stringify(p)}else if(h.path!=null)g=h.path,d=r.find(_=>_.re.test(g)),d&&(p=d.parse(g),v=d.record.name);else{if(d=f.name?i.get(f.name):r.find(_=>_.re.test(f.path)),!d)throw dp(1,{location:h,currentLocation:f});v=d.record.name,p=Er({},f.params,h.params),g=d.stringify(p)}const m=[];let y=d;for(;y;)m.unshift(y.record),y=y.parent;return{name:v,path:g,params:p,matched:m,meta:R0e(m)}}t.forEach(h=>a(h));function c(){r.length=0,i.clear()}return{addRoute:a,resolve:l,removeRoute:s,clearRoutes:c,getRoutes:o,getRecordMatcher:n}}function qM(t,e){const r={};for(const i of e)i in t&&(r[i]=t[i]);return r}function XM(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:O0e(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function O0e(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const i in t.components)e[i]=typeof r=="object"?r[i]:r;return e}function ZM(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function R0e(t){return t.reduce((e,r)=>Er(e,r.meta),{})}function KM(t,e){const r={};for(const i in t)r[i]=i in e?e[i]:t[i];return r}function N0e(t,e){let r=0,i=e.length;for(;r!==i;){const a=r+i>>1;mY(t,e[a])<0?i=a:r=a+1}const n=k0e(t);return n&&(i=e.lastIndexOf(n,i-1)),i}function k0e(t){let e=t;for(;e=e.parent;)if(yY(e)&&mY(t,e)===0)return e}function yY({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function z0e(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<i.length;++n){const a=i[n].replace(lY," "),s=a.indexOf("="),o=h2(s<0?a:a.slice(0,s)),u=s<0?null:h2(a.slice(s+1));if(o in e){let l=e[o];yo(l)||(l=e[o]=[l]),l.push(u)}else e[o]=u}return e}function JM(t){let e="";for(let r in t){const i=t[r];if(r=a0e(r),i==null){i!==void 0&&(e+=(e.length?"&":"")+r);continue}(yo(i)?i.map(a=>a&&BA(a)):[i&&BA(i)]).forEach(a=>{a!==void 0&&(e+=(e.length?"&":"")+r,a!=null&&(e+="="+a))})}return e}function H0e(t){const e={};for(const r in t){const i=t[r];i!==void 0&&(e[r]=yo(i)?i.map(n=>n==null?null:""+n):i==null?i:""+i)}return e}const _Y=Symbol(""),QM=Symbol(""),g7=Symbol(""),v7=Symbol(""),PA=Symbol("");function rv(){let t=[];function e(i){return t.push(i),()=>{const n=t.indexOf(i);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function G0e(t,e,r){const i=()=>{t[e].delete(r)};pm(i),SW(i),EW(()=>{t[e].add(r)}),t[e].add(r)}function DYe(t){const e=Fi(_Y,{}).value;e&&G0e(e,"updateGuards",t)}function oc(t,e,r,i,n,a=s=>s()){const s=i&&(i.enterCallbacks[n]=i.enterCallbacks[n]||[]);return()=>new Promise((o,u)=>{const l=f=>{f===!1?u(dp(4,{from:r,to:e})):f instanceof Error?u(f):T0e(f)?u(dp(2,{from:e,to:f})):(s&&i.enterCallbacks[n]===s&&typeof f=="function"&&s.push(f),o())},c=a(()=>t.call(i&&i.instances[n],e,r,l));let h=Promise.resolve(c);t.length<3&&(h=h.then(l)),h.catch(f=>u(f))})}function uE(t,e,r,i,n=a=>a()){const a=[];for(const s of t)for(const o in s.components){let u=s.components[o];if(!(e!=="beforeRouteEnter"&&!s.instances[o]))if(oY(u)){const c=(u.__vccOpts||u)[e];c&&a.push(oc(c,r,i,s,o,n))}else{let l=u();a.push(()=>l.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${o}" at "${s.path}"`);const h=qce(c)?c.default:c;s.mods[o]=c,s.components[o]=h;const d=(h.__vccOpts||h)[e];return d&&oc(d,r,i,s,o,n)()}))}}return a}function eP(t){const e=Fi(g7),r=Fi(v7),i=Ge(()=>{const u=el(t.to);return e.resolve(u)}),n=Ge(()=>{const{matched:u}=i.value,{length:l}=u,c=u[l-1],h=r.matched;if(!c||!h.length)return-1;const f=h.findIndex(fp.bind(null,c));if(f>-1)return f;const d=tP(u[l-2]);return l>1&&tP(c)===d&&h[h.length-1].path!==d?h.findIndex(fp.bind(null,u[l-2])):f}),a=Ge(()=>n.value>-1&&W0e(r.params,i.value.params)),s=Ge(()=>n.value>-1&&n.value===r.matched.length-1&&dY(r.params,i.value.params));function o(u={}){if($0e(u)){const l=e[el(t.replace)?"replace":"push"](el(t.to)).catch(T1);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:i,href:Ge(()=>i.value.href),isActive:a,isExactActive:s,navigate:o}}function U0e(t){return t.length===1?t[0]:t}const j0e=Br({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:eP,setup(t,{slots:e}){const r=du(eP(t)),{options:i}=Fi(g7),n=Ge(()=>({[rP(t.activeClass,i.linkActiveClass,"router-link-active")]:r.isActive,[rP(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const a=e.default&&U0e(e.default(r));return t.custom?a:Ti("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},a)}}}),V0e=j0e;function $0e(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function W0e(t,e){for(const r in e){const i=e[r],n=t[r];if(typeof i=="string"){if(i!==n)return!1}else if(!yo(n)||n.length!==i.length||i.some((a,s)=>a!==n[s]))return!1}return!0}function tP(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const rP=(t,e,r)=>t??e??r,Y0e=Br({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const i=Fi(PA),n=Ge(()=>t.route||i.value),a=Fi(QM,0),s=Ge(()=>{let l=el(a);const{matched:c}=n.value;let h;for(;(h=c[l])&&!h.components;)l++;return l}),o=Ge(()=>n.value.matched[s.value]);oa(QM,Ge(()=>s.value+1)),oa(_Y,o),oa(PA,n);const u=fr();return oi(()=>[u.value,o.value,t.name],([l,c,h],[f,d,p])=>{c&&(c.instances[h]=l,d&&d!==c&&l&&l===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),l&&c&&(!d||!fp(c,d)||!f)&&(c.enterCallbacks[h]||[]).forEach(g=>g(l))},{flush:"post"}),()=>{const l=n.value,c=t.name,h=o.value,f=h&&h.components[c];if(!f)return iP(r.default,{Component:f,route:l});const d=h.props[c],p=d?d===!0?l.params:typeof d=="function"?d(l):d:null,v=Ti(f,Er({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(h.instances[c]=null)},ref:u}));return iP(r.default,{Component:v,route:l})||v}}});function iP(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const q0e=Y0e;function FYe(t){const e=L0e(t.routes,t),r=t.parseQuery||z0e,i=t.stringifyQuery||JM,n=t.history,a=rv(),s=rv(),o=rv(),u=hr(Nl);let l=Nl;_d&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=sE.bind(null,he=>""+he),h=sE.bind(null,o0e),f=sE.bind(null,h2);function d(he,le){let pe,xe;return gY(he)?(pe=e.getRecordMatcher(he),xe=le):xe=he,e.addRoute(xe,pe)}function p(he){const le=e.getRecordMatcher(he);le&&e.removeRoute(le)}function g(){return e.getRoutes().map(he=>he.record)}function v(he){return!!e.getRecordMatcher(he)}function m(he,le){if(le=Er({},le||u.value),typeof he=="string"){const se=oE(r,he,le.path),ve=e.resolve({path:se.path},le),_e=n.createHref(se.fullPath);return Er(se,ve,{params:f(ve.params),hash:h2(se.hash),redirectedFrom:void 0,href:_e})}let pe;if(he.path!=null)pe=Er({},he,{path:oE(r,he.path,le.path).path});else{const se=Er({},he.params);for(const ve in se)se[ve]==null&&delete se[ve];pe=Er({},he,{params:h(se)}),le.params=h(le.params)}const xe=e.resolve(pe,le),be=he.hash||"";xe.params=c(f(xe.params));const q=c0e(i,Er({},he,{hash:n0e(be),path:xe.path})),J=n.createHref(q);return Er({fullPath:q,hash:be,query:i===JM?H0e(he.query):he.query||{}},xe,{redirectedFrom:void 0,href:J})}function y(he){return typeof he=="string"?oE(r,he,u.value.path):Er({},he)}function _(he,le){if(l!==he)return dp(8,{from:le,to:he})}function x(he){return E(he)}function b(he){return x(Er(y(he),{replace:!0}))}function C(he){const le=he.matched[he.matched.length-1];if(le&&le.redirect){const{redirect:pe}=le;let xe=typeof pe=="function"?pe(he):pe;return typeof xe=="string"&&(xe=xe.includes("?")||xe.includes("#")?xe=y(xe):{path:xe},xe.params={}),Er({query:he.query,hash:he.hash,params:xe.path!=null?{}:he.params},xe)}}function E(he,le){const pe=l=m(he),xe=u.value,be=he.state,q=he.force,J=he.replace===!0,se=C(pe);if(se)return E(Er(y(se),{state:typeof se=="object"?Er({},be,se.state):be,force:q,replace:J}),le||pe);const ve=pe;ve.redirectedFrom=le;let _e;return!q&&h0e(i,xe,pe)&&(_e=dp(16,{to:ve,from:xe}),j(xe,xe,!0,!1)),(_e?Promise.resolve(_e):T(ve,xe)).catch(we=>Bu(we)?Bu(we,2)?we:V(we):k(we,ve,xe)).then(we=>{if(we){if(Bu(we,2))return E(Er({replace:J},y(we.to),{state:typeof we.to=="object"?Er({},be,we.to.state):be,force:q}),le||ve)}else we=F(ve,xe,!0,J,be);return D(ve,xe,we),we})}function A(he,le){const pe=_(he,le);return pe?Promise.reject(pe):Promise.resolve()}function S(he){const le=re.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(he):he()}function T(he,le){let pe;const[xe,be,q]=X0e(he,le);pe=uE(xe.reverse(),"beforeRouteLeave",he,le);for(const se of xe)se.leaveGuards.forEach(ve=>{pe.push(oc(ve,he,le))});const J=A.bind(null,he,le);return pe.push(J),Oe(pe).then(()=>{pe=[];for(const se of a.list())pe.push(oc(se,he,le));return pe.push(J),Oe(pe)}).then(()=>{pe=uE(be,"beforeRouteUpdate",he,le);for(const se of be)se.updateGuards.forEach(ve=>{pe.push(oc(ve,he,le))});return pe.push(J),Oe(pe)}).then(()=>{pe=[];for(const se of q)if(se.beforeEnter)if(yo(se.beforeEnter))for(const ve of se.beforeEnter)pe.push(oc(ve,he,le));else pe.push(oc(se.beforeEnter,he,le));return pe.push(J),Oe(pe)}).then(()=>(he.matched.forEach(se=>se.enterCallbacks={}),pe=uE(q,"beforeRouteEnter",he,le,S),pe.push(J),Oe(pe))).then(()=>{pe=[];for(const se of s.list())pe.push(oc(se,he,le));return pe.push(J),Oe(pe)}).catch(se=>Bu(se,8)?se:Promise.reject(se))}function D(he,le,pe){o.list().forEach(xe=>S(()=>xe(he,le,pe)))}function F(he,le,pe,xe,be){const q=_(he,le);if(q)return q;const J=le===Nl,se=_d?history.state:{};pe&&(xe||J?n.replace(he.fullPath,Er({scroll:J&&se&&se.scroll},be)):n.push(he.fullPath,be)),u.value=he,j(he,le,pe,J),V()}let B;function O(){B||(B=n.listen((he,le,pe)=>{if(!de.listening)return;const xe=m(he),be=C(xe);if(be){E(Er(be,{replace:!0,force:!0}),xe).catch(T1);return}l=xe;const q=u.value;_d&&_0e(jM(q.fullPath,pe.delta),tb()),T(xe,q).catch(J=>Bu(J,12)?J:Bu(J,2)?(E(Er(y(J.to),{force:!0}),xe).then(se=>{Bu(se,20)&&!pe.delta&&pe.type===f2.pop&&n.go(-1,!1)}).catch(T1),Promise.reject()):(pe.delta&&n.go(-pe.delta,!1),k(J,xe,q))).then(J=>{J=J||F(xe,q,!1),J&&(pe.delta&&!Bu(J,8)?n.go(-pe.delta,!1):pe.type===f2.pop&&Bu(J,20)&&n.go(-1,!1)),D(xe,q,J)}).catch(T1)}))}let M=rv(),R=rv(),z;function k(he,le,pe){V(he);const xe=R.list();return xe.length?xe.forEach(be=>be(he,le,pe)):console.error(he),Promise.reject(he)}function U(){return z&&u.value!==Nl?Promise.resolve():new Promise((he,le)=>{M.add([he,le])})}function V(he){return z||(z=!he,O(),M.list().forEach(([le,pe])=>he?pe(he):le()),M.reset()),he}function j(he,le,pe,xe){const{scrollBehavior:be}=t;if(!_d||!be)return Promise.resolve();const q=!pe&&x0e(jM(he.fullPath,0))||(xe||!pe)&&history.state&&history.state.scroll||null;return cl().then(()=>be(he,le,q)).then(J=>J&&y0e(J)).catch(J=>k(J,he,le))}const Y=he=>n.go(he);let te;const re=new Set,de={currentRoute:u,listening:!0,addRoute:d,removeRoute:p,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:g,resolve:m,options:t,push:x,replace:b,go:Y,back:()=>Y(-1),forward:()=>Y(1),beforeEach:a.add,beforeResolve:s.add,afterEach:o.add,onError:R.add,isReady:U,install(he){const le=this;he.component("RouterLink",V0e),he.component("RouterView",q0e),he.config.globalProperties.$router=le,Object.defineProperty(he.config.globalProperties,"$route",{enumerable:!0,get:()=>el(u)}),_d&&!te&&u.value===Nl&&(te=!0,x(n.location).catch(be=>{}));const pe={};for(const be in Nl)Object.defineProperty(pe,be,{get:()=>u.value[be],enumerable:!0});he.provide(g7,le),he.provide(v7,tW(pe)),he.provide(PA,u);const xe=he.unmount;re.add(he),he.unmount=function(){re.delete(he),re.size<1&&(l=Nl,B&&B(),B=null,u.value=Nl,te=!1,z=!1),xe()}}};function Oe(he){return he.reduce((le,pe)=>le.then(()=>S(pe)),Promise.resolve())}return de}function X0e(t,e){const r=[],i=[],n=[],a=Math.max(e.matched.length,t.matched.length);for(let s=0;s<a;s++){const o=e.matched[s];o&&(t.matched.find(l=>fp(l,o))?i.push(o):r.push(o));const u=t.matched[s];u&&(e.matched.find(l=>fp(l,u))||n.push(u))}return[r,i,n]}function IYe(t){return Fi(v7)}function d2(t){"@babel/helpers - typeof";return d2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d2(t)}function Z0e(t,e){if(d2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var i=r.call(t,e);if(d2(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K0e(t){var e=Z0e(t,"string");return d2(e)=="symbol"?e:e+""}function J0e(t,e,r){return(e=K0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(r),!0).forEach(function(i){J0e(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function fe(){return fe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fe.apply(null,arguments)}const Q0e=t=>typeof t=="function",ehe=Array.isArray,the=t=>typeof t=="string",rhe=t=>t!==null&&typeof t=="object",ihe=/^on[^a-z]/,nhe=t=>ihe.test(t),xY=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},ahe=/-(\w)/g,bY=xY(t=>t.replace(ahe,(e,r)=>r?r.toUpperCase():"")),she=/\B([A-Z])/g,ohe=xY(t=>t.replace(she,"-$1").toLowerCase()),uhe=Object.prototype.hasOwnProperty,aP=(t,e)=>uhe.call(t,e);function lhe(t,e,r,i){const n=t[r];if(n!=null){const a=aP(n,"default");if(a&&i===void 0){const s=n.default;i=n.type!==Function&&Q0e(s)?s():s}n.type===Boolean&&(!aP(e,r)&&!a?i=!1:i===""&&(i=!0))}return i}function wd(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return typeof t=="function"?t(e):t??r}function che(t){let e;const r=new Promise(n=>{e=t(()=>{n(!0)})}),i=()=>{e==null||e()};return i.then=(n,a)=>r.then(n,a),i.promise=r,i}function ki(){const t=[];for(let e=0;e<arguments.length;e++){const r=e<0||arguments.length<=e?void 0:arguments[e];if(r){if(the(r))t.push(r);else if(ehe(r))for(let i=0;i<r.length;i++){const n=ki(r[i]);n&&t.push(n)}else if(rhe(r))for(const i in r)r[i]&&t.push(i)}}return t.join(" ")}var CY=function(){if(typeof Map<"u")return Map;function t(e,r){var i=-1;return e.some(function(n,a){return n[0]===r?(i=a,!0):!1}),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(r){var i=t(this.__entries__,r),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(r,i){var n=t(this.__entries__,r);~n?this.__entries__[n][1]=i:this.__entries__.push([r,i])},e.prototype.delete=function(r){var i=this.__entries__,n=t(i,r);~n&&i.splice(n,1)},e.prototype.has=function(r){return!!~t(this.__entries__,r)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(r,i){i===void 0&&(i=null);for(var n=0,a=this.__entries__;n<a.length;n++){var s=a[n];r.call(i,s[1],s[0])}},e}()}(),LA=typeof window<"u"&&typeof document<"u"&&window.document===document,t3=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),hhe=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(t3):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),fhe=2;function dhe(t,e){var r=!1,i=!1,n=0;function a(){r&&(r=!1,t()),i&&o()}function s(){hhe(a)}function o(){var u=Date.now();if(r){if(u-n<fhe)return;i=!0}else r=!0,i=!1,setTimeout(s,e);n=u}return o}var phe=20,ghe=["top","right","bottom","left","width","height","size","weight"],vhe=typeof MutationObserver<"u",mhe=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=dhe(this.refresh.bind(this),phe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var r=this.observers_,i=r.indexOf(e);~i&&r.splice(i,1),!r.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return e.forEach(function(r){return r.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!LA||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vhe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!LA||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var r=e.propertyName,i=r===void 0?"":r,n=ghe.some(function(a){return!!~i.indexOf(a)});n&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),EY=function(t,e){for(var r=0,i=Object.keys(e);r<i.length;r++){var n=i[r];Object.defineProperty(t,n,{value:e[n],enumerable:!1,writable:!1,configurable:!0})}return t},pp=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||t3},SY=rb(0,0,0,0);function r3(t){return parseFloat(t)||0}function sP(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.reduce(function(i,n){var a=t["border-"+n+"-width"];return i+r3(a)},0)}function yhe(t){for(var e=["top","right","bottom","left"],r={},i=0,n=e;i<n.length;i++){var a=n[i],s=t["padding-"+a];r[a]=r3(s)}return r}function _he(t){var e=t.getBBox();return rb(0,0,e.width,e.height)}function xhe(t){var e=t.clientWidth,r=t.clientHeight;if(!e&&!r)return SY;var i=pp(t).getComputedStyle(t),n=yhe(i),a=n.left+n.right,s=n.top+n.bottom,o=r3(i.width),u=r3(i.height);if(i.boxSizing==="border-box"&&(Math.round(o+a)!==e&&(o-=sP(i,"left","right")+a),Math.round(u+s)!==r&&(u-=sP(i,"top","bottom")+s)),!Che(t)){var l=Math.round(o+a)-e,c=Math.round(u+s)-r;Math.abs(l)!==1&&(o-=l),Math.abs(c)!==1&&(u-=c)}return rb(n.left,n.top,o,u)}var bhe=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof pp(t).SVGGraphicsElement}:function(t){return t instanceof pp(t).SVGElement&&typeof t.getBBox=="function"}}();function Che(t){return t===pp(t).document.documentElement}function Ehe(t){return LA?bhe(t)?_he(t):xhe(t):SY}function She(t){var e=t.x,r=t.y,i=t.width,n=t.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(a.prototype);return EY(s,{x:e,y:r,width:i,height:n,top:r,right:e+i,bottom:n+r,left:e}),s}function rb(t,e,r,i){return{x:t,y:e,width:r,height:i}}var The=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=rb(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Ehe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Ahe=function(){function t(e,r){var i=She(r);EY(this,{target:e,contentRect:i})}return t}(),whe=function(){function t(e,r,i){if(this.activeObservations_=[],this.observations_=new CY,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=r,this.callbackCtx_=i}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof pp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)||(r.set(e,new The(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof pp(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(e)&&(r.delete(e),r.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&e.activeObservations_.push(r)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,r=this.activeObservations_.map(function(i){return new Ahe(i.target,i.broadcastRect())});this.callback_.call(e,r,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),TY=typeof WeakMap<"u"?new WeakMap:new CY,AY=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=mhe.getInstance(),i=new whe(e,r,this);TY.set(this,i)}return t}();["observe","unobserve","disconnect"].forEach(function(t){AY.prototype[t]=function(){var e;return(e=TY.get(this))[t].apply(e,arguments)}});var Dhe=function(){return typeof t3.ResizeObserver<"u"?t3.ResizeObserver:AY}();const Fhe=t=>t!=null&&t!=="",Ihe=(t,e)=>{const r=fe({},t);return Object.keys(e).forEach(i=>{const n=r[i];if(n)n.type||n.default?n.default=e[i]:n.def?n.def(e[i]):r[i]={type:n,default:e[i]};else throw new Error(`not have ${i} prop`)}),r},Bhe=t=>{const e=Object.keys(t),r={},i={},n={};for(let a=0,s=e.length;a<s;a++){const o=e[a];nhe(o)?(r[o[2].toLowerCase()+o.slice(3)]=t[o],i[o]=t[o]):n[o]=t[o]}return{onEvents:i,events:r,extraAttrs:n}},Mhe=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r={},i=/;(?![^(]*\))/g,n=/:(.+)/;return typeof t=="object"?t:(t.split(i).forEach(function(a){if(a){const s=a.split(n);if(s.length>1){const o=e?bY(s[0].trim()):s[0].trim();r[o]=s[1].trim()}}}),r)},Phe=(t,e)=>t[e]!==void 0,Lhe=Symbol("skipFlatten"),wc=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=Array.isArray(t)?t:[t],i=[];return r.forEach(n=>{Array.isArray(n)?i.push(...wc(n,e)):n&&n.type===Si?n.key===Lhe?i.push(n):i.push(...wc(n.children,e)):n&&pu(n)?e&&!wY(n)?i.push(n):e||i.push(n):Fhe(n)&&i.push(n)}),i},Ohe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(pu(t))return t.type===Si?e==="default"?wc(t.children):[]:t.children&&t.children[e]?wc(t.children[e](r)):[];{const i=t.$slots[e]&&t.$slots[e](r);return wc(i)}},Iy=t=>{var e;let r=((e=t==null?void 0:t.vnode)===null||e===void 0?void 0:e.el)||t&&(t.$el||t);for(;r&&!r.tagName;)r=r.nextSibling;return r},Rhe=t=>{const e={};if(t.$&&t.$.vnode){const r=t.$.vnode.props||{};Object.keys(t.$props).forEach(i=>{const n=t.$props[i],a=ohe(i);(n!==void 0||a in r)&&(e[i]=n)})}else if(pu(t)&&typeof t.type=="object"){const r=t.props||{},i={};Object.keys(r).forEach(a=>{i[bY(a)]=r[a]});const n=t.type.props||{};Object.keys(n).forEach(a=>{const s=lhe(n,i,a,i[a]);(s!==void 0||a in i)&&(e[a]=s)})}return e},Nhe=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,n;if(t.$){const a=t[e];if(a!==void 0)return typeof a=="function"&&i?a(r):a;n=t.$slots[e],n=i&&n?n(r):n}else if(pu(t)){const a=t.props&&t.props[e];if(a!==void 0&&t.props!==null)return typeof a=="function"&&i?a(r):a;t.type===Si?n=t.children:t.children&&t.children[e]&&(n=t.children[e],n=i&&n?n(r):n)}return Array.isArray(n)&&(n=wc(n),n=n.length===1?n[0]:n,n=n.length===0?void 0:n),n};function oP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r={};return t.$?r=fe(fe({},r),t.$attrs):r=fe(fe({},r),t.props),Bhe(r)[e?"onEvents":"events"]}function khe(t,e){let i=((pu(t)?t.props:t.$attrs)||{}).style||{};return typeof i=="string"&&(i=Mhe(i,e)),i}function zhe(t){return t.length===1&&t[0].type===Si}function wY(t){return t&&(t.type===Tn||t.type===Si&&t.children.length===0||t.type===gm&&t.children.trim()==="")}function mm(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return t.forEach(r=>{Array.isArray(r)?e.push(...r):(r==null?void 0:r.type)===Si?e.push(...mm(r.children)):e.push(r)}),e.filter(r=>!wY(r))}function Hhe(t){return Array.isArray(t)&&t.length===1&&(t=t[0]),t&&t.__v_isVNode&&typeof t.type!="symbol"}function Ghe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var i,n;return(i=e[r])!==null&&i!==void 0?i:(n=t[r])===null||n===void 0?void 0:n.call(t)}let DY=t=>setTimeout(t,16),FY=t=>clearTimeout(t);typeof window<"u"&&"requestAnimationFrame"in window&&(DY=t=>window.requestAnimationFrame(t),FY=t=>window.cancelAnimationFrame(t));let uP=0;const m7=new Map;function IY(t){m7.delete(t)}function co(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;uP+=1;const r=uP;function i(n){if(n===0)IY(r),t();else{const a=DY(()=>{i(n-1)});m7.set(r,a)}}return i(e),r}co.cancel=t=>{const e=m7.get(t);return IY(e),FY(e)};const Uhe=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e},ym=t=>{const e=t;return e.install=function(r){r.component(e.displayName||e.name,t)},t};function xn(t){return{type:Object,default:t}}function w1(t){return{type:Boolean,default:t}}function i3(t,e){const r={validator:()=>!0,default:t};return r}function lP(t){return{type:Array,default:t}}function Dd(t){return{type:String,default:t}}function OA(t,e){return t?{type:t,default:e}:i3(e)}let uh=!1;try{const t=Object.defineProperty({},"passive",{get(){uh=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch{}function Kv(t,e,r,i){if(t&&t.addEventListener){let n=i;n===void 0&&uh&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(n={passive:!1}),t.addEventListener(e,r,n)}return{remove:()=>{t&&t.removeEventListener&&t.removeEventListener(e,r)}}}const y7="anticon",jhe=Symbol("GlobalFormContextKey"),Vhe=t=>{oa(jhe,t)},$he=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:xn(),input:xn(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:xn(),pageHeader:xn(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String,default:"ltr"},space:xn(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:xn(),pagination:xn(),theme:xn(),select:xn(),wave:xn()}),_7=Symbol("configProvider"),BY={getPrefixCls:(t,e)=>e||(t?`ant-${t}`:"ant"),iconPrefixCls:Ge(()=>y7),getPopupContainer:Ge(()=>()=>document.body),direction:Ge(()=>"ltr")},x7=()=>Fi(_7,BY),Whe=t=>oa(_7,t),MY=Symbol("DisabledContextKey"),PY=()=>Fi(MY,fr(void 0)),Yhe=t=>{const e=PY();return oa(MY,Ge(()=>{var r;return(r=t.value)!==null&&r!==void 0?r:e.value})),t},qhe={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},Xhe={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},LY={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},cP={lang:fe({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Xhe),timePickerLocale:fe({},LY)},ja="${label} is not a valid ${type}",p2={locale:"en",Pagination:qhe,DatePicker:cP,TimePicker:LY,Calendar:cP,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:ja,method:ja,array:ja,object:ja,number:ja,date:ja,boolean:ja,integer:ja,float:ja,regexp:ja,email:ja,url:ja,hex:ja},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},OY=Br({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(t,e){let{slots:r}=e;const i=Fi("localeData",{}),n=Ge(()=>{const{componentName:s="global",defaultLocale:o}=t,u=o||p2[s||"global"],{antLocale:l}=i,c=s&&l?l[s]:{};return fe(fe({},typeof u=="function"?u():u),c||{})}),a=Ge(()=>{const{antLocale:s}=i,o=s&&s.locale;return s&&s.exist&&!o?p2.locale:o});return()=>{const s=t.children||r.default,{antLocale:o}=i;return s==null?void 0:s(n.value,a.value,o)}}});function b7(t){for(var e=0,r,i=0,n=t.length;n>=4;++i,n-=4)r=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(n){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}const hP="%";class Zhe{constructor(e){this.cache=new Map,this.instanceId=e}get(e){return this.cache.get(Array.isArray(e)?e.join(hP):e)||null}update(e,r){const i=Array.isArray(e)?e.join(hP):e,n=this.cache.get(i),a=r(n);a===null?this.cache.delete(i):this.cache.set(i,a)}}const RY="data-token-hash",Ah="data-css-hash",Fd="__cssinjs_instance__";function g2(){const t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const e=document.body.querySelectorAll(`style[${Ah}]`)||[],{firstChild:r}=document.head;Array.from(e).forEach(n=>{n[Fd]=n[Fd]||t,n[Fd]===t&&document.head.insertBefore(n,r)});const i={};Array.from(document.querySelectorAll(`style[${Ah}]`)).forEach(n=>{var a;const s=n.getAttribute(Ah);i[s]?n[Fd]===t&&((a=n.parentNode)===null||a===void 0||a.removeChild(n)):i[s]=!0})}return new Zhe(t)}const NY=Symbol("StyleContextKey"),Khe=()=>{var t,e,r;const i=Q4();let n;if(i&&i.appContext){const a=(r=(e=(t=i.appContext)===null||t===void 0?void 0:t.config)===null||e===void 0?void 0:e.globalProperties)===null||r===void 0?void 0:r.__ANTDV_CSSINJS_CACHE__;a?n=a:(n=g2(),i.appContext.config.globalProperties&&(i.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=n))}else n=g2();return n},kY={cache:g2(),defaultCache:!0,hashPriority:"low"},ib=()=>{const t=Khe();return Fi(NY,hr(fe(fe({},kY),{cache:t})))},Jhe=t=>{const e=ib(),r=hr(fe(fe({},kY),{cache:g2()}));return oi([()=>el(t),e],()=>{const i=fe({},e.value),n=el(t);Object.keys(n).forEach(s=>{const o=n[s];n[s]!==void 0&&(i[s]=o)});const{cache:a}=n;i.cache=i.cache||g2(),i.defaultCache=!a&&e.value.defaultCache,r.value=i},{immediate:!0}),oa(NY,r),r},Qhe=()=>({autoClear:w1(),mock:Dd(),cache:xn(),defaultCache:w1(),hashPriority:Dd(),container:OA(),ssrInline:w1(),transformers:lP(),linters:lP()}),BYe=ym(Br({name:"AStyleProvider",inheritAttrs:!1,props:Qhe(),setup(t,e){let{slots:r}=e;return Jhe(t),()=>{var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}}));function zY(t,e,r,i){const n=ib(),a=hr(""),s=hr();Kp(()=>{a.value=[t,...e.value].join("%")});const o=u=>{n.value.cache.update(u,l=>{const[c=0,h]=l||[];return c-1===0?(i==null||i(h,!1),null):[c-1,h]})};return oi(a,(u,l)=>{l&&o(l),n.value.cache.update(u,c=>{const[h=0,f]=c||[],p=f||r();return[h+1,p]}),s.value=n.value.cache.get(a.value)[1]},{immediate:!0}),pf(()=>{o(a.value)}),s}function gu(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function eh(t,e){return t&&t.contains?t.contains(e):!1}const fP="data-vc-order",efe="vc-util-key",RA=new Map;function HY(){let{mark:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t?t.startsWith("data-")?t:`data-${t}`:efe}function nb(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function tfe(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function GY(t){return Array.from((RA.get(t)||t).children).filter(e=>e.tagName==="STYLE")}function UY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!gu())return null;const{csp:r,prepend:i}=e,n=document.createElement("style");n.setAttribute(fP,tfe(i)),r!=null&&r.nonce&&(n.nonce=r==null?void 0:r.nonce),n.innerHTML=t;const a=nb(e),{firstChild:s}=a;if(i){if(i==="queue"){const o=GY(a).filter(u=>["prepend","prependQueue"].includes(u.getAttribute(fP)));if(o.length)return a.insertBefore(n,o[o.length-1].nextSibling),n}a.insertBefore(n,s)}else a.appendChild(n);return n}function jY(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=nb(e);return GY(r).find(i=>i.getAttribute(HY(e))===t)}function n3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=jY(t,e);r&&nb(e).removeChild(r)}function rfe(t,e){const r=RA.get(t);if(!r||!eh(document,r)){const i=UY("",e),{parentNode:n}=i;RA.set(t,n),t.removeChild(i)}}function v2(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i,n,a;const s=nb(r);rfe(s,r);const o=jY(e,r);if(o)return!((i=r.csp)===null||i===void 0)&&i.nonce&&o.nonce!==((n=r.csp)===null||n===void 0?void 0:n.nonce)&&(o.nonce=(a=r.csp)===null||a===void 0?void 0:a.nonce),o.innerHTML!==t&&(o.innerHTML=t),o;const u=UY(t,r);return u.setAttribute(HY(r),e),u}function ife(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}class gp{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i={map:this.cache};return e.forEach(n=>{var a;i?i=(a=i==null?void 0:i.map)===null||a===void 0?void 0:a.get(n):i=void 0}),i!=null&&i.value&&r&&(i.value[1]=this.cacheCallTimes++),i==null?void 0:i.value}get(e){var r;return(r=this.internalGet(e,!0))===null||r===void 0?void 0:r[0]}has(e){return!!this.internalGet(e)}set(e,r){if(!this.has(e)){if(this.size()+1>gp.MAX_CACHE_SIZE+gp.MAX_CACHE_OFFSET){const[n]=this.keys.reduce((a,s)=>{const[,o]=a;return this.internalGet(s)[1]<o?[s,this.internalGet(s)[1]]:a},[this.keys[0],this.cacheCallTimes]);this.delete(n)}this.keys.push(e)}let i=this.cache;e.forEach((n,a)=>{if(a===e.length-1)i.set(n,{value:[r,this.cacheCallTimes++]});else{const s=i.get(n);s?s.map||(s.map=new Map):i.set(n,{map:new Map}),i=i.get(n).map}})}deleteByPath(e,r){var i;const n=e.get(r[0]);if(r.length===1)return n.map?e.set(r[0],{map:n.map}):e.delete(r[0]),(i=n.value)===null||i===void 0?void 0:i[0];const a=this.deleteByPath(n.map,r.slice(1));return(!n.map||n.map.size===0)&&!n.value&&e.delete(r[0]),a}delete(e){if(this.has(e))return this.keys=this.keys.filter(r=>!ife(r,e)),this.deleteByPath(this.cache,e)}}gp.MAX_CACHE_SIZE=20;gp.MAX_CACHE_OFFSET=5;function nfe(){}let C7=nfe,dP=0;class VY{constructor(e){this.derivatives=Array.isArray(e)?e:[e],this.id=dP,e.length===0&&C7(e.length>0),dP+=1}getDerivativeToken(e){return this.derivatives.reduce((r,i)=>i(e,r),void 0)}}const lE=new gp;function $Y(t){const e=Array.isArray(t)?t:[t];return lE.has(e)||lE.set(e,new VY(e)),lE.get(e)}const pP=new WeakMap;function a3(t){let e=pP.get(t)||"";return e||(Object.keys(t).forEach(r=>{const i=t[r];e+=r,i instanceof VY?e+=i.id:i&&typeof i=="object"?e+=a3(i):e+=i}),pP.set(t,e)),e}function afe(t,e){return b7(`${e}_${a3(t)}`)}const D1=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),WY="_bAmBoO_";function sfe(t,e,r){var i,n;if(gu()){v2(t,D1);const a=document.createElement("div");a.style.position="fixed",a.style.left="0",a.style.top="0",e==null||e(a),document.body.appendChild(a);const s=r?r(a):(i=getComputedStyle(a).content)===null||i===void 0?void 0:i.includes(WY);return(n=a.parentNode)===null||n===void 0||n.removeChild(a),n3(D1),s}return!1}let cE;function ofe(){return cE===void 0&&(cE=sfe(`@layer ${D1} { .${D1} { content: "${WY}"!important; } }`,t=>{t.className=D1})),cE}const gP={},ufe="css",th=new Map;function lfe(t){th.set(t,(th.get(t)||0)+1)}function cfe(t,e){typeof document<"u"&&document.querySelectorAll(`style[${RY}="${t}"]`).forEach(i=>{var n;i[Fd]===e&&((n=i.parentNode)===null||n===void 0||n.removeChild(i))})}const hfe=0;function ffe(t,e){th.set(t,(th.get(t)||0)-1);const r=Array.from(th.keys()),i=r.filter(n=>(th.get(n)||0)<=0);r.length-i.length>hfe&&i.forEach(n=>{cfe(n,e),th.delete(n)})}const dfe=(t,e,r,i)=>{const n=r.getDerivativeToken(t);let a=fe(fe({},n),e);return i&&(a=i(a)),a};function pfe(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fr({});const i=ib(),n=Ge(()=>fe({},...e.value)),a=Ge(()=>a3(n.value)),s=Ge(()=>a3(r.value.override||gP));return zY("token",Ge(()=>[r.value.salt||"",t.value.id,a.value,s.value]),()=>{const{salt:u="",override:l=gP,formatToken:c,getComputedToken:h}=r.value,f=h?h(n.value,l,t.value):dfe(n.value,l,t.value,c),d=afe(f,u);f._tokenKey=d,lfe(d);const p=`${ufe}-${b7(d)}`;return f._hashId=p,[f,p]},u=>{var l;ffe(u[0]._tokenKey,(l=i.value)===null||l===void 0?void 0:l.cache.instanceId)})}var gfe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},YY="comm",qY="rule",XY="decl",vfe="@import",mfe="@namespace",yfe="@keyframes",_fe="@layer",ZY=Math.abs,E7=String.fromCharCode;function KY(t){return t.trim()}function Sx(t,e,r){return t.replace(e,r)}function xfe(t,e,r){return t.indexOf(e,r)}function $d(t,e){return t.charCodeAt(e)|0}function vp(t,e,r){return t.slice(e,r)}function Go(t){return t.length}function bfe(t){return t.length}function By(t,e){return e.push(t),t}var ab=1,mp=1,JY=0,Ns=0,Li=0,Jp="";function S7(t,e,r,i,n,a,s,o){return{value:t,root:e,parent:r,type:i,props:n,children:a,line:ab,column:mp,length:s,return:"",siblings:o}}function Cfe(){return Li}function Efe(){return Li=Ns>0?$d(Jp,--Ns):0,mp--,Li===10&&(mp=1,ab--),Li}function ho(){return Li=Ns<JY?$d(Jp,Ns++):0,mp++,Li===10&&(mp=1,ab++),Li}function fc(){return $d(Jp,Ns)}function Tx(){return Ns}function sb(t,e){return vp(Jp,t,e)}function m2(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sfe(t){return ab=mp=1,JY=Go(Jp=t),Ns=0,[]}function Tfe(t){return Jp="",t}function hE(t){return KY(sb(Ns-1,NA(t===91?t+2:t===40?t+1:t)))}function Afe(t){for(;(Li=fc())&&Li<33;)ho();return m2(t)>2||m2(Li)>3?"":" "}function wfe(t,e){for(;--e&&ho()&&!(Li<48||Li>102||Li>57&&Li<65||Li>70&&Li<97););return sb(t,Tx()+(e<6&&fc()==32&&ho()==32))}function NA(t){for(;ho();)switch(Li){case t:return Ns;case 34:case 39:t!==34&&t!==39&&NA(Li);break;case 40:t===41&&NA(t);break;case 92:ho();break}return Ns}function Dfe(t,e){for(;ho()&&t+Li!==57;)if(t+Li===84&&fc()===47)break;return"/*"+sb(e,Ns-1)+"*"+E7(t===47?t:ho())}function Ffe(t){for(;!m2(fc());)ho();return sb(t,Ns)}function Ife(t){return Tfe(Ax("",null,null,null,[""],t=Sfe(t),0,[0],t))}function Ax(t,e,r,i,n,a,s,o,u){for(var l=0,c=0,h=s,f=0,d=0,p=0,g=1,v=1,m=1,y=0,_="",x=n,b=a,C=i,E=_;v;)switch(p=y,y=ho()){case 40:if(p!=108&&$d(E,h-1)==58){xfe(E+=Sx(hE(y),"&","&\f"),"&\f",ZY(l?o[l-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:E+=hE(y);break;case 9:case 10:case 13:case 32:E+=Afe(p);break;case 92:E+=wfe(Tx()-1,7);continue;case 47:switch(fc()){case 42:case 47:By(Bfe(Dfe(ho(),Tx()),e,r,u),u),(m2(p||1)==5||m2(fc()||1)==5)&&Go(E)&&vp(E,-1,void 0)!==" "&&(E+=" ");break;default:E+="/"}break;case 123*g:o[l++]=Go(E)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:m==-1&&(E=Sx(E,/\f/g,"")),d>0&&(Go(E)-h||g===0&&p===47)&&By(d>32?mP(E+";",i,r,h-1,u):mP(Sx(E," ","")+";",i,r,h-2,u),u);break;case 59:E+=";";default:if(By(C=vP(E,e,r,l,c,n,o,_,x=[],b=[],h,a),a),y===123)if(c===0)Ax(E,e,C,C,x,a,h,o,b);else{switch(f){case 99:if($d(E,3)===110)break;case 108:if($d(E,2)===97)break;default:c=0;case 100:case 109:case 115:}c?Ax(t,C,C,i&&By(vP(t,C,C,0,0,n,o,_,n,x=[],h,b),b),n,b,h,o,i?x:b):Ax(E,C,C,C,[""],b,0,o,b)}}l=c=d=0,g=m=1,_=E="",h=s;break;case 58:h=1+Go(E),d=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&Efe()==125)continue}switch(E+=E7(y),y*g){case 38:m=c>0?1:(E+="\f",-1);break;case 44:o[l++]=(Go(E)-1)*m,m=1;break;case 64:fc()===45&&(E+=hE(ho())),f=fc(),c=h=Go(_=E+=Ffe(Tx())),y++;break;case 45:p===45&&Go(E)==2&&(g=0)}}return a}function vP(t,e,r,i,n,a,s,o,u,l,c,h){for(var f=n-1,d=n===0?a:[""],p=bfe(d),g=0,v=0,m=0;g<i;++g)for(var y=0,_=vp(t,f+1,f=ZY(v=s[g])),x=t;y<p;++y)(x=KY(v>0?d[y]+" "+_:Sx(_,/&\f/g,d[y])))&&(u[m++]=x);return S7(t,e,r,n===0?qY:o,u,l,c,h)}function Bfe(t,e,r,i){return S7(t,e,r,YY,E7(Cfe()),vp(t,2,-2),0,i)}function mP(t,e,r,i,n){return S7(t,e,r,XY,vp(t,0,i),vp(t,i+1,-1),i,n)}function kA(t,e){for(var r="",i=0;i<t.length;i++)r+=e(t[i],i,t,e)||"";return r}function Mfe(t,e,r,i){switch(t.type){case _fe:if(t.children.length)break;case vfe:case mfe:case XY:return t.return=t.return||t.value;case YY:return"";case yfe:return t.return=t.value+"{"+kA(t.children,i)+"}";case qY:if(!Go(t.value=t.props.join(",")))return""}return Go(r=kA(t.children,i))?t.return=t.value+"{"+r+"}":""}const yP="data-ant-cssinjs-cache-path",Pfe="_FILE_STYLE__";let wh,QY=!0;function Lfe(){var t;if(!wh&&(wh={},gu())){const e=document.createElement("div");e.className=yP,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);let r=getComputedStyle(e).content||"";r=r.replace(/^"/,"").replace(/"$/,""),r.split(";").forEach(n=>{const[a,s]=n.split(":");wh[a]=s});const i=document.querySelector(`style[${yP}]`);i&&(QY=!1,(t=i.parentNode)===null||t===void 0||t.removeChild(i)),document.body.removeChild(e)}}function Ofe(t){return Lfe(),!!wh[t]}function Rfe(t){const e=wh[t];let r=null;if(e&&gu())if(QY)r=Pfe;else{const i=document.querySelector(`style[${Ah}="${wh[t]}"]`);i?r=i.innerHTML:delete wh[t]}return[r,e]}const _P=gu(),Nfe="_skip_check_",eq="_multi_value_";function xP(t){return kA(Ife(t),Mfe).replace(/\{%%%\:[^;];}/g,";")}function kfe(t){return typeof t=="object"&&t&&(Nfe in t||eq in t)}function zfe(t,e,r){if(!e)return t;const i=`.${e}`,n=r==="low"?`:where(${i})`:i;return t.split(",").map(s=>{var o;const u=s.trim().split(/\s+/);let l=u[0]||"";const c=((o=l.match(/^\w+/))===null||o===void 0?void 0:o[0])||"";return l=`${c}${n}${l.slice(c.length)}`,[l,...u.slice(1)].join(" ")}).join(",")}const bP=new Set,zA=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:r,injectHash:i,parentSelectors:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:a,layer:s,path:o,hashPriority:u,transformers:l=[],linters:c=[]}=e;let h="",f={};function d(v){const m=v.getName(a);if(!f[m]){const[y]=zA(v.style,e,{root:!1,parentSelectors:n});f[m]=`@keyframes ${v.getName(a)}${y}`}}function p(v){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.forEach(y=>{Array.isArray(y)?p(y,m):y&&m.push(y)}),m}if(p(Array.isArray(t)?t:[t]).forEach(v=>{const m=typeof v=="string"&&!r?{}:v;if(typeof m=="string")h+=`${m}
`;else if(m._keyframe)d(m);else{const y=l.reduce((_,x)=>{var b;return((b=x==null?void 0:x.visit)===null||b===void 0?void 0:b.call(x,_))||_},m);Object.keys(y).forEach(_=>{var x;const b=y[_];if(typeof b=="object"&&b&&(_!=="animationName"||!b._keyframe)&&!kfe(b)){let C=!1,E=_.trim(),A=!1;(r||i)&&a?E.startsWith("@")?C=!0:E=zfe(_,a,u):r&&!a&&(E==="&"||E==="")&&(E="",A=!0);const[S,T]=zA(b,e,{root:A,injectHash:C,parentSelectors:[...n,E]});f=fe(fe({},f),T),h+=`${E}${S}`}else{let C=function(A,S){const T=A.replace(/[A-Z]/g,F=>`-${F.toLowerCase()}`);let D=S;!gfe[A]&&typeof D=="number"&&D!==0&&(D=`${D}px`),A==="animationName"&&(S!=null&&S._keyframe)&&(d(S),D=S.getName(a)),h+=`${T}:${D};`};const E=(x=b==null?void 0:b.value)!==null&&x!==void 0?x:b;typeof b=="object"&&(b!=null&&b[eq])&&Array.isArray(E)?E.forEach(A=>{C(_,A)}):C(_,E)}})}}),!r)h=`{${h}}`;else if(s&&ofe()){const v=s.split(",");h=`@layer ${v[v.length-1].trim()} {${h}}`,v.length>1&&(h=`@layer ${s}{%%%:%}${h}`)}return[h,f]};function Hfe(t,e){return b7(`${t.join("%")}${e}`)}function HA(t,e){const r=ib(),i=Ge(()=>t.value.token._tokenKey),n=Ge(()=>[i.value,...t.value.path]);let a=_P;return zY("style",n,()=>{const{path:s,hashId:o,layer:u,nonce:l,clientOnly:c,order:h=0}=t.value,f=n.value.join("|");if(Ofe(f)){const[E,A]=Rfe(f);if(E)return[E,i.value,A,{},c,h]}const d=e(),{hashPriority:p,container:g,transformers:v,linters:m,cache:y}=r.value,[_,x]=zA(d,{hashId:o,hashPriority:p,layer:u,path:s.join("-"),transformers:v,linters:m}),b=xP(_),C=Hfe(n.value,b);if(a){const E={mark:Ah,prepend:"queue",attachTo:g,priority:h},A=typeof l=="function"?l():l;A&&(E.csp={nonce:A});const S=v2(b,C,E);S[Fd]=y.instanceId,S.setAttribute(RY,i.value),Object.keys(x).forEach(T=>{bP.has(T)||(bP.add(T),v2(xP(x[T]),`_effect-${T}`,{mark:Ah,prepend:"queue",attachTo:g}))})}return[b,i.value,C,x,c,h]},(s,o)=>{let[,,u]=s;(o||r.value.autoClear)&&_P&&n3(u,{mark:Ah})}),s=>s}class Wi{constructor(e,r){this._keyframe=!0,this.name=e,this.style=r}getName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?`${e}-${this.name}`:this.name}}function Gfe(t){if(typeof t=="number")return[t];const e=String(t).split(/\s+/);let r="",i=0;return e.reduce((n,a)=>(a.includes("(")?(r+=a,i+=a.split("(").length-1):a.includes(")")?(r+=` ${a}`,i-=a.split(")").length-1,i===0&&(n.push(r),r="")):i>0?r+=` ${a}`:n.push(a),n),[])}function Nf(t){return t.notSplit=!0,t}const Ufe={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:Nf(["borderTop","borderBottom"]),borderBlockStart:Nf(["borderTop"]),borderBlockEnd:Nf(["borderBottom"]),borderInline:Nf(["borderLeft","borderRight"]),borderInlineStart:Nf(["borderLeft"]),borderInlineEnd:Nf(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function My(t){return{_skip_check_:!0,value:t}}const MYe={visit:t=>{const e={};return Object.keys(t).forEach(r=>{const i=t[r],n=Ufe[r];if(n&&(typeof i=="number"||typeof i=="string")){const a=Gfe(i);n.length&&n.notSplit?n.forEach(s=>{e[s]=My(i)}):n.length===1?e[n[0]]=My(i):n.length===2?n.forEach((s,o)=>{var u;e[s]=My((u=a[o])!==null&&u!==void 0?u:a[0])}):n.length===4?n.forEach((s,o)=>{var u,l;e[s]=My((l=(u=a[o])!==null&&u!==void 0?u:a[o-2])!==null&&l!==void 0?l:a[0])}):e[r]=i}else e[r]=i}),e}},jfe="4.2.6",s3=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function Dn(t,e){Vfe(t)&&(t="100%");var r=$fe(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Py(t){return Math.min(1,Math.max(0,t))}function Vfe(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function $fe(t){return typeof t=="string"&&t.indexOf("%")!==-1}function tq(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ly(t){return t<=1?"".concat(Number(t)*100,"%"):t}function lh(t){return t.length===1?"0"+t:String(t)}function Wfe(t,e,r){return{r:Dn(t,255)*255,g:Dn(e,255)*255,b:Dn(r,255)*255}}function CP(t,e,r){t=Dn(t,255),e=Dn(e,255),r=Dn(r,255);var i=Math.max(t,e,r),n=Math.min(t,e,r),a=0,s=0,o=(i+n)/2;if(i===n)s=0,a=0;else{var u=i-n;switch(s=o>.5?u/(2-i-n):u/(i+n),i){case t:a=(e-r)/u+(e<r?6:0);break;case e:a=(r-t)/u+2;break;case r:a=(t-e)/u+4;break}a/=6}return{h:a,s,l:o}}function fE(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*(6*r):r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Yfe(t,e,r){var i,n,a;if(t=Dn(t,360),e=Dn(e,100),r=Dn(r,100),e===0)n=r,a=r,i=r;else{var s=r<.5?r*(1+e):r+e-r*e,o=2*r-s;i=fE(o,s,t+1/3),n=fE(o,s,t),a=fE(o,s,t-1/3)}return{r:i*255,g:n*255,b:a*255}}function GA(t,e,r){t=Dn(t,255),e=Dn(e,255),r=Dn(r,255);var i=Math.max(t,e,r),n=Math.min(t,e,r),a=0,s=i,o=i-n,u=i===0?0:o/i;if(i===n)a=0;else{switch(i){case t:a=(e-r)/o+(e<r?6:0);break;case e:a=(r-t)/o+2;break;case r:a=(t-e)/o+4;break}a/=6}return{h:a,s:u,v:s}}function qfe(t,e,r){t=Dn(t,360)*6,e=Dn(e,100),r=Dn(r,100);var i=Math.floor(t),n=t-i,a=r*(1-e),s=r*(1-n*e),o=r*(1-(1-n)*e),u=i%6,l=[r,s,a,a,o,r][u],c=[o,r,r,s,a,a][u],h=[a,a,o,r,r,s][u];return{r:l*255,g:c*255,b:h*255}}function UA(t,e,r,i){var n=[lh(Math.round(t).toString(16)),lh(Math.round(e).toString(16)),lh(Math.round(r).toString(16))];return i&&n[0].startsWith(n[0].charAt(1))&&n[1].startsWith(n[1].charAt(1))&&n[2].startsWith(n[2].charAt(1))?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function Xfe(t,e,r,i,n){var a=[lh(Math.round(t).toString(16)),lh(Math.round(e).toString(16)),lh(Math.round(r).toString(16)),lh(Zfe(i))];return n&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Zfe(t){return Math.round(parseFloat(t)*255).toString(16)}function EP(t){return qa(t)/255}function qa(t){return parseInt(t,16)}function Kfe(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var jA={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function xd(t){var e={r:0,g:0,b:0},r=1,i=null,n=null,a=null,s=!1,o=!1;return typeof t=="string"&&(t=ede(t)),typeof t=="object"&&(Mu(t.r)&&Mu(t.g)&&Mu(t.b)?(e=Wfe(t.r,t.g,t.b),s=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Mu(t.h)&&Mu(t.s)&&Mu(t.v)?(i=Ly(t.s),n=Ly(t.v),e=qfe(t.h,i,n),s=!0,o="hsv"):Mu(t.h)&&Mu(t.s)&&Mu(t.l)&&(i=Ly(t.s),a=Ly(t.l),e=Yfe(t.h,i,a),s=!0,o="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=tq(r),{ok:s,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}var Jfe="[-\\+]?\\d+%?",Qfe="[-\\+]?\\d*\\.\\d+%?",dc="(?:".concat(Qfe,")|(?:").concat(Jfe,")"),dE="[\\s|\\(]+(".concat(dc,")[,|\\s]+(").concat(dc,")[,|\\s]+(").concat(dc,")\\s*\\)?"),pE="[\\s|\\(]+(".concat(dc,")[,|\\s]+(").concat(dc,")[,|\\s]+(").concat(dc,")[,|\\s]+(").concat(dc,")\\s*\\)?"),Qs={CSS_UNIT:new RegExp(dc),rgb:new RegExp("rgb"+dE),rgba:new RegExp("rgba"+pE),hsl:new RegExp("hsl"+dE),hsla:new RegExp("hsla"+pE),hsv:new RegExp("hsv"+dE),hsva:new RegExp("hsva"+pE),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ede(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(jA[t])t=jA[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=Qs.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=Qs.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Qs.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=Qs.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Qs.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=Qs.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Qs.hex8.exec(t),r?{r:qa(r[1]),g:qa(r[2]),b:qa(r[3]),a:EP(r[4]),format:e?"name":"hex8"}:(r=Qs.hex6.exec(t),r?{r:qa(r[1]),g:qa(r[2]),b:qa(r[3]),format:e?"name":"hex"}:(r=Qs.hex4.exec(t),r?{r:qa(r[1]+r[1]),g:qa(r[2]+r[2]),b:qa(r[3]+r[3]),a:EP(r[4]+r[4]),format:e?"name":"hex8"}:(r=Qs.hex3.exec(t),r?{r:qa(r[1]+r[1]),g:qa(r[2]+r[2]),b:qa(r[3]+r[3]),format:e?"name":"hex"}:!1)))))))))}function Mu(t){return!!Qs.CSS_UNIT.exec(String(t))}var wn=function(){function t(e,r){e===void 0&&(e=""),r===void 0&&(r={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=Kfe(e)),this.originalInput=e;var n=xd(e);this.originalInput=e,this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=r.format)!==null&&i!==void 0?i:n.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=n.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),r,i,n,a=e.r/255,s=e.g/255,o=e.b/255;return a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),.2126*r+.7152*i+.0722*n},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=tq(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=GA(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=GA(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.v*100);return this.a===1?"hsv(".concat(r,", ").concat(i,"%, ").concat(n,"%)"):"hsva(".concat(r,", ").concat(i,"%, ").concat(n,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=CP(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=CP(this.r,this.g,this.b),r=Math.round(e.h*360),i=Math.round(e.s*100),n=Math.round(e.l*100);return this.a===1?"hsl(".concat(r,", ").concat(i,"%, ").concat(n,"%)"):"hsla(".concat(r,", ").concat(i,"%, ").concat(n,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),UA(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),Xfe(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),r=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(r,", ").concat(i,")"):"rgba(".concat(e,", ").concat(r,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(r){return"".concat(Math.round(Dn(r,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(r){return Math.round(Dn(r,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+UA(this.r,this.g,this.b,!1),r=0,i=Object.entries(jA);r<i.length;r++){var n=i[r],a=n[0],s=n[1];if(e===s)return a}return!1},t.prototype.toString=function(e){var r=!!e;e=e??this.format;var i=!1,n=this.a<1&&this.a>=0,a=!r&&n&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l+=e/100,r.l=Py(r.l),new t(r)},t.prototype.brighten=function(e){e===void 0&&(e=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),new t(r)},t.prototype.darken=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.l-=e/100,r.l=Py(r.l),new t(r)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s-=e/100,r.s=Py(r.s),new t(r)},t.prototype.saturate=function(e){e===void 0&&(e=10);var r=this.toHsl();return r.s+=e/100,r.s=Py(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var r=this.toHsl(),i=(r.h+e)%360;return r.h=i<0?360+i:i,new t(r)},t.prototype.mix=function(e,r){r===void 0&&(r=50);var i=this.toRgb(),n=new t(e).toRgb(),a=r/100,s={r:(n.r-i.r)*a+i.r,g:(n.g-i.g)*a+i.g,b:(n.b-i.b)*a+i.b,a:(n.a-i.a)*a+i.a};return new t(s)},t.prototype.analogous=function(e,r){e===void 0&&(e=6),r===void 0&&(r=30);var i=this.toHsl(),n=360/r,a=[this];for(i.h=(i.h-(n*e>>1)+720)%360;--e;)i.h=(i.h+n)%360,a.push(new t(i));return a},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var r=this.toHsv(),i=r.h,n=r.s,a=r.v,s=[],o=1/e;e--;)s.push(new t({h:i,s:n,v:a})),a=(a+o)%1;return s},t.prototype.splitcomplement=function(){var e=this.toHsl(),r=e.h;return[this,new t({h:(r+72)%360,s:e.s,l:e.l}),new t({h:(r+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var r=this.toRgb(),i=new t(e).toRgb(),n=r.a+i.a*(1-r.a);return new t({r:(r.r*r.a+i.r*i.a*(1-r.a))/n,g:(r.g*r.a+i.g*i.a*(1-r.a))/n,b:(r.b*r.a+i.b*i.a*(1-r.a))/n,a:n})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var r=this.toHsl(),i=r.h,n=[this],a=360/e,s=1;s<e;s++)n.push(new t({h:(i+s*a)%360,s:r.s,l:r.l}));return n},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Oy=2,SP=.16,tde=.05,rde=.05,ide=.15,rq=5,iq=4,nde=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function TP(t){var e=t.r,r=t.g,i=t.b,n=GA(e,r,i);return{h:n.h*360,s:n.s,v:n.v}}function Ry(t){var e=t.r,r=t.g,i=t.b;return"#".concat(UA(e,r,i,!1))}function ade(t,e,r){var i=r/100,n={r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b};return n}function AP(t,e,r){var i;return Math.round(t.h)>=60&&Math.round(t.h)<=240?i=r?Math.round(t.h)-Oy*e:Math.round(t.h)+Oy*e:i=r?Math.round(t.h)+Oy*e:Math.round(t.h)-Oy*e,i<0?i+=360:i>=360&&(i-=360),i}function wP(t,e,r){if(t.h===0&&t.s===0)return t.s;var i;return r?i=t.s-SP*e:e===iq?i=t.s+SP:i=t.s+tde*e,i>1&&(i=1),r&&e===rq&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function DP(t,e,r){var i;return r?i=t.v+rde*e:i=t.v-ide*e,i>1&&(i=1),Number(i.toFixed(2))}function $h(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=[],i=xd(t),n=rq;n>0;n-=1){var a=TP(i),s=Ry(xd({h:AP(a,n,!0),s:wP(a,n,!0),v:DP(a,n,!0)}));r.push(s)}r.push(Ry(i));for(var o=1;o<=iq;o+=1){var u=TP(i),l=Ry(xd({h:AP(u,o),s:wP(u,o),v:DP(u,o)}));r.push(l)}return e.theme==="dark"?nde.map(function(c){var h=c.index,f=c.opacity,d=Ry(ade(xd(e.backgroundColor||"#141414"),xd(r[h]),f*100));return d}):r}var gE={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Dx={},vE={};Object.keys(gE).forEach(function(t){Dx[t]=$h(gE[t]),Dx[t].primary=Dx[t][5],vE[t]=$h(gE[t],{theme:"dark",backgroundColor:"#141414"}),vE[t].primary=vE[t][5]});var sde=Dx.blue;const ode=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}};function ude(t){const{sizeUnit:e,sizeStep:r}=t;return{sizeXXL:e*(r+8),sizeXL:e*(r+4),sizeLG:e*(r+2),sizeMD:e*(r+1),sizeMS:e*r,size:e*r,sizeSM:e*(r-1),sizeXS:e*(r-2),sizeXXS:e*(r-3)}}const nq={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},ob=fe(fe({},nq),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1});function lde(t,e){let{generateColorPalettes:r,generateNeutralColorPalettes:i}=e;const{colorSuccess:n,colorWarning:a,colorError:s,colorInfo:o,colorPrimary:u,colorBgBase:l,colorTextBase:c}=t,h=r(u),f=r(n),d=r(a),p=r(s),g=r(o),v=i(l,c);return fe(fe({},v),{colorPrimaryBg:h[1],colorPrimaryBgHover:h[2],colorPrimaryBorder:h[3],colorPrimaryBorderHover:h[4],colorPrimaryHover:h[5],colorPrimary:h[6],colorPrimaryActive:h[7],colorPrimaryTextHover:h[8],colorPrimaryText:h[9],colorPrimaryTextActive:h[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:d[1],colorWarningBgHover:d[2],colorWarningBorder:d[3],colorWarningBorderHover:d[4],colorWarningHover:d[4],colorWarning:d[6],colorWarningActive:d[7],colorWarningTextHover:d[8],colorWarningText:d[9],colorWarningTextActive:d[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorBgMask:new wn("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const cde=t=>{let e=t,r=t,i=t,n=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?r=4:t<8&&t>=7?r=5:t<14&&t>=8?r=6:t<16&&t>=14?r=7:t>=16&&(r=8),t<6&&t>=2?i=1:t>=6&&(i=2),t>4&&t<8?n=4:t>=8&&(n=6),{borderRadius:t>16?16:t,borderRadiusXS:i,borderRadiusSM:r,borderRadiusLG:e,borderRadiusOuter:n}};function hde(t){const{motionUnit:e,motionBase:r,borderRadius:i,lineWidth:n}=t;return fe({motionDurationFast:`${(r+e).toFixed(1)}s`,motionDurationMid:`${(r+e*2).toFixed(1)}s`,motionDurationSlow:`${(r+e*3).toFixed(1)}s`,lineWidthBold:n+1},cde(i))}const Pu=(t,e)=>new wn(t).setAlpha(e).toRgbString(),iv=(t,e)=>new wn(t).darken(e).toHexString(),fde=t=>{const e=$h(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},dde=(t,e)=>{const r=t||"#fff",i=e||"#000";return{colorBgBase:r,colorTextBase:i,colorText:Pu(i,.88),colorTextSecondary:Pu(i,.65),colorTextTertiary:Pu(i,.45),colorTextQuaternary:Pu(i,.25),colorFill:Pu(i,.15),colorFillSecondary:Pu(i,.06),colorFillTertiary:Pu(i,.04),colorFillQuaternary:Pu(i,.02),colorBgLayout:iv(r,4),colorBgContainer:iv(r,0),colorBgElevated:iv(r,0),colorBgSpotlight:Pu(i,.85),colorBorder:iv(r,15),colorBorderSecondary:iv(r,6)}};function pde(t){const e=new Array(10).fill(null).map((r,i)=>{const n=i-1,a=t*Math.pow(2.71828,n/5),s=i>1?Math.floor(a):Math.ceil(a);return Math.floor(s/2)*2});return e[1]=t,e.map(r=>{const i=r+8;return{size:r,lineHeight:i/r}})}const gde=t=>{const e=pde(t),r=e.map(n=>n.size),i=e.map(n=>n.lineHeight);return{fontSizeSM:r[0],fontSize:r[1],fontSizeLG:r[2],fontSizeXL:r[3],fontSizeHeading1:r[6],fontSizeHeading2:r[5],fontSizeHeading3:r[4],fontSizeHeading4:r[3],fontSizeHeading5:r[2],lineHeight:i[1],lineHeightLG:i[2],lineHeightSM:i[0],lineHeightHeading1:i[6],lineHeightHeading2:i[5],lineHeightHeading3:i[4],lineHeightHeading4:i[3],lineHeightHeading5:i[2]}};function vde(t){const e=Object.keys(nq).map(r=>{const i=$h(t[r]);return new Array(10).fill(1).reduce((n,a,s)=>(n[`${r}-${s+1}`]=i[s],n),{})}).reduce((r,i)=>(r=fe(fe({},r),i),r),{});return fe(fe(fe(fe(fe(fe(fe({},t),e),lde(t,{generateColorPalettes:fde,generateNeutralColorPalettes:dde})),gde(t.fontSize)),ude(t)),ode(t)),hde(t))}function mE(t){return t>=0&&t<=255}function Ny(t,e){const{r,g:i,b:n,a}=new wn(t).toRgb();if(a<1)return t;const{r:s,g:o,b:u}=new wn(e).toRgb();for(let l=.01;l<=1;l+=.01){const c=Math.round((r-s*(1-l))/l),h=Math.round((i-o*(1-l))/l),f=Math.round((n-u*(1-l))/l);if(mE(c)&&mE(h)&&mE(f))return new wn({r:c,g:h,b:f,a:Math.round(l*100)/100}).toRgbString()}return new wn({r,g:i,b:n,a:1}).toRgbString()}var mde=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};function yde(t){const{override:e}=t,r=mde(t,["override"]),i=fe({},e);Object.keys(ob).forEach(d=>{delete i[d]});const n=fe(fe({},r),i),a=480,s=576,o=768,u=992,l=1200,c=1600,h=2e3;return fe(fe(fe({},n),{colorLink:n.colorInfoText,colorLinkHover:n.colorInfoHover,colorLinkActive:n.colorInfoActive,colorFillContent:n.colorFillSecondary,colorFillContentHover:n.colorFill,colorFillAlter:n.colorFillQuaternary,colorBgContainerDisabled:n.colorFillTertiary,colorBorderBg:n.colorBgContainer,colorSplit:Ny(n.colorBorderSecondary,n.colorBgContainer),colorTextPlaceholder:n.colorTextQuaternary,colorTextDisabled:n.colorTextQuaternary,colorTextHeading:n.colorText,colorTextLabel:n.colorTextSecondary,colorTextDescription:n.colorTextTertiary,colorTextLightSolid:n.colorWhite,colorHighlight:n.colorError,colorBgTextHover:n.colorFillSecondary,colorBgTextActive:n.colorFill,colorIcon:n.colorTextTertiary,colorIconHover:n.colorText,colorErrorOutline:Ny(n.colorErrorBg,n.colorBgContainer),colorWarningOutline:Ny(n.colorWarningBg,n.colorBgContainer),fontSizeIcon:n.fontSizeSM,lineWidth:n.lineWidth,controlOutlineWidth:n.lineWidth*2,controlInteractiveSize:n.controlHeight/2,controlItemBgHover:n.colorFillTertiary,controlItemBgActive:n.colorPrimaryBg,controlItemBgActiveHover:n.colorPrimaryBgHover,controlItemBgActiveDisabled:n.colorFill,controlTmpOutline:n.colorFillQuaternary,controlOutline:Ny(n.colorPrimaryBg,n.colorBgContainer),lineType:n.lineType,borderRadius:n.borderRadius,borderRadiusXS:n.borderRadiusXS,borderRadiusSM:n.borderRadiusSM,borderRadiusLG:n.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:n.sizeXXS,paddingXS:n.sizeXS,paddingSM:n.sizeSM,padding:n.size,paddingMD:n.sizeMD,paddingLG:n.sizeLG,paddingXL:n.sizeXL,paddingContentHorizontalLG:n.sizeLG,paddingContentVerticalLG:n.sizeMS,paddingContentHorizontal:n.sizeMS,paddingContentVertical:n.sizeSM,paddingContentHorizontalSM:n.size,paddingContentVerticalSM:n.sizeXS,marginXXS:n.sizeXXS,marginXS:n.sizeXS,marginSM:n.sizeSM,margin:n.size,marginMD:n.sizeMD,marginLG:n.sizeLG,marginXL:n.sizeXL,marginXXL:n.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:a,screenXSMin:a,screenXSMax:s-1,screenSM:s,screenSMMin:s,screenSMMax:o-1,screenMD:o,screenMDMin:o,screenMDMax:u-1,screenLG:u,screenLGMin:u,screenLGMax:l-1,screenXL:l,screenXLMin:l,screenXLMax:c-1,screenXXL:c,screenXXLMin:c,screenXXLMax:h-1,screenXXXL:h,screenXXXLMin:h,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new wn("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new wn("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new wn("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),i)}const _de=(t,e,r,i,n)=>{const a=t/2,s=0,o=a,u=r*1/Math.sqrt(2),l=a-r*(1-1/Math.sqrt(2)),c=a-e*(1/Math.sqrt(2)),h=r*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),f=2*a-c,d=h,p=2*a-u,g=l,v=2*a-s,m=o,y=a*Math.sqrt(2)+r*(Math.sqrt(2)-2),_=r*(Math.sqrt(2)-1);return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::after":{content:'""',position:"absolute",width:y,height:y,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:t/2,background:i,clipPath:{_multi_value_:!0,value:[`polygon(${_}px 100%, 50% ${_}px, ${2*a-_}px 100%, ${_}px 100%)`,`path('M ${s} ${o} A ${r} ${r} 0 0 0 ${u} ${l} L ${c} ${h} A ${e} ${e} 0 0 1 ${f} ${d} L ${p} ${g} A ${r} ${r} 0 0 0 ${v} ${m} Z')`]},content:'""'}}};function xde(t,e){return s3.reduce((r,i)=>{const n=t[`${i}-1`],a=t[`${i}-3`],s=t[`${i}-6`],o=t[`${i}-7`];return fe(fe({},r),e(i,{lightColor:n,lightBorderColor:a,darkColor:s,textColor:o}))},{})}const T7=t=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:t.fontFamily}),bde=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Cde=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),Ede=(t,e)=>{const{fontFamily:r,fontSize:i}=t,n=`[class^="${e}"], [class*=" ${e}"]`;return{[n]:{fontFamily:r,fontSize:i,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[n]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}};function _m(t,e,r){return i=>{const n=Ge(()=>i==null?void 0:i.value),[a,s,o]=ub(),{getPrefixCls:u,iconPrefixCls:l}=x7(),c=Ge(()=>u()),h=Ge(()=>({theme:a.value,token:s.value,hashId:o.value,path:["Shared",c.value]}));HA(h,()=>[{"&":Cde(s.value)}]);const f=Ge(()=>({theme:a.value,token:s.value,hashId:o.value,path:[t,n.value,l.value]}));return[HA(f,()=>{const{token:d,flush:p}=Tde(s.value),g=typeof r=="function"?r(d):r,v=fe(fe({},g),s.value[t]),m=`.${n.value}`,y=vf(d,{componentCls:m,prefixCls:n.value,iconCls:`.${l.value}`,antCls:`.${c.value}`},v),_=e(y,{hashId:o.value,prefixCls:n.value,rootPrefixCls:c.value,iconPrefixCls:l.value,overrideComponentToken:s.value[t]});return p(t,v),[Ede(s.value,n.value),_]}),o]}}const aq=typeof CSSINJS_STATISTIC<"u";let VA=!0;function vf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(!aq)return fe({},...e);VA=!1;const i={};return e.forEach(n=>{Object.keys(n).forEach(s=>{Object.defineProperty(i,s,{configurable:!0,enumerable:!0,get:()=>n[s]})})}),VA=!0,i}function Sde(){}function Tde(t){let e,r=t,i=Sde;return aq&&(e=new Set,r=new Proxy(t,{get(n,a){return VA&&e.add(a),n[a]}}),i=(n,a)=>{Array.from(e)}),{token:r,keys:e,flush:i}}const Ade=$Y(vde),sq={token:ob,hashed:!0},oq=Symbol("DesignTokenContext"),$A=hr(),wde=t=>{oa(oq,t),oi(t,()=>{$A.value=el(t),Jue($A)},{immediate:!0,deep:!0})},Dde=Br({props:{value:xn()},setup(t,e){let{slots:r}=e;return wde(Ge(()=>t.value)),()=>{var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}});function ub(){const t=Fi(oq,Ge(()=>$A.value||sq)),e=Ge(()=>`${jfe}-${t.value.hashed||""}`),r=Ge(()=>t.value.theme||Ade),i=pfe(r,Ge(()=>[ob,t.value.token]),Ge(()=>({salt:e.value,override:fe({override:t.value.token},t.value.components),formatToken:yde})));return[r,Ge(()=>i.value[0]),Ge(()=>t.value.hashed?i.value[1]:"")]}const A7=Br({compatConfig:{MODE:3},setup(){const[,t]=ub(),e=Ge(()=>new wn(t.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>Ae("svg",{style:e.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[Ae("g",{fill:"none","fill-rule":"evenodd"},[Ae("g",{transform:"translate(24 31.67)"},[Ae("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),Ae("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),Ae("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),Ae("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),Ae("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),Ae("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),Ae("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[Ae("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),Ae("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});A7.PRESENTED_IMAGE_DEFAULT=!0;const uq=Br({compatConfig:{MODE:3},setup(){const[,t]=ub(),e=Ge(()=>{const{colorFill:r,colorFillTertiary:i,colorFillQuaternary:n,colorBgContainer:a}=t.value;return{borderColor:new wn(r).onBackground(a).toHexString(),shadowColor:new wn(i).onBackground(a).toHexString(),contentColor:new wn(n).onBackground(a).toHexString()}});return()=>Ae("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[Ae("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[Ae("ellipse",{fill:e.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),Ae("g",{"fill-rule":"nonzero",stroke:e.value.borderColor},[Ae("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),Ae("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:e.value.contentColor},null)])])])}});uq.PRESENTED_IMAGE_SIMPLE=!0;const Fde=t=>{const{componentCls:e,margin:r,marginXS:i,marginXL:n,fontSize:a,lineHeight:s}=t;return{[e]:{marginInline:i,fontSize:a,lineHeight:s,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:i,opacity:t.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${e}-footer`]:{marginTop:r},"&-normal":{marginBlock:n,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:i,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},Ide=_m("Empty",t=>{const{componentCls:e,controlHeightLG:r}=t,i=vf(t,{emptyImgCls:`${e}-img`,emptyImgHeight:r*2.5,emptyImgHeightMD:r,emptyImgHeightSM:r*.875});return[Fde(i)]});var Bde=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const Mde=()=>({prefixCls:String,imageStyle:xn(),image:i3(),description:i3()}),w7=Br({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:Mde(),setup(t,e){let{slots:r={},attrs:i}=e;const{direction:n,prefixCls:a}=Qp("empty",t),[s,o]=Ide(a);return()=>{var u,l;const c=a.value,h=fe(fe({},t),i),{image:f=((u=r.image)===null||u===void 0?void 0:u.call(r))||Ti(A7),description:d=((l=r.description)===null||l===void 0?void 0:l.call(r))||void 0,imageStyle:p,class:g=""}=h,v=Bde(h,["image","description","imageStyle","class"]),m=typeof f=="function"?f():f,y=typeof m=="object"&&"type"in m&&m.type.PRESENTED_IMAGE_SIMPLE;return s(Ae(OY,{componentName:"Empty",children:_=>{const x=typeof d<"u"?d:_.description,b=typeof x=="string"?x:"empty";let C=null;return typeof m=="string"?C=Ae("img",{alt:b,src:m},null):C=m,Ae("div",jr({class:ki(c,g,o.value,{[`${c}-normal`]:y,[`${c}-rtl`]:n.value==="rtl"})},v),[Ae("div",{class:`${c}-image`,style:p},[C]),x&&Ae("p",{class:`${c}-description`},[x]),r.default&&Ae("div",{class:`${c}-footer`},[mm(r.default())])])}},null))}}});w7.PRESENTED_IMAGE_DEFAULT=()=>Ti(A7);w7.PRESENTED_IMAGE_SIMPLE=()=>Ti(uq);const nv=ym(w7),lq=t=>{const{prefixCls:e}=Qp("empty",t);return(i=>{switch(i){case"Table":case"List":return Ae(nv,{image:nv.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return Ae(nv,{image:nv.PRESENTED_IMAGE_SIMPLE,class:`${e.value}-small`},null);default:return Ae(nv,null,null)}})(t.componentName)};function Pde(t){return Ae(lq,{componentName:t},null)}const cq=Symbol("SizeContextKey"),hq=()=>Fi(cq,fr(void 0)),Lde=t=>{const e=hq();return oa(cq,Ge(()=>t.value||e.value)),t},Qp=(t,e)=>{const r=hq(),i=PY(),n=Fi(_7,fe(fe({},BY),{renderEmpty:E=>Ti(lq,{componentName:E})})),a=Ge(()=>n.getPrefixCls(t,e.prefixCls)),s=Ge(()=>{var E,A;return(E=e.direction)!==null&&E!==void 0?E:(A=n.direction)===null||A===void 0?void 0:A.value}),o=Ge(()=>{var E;return(E=e.iconPrefixCls)!==null&&E!==void 0?E:n.iconPrefixCls.value}),u=Ge(()=>n.getPrefixCls()),l=Ge(()=>{var E;return(E=n.autoInsertSpaceInButton)===null||E===void 0?void 0:E.value}),c=n.renderEmpty,h=n.space,f=n.pageHeader,d=n.form,p=Ge(()=>{var E,A;return(E=e.getTargetContainer)!==null&&E!==void 0?E:(A=n.getTargetContainer)===null||A===void 0?void 0:A.value}),g=Ge(()=>{var E,A,S;return(A=(E=e.getContainer)!==null&&E!==void 0?E:e.getPopupContainer)!==null&&A!==void 0?A:(S=n.getPopupContainer)===null||S===void 0?void 0:S.value}),v=Ge(()=>{var E,A;return(E=e.dropdownMatchSelectWidth)!==null&&E!==void 0?E:(A=n.dropdownMatchSelectWidth)===null||A===void 0?void 0:A.value}),m=Ge(()=>{var E;return(e.virtual===void 0?((E=n.virtual)===null||E===void 0?void 0:E.value)!==!1:e.virtual!==!1)&&v.value!==!1}),y=Ge(()=>e.size||r.value),_=Ge(()=>{var E,A,S;return(E=e.autocomplete)!==null&&E!==void 0?E:(S=(A=n.input)===null||A===void 0?void 0:A.value)===null||S===void 0?void 0:S.autocomplete}),x=Ge(()=>{var E;return(E=e.disabled)!==null&&E!==void 0?E:i.value}),b=Ge(()=>{var E;return(E=e.csp)!==null&&E!==void 0?E:n.csp}),C=Ge(()=>{var E,A;return(E=e.wave)!==null&&E!==void 0?E:(A=n.wave)===null||A===void 0?void 0:A.value});return{configProvider:n,prefixCls:a,direction:s,size:y,getTargetContainer:p,getPopupContainer:g,space:h,pageHeader:f,form:d,autoInsertSpaceInButton:l,renderEmpty:c,virtual:m,dropdownMatchSelectWidth:v,rootPrefixCls:u,getPrefixCls:n.getPrefixCls,autocomplete:_,csp:b,iconPrefixCls:o,disabled:x,select:n.select,wave:C}};function Ode(t,e){const r=fe({},t);for(let i=0;i<e.length;i+=1){const n=e[i];delete r[n]}return r}function Rde(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function fq(t,e,r){return r&&Rde(t,r),t}function Fx(){return(Fx=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}).apply(this,arguments)}function dq(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function pq(t,e){if(t==null)return{};var r,i,n={},a=Object.keys(t);for(i=0;i<a.length;i++)e.indexOf(r=a[i])>=0||(n[r]=t[r]);return n}function FP(t){return((e=t)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(t)==="[object Object]";var e}var gq=Object.prototype,vq=gq.toString,Nde=gq.hasOwnProperty,mq=/^\s*function (\w+)/;function IP(t){var e,r=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(r){var i=r.toString().match(mq);return i?i[1]:""}return""}var Wh=function(t){var e,r;return FP(t)!==!1&&typeof(e=t.constructor)=="function"&&FP(r=e.prototype)!==!1&&r.hasOwnProperty("isPrototypeOf")!==!1},kde=function(t){return t},es=kde,y2=function(t,e){return Nde.call(t,e)},zde=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},yp=Array.isArray||function(t){return vq.call(t)==="[object Array]"},_p=function(t){return vq.call(t)==="[object Function]"},o3=function(t){return Wh(t)&&y2(t,"_vueTypes_name")},yq=function(t){return Wh(t)&&(y2(t,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return y2(t,e)}))};function D7(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function mf(t,e,r){var i,n=!0,a="";i=Wh(t)?t:{type:t};var s=o3(i)?i._vueTypes_name+" - ":"";if(yq(i)&&i.type!==null){if(i.type===void 0||i.type===!0||!i.required&&e===void 0)return n;yp(i.type)?(n=i.type.some(function(h){return mf(h,e)===!0}),a=i.type.map(function(h){return IP(h)}).join(" or ")):n=(a=IP(i))==="Array"?yp(e):a==="Object"?Wh(e):a==="String"||a==="Number"||a==="Boolean"||a==="Function"?function(h){if(h==null)return"";var f=h.constructor.toString().match(mq);return f?f[1]:""}(e)===a:e instanceof i.type}if(!n){var o=s+'value "'+e+'" should be of type "'+a+'"';return o}if(y2(i,"validator")&&_p(i.validator)){var u=es,l=[];if(es=function(h){l.push(h)},n=i.validator(e),es=u,!n){var c=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,c}}return n}function rs(t,e){var r=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(n){return n!==void 0||this.default?_p(n)||mf(this,n)===!0?(this.default=yp(n)?function(){return[].concat(n)}:Wh(n)?function(){return Object.assign({},n)}:n,this):(es(this._vueTypes_name+' - invalid default value: "'+n+'"'),this):this}}}),i=r.validator;return _p(i)&&(r.validator=D7(i,r)),r}function vu(t,e){var r=rs(t,e);return Object.defineProperty(r,"validate",{value:function(i){return _p(this.validator)&&es(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=D7(i,this),this}})}function BP(t,e,r){var i,n,a=(i=e,n={},Object.getOwnPropertyNames(i).forEach(function(h){n[h]=Object.getOwnPropertyDescriptor(i,h)}),Object.defineProperties({},n));if(a._vueTypes_name=t,!Wh(r))return a;var s,o,u=r.validator,l=pq(r,["validator"]);if(_p(u)){var c=a.validator;c&&(c=(o=(s=c).__original)!==null&&o!==void 0?o:s),a.validator=D7(c?function(h){return c.call(this,h)&&u.call(this,h)}:u,a)}return Object.assign(a,l)}function lb(t){return t.replace(/^(?!\s*$)/gm,"  ")}var Hde=function(){return vu("any",{})},Gde=function(){return vu("function",{type:Function})},Ude=function(){return vu("boolean",{type:Boolean})},jde=function(){return vu("string",{type:String})},Vde=function(){return vu("number",{type:Number})},$de=function(){return vu("array",{type:Array})},Wde=function(){return vu("object",{type:Object})},Yde=function(){return rs("integer",{type:Number,validator:function(t){return zde(t)}})},qde=function(){return rs("symbol",{validator:function(t){return typeof t=="symbol"}})};function Xde(t,e){if(e===void 0&&(e="custom validation failed"),typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return rs(t.name||"<<anonymous function>>",{validator:function(r){var i=t(r);return i||es(this._vueTypes_name+" - "+e),i}})}function Zde(t){if(!yp(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+t.join('", "')+'".',r=t.reduce(function(i,n){if(n!=null){var a=n.constructor;i.indexOf(a)===-1&&i.push(a)}return i},[]);return rs("oneOf",{type:r.length>0?r:void 0,validator:function(i){var n=t.indexOf(i)!==-1;return n||es(e),n}})}function Kde(t){if(!yp(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,r=[],i=0;i<t.length;i+=1){var n=t[i];if(yq(n)){if(o3(n)&&n._vueTypes_name==="oneOf"){r=r.concat(n.type);continue}if(_p(n.validator)&&(e=!0),n.type!==!0&&n.type){r=r.concat(n.type);continue}}r.push(n)}return r=r.filter(function(a,s){return r.indexOf(a)===s}),rs("oneOfType",e?{type:r,validator:function(a){var s=[],o=t.some(function(u){var l=mf(o3(u)&&u._vueTypes_name==="oneOf"?u.type||null:u,a);return typeof l=="string"&&s.push(l),l===!0});return o||es("oneOfType - provided value does not match any of the "+s.length+` passed-in validators:
`+lb(s.join(`
`))),o}}:{type:r})}function Jde(t){return rs("arrayOf",{type:Array,validator:function(e){var r,i=e.every(function(n){return(r=mf(t,n))===!0});return i||es(`arrayOf - value validation error:
`+lb(r)),i}})}function Qde(t){return rs("instanceOf",{type:t})}function epe(t){return rs("objectOf",{type:Object,validator:function(e){var r,i=Object.keys(e).every(function(n){return(r=mf(t,e[n]))===!0});return i||es(`objectOf - value validation error:
`+lb(r)),i}})}function tpe(t){var e=Object.keys(t),r=e.filter(function(n){var a;return!!(!((a=t[n])===null||a===void 0)&&a.required)}),i=rs("shape",{type:Object,validator:function(n){var a=this;if(!Wh(n))return!1;var s=Object.keys(n);if(r.length>0&&r.some(function(u){return s.indexOf(u)===-1})){var o=r.filter(function(u){return s.indexOf(u)===-1});return es(o.length===1?'shape - required property "'+o[0]+'" is not defined.':'shape - required properties "'+o.join('", "')+'" are not defined.'),!1}return s.every(function(u){if(e.indexOf(u)===-1)return a._vueTypes_isLoose===!0||(es('shape - shape definition does not include a "'+u+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var l=mf(t[u],n[u]);return typeof l=="string"&&es('shape - "'+u+`" property validation error:
 `+lb(l)),l===!0})}});return Object.defineProperty(i,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(i,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),i}var Oo=function(){function t(){}return t.extend=function(e){var r=this;if(yp(e))return e.forEach(function(h){return r.extend(h)}),this;var i=e.name,n=e.validate,a=n!==void 0&&n,s=e.getter,o=s!==void 0&&s,u=pq(e,["name","validate","getter"]);if(y2(this,i))throw new TypeError('[VueTypes error]: Type "'+i+'" already defined');var l,c=u.type;return o3(c)?(delete u.type,Object.defineProperty(this,i,o?{get:function(){return BP(i,c,u)}}:{value:function(){var h,f=BP(i,c,u);return f.validator&&(f.validator=(h=f.validator).bind.apply(h,[f].concat([].slice.call(arguments)))),f}})):(l=o?{get:function(){var h=Object.assign({},u);return a?vu(i,h):rs(i,h)},enumerable:!0}:{value:function(){var h,f,d=Object.assign({},u);return h=a?vu(i,d):rs(i,d),d.validator&&(h.validator=(f=d.validator).bind.apply(f,[h].concat([].slice.call(arguments)))),h},enumerable:!0},Object.defineProperty(this,i,l))},fq(t,null,[{key:"any",get:function(){return Hde()}},{key:"func",get:function(){return Gde().def(this.defaults.func)}},{key:"bool",get:function(){return Ude().def(this.defaults.bool)}},{key:"string",get:function(){return jde().def(this.defaults.string)}},{key:"number",get:function(){return Vde().def(this.defaults.number)}},{key:"array",get:function(){return $de().def(this.defaults.array)}},{key:"object",get:function(){return Wde().def(this.defaults.object)}},{key:"integer",get:function(){return Yde().def(this.defaults.integer)}},{key:"symbol",get:function(){return qde()}}]),t}();function _q(t){var e;return t===void 0&&(t={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(r){function i(){return r.apply(this,arguments)||this}return dq(i,r),fq(i,null,[{key:"sensibleDefaults",get:function(){return Fx({},this.defaults)},set:function(n){this.defaults=n!==!1?Fx({},n!==!0?n:t):{}}}]),i}(Oo)).defaults=Fx({},t),e}Oo.defaults={},Oo.custom=Xde,Oo.oneOf=Zde,Oo.instanceOf=Qde,Oo.oneOfType=Kde,Oo.arrayOf=Jde,Oo.objectOf=epe,Oo.shape=tpe,Oo.utils={validate:function(t,e){return mf(e,t)===!0},toType:function(t,e,r){return r===void 0&&(r=!1),r?vu(t,e):rs(t,e)}};(function(t){function e(){return t.apply(this,arguments)||this}return dq(e,t),e})(_q());const or=_q({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});or.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);function rpe(){return""}function ipe(t){return t?t.ownerDocument:window.document}function xq(){}const npe=()=>({action:or.oneOfType([or.string,or.arrayOf(or.string)]).def([]),showAction:or.any.def([]),hideAction:or.any.def([]),getPopupClassNameFromAlign:or.any.def(rpe),onPopupVisibleChange:Function,afterPopupVisibleChange:or.func.def(xq),popup:or.any,arrow:or.bool.def(!0),popupStyle:{type:Object,default:void 0},prefixCls:or.string.def("rc-trigger-popup"),popupClassName:or.string.def(""),popupPlacement:String,builtinPlacements:or.object,popupTransitionName:String,popupAnimation:or.any,mouseEnterDelay:or.number.def(0),mouseLeaveDelay:or.number.def(.1),zIndex:Number,focusDelay:or.number.def(0),blurDelay:or.number.def(.15),getPopupContainer:Function,getDocument:or.func.def(ipe),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:or.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),F7={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,arrow:{type:Boolean,default:!0},animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},ape=fe(fe({},F7),{mobile:{type:Object}}),spe=fe(fe({},F7),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function I7(t){let{prefixCls:e,animation:r,transitionName:i}=t;return r?{name:`${e}-${r}`}:i?{name:i}:{}}function bq(t){const{prefixCls:e,visible:r,zIndex:i,mask:n,maskAnimation:a,maskTransitionName:s}=t;if(!n)return null;let o={};return(s||a)&&(o=I7({prefixCls:e,transitionName:s,animation:a})),Ae(d7,jr({appear:!0},o),{default:()=>[hW(Ae("div",{style:{zIndex:i},class:`${e}-mask`},null),[[ble("if"),r]])]})}bq.displayName="Mask";const ope=Br({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:ape,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,e){let{expose:r,slots:i}=e;const n=fr();return r({forceAlign:()=>{},getElement:()=>n.value}),()=>{var a;const{zIndex:s,visible:o,prefixCls:u,mobile:{popupClassName:l,popupStyle:c,popupMotion:h={},popupRender:f}={}}=t,d=fe({zIndex:s},c);let p=wc((a=i.default)===null||a===void 0?void 0:a.call(i));p.length>1&&(p=Ae("div",{class:`${u}-content`},[p])),f&&(p=f(p));const g=ki(u,l);return Ae(d7,jr({ref:n},h),{default:()=>[o?Ae("div",{class:g,style:d},[p]):null]})}}});var upe=function(t,e,r,i){function n(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function o(c){try{l(i.next(c))}catch(h){s(h)}}function u(c){try{l(i.throw(c))}catch(h){s(h)}}function l(c){c.done?a(c.value):n(c.value).then(o,u)}l((i=i.apply(t,e||[])).next())})};const MP=["measure","align",null,"motion"],lpe=(t,e)=>{const r=hr(null),i=hr(),n=hr(!1);function a(u){n.value||(r.value=u)}function s(){co.cancel(i.value)}function o(u){s(),i.value=co(()=>{let l=r.value;switch(r.value){case"align":l="motion";break;case"motion":l="stable";break}a(l),u==null||u()})}return oi(t,()=>{a("measure")},{immediate:!0,flush:"post"}),Eu(()=>{oi(r,()=>{switch(r.value){case"measure":e();break}r.value&&(i.value=co(()=>upe(void 0,void 0,void 0,function*(){const u=MP.indexOf(r.value),l=MP[u+1];l&&u!==-1&&a(l)})))},{immediate:!0,flush:"post"})}),pf(()=>{n.value=!0,s()}),[r,o]},cpe=t=>{const e=hr({width:0,height:0});function r(n){e.value={width:n.offsetWidth,height:n.offsetHeight}}return[Ge(()=>{const n={};if(t.value){const{width:a,height:s}=e.value;t.value.indexOf("height")!==-1&&s?n.height=`${s}px`:t.value.indexOf("minHeight")!==-1&&s&&(n.minHeight=`${s}px`),t.value.indexOf("width")!==-1&&a?n.width=`${a}px`:t.value.indexOf("minWidth")!==-1&&a&&(n.minWidth=`${a}px`)}return n}),r]};function PP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function LP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PP(Object(r),!0).forEach(function(i){hpe(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}function WA(t){"@babel/helpers - typeof";return WA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WA(t)}function hpe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var av,fpe={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function u3(){if(av!==void 0)return av;av="";var t=document.createElement("p").style,e="Transform";for(var r in fpe)r+e in t&&(av=r);return av}function Cq(){return u3()?"".concat(u3(),"TransitionProperty"):"transitionProperty"}function cb(){return u3()?"".concat(u3(),"Transform"):"transform"}function OP(t,e){var r=Cq();r&&(t.style[r]=e,r!=="transitionProperty"&&(t.style.transitionProperty=e))}function yE(t,e){var r=cb();r&&(t.style[r]=e,r!=="transform"&&(t.style.transform=e))}function dpe(t){return t.style.transitionProperty||t.style[Cq()]}function ppe(t){var e=window.getComputedStyle(t,null),r=e.getPropertyValue("transform")||e.getPropertyValue(cb());if(r&&r!=="none"){var i=r.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(i[12]||i[4],0),y:parseFloat(i[13]||i[5],0)}}return{x:0,y:0}}var gpe=/matrix\((.*)\)/,vpe=/matrix3d\((.*)\)/;function mpe(t,e){var r=window.getComputedStyle(t,null),i=r.getPropertyValue("transform")||r.getPropertyValue(cb());if(i&&i!=="none"){var n,a=i.match(gpe);if(a)a=a[1],n=a.split(",").map(function(o){return parseFloat(o,10)}),n[4]=e.x,n[5]=e.y,yE(t,"matrix(".concat(n.join(","),")"));else{var s=i.match(vpe)[1];n=s.split(",").map(function(o){return parseFloat(o,10)}),n[12]=e.x,n[13]=e.y,yE(t,"matrix3d(".concat(n.join(","),")"))}}else yE(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var ype=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,xm;function RP(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function Wd(t,e,r){var i=r;if(WA(e)==="object"){for(var n in e)e.hasOwnProperty(n)&&Wd(t,n,e[n]);return}if(typeof i<"u"){typeof i=="number"&&(i="".concat(i,"px")),t.style[e]=i;return}return xm(t,e)}function _pe(t){var e,r,i,n=t.ownerDocument,a=n.body,s=n&&n.documentElement;return e=t.getBoundingClientRect(),r=Math.floor(e.left),i=Math.floor(e.top),r-=s.clientLeft||a.clientLeft||0,i-=s.clientTop||a.clientTop||0,{left:r,top:i}}function Eq(t,e){var r=t["page".concat(e?"Y":"X","Offset")],i="scroll".concat(e?"Top":"Left");if(typeof r!="number"){var n=t.document;r=n.documentElement[i],typeof r!="number"&&(r=n.body[i])}return r}function Sq(t){return Eq(t)}function Tq(t){return Eq(t,!0)}function _2(t){var e=_pe(t),r=t.ownerDocument,i=r.defaultView||r.parentWindow;return e.left+=Sq(i),e.top+=Tq(i),e}function B7(t){return t!=null&&t==t.window}function Aq(t){return B7(t)?t.document:t.nodeType===9?t:t.ownerDocument}function xpe(t,e,r){var i=r,n="",a=Aq(t);return i=i||a.defaultView.getComputedStyle(t,null),i&&(n=i.getPropertyValue(e)||i[e]),n}var bpe=new RegExp("^(".concat(ype,")(?!px)[a-z%]+$"),"i"),Cpe=/^(top|right|bottom|left)$/,_E="currentStyle",xE="runtimeStyle",c0="left",Epe="px";function Spe(t,e){var r=t[_E]&&t[_E][e];if(bpe.test(r)&&!Cpe.test(e)){var i=t.style,n=i[c0],a=t[xE][c0];t[xE][c0]=t[_E][c0],i[c0]=e==="fontSize"?"1em":r||0,r=i.pixelLeft+Epe,i[c0]=n,t[xE][c0]=a}return r===""?"auto":r}typeof window<"u"&&(xm=window.getComputedStyle?xpe:Spe);function ky(t,e){return t==="left"?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function NP(t){if(t==="left")return"right";if(t==="right")return"left";if(t==="top")return"bottom";if(t==="bottom")return"top"}function kP(t,e,r){Wd(t,"position")==="static"&&(t.style.position="relative");var i=-999,n=-999,a=ky("left",r),s=ky("top",r),o=NP(a),u=NP(s);a!=="left"&&(i=999),s!=="top"&&(n=999);var l="",c=_2(t);("left"in e||"top"in e)&&(l=dpe(t)||"",OP(t,"none")),"left"in e&&(t.style[o]="",t.style[a]="".concat(i,"px")),"top"in e&&(t.style[u]="",t.style[s]="".concat(n,"px")),RP(t);var h=_2(t),f={};for(var d in e)if(e.hasOwnProperty(d)){var p=ky(d,r),g=d==="left"?i:n,v=c[d]-h[d];p===d?f[p]=g+v:f[p]=g-v}Wd(t,f),RP(t),("left"in e||"top"in e)&&OP(t,l);var m={};for(var y in e)if(e.hasOwnProperty(y)){var _=ky(y,r),x=e[y]-c[y];y===_?m[_]=f[_]+x:m[_]=f[_]-x}Wd(t,m)}function Tpe(t,e){var r=_2(t),i=ppe(t),n={x:i.x,y:i.y};"left"in e&&(n.x=i.x+e.left-r.left),"top"in e&&(n.y=i.y+e.top-r.top),mpe(t,n)}function Ape(t,e,r){if(r.ignoreShake){var i=_2(t),n=i.left.toFixed(0),a=i.top.toFixed(0),s=e.left.toFixed(0),o=e.top.toFixed(0);if(n===s&&a===o)return}r.useCssRight||r.useCssBottom?kP(t,e,r):r.useCssTransform&&cb()in document.body.style?Tpe(t,e):kP(t,e,r)}function M7(t,e){for(var r=0;r<t.length;r++)e(t[r])}function wq(t){return xm(t,"boxSizing")==="border-box"}var wpe=["margin","border","padding"],YA=-1,Dpe=2,qA=1,Fpe=0;function Ipe(t,e,r){var i={},n=t.style,a;for(a in e)e.hasOwnProperty(a)&&(i[a]=n[a],n[a]=e[a]);r.call(t);for(a in e)e.hasOwnProperty(a)&&(n[a]=i[a])}function Jv(t,e,r){var i=0,n,a,s;for(a=0;a<e.length;a++)if(n=e[a],n)for(s=0;s<r.length;s++){var o=void 0;n==="border"?o="".concat(n).concat(r[s],"Width"):o=n+r[s],i+=parseFloat(xm(t,o))||0}return i}var Xo={getParent:function(e){var r=e;do r.nodeType===11&&r.host?r=r.host:r=r.parentNode;while(r&&r.nodeType!==1&&r.nodeType!==9);return r}};M7(["Width","Height"],function(t){Xo["doc".concat(t)]=function(e){var r=e.document;return Math.max(r.documentElement["scroll".concat(t)],r.body["scroll".concat(t)],Xo["viewport".concat(t)](r))},Xo["viewport".concat(t)]=function(e){var r="client".concat(t),i=e.document,n=i.body,a=i.documentElement,s=a[r];return i.compatMode==="CSS1Compat"&&s||n&&n[r]||s}});function zP(t,e,r){var i=r;if(B7(t))return e==="width"?Xo.viewportWidth(t):Xo.viewportHeight(t);if(t.nodeType===9)return e==="width"?Xo.docWidth(t):Xo.docHeight(t);var n=e==="width"?["Left","Right"]:["Top","Bottom"],a=Math.floor(e==="width"?t.getBoundingClientRect().width:t.getBoundingClientRect().height),s=wq(t),o=0;(a==null||a<=0)&&(a=void 0,o=xm(t,e),(o==null||Number(o)<0)&&(o=t.style[e]||0),o=Math.floor(parseFloat(o))||0),i===void 0&&(i=s?qA:YA);var u=a!==void 0||s,l=a||o;return i===YA?u?l-Jv(t,["border","padding"],n):o:u?i===qA?l:l+(i===Dpe?-Jv(t,["border"],n):Jv(t,["margin"],n)):o+Jv(t,wpe.slice(i),n)}var Bpe={position:"absolute",visibility:"hidden",display:"block"};function HP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var i,n=e[0];return n.offsetWidth!==0?i=zP.apply(void 0,e):Ipe(n,Bpe,function(){i=zP.apply(void 0,e)}),i}M7(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);Xo["outer".concat(e)]=function(i,n){return i&&HP(i,t,n?Fpe:qA)};var r=t==="width"?["Left","Right"]:["Top","Bottom"];Xo[t]=function(i,n){var a=n;if(a!==void 0){if(i){var s=wq(i);return s&&(a+=Jv(i,["padding","border"],r)),Wd(i,t,a)}return}return i&&HP(i,t,YA)}});function Dq(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}var Ht={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var r=e.ownerDocument||e;return r.defaultView||r.parentWindow},getDocument:Aq,offset:function(e,r,i){if(typeof r<"u")Ape(e,r,i||{});else return _2(e)},isWindow:B7,each:M7,css:Wd,clone:function(e){var r,i={};for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);var n=e.overflow;if(n)for(r in e)e.hasOwnProperty(r)&&(i.overflow[r]=e.overflow[r]);return i},mix:Dq,getWindowScrollLeft:function(e){return Sq(e)},getWindowScrollTop:function(e){return Tq(e)},merge:function(){for(var e={},r=0;r<arguments.length;r++)Ht.mix(e,r<0||arguments.length<=r?void 0:arguments[r]);return e},viewportWidth:0,viewportHeight:0};Dq(Ht,Xo);var bE=Ht.getParent;function XA(t){if(Ht.isWindow(t)||t.nodeType===9)return null;var e=Ht.getDocument(t),r=e.body,i,n=Ht.css(t,"position"),a=n==="fixed"||n==="absolute";if(!a)return t.nodeName.toLowerCase()==="html"?null:bE(t);for(i=bE(t);i&&i!==r&&i.nodeType!==9;i=bE(i))if(n=Ht.css(i,"position"),n!=="static")return i;return null}var GP=Ht.getParent;function Mpe(t){if(Ht.isWindow(t)||t.nodeType===9)return!1;var e=Ht.getDocument(t),r=e.body,i=null;for(i=GP(t);i&&i!==r&&i!==e;i=GP(i)){var n=Ht.css(i,"position");if(n==="fixed")return!0}return!1}function P7(t,e){for(var r={left:0,right:1/0,top:0,bottom:1/0},i=XA(t),n=Ht.getDocument(t),a=n.defaultView||n.parentWindow,s=n.body,o=n.documentElement;i;){if((navigator.userAgent.indexOf("MSIE")===-1||i.clientWidth!==0)&&i!==s&&i!==o&&Ht.css(i,"overflow")!=="visible"){var u=Ht.offset(i);u.left+=i.clientLeft,u.top+=i.clientTop,r.top=Math.max(r.top,u.top),r.right=Math.min(r.right,u.left+i.clientWidth),r.bottom=Math.min(r.bottom,u.top+i.clientHeight),r.left=Math.max(r.left,u.left)}else if(i===s||i===o)break;i=XA(i)}var l=null;if(!Ht.isWindow(t)&&t.nodeType!==9){l=t.style.position;var c=Ht.css(t,"position");c==="absolute"&&(t.style.position="fixed")}var h=Ht.getWindowScrollLeft(a),f=Ht.getWindowScrollTop(a),d=Ht.viewportWidth(a),p=Ht.viewportHeight(a),g=o.scrollWidth,v=o.scrollHeight,m=window.getComputedStyle(s);if(m.overflowX==="hidden"&&(g=a.innerWidth),m.overflowY==="hidden"&&(v=a.innerHeight),t.style&&(t.style.position=l),e||Mpe(t))r.left=Math.max(r.left,h),r.top=Math.max(r.top,f),r.right=Math.min(r.right,h+d),r.bottom=Math.min(r.bottom,f+p);else{var y=Math.max(g,h+d);r.right=Math.min(r.right,y);var _=Math.max(v,f+p);r.bottom=Math.min(r.bottom,_)}return r.top>=0&&r.left>=0&&r.bottom>r.top&&r.right>r.left?r:null}function Ppe(t,e,r,i){var n=Ht.clone(t),a={width:e.width,height:e.height};return i.adjustX&&n.left<r.left&&(n.left=r.left),i.resizeWidth&&n.left>=r.left&&n.left+a.width>r.right&&(a.width-=n.left+a.width-r.right),i.adjustX&&n.left+a.width>r.right&&(n.left=Math.max(r.right-a.width,r.left)),i.adjustY&&n.top<r.top&&(n.top=r.top),i.resizeHeight&&n.top>=r.top&&n.top+a.height>r.bottom&&(a.height-=n.top+a.height-r.bottom),i.adjustY&&n.top+a.height>r.bottom&&(n.top=Math.max(r.bottom-a.height,r.top)),Ht.mix(n,a)}function L7(t){var e,r,i;if(!Ht.isWindow(t)&&t.nodeType!==9)e=Ht.offset(t),r=Ht.outerWidth(t),i=Ht.outerHeight(t);else{var n=Ht.getWindow(t);e={left:Ht.getWindowScrollLeft(n),top:Ht.getWindowScrollTop(n)},r=Ht.viewportWidth(n),i=Ht.viewportHeight(n)}return e.width=r,e.height=i,e}function UP(t,e){var r=e.charAt(0),i=e.charAt(1),n=t.width,a=t.height,s=t.left,o=t.top;return r==="c"?o+=a/2:r==="b"&&(o+=a),i==="c"?s+=n/2:i==="r"&&(s+=n),{left:s,top:o}}function zy(t,e,r,i,n){var a=UP(e,r[1]),s=UP(t,r[0]),o=[s.left-a.left,s.top-a.top];return{left:Math.round(t.left-o[0]+i[0]-n[0]),top:Math.round(t.top-o[1]+i[1]-n[1])}}function jP(t,e,r){return t.left<r.left||t.left+e.width>r.right}function VP(t,e,r){return t.top<r.top||t.top+e.height>r.bottom}function Lpe(t,e,r){return t.left>r.right||t.left+e.width<r.left}function Ope(t,e,r){return t.top>r.bottom||t.top+e.height<r.top}function Hy(t,e,r){var i=[];return Ht.each(t,function(n){i.push(n.replace(e,function(a){return r[a]}))}),i}function Gy(t,e){return t[e]=-t[e],t}function $P(t,e){var r;return/%$/.test(t)?r=parseInt(t.substring(0,t.length-1),10)/100*e:r=parseInt(t,10),r||0}function WP(t,e){t[0]=$P(t[0],e.width),t[1]=$P(t[1],e.height)}function Fq(t,e,r,i){var n=r.points,a=r.offset||[0,0],s=r.targetOffset||[0,0],o=r.overflow,u=r.source||t;a=[].concat(a),s=[].concat(s),o=o||{};var l={},c=0,h=!!(o&&o.alwaysByViewport),f=P7(u,h),d=L7(u);WP(a,d),WP(s,e);var p=zy(d,e,n,a,s),g=Ht.merge(d,p);if(f&&(o.adjustX||o.adjustY)&&i){if(o.adjustX&&jP(p,d,f)){var v=Hy(n,/[lr]/gi,{l:"r",r:"l"}),m=Gy(a,0),y=Gy(s,0),_=zy(d,e,v,m,y);Lpe(_,d,f)||(c=1,n=v,a=m,s=y)}if(o.adjustY&&VP(p,d,f)){var x=Hy(n,/[tb]/gi,{t:"b",b:"t"}),b=Gy(a,1),C=Gy(s,1),E=zy(d,e,x,b,C);Ope(E,d,f)||(c=1,n=x,a=b,s=C)}c&&(p=zy(d,e,n,a,s),Ht.mix(g,p));var A=jP(p,d,f),S=VP(p,d,f);if(A||S){var T=n;A&&(T=Hy(n,/[lr]/gi,{l:"r",r:"l"})),S&&(T=Hy(n,/[tb]/gi,{t:"b",b:"t"})),n=T,a=r.offset||[0,0],s=r.targetOffset||[0,0]}l.adjustX=o.adjustX&&A,l.adjustY=o.adjustY&&S,(l.adjustX||l.adjustY)&&(g=Ppe(p,d,f,l))}return g.width!==d.width&&Ht.css(u,"width",Ht.width(u)+g.width-d.width),g.height!==d.height&&Ht.css(u,"height",Ht.height(u)+g.height-d.height),Ht.offset(u,{left:g.left,top:g.top},{useCssRight:r.useCssRight,useCssBottom:r.useCssBottom,useCssTransform:r.useCssTransform,ignoreShake:r.ignoreShake}),{points:n,offset:a,targetOffset:s,overflow:l}}function Rpe(t,e){var r=P7(t,e),i=L7(t);return!r||i.left+i.width<=r.left||i.top+i.height<=r.top||i.left>=r.right||i.top>=r.bottom}function O7(t,e,r){var i=r.target||e,n=L7(i),a=!Rpe(i,r.overflow&&r.overflow.alwaysByViewport);return Fq(t,n,r,a)}O7.__getOffsetParent=XA;O7.__getVisibleRectForElement=P7;function Npe(t,e,r){var i,n,a=Ht.getDocument(t),s=a.defaultView||a.parentWindow,o=Ht.getWindowScrollLeft(s),u=Ht.getWindowScrollTop(s),l=Ht.viewportWidth(s),c=Ht.viewportHeight(s);"pageX"in e?i=e.pageX:i=o+e.clientX,"pageY"in e?n=e.pageY:n=u+e.clientY;var h={left:i,top:n,width:0,height:0},f=i>=0&&i<=o+l&&n>=0&&n<=u+c,d=[r.points[0],"cc"];return Fq(t,h,LP(LP({},r),{},{points:d}),f)}function l3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,n=t;if(Array.isArray(t)&&(n=mm(t)[0]),!n)return null;const a=hl(n,e,i);return a.props=r?fe(fe({},a.props),e):a.props,C7(typeof a.props.class!="object"),a}const kpe=t=>{if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){const e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){const e=t.getBoundingClientRect();if(e.width||e.height)return!0}return!1};function zpe(t,e){return t===e?!0:!t||!e?!1:"pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e?t.clientX===e.clientX&&t.clientY===e.clientY:!1}function Hpe(t,e){t!==document.activeElement&&eh(e,t)&&typeof t.focus=="function"&&t.focus()}function YP(t,e){let r=null,i=null;function n(s){let[{target:o}]=s;if(!document.documentElement.contains(o))return;const{width:u,height:l}=o.getBoundingClientRect(),c=Math.floor(u),h=Math.floor(l);(r!==c||i!==h)&&Promise.resolve().then(()=>{e({width:c,height:h})}),r=c,i=h}const a=new Dhe(n);return t&&a.observe(t),()=>{a.disconnect()}}const Gpe=(t,e)=>{let r=!1,i=null;function n(){clearTimeout(i)}function a(s){if(!r||s===!0){if(t()===!1)return;r=!0,n(),i=setTimeout(()=>{r=!1},e.value)}else n(),i=setTimeout(()=>{r=!1,a()},e.value)}return[a,()=>{r=!1,n()}]};function Upe(){this.__data__=[],this.size=0}function Iq(t,e){return t===e||t!==t&&e!==e}function hb(t,e){for(var r=t.length;r--;)if(Iq(t[r][0],e))return r;return-1}var jpe=Array.prototype,Vpe=jpe.splice;function $pe(t){var e=this.__data__,r=hb(e,t);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():Vpe.call(e,r,1),--this.size,!0}function Wpe(t){var e=this.__data__,r=hb(e,t);return r<0?void 0:e[r][1]}function Ype(t){return hb(this.__data__,t)>-1}function qpe(t,e){var r=this.__data__,i=hb(r,t);return i<0?(++this.size,r.push([t,e])):r[i][1]=e,this}function Tl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Tl.prototype.clear=Upe;Tl.prototype.delete=$pe;Tl.prototype.get=Wpe;Tl.prototype.has=Ype;Tl.prototype.set=qpe;function Xpe(){this.__data__=new Tl,this.size=0}function Zpe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Kpe(t){return this.__data__.get(t)}function Jpe(t){return this.__data__.has(t)}var Bq=typeof global=="object"&&global&&global.Object===Object&&global,Qpe=typeof self=="object"&&self&&self.Object===Object&&self,Al=Bq||Qpe||Function("return this")(),xp=Al.Symbol,Mq=Object.prototype,ege=Mq.hasOwnProperty,tge=Mq.toString,sv=xp?xp.toStringTag:void 0;function rge(t){var e=ege.call(t,sv),r=t[sv];try{t[sv]=void 0;var i=!0}catch{}var n=tge.call(t);return i&&(e?t[sv]=r:delete t[sv]),n}var ige=Object.prototype,nge=ige.toString;function age(t){return nge.call(t)}var sge="[object Null]",oge="[object Undefined]",qP=xp?xp.toStringTag:void 0;function bm(t){return t==null?t===void 0?oge:sge:qP&&qP in Object(t)?rge(t):age(t)}function Pq(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var uge="[object AsyncFunction]",lge="[object Function]",cge="[object GeneratorFunction]",hge="[object Proxy]";function Lq(t){if(!Pq(t))return!1;var e=bm(t);return e==lge||e==cge||e==uge||e==hge}var CE=Al["__core-js_shared__"],XP=function(){var t=/[^.]+$/.exec(CE&&CE.keys&&CE.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fge(t){return!!XP&&XP in t}var dge=Function.prototype,pge=dge.toString;function yf(t){if(t!=null){try{return pge.call(t)}catch{}try{return t+""}catch{}}return""}var gge=/[\\^$.*+?()[\]{}|]/g,vge=/^\[object .+?Constructor\]$/,mge=Function.prototype,yge=Object.prototype,_ge=mge.toString,xge=yge.hasOwnProperty,bge=RegExp("^"+_ge.call(xge).replace(gge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Cge(t){if(!Pq(t)||fge(t))return!1;var e=Lq(t)?bge:vge;return e.test(yf(t))}function Ege(t,e){return t==null?void 0:t[e]}function eg(t,e){var r=Ege(t,e);return Cge(r)?r:void 0}var x2=eg(Al,"Map"),b2=eg(Object,"create");function Sge(){this.__data__=b2?b2(null):{},this.size=0}function Tge(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Age="__lodash_hash_undefined__",wge=Object.prototype,Dge=wge.hasOwnProperty;function Fge(t){var e=this.__data__;if(b2){var r=e[t];return r===Age?void 0:r}return Dge.call(e,t)?e[t]:void 0}var Ige=Object.prototype,Bge=Ige.hasOwnProperty;function Mge(t){var e=this.__data__;return b2?e[t]!==void 0:Bge.call(e,t)}var Pge="__lodash_hash_undefined__";function Lge(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=b2&&e===void 0?Pge:e,this}function Yh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}Yh.prototype.clear=Sge;Yh.prototype.delete=Tge;Yh.prototype.get=Fge;Yh.prototype.has=Mge;Yh.prototype.set=Lge;function Oge(){this.size=0,this.__data__={hash:new Yh,map:new(x2||Tl),string:new Yh}}function Rge(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function fb(t,e){var r=t.__data__;return Rge(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Nge(t){var e=fb(this,t).delete(t);return this.size-=e?1:0,e}function kge(t){return fb(this,t).get(t)}function zge(t){return fb(this,t).has(t)}function Hge(t,e){var r=fb(this,t),i=r.size;return r.set(t,e),this.size+=r.size==i?0:1,this}function _f(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var i=t[e];this.set(i[0],i[1])}}_f.prototype.clear=Oge;_f.prototype.delete=Nge;_f.prototype.get=kge;_f.prototype.has=zge;_f.prototype.set=Hge;var Gge=200;function Uge(t,e){var r=this.__data__;if(r instanceof Tl){var i=r.__data__;if(!x2||i.length<Gge-1)return i.push([t,e]),this.size=++r.size,this;r=this.__data__=new _f(i)}return r.set(t,e),this.size=r.size,this}function Dc(t){var e=this.__data__=new Tl(t);this.size=e.size}Dc.prototype.clear=Xpe;Dc.prototype.delete=Zpe;Dc.prototype.get=Kpe;Dc.prototype.has=Jpe;Dc.prototype.set=Uge;var jge="__lodash_hash_undefined__";function Vge(t){return this.__data__.set(t,jge),this}function $ge(t){return this.__data__.has(t)}function c3(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new _f;++e<r;)this.add(t[e])}c3.prototype.add=c3.prototype.push=Vge;c3.prototype.has=$ge;function Wge(t,e){for(var r=-1,i=t==null?0:t.length;++r<i;)if(e(t[r],r,t))return!0;return!1}function Yge(t,e){return t.has(e)}var qge=1,Xge=2;function Oq(t,e,r,i,n,a){var s=r&qge,o=t.length,u=e.length;if(o!=u&&!(s&&u>o))return!1;var l=a.get(t),c=a.get(e);if(l&&c)return l==e&&c==t;var h=-1,f=!0,d=r&Xge?new c3:void 0;for(a.set(t,e),a.set(e,t);++h<o;){var p=t[h],g=e[h];if(i)var v=s?i(g,p,h,e,t,a):i(p,g,h,t,e,a);if(v!==void 0){if(v)continue;f=!1;break}if(d){if(!Wge(e,function(m,y){if(!Yge(d,y)&&(p===m||n(p,m,r,i,a)))return d.push(y)})){f=!1;break}}else if(!(p===g||n(p,g,r,i,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var ZP=Al.Uint8Array;function Zge(t){var e=-1,r=Array(t.size);return t.forEach(function(i,n){r[++e]=[n,i]}),r}function Kge(t){var e=-1,r=Array(t.size);return t.forEach(function(i){r[++e]=i}),r}var Jge=1,Qge=2,eve="[object Boolean]",tve="[object Date]",rve="[object Error]",ive="[object Map]",nve="[object Number]",ave="[object RegExp]",sve="[object Set]",ove="[object String]",uve="[object Symbol]",lve="[object ArrayBuffer]",cve="[object DataView]",KP=xp?xp.prototype:void 0,EE=KP?KP.valueOf:void 0;function hve(t,e,r,i,n,a,s){switch(r){case cve:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case lve:return!(t.byteLength!=e.byteLength||!a(new ZP(t),new ZP(e)));case eve:case tve:case nve:return Iq(+t,+e);case rve:return t.name==e.name&&t.message==e.message;case ave:case ove:return t==e+"";case ive:var o=Zge;case sve:var u=i&Jge;if(o||(o=Kge),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=Qge,s.set(t,e);var c=Oq(o(t),o(e),i,n,a,s);return s.delete(t),c;case uve:if(EE)return EE.call(t)==EE.call(e)}return!1}function fve(t,e){for(var r=-1,i=e.length,n=t.length;++r<i;)t[n+r]=e[r];return t}var h3=Array.isArray;function dve(t,e,r){var i=e(t);return h3(t)?i:fve(i,r(t))}function pve(t,e){for(var r=-1,i=t==null?0:t.length,n=0,a=[];++r<i;){var s=t[r];e(s,r,t)&&(a[n++]=s)}return a}function gve(){return[]}var vve=Object.prototype,mve=vve.propertyIsEnumerable,JP=Object.getOwnPropertySymbols,yve=JP?function(t){return t==null?[]:(t=Object(t),pve(JP(t),function(e){return mve.call(t,e)}))}:gve;function _ve(t,e){for(var r=-1,i=Array(t);++r<t;)i[r]=e(r);return i}function C2(t){return t!=null&&typeof t=="object"}var xve="[object Arguments]";function QP(t){return C2(t)&&bm(t)==xve}var Rq=Object.prototype,bve=Rq.hasOwnProperty,Cve=Rq.propertyIsEnumerable,Eve=QP(function(){return arguments}())?QP:function(t){return C2(t)&&bve.call(t,"callee")&&!Cve.call(t,"callee")};function Sve(){return!1}var Nq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,eL=Nq&&typeof module=="object"&&module&&!module.nodeType&&module,Tve=eL&&eL.exports===Nq,tL=Tve?Al.Buffer:void 0,Ave=tL?tL.isBuffer:void 0,ZA=Ave||Sve,wve=9007199254740991,Dve=/^(?:0|[1-9]\d*)$/;function Fve(t,e){var r=typeof t;return e=e??wve,!!e&&(r=="number"||r!="symbol"&&Dve.test(t))&&t>-1&&t%1==0&&t<e}var Ive=9007199254740991;function kq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Ive}var Bve="[object Arguments]",Mve="[object Array]",Pve="[object Boolean]",Lve="[object Date]",Ove="[object Error]",Rve="[object Function]",Nve="[object Map]",kve="[object Number]",zve="[object Object]",Hve="[object RegExp]",Gve="[object Set]",Uve="[object String]",jve="[object WeakMap]",Vve="[object ArrayBuffer]",$ve="[object DataView]",Wve="[object Float32Array]",Yve="[object Float64Array]",qve="[object Int8Array]",Xve="[object Int16Array]",Zve="[object Int32Array]",Kve="[object Uint8Array]",Jve="[object Uint8ClampedArray]",Qve="[object Uint16Array]",e1e="[object Uint32Array]",Yr={};Yr[Wve]=Yr[Yve]=Yr[qve]=Yr[Xve]=Yr[Zve]=Yr[Kve]=Yr[Jve]=Yr[Qve]=Yr[e1e]=!0;Yr[Bve]=Yr[Mve]=Yr[Vve]=Yr[Pve]=Yr[$ve]=Yr[Lve]=Yr[Ove]=Yr[Rve]=Yr[Nve]=Yr[kve]=Yr[zve]=Yr[Hve]=Yr[Gve]=Yr[Uve]=Yr[jve]=!1;function t1e(t){return C2(t)&&kq(t.length)&&!!Yr[bm(t)]}function r1e(t){return function(e){return t(e)}}var zq=typeof exports=="object"&&exports&&!exports.nodeType&&exports,F1=zq&&typeof module=="object"&&module&&!module.nodeType&&module,i1e=F1&&F1.exports===zq,SE=i1e&&Bq.process,rL=function(){try{var t=F1&&F1.require&&F1.require("util").types;return t||SE&&SE.binding&&SE.binding("util")}catch{}}(),iL=rL&&rL.isTypedArray,Hq=iL?r1e(iL):t1e,n1e=Object.prototype,a1e=n1e.hasOwnProperty;function s1e(t,e){var r=h3(t),i=!r&&Eve(t),n=!r&&!i&&ZA(t),a=!r&&!i&&!n&&Hq(t),s=r||i||n||a,o=s?_ve(t.length,String):[],u=o.length;for(var l in t)a1e.call(t,l)&&!(s&&(l=="length"||n&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Fve(l,u)))&&o.push(l);return o}var o1e=Object.prototype;function u1e(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||o1e;return t===r}function l1e(t,e){return function(r){return t(e(r))}}var c1e=l1e(Object.keys,Object),h1e=Object.prototype,f1e=h1e.hasOwnProperty;function d1e(t){if(!u1e(t))return c1e(t);var e=[];for(var r in Object(t))f1e.call(t,r)&&r!="constructor"&&e.push(r);return e}function p1e(t){return t!=null&&kq(t.length)&&!Lq(t)}function g1e(t){return p1e(t)?s1e(t):d1e(t)}function nL(t){return dve(t,g1e,yve)}var v1e=1,m1e=Object.prototype,y1e=m1e.hasOwnProperty;function _1e(t,e,r,i,n,a){var s=r&v1e,o=nL(t),u=o.length,l=nL(e),c=l.length;if(u!=c&&!s)return!1;for(var h=u;h--;){var f=o[h];if(!(s?f in e:y1e.call(e,f)))return!1}var d=a.get(t),p=a.get(e);if(d&&p)return d==e&&p==t;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++h<u;){f=o[h];var m=t[f],y=e[f];if(i)var _=s?i(y,m,f,e,t,a):i(m,y,f,t,e,a);if(!(_===void 0?m===y||n(m,y,r,i,a):_)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var x=t.constructor,b=e.constructor;x!=b&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof b=="function"&&b instanceof b)&&(g=!1)}return a.delete(t),a.delete(e),g}var KA=eg(Al,"DataView"),JA=eg(Al,"Promise"),QA=eg(Al,"Set"),e8=eg(Al,"WeakMap"),aL="[object Map]",x1e="[object Object]",sL="[object Promise]",oL="[object Set]",uL="[object WeakMap]",lL="[object DataView]",b1e=yf(KA),C1e=yf(x2),E1e=yf(JA),S1e=yf(QA),T1e=yf(e8),uc=bm;(KA&&uc(new KA(new ArrayBuffer(1)))!=lL||x2&&uc(new x2)!=aL||JA&&uc(JA.resolve())!=sL||QA&&uc(new QA)!=oL||e8&&uc(new e8)!=uL)&&(uc=function(t){var e=bm(t),r=e==x1e?t.constructor:void 0,i=r?yf(r):"";if(i)switch(i){case b1e:return lL;case C1e:return aL;case E1e:return sL;case S1e:return oL;case T1e:return uL}return e});var A1e=1,cL="[object Arguments]",hL="[object Array]",Uy="[object Object]",w1e=Object.prototype,fL=w1e.hasOwnProperty;function D1e(t,e,r,i,n,a){var s=h3(t),o=h3(e),u=s?hL:uc(t),l=o?hL:uc(e);u=u==cL?Uy:u,l=l==cL?Uy:l;var c=u==Uy,h=l==Uy,f=u==l;if(f&&ZA(t)){if(!ZA(e))return!1;s=!0,c=!1}if(f&&!c)return a||(a=new Dc),s||Hq(t)?Oq(t,e,r,i,n,a):hve(t,e,u,r,i,n,a);if(!(r&A1e)){var d=c&&fL.call(t,"__wrapped__"),p=h&&fL.call(e,"__wrapped__");if(d||p){var g=d?t.value():t,v=p?e.value():e;return a||(a=new Dc),n(g,v,r,i,a)}}return f?(a||(a=new Dc),_1e(t,e,r,i,n,a)):!1}function Gq(t,e,r,i,n){return t===e?!0:t==null||e==null||!C2(t)&&!C2(e)?t!==t&&e!==e:D1e(t,e,r,i,Gq,n)}function F1e(t,e){return Gq(t,e)}const I1e={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function dL(t){return typeof t!="function"?null:t()}function pL(t){return typeof t!="object"||!t?null:t}const B1e=Br({compatConfig:{MODE:3},name:"Align",props:I1e,emits:["align"],setup(t,e){let{expose:r,slots:i}=e;const n=fr({}),a=fr(),[s,o]=Gpe(()=>{const{disabled:f,target:d,align:p,onAlign:g}=t;if(!f&&d&&a.value){const v=a.value;let m;const y=dL(d),_=pL(d);n.value.element=y,n.value.point=_,n.value.align=p;const{activeElement:x}=document;return y&&kpe(y)?m=O7(v,y,p):_&&(m=Npe(v,_,p)),Hpe(x,v),g&&m&&g(v,m),!0}return!1},Ge(()=>t.monitorBufferTime)),u=fr({cancel:()=>{}}),l=fr({cancel:()=>{}}),c=()=>{const f=t.target,d=dL(f),p=pL(f);a.value!==l.value.element&&(l.value.cancel(),l.value.element=a.value,l.value.cancel=YP(a.value,s)),(n.value.element!==d||!zpe(n.value.point,p)||!F1e(n.value.align,t.align))&&(s(),u.value.element!==d&&(u.value.cancel(),u.value.element=d,u.value.cancel=YP(d,s)))};Eu(()=>{cl(()=>{c()})}),df(()=>{cl(()=>{c()})}),oi(()=>t.disabled,f=>{f?o():s()},{immediate:!0,flush:"post"});const h=fr(null);return oi(()=>t.monitorWindowResize,f=>{f?h.value||(h.value=Kv(window,"resize",s)):h.value&&(h.value.remove(),h.value=null)},{flush:"post"}),pm(()=>{u.value.cancel(),l.value.cancel(),h.value&&h.value.remove(),o()}),r({forceAlign:()=>s(!0)}),()=>{const f=i==null?void 0:i.default();return f?l3(f[0],{ref:a},!0,!0):null}}});Uhe("bottomLeft","bottomRight","topLeft","topRight");const M1e=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return fe(t?{name:t,appear:!0,enterFromClass:`${t}-enter ${t}-enter-prepare ${t}-enter-start`,enterActiveClass:`${t}-enter ${t}-enter-prepare`,enterToClass:`${t}-enter ${t}-enter-active`,leaveFromClass:` ${t}-leave`,leaveActiveClass:`${t}-leave ${t}-leave-active`,leaveToClass:`${t}-leave ${t}-leave-active`}:{css:!1},e)},Uq=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return fe(t?{name:t,appear:!0,appearActiveClass:`${t}`,appearToClass:`${t}-appear ${t}-appear-active`,enterFromClass:`${t}-appear ${t}-enter ${t}-appear-prepare ${t}-enter-prepare`,enterActiveClass:`${t}`,enterToClass:`${t}-enter ${t}-appear ${t}-appear-active ${t}-enter-active`,leaveActiveClass:`${t} ${t}-leave`,leaveToClass:`${t}-leave-active`}:{css:!1},e)},P1e=(t,e,r)=>r!==void 0?r:`${t}-${e}`,L1e=Br({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:F7,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,e){let{expose:r,attrs:i,slots:n}=e;const a=hr(),s=hr(),o=hr(),[u,l]=cpe(rle(t,"stretch")),c=()=>{t.stretch&&l(t.getRootDomNode())},h=hr(!1);let f;oi(()=>t.visible,C=>{clearTimeout(f),C?f=setTimeout(()=>{h.value=t.visible}):h.value=!1},{immediate:!0});const[d,p]=lpe(h,c),g=hr(),v=()=>t.point?t.point:t.getRootDomNode,m=()=>{var C;(C=a.value)===null||C===void 0||C.forceAlign()},y=(C,E)=>{var A;const S=t.getClassNameFromAlign(E),T=o.value;o.value!==S&&(o.value=S),d.value==="align"&&(T!==S?Promise.resolve().then(()=>{m()}):p(()=>{var D;(D=g.value)===null||D===void 0||D.call(g)}),(A=t.onAlign)===null||A===void 0||A.call(t,C,E))},_=Ge(()=>{const C=typeof t.animation=="object"?t.animation:I7(t);return["onAfterEnter","onAfterLeave"].forEach(E=>{const A=C[E];C[E]=S=>{p(),d.value="stable",A==null||A(S)}}),C}),x=()=>new Promise(C=>{g.value=C});oi([_,d],()=>{!_.value&&d.value==="motion"&&p()},{immediate:!0}),r({forceAlign:m,getElement:()=>s.value.$el||s.value});const b=Ge(()=>{var C;return!(!((C=t.align)===null||C===void 0)&&C.points&&(d.value==="align"||d.value==="stable"))});return()=>{var C;const{zIndex:E,align:A,prefixCls:S,destroyPopupOnHide:T,onMouseenter:D,onMouseleave:F,onTouchstart:B=()=>{},onMousedown:O}=t,M=d.value,R=[fe(fe({},u.value),{zIndex:E,opacity:M==="motion"||M==="stable"||!h.value?null:0,pointerEvents:!h.value&&M!=="stable"?"none":null}),i.style];let z=wc((C=n.default)===null||C===void 0?void 0:C.call(n,{visible:t.visible}));z.length>1&&(z=Ae("div",{class:`${S}-content`},[z]));const k=ki(S,i.class,o.value,!t.arrow&&`${S}-arrow-hidden`),V=h.value||!t.visible?M1e(_.value.name,_.value):{};return Ae(d7,jr(jr({ref:s},V),{},{onBeforeEnter:x}),{default:()=>!T||t.visible?hW(Ae(B1e,{target:v(),key:"popup",ref:a,monitorWindowResize:!0,disabled:b.value,align:A,onAlign:y},{default:()=>Ae("div",{class:k,onMouseenter:D,onMouseleave:F,onMousedown:RM(O,["capture"]),[uh?"onTouchstartPassive":"onTouchstart"]:RM(B,["capture"]),style:R},[z])}),[[yce,h.value]]):null})}}}),O1e=Br({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:spe,setup(t,e){let{attrs:r,slots:i,expose:n}=e;const a=hr(!1),s=hr(!1),o=hr(),u=hr();return oi([()=>t.visible,()=>t.mobile],()=>{a.value=t.visible,t.visible&&t.mobile&&(s.value=!0)},{immediate:!0,flush:"post"}),n({forceAlign:()=>{var l;(l=o.value)===null||l===void 0||l.forceAlign()},getElement:()=>{var l;return(l=o.value)===null||l===void 0?void 0:l.getElement()}}),()=>{const l=fe(fe(fe({},t),r),{visible:a.value}),c=s.value?Ae(ope,jr(jr({},l),{},{mobile:t.mobile,ref:o}),{default:i.default}):Ae(L1e,jr(jr({},l),{},{ref:o}),{default:i.default});return Ae("div",{ref:u},[Ae(bq,l,null),c])}}});function R1e(t,e,r){return r?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function gL(t,e,r){const i=t[e]||{};return fe(fe({},i),r)}function N1e(t,e,r,i){const{points:n}=r,a=Object.keys(t);for(let s=0;s<a.length;s+=1){const o=a[s];if(R1e(t[o].points,n,i))return`${e}-placement-${o}`}return""}const k1e={methods:{setState(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,r=typeof t=="function"?t(this.$data,this.$props):t;if(this.getDerivedStateFromProps){const i=this.getDerivedStateFromProps(Rhe(this),fe(fe({},this.$data),r));if(i===null)return;r=fe(fe({},r),i||{})}fe(this.$data,r),this._.isMounted&&this.$forceUpdate(),cl(()=>{e&&e()})},__emit(){const t=[].slice.call(arguments,0);let e=t[0];e=`on${e[0].toUpperCase()}${e.substring(1)}`;const r=this.$props[e]||this.$attrs[e];if(t.length&&r)if(Array.isArray(r))for(let i=0,n=r.length;i<n;i++)r[i](...t.slice(1));else r(...t.slice(1))}}},jq=Symbol("PortalContextKey"),Vq=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};oa(jq,{inTriggerContext:e.inTriggerContext,shouldRender:Ge(()=>{const{sPopupVisible:r,popupRef:i,forceRender:n,autoDestroy:a}=t||{};let s=!1;return(r||i||n)&&(s=!0),!r&&a&&(s=!1),s})})},z1e=()=>{Vq({},{inTriggerContext:!1});const t=Fi(jq,{shouldRender:Ge(()=>!1),inTriggerContext:!1});return{shouldRender:Ge(()=>t.shouldRender.value||t.inTriggerContext===!1)}},$q=Br({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:or.func.isRequired,didUpdate:Function},setup(t,e){let{slots:r}=e,i=!0,n;const{shouldRender:a}=z1e();function s(){a.value&&(n=t.getContainer())}AW(()=>{i=!1,s()}),Eu(()=>{n||s()});const o=oi(a,()=>{a.value&&!n&&(n=t.getContainer()),n&&o()});return df(()=>{cl(()=>{var u;a.value&&((u=t.didUpdate)===null||u===void 0||u.call(t,t))})}),()=>{var u;return a.value?i?(u=r.default)===null||u===void 0?void 0:u.call(r):n?Ae(gW,{to:n},r):null:null}}});let TE;function H1e(t){if(typeof document>"u")return 0;if(TE===void 0){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const r=document.createElement("div"),i=r.style;i.position="absolute",i.top="0",i.left="0",i.pointerEvents="none",i.visibility="hidden",i.width="200px",i.height="150px",i.overflow="hidden",r.appendChild(e),document.body.appendChild(r);const n=e.offsetWidth;r.style.overflow="scroll";let a=e.offsetWidth;n===a&&(a=r.clientWidth),document.body.removeChild(r),TE=n-a}return TE}const G1e=`vc-util-locker-${Date.now()}`;let vL=0;function U1e(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function j1e(t){const e=Ge(()=>!!t&&!!t.value);vL+=1;const r=`${G1e}_${vL}`;Kp(i=>{if(gu()){if(e.value){const n=H1e(),a=U1e();v2(`
html body {
  overflow-y: hidden;
  ${a?`width: calc(100% - ${n}px);`:""}
}`,r)}else n3(r);i(()=>{n3(r)})}},{flush:"post"})}let h0=0;const Ix=gu(),mL=t=>{if(!Ix)return null;if(t){if(typeof t=="string")return document.querySelectorAll(t)[0];if(typeof t=="function")return t();if(typeof t=="object"&&t instanceof window.HTMLElement)return t}return document.body},V1e=Br({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:or.any,visible:{type:Boolean,default:void 0},autoLock:w1(),didUpdate:Function},setup(t,e){let{slots:r}=e;const i=hr(),n=hr(),a=hr(),s=hr(1),o=gu()&&document.createElement("div"),u=()=>{var d,p;i.value===o&&((p=(d=i.value)===null||d===void 0?void 0:d.parentNode)===null||p===void 0||p.removeChild(i.value)),i.value=null};let l=null;const c=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||i.value&&!i.value.parentNode?(l=mL(t.getContainer),l?(l.appendChild(i.value),!0):!1):!0},h=()=>Ix?(i.value||(i.value=o,c(!0)),f(),i.value):null,f=()=>{const{wrapperClassName:d}=t;i.value&&d&&d!==i.value.className&&(i.value.className=d)};return df(()=>{f(),c()}),j1e(Ge(()=>t.autoLock&&t.visible&&gu()&&(i.value===document.body||i.value===o))),Eu(()=>{let d=!1;oi([()=>t.visible,()=>t.getContainer],(p,g)=>{let[v,m]=p,[y,_]=g;Ix&&(l=mL(t.getContainer),l===document.body&&(v&&!y?h0+=1:d&&(h0-=1))),d&&(typeof m=="function"&&typeof _=="function"?m.toString()!==_.toString():m!==_)&&u(),d=!0},{immediate:!0,flush:"post"}),cl(()=>{c()||(a.value=co(()=>{s.value+=1}))})}),pf(()=>{const{visible:d}=t;Ix&&l===document.body&&(h0=d&&h0?h0-1:h0),u(),co.cancel(a.value)}),()=>{const{forceRender:d,visible:p}=t;let g=null;const v={getOpenCount:()=>h0,getContainer:h};return s.value&&(d||p||n.value)&&(g=Ae($q,{getContainer:h,ref:n,didUpdate:t.didUpdate},{default:()=>{var m;return(m=r.default)===null||m===void 0?void 0:m.call(r,v)}})),g}}}),$1e=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],W1e=Br({compatConfig:{MODE:3},name:"Trigger",mixins:[k1e],inheritAttrs:!1,props:npe(),setup(t){const e=Ge(()=>{const{popupPlacement:n,popupAlign:a,builtinPlacements:s}=t;return n&&s?gL(s,n,a):a}),r=hr(null),i=n=>{r.value=n};return{vcTriggerContext:Fi("vcTriggerContext",{}),popupRef:r,setPopupRef:i,triggerRef:hr(null),align:e,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const t=this.$props;let e;return this.popupVisible!==void 0?e=!!t.popupVisible:e=!!t.defaultPopupVisible,$1e.forEach(r=>{this[`fire${r}`]=i=>{this.fireEvents(r,i)}}),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible(t){t!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=t)}},created(){oa("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),Vq(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),co.cancel(this.attachId)},methods:{updatedCal(){const t=this.$props;if(this.$data.sPopupVisible){let r;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(r=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Kv(r,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(r=r||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Kv(r,"touchstart",this.onDocumentClick,uh?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(r=r||t.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=Kv(r,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=Kv(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(t){const{mouseEnterDelay:e}=this.$props;this.fireEvents("onMouseenter",t),this.delaySetPopupVisible(!0,e,e?null:t)},onMouseMove(t){this.fireEvents("onMousemove",t),this.setPoint(t)},onMouseleave(t){this.fireEvents("onMouseleave",t),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:t={}}=this;t.onPopupMouseenter&&t.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(t){var e;if(t&&t.relatedTarget&&!t.relatedTarget.setTimeout&&eh((e=this.popupRef)===null||e===void 0?void 0:e.getElement(),t.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:r={}}=this;r.onPopupMouseleave&&r.onPopupMouseleave(t)},onFocus(t){this.fireEvents("onFocus",t),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(t){this.fireEvents("onMousedown",t),this.preClickTime=Date.now()},onTouchstart(t){this.fireEvents("onTouchstart",t),this.preTouchTime=Date.now()},onBlur(t){eh(t.target,t.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",t),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(t){t.preventDefault(),this.fireEvents("onContextmenu",t),this.setPopupVisible(!0,t)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(t){if(this.fireEvents("onClick",t),this.focusTime){let r;if(this.preClickTime&&this.preTouchTime?r=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?r=this.preClickTime:this.preTouchTime&&(r=this.preTouchTime),Math.abs(r-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault(),t&&t.domEvent&&t.domEvent.preventDefault();const e=!this.$data.sPopupVisible;(this.isClickToHide()&&!e||e&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,t)},onPopupMouseDown(){const{vcTriggerContext:t={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),t.onPopupMouseDown&&t.onPopupMouseDown(...arguments)},onDocumentClick(t){if(this.$props.mask&&!this.$props.maskClosable)return;const e=t.target,r=this.getRootDomNode(),i=this.getPopupDomNode();(!eh(r,e)||this.isContextMenuOnly())&&!eh(i,e)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var t;return((t=this.popupRef)===null||t===void 0?void 0:t.getElement())||null},getRootDomNode(){var t,e,r,i;const{getTriggerDOMNode:n}=this.$props;if(n){const a=((e=(t=this.triggerRef)===null||t===void 0?void 0:t.$el)===null||e===void 0?void 0:e.nodeName)==="#comment"?null:Iy(this.triggerRef);return Iy(n(a))}try{const a=((i=(r=this.triggerRef)===null||r===void 0?void 0:r.$el)===null||i===void 0?void 0:i.nodeName)==="#comment"?null:Iy(this.triggerRef);if(a)return a}catch{}return Iy(this)},handleGetPopupClassFromAlign(t){const e=[],r=this.$props,{popupPlacement:i,builtinPlacements:n,prefixCls:a,alignPoint:s,getPopupClassNameFromAlign:o}=r;return i&&n&&e.push(N1e(n,a,t,s)),o&&e.push(o(t)),e.join(" ")},getPopupAlign(){const t=this.$props,{popupPlacement:e,popupAlign:r,builtinPlacements:i}=t;return e&&i?gL(i,e,r):r},getComponent(){const t={};this.isMouseEnterToShow()&&(t.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(t.onMouseleave=this.onPopupMouseleave),t.onMousedown=this.onPopupMouseDown,t[uh?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:e,getRootDomNode:r,$attrs:i}=this,{prefixCls:n,destroyPopupOnHide:a,popupClassName:s,popupAnimation:o,popupTransitionName:u,popupStyle:l,mask:c,maskAnimation:h,maskTransitionName:f,zIndex:d,stretch:p,alignPoint:g,mobile:v,arrow:m,forceRender:y}=this.$props,{sPopupVisible:_,point:x}=this.$data,b=fe(fe({prefixCls:n,arrow:m,destroyPopupOnHide:a,visible:_,point:g?x:null,align:this.align,animation:o,getClassNameFromAlign:e,stretch:p,getRootDomNode:r,mask:c,zIndex:d,transitionName:u,maskAnimation:h,maskTransitionName:f,class:s,style:l,onAlign:i.onPopupAlign||xq},t),{ref:this.setPopupRef,mobile:v,forceRender:y});return Ae(O1e,b,{default:this.$slots.popup||(()=>Nhe(this,"popup"))})},attachParent(t){co.cancel(this.attachId);const{getPopupContainer:e,getDocument:r}=this.$props,i=this.getRootDomNode();let n;e?(i||e.length===0)&&(n=e(i)):n=r(this.getRootDomNode()).body,n?n.appendChild(t):this.attachId=co(()=>{this.attachParent(t)})},getContainer(){const{$props:t}=this,{getDocument:e}=t,r=e(this.getRootDomNode()).createElement("div");return r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",this.attachParent(r),r},setPopupVisible(t,e){const{alignPoint:r,sPopupVisible:i,onPopupVisibleChange:n}=this;this.clearDelayTimer(),i!==t&&(Phe(this,"popupVisible")||this.setState({sPopupVisible:t,prevPopupVisible:i}),n&&n(t)),r&&e&&t&&this.setPoint(e)},setPoint(t){const{alignPoint:e}=this.$props;!e||!t||this.setState({point:{pageX:t.pageX,pageY:t.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(t,e,r){const i=e*1e3;if(this.clearDelayTimer(),i){const n=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(t,n),this.clearDelayTimer()},i)}else this.setPopupVisible(t,r)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(t){let e=()=>{};const r=oP(this);return this.childOriginEvents[t]&&r[t]?this[`fire${t}`]:(e=this.childOriginEvents[t]||r[t]||e,e)},isClickToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("click")!==-1||e.indexOf("click")!==-1},isContextMenuOnly(){const{action:t}=this.$props;return t==="contextmenu"||t.length===1&&t[0]==="contextmenu"},isContextmenuToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("contextmenu")!==-1||e.indexOf("contextmenu")!==-1},isClickToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("click")!==-1||e.indexOf("click")!==-1},isMouseEnterToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("hover")!==-1||e.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("hover")!==-1||e.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("focus")!==-1||e.indexOf("focus")!==-1},isBlurToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("focus")!==-1||e.indexOf("blur")!==-1},forcePopupAlign(){var t;this.$data.sPopupVisible&&((t=this.popupRef)===null||t===void 0||t.forceAlign())},fireEvents(t,e){this.childOriginEvents[t]&&this.childOriginEvents[t](e);const r=this.$props[t]||this.$attrs[t];r&&r(e)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:t}=this,e=mm(Ohe(this)),{alignPoint:r,getPopupContainer:i}=this.$props,n=e[0];this.childOriginEvents=oP(n);const a={key:"trigger"};this.isContextmenuToShow()?a.onContextmenu=this.onContextmenu:a.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(a.onClick=this.onClick,a.onMousedown=this.onMousedown,a[uh?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(a.onClick=this.createTwoChains("onClick"),a.onMousedown=this.createTwoChains("onMousedown"),a[uh?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(a.onMouseenter=this.onMouseenter,r&&(a.onMousemove=this.onMouseMove)):a.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?a.onMouseleave=this.onMouseleave:a.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(a.onFocus=this.onFocus,a.onBlur=this.onBlur):(a.onFocus=this.createTwoChains("onFocus"),a.onBlur=l=>{l&&(!l.relatedTarget||!eh(l.target,l.relatedTarget))&&this.createTwoChains("onBlur")(l)});const s=ki(n&&n.props&&n.props.class,t.class);s&&(a.class=s);const o=l3(n,fe(fe({},a),{ref:"triggerRef"}),!0,!0),u=Ae(V1e,{key:"portal",getContainer:i&&(()=>i(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return Ae(Si,null,[o,u])}});var Y1e=Symbol("iconContext"),Wq=function(){return Fi(Y1e,{prefixCls:fr("anticon"),rootClassName:fr(""),csp:fr()})};function R7(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function q1e(t,e){return t&&t.contains?t.contains(e):!1}var yL="data-vc-order",X1e="vc-icon-key",t8=new Map;function Yq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):X1e}function N7(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function Z1e(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function qq(t){return Array.from((t8.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function Xq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!R7())return null;var r=e.csp,i=e.prepend,n=document.createElement("style");n.setAttribute(yL,Z1e(i)),r&&r.nonce&&(n.nonce=r.nonce),n.innerHTML=t;var a=N7(e),s=a.firstChild;if(i){if(i==="queue"){var o=qq(a).filter(function(u){return["prepend","prependQueue"].includes(u.getAttribute(yL))});if(o.length)return a.insertBefore(n,o[o.length-1].nextSibling),n}a.insertBefore(n,s)}else a.appendChild(n);return n}function K1e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=N7(e);return qq(r).find(function(i){return i.getAttribute(Yq(e))===t})}function J1e(t,e){var r=t8.get(t);if(!r||!q1e(document,r)){var i=Xq("",e),n=i.parentNode;t8.set(t,n),t.removeChild(i)}}function Q1e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=N7(r);J1e(i,r);var n=K1e(e,r);if(n)return r.csp&&r.csp.nonce&&n.nonce!==r.csp.nonce&&(n.nonce=r.csp.nonce),n.innerHTML!==t&&(n.innerHTML=t),n;var a=Xq(t,r);return a.setAttribute(Yq(r),e),a}function _L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){e2e(t,n,r[n])})}return t}function e2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xL(t){return typeof t=="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(typeof t.icon=="object"||typeof t.icon=="function")}function r8(t,e,r){return r?Ti(t.tag,_L({key:e},r,t.attrs),(t.children||[]).map(function(i,n){return r8(i,"".concat(e,"-").concat(t.tag,"-").concat(n))})):Ti(t.tag,_L({key:e},t.attrs),(t.children||[]).map(function(i,n){return r8(i,"".concat(e,"-").concat(t.tag,"-").concat(n))}))}function Zq(t){return $h(t)[0]}function Kq(t){return t?Array.isArray(t)?t:[t]:[]}var t2e=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function Jq(t){return t&&t.getRootNode&&t.getRootNode()}function r2e(t){return R7()?Jq(t)instanceof ShadowRoot:!1}function i2e(t){return r2e(t)?Jq(t):null}var n2e=function(){var e=Wq(),r=e.prefixCls,i=e.csp,n=Q4(),a=t2e;r&&(a=a.replace(/anticon/g,r.value)),cl(function(){if(R7()){var s=n.vnode.el,o=i2e(s);Q1e(a,"@ant-design-vue-icons",{prepend:!0,csp:i.value,attachTo:o})}})},a2e=["icon","primaryColor","secondaryColor"];function s2e(t,e){if(t==null)return{};var r=o2e(t,e),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function o2e(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,a;for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function Bx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){u2e(t,n,r[n])})}return t}function u2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var I1=du({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function l2e(t){var e=t.primaryColor,r=t.secondaryColor;I1.primaryColor=e,I1.secondaryColor=r||Zq(e),I1.calculated=!!r}function c2e(){return Bx({},I1)}var Vc=function(e,r){var i=Bx({},e,r.attrs),n=i.icon,a=i.primaryColor,s=i.secondaryColor,o=s2e(i,a2e),u=I1;if(a&&(u={primaryColor:a,secondaryColor:s||Zq(a)}),xL(n),!xL(n))return null;var l=n;return l&&typeof l.icon=="function"&&(l=Bx({},l,{icon:l.icon(u.primaryColor,u.secondaryColor)})),r8(l.icon,"svg-".concat(l.name),Bx({},o,{"data-icon":l.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Vc.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};Vc.inheritAttrs=!1;Vc.displayName="IconBase";Vc.getTwoToneColors=c2e;Vc.setTwoToneColors=l2e;function h2e(t,e){return g2e(t)||p2e(t,e)||d2e(t,e)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d2e(t,e){if(t){if(typeof t=="string")return bL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bL(t,e)}}function bL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function p2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i=[],n=!0,a=!1,s,o;try{for(r=r.call(t);!(n=(s=r.next()).done)&&(i.push(s.value),!(e&&i.length===e));n=!0);}catch(u){a=!0,o=u}finally{try{!n&&r.return!=null&&r.return()}finally{if(a)throw o}}return i}}function g2e(t){if(Array.isArray(t))return t}function Qq(t){var e=Kq(t),r=h2e(e,2),i=r[0],n=r[1];return Vc.setTwoToneColors({primaryColor:i,secondaryColor:n})}function v2e(){var t=Vc.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var m2e=Br({name:"InsertStyles",setup:function(){return n2e(),function(){return null}}}),y2e=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function _2e(t,e){return E2e(t)||C2e(t,e)||b2e(t,e)||x2e()}function x2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b2e(t,e){if(t){if(typeof t=="string")return CL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CL(t,e)}}function CL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function C2e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var i=[],n=!0,a=!1,s,o;try{for(r=r.call(t);!(n=(s=r.next()).done)&&(i.push(s.value),!(e&&i.length===e));n=!0);}catch(u){a=!0,o=u}finally{try{!n&&r.return!=null&&r.return()}finally{if(a)throw o}}return i}}function E2e(t){if(Array.isArray(t))return t}function EL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){Qv(t,n,r[n])})}return t}function Qv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S2e(t,e){if(t==null)return{};var r=T2e(t,e),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)i=a[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}function T2e(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,a;for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}Qq(sde.primary);var ma=function(e,r){var i,n=EL({},e,r.attrs),a=n.class,s=n.icon,o=n.spin,u=n.rotate,l=n.tabindex,c=n.twoToneColor,h=n.onClick,f=S2e(n,y2e),d=Wq(),p=d.prefixCls,g=d.rootClassName,v=(i={},Qv(i,g.value,!!g.value),Qv(i,p.value,!0),Qv(i,"".concat(p.value,"-").concat(s.name),!!s.name),Qv(i,"".concat(p.value,"-spin"),!!o||s.name==="loading"),i),m=l;m===void 0&&h&&(m=-1);var y=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,_=Kq(c),x=_2e(_,2),b=x[0],C=x[1];return Ae("span",EL({role:"img","aria-label":s.name},f,{onClick:h,class:[v,a],tabindex:m}),[Ae(Vc,{icon:s,primaryColor:b,secondaryColor:C,style:y},null),Ae(m2e,null,null)])};ma.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};ma.displayName="AntdIcon";ma.inheritAttrs=!1;ma.getTwoToneColor=v2e;ma.setTwoToneColor=Qq;var A2e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};function SL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){w2e(t,n,r[n])})}return t}function w2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cm=function(e,r){var i=SL({},e,r.attrs);return Ae(ma,SL({},i,{icon:A2e}),null)};Cm.displayName="LoadingOutlined";Cm.inheritAttrs=!1;var D2e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};function TL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){F2e(t,n,r[n])})}return t}function F2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Em=function(e,r){var i=TL({},e,r.attrs);return Ae(ma,TL({},i,{icon:D2e}),null)};Em.displayName="CloseOutlined";Em.inheritAttrs=!1;var I2e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};function AL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){B2e(t,n,r[n])})}return t}function B2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tg=function(e,r){var i=AL({},e,r.attrs);return Ae(ma,AL({},i,{icon:I2e}),null)};tg.displayName="CloseCircleFilled";tg.inheritAttrs=!1;const M2e=t=>({animationDuration:t,animationFillMode:"both"}),P2e=t=>({animationDuration:t,animationFillMode:"both"}),L2e=function(t,e,r,i){const a=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${a}${t}-enter,
      ${a}${t}-appear
    `]:fe(fe({},M2e(i)),{animationPlayState:"paused"}),[`${a}${t}-leave`]:fe(fe({},P2e(i)),{animationPlayState:"paused"}),[`
      ${a}${t}-enter${t}-enter-active,
      ${a}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${a}${t}-leave${t}-leave-active`]:{animationName:r,animationPlayState:"running",pointerEvents:"none"}}},O2e=new Wi("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),R2e=new Wi("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),wL=new Wi("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),DL=new Wi("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),N2e=new Wi("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),k2e=new Wi("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),z2e=new Wi("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),H2e=new Wi("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),G2e=new Wi("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),U2e=new Wi("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),j2e=new Wi("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),V2e=new Wi("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),$2e={zoom:{inKeyframes:O2e,outKeyframes:R2e},"zoom-big":{inKeyframes:wL,outKeyframes:DL},"zoom-big-fast":{inKeyframes:wL,outKeyframes:DL},"zoom-left":{inKeyframes:z2e,outKeyframes:H2e},"zoom-right":{inKeyframes:G2e,outKeyframes:U2e},"zoom-up":{inKeyframes:N2e,outKeyframes:k2e},"zoom-down":{inKeyframes:j2e,outKeyframes:V2e}},W2e=(t,e)=>{const{antCls:r}=t,i=`${r}-${e}`,{inKeyframes:n,outKeyframes:a}=$2e[e];return[L2e(i,n,a,t.motionDurationFast),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]};var Y2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function FL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){q2e(t,n,r[n])})}return t}function q2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var k7=function(e,r){var i=FL({},e,r.attrs);return Ae(ma,FL({},i,{icon:Y2e}),null)};k7.displayName="CheckCircleOutlined";k7.inheritAttrs=!1;var X2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function IL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){Z2e(t,n,r[n])})}return t}function Z2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var z7=function(e,r){var i=IL({},e,r.attrs);return Ae(ma,IL({},i,{icon:X2e}),null)};z7.displayName="ExclamationCircleOutlined";z7.inheritAttrs=!1;var K2e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};function BL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){J2e(t,n,r[n])})}return t}function J2e(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var H7=function(e,r){var i=BL({},e,r.attrs);return Ae(ma,BL({},i,{icon:K2e}),null)};H7.displayName="InfoCircleOutlined";H7.inheritAttrs=!1;var Q2e={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function ML(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){eme(t,n,r[n])})}return t}function eme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var G7=function(e,r){var i=ML({},e,r.attrs);return Ae(ma,ML({},i,{icon:Q2e}),null)};G7.displayName="CloseCircleOutlined";G7.inheritAttrs=!1;var tme={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function PL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){rme(t,n,r[n])})}return t}function rme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rg=function(e,r){var i=PL({},e,r.attrs);return Ae(ma,PL({},i,{icon:tme}),null)};rg.displayName="CheckCircleFilled";rg.inheritAttrs=!1;var ime={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};function LL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){nme(t,n,r[n])})}return t}function nme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ig=function(e,r){var i=LL({},e,r.attrs);return Ae(ma,LL({},i,{icon:ime}),null)};ig.displayName="ExclamationCircleFilled";ig.inheritAttrs=!1;var ame={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};function OL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?Object(arguments[e]):{},i=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),i.forEach(function(n){sme(t,n,r[n])})}return t}function sme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ng=function(e,r){var i=OL({},e,r.attrs);return Ae(ma,OL({},i,{icon:ame}),null)};ng.displayName="InfoCircleFilled";ng.inheritAttrs=!1;const ls={adjustX:1,adjustY:1},cs=[0,0],eX={left:{points:["cr","cl"],overflow:ls,offset:[-4,0],targetOffset:cs},right:{points:["cl","cr"],overflow:ls,offset:[4,0],targetOffset:cs},top:{points:["bc","tc"],overflow:ls,offset:[0,-4],targetOffset:cs},bottom:{points:["tc","bc"],overflow:ls,offset:[0,4],targetOffset:cs},topLeft:{points:["bl","tl"],overflow:ls,offset:[0,-4],targetOffset:cs},leftTop:{points:["tr","tl"],overflow:ls,offset:[-4,0],targetOffset:cs},topRight:{points:["br","tr"],overflow:ls,offset:[0,-4],targetOffset:cs},rightTop:{points:["tl","tr"],overflow:ls,offset:[4,0],targetOffset:cs},bottomRight:{points:["tr","br"],overflow:ls,offset:[0,4],targetOffset:cs},rightBottom:{points:["bl","br"],overflow:ls,offset:[4,0],targetOffset:cs},bottomLeft:{points:["tl","bl"],overflow:ls,offset:[0,4],targetOffset:cs},leftBottom:{points:["br","bl"],overflow:ls,offset:[-4,0],targetOffset:cs}},ome={prefixCls:String,id:String,overlayInnerStyle:or.any},ume=Br({compatConfig:{MODE:3},name:"TooltipContent",props:ome,setup(t,e){let{slots:r}=e;return()=>{var i;return Ae("div",{class:`${t.prefixCls}-inner`,id:t.id,role:"tooltip",style:t.overlayInnerStyle},[(i=r.overlay)===null||i===void 0?void 0:i.call(r)])}}});var lme=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};function RL(){}const cme=Br({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:or.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:or.string.def("right"),transitionName:String,animation:or.any,afterVisibleChange:or.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:or.string.def("rc-tooltip"),mouseEnterDelay:or.number.def(.1),mouseLeaveDelay:or.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:or.object.def(()=>({})),arrowContent:or.any.def(null),tipId:String,builtinPlacements:or.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function,arrow:{type:Boolean,default:!0}},setup(t,e){let{slots:r,attrs:i,expose:n}=e;const a=hr(),s=()=>{const{prefixCls:c,tipId:h,overlayInnerStyle:f}=t;return[t.arrow?Ae("div",{class:`${c}-arrow`,key:"arrow"},[Ghe(r,t,"arrowContent")]):null,Ae(ume,{key:"content",prefixCls:c,id:h,overlayInnerStyle:f},{overlay:r.overlay})]};n({getPopupDomNode:()=>a.value.getPopupDomNode(),triggerDOM:a,forcePopupAlign:()=>{var c;return(c=a.value)===null||c===void 0?void 0:c.forcePopupAlign()}});const u=hr(!1),l=hr(!1);return Kp(()=>{const{destroyTooltipOnHide:c}=t;if(typeof c=="boolean")u.value=c;else if(c&&typeof c=="object"){const{keepParent:h}=c;u.value=h===!0,l.value=h===!1}}),()=>{const{overlayClassName:c,trigger:h,mouseEnterDelay:f,mouseLeaveDelay:d,overlayStyle:p,prefixCls:g,afterVisibleChange:v,transitionName:m,animation:y,placement:_,align:x,destroyTooltipOnHide:b,defaultVisible:C}=t,E=lme(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),A=fe({},E);t.visible!==void 0&&(A.popupVisible=t.visible);const S=fe(fe(fe({popupClassName:c,prefixCls:g,action:h,builtinPlacements:eX,popupPlacement:_,popupAlign:x,afterPopupVisibleChange:v,popupTransitionName:m,popupAnimation:y,defaultPopupVisible:C,destroyPopupOnHide:u.value,autoDestroy:l.value,mouseLeaveDelay:d,popupStyle:p,mouseEnterDelay:f},A),i),{onPopupVisibleChange:t.onVisibleChange||RL,onPopupAlign:t.onPopupAlign||RL,ref:a,arrow:!!t.arrow,popup:s()});return Ae(W1e,S,{default:r.default})}}}),hme=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:xn(),overlayInnerStyle:xn(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},arrow:{type:[Boolean,Object],default:!0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:xn(),builtinPlacements:xn(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),fme={adjustX:1,adjustY:1},NL={adjustX:0,adjustY:0},dme=[0,0];function kL(t){return typeof t=="boolean"?t?fme:NL:fe(fe({},NL),t)}function pme(t){const{arrowWidth:e=4,horizontalArrowShift:r=16,verticalArrowShift:i=8,autoAdjustOverflow:n,arrowPointAtCenter:a}=t,s={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(r+e),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+e)]},topRight:{points:["br","tc"],offset:[r+e,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+e)]},bottomRight:{points:["tr","bc"],offset:[r+e,4]},rightBottom:{points:["bl","cr"],offset:[4,i+e]},bottomLeft:{points:["tl","bc"],offset:[-(r+e),4]},leftBottom:{points:["br","cl"],offset:[-4,i+e]}};return Object.keys(s).forEach(o=>{s[o]=a?fe(fe({},s[o]),{overflow:kL(n),targetOffset:dme}):fe(fe({},eX[o]),{overflow:kL(n)}),s[o].ignoreShake=!0}),s}function gme(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let e=0,r=t.length;e<r;e++)if(t[e]!==void 0)return t[e]}const vme=s3.map(t=>`${t}-inverse`);function mme(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...vme,...s3].includes(t):s3.includes(t)}function yme(t,e){const r=mme(e),i=ki({[`${t}-${e}`]:e&&r}),n={},a={};return e&&!r&&(n.background=e,a["--antd-arrow-background-color"]=e),{className:i,overlayStyle:n,arrowStyle:a}}function jy(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return t.map(r=>`${e}${r}`).join(",")}const tX=8;function _me(t){const e=tX,{sizePopupArrow:r,contentRadius:i,borderRadiusOuter:n}=t,a=r/2-Math.ceil(n*(Math.sqrt(2)-1)),s=(i>12?i+2:12)-a,o=e-a;return{dropdownArrowOffset:s,dropdownArrowOffsetVertical:o}}function xme(t,e){const{componentCls:r,sizePopupArrow:i,marginXXS:n,borderRadiusXS:a,borderRadiusOuter:s,boxShadowPopoverArrow:o}=t,{colorBg:u,showArrowCls:l,contentRadius:c=t.borderRadiusLG}=e,{dropdownArrowOffsetVertical:h,dropdownArrowOffset:f}=_me({sizePopupArrow:i,contentRadius:c,borderRadiusOuter:s}),d=i/2+n;return{[r]:{[`${r}-arrow`]:[fe(fe({position:"absolute",zIndex:1,display:"block"},_de(i,a,s,u,o)),{"&:before":{background:u}})],[[`&-placement-top ${r}-arrow`,`&-placement-topLeft ${r}-arrow`,`&-placement-topRight ${r}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:f}},[`&-placement-topRight ${r}-arrow`]:{right:{_skip_check_:!0,value:f}},[[`&-placement-bottom ${r}-arrow`,`&-placement-bottomLeft ${r}-arrow`,`&-placement-bottomRight ${r}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${r}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${r}-arrow`]:{left:{_skip_check_:!0,value:f}},[`&-placement-bottomRight ${r}-arrow`]:{right:{_skip_check_:!0,value:f}},[[`&-placement-left ${r}-arrow`,`&-placement-leftTop ${r}-arrow`,`&-placement-leftBottom ${r}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${r}-arrow`]:{top:h},[`&-placement-leftBottom ${r}-arrow`]:{bottom:h},[[`&-placement-right ${r}-arrow`,`&-placement-rightTop ${r}-arrow`,`&-placement-rightBottom ${r}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${r}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${r}-arrow`]:{top:h},[`&-placement-rightBottom ${r}-arrow`]:{bottom:h},[jy(["&-placement-topLeft","&-placement-top","&-placement-topRight"].map(p=>p+=":not(&-arrow-hidden)"),l)]:{paddingBottom:d},[jy(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"].map(p=>p+=":not(&-arrow-hidden)"),l)]:{paddingTop:d},[jy(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"].map(p=>p+=":not(&-arrow-hidden)"),l)]:{paddingRight:{_skip_check_:!0,value:d}},[jy(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"].map(p=>p+=":not(&-arrow-hidden)"),l)]:{paddingLeft:{_skip_check_:!0,value:d}}}}}const bme=t=>{const{componentCls:e,tooltipMaxWidth:r,tooltipColor:i,tooltipBg:n,tooltipBorderRadius:a,zIndexPopup:s,controlHeight:o,boxShadowSecondary:u,paddingSM:l,paddingXS:c,tooltipRadiusOuter:h}=t;return[{[e]:fe(fe(fe(fe({},T7(t)),{position:"absolute",zIndex:s,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:r,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":n,[`${e}-inner`]:{minWidth:o,minHeight:o,padding:`${l/2}px ${c}px`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:n,borderRadius:a,boxShadow:u},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(a,tX)}},[`${e}-content`]:{position:"relative"}}),xde(t,(f,d)=>{let{darkColor:p}=d;return{[`&${e}-${f}`]:{[`${e}-inner`]:{backgroundColor:p},[`${e}-arrow`]:{"--antd-arrow-background-color":p}}}})),{"&-rtl":{direction:"rtl"}})},xme(vf(t,{borderRadiusOuter:h}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:a}),{[`${e}-pure`]:{position:"relative",maxWidth:"none"}}]},Cme=(t,e)=>_m("Tooltip",i=>{if((e==null?void 0:e.value)===!1)return[];const{borderRadius:n,colorTextLightSolid:a,colorBgDefault:s,borderRadiusOuter:o}=i,u=vf(i,{tooltipMaxWidth:250,tooltipColor:a,tooltipBorderRadius:n,tooltipBg:s,tooltipRadiusOuter:o>4?4:o});return[bme(u),W2e(i,"zoom-big-fast")]},i=>{let{zIndexPopupBase:n,colorBgSpotlight:a}=i;return{zIndexPopup:n+70,colorBgDefault:a}})(t),Eme=(t,e)=>{const r={},i=fe({},t);return e.forEach(n=>{t&&n in t&&(r[n]=t[n],delete i[n])}),{picked:r,omitted:i}},Sme=()=>fe(fe({},hme()),{title:or.any}),Tme=Br({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:Ihe(Sme(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(t,e){let{slots:r,emit:i,attrs:n,expose:a}=e;const{prefixCls:s,getPopupContainer:o,direction:u,rootPrefixCls:l}=Qp("tooltip",t),c=Ge(()=>{var T;return(T=t.open)!==null&&T!==void 0?T:t.visible}),h=fr(gme([t.open,t.visible])),f=fr();let d;oi(c,T=>{co.cancel(d),d=co(()=>{h.value=!!T})});const p=()=>{var T;const D=(T=t.title)!==null&&T!==void 0?T:r.title;return!D&&D!==0},g=T=>{const D=p();c.value===void 0&&(h.value=D?!1:T),D||(i("update:visible",T),i("visibleChange",T),i("update:open",T),i("openChange",T))};a({getPopupDomNode:()=>f.value.getPopupDomNode(),open:h,forcePopupAlign:()=>{var T;return(T=f.value)===null||T===void 0?void 0:T.forcePopupAlign()}});const m=Ge(()=>{var T;const{builtinPlacements:D,autoAdjustOverflow:F,arrow:B,arrowPointAtCenter:O}=t;let M=O;return typeof B=="object"&&(M=(T=B.pointAtCenter)!==null&&T!==void 0?T:O),D||pme({arrowPointAtCenter:M,autoAdjustOverflow:F})}),y=T=>T||T==="",_=T=>{const D=T.type;if(typeof D=="object"&&T.props&&((D.__ANT_BUTTON===!0||D==="button")&&y(T.props.disabled)||D.__ANT_SWITCH===!0&&(y(T.props.disabled)||y(T.props.loading))||D.__ANT_RADIO===!0&&y(T.props.disabled))){const{picked:F,omitted:B}=Eme(khe(T),["position","left","right","top","bottom","float","display","zIndex"]),O=fe(fe({display:"inline-block"},F),{cursor:"not-allowed",lineHeight:1,width:T.props&&T.props.block?"100%":void 0}),M=fe(fe({},B),{pointerEvents:"none"}),R=l3(T,{style:M},!0);return Ae("span",{style:O,class:`${s.value}-disabled-compatible-wrapper`},[R])}return T},x=()=>{var T,D;return(T=t.title)!==null&&T!==void 0?T:(D=r.title)===null||D===void 0?void 0:D.call(r)},b=(T,D)=>{const F=m.value,B=Object.keys(F).find(O=>{var M,R;return F[O].points[0]===((M=D.points)===null||M===void 0?void 0:M[0])&&F[O].points[1]===((R=D.points)===null||R===void 0?void 0:R[1])});if(B){const O=T.getBoundingClientRect(),M={top:"50%",left:"50%"};B.indexOf("top")>=0||B.indexOf("Bottom")>=0?M.top=`${O.height-D.offset[1]}px`:(B.indexOf("Top")>=0||B.indexOf("bottom")>=0)&&(M.top=`${-D.offset[1]}px`),B.indexOf("left")>=0||B.indexOf("Right")>=0?M.left=`${O.width-D.offset[0]}px`:(B.indexOf("right")>=0||B.indexOf("Left")>=0)&&(M.left=`${-D.offset[0]}px`),T.style.transformOrigin=`${M.left} ${M.top}`}},C=Ge(()=>yme(s.value,t.color)),E=Ge(()=>n["data-popover-inject"]),[A,S]=Cme(s,Ge(()=>!E.value));return()=>{var T,D;const{openClassName:F,overlayClassName:B,overlayStyle:O,overlayInnerStyle:M}=t;let R=(D=mm((T=r.default)===null||T===void 0?void 0:T.call(r)))!==null&&D!==void 0?D:null;R=R.length===1?R[0]:R;let z=h.value;if(c.value===void 0&&p()&&(z=!1),!R)return null;const k=_(Hhe(R)&&!zhe(R)?R:Ae("span",null,[R])),U=ki({[F||`${s.value}-open`]:!0,[k.props&&k.props.class]:k.props&&k.props.class}),V=ki(B,{[`${s.value}-rtl`]:u.value==="rtl"},C.value.className,S.value),j=fe(fe({},C.value.overlayStyle),M),Y=C.value.arrowStyle,te=fe(fe(fe({},n),t),{prefixCls:s.value,arrow:!!t.arrow,getPopupContainer:o==null?void 0:o.value,builtinPlacements:m.value,visible:z,ref:f,overlayClassName:V,overlayStyle:fe(fe({},Y),O),overlayInnerStyle:j,onVisibleChange:g,onPopupAlign:b,transitionName:P1e(l.value,"zoom-big-fast",t.transitionName)});return A(Ae(cme,te,{default:()=>[h.value?l3(k,{class:U}):k],arrowContent:()=>Ae("span",{class:`${s.value}-arrow-content`},null),overlay:x}))}}}),PYe=ym(Tme);let AE=fe({},p2.Modal);function Ame(t){t?AE=fe(fe({},AE),t):AE=fe({},p2.Modal)}const i8="internalMark",Mx=Br({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(t,e){let{slots:r}=e;C7(t.ANT_MARK__===i8);const i=du({antLocale:fe(fe({},t.locale),{exist:!0}),ANT_MARK__:i8});return oa("localeData",i),oi(()=>t.locale,n=>{Ame(n&&n.Modal),i.antLocale=fe(fe({},n),{exist:!0})},{immediate:!0}),()=>{var n;return(n=r.default)===null||n===void 0?void 0:n.call(r)}}});Mx.install=function(t){return t.component(Mx.name,Mx),t};const wme=ym(Mx),rX=Br({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(t,e){let{attrs:r,slots:i}=e,n,a=!1;const s=Ge(()=>t.duration===void 0?4.5:t.duration),o=()=>{s.value&&!a&&(n=setTimeout(()=>{l()},s.value*1e3))},u=()=>{n&&(clearTimeout(n),n=null)},l=h=>{h&&h.stopPropagation(),u();const{onClose:f,noticeKey:d}=t;f&&f(d)},c=()=>{u(),o()};return Eu(()=>{o()}),pm(()=>{a=!0,u()}),oi([s,()=>t.updateMark,()=>t.visible],(h,f)=>{let[d,p,g]=h,[v,m,y]=f;(d!==v||p!==m||g!==y&&y)&&c()},{flush:"post"}),()=>{var h,f;const{prefixCls:d,closable:p,closeIcon:g=(h=i.closeIcon)===null||h===void 0?void 0:h.call(i),onClick:v,holder:m}=t,{class:y,style:_}=r,x=`${d}-notice`,b=Object.keys(r).reduce((E,A)=>((A.startsWith("data-")||A.startsWith("aria-")||A==="role")&&(E[A]=r[A]),E),{}),C=Ae("div",jr({class:ki(x,y,{[`${x}-closable`]:p}),style:_,onMouseenter:u,onMouseleave:o,onClick:v},b),[Ae("div",{class:`${x}-content`},[(f=i.default)===null||f===void 0?void 0:f.call(i)]),p?Ae("a",{tabindex:0,onClick:l,class:`${x}-close`},[g||Ae("span",{class:`${x}-close-x`},null)]):null]);return m?Ae(gW,{to:m},{default:()=>C}):C}}});var Dme=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};let zL=0;const Fme=Date.now();function HL(){const t=zL;return zL+=1,`rcNotification_${Fme}_${t}`}const f3=Br({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(t,e){let{attrs:r,expose:i,slots:n}=e;const a=new Map,s=fr([]),o=Ge(()=>{const{prefixCls:c,animation:h="fade"}=t;let f=t.transitionName;return!f&&h&&(f=`${c}-${h}`),Uq(f)}),u=(c,h)=>{const f=c.key||HL(),d=fe(fe({},c),{key:f}),{maxCount:p}=t,g=s.value.map(m=>m.notice.key).indexOf(f),v=s.value.concat();g!==-1?v.splice(g,1,{notice:d,holderCallback:h}):(p&&s.value.length>=p&&(d.key=v[0].notice.key,d.updateMark=HL(),d.userPassKey=f,v.shift()),v.push({notice:d,holderCallback:h})),s.value=v},l=c=>{s.value=cr(s.value).filter(h=>{let{notice:{key:f,userPassKey:d}}=h;return(d||f)!==c})};return i({add:u,remove:l,notices:s}),()=>{var c;const{prefixCls:h,closeIcon:f=(c=n.closeIcon)===null||c===void 0?void 0:c.call(n,{prefixCls:h})}=t,d=s.value.map((g,v)=>{let{notice:m,holderCallback:y}=g;const _=v===s.value.length-1?m.updateMark:void 0,{key:x,userPassKey:b}=m,{content:C}=m,E=fe(fe(fe({prefixCls:h,closeIcon:typeof f=="function"?f({prefixCls:h}):f},m),m.props),{key:x,noticeKey:b||x,updateMark:_,onClose:A=>{var S;l(A),(S=m.onClose)===null||S===void 0||S.call(m)},onClick:m.onClick});return y?Ae("div",{key:x,class:`${h}-hook-holder`,ref:A=>{typeof x>"u"||(A?(a.set(x,A),y(A,E)):a.delete(x))}},null):Ae(rX,jr(jr({},E),{},{class:ki(E.class,t.hashId)}),{default:()=>[typeof C=="function"?C({prefixCls:h}):C]})}),p={[h]:1,[r.class]:!!r.class,[t.hashId]:!0};return Ae("div",{class:p,style:r.style||{top:"65px",left:"50%"}},[Ae(nY,jr({tag:"div"},o.value),{default:()=>[d]})])}}});f3.newInstance=function(e,r){const i=e||{},{name:n="notification",getContainer:a,appContext:s,prefixCls:o,rootPrefixCls:u,transitionName:l,hasTransitionName:c,useStyle:h}=i,f=Dme(i,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),d=document.createElement("div");a?a().appendChild(d):document.body.appendChild(d);const g=Ae(Br({compatConfig:{MODE:3},name:"NotificationWrapper",setup(v,m){let{attrs:y}=m;const _=hr(),x=Ge(()=>On.getPrefixCls(n,o)),[,b]=h(x);return Eu(()=>{r({notice(C){var E;(E=_.value)===null||E===void 0||E.add(C)},removeNotice(C){var E;(E=_.value)===null||E===void 0||E.remove(C)},destroy(){kM(null,d),d.parentNode&&d.parentNode.removeChild(d)},component:_})}),()=>{const C=On,E=C.getRootPrefixCls(u,x.value),A=c?l:`${x.value}-${l}`;return Ae(B1,jr(jr({},C),{},{prefixCls:E}),{default:()=>[Ae(f3,jr(jr({ref:_},y),{},{prefixCls:x.value,transitionName:A,hashId:b.value}),null)]})}}}),f);g.appContext=s||g.appContext,kM(g,d)};let GL=0;const Ime=Date.now();function UL(){const t=GL;return GL+=1,`rcNotification_${Ime}_${t}`}const Bme=Br({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(t,e){let{attrs:r,slots:i}=e;const n=new Map,a=Ge(()=>t.notices),s=Ge(()=>{let c=t.transitionName;if(!c&&t.animation)switch(typeof t.animation){case"string":c=t.animation;break;case"function":c=t.animation().name;break;case"object":c=t.animation.name;break;default:c=`${t.prefixCls}-fade`;break}return Uq(c)}),o=c=>t.remove(c),u=fr({});oi(a,()=>{const c={};Object.keys(u.value).forEach(h=>{c[h]=[]}),t.notices.forEach(h=>{const{placement:f="topRight"}=h.notice;f&&(c[f]=c[f]||[],c[f].push(h))}),u.value=c});const l=Ge(()=>Object.keys(u.value));return()=>{var c;const{prefixCls:h,closeIcon:f=(c=i.closeIcon)===null||c===void 0?void 0:c.call(i,{prefixCls:h})}=t,d=l.value.map(p=>{var g,v;const m=u.value[p],y=(g=t.getClassName)===null||g===void 0?void 0:g.call(t,p),_=(v=t.getStyles)===null||v===void 0?void 0:v.call(t,p),x=m.map((E,A)=>{let{notice:S,holderCallback:T}=E;const D=A===a.value.length-1?S.updateMark:void 0,{key:F,userPassKey:B}=S,{content:O}=S,M=fe(fe(fe({prefixCls:h,closeIcon:typeof f=="function"?f({prefixCls:h}):f},S),S.props),{key:F,noticeKey:B||F,updateMark:D,onClose:R=>{var z;o(R),(z=S.onClose)===null||z===void 0||z.call(S)},onClick:S.onClick});return T?Ae("div",{key:F,class:`${h}-hook-holder`,ref:R=>{typeof F>"u"||(R?(n.set(F,R),T(R,M)):n.delete(F))}},null):Ae(rX,jr(jr({},M),{},{class:ki(M.class,t.hashId)}),{default:()=>[typeof O=="function"?O({prefixCls:h}):O]})}),b={[h]:1,[`${h}-${p}`]:1,[r.class]:!!r.class,[t.hashId]:!0,[y]:!!y};function C(){var E;m.length>0||(Reflect.deleteProperty(u.value,p),(E=t.onAllRemoved)===null||E===void 0||E.call(t))}return Ae("div",{key:p,class:b,style:r.style||_||{top:"65px",left:"50%"}},[Ae(nY,jr(jr({tag:"div"},s.value),{},{onAfterLeave:C}),{default:()=>[x]})])});return Ae($q,{getContainer:t.getContainer},{default:()=>[d]})}}});var Mme=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const Pme=()=>document.body;let jL=0;function Lme(){const t={};for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return r.forEach(n=>{n&&Object.keys(n).forEach(a=>{const s=n[a];s!==void 0&&(t[a]=s)})}),t}function iX(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:e=Pme,motion:r,prefixCls:i,maxCount:n,getClassName:a,getStyles:s,onAllRemoved:o}=t,u=Mme(t,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),l=hr([]),c=hr(),h=(m,y)=>{const _=m.key||UL(),x=fe(fe({},m),{key:_}),b=l.value.map(E=>E.notice.key).indexOf(_),C=l.value.concat();b!==-1?C.splice(b,1,{notice:x,holderCallback:y}):(n&&l.value.length>=n&&(x.key=C[0].notice.key,x.updateMark=UL(),x.userPassKey=_,C.shift()),C.push({notice:x,holderCallback:y})),l.value=C},f=m=>{l.value=l.value.filter(y=>{let{notice:{key:_,userPassKey:x}}=y;return(x||_)!==m})},d=()=>{l.value=[]},p=()=>Ae(Bme,{ref:c,prefixCls:i,maxCount:n,notices:l.value,remove:f,getClassName:a,getStyles:s,animation:r,hashId:t.hashId,onAllRemoved:o,getContainer:e},null),g=hr([]),v={open:m=>{const y=Lme(u,m);(y.key===null||y.key===void 0)&&(y.key=`vc-notification-${jL}`,jL+=1),g.value=[...g.value,{type:"open",config:y}]},close:m=>{g.value=[...g.value,{type:"close",key:m}]},destroy:()=>{g.value=[...g.value,{type:"destroy"}]}};return oi(g,()=>{g.value.length&&(g.value.forEach(m=>{switch(m.type){case"open":h(m.config);break;case"close":f(m.key);break;case"destroy":d();break}}),g.value=[])}),[v,p]}const Ome=t=>{const{componentCls:e,iconCls:r,boxShadowSecondary:i,colorBgElevated:n,colorSuccess:a,colorError:s,colorWarning:o,colorInfo:u,fontSizeLG:l,motionEaseInOutCirc:c,motionDurationSlow:h,marginXS:f,paddingXS:d,borderRadiusLG:p,zIndexPopup:g,messageNoticeContentPadding:v}=t,m=new Wi("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:d,transform:"translateY(0)",opacity:1}}),y=new Wi("MessageMoveOut",{"0%":{maxHeight:t.height,padding:d,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[e]:fe(fe({},T7(t)),{position:"fixed",top:f,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:g,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:m,animationDuration:h,animationPlayState:"paused",animationTimingFunction:c},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:y,animationDuration:h,animationPlayState:"paused",animationTimingFunction:c},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${e}-notice`]:{padding:d,textAlign:"center",[r]:{verticalAlign:"text-bottom",marginInlineEnd:f,fontSize:l},[`${e}-notice-content`]:{display:"inline-block",padding:v,background:n,borderRadius:p,boxShadow:i,pointerEvents:"all"},[`${e}-success ${r}`]:{color:a},[`${e}-error ${r}`]:{color:s},[`${e}-warning ${r}`]:{color:o},[`
        ${e}-info ${r},
        ${e}-loading ${r}`]:{color:u}}},{[`${e}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},nX=_m("Message",t=>{const e=vf(t,{messageNoticeContentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`});return[Ome(e)]},t=>({height:150,zIndexPopup:t.zIndexPopupBase+10})),Rme={info:Ae(ng,null,null),success:Ae(rg,null,null),error:Ae(tg,null,null),warning:Ae(ig,null,null),loading:Ae(Cm,null,null)},Nme=Br({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(t,e){let{slots:r}=e;return()=>{var i;return Ae("div",{class:ki(`${t.prefixCls}-custom-content`,`${t.prefixCls}-${t.type}`)},[t.icon||Rme[t.type],Ae("span",null,[(i=r.default)===null||i===void 0?void 0:i.call(r)])])}}});var kme=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const zme=8,Hme=3,Gme=Br({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved","animation","staticGetContainer"],setup(t,e){let{expose:r}=e;var i,n;const{getPrefixCls:a,getPopupContainer:s}=Qp("message",t),o=Ge(()=>a("message",t.prefixCls)),[,u]=nX(o),l=()=>{var g;const v=(g=t.top)!==null&&g!==void 0?g:zme;return{left:"50%",transform:"translateX(-50%)",top:typeof v=="number"?`${v}px`:v}},c=()=>ki(u.value,t.rtl?`${o.value}-rtl`:""),h=()=>{var g;return I7({prefixCls:o.value,animation:(g=t.animation)!==null&&g!==void 0?g:"move-up",transitionName:t.transitionName})},f=Ae("span",{class:`${o.value}-close-x`},[Ae(Em,{class:`${o.value}-close-icon`},null)]),[d,p]=iX({getStyles:l,prefixCls:o.value,getClassName:c,motion:h,closable:!1,closeIcon:f,duration:(i=t.duration)!==null&&i!==void 0?i:Hme,getContainer:(n=t.staticGetContainer)!==null&&n!==void 0?n:s.value,maxCount:t.maxCount,onAllRemoved:t.onAllRemoved});return r(fe(fe({},d),{prefixCls:o,hashId:u})),p}});let VL=0;function Ume(t){const e=hr(null),r=Symbol("messageHolderKey"),i=u=>{var l;(l=e.value)===null||l===void 0||l.close(u)},n=u=>{if(!e.value){const b=()=>{};return b.then=()=>{},b}const{open:l,prefixCls:c,hashId:h}=e.value,f=`${c}-notice`,{content:d,icon:p,type:g,key:v,class:m,onClose:y}=u,_=kme(u,["content","icon","type","key","class","onClose"]);let x=v;return x==null&&(VL+=1,x=`antd-message-${VL}`),che(b=>(l(fe(fe({},_),{key:x,content:()=>Ae(Nme,{prefixCls:c,type:g,icon:typeof p=="function"?p():p},{default:()=>[typeof d=="function"?d():d]}),placement:"top",class:ki(g&&`${f}-${g}`,h,m),onClose:()=>{y==null||y(),b()}})),()=>{i(x)}))},s={open:n,destroy:u=>{var l;u!==void 0?i(u):(l=e.value)===null||l===void 0||l.destroy()}};return["info","success","warning","error","loading"].forEach(u=>{const l=(c,h,f)=>{let d;c&&typeof c=="object"&&"content"in c?d=c:d={content:c};let p,g;typeof h=="function"?g=h:(p=h,g=f);const v=fe(fe({onClose:g,duration:p},d),{type:u});return n(v)};s[u]=l}),[s,()=>Ae(Gme,jr(jr({key:r},t),{},{ref:e}),null)]}function jme(t){return Ume(t)}let aX=3,sX,ia,Vme=1,oX="",uX="move-up",lX=!1,cX=()=>document.body,hX,fX=!1;function $me(){return Vme++}function Wme(t){t.top!==void 0&&(sX=t.top,ia=null),t.duration!==void 0&&(aX=t.duration),t.prefixCls!==void 0&&(oX=t.prefixCls),t.getContainer!==void 0&&(cX=t.getContainer,ia=null),t.transitionName!==void 0&&(uX=t.transitionName,ia=null,lX=!0),t.maxCount!==void 0&&(hX=t.maxCount,ia=null),t.rtl!==void 0&&(fX=t.rtl)}function Yme(t,e){if(ia){e(ia);return}f3.newInstance({appContext:t.appContext,prefixCls:t.prefixCls||oX,rootPrefixCls:t.rootPrefixCls,transitionName:uX,hasTransitionName:lX,style:{top:sX},getContainer:cX||t.getPopupContainer,maxCount:hX,name:"message",useStyle:nX},r=>{if(ia){e(ia);return}ia=r,e(r)})}const dX={info:ng,success:rg,error:tg,warning:ig,loading:Cm},qme=Object.keys(dX);function Xme(t){const e=t.duration!==void 0?t.duration:aX,r=t.key||$me(),i=new Promise(a=>{const s=()=>(typeof t.onClose=="function"&&t.onClose(),a(!0));Yme(t,o=>{o.notice({key:r,duration:e,style:t.style||{},class:t.class,content:u=>{let{prefixCls:l}=u;const c=dX[t.type],h=c?Ae(c,null,null):"",f=ki(`${l}-custom-content`,{[`${l}-${t.type}`]:t.type,[`${l}-rtl`]:fX===!0});return Ae("div",{class:f},[typeof t.icon=="function"?t.icon():t.icon||h,Ae("span",null,[typeof t.content=="function"?t.content():t.content])])},onClose:s,onClick:t.onClick})})}),n=()=>{ia&&ia.removeNotice(r)};return n.then=(a,s)=>i.then(a,s),n.promise=i,n}function Zme(t){return Object.prototype.toString.call(t)==="[object Object]"&&!!t.content}const E2={open:Xme,config:Wme,destroy(t){if(ia)if(t){const{removeNotice:e}=ia;e(t)}else{const{destroy:e}=ia;e(),ia=null}}};function Kme(t,e){t[e]=(r,i,n)=>Zme(r)?t.open(fe(fe({},r),{type:e})):(typeof i=="function"&&(n=i,i=void 0),t.open({content:r,duration:i,type:e,onClose:n}))}qme.forEach(t=>Kme(E2,t));E2.warn=E2.warning;E2.useMessage=jme;const Jme=t=>{const{componentCls:e,width:r,notificationMarginEdge:i}=t,n=new Wi("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),a=new Wi("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),s=new Wi("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:r},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${e}-top, &${e}-bottom`]:{marginInline:0},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:n}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:a}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:i,[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:s}}}},Qme=t=>{const{iconCls:e,componentCls:r,boxShadowSecondary:i,fontSizeLG:n,notificationMarginBottom:a,borderRadiusLG:s,colorSuccess:o,colorInfo:u,colorWarning:l,colorError:c,colorTextHeading:h,notificationBg:f,notificationPadding:d,notificationMarginEdge:p,motionDurationMid:g,motionEaseInOut:v,fontSize:m,lineHeight:y,width:_,notificationIconSize:x}=t,b=`${r}-notice`,C=new Wi("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:_},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),E=new Wi("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:a,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[r]:fe(fe(fe(fe({},T7(t)),{position:"fixed",zIndex:t.zIndexPopup,marginInlineEnd:p,[`${r}-hook-holder`]:{position:"relative"},[`&${r}-top, &${r}-bottom`]:{[`${r}-notice`]:{marginInline:"auto auto"}},[`&${r}-topLeft, &${r}-bottomLeft`]:{[`${r}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${r}-fade-enter, ${r}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:v,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${r}-fade-leave`]:{animationTimingFunction:v,animationFillMode:"both",animationDuration:g,animationPlayState:"paused"},[`${r}-fade-enter${r}-fade-enter-active, ${r}-fade-appear${r}-fade-appear-active`]:{animationName:C,animationPlayState:"running"},[`${r}-fade-leave${r}-fade-leave-active`]:{animationName:E,animationPlayState:"running"}}),Jme(t)),{"&-rtl":{direction:"rtl",[`${r}-notice-btn`]:{float:"left"}}})},{[b]:{position:"relative",width:_,maxWidth:`calc(100vw - ${p*2}px)`,marginBottom:a,marginInlineStart:"auto",padding:d,overflow:"hidden",lineHeight:y,wordWrap:"break-word",background:f,borderRadius:s,boxShadow:i,[`${r}-close-icon`]:{fontSize:m,cursor:"pointer"},[`${b}-message`]:{marginBottom:t.marginXS,color:h,fontSize:n,lineHeight:t.lineHeightLG},[`${b}-description`]:{fontSize:m},[`&${b}-closable ${b}-message`]:{paddingInlineEnd:t.paddingLG},[`${b}-with-icon ${b}-message`]:{marginBottom:t.marginXS,marginInlineStart:t.marginSM+x,fontSize:n},[`${b}-with-icon ${b}-description`]:{marginInlineStart:t.marginSM+x,fontSize:m},[`${b}-icon`]:{position:"absolute",fontSize:x,lineHeight:0,[`&-success${e}`]:{color:o},[`&-info${e}`]:{color:u},[`&-warning${e}`]:{color:l},[`&-error${e}`]:{color:c}},[`${b}-close`]:{position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:t.colorIconHover,backgroundColor:t.wireframe?"transparent":t.colorFillContent}},[`${b}-btn`]:{float:"right",marginTop:t.marginSM}}},{[`${b}-pure-panel`]:{margin:0}}]},pX=_m("Notification",t=>{const e=t.paddingMD,r=t.paddingLG,i=vf(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:r,notificationPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`,notificationMarginBottom:t.margin,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationIconSize:t.fontSizeLG*t.lineHeightLG,notificationCloseButtonSize:t.controlHeightLG*.55});return[Qme(i)]},t=>({zIndexPopup:t.zIndexPopupBase+50,width:384}));function eye(t,e){return e||Ae("span",{class:`${t}-close-x`},[Ae(Em,{class:`${t}-close-icon`},null)])}Ae(ng,null,null),Ae(rg,null,null),Ae(tg,null,null),Ae(ig,null,null),Ae(Cm,null,null);const tye={success:rg,info:ng,error:tg,warning:ig};function rye(t){let{prefixCls:e,icon:r,type:i,message:n,description:a,btn:s}=t,o=null;if(r)o=Ae("span",{class:`${e}-icon`},[wd(r)]);else if(i){const u=tye[i];o=Ae(u,{class:`${e}-icon ${e}-icon-${i}`},null)}return Ae("div",{class:ki({[`${e}-with-icon`]:o}),role:"alert"},[o,Ae("div",{class:`${e}-message`},[n]),Ae("div",{class:`${e}-description`},[a]),s&&Ae("div",{class:`${e}-btn`},[s])])}function gX(t,e,r){let i;switch(e=typeof e=="number"?`${e}px`:e,r=typeof r=="number"?`${r}px`:r,t){case"top":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":i={left:0,top:e,bottom:"auto"};break;case"topRight":i={right:0,top:e,bottom:"auto"};break;case"bottom":i={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:r};break;case"bottomLeft":i={left:0,top:"auto",bottom:r};break;default:i={right:0,top:"auto",bottom:r};break}return i}function iye(t){return{name:`${t}-fade`}}var nye=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const $L=24,aye=4.5,sye=Br({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(t,e){let{expose:r}=e;const{getPrefixCls:i,getPopupContainer:n}=Qp("notification",t),a=Ge(()=>t.prefixCls||i("notification")),s=f=>{var d,p;return gX(f,(d=t.top)!==null&&d!==void 0?d:$L,(p=t.bottom)!==null&&p!==void 0?p:$L)},[,o]=pX(a),u=()=>ki(o.value,{[`${a.value}-rtl`]:t.rtl}),l=()=>iye(a.value),[c,h]=iX({prefixCls:a.value,getStyles:s,getClassName:u,motion:l,closable:!0,closeIcon:eye(a.value),duration:aye,getContainer:()=>{var f,d;return((f=t.getPopupContainer)===null||f===void 0?void 0:f.call(t))||((d=n.value)===null||d===void 0?void 0:d.call(n))||document.body},maxCount:t.maxCount,hashId:o.value,onAllRemoved:t.onAllRemoved});return r(fe(fe({},c),{prefixCls:a.value,hashId:o})),h}});function oye(t){const e=hr(null),r=Symbol("notificationHolderKey"),i=o=>{if(!e.value)return;const{open:u,prefixCls:l,hashId:c}=e.value,h=`${l}-notice`,{message:f,description:d,icon:p,type:g,btn:v,class:m}=o,y=nye(o,["message","description","icon","type","btn","class"]);return u(fe(fe({placement:"topRight"},y),{content:()=>Ae(rye,{prefixCls:h,icon:typeof p=="function"?p():p,type:g,message:typeof f=="function"?f():f,description:typeof d=="function"?d():d,btn:typeof v=="function"?v():v},null),class:ki(g&&`${h}-${g}`,c,m)}))},a={open:i,destroy:o=>{var u,l;o!==void 0?(u=e.value)===null||u===void 0||u.close(o):(l=e.value)===null||l===void 0||l.destroy()}};return["success","info","warning","error"].forEach(o=>{a[o]=u=>i(fe(fe({},u),{type:o}))}),[a,()=>Ae(sye,jr(jr({key:r},t),{},{ref:e}),null)]}function uye(t){return oye(t)}const rh={};let vX=4.5,mX="24px",yX="24px",n8="",_X="topRight",xX=()=>document.body,bX=null,a8=!1,CX;function lye(t){const{duration:e,placement:r,bottom:i,top:n,getContainer:a,closeIcon:s,prefixCls:o}=t;o!==void 0&&(n8=o),e!==void 0&&(vX=e),r!==void 0&&(_X=r),i!==void 0&&(yX=typeof i=="number"?`${i}px`:i),n!==void 0&&(mX=typeof n=="number"?`${n}px`:n),a!==void 0&&(xX=a),s!==void 0&&(bX=s),t.rtl!==void 0&&(a8=t.rtl),t.maxCount!==void 0&&(CX=t.maxCount)}function cye(t,e){let{prefixCls:r,placement:i=_X,getContainer:n=xX,top:a,bottom:s,closeIcon:o=bX,appContext:u}=t;const{getPrefixCls:l}=Cye(),c=l("notification",r||n8),h=`${c}-${i}-${a8}`,f=rh[h];if(f){Promise.resolve(f).then(p=>{e(p)});return}const d=ki(`${c}-${i}`,{[`${c}-rtl`]:a8===!0});f3.newInstance({name:"notification",prefixCls:r||n8,useStyle:pX,class:d,style:gX(i,a??mX,s??yX),appContext:u,getContainer:n,closeIcon:p=>{let{prefixCls:g}=p;return Ae("span",{class:`${g}-close-x`},[wd(o,{},Ae(Em,{class:`${g}-close-icon`},null))])},maxCount:CX,hasTransitionName:!0},p=>{rh[h]=p,e(p)})}const hye={success:k7,info:H7,error:G7,warning:z7};function fye(t){const{icon:e,type:r,description:i,message:n,btn:a}=t,s=t.duration===void 0?vX:t.duration;cye(t,o=>{o.notice({content:u=>{let{prefixCls:l}=u;const c=`${l}-notice`;let h=null;if(e)h=()=>Ae("span",{class:`${c}-icon`},[wd(e)]);else if(r){const f=hye[r];h=()=>Ae(f,{class:`${c}-icon ${c}-icon-${r}`},null)}return Ae("div",{class:h?`${c}-with-icon`:""},[h&&h(),Ae("div",{class:`${c}-message`},[!i&&h?Ae("span",{class:`${c}-message-single-line-auto-margin`},null):null,wd(n)]),Ae("div",{class:`${c}-description`},[wd(i)]),a?Ae("span",{class:`${c}-btn`},[wd(a)]):null])},duration:s,closable:!0,onClose:t.onClose,onClick:t.onClick,key:t.key,style:t.style||{},class:t.class})})}const bp={open:fye,close(t){Object.keys(rh).forEach(e=>Promise.resolve(rh[e]).then(r=>{r.removeNotice(t)}))},config:lye,destroy(){Object.keys(rh).forEach(t=>{Promise.resolve(rh[t]).then(e=>{e.destroy()}),delete rh[t]})}},dye=["success","info","warning","error"];dye.forEach(t=>{bp[t]=e=>bp.open(fe(fe({},e),{type:t}))});bp.warn=bp.warning;bp.useNotification=uye;const pye=`-ant-${Date.now()}-${Math.random()}`;function gye(t,e){const r={},i=(s,o)=>{let u=s.clone();return u=(o==null?void 0:o(u))||u,u.toRgbString()},n=(s,o)=>{const u=new wn(s),l=$h(u.toRgbString());r[`${o}-color`]=i(u),r[`${o}-color-disabled`]=l[1],r[`${o}-color-hover`]=l[4],r[`${o}-color-active`]=l[6],r[`${o}-color-outline`]=u.clone().setAlpha(.2).toRgbString(),r[`${o}-color-deprecated-bg`]=l[0],r[`${o}-color-deprecated-border`]=l[2]};if(e.primaryColor){n(e.primaryColor,"primary");const s=new wn(e.primaryColor),o=$h(s.toRgbString());o.forEach((l,c)=>{r[`primary-${c+1}`]=l}),r["primary-color-deprecated-l-35"]=i(s,l=>l.lighten(35)),r["primary-color-deprecated-l-20"]=i(s,l=>l.lighten(20)),r["primary-color-deprecated-t-20"]=i(s,l=>l.tint(20)),r["primary-color-deprecated-t-50"]=i(s,l=>l.tint(50)),r["primary-color-deprecated-f-12"]=i(s,l=>l.setAlpha(l.getAlpha()*.12));const u=new wn(o[0]);r["primary-color-active-deprecated-f-30"]=i(u,l=>l.setAlpha(l.getAlpha()*.3)),r["primary-color-active-deprecated-d-02"]=i(u,l=>l.darken(2))}return e.successColor&&n(e.successColor,"success"),e.warningColor&&n(e.warningColor,"warning"),e.errorColor&&n(e.errorColor,"error"),e.infoColor&&n(e.infoColor,"info"),`
  :root {
    ${Object.keys(r).map(s=>`--${t}-${s}: ${r[s]};`).join(`
`)}
  }
  `.trim()}function vye(t,e){const r=gye(t,e);gu()&&v2(r,`${pye}-dynamic-theme`)}const mye=t=>{const[e,r]=ub();return HA(Ge(()=>({theme:e.value,token:r.value,hashId:"",path:["ant-design-icons",t.value]})),()=>[{[`.${t.value}`]:fe(fe({},bde()),{[`.${t.value} .${t.value}-icon`]:{display:"block"}})}])};function yye(t,e){const r=Ge(()=>(t==null?void 0:t.value)||{}),i=Ge(()=>r.value.inherit===!1||!(e!=null&&e.value)?sq:e.value);return Ge(()=>{if(!(t!=null&&t.value))return e==null?void 0:e.value;const a=fe({},i.value.components);return Object.keys(t.value.components||{}).forEach(s=>{a[s]=fe(fe({},a[s]),t.value.components[s])}),fe(fe(fe({},i.value),r.value),{token:fe(fe({},i.value.token),r.value.token),components:a})})}var _ye=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const xye="ant";function Yd(){return On.prefixCls||xye}function EX(){return On.iconPrefixCls||y7}const U7=du({}),On=du({});Kp(()=>{fe(On,U7),On.prefixCls=Yd(),On.iconPrefixCls=EX(),On.getPrefixCls=(t,e)=>e||(t?`${On.prefixCls}-${t}`:On.prefixCls),On.getRootPrefixCls=()=>On.prefixCls?On.prefixCls:Yd()});let wE;const bye=t=>{wE&&wE(),wE=Kp(()=>{fe(U7,du(t)),fe(On,du(t))}),t.theme&&vye(Yd(),t.theme)},Cye=()=>({getPrefixCls:(t,e)=>e||(t?`${Yd()}-${t}`:Yd()),getIconPrefixCls:EX,getRootPrefixCls:()=>On.prefixCls?On.prefixCls:Yd()}),B1=Br({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:$he(),setup(t,e){let{slots:r}=e;const i=x7(),n=(M,R)=>{const{prefixCls:z="ant"}=t;if(R)return R;const k=z||i.getPrefixCls("");return M?`${k}-${M}`:k},a=Ge(()=>t.iconPrefixCls||i.iconPrefixCls.value||y7),s=Ge(()=>a.value!==i.iconPrefixCls.value),o=Ge(()=>{var M;return t.csp||((M=i.csp)===null||M===void 0?void 0:M.value)}),u=mye(a),l=yye(Ge(()=>t.theme),Ge(()=>{var M;return(M=i.theme)===null||M===void 0?void 0:M.value})),c=M=>(t.renderEmpty||r.renderEmpty||i.renderEmpty||Pde)(M),h=Ge(()=>{var M,R;return(M=t.autoInsertSpaceInButton)!==null&&M!==void 0?M:(R=i.autoInsertSpaceInButton)===null||R===void 0?void 0:R.value}),f=Ge(()=>{var M;return t.locale||((M=i.locale)===null||M===void 0?void 0:M.value)});oi(f,()=>{U7.locale=f.value},{immediate:!0});const d=Ge(()=>{var M;return t.direction||((M=i.direction)===null||M===void 0?void 0:M.value)}),p=Ge(()=>{var M,R;return(M=t.space)!==null&&M!==void 0?M:(R=i.space)===null||R===void 0?void 0:R.value}),g=Ge(()=>{var M,R;return(M=t.virtual)!==null&&M!==void 0?M:(R=i.virtual)===null||R===void 0?void 0:R.value}),v=Ge(()=>{var M,R;return(M=t.dropdownMatchSelectWidth)!==null&&M!==void 0?M:(R=i.dropdownMatchSelectWidth)===null||R===void 0?void 0:R.value}),m=Ge(()=>{var M;return t.getTargetContainer!==void 0?t.getTargetContainer:(M=i.getTargetContainer)===null||M===void 0?void 0:M.value}),y=Ge(()=>{var M;return t.getPopupContainer!==void 0?t.getPopupContainer:(M=i.getPopupContainer)===null||M===void 0?void 0:M.value}),_=Ge(()=>{var M;return t.pageHeader!==void 0?t.pageHeader:(M=i.pageHeader)===null||M===void 0?void 0:M.value}),x=Ge(()=>{var M;return t.input!==void 0?t.input:(M=i.input)===null||M===void 0?void 0:M.value}),b=Ge(()=>{var M;return t.pagination!==void 0?t.pagination:(M=i.pagination)===null||M===void 0?void 0:M.value}),C=Ge(()=>{var M;return t.form!==void 0?t.form:(M=i.form)===null||M===void 0?void 0:M.value}),E=Ge(()=>{var M;return t.select!==void 0?t.select:(M=i.select)===null||M===void 0?void 0:M.value}),A=Ge(()=>t.componentSize),S=Ge(()=>t.componentDisabled),T=Ge(()=>{var M,R;return(M=t.wave)!==null&&M!==void 0?M:(R=i.wave)===null||R===void 0?void 0:R.value}),D={csp:o,autoInsertSpaceInButton:h,locale:f,direction:d,space:p,virtual:g,dropdownMatchSelectWidth:v,getPrefixCls:n,iconPrefixCls:a,theme:Ge(()=>{var M,R;return(M=l.value)!==null&&M!==void 0?M:(R=i.theme)===null||R===void 0?void 0:R.value}),renderEmpty:c,getTargetContainer:m,getPopupContainer:y,pageHeader:_,input:x,pagination:b,form:C,select:E,componentSize:A,componentDisabled:S,transformCellText:Ge(()=>t.transformCellText),wave:T},F=Ge(()=>{const M=l.value||{},{algorithm:R,token:z}=M,k=_ye(M,["algorithm","token"]),U=R&&(!Array.isArray(R)||R.length>0)?$Y(R):void 0;return fe(fe({},k),{theme:U,token:fe(fe({},ob),z)})}),B=Ge(()=>{var M,R;let z={};return f.value&&(z=((M=f.value.Form)===null||M===void 0?void 0:M.defaultValidateMessages)||((R=p2.Form)===null||R===void 0?void 0:R.defaultValidateMessages)||{}),t.form&&t.form.validateMessages&&(z=fe(fe({},z),t.form.validateMessages)),z});Whe(D),Vhe({validateMessages:B}),Lde(A),Yhe(S);const O=M=>{var R,z;let k=s.value?u((R=r.default)===null||R===void 0?void 0:R.call(r)):(z=r.default)===null||z===void 0?void 0:z.call(r);if(t.theme){const U=function(){return k}();k=Ae(Dde,{value:F.value},{default:()=>[U]})}return Ae(wme,{locale:f.value||M,ANT_MARK__:i8},{default:()=>[k]})};return Kp(()=>{d.value&&(E2.config({rtl:d.value==="rtl"}),bp.config({rtl:d.value==="rtl"}))}),()=>Ae(OY,{children:(M,R,z)=>O(z)},null)}});B1.config=bye;B1.install=function(t){t.component(B1.name,B1)};const Eye={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"},SX=["wrap","nowrap","wrap-reverse"],TX=["flex-start","flex-end","start","end","center","space-between","space-around","space-evenly","stretch","normal","left","right"],AX=["center","start","end","flex-start","flex-end","self-start","self-end","baseline","normal","stretch"],Sye=(t,e)=>{const r={};return SX.forEach(i=>{r[`${t}-wrap-${i}`]=e.wrap===i}),r},Tye=(t,e)=>{const r={};return AX.forEach(i=>{r[`${t}-align-${i}`]=e.align===i}),r[`${t}-align-stretch`]=!e.align&&!!e.vertical,r},Aye=(t,e)=>{const r={};return TX.forEach(i=>{r[`${t}-justify-${i}`]=e.justify===i}),r};function wye(t,e){return ki(fe(fe(fe({},Sye(t,e)),Tye(t,e)),Aye(t,e)))}const Dye=t=>{const{componentCls:e}=t;return{[e]:{display:"flex","&-vertical":{flexDirection:"column"},"&-rtl":{direction:"rtl"},"&:empty":{display:"none"}}}},Fye=t=>{const{componentCls:e}=t;return{[e]:{"&-gap-small":{gap:t.flexGapSM},"&-gap-middle":{gap:t.flexGap},"&-gap-large":{gap:t.flexGapLG}}}},Iye=t=>{const{componentCls:e}=t,r={};return SX.forEach(i=>{r[`${e}-wrap-${i}`]={flexWrap:i}}),r},Bye=t=>{const{componentCls:e}=t,r={};return AX.forEach(i=>{r[`${e}-align-${i}`]={alignItems:i}}),r},Mye=t=>{const{componentCls:e}=t,r={};return TX.forEach(i=>{r[`${e}-justify-${i}`]={justifyContent:i}}),r},Pye=_m("Flex",t=>{const e=vf(t,{flexGapSM:t.paddingXS,flexGap:t.padding,flexGapLG:t.paddingLG});return[Dye(e),Fye(e),Iye(e),Bye(e),Mye(e)]});function WL(t){return["small","middle","large"].includes(t)}const Lye=()=>({prefixCls:Dd(),vertical:w1(),wrap:Dd(),justify:Dd(),align:Dd(),flex:OA([Number,String]),gap:OA([Number,String]),component:i3()});var Oye=function(t,e){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(t);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(t,i[n])&&(r[i[n]]=t[i[n]]);return r};const Rye=Br({name:"AFlex",inheritAttrs:!1,props:Lye(),setup(t,e){let{slots:r,attrs:i}=e;const{flex:n,direction:a}=x7(),{prefixCls:s}=Qp("flex",t),[o,u]=Pye(s),l=Ge(()=>{var c;return[s.value,u.value,wye(s.value,t),{[`${s.value}-rtl`]:a.value==="rtl",[`${s.value}-gap-${t.gap}`]:WL(t.gap),[`${s.value}-vertical`]:(c=t.vertical)!==null&&c!==void 0?c:n==null?void 0:n.value.vertical}]});return()=>{var c;const{flex:h,gap:f,component:d="div"}=t,p=Oye(t,["flex","gap","component"]),g={};return h&&(g.flex=h),f&&!WL(f)&&(g.gap=`${f}px`),o(Ae(d,jr({class:[i.class,l.value],style:[i.style,g]},Ode(p,["justify","wrap","align","vertical"])),{default:()=>[(c=r.default)===null||c===void 0?void 0:c.call(r)]}))}}}),LYe=ym(Rye);var DE={exports:{}},YL;function Nye(){return YL||(YL=1,function(t){(function(){function e(g,v){document.addEventListener?g.addEventListener("scroll",v,!1):g.attachEvent("scroll",v)}function r(g){document.body?g():document.addEventListener?document.addEventListener("DOMContentLoaded",function v(){document.removeEventListener("DOMContentLoaded",v),g()}):document.attachEvent("onreadystatechange",function v(){(document.readyState=="interactive"||document.readyState=="complete")&&(document.detachEvent("onreadystatechange",v),g())})}function i(g){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(g)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(g,v){g.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+v+";"}function a(g){var v=g.g.offsetWidth,m=v+100;return g.j.style.width=m+"px",g.i.scrollLeft=m,g.h.scrollLeft=g.h.scrollWidth+100,g.l!==v?(g.l=v,!0):!1}function s(g,v){function m(){var _=y;a(_)&&_.g.parentNode!==null&&v(_.l)}var y=g;e(g.h,m),e(g.i,m),a(g)}function o(g,v,m){v=v||{},m=m||window,this.family=g,this.style=v.style||"normal",this.weight=v.weight||"normal",this.stretch=v.stretch||"normal",this.context=m}var u=null,l=null,c=null,h=null;function f(g){return l===null&&(d(g)&&/Apple/.test(window.navigator.vendor)?(g=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),l=!!g&&603>parseInt(g[1],10)):l=!1),l}function d(g){return h===null&&(h=!!g.document.fonts),h}function p(g,v){var m=g.style,y=g.weight;if(c===null){var _=document.createElement("div");try{_.style.font="condensed 100px sans-serif"}catch{}c=_.style.font!==""}return[m,y,c?g.stretch:"","100px",v].join(" ")}o.prototype.load=function(g,v){var m=this,y=g||"BESbswy",_=0,x=v||3e3,b=new Date().getTime();return new Promise(function(C,E){if(d(m.context)&&!f(m.context)){var A=new Promise(function(T,D){function F(){new Date().getTime()-b>=x?D(Error(""+x+"ms timeout exceeded")):m.context.document.fonts.load(p(m,'"'+m.family+'"'),y).then(function(B){1<=B.length?T():setTimeout(F,25)},D)}F()}),S=new Promise(function(T,D){_=setTimeout(function(){D(Error(""+x+"ms timeout exceeded"))},x)});Promise.race([S,A]).then(function(){clearTimeout(_),C(m)},E)}else r(function(){function T(){var Y;(Y=M!=-1&&R!=-1||M!=-1&&z!=-1||R!=-1&&z!=-1)&&((Y=M!=R&&M!=z&&R!=z)||(u===null&&(Y=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!Y&&(536>parseInt(Y[1],10)||parseInt(Y[1],10)===536&&11>=parseInt(Y[2],10))),Y=u&&(M==k&&R==k&&z==k||M==U&&R==U&&z==U||M==V&&R==V&&z==V)),Y=!Y),Y&&(j.parentNode!==null&&j.parentNode.removeChild(j),clearTimeout(_),C(m))}function D(){if(new Date().getTime()-b>=x)j.parentNode!==null&&j.parentNode.removeChild(j),E(Error(""+x+"ms timeout exceeded"));else{var Y=m.context.document.hidden;(Y===!0||Y===void 0)&&(M=F.g.offsetWidth,R=B.g.offsetWidth,z=O.g.offsetWidth,T()),_=setTimeout(D,50)}}var F=new i(y),B=new i(y),O=new i(y),M=-1,R=-1,z=-1,k=-1,U=-1,V=-1,j=document.createElement("div");j.dir="ltr",n(F,p(m,"sans-serif")),n(B,p(m,"serif")),n(O,p(m,"monospace")),j.appendChild(F.g),j.appendChild(B.g),j.appendChild(O.g),m.context.document.body.appendChild(j),k=F.g.offsetWidth,U=B.g.offsetWidth,V=O.g.offsetWidth,D(),s(F,function(Y){M=Y,T()}),n(F,p(m,'"'+m.family+'",sans-serif')),s(B,function(Y){R=Y,T()}),n(B,p(m,'"'+m.family+'",serif')),s(O,function(Y){z=Y,T()}),n(O,p(m,'"'+m.family+'",monospace'))})})},t.exports=o})()}(DE)),DE.exports}var kye=Nye();const OYe=gf(kye);var Px={exports:{}},zye=Px.exports,qL;function Hye(){return qL||(qL=1,function(t,e){(function(r,i){t.exports=i(sY())})(zye,function(r){function i(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var n=i(r),a={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(s,o){return o==="W"?s+"周":s+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(s,o){var u=100*s+o;return u<600?"凌晨":u<900?"早上":u<1100?"上午":u<1300?"中午":u<1800?"下午":"晚上"}};return n.default.locale(a,null,!0),a})}(Px)),Px.exports}Hye();var Lx={exports:{}},Gye=Lx.exports,XL;function Uye(){return XL||(XL=1,function(t,e){(function(r,i){t.exports=i()})(Gye,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var i=["th","st","nd","rd"],n=r%100;return"["+r+(i[(n-20)%10]||i[n]||i[0])+"]"}}})}(Lx)),Lx.exports}Uye();const jye={locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},wX={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},s8={lang:fe({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},jye),timePickerLocale:fe({},wX)};s8.lang.ok="确定";const Va="${label}不是一个有效的${type}",RYe={locale:"zh-cn",Pagination:Eye,DatePicker:s8,TimePicker:wX,Calendar:s8,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckall:"全选",filterSearchPlaceholder:"在筛选项中搜索",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:Va,method:Va,array:Va,object:Va,number:Va,date:Va,boolean:Va,integer:Va,float:Va,regexp:Va,email:Va,url:Va,hex:Va},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码已过期",refresh:"点击刷新",scanned:"已扫描"}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var o8=function(t,e){return o8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r[n]=i[n])},o8(t,e)};function ce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o8(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Vye=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),$ye=function(){function t(){this.browser=new Vye,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),Lt=new $ye;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(Lt.wxa=!0,Lt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?Lt.worker=!0:!Lt.hasGlobalWindow||"Deno"in window?(Lt.node=!0,Lt.svgSupported=!0):Wye(navigator.userAgent,Lt);function Wye(t,e){var r=e.browser,i=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),a=t.match(/Edge?\/([\d.]+)/),s=/micromessenger/i.test(t);i&&(r.firefox=!0,r.version=i[1]),n&&(r.ie=!0,r.version=n[1]),a&&(r.edge=!0,r.version=a[1],r.newEdge=+a[1].split(".")[0]>18),s&&(r.weChat=!0),e.svgSupported=typeof SVGRect<"u",e.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,e.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),e.domSupported=typeof document<"u";var o=document.documentElement.style;e.transform3dSupported=(r.ie&&"transition"in o||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in o)&&!("OTransition"in o),e.transformSupported=e.transform3dSupported||r.ie&&+r.version>=9}var j7=12,DX="sans-serif",Lc=j7+"px "+DX,Yye=20,qye=100,Xye="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function Zye(t){var e={};if(typeof JSON>"u")return e;for(var r=0;r<t.length;r++){var i=String.fromCharCode(r+32),n=(t.charCodeAt(r)-Yye)/qye;e[i]=n}return e}var Kye=Zye(Xye),Oc={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,e;return function(r,i){if(!t){var n=Oc.createCanvas();t=n&&n.getContext("2d")}if(t)return e!==i&&(e=t.font=i||Lc),t.measureText(r);r=r||"",i=i||Lc;var a=/((?:\d+)?\.?\d*)px/.exec(i),s=a&&+a[1]||j7,o=0;if(i.indexOf("mono")>=0)o=s*r.length;else for(var u=0;u<r.length;u++){var l=Kye[r[u]];o+=l==null?s:l*s}return{width:o}}}(),loadImage:function(t,e,r){var i=new Image;return i.onload=e,i.onerror=r,i.src=t,i}},FX=_o(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,e){return t["[object "+e+"]"]=!0,t},{}),IX=_o(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,e){return t["[object "+e+"Array]"]=!0,t},{}),ag=Object.prototype.toString,db=Array.prototype,Jye=db.forEach,Qye=db.filter,V7=db.slice,e_e=db.map,ZL=(function(){}).constructor,Vy=ZL?ZL.prototype:null,$7="__proto__",t_e=2311;function BX(){return t_e++}function W7(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];typeof console<"u"&&console.error.apply(console,t)}function ht(t){if(t==null||typeof t!="object")return t;var e=t,r=ag.call(t);if(r==="[object Array]"){if(!M1(t)){e=[];for(var i=0,n=t.length;i<n;i++)e[i]=ht(t[i])}}else if(IX[r]){if(!M1(t)){var a=t.constructor;if(a.from)e=a.from(t);else{e=new a(t.length);for(var i=0,n=t.length;i<n;i++)e[i]=t[i]}}}else if(!FX[r]&&!M1(t)&&!Cp(t)){e={};for(var s in t)t.hasOwnProperty(s)&&s!==$7&&(e[s]=ht(t[s]))}return e}function et(t,e,r){if(!lt(e)||!lt(t))return r?ht(e):t;for(var i in e)if(e.hasOwnProperty(i)&&i!==$7){var n=t[i],a=e[i];lt(a)&&lt(n)&&!Te(a)&&!Te(n)&&!Cp(a)&&!Cp(n)&&!KL(a)&&!KL(n)&&!M1(a)&&!M1(n)?et(n,a,r):(r||!(i in t))&&(t[i]=ht(e[i]))}return t}function Y7(t,e){for(var r=t[0],i=1,n=t.length;i<n;i++)r=et(r,t[i],e);return r}function Ce(t,e){if(Object.assign)Object.assign(t,e);else for(var r in e)e.hasOwnProperty(r)&&r!==$7&&(t[r]=e[r]);return t}function st(t,e,r){for(var i=kt(e),n=0,a=i.length;n<a;n++){var s=i[n];(r?e[s]!=null:t[s]==null)&&(t[s]=e[s])}return t}function wt(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r}return-1}function q7(t,e){var r=t.prototype;function i(){}i.prototype=e.prototype,t.prototype=new i;for(var n in r)r.hasOwnProperty(n)&&(t.prototype[n]=r[n]);t.prototype.constructor=t,t.superClass=e}function yi(t,e,r){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),n=0;n<i.length;n++){var a=i[n];a!=="constructor"&&(r?e[a]!=null:t[a]==null)&&(t[a]=e[a])}else st(t,e,r)}function Gn(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function G(t,e,r){if(t&&e)if(t.forEach&&t.forEach===Jye)t.forEach(e,r);else if(t.length===+t.length)for(var i=0,n=t.length;i<n;i++)e.call(r,t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)}function Ie(t,e,r){if(!t)return[];if(!e)return X7(t);if(t.map&&t.map===e_e)return t.map(e,r);for(var i=[],n=0,a=t.length;n<a;n++)i.push(e.call(r,t[n],n,t));return i}function _o(t,e,r,i){if(t&&e){for(var n=0,a=t.length;n<a;n++)r=e.call(i,r,t[n],n,t);return r}}function sr(t,e,r){if(!t)return[];if(!e)return X7(t);if(t.filter&&t.filter===Qye)return t.filter(e,r);for(var i=[],n=0,a=t.length;n<a;n++)e.call(r,t[n],n,t)&&i.push(t[n]);return i}function r_e(t,e,r){if(t&&e){for(var i=0,n=t.length;i<n;i++)if(e.call(r,t[i],i,t))return t[i]}}function kt(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);return e}function i_e(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return function(){return t.apply(e,r.concat(V7.call(arguments)))}}var Je=Vy&&ot(Vy.bind)?Vy.call.bind(Vy.bind):i_e;function mt(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return function(){return t.apply(this,e.concat(V7.call(arguments)))}}function Te(t){return Array.isArray?Array.isArray(t):ag.call(t)==="[object Array]"}function ot(t){return typeof t=="function"}function Xe(t){return typeof t=="string"}function u8(t){return ag.call(t)==="[object String]"}function Zt(t){return typeof t=="number"}function lt(t){var e=typeof t;return e==="function"||!!t&&e==="object"}function KL(t){return!!FX[ag.call(t)]}function ka(t){return!!IX[ag.call(t)]}function Cp(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function pb(t){return t.colorStops!=null}function n_e(t){return t.image!=null}function a_e(t){return ag.call(t)==="[object RegExp]"}function S2(t){return t!==t}function dn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0,i=t.length;r<i;r++)if(t[r]!=null)return t[r]}function gt(t,e){return t??e}function su(t,e,r){return t??e??r}function X7(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return V7.apply(t,e)}function Z7(t){if(typeof t=="number")return[t,t,t,t];var e=t.length;return e===2?[t[0],t[1],t[0],t[1]]:e===3?[t[0],t[1],t[2],t[1]]:t}function ha(t,e){if(!t)throw new Error(e)}function oo(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var MX="__ec_primitive__";function d3(t){t[MX]=!0}function M1(t){return t[MX]}var s_e=function(){function t(){this.data={}}return t.prototype.delete=function(e){var r=this.has(e);return r&&delete this.data[e],r},t.prototype.has=function(e){return this.data.hasOwnProperty(e)},t.prototype.get=function(e){return this.data[e]},t.prototype.set=function(e,r){return this.data[e]=r,this},t.prototype.keys=function(){return kt(this.data)},t.prototype.forEach=function(e){var r=this.data;for(var i in r)r.hasOwnProperty(i)&&e(r[i],i)},t}(),PX=typeof Map=="function";function o_e(){return PX?new Map:new s_e}var u_e=function(){function t(e){var r=Te(e);this.data=o_e();var i=this;e instanceof t?e.each(n):e&&G(e,n);function n(a,s){r?i.set(a,s):i.set(s,a)}}return t.prototype.hasKey=function(e){return this.data.has(e)},t.prototype.get=function(e){return this.data.get(e)},t.prototype.set=function(e,r){return this.data.set(e,r),r},t.prototype.each=function(e,r){this.data.forEach(function(i,n){e.call(r,i,n)})},t.prototype.keys=function(){var e=this.data.keys();return PX?Array.from(e):e},t.prototype.removeKey=function(e){this.data.delete(e)},t}();function nt(t){return new u_e(t)}function qh(t,e){for(var r=new t.constructor(t.length+e.length),i=0;i<t.length;i++)r[i]=t[i];for(var n=t.length,i=0;i<e.length;i++)r[i+n]=e[i];return r}function gb(t,e){var r;if(Object.create)r=Object.create(t);else{var i=function(){};i.prototype=t,r=new i}return e&&Ce(r,e),r}function LX(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function tt(t,e){return t.hasOwnProperty(e)}function gi(){}var Ox=180/Math.PI;function xf(t,e){return t==null&&(t=0),e==null&&(e=0),[t,e]}function Kn(t,e){return t[0]=e[0],t[1]=e[1],t}function tl(t){return[t[0],t[1]]}function l_e(t,e,r){return t[0]=e,t[1]=r,t}function JL(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function l8(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t}function ch(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function c8(t){return Math.sqrt(c_e(t))}function c_e(t){return t[0]*t[0]+t[1]*t[1]}function Rx(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function sg(t,e){var r=c8(e);return r===0?(t[0]=0,t[1]=0):(t[0]=e[0]/r,t[1]=e[1]/r),t}function h8(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var pc=h8;function h_e(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var Dh=h_e;function Nx(t,e,r,i){return t[0]=e[0]+i*(r[0]-e[0]),t[1]=e[1]+i*(r[1]-e[1]),t}function Yi(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[2]*n+r[4],t[1]=r[1]*i+r[3]*n+r[5],t}function gc(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function vc(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}var kf=function(){function t(e,r){this.target=e,this.topTarget=r&&r.topTarget}return t}(),f_e=function(){function t(e){this.handler=e,e.on("mousedown",this._dragStart,this),e.on("mousemove",this._drag,this),e.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(e){for(var r=e.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.handler.dispatchToElement(new kf(r,e),"dragstart",e.event))},t.prototype._drag=function(e){var r=this._draggingTarget;if(r){var i=e.offsetX,n=e.offsetY,a=i-this._x,s=n-this._y;this._x=i,this._y=n,r.drift(a,s,e),this.handler.dispatchToElement(new kf(r,e),"drag",e.event);var o=this.handler.findHover(i,n,r).target,u=this._dropTarget;this._dropTarget=o,r!==o&&(u&&o!==u&&this.handler.dispatchToElement(new kf(u,e),"dragleave",e.event),o&&o!==u&&this.handler.dispatchToElement(new kf(o,e),"dragenter",e.event))}},t.prototype._dragEnd=function(e){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new kf(r,e),"dragend",e.event),this._dropTarget&&this.handler.dispatchToElement(new kf(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null},t}(),Us=function(){function t(e){e&&(this._$eventProcessor=e)}return t.prototype.on=function(e,r,i,n){this._$handlers||(this._$handlers={});var a=this._$handlers;if(typeof r=="function"&&(n=i,i=r,r=null),!i||!e)return this;var s=this._$eventProcessor;r!=null&&s&&s.normalizeQuery&&(r=s.normalizeQuery(r)),a[e]||(a[e]=[]);for(var o=0;o<a[e].length;o++)if(a[e][o].h===i)return this;var u={h:i,query:r,ctx:n||this,callAtLast:i.zrEventfulCallAtLast},l=a[e].length-1,c=a[e][l];return c&&c.callAtLast?a[e].splice(l,0,u):a[e].push(u),this},t.prototype.isSilent=function(e){var r=this._$handlers;return!r||!r[e]||!r[e].length},t.prototype.off=function(e,r){var i=this._$handlers;if(!i)return this;if(!e)return this._$handlers={},this;if(r){if(i[e]){for(var n=[],a=0,s=i[e].length;a<s;a++)i[e][a].h!==r&&n.push(i[e][a]);i[e]=n}i[e]&&i[e].length===0&&delete i[e]}else delete i[e];return this},t.prototype.trigger=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[e],a=this._$eventProcessor;if(n)for(var s=r.length,o=n.length,u=0;u<o;u++){var l=n[u];if(!(a&&a.filter&&l.query!=null&&!a.filter(e,l.query)))switch(s){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,r[0]);break;case 2:l.h.call(l.ctx,r[0],r[1]);break;default:l.h.apply(l.ctx,r);break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t.prototype.triggerWithContext=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];if(!this._$handlers)return this;var n=this._$handlers[e],a=this._$eventProcessor;if(n)for(var s=r.length,o=r[s-1],u=n.length,l=0;l<u;l++){var c=n[l];if(!(a&&a.filter&&c.query!=null&&!a.filter(e,c.query)))switch(s){case 0:c.h.call(o);break;case 1:c.h.call(o,r[0]);break;case 2:c.h.call(o,r[0],r[1]);break;default:c.h.apply(o,r.slice(1,s-1));break}}return a&&a.afterTrigger&&a.afterTrigger(e),this},t}(),d_e=Math.log(2);function f8(t,e,r,i,n,a){var s=i+"-"+n,o=t.length;if(a.hasOwnProperty(s))return a[s];if(e===1){var u=Math.round(Math.log((1<<o)-1&~n)/d_e);return t[r][u]}for(var l=i|1<<r,c=r+1;i&1<<c;)c++;for(var h=0,f=0,d=0;f<o;f++){var p=1<<f;p&n||(h+=(d%2?-1:1)*t[r][f]*f8(t,e-1,c,l,n|p,a),d++)}return a[s]=h,h}function QL(t,e){var r=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},n=f8(r,8,0,0,0,i);if(n!==0){for(var a=[],s=0;s<8;s++)for(var o=0;o<8;o++)a[o]==null&&(a[o]=0),a[o]+=((s+o)%2?-1:1)*f8(r,7,s===0?1:0,1<<s,1<<o,i)/n*e[s];return function(u,l,c){var h=l*a[6]+c*a[7]+1;u[0]=(l*a[0]+c*a[1]+a[2])/h,u[1]=(l*a[3]+c*a[4]+a[5])/h}}}var eO="___zrEVENTSAVED",FE=[];function p_e(t,e,r,i,n){return d8(FE,e,i,n,!0)&&d8(t,r,FE[0],FE[1])}function d8(t,e,r,i,n){if(e.getBoundingClientRect&&Lt.domSupported&&!OX(e)){var a=e[eO]||(e[eO]={}),s=g_e(e,a),o=v_e(s,a,n);if(o)return o(t,r,i),!0}return!1}function g_e(t,e){var r=e.markers;if(r)return r;r=e.markers=[];for(var i=["left","right"],n=["top","bottom"],a=0;a<4;a++){var s=document.createElement("div"),o=s.style,u=a%2,l=(a>>1)%2;o.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[u]+":0",n[l]+":0",i[1-u]+":auto",n[1-l]+":auto",""].join("!important;"),t.appendChild(s),r.push(s)}return r}function v_e(t,e,r){for(var i=r?"invTrans":"trans",n=e[i],a=e.srcCoords,s=[],o=[],u=!0,l=0;l<4;l++){var c=t[l].getBoundingClientRect(),h=2*l,f=c.left,d=c.top;s.push(f,d),u=u&&a&&f===a[h]&&d===a[h+1],o.push(t[l].offsetLeft,t[l].offsetTop)}return u&&n?n:(e.srcCoords=s,e[i]=r?QL(o,s):QL(s,o))}function OX(t){return t.nodeName.toUpperCase()==="CANVAS"}var m_e=/([&<>"'])/g,y_e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Ai(t){return t==null?"":(t+"").replace(m_e,function(e,r){return y_e[r]})}var __e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,IE=[],x_e=Lt.browser.firefox&&+Lt.browser.version.split(".")[0]<39;function p8(t,e,r,i){return r=r||{},i?tO(t,e,r):x_e&&e.layerX!=null&&e.layerX!==e.offsetX?(r.zrX=e.layerX,r.zrY=e.layerY):e.offsetX!=null?(r.zrX=e.offsetX,r.zrY=e.offsetY):tO(t,e,r),r}function tO(t,e,r){if(Lt.domSupported&&t.getBoundingClientRect){var i=e.clientX,n=e.clientY;if(OX(t)){var a=t.getBoundingClientRect();r.zrX=i-a.left,r.zrY=n-a.top;return}else if(d8(IE,t,i,n)){r.zrX=IE[0],r.zrY=IE[1];return}}r.zrX=r.zrY=0}function K7(t){return t||window.event}function ys(t,e,r){if(e=K7(e),e.zrX!=null)return e;var i=e.type,n=i&&i.indexOf("touch")>=0;if(n){var s=i!=="touchend"?e.targetTouches[0]:e.changedTouches[0];s&&p8(t,s,e,r)}else{p8(t,e,e,r);var a=b_e(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var o=e.button;return e.which==null&&o!==void 0&&__e.test(e.type)&&(e.which=o&1?1:o&2?3:o&4?2:0),e}function b_e(t){var e=t.wheelDelta;if(e)return e;var r=t.deltaX,i=t.deltaY;if(r==null||i==null)return e;var n=Math.abs(i!==0?i:r),a=i>0?-1:i<0?1:r>0?-1:1;return 3*n*a}function g8(t,e,r,i){t.addEventListener(e,r,i)}function C_e(t,e,r,i){t.removeEventListener(e,r,i)}var fl=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function rO(t){return t.which===2||t.which===3}var E_e=function(){function t(){this._track=[]}return t.prototype.recognize=function(e,r,i){return this._doTrack(e,r,i),this._recognize(e)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(e,r,i){var n=e.touches;if(n){for(var a={points:[],touches:[],target:r,event:e},s=0,o=n.length;s<o;s++){var u=n[s],l=p8(i,u,{});a.points.push([l.zrX,l.zrY]),a.touches.push(u)}this._track.push(a)}},t.prototype._recognize=function(e){for(var r in BE)if(BE.hasOwnProperty(r)){var i=BE[r](this._track,e);if(i)return i}},t}();function iO(t){var e=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(e*e+r*r)}function S_e(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var BE={pinch:function(t,e){var r=t.length;if(r){var i=(t[r-1]||{}).points,n=(t[r-2]||{}).points||i;if(n&&n.length>1&&i&&i.length>1){var a=iO(i)/iO(n);!isFinite(a)&&(a=1),e.pinchScale=a;var s=S_e(i);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}};function Oa(){return[1,0,0,1,0,0]}function vb(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function J7(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function rl(t,e,r){var i=e[0]*r[0]+e[2]*r[1],n=e[1]*r[0]+e[3]*r[1],a=e[0]*r[2]+e[2]*r[3],s=e[1]*r[2]+e[3]*r[3],o=e[0]*r[4]+e[2]*r[5]+e[4],u=e[1]*r[4]+e[3]*r[5]+e[5];return t[0]=i,t[1]=n,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t}function mu(t,e,r){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+r[0],t[5]=e[5]+r[1],t}function bf(t,e,r,i){i===void 0&&(i=[0,0]);var n=e[0],a=e[2],s=e[4],o=e[1],u=e[3],l=e[5],c=Math.sin(r),h=Math.cos(r);return t[0]=n*h+o*c,t[1]=-n*c+o*h,t[2]=a*h+u*c,t[3]=-a*c+h*u,t[4]=h*(s-i[0])+c*(l-i[1])+i[0],t[5]=h*(l-i[1])-c*(s-i[0])+i[1],t}function Q7(t,e,r){var i=r[0],n=r[1];return t[0]=e[0]*i,t[1]=e[1]*n,t[2]=e[2]*i,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*n,t}function Cf(t,e){var r=e[0],i=e[2],n=e[4],a=e[1],s=e[3],o=e[5],u=r*s-a*i;return u?(u=1/u,t[0]=s*u,t[1]=-a*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*o-s*n)*u,t[5]=(a*n-r*o)*u,t):null}function T_e(t){var e=Oa();return J7(e,t),e}var Ct=function(){function t(e,r){this.x=e||0,this.y=r||0}return t.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(e,r){return this.x=e,this.y=r,this},t.prototype.equal=function(e){return e.x===this.x&&e.y===this.y},t.prototype.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.prototype.scale=function(e){this.x*=e,this.y*=e},t.prototype.scaleAndAdd=function(e,r){this.x+=e.x*r,this.y+=e.y*r},t.prototype.sub=function(e){return this.x-=e.x,this.y-=e.y,this},t.prototype.dot=function(e){return this.x*e.x+this.y*e.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var e=this.len();return this.x/=e,this.y/=e,this},t.prototype.distance=function(e){var r=this.x-e.x,i=this.y-e.y;return Math.sqrt(r*r+i*i)},t.prototype.distanceSquare=function(e){var r=this.x-e.x,i=this.y-e.y;return r*r+i*i},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(e){if(e){var r=this.x,i=this.y;return this.x=e[0]*r+e[2]*i+e[4],this.y=e[1]*r+e[3]*i+e[5],this}},t.prototype.toArray=function(e){return e[0]=this.x,e[1]=this.y,e},t.prototype.fromArray=function(e){this.x=e[0],this.y=e[1]},t.set=function(e,r,i){e.x=r,e.y=i},t.copy=function(e,r){e.x=r.x,e.y=r.y},t.len=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.lenSquare=function(e){return e.x*e.x+e.y*e.y},t.dot=function(e,r){return e.x*r.x+e.y*r.y},t.add=function(e,r,i){e.x=r.x+i.x,e.y=r.y+i.y},t.sub=function(e,r,i){e.x=r.x-i.x,e.y=r.y-i.y},t.scale=function(e,r,i){e.x=r.x*i,e.y=r.y*i},t.scaleAndAdd=function(e,r,i,n){e.x=r.x+i.x*n,e.y=r.y+i.y*n},t.lerp=function(e,r,i,n){var a=1-n;e.x=a*r.x+n*i.x,e.y=a*r.y+n*i.y},t}(),$y=Math.min,Wy=Math.max,f0=new Ct,d0=new Ct,p0=new Ct,g0=new Ct,ov=new Ct,uv=new Ct,Et=function(){function t(e,r,i,n){i<0&&(e=e+i,i=-i),n<0&&(r=r+n,n=-n),this.x=e,this.y=r,this.width=i,this.height=n}return t.prototype.union=function(e){var r=$y(e.x,this.x),i=$y(e.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=Wy(e.x+e.width,this.x+this.width)-r:this.width=e.width,isFinite(this.y)&&isFinite(this.height)?this.height=Wy(e.y+e.height,this.y+this.height)-i:this.height=e.height,this.x=r,this.y=i},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(e){var r=this,i=e.width/r.width,n=e.height/r.height,a=Oa();return mu(a,a,[-r.x,-r.y]),Q7(a,a,[i,n]),mu(a,a,[e.x,e.y]),a},t.prototype.intersect=function(e,r){if(!e)return!1;e instanceof t||(e=t.create(e));var i=this,n=i.x,a=i.x+i.width,s=i.y,o=i.y+i.height,u=e.x,l=e.x+e.width,c=e.y,h=e.y+e.height,f=!(a<u||l<n||o<c||h<s);if(r){var d=1/0,p=0,g=Math.abs(a-u),v=Math.abs(l-n),m=Math.abs(o-c),y=Math.abs(h-s),_=Math.min(g,v),x=Math.min(m,y);a<u||l<n?_>p&&(p=_,g<v?Ct.set(uv,-g,0):Ct.set(uv,v,0)):_<d&&(d=_,g<v?Ct.set(ov,g,0):Ct.set(ov,-v,0)),o<c||h<s?x>p&&(p=x,m<y?Ct.set(uv,0,-m):Ct.set(uv,0,y)):_<d&&(d=_,m<y?Ct.set(ov,0,m):Ct.set(ov,0,-y))}return r&&Ct.copy(r,f?ov:uv),f},t.prototype.contain=function(e,r){var i=this;return e>=i.x&&e<=i.x+i.width&&r>=i.y&&r<=i.y+i.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(e,r){e.x=r.x,e.y=r.y,e.width=r.width,e.height=r.height},t.applyTransform=function(e,r,i){if(!i){e!==r&&t.copy(e,r);return}if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var n=i[0],a=i[3],s=i[4],o=i[5];e.x=r.x*n+s,e.y=r.y*a+o,e.width=r.width*n,e.height=r.height*a,e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height);return}f0.x=p0.x=r.x,f0.y=g0.y=r.y,d0.x=g0.x=r.x+r.width,d0.y=p0.y=r.y+r.height,f0.transform(i),g0.transform(i),d0.transform(i),p0.transform(i),e.x=$y(f0.x,d0.x,p0.x,g0.x),e.y=$y(f0.y,d0.y,p0.y,g0.y);var u=Wy(f0.x,d0.x,p0.x,g0.x),l=Wy(f0.y,d0.y,p0.y,g0.y);e.width=u-e.x,e.height=l-e.y},t}(),RX="silent";function A_e(t,e,r){return{type:t,event:r,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:w_e}}function w_e(){fl(this.event)}var D_e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(Us),lv=function(){function t(e,r){this.x=e,this.y=r}return t}(),F_e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ME=new Et(0,0,0,0),NX=function(t){ce(e,t);function e(r,i,n,a,s){var o=t.call(this)||this;return o._hovered=new lv(0,0),o.storage=r,o.painter=i,o.painterRoot=a,o._pointerSize=s,n=n||new D_e,o.proxy=null,o.setHandlerProxy(n),o._draggingMgr=new f_e(o),o}return e.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(G(F_e,function(i){r.on&&r.on(i,this[i],this)},this),r.handler=this),this.proxy=r},e.prototype.mousemove=function(r){var i=r.zrX,n=r.zrY,a=kX(this,i,n),s=this._hovered,o=s.target;o&&!o.__zr&&(s=this.findHover(s.x,s.y),o=s.target);var u=this._hovered=a?new lv(i,n):this.findHover(i,n),l=u.target,c=this.proxy;c.setCursor&&c.setCursor(l?l.cursor:"default"),o&&l!==o&&this.dispatchToElement(s,"mouseout",r),this.dispatchToElement(u,"mousemove",r),l&&l!==o&&this.dispatchToElement(u,"mouseover",r)},e.prototype.mouseout=function(r){var i=r.zrEventControl;i!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),i!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},e.prototype.resize=function(){this._hovered=new lv(0,0)},e.prototype.dispatch=function(r,i){var n=this[r];n&&n.call(this,i)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(r){var i=this.proxy;i.setCursor&&i.setCursor(r)},e.prototype.dispatchToElement=function(r,i,n){r=r||{};var a=r.target;if(!(a&&a.silent)){for(var s="on"+i,o=A_e(i,r,n);a&&(a[s]&&(o.cancelBubble=!!a[s].call(a,o)),a.trigger(i,o),a=a.__hostTarget?a.__hostTarget:a.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(i,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(u){typeof u[s]=="function"&&u[s].call(u,o),u.trigger&&u.trigger(i,o)}))}},e.prototype.findHover=function(r,i,n){var a=this.storage.getDisplayList(),s=new lv(r,i);if(nO(a,s,r,i,n),this._pointerSize&&!s.target){for(var o=[],u=this._pointerSize,l=u/2,c=new Et(r-l,i-l,u,u),h=a.length-1;h>=0;h--){var f=a[h];f!==n&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(ME.copy(f.getBoundingRect()),f.transform&&ME.applyTransform(f.transform),ME.intersect(c)&&o.push(f))}if(o.length)for(var d=4,p=Math.PI/12,g=Math.PI*2,v=0;v<l;v+=d)for(var m=0;m<g;m+=p){var y=r+v*Math.cos(m),_=i+v*Math.sin(m);if(nO(o,s,y,_,n),s.target)return s}}return s},e.prototype.processGesture=function(r,i){this._gestureMgr||(this._gestureMgr=new E_e);var n=this._gestureMgr;i==="start"&&n.clear();var a=n.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(i==="end"&&n.clear(),a){var s=a.type;r.gestureEvent=s;var o=new lv;o.target=a.target,this.dispatchToElement(o,s,a.event)}},e}(Us);G(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){NX.prototype[t]=function(e){var r=e.zrX,i=e.zrY,n=kX(this,r,i),a,s;if((t!=="mouseup"||!n)&&(a=this.findHover(r,i),s=a.target),t==="mousedown")this._downEl=s,this._downPoint=[e.zrX,e.zrY],this._upEl=s;else if(t==="mouseup")this._upEl=s;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||pc(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}});function I_e(t,e,r){if(t[t.rectHover?"rectContain":"contain"](e,r)){for(var i=t,n=void 0,a=!1;i;){if(i.ignoreClip&&(a=!0),!a){var s=i.getClipPath();if(s&&!s.contain(e,r))return!1}i.silent&&(n=!0);var o=i.__hostTarget;i=o||i.parent}return n?RX:!0}return!1}function nO(t,e,r,i,n){for(var a=t.length-1;a>=0;a--){var s=t[a],o=void 0;if(s!==n&&!s.ignore&&(o=I_e(s,r,i))&&(!e.topTarget&&(e.topTarget=s),o!==RX)){e.target=s;break}}}function kX(t,e,r){var i=t.painter;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var zX=32,cv=7;function B_e(t){for(var e=0;t>=zX;)e|=t&1,t>>=1;return t+e}function aO(t,e,r,i){var n=e+1;if(n===r)return 1;if(i(t[n++],t[e])<0){for(;n<r&&i(t[n],t[n-1])<0;)n++;M_e(t,e,n)}else for(;n<r&&i(t[n],t[n-1])>=0;)n++;return n-e}function M_e(t,e,r){for(r--;e<r;){var i=t[e];t[e++]=t[r],t[r--]=i}}function sO(t,e,r,i,n){for(i===e&&i++;i<r;i++){for(var a=t[i],s=e,o=i,u;s<o;)u=s+o>>>1,n(a,t[u])<0?o=u:s=u+1;var l=i-s;switch(l){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;l>0;)t[s+l]=t[s+l-1],l--}t[s]=a}}function PE(t,e,r,i,n,a){var s=0,o=0,u=1;if(a(t,e[r+n])>0){for(o=i-n;u<o&&a(t,e[r+n+u])>0;)s=u,u=(u<<1)+1,u<=0&&(u=o);u>o&&(u=o),s+=n,u+=n}else{for(o=n+1;u<o&&a(t,e[r+n-u])<=0;)s=u,u=(u<<1)+1,u<=0&&(u=o);u>o&&(u=o);var l=s;s=n-u,u=n-l}for(s++;s<u;){var c=s+(u-s>>>1);a(t,e[r+c])>0?s=c+1:u=c}return u}function LE(t,e,r,i,n,a){var s=0,o=0,u=1;if(a(t,e[r+n])<0){for(o=n+1;u<o&&a(t,e[r+n-u])<0;)s=u,u=(u<<1)+1,u<=0&&(u=o);u>o&&(u=o);var l=s;s=n-u,u=n-l}else{for(o=i-n;u<o&&a(t,e[r+n+u])>=0;)s=u,u=(u<<1)+1,u<=0&&(u=o);u>o&&(u=o),s+=n,u+=n}for(s++;s<u;){var c=s+(u-s>>>1);a(t,e[r+c])<0?u=c:s=c+1}return u}function P_e(t,e){var r=cv,i,n,a=0,s=[];i=[],n=[];function o(d,p){i[a]=d,n[a]=p,a+=1}function u(){for(;a>1;){var d=a-2;if(d>=1&&n[d-1]<=n[d]+n[d+1]||d>=2&&n[d-2]<=n[d]+n[d-1])n[d-1]<n[d+1]&&d--;else if(n[d]>n[d+1])break;c(d)}}function l(){for(;a>1;){var d=a-2;d>0&&n[d-1]<n[d+1]&&d--,c(d)}}function c(d){var p=i[d],g=n[d],v=i[d+1],m=n[d+1];n[d]=g+m,d===a-3&&(i[d+1]=i[d+2],n[d+1]=n[d+2]),a--;var y=LE(t[v],t,p,g,0,e);p+=y,g-=y,g!==0&&(m=PE(t[p+g-1],t,v,m,m-1,e),m!==0&&(g<=m?h(p,g,v,m):f(p,g,v,m)))}function h(d,p,g,v){var m=0;for(m=0;m<p;m++)s[m]=t[d+m];var y=0,_=g,x=d;if(t[x++]=t[_++],--v===0){for(m=0;m<p;m++)t[x+m]=s[y+m];return}if(p===1){for(m=0;m<v;m++)t[x+m]=t[_+m];t[x+v]=s[y];return}for(var b=r,C,E,A;;){C=0,E=0,A=!1;do if(e(t[_],s[y])<0){if(t[x++]=t[_++],E++,C=0,--v===0){A=!0;break}}else if(t[x++]=s[y++],C++,E=0,--p===1){A=!0;break}while((C|E)<b);if(A)break;do{if(C=LE(t[_],s,y,p,0,e),C!==0){for(m=0;m<C;m++)t[x+m]=s[y+m];if(x+=C,y+=C,p-=C,p<=1){A=!0;break}}if(t[x++]=t[_++],--v===0){A=!0;break}if(E=PE(s[y],t,_,v,0,e),E!==0){for(m=0;m<E;m++)t[x+m]=t[_+m];if(x+=E,_+=E,v-=E,v===0){A=!0;break}}if(t[x++]=s[y++],--p===1){A=!0;break}b--}while(C>=cv||E>=cv);if(A)break;b<0&&(b=0),b+=2}if(r=b,r<1&&(r=1),p===1){for(m=0;m<v;m++)t[x+m]=t[_+m];t[x+v]=s[y]}else{if(p===0)throw new Error;for(m=0;m<p;m++)t[x+m]=s[y+m]}}function f(d,p,g,v){var m=0;for(m=0;m<v;m++)s[m]=t[g+m];var y=d+p-1,_=v-1,x=g+v-1,b=0,C=0;if(t[x--]=t[y--],--p===0){for(b=x-(v-1),m=0;m<v;m++)t[b+m]=s[m];return}if(v===1){for(x-=p,y-=p,C=x+1,b=y+1,m=p-1;m>=0;m--)t[C+m]=t[b+m];t[x]=s[_];return}for(var E=r;;){var A=0,S=0,T=!1;do if(e(s[_],t[y])<0){if(t[x--]=t[y--],A++,S=0,--p===0){T=!0;break}}else if(t[x--]=s[_--],S++,A=0,--v===1){T=!0;break}while((A|S)<E);if(T)break;do{if(A=p-LE(s[_],t,d,p,p-1,e),A!==0){for(x-=A,y-=A,p-=A,C=x+1,b=y+1,m=A-1;m>=0;m--)t[C+m]=t[b+m];if(p===0){T=!0;break}}if(t[x--]=s[_--],--v===1){T=!0;break}if(S=v-PE(t[y],s,0,v,v-1,e),S!==0){for(x-=S,_-=S,v-=S,C=x+1,b=_+1,m=0;m<S;m++)t[C+m]=s[b+m];if(v<=1){T=!0;break}}if(t[x--]=t[y--],--p===0){T=!0;break}E--}while(A>=cv||S>=cv);if(T)break;E<0&&(E=0),E+=2}if(r=E,r<1&&(r=1),v===1){for(x-=p,y-=p,C=x+1,b=y+1,m=p-1;m>=0;m--)t[C+m]=t[b+m];t[x]=s[_]}else{if(v===0)throw new Error;for(b=x-(v-1),m=0;m<v;m++)t[b+m]=s[m]}}return{mergeRuns:u,forceMergeRuns:l,pushRun:o}}function kx(t,e,r,i){r||(r=0),i||(i=t.length);var n=i-r;if(!(n<2)){var a=0;if(n<zX){a=aO(t,r,i,e),sO(t,r,i,r+a,e);return}var s=P_e(t,e),o=B_e(n);do{if(a=aO(t,r,i,e),a<o){var u=n;u>o&&(u=o),sO(t,r,r+u,r+a,e),a=u}s.pushRun(r,a),s.mergeRuns(),n-=a,r+=a}while(n!==0);s.forceMergeRuns()}}var ou=1,zx=2,e1=4,oO=!1;function OE(){oO||(oO=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function uO(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var L_e=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=uO}return t.prototype.traverse=function(e,r){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,r)},t.prototype.getDisplayList=function(e,r){r=r||!1;var i=this._displayList;return(e||!i.length)&&this.updateDisplayList(r),i},t.prototype.updateDisplayList=function(e){this._displayListLen=0;for(var r=this._roots,i=this._displayList,n=0,a=r.length;n<a;n++)this._updateAndAddDisplayable(r[n],null,e);i.length=this._displayListLen,kx(i,uO)},t.prototype._updateAndAddDisplayable=function(e,r,i){if(!(e.ignore&&!i)){e.beforeUpdate(),e.update(),e.afterUpdate();var n=e.getClipPath();if(e.ignoreClip)r=null;else if(n){r?r=r.slice():r=[];for(var a=n,s=e;a;)a.parent=s,a.updateTransform(),r.push(a),s=a,a=a.getClipPath()}if(e.childrenRef){for(var o=e.childrenRef(),u=0;u<o.length;u++){var l=o[u];e.__dirty&&(l.__dirty|=ou),this._updateAndAddDisplayable(l,r,i)}e.__dirty=0}else{var c=e;r&&r.length?c.__clipPaths=r:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(OE(),c.z=0),isNaN(c.z2)&&(OE(),c.z2=0),isNaN(c.zlevel)&&(OE(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var h=e.getDecalElement&&e.getDecalElement();h&&this._updateAndAddDisplayable(h,r,i);var f=e.getTextGuideLine();f&&this._updateAndAddDisplayable(f,r,i);var d=e.getTextContent();d&&this._updateAndAddDisplayable(d,r,i)}},t.prototype.addRoot=function(e){e.__zr&&e.__zr.storage===this||this._roots.push(e)},t.prototype.delRoot=function(e){if(e instanceof Array){for(var r=0,i=e.length;r<i;r++)this.delRoot(e[r]);return}var n=wt(this._roots,e);n>=0&&this._roots.splice(n,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),Xh;Xh=Lt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var P1={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,r=.1,i=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=i/4):e=i*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)))},elasticOut:function(t){var e,r=.1,i=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=i/4):e=i*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/i)+1)},elasticInOut:function(t){var e,r=.1,i=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,e=i/4):e=i*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*(t*t*((e+1)*t-e)):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-P1.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?P1.bounceIn(t*2)*.5:P1.bounceOut(t*2-1)*.5+.5}},Yy=Math.pow,Fc=Math.sqrt,HX=1e-8,GX=1e-4,lO=Fc(3),qy=1/3,Yo=xf(),Cs=xf(),qd=xf();function mc(t){return t>-1e-8&&t<HX}function UX(t){return t>HX||t<-1e-8}function zi(t,e,r,i,n){var a=1-n;return a*a*(a*t+3*n*e)+n*n*(n*i+3*a*r)}function cO(t,e,r,i,n){var a=1-n;return 3*(((e-t)*a+2*(r-e)*n)*a+(i-r)*n*n)}function p3(t,e,r,i,n,a){var s=i+3*(e-r)-t,o=3*(r-e*2+t),u=3*(e-t),l=t-n,c=o*o-3*s*u,h=o*u-9*s*l,f=u*u-3*o*l,d=0;if(mc(c)&&mc(h))if(mc(o))a[0]=0;else{var p=-u/o;p>=0&&p<=1&&(a[d++]=p)}else{var g=h*h-4*c*f;if(mc(g)){var v=h/c,p=-o/s+v,m=-v/2;p>=0&&p<=1&&(a[d++]=p),m>=0&&m<=1&&(a[d++]=m)}else if(g>0){var y=Fc(g),_=c*o+1.5*s*(-h+y),x=c*o+1.5*s*(-h-y);_<0?_=-Yy(-_,qy):_=Yy(_,qy),x<0?x=-Yy(-x,qy):x=Yy(x,qy);var p=(-o-(_+x))/(3*s);p>=0&&p<=1&&(a[d++]=p)}else{var b=(2*c*o-3*s*h)/(2*Fc(c*c*c)),C=Math.acos(b)/3,E=Fc(c),A=Math.cos(C),p=(-o-2*E*A)/(3*s),m=(-o+E*(A+lO*Math.sin(C)))/(3*s),S=(-o+E*(A-lO*Math.sin(C)))/(3*s);p>=0&&p<=1&&(a[d++]=p),m>=0&&m<=1&&(a[d++]=m),S>=0&&S<=1&&(a[d++]=S)}}return d}function jX(t,e,r,i,n){var a=6*r-12*e+6*t,s=9*e+3*i-3*t-9*r,o=3*e-3*t,u=0;if(mc(s)){if(UX(a)){var l=-o/a;l>=0&&l<=1&&(n[u++]=l)}}else{var c=a*a-4*s*o;if(mc(c))n[0]=-a/(2*s);else if(c>0){var h=Fc(c),l=(-a+h)/(2*s),f=(-a-h)/(2*s);l>=0&&l<=1&&(n[u++]=l),f>=0&&f<=1&&(n[u++]=f)}}return u}function Rc(t,e,r,i,n,a){var s=(e-t)*n+t,o=(r-e)*n+e,u=(i-r)*n+r,l=(o-s)*n+s,c=(u-o)*n+o,h=(c-l)*n+l;a[0]=t,a[1]=s,a[2]=l,a[3]=h,a[4]=h,a[5]=c,a[6]=u,a[7]=i}function VX(t,e,r,i,n,a,s,o,u,l,c){var h,f=.005,d=1/0,p,g,v,m;Yo[0]=u,Yo[1]=l;for(var y=0;y<1;y+=.05)Cs[0]=zi(t,r,n,s,y),Cs[1]=zi(e,i,a,o,y),v=Dh(Yo,Cs),v<d&&(h=y,d=v);d=1/0;for(var _=0;_<32&&!(f<GX);_++)p=h-f,g=h+f,Cs[0]=zi(t,r,n,s,p),Cs[1]=zi(e,i,a,o,p),v=Dh(Cs,Yo),p>=0&&v<d?(h=p,d=v):(qd[0]=zi(t,r,n,s,g),qd[1]=zi(e,i,a,o,g),m=Dh(qd,Yo),g<=1&&m<d?(h=g,d=m):f*=.5);return c&&(c[0]=zi(t,r,n,s,h),c[1]=zi(e,i,a,o,h)),Fc(d)}function O_e(t,e,r,i,n,a,s,o,u){for(var l=t,c=e,h=0,f=1/u,d=1;d<=u;d++){var p=d*f,g=zi(t,r,n,s,p),v=zi(e,i,a,o,p),m=g-l,y=v-c;h+=Math.sqrt(m*m+y*y),l=g,c=v}return h}function on(t,e,r,i){var n=1-i;return n*(n*t+2*i*e)+i*i*r}function v8(t,e,r,i){return 2*((1-i)*(e-t)+i*(r-e))}function R_e(t,e,r,i,n){var a=t-2*e+r,s=2*(e-t),o=t-i,u=0;if(mc(a)){if(UX(s)){var l=-o/s;l>=0&&l<=1&&(n[u++]=l)}}else{var c=s*s-4*a*o;if(mc(c)){var l=-s/(2*a);l>=0&&l<=1&&(n[u++]=l)}else if(c>0){var h=Fc(c),l=(-s+h)/(2*a),f=(-s-h)/(2*a);l>=0&&l<=1&&(n[u++]=l),f>=0&&f<=1&&(n[u++]=f)}}return u}function $X(t,e,r){var i=t+r-2*e;return i===0?.5:(t-e)/i}function T2(t,e,r,i,n){var a=(e-t)*i+t,s=(r-e)*i+e,o=(s-a)*i+a;n[0]=t,n[1]=a,n[2]=o,n[3]=o,n[4]=s,n[5]=r}function WX(t,e,r,i,n,a,s,o,u){var l,c=.005,h=1/0;Yo[0]=s,Yo[1]=o;for(var f=0;f<1;f+=.05){Cs[0]=on(t,r,n,f),Cs[1]=on(e,i,a,f);var d=Dh(Yo,Cs);d<h&&(l=f,h=d)}h=1/0;for(var p=0;p<32&&!(c<GX);p++){var g=l-c,v=l+c;Cs[0]=on(t,r,n,g),Cs[1]=on(e,i,a,g);var d=Dh(Cs,Yo);if(g>=0&&d<h)l=g,h=d;else{qd[0]=on(t,r,n,v),qd[1]=on(e,i,a,v);var m=Dh(qd,Yo);v<=1&&m<h?(l=v,h=m):c*=.5}}return u&&(u[0]=on(t,r,n,l),u[1]=on(e,i,a,l)),Fc(h)}function N_e(t,e,r,i,n,a,s){for(var o=t,u=e,l=0,c=1/s,h=1;h<=s;h++){var f=h*c,d=on(t,r,n,f),p=on(e,i,a,f),g=d-o,v=p-u;l+=Math.sqrt(g*g+v*v),o=d,u=p}return l}var k_e=/cubic-bezier\(([0-9,\.e ]+)\)/;function e9(t){var e=t&&k_e.exec(t);if(e){var r=e[1].split(","),i=+oo(r[0]),n=+oo(r[1]),a=+oo(r[2]),s=+oo(r[3]);if(isNaN(i+n+a+s))return;var o=[];return function(u){return u<=0?0:u>=1?1:p3(0,i,a,1,u,o)&&zi(0,n,s,1,o[0])}}}var z_e=function(){function t(e){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=e.life||1e3,this._delay=e.delay||0,this.loop=e.loop||!1,this.onframe=e.onframe||gi,this.ondestroy=e.ondestroy||gi,this.onrestart=e.onrestart||gi,e.easing&&this.setEasing(e.easing)}return t.prototype.step=function(e,r){if(this._inited||(this._startTime=e+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var i=this._life,n=e-this._startTime-this._pausedTime,a=n/i;a<0&&(a=0),a=Math.min(a,1);var s=this.easingFunc,o=s?s(a):a;if(this.onframe(o),a===1)if(this.loop){var u=n%i;this._startTime=e-u,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(e){this.easing=e,this.easingFunc=ot(e)?e:P1[e]||e9(e)},t}(),YX=function(){function t(e){this.value=e}return t}(),H_e=function(){function t(){this._len=0}return t.prototype.insert=function(e){var r=new YX(e);return this.insertEntry(r),r},t.prototype.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},t.prototype.remove=function(e){var r=e.prev,i=e.next;r?r.next=i:this.head=i,i?i.prev=r:this.tail=r,e.next=e.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),og=function(){function t(e){this._list=new H_e,this._maxSize=10,this._map={},this._maxSize=e}return t.prototype.put=function(e,r){var i=this._list,n=this._map,a=null;if(n[e]==null){var s=i.len(),o=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var u=i.head;i.remove(u),delete n[u.key],a=u.value,this._lastRemovedEntry=u}o?o.value=r:o=new YX(r),o.key=e,i.insertEntry(o),n[e]=o}return a},t.prototype.get=function(e){var r=this._map[e],i=this._list;if(r!=null)return r!==i.tail&&(i.remove(r),i.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),hO={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function fo(t){return t=Math.round(t),t<0?0:t>255?255:t}function G_e(t){return t=Math.round(t),t<0?0:t>360?360:t}function A2(t){return t<0?0:t>1?1:t}function RE(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?fo(parseFloat(e)/100*255):fo(parseInt(e,10))}function Fh(t){var e=t;return e.length&&e.charAt(e.length-1)==="%"?A2(parseFloat(e)/100):A2(parseFloat(e))}function NE(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function yc(t,e,r){return t+(e-t)*r}function ms(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function m8(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var qX=new og(20),Xy=null;function zf(t,e){Xy&&m8(Xy,e),Xy=qX.put(t,Xy||e.slice())}function ua(t,e){if(t){e=e||[];var r=qX.get(t);if(r)return m8(e,r);t=t+"";var i=t.replace(/ /g,"").toLowerCase();if(i in hO)return m8(e,hO[i]),zf(t,e),e;var n=i.length;if(i.charAt(0)==="#"){if(n===4||n===5){var a=parseInt(i.slice(1,4),16);if(!(a>=0&&a<=4095)){ms(e,0,0,0,1);return}return ms(e,(a&3840)>>4|(a&3840)>>8,a&240|(a&240)>>4,a&15|(a&15)<<4,n===5?parseInt(i.slice(4),16)/15:1),zf(t,e),e}else if(n===7||n===9){var a=parseInt(i.slice(1,7),16);if(!(a>=0&&a<=16777215)){ms(e,0,0,0,1);return}return ms(e,(a&16711680)>>16,(a&65280)>>8,a&255,n===9?parseInt(i.slice(7),16)/255:1),zf(t,e),e}return}var s=i.indexOf("("),o=i.indexOf(")");if(s!==-1&&o+1===n){var u=i.substr(0,s),l=i.substr(s+1,o-(s+1)).split(","),c=1;switch(u){case"rgba":if(l.length!==4)return l.length===3?ms(e,+l[0],+l[1],+l[2],1):ms(e,0,0,0,1);c=Fh(l.pop());case"rgb":if(l.length>=3)return ms(e,RE(l[0]),RE(l[1]),RE(l[2]),l.length===3?c:Fh(l[3])),zf(t,e),e;ms(e,0,0,0,1);return;case"hsla":if(l.length!==4){ms(e,0,0,0,1);return}return l[3]=Fh(l[3]),y8(l,e),zf(t,e),e;case"hsl":if(l.length!==3){ms(e,0,0,0,1);return}return y8(l,e),zf(t,e),e;default:return}}ms(e,0,0,0,1)}}function y8(t,e){var r=(parseFloat(t[0])%360+360)%360/360,i=Fh(t[1]),n=Fh(t[2]),a=n<=.5?n*(i+1):n+i-n*i,s=n*2-a;return e=e||[],ms(e,fo(NE(s,a,r+1/3)*255),fo(NE(s,a,r)*255),fo(NE(s,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function U_e(t){if(t){var e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(e,r,i),a=Math.max(e,r,i),s=a-n,o=(a+n)/2,u,l;if(s===0)u=0,l=0;else{o<.5?l=s/(a+n):l=s/(2-a-n);var c=((a-e)/6+s/2)/s,h=((a-r)/6+s/2)/s,f=((a-i)/6+s/2)/s;e===a?u=f-h:r===a?u=1/3+c-f:i===a&&(u=2/3+h-c),u<0&&(u+=1),u>1&&(u-=1)}var d=[u*360,l,o];return t[3]!=null&&d.push(t[3]),d}}function Ep(t,e){var r=ua(t);if(r){for(var i=0;i<3;i++)e<0?r[i]=r[i]*(1-e)|0:r[i]=(255-r[i])*e+r[i]|0,r[i]>255?r[i]=255:r[i]<0&&(r[i]=0);return il(r,r.length===4?"rgba":"rgb")}}function kE(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){r=r||[];var i=t*(e.length-1),n=Math.floor(i),a=Math.ceil(i),s=e[n],o=e[a],u=i-n;return r[0]=fo(yc(s[0],o[0],u)),r[1]=fo(yc(s[1],o[1],u)),r[2]=fo(yc(s[2],o[2],u)),r[3]=A2(yc(s[3],o[3],u)),r}}function j_e(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var i=t*(e.length-1),n=Math.floor(i),a=Math.ceil(i),s=ua(e[n]),o=ua(e[a]),u=i-n,l=il([fo(yc(s[0],o[0],u)),fo(yc(s[1],o[1],u)),fo(yc(s[2],o[2],u)),A2(yc(s[3],o[3],u))],"rgba");return r?{color:l,leftIndex:n,rightIndex:a,value:i}:l}}function L1(t,e,r,i){var n=ua(t);if(t)return n=U_e(n),e!=null&&(n[0]=G_e(e)),r!=null&&(n[1]=Fh(r)),i!=null&&(n[2]=Fh(i)),il(y8(n),"rgba")}function g3(t,e){var r=ua(t);if(r&&e!=null)return r[3]=A2(e),il(r,"rgba")}function il(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}}function v3(t,e){var r=ua(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*e:0}var fO=new og(100);function _8(t){if(Xe(t)){var e=fO.get(t);return e||(e=Ep(t,-.1),fO.put(t,e)),e}else if(pb(t)){var r=Ce({},t);return r.colorStops=Ie(t.colorStops,function(i){return{offset:i.offset,color:Ep(i.color,-.1)}}),r}return t}var m3=Math.round;function w2(t){var e;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var r=ua(t);r&&(t="rgb("+r[0]+","+r[1]+","+r[2]+")",e=r[3])}return{color:t,opacity:e??1}}var V_e=1e-4;function _c(t){return t<V_e&&t>-1e-4}function Zy(t){return m3(t*1e3)/1e3}function x8(t){return m3(t*1e4)/1e4}function $_e(t){return"matrix("+Zy(t[0])+","+Zy(t[1])+","+Zy(t[2])+","+Zy(t[3])+","+x8(t[4])+","+x8(t[5])+")"}var W_e={left:"start",right:"end",center:"middle",middle:"middle"};function Y_e(t,e,r){return r==="top"?t+=e/2:r==="bottom"&&(t-=e/2),t}function q_e(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function X_e(t){var e=t.style,r=t.getGlobalScale();return[e.shadowColor,(e.shadowBlur||0).toFixed(2),(e.shadowOffsetX||0).toFixed(2),(e.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function XX(t){return t&&!!t.image}function Z_e(t){return t&&!!t.svgElement}function t9(t){return XX(t)||Z_e(t)}function ZX(t){return t.type==="linear"}function KX(t){return t.type==="radial"}function JX(t){return t&&(t.type==="linear"||t.type==="radial")}function mb(t){return"url(#"+t+")"}function QX(t){var e=t.getGlobalScale(),r=Math.max(e[0],e[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function eZ(t){var e=t.x||0,r=t.y||0,i=(t.rotation||0)*Ox,n=gt(t.scaleX,1),a=gt(t.scaleY,1),s=t.skewX||0,o=t.skewY||0,u=[];return(e||r)&&u.push("translate("+e+"px,"+r+"px)"),i&&u.push("rotate("+i+")"),(n!==1||a!==1)&&u.push("scale("+n+","+a+")"),(s||o)&&u.push("skew("+m3(s*Ox)+"deg, "+m3(o*Ox)+"deg)"),u.join(" ")}var K_e=function(){return Lt.hasGlobalWindow&&ot(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}}(),b8=Array.prototype.slice;function Vu(t,e,r){return(e-t)*r+t}function zE(t,e,r,i){for(var n=e.length,a=0;a<n;a++)t[a]=Vu(e[a],r[a],i);return t}function J_e(t,e,r,i){for(var n=e.length,a=n&&e[0].length,s=0;s<n;s++){t[s]||(t[s]=[]);for(var o=0;o<a;o++)t[s][o]=Vu(e[s][o],r[s][o],i)}return t}function Ky(t,e,r,i){for(var n=e.length,a=0;a<n;a++)t[a]=e[a]+r[a]*i;return t}function dO(t,e,r,i){for(var n=e.length,a=n&&e[0].length,s=0;s<n;s++){t[s]||(t[s]=[]);for(var o=0;o<a;o++)t[s][o]=e[s][o]+r[s][o]*i}return t}function Q_e(t,e){for(var r=t.length,i=e.length,n=r>i?e:t,a=Math.min(r,i),s=n[a-1]||{color:[0,0,0,0],offset:0},o=a;o<Math.max(r,i);o++)n.push({offset:s.offset,color:s.color.slice()})}function exe(t,e,r){var i=t,n=e;if(!(!i.push||!n.push)){var a=i.length,s=n.length;if(a!==s){var o=a>s;if(o)i.length=s;else for(var u=a;u<s;u++)i.push(r===1?n[u]:b8.call(n[u]))}for(var l=i[0]&&i[0].length,u=0;u<i.length;u++)if(r===1)isNaN(i[u])&&(i[u]=n[u]);else for(var c=0;c<l;c++)isNaN(i[u][c])&&(i[u][c]=n[u][c])}}function O1(t){if(Gn(t)){var e=t.length;if(Gn(t[0])){for(var r=[],i=0;i<e;i++)r.push(b8.call(t[i]));return r}return b8.call(t)}return t}function Hx(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function txe(t){return Gn(t&&t[0])?2:1}var Jy=0,Gx=1,tZ=2,t1=3,C8=4,E8=5,pO=6;function gO(t){return t===C8||t===E8}function Qy(t){return t===Gx||t===tZ}var hv=[0,0,0,0],rxe=function(){function t(e){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=e}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(e,r,i){this._needsSort=!0;var n=this.keyframes,a=n.length,s=!1,o=pO,u=r;if(Gn(r)){var l=txe(r);o=l,(l===1&&!Zt(r[0])||l===2&&!Zt(r[0][0]))&&(s=!0)}else if(Zt(r)&&!S2(r))o=Jy;else if(Xe(r))if(!isNaN(+r))o=Jy;else{var c=ua(r);c&&(u=c,o=t1)}else if(pb(r)){var h=Ce({},u);h.colorStops=Ie(r.colorStops,function(d){return{offset:d.offset,color:ua(d.color)}}),ZX(r)?o=C8:KX(r)&&(o=E8),u=h}a===0?this.valType=o:(o!==this.valType||o===pO)&&(s=!0),this.discrete=this.discrete||s;var f={time:e,value:u,rawValue:r,percent:0};return i&&(f.easing=i,f.easingFunc=ot(i)?i:P1[i]||e9(i)),n.push(f),f},t.prototype.prepare=function(e,r){var i=this.keyframes;this._needsSort&&i.sort(function(g,v){return g.time-v.time});for(var n=this.valType,a=i.length,s=i[a-1],o=this.discrete,u=Qy(n),l=gO(n),c=0;c<a;c++){var h=i[c],f=h.value,d=s.value;h.percent=h.time/e,o||(u&&c!==a-1?exe(f,d,n):l&&Q_e(f.colorStops,d.colorStops))}if(!o&&n!==E8&&r&&this.needsAnimate()&&r.needsAnimate()&&n===r.valType&&!r._finished){this._additiveTrack=r;for(var p=i[0].value,c=0;c<a;c++)n===Jy?i[c].additiveValue=i[c].value-p:n===t1?i[c].additiveValue=Ky([],i[c].value,p,-1):Qy(n)&&(i[c].additiveValue=n===Gx?Ky([],i[c].value,p,-1):dO([],i[c].value,p,-1))}},t.prototype.step=function(e,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var i=this._additiveTrack!=null,n=i?"additiveValue":"value",a=this.valType,s=this.keyframes,o=s.length,u=this.propName,l=a===t1,c,h=this._lastFr,f=Math.min,d,p;if(o===1)d=p=s[0];else{if(r<0)c=0;else if(r<this._lastFrP){var g=f(h+1,o-1);for(c=g;c>=0&&!(s[c].percent<=r);c--);c=f(c,o-2)}else{for(c=h;c<o&&!(s[c].percent>r);c++);c=f(c-1,o-2)}p=s[c+1],d=s[c]}if(d&&p){this._lastFr=c,this._lastFrP=r;var v=p.percent-d.percent,m=v===0?1:f((r-d.percent)/v,1);p.easingFunc&&(m=p.easingFunc(m));var y=i?this._additiveValue:l?hv:e[u];if((Qy(a)||l)&&!y&&(y=this._additiveValue=[]),this.discrete)e[u]=m<1?d.rawValue:p.rawValue;else if(Qy(a))a===Gx?zE(y,d[n],p[n],m):J_e(y,d[n],p[n],m);else if(gO(a)){var _=d[n],x=p[n],b=a===C8;e[u]={type:b?"linear":"radial",x:Vu(_.x,x.x,m),y:Vu(_.y,x.y,m),colorStops:Ie(_.colorStops,function(E,A){var S=x.colorStops[A];return{offset:Vu(E.offset,S.offset,m),color:Hx(zE([],E.color,S.color,m))}}),global:x.global},b?(e[u].x2=Vu(_.x2,x.x2,m),e[u].y2=Vu(_.y2,x.y2,m)):e[u].r=Vu(_.r,x.r,m)}else if(l)zE(y,d[n],p[n],m),i||(e[u]=Hx(y));else{var C=Vu(d[n],p[n],m);i?this._additiveValue=C:e[u]=C}i&&this._addToTarget(e)}}},t.prototype._addToTarget=function(e){var r=this.valType,i=this.propName,n=this._additiveValue;r===Jy?e[i]=e[i]+n:r===t1?(ua(e[i],hv),Ky(hv,hv,n,1),e[i]=Hx(hv)):r===Gx?Ky(e[i],e[i],n,1):r===tZ&&dO(e[i],e[i],n,1)},t}(),yb=function(){function t(e,r,i,n){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=e,this._loop=r,r&&n){W7("Can' use additive animation on looped animation.");return}this._additiveAnimators=n,this._allowDiscrete=i}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(e){this._target=e},t.prototype.when=function(e,r,i){return this.whenWithKeys(e,r,kt(r),i)},t.prototype.whenWithKeys=function(e,r,i,n){for(var a=this._tracks,s=0;s<i.length;s++){var o=i[s],u=a[o];if(!u){u=a[o]=new rxe(o);var l=void 0,c=this._getAdditiveTrack(o);if(c){var h=c.keyframes,f=h[h.length-1];l=f&&f.value,c.valType===t1&&l&&(l=Hx(l))}else l=this._target[o];if(l==null)continue;e>0&&u.addKeyframe(0,O1(l),n),this._trackKeys.push(o)}u.addKeyframe(e,O1(r[o]),n)}return this._maxTime=Math.max(this._maxTime,e),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(e){return this._maxTime=e,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var e=this._doneCbs;if(e)for(var r=e.length,i=0;i<r;i++)e[i].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var e=this.animation,r=this._abortedCbs;if(e&&e.removeClip(this._clip),this._clip=null,r)for(var i=0;i<r.length;i++)r[i].call(this)},t.prototype._setTracksFinished=function(){for(var e=this._tracks,r=this._trackKeys,i=0;i<r.length;i++)e[r[i]].setFinished()},t.prototype._getAdditiveTrack=function(e){var r,i=this._additiveAnimators;if(i)for(var n=0;n<i.length;n++){var a=i[n].getTrack(e);a&&(r=a)}return r},t.prototype.start=function(e){if(!(this._started>0)){this._started=1;for(var r=this,i=[],n=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var s=this._trackKeys[a],o=this._tracks[s],u=this._getAdditiveTrack(s),l=o.keyframes,c=l.length;if(o.prepare(n,u),o.needsAnimate())if(!this._allowDiscrete&&o.discrete){var h=l[c-1];h&&(r._target[o.propName]=h.rawValue),o.setFinished()}else i.push(o)}if(i.length||this._force){var f=new z_e({life:n,loop:this._loop,delay:this._delay||0,onframe:function(d){r._started=2;var p=r._additiveAnimators;if(p){for(var g=!1,v=0;v<p.length;v++)if(p[v]._clip){g=!0;break}g||(r._additiveAnimators=null)}for(var v=0;v<i.length;v++)i[v].step(r._target,d);var m=r._onframeCbs;if(m)for(var v=0;v<m.length;v++)m[v](r._target,d)},ondestroy:function(){r._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),e&&f.setEasing(e)}else this._doneCallback();return this}},t.prototype.stop=function(e){if(this._clip){var r=this._clip;e&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(e){return this._delay=e,this},t.prototype.during=function(e){return e&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(e)),this},t.prototype.done=function(e){return e&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(e)),this},t.prototype.aborted=function(e){return e&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(e)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(e){return this._tracks[e]},t.prototype.getTracks=function(){var e=this;return Ie(this._trackKeys,function(r){return e._tracks[r]})},t.prototype.stopTracks=function(e,r){if(!e.length||!this._clip)return!0;for(var i=this._tracks,n=this._trackKeys,a=0;a<e.length;a++){var s=i[e[a]];s&&!s.isFinished()&&(r?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var o=!0,a=0;a<n.length;a++)if(!i[n[a]].isFinished()){o=!1;break}return o&&this._abortedCallback(),o},t.prototype.saveTo=function(e,r,i){if(e){r=r||this._trackKeys;for(var n=0;n<r.length;n++){var a=r[n],s=this._tracks[a];if(!(!s||s.isFinished())){var o=s.keyframes,u=o[i?0:o.length-1];u&&(e[a]=O1(u.rawValue))}}}},t.prototype.__changeFinalValue=function(e,r){r=r||kt(e);for(var i=0;i<r.length;i++){var n=r[i],a=this._tracks[n];if(a){var s=a.keyframes;if(s.length>1){var o=s.pop();a.addKeyframe(o.time,e[n]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},t}();function Id(){return new Date().getTime()}var ixe=function(t){ce(e,t);function e(r){var i=t.call(this)||this;return i._running=!1,i._time=0,i._pausedTime=0,i._pauseStart=0,i._paused=!1,r=r||{},i.stage=r.stage||{},i}return e.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},e.prototype.addAnimator=function(r){r.animation=this;var i=r.getClip();i&&this.addClip(i)},e.prototype.removeClip=function(r){if(r.animation){var i=r.prev,n=r.next;i?i.next=n:this._head=n,n?n.prev=i:this._tail=i,r.next=r.prev=r.animation=null}},e.prototype.removeAnimator=function(r){var i=r.getClip();i&&this.removeClip(i),r.animation=null},e.prototype.update=function(r){for(var i=Id()-this._pausedTime,n=i-this._time,a=this._head;a;){var s=a.next,o=a.step(i,n);o&&(a.ondestroy(),this.removeClip(a)),a=s}this._time=i,r||(this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var r=this;this._running=!0;function i(){r._running&&(Xh(i),!r._paused&&r.update())}Xh(i)},e.prototype.start=function(){this._running||(this._time=Id(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=Id(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=Id()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var r=this._head;r;){var i=r.next;r.prev=r.next=r.animation=null,r=i}this._head=this._tail=null},e.prototype.isFinished=function(){return this._head==null},e.prototype.animate=function(r,i){i=i||{},this.start();var n=new yb(r,i.loop);return this.addAnimator(n),n},e}(Us),nxe=300,HE=Lt.domSupported,GE=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=Ie(t,function(n){var a=n.replace("mouse","pointer");return r.hasOwnProperty(a)?a:n});return{mouse:t,touch:e,pointer:i}}(),vO={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},mO=!1;function S8(t){var e=t.pointerType;return e==="pen"||e==="touch"}function axe(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function UE(t){t&&(t.zrByTouch=!0)}function sxe(t,e){return ys(t.dom,new oxe(t,e),!0)}function rZ(t,e){for(var r=e,i=!1;r&&r.nodeType!==9&&!(i=r.domBelongToZr||r!==e&&r===t.painterRoot);)r=r.parentNode;return i}var oxe=function(){function t(e,r){this.stopPropagation=gi,this.stopImmediatePropagation=gi,this.preventDefault=gi,this.type=r.type,this.target=this.currentTarget=e.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),no={mousedown:function(t){t=ys(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=ys(this.dom,t);var e=this.__mayPointerCapture;e&&(t.zrX!==e[0]||t.zrY!==e[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=ys(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=ys(this.dom,t);var e=t.toElement||t.relatedTarget;rZ(this,e)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){mO=!0,t=ys(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){mO||(t=ys(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=ys(this.dom,t),UE(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),no.mousemove.call(this,t),no.mousedown.call(this,t)},touchmove:function(t){t=ys(this.dom,t),UE(t),this.handler.processGesture(t,"change"),no.mousemove.call(this,t)},touchend:function(t){t=ys(this.dom,t),UE(t),this.handler.processGesture(t,"end"),no.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<nxe&&no.click.call(this,t)},pointerdown:function(t){no.mousedown.call(this,t)},pointermove:function(t){S8(t)||no.mousemove.call(this,t)},pointerup:function(t){no.mouseup.call(this,t)},pointerout:function(t){S8(t)||no.mouseout.call(this,t)}};G(["click","dblclick","contextmenu"],function(t){no[t]=function(e){e=ys(this.dom,e),this.trigger(t,e)}});var T8={pointermove:function(t){S8(t)||T8.mousemove.call(this,t)},pointerup:function(t){T8.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function uxe(t,e){var r=e.domHandlers;Lt.pointerEventsSupported?G(GE.pointer,function(i){Ux(e,i,function(n){r[i].call(t,n)})}):(Lt.touchEventsSupported&&G(GE.touch,function(i){Ux(e,i,function(n){r[i].call(t,n),axe(e)})}),G(GE.mouse,function(i){Ux(e,i,function(n){n=K7(n),e.touching||r[i].call(t,n)})}))}function lxe(t,e){Lt.pointerEventsSupported?G(vO.pointer,r):Lt.touchEventsSupported||G(vO.mouse,r);function r(i){function n(a){a=K7(a),rZ(t,a.target)||(a=sxe(t,a),e.domHandlers[i].call(t,a))}Ux(e,i,n,{capture:!0})}}function Ux(t,e,r,i){t.mounted[e]=r,t.listenerOpts[e]=i,g8(t.domTarget,e,r,i)}function jE(t){var e=t.mounted;for(var r in e)e.hasOwnProperty(r)&&C_e(t.domTarget,r,e[r],t.listenerOpts[r]);t.mounted={}}var yO=function(){function t(e,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=e,this.domHandlers=r}return t}(),cxe=function(t){ce(e,t);function e(r,i){var n=t.call(this)||this;return n.__pointerCapturing=!1,n.dom=r,n.painterRoot=i,n._localHandlerScope=new yO(r,no),HE&&(n._globalHandlerScope=new yO(document,T8)),uxe(n,n._localHandlerScope),n}return e.prototype.dispose=function(){jE(this._localHandlerScope),HE&&jE(this._globalHandlerScope)},e.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},e.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,HE&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var i=this._globalHandlerScope;r?lxe(this,i):jE(i)}},e}(Us),iZ=1;Lt.hasGlobalWindow&&(iZ=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var y3=iZ,A8=.4,w8="#333",D8="#ccc",hxe="#eee",_O=vb,fxe=5e-5;function v0(t){return t>fxe||t<-5e-5}var m0=[],Hf=[],VE=Oa(),$E=Math.abs,Ju=function(){function t(){}return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(e){this.x=e[0],this.y=e[1]},t.prototype.setScale=function(e){this.scaleX=e[0],this.scaleY=e[1]},t.prototype.setSkew=function(e){this.skewX=e[0],this.skewY=e[1]},t.prototype.setOrigin=function(e){this.originX=e[0],this.originY=e[1]},t.prototype.needLocalTransform=function(){return v0(this.rotation)||v0(this.x)||v0(this.y)||v0(this.scaleX-1)||v0(this.scaleY-1)||v0(this.skewX)||v0(this.skewY)},t.prototype.updateTransform=function(){var e=this.parent&&this.parent.transform,r=this.needLocalTransform(),i=this.transform;if(!(r||e)){i&&(_O(i),this.invTransform=null);return}i=i||Oa(),r?this.getLocalTransform(i):_O(i),e&&(r?rl(i,e,i):J7(i,e)),this.transform=i,this._resolveGlobalScaleRatio(i)},t.prototype._resolveGlobalScaleRatio=function(e){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(m0);var i=m0[0]<0?-1:1,n=m0[1]<0?-1:1,a=((m0[0]-i)*r+i)/m0[0]||0,s=((m0[1]-n)*r+n)/m0[1]||0;e[0]*=a,e[1]*=a,e[2]*=s,e[3]*=s}this.invTransform=this.invTransform||Oa(),Cf(this.invTransform,e)},t.prototype.getComputedTransform=function(){for(var e=this,r=[];e;)r.push(e),e=e.parent;for(;e=r.pop();)e.updateTransform();return this.transform},t.prototype.setLocalTransform=function(e){if(e){var r=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],n=Math.atan2(e[1],e[0]),a=Math.PI/2+n-Math.atan2(e[3],e[2]);i=Math.sqrt(i)*Math.cos(a),r=Math.sqrt(r),this.skewX=a,this.skewY=0,this.rotation=-n,this.x=+e[4],this.y=+e[5],this.scaleX=r,this.scaleY=i,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var e=this.parent,r=this.transform;e&&e.transform&&(e.invTransform=e.invTransform||Oa(),rl(Hf,e.invTransform,r),r=Hf);var i=this.originX,n=this.originY;(i||n)&&(VE[4]=i,VE[5]=n,rl(Hf,r,VE),Hf[4]-=i,Hf[5]-=n,r=Hf),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(e){var r=this.transform;return e=e||[],r?(e[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),e[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(e[0]=-e[0]),r[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},t.prototype.transformCoordToLocal=function(e,r){var i=[e,r],n=this.invTransform;return n&&Yi(i,i,n),i},t.prototype.transformCoordToGlobal=function(e,r){var i=[e,r],n=this.transform;return n&&Yi(i,i,n),i},t.prototype.getLineScale=function(){var e=this.transform;return e&&$E(e[0]-1)>1e-10&&$E(e[3]-1)>1e-10?Math.sqrt($E(e[0]*e[3]-e[2]*e[1])):1},t.prototype.copyTransform=function(e){nZ(this,e)},t.getLocalTransform=function(e,r){r=r||[];var i=e.originX||0,n=e.originY||0,a=e.scaleX,s=e.scaleY,o=e.anchorX,u=e.anchorY,l=e.rotation||0,c=e.x,h=e.y,f=e.skewX?Math.tan(e.skewX):0,d=e.skewY?Math.tan(-e.skewY):0;if(i||n||o||u){var p=i+o,g=n+u;r[4]=-p*a-f*g*s,r[5]=-g*s-d*p*a}else r[4]=r[5]=0;return r[0]=a,r[3]=s,r[1]=d*a,r[2]=f*s,l&&bf(r,r,l),r[4]+=i+c,r[5]+=n+h,r},t.initDefaultProps=function(){var e=t.prototype;e.scaleX=e.scaleY=e.globalScaleRatio=1,e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0}(),t}(),yu=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function nZ(t,e){for(var r=0;r<yu.length;r++){var i=yu[r];t[i]=e[i]}}var xO={};function ts(t,e){e=e||Lc;var r=xO[e];r||(r=xO[e]=new og(500));var i=r.get(t);return i==null&&(i=Oc.measureText(t,e).width,r.put(t,i)),i}function bO(t,e,r,i){var n=ts(t,e),a=_b(e),s=r1(0,n,r),o=bd(0,a,i),u=new Et(s,o,n,a);return u}function Sm(t,e,r,i){var n=((t||"")+"").split(`
`),a=n.length;if(a===1)return bO(n[0],e,r,i);for(var s=new Et(0,0,0,0),o=0;o<n.length;o++){var u=bO(n[o],e,r,i);o===0?s.copy(u):s.union(u)}return s}function r1(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function bd(t,e,r){return r==="middle"?t-=e/2:r==="bottom"&&(t-=e),t}function _b(t){return ts("国",t)}function xo(t,e){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function _3(t,e,r){var i=e.position||"inside",n=e.distance!=null?e.distance:5,a=r.height,s=r.width,o=a/2,u=r.x,l=r.y,c="left",h="top";if(i instanceof Array)u+=xo(i[0],r.width),l+=xo(i[1],r.height),c=null,h=null;else switch(i){case"left":u-=n,l+=o,c="right",h="middle";break;case"right":u+=n+s,l+=o,h="middle";break;case"top":u+=s/2,l-=n,c="center",h="bottom";break;case"bottom":u+=s/2,l+=a+n,c="center";break;case"inside":u+=s/2,l+=o,c="center",h="middle";break;case"insideLeft":u+=n,l+=o,h="middle";break;case"insideRight":u+=s-n,l+=o,c="right",h="middle";break;case"insideTop":u+=s/2,l+=n,c="center";break;case"insideBottom":u+=s/2,l+=a-n,c="center",h="bottom";break;case"insideTopLeft":u+=n,l+=n;break;case"insideTopRight":u+=s-n,l+=n,c="right";break;case"insideBottomLeft":u+=n,l+=a-n,h="bottom";break;case"insideBottomRight":u+=s-n,l+=a-n,c="right",h="bottom";break}return t=t||{},t.x=u,t.y=l,t.align=c,t.verticalAlign=h,t}var WE="__zr_normal__",YE=yu.concat(["ignore"]),dxe=_o(yu,function(t,e){return t[e]=!0,t},{ignore:!1}),Gf={},pxe=new Et(0,0,0,0),xb=function(){function t(e){this.id=BX(),this.animators=[],this.currentStates=[],this.states={},this._init(e)}return t.prototype._init=function(e){this.attr(e)},t.prototype.drift=function(e,r,i){switch(this.draggable){case"horizontal":r=0;break;case"vertical":e=0;break}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=e,n[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(e){var r=this._textContent;if(r&&(!r.ignore||e)){this.textConfig||(this.textConfig={});var i=this.textConfig,n=i.local,a=r.innerTransformable,s=void 0,o=void 0,u=!1;a.parent=n?this:null;var l=!1;if(a.copyTransform(r),i.position!=null){var c=pxe;i.layoutRect?c.copy(i.layoutRect):c.copy(this.getBoundingRect()),n||c.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(Gf,i,c):_3(Gf,i,c),a.x=Gf.x,a.y=Gf.y,s=Gf.align,o=Gf.verticalAlign;var h=i.origin;if(h&&i.rotation!=null){var f=void 0,d=void 0;h==="center"?(f=c.width*.5,d=c.height*.5):(f=xo(h[0],c.width),d=xo(h[1],c.height)),l=!0,a.originX=-a.x+f+(n?0:c.x),a.originY=-a.y+d+(n?0:c.y)}}i.rotation!=null&&(a.rotation=i.rotation);var p=i.offset;p&&(a.x+=p[0],a.y+=p[1],l||(a.originX=-p[0],a.originY=-p[1]));var g=i.inside==null?typeof i.position=="string"&&i.position.indexOf("inside")>=0:i.inside,v=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),m=void 0,y=void 0,_=void 0;g&&this.canBeInsideText()?(m=i.insideFill,y=i.insideStroke,(m==null||m==="auto")&&(m=this.getInsideTextFill()),(y==null||y==="auto")&&(y=this.getInsideTextStroke(m),_=!0)):(m=i.outsideFill,y=i.outsideStroke,(m==null||m==="auto")&&(m=this.getOutsideFill()),(y==null||y==="auto")&&(y=this.getOutsideStroke(m),_=!0)),m=m||"#000",(m!==v.fill||y!==v.stroke||_!==v.autoStroke||s!==v.align||o!==v.verticalAlign)&&(u=!0,v.fill=m,v.stroke=y,v.autoStroke=_,v.align=s,v.verticalAlign=o,r.setDefaultTextStyle(v)),r.__dirty|=ou,u&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(e){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?D8:w8},t.prototype.getOutsideStroke=function(e){var r=this.__zr&&this.__zr.getBackgroundColor(),i=typeof r=="string"&&ua(r);i||(i=[255,255,255,1]);for(var n=i[3],a=this.__zr.isDarkMode(),s=0;s<3;s++)i[s]=i[s]*n+(a?0:255)*(1-n);return i[3]=1,il(i,"rgba")},t.prototype.traverse=function(e,r){},t.prototype.attrKV=function(e,r){e==="textConfig"?this.setTextConfig(r):e==="textContent"?this.setTextContent(r):e==="clipPath"?this.setClipPath(r):e==="extra"?(this.extra=this.extra||{},Ce(this.extra,r)):this[e]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(e,r){if(typeof e=="string")this.attrKV(e,r);else if(lt(e))for(var i=e,n=kt(i),a=0;a<n.length;a++){var s=n[a];this.attrKV(s,e[s])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(e){this._innerSaveToNormal(e);for(var r=this._normalState,i=0;i<this.animators.length;i++){var n=this.animators[i],a=n.__fromStateTransition;if(!(n.getLoop()||a&&a!==WE)){var s=n.targetName,o=s?r[s]:r;n.saveTo(o)}}},t.prototype._innerSaveToNormal=function(e){var r=this._normalState;r||(r=this._normalState={}),e.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(e,r,YE)},t.prototype._savePrimaryToNormal=function(e,r,i){for(var n=0;n<i.length;n++){var a=i[n];e[a]!=null&&!(a in r)&&(r[a]=this[a])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(e){return this.states[e]},t.prototype.ensureState=function(e){var r=this.states;return r[e]||(r[e]={}),r[e]},t.prototype.clearStates=function(e){this.useState(WE,!1,e)},t.prototype.useState=function(e,r,i,n){var a=e===WE,s=this.hasState();if(!(!s&&a)){var o=this.currentStates,u=this.stateTransition;if(!(wt(o,e)>=0&&(r||o.length===1))){var l;if(this.stateProxy&&!a&&(l=this.stateProxy(e)),l||(l=this.states&&this.states[e]),!l&&!a){W7("State "+e+" not exists.");return}a||this.saveCurrentToNormalState(l);var c=!!(l&&l.hoverLayer||n);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(e,l,this._normalState,r,!i&&!this.__inHover&&u&&u.duration>0,u);var h=this._textContent,f=this._textGuide;return h&&h.useState(e,r,i,c),f&&f.useState(e,r,i,c),a?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(e):this.currentStates=[e],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}}},t.prototype.useStates=function(e,r,i){if(!e.length)this.clearStates();else{var n=[],a=this.currentStates,s=e.length,o=s===a.length;if(o){for(var u=0;u<s;u++)if(e[u]!==a[u]){o=!1;break}}if(o)return;for(var u=0;u<s;u++){var l=e[u],c=void 0;this.stateProxy&&(c=this.stateProxy(l,e)),c||(c=this.states[l]),c&&n.push(c)}var h=n[s-1],f=!!(h&&h.hoverLayer||i);f&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(n),p=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(e.join(","),d,this._normalState,!1,!r&&!this.__inHover&&p&&p.duration>0,p);var g=this._textContent,v=this._textGuide;g&&g.useStates(e,r,f),v&&v.useStates(e,r,f),this._updateAnimationTargets(),this.currentStates=e.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},t.prototype.isSilent=function(){for(var e=this.silent,r=this.parent;!e&&r;){if(r.silent){e=!0;break}r=r.parent}return e},t.prototype._updateAnimationTargets=function(){for(var e=0;e<this.animators.length;e++){var r=this.animators[e];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(e){var r=wt(this.currentStates,e);if(r>=0){var i=this.currentStates.slice();i.splice(r,1),this.useStates(i)}},t.prototype.replaceState=function(e,r,i){var n=this.currentStates.slice(),a=wt(n,e),s=wt(n,r)>=0;a>=0?s?n.splice(a,1):n[a]=r:i&&!s&&n.push(r),this.useStates(n)},t.prototype.toggleState=function(e,r){r?this.useState(e,!0):this.removeState(e)},t.prototype._mergeStates=function(e){for(var r={},i,n=0;n<e.length;n++){var a=e[n];Ce(r,a),a.textConfig&&(i=i||{},Ce(i,a.textConfig))}return i&&(r.textConfig=i),r},t.prototype._applyStateObj=function(e,r,i,n,a,s){var o=!(r&&n);r&&r.textConfig?(this.textConfig=Ce({},n?this.textConfig:i.textConfig),Ce(this.textConfig,r.textConfig)):o&&i.textConfig&&(this.textConfig=i.textConfig);for(var u={},l=!1,c=0;c<YE.length;c++){var h=YE[c],f=a&&dxe[h];r&&r[h]!=null?f?(l=!0,u[h]=r[h]):this[h]=r[h]:o&&i[h]!=null&&(f?(l=!0,u[h]=i[h]):this[h]=i[h])}if(!a)for(var c=0;c<this.animators.length;c++){var d=this.animators[c],p=d.targetName;d.getLoop()||d.__changeFinalValue(p?(r||i)[p]:r||i)}l&&this._transitionState(e,u,s)},t.prototype._attachComponent=function(e){if(!(e.__zr&&!e.__hostTarget)&&e!==this){var r=this.__zr;r&&e.addSelfToZr(r),e.__zr=r,e.__hostTarget=this}},t.prototype._detachComponent=function(e){e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(e){this._clipPath&&this._clipPath!==e&&this.removeClipPath(),this._attachComponent(e),this._clipPath=e,this.markRedraw()},t.prototype.removeClipPath=function(){var e=this._clipPath;e&&(this._detachComponent(e),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(e){var r=this._textContent;r!==e&&(r&&r!==e&&this.removeTextContent(),e.innerTransformable=new Ju,this._attachComponent(e),this._textContent=e,this.markRedraw())},t.prototype.setTextConfig=function(e){this.textConfig||(this.textConfig={}),Ce(this.textConfig,e),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var e=this._textContent;e&&(e.innerTransformable=null,this._detachComponent(e),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(e){this._textGuide&&this._textGuide!==e&&this.removeTextGuideLine(),this._attachComponent(e),this._textGuide=e,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var e=this._textGuide;e&&(this._detachComponent(e),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=ou;var e=this.__zr;e&&(this.__inHover?e.refreshHover():e.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(e){this.__inHover=e;var r=this._textContent,i=this._textGuide;r&&(r.__inHover=e),i&&(i.__inHover=e)},t.prototype.addSelfToZr=function(e){if(this.__zr!==e){this.__zr=e;var r=this.animators;if(r)for(var i=0;i<r.length;i++)e.animation.addAnimator(r[i]);this._clipPath&&this._clipPath.addSelfToZr(e),this._textContent&&this._textContent.addSelfToZr(e),this._textGuide&&this._textGuide.addSelfToZr(e)}},t.prototype.removeSelfFromZr=function(e){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var i=0;i<r.length;i++)e.animation.removeAnimator(r[i]);this._clipPath&&this._clipPath.removeSelfFromZr(e),this._textContent&&this._textContent.removeSelfFromZr(e),this._textGuide&&this._textGuide.removeSelfFromZr(e)}},t.prototype.animate=function(e,r,i){var n=e?this[e]:this,a=new yb(n,r,i);return e&&(a.targetName=e),this.addAnimator(a,e),a},t.prototype.addAnimator=function(e,r){var i=this.__zr,n=this;e.during(function(){n.updateDuringAnimation(r)}).done(function(){var a=n.animators,s=wt(a,e);s>=0&&a.splice(s,1)}),this.animators.push(e),i&&i.animation.addAnimator(e),i&&i.wakeUp()},t.prototype.updateDuringAnimation=function(e){this.markRedraw()},t.prototype.stopAnimation=function(e,r){for(var i=this.animators,n=i.length,a=[],s=0;s<n;s++){var o=i[s];!e||e===o.scope?o.stop(r):a.push(o)}return this.animators=a,this},t.prototype.animateTo=function(e,r,i){qE(this,e,r,i)},t.prototype.animateFrom=function(e,r,i){qE(this,e,r,i,!0)},t.prototype._transitionState=function(e,r,i,n){for(var a=qE(this,r,i,n),s=0;s<a.length;s++)a[s].__fromStateTransition=e},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=ou;function r(i,n,a,s){Object.defineProperty(e,i,{get:function(){if(!this[n]){var u=this[n]=[];o(this,u)}return this[n]},set:function(u){this[a]=u[0],this[s]=u[1],this[n]=u,o(this,u)}});function o(u,l){Object.defineProperty(l,0,{get:function(){return u[a]},set:function(c){u[a]=c}}),Object.defineProperty(l,1,{get:function(){return u[s]},set:function(c){u[s]=c}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();yi(xb,Us);yi(xb,Ju);function qE(t,e,r,i,n){r=r||{};var a=[];aZ(t,"",t,e,r,i,a,n);var s=a.length,o=!1,u=r.done,l=r.aborted,c=function(){o=!0,s--,s<=0&&(o?u&&u():l&&l())},h=function(){s--,s<=0&&(o?u&&u():l&&l())};s||u&&u(),a.length>0&&r.during&&a[0].during(function(p,g){r.during(g)});for(var f=0;f<a.length;f++){var d=a[f];c&&d.done(c),h&&d.aborted(h),r.force&&d.duration(r.duration),d.start(r.easing)}return a}function XE(t,e,r){for(var i=0;i<r;i++)t[i]=e[i]}function gxe(t){return Gn(t[0])}function vxe(t,e,r){if(Gn(e[r]))if(Gn(t[r])||(t[r]=[]),ka(e[r])){var i=e[r].length;t[r].length!==i&&(t[r]=new e[r].constructor(i),XE(t[r],e[r],i))}else{var n=e[r],a=t[r],s=n.length;if(gxe(n))for(var o=n[0].length,u=0;u<s;u++)a[u]?XE(a[u],n[u],o):a[u]=Array.prototype.slice.call(n[u]);else XE(a,n,s);a.length=n.length}else t[r]=e[r]}function mxe(t,e){return t===e||Gn(t)&&Gn(e)&&yxe(t,e)}function yxe(t,e){var r=t.length;if(r!==e.length)return!1;for(var i=0;i<r;i++)if(t[i]!==e[i])return!1;return!0}function aZ(t,e,r,i,n,a,s,o){for(var u=kt(i),l=n.duration,c=n.delay,h=n.additive,f=n.setToFinal,d=!lt(a),p=t.animators,g=[],v=0;v<u.length;v++){var m=u[v],y=i[m];if(y!=null&&r[m]!=null&&(d||a[m]))if(lt(y)&&!Gn(y)&&!pb(y)){if(e){o||(r[m]=y,t.updateDuringAnimation(e));continue}aZ(t,m,r[m],y,n,a&&a[m],s,o)}else g.push(m);else o||(r[m]=y,t.updateDuringAnimation(e),g.push(m))}var _=g.length;if(!h&&_)for(var x=0;x<p.length;x++){var b=p[x];if(b.targetName===e){var C=b.stopTracks(g);if(C){var E=wt(p,b);p.splice(E,1)}}}if(n.force||(g=sr(g,function(D){return!mxe(i[D],r[D])}),_=g.length),_>0||n.force&&!s.length){var A=void 0,S=void 0,T=void 0;if(o){S={},f&&(A={});for(var x=0;x<_;x++){var m=g[x];S[m]=r[m],f?A[m]=i[m]:r[m]=i[m]}}else if(f){T={};for(var x=0;x<_;x++){var m=g[x];T[m]=O1(r[m]),vxe(r,i,m)}}var b=new yb(r,!1,!1,h?sr(p,function(F){return F.targetName===e}):null);b.targetName=e,n.scope&&(b.scope=n.scope),f&&A&&b.whenWithKeys(0,A,g),T&&b.whenWithKeys(0,T,g),b.whenWithKeys(l??500,o?S:i,g).delay(c||0),t.addAnimator(b,e),s.push(b)}}var dt=function(t){ce(e,t);function e(r){var i=t.call(this)||this;return i.isGroup=!0,i._children=[],i.attr(r),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(r){return this._children[r]},e.prototype.childOfName=function(r){for(var i=this._children,n=0;n<i.length;n++)if(i[n].name===r)return i[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},e.prototype.addBefore=function(r,i){if(r&&r!==this&&r.parent!==this&&i&&i.parent===this){var n=this._children,a=n.indexOf(i);a>=0&&(n.splice(a,0,r),this._doAdd(r))}return this},e.prototype.replace=function(r,i){var n=wt(this._children,r);return n>=0&&this.replaceAt(i,n),this},e.prototype.replaceAt=function(r,i){var n=this._children,a=n[i];if(r&&r!==this&&r.parent!==this&&r!==a){n[i]=r,a.parent=null;var s=this.__zr;s&&a.removeSelfFromZr(s),this._doAdd(r)}return this},e.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var i=this.__zr;i&&i!==r.__zr&&r.addSelfToZr(i),i&&i.refresh()},e.prototype.remove=function(r){var i=this.__zr,n=this._children,a=wt(n,r);return a<0?this:(n.splice(a,1),r.parent=null,i&&r.removeSelfFromZr(i),i&&i.refresh(),this)},e.prototype.removeAll=function(){for(var r=this._children,i=this.__zr,n=0;n<r.length;n++){var a=r[n];i&&a.removeSelfFromZr(i),a.parent=null}return r.length=0,this},e.prototype.eachChild=function(r,i){for(var n=this._children,a=0;a<n.length;a++){var s=n[a];r.call(i,s,a)}return this},e.prototype.traverse=function(r,i){for(var n=0;n<this._children.length;n++){var a=this._children[n],s=r.call(i,a);a.isGroup&&!s&&a.traverse(r,i)}return this},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.addSelfToZr(r)}},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var i=0;i<this._children.length;i++){var n=this._children[i];n.removeSelfFromZr(r)}},e.prototype.getBoundingRect=function(r){for(var i=new Et(0,0,0,0),n=r||this._children,a=[],s=null,o=0;o<n.length;o++){var u=n[o];if(!(u.ignore||u.invisible)){var l=u.getBoundingRect(),c=u.getLocalTransform(a);c?(Et.applyTransform(i,l,c),s=s||i.clone(),s.union(i)):(s=s||l.clone(),s.union(l))}}return s||i},e}(xb);dt.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var jx={},sZ={};function _xe(t){delete sZ[t]}function xxe(t){if(!t)return!1;if(typeof t=="string")return v3(t,1)<A8;if(t.colorStops){for(var e=t.colorStops,r=0,i=e.length,n=0;n<i;n++)r+=v3(e[n].color,1);return r/=i,r<A8}return!1}var bxe=function(){function t(e,r,i){var n=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,i=i||{},this.dom=r,this.id=e;var a=new L_e,s=i.renderer||"canvas";jx[s]||(s=kt(jx)[0]),i.useDirtyRect=i.useDirtyRect==null?!1:i.useDirtyRect;var o=new jx[s](r,a,i,e),u=i.ssr||o.ssrOnly;this.storage=a,this.painter=o;var l=!Lt.node&&!Lt.worker&&!u?new cxe(o.getViewportRoot(),o.root):null,c=i.useCoarsePointer,h=c==null||c==="auto"?Lt.touchEventsSupported:!!c,f=44,d;h&&(d=gt(i.pointerSize,f)),this.handler=new NX(a,o,l,o.root,d),this.animation=new ixe({stage:{update:u?null:function(){return n._flush(!0)}}}),u||this.animation.start()}return t.prototype.add=function(e){this._disposed||!e||(this.storage.addRoot(e),e.addSelfToZr(this),this.refresh())},t.prototype.remove=function(e){this._disposed||!e||(this.storage.delRoot(e),e.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(e,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(e,r),this.refresh())},t.prototype.setBackgroundColor=function(e){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this.refresh(),this._backgroundColor=e,this._darkMode=xxe(e))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(e){this._darkMode=e},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(e){this._disposed||(e||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(e){var r,i=Id();this._needsRefresh&&(r=!0,this.refreshImmediately(e)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var n=Id();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:n-i})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(e){this._sleepAfterStill=e},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(e){this._disposed||(e=e||{},this.painter.resize(e.width,e.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(e){this._disposed||this.handler.setCursorStyle(e)},t.prototype.findHover=function(e,r){if(!this._disposed)return this.handler.findHover(e,r)},t.prototype.on=function(e,r,i){return this._disposed||this.handler.on(e,r,i),this},t.prototype.off=function(e,r){this._disposed||this.handler.off(e,r)},t.prototype.trigger=function(e,r){this._disposed||this.handler.trigger(e,r)},t.prototype.clear=function(){if(!this._disposed){for(var e=this.storage.getRoots(),r=0;r<e.length;r++)e[r]instanceof dt&&e[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,_xe(this.id))},t}();function F8(t,e){var r=new bxe(BX(),t,e);return sZ[r.id]=r,r}function Cxe(t,e){jx[t]=e}var I8;function Exe(t){if(typeof I8=="function")return I8(t)}function Sxe(t){I8=t}var Txe=1e-4,oZ=20;function Axe(t){return t.replace(/^\s+|\s+$/g,"")}function nr(t,e,r,i){var n=e[0],a=e[1],s=r[0],o=r[1],u=a-n,l=o-s;if(u===0)return l===0?s:(s+o)/2;if(i)if(u>0){if(t<=n)return s;if(t>=a)return o}else{if(t>=n)return s;if(t<=a)return o}else{if(t===n)return s;if(t===a)return o}return(t-n)/u*l+s}function je(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return Xe(t)?Axe(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):t==null?NaN:+t}function Rr(t,e,r){return e==null&&(e=10),e=Math.min(Math.max(0,e),oZ),t=(+t).toFixed(e),r?t:+t}function Ds(t){return t.sort(function(e,r){return e-r}),t}function Zo(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var e=1,r=0;r<15;r++,e*=10)if(Math.round(t*e)/e===t)return r}return r9(t)}function r9(t){var e=t.toString().toLowerCase(),r=e.indexOf("e"),i=r>0?+e.slice(r+1):0,n=r>0?r:e.length,a=e.indexOf("."),s=a<0?0:n-1-a;return Math.max(0,s-i)}function uZ(t,e){var r=Math.log,i=Math.LN10,n=Math.floor(r(t[1]-t[0])/i),a=Math.round(r(Math.abs(e[1]-e[0]))/i),s=Math.min(Math.max(-n+a,0),20);return isFinite(s)?s:20}function wxe(t,e){var r=_o(t,function(d,p){return d+(isNaN(p)?0:p)},0);if(r===0)return[];for(var i=Math.pow(10,e),n=Ie(t,function(d){return(isNaN(d)?0:d)/r*i*100}),a=i*100,s=Ie(n,function(d){return Math.floor(d)}),o=_o(s,function(d,p){return d+p},0),u=Ie(n,function(d,p){return d-s[p]});o<a;){for(var l=Number.NEGATIVE_INFINITY,c=null,h=0,f=u.length;h<f;++h)u[h]>l&&(l=u[h],c=h);++s[c],u[c]=0,++o}return Ie(s,function(d){return d/i})}function Dxe(t,e){var r=Math.max(Zo(t),Zo(e)),i=t+e;return r>oZ?i:Rr(i,r)}var CO=9007199254740991;function lZ(t){var e=Math.PI*2;return(t%e+e)%e}function D2(t){return t>-1e-4&&t<Txe}var Fxe=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ks(t){if(t instanceof Date)return t;if(Xe(t)){var e=Fxe.exec(t);if(!e)return new Date(NaN);if(e[8]){var r=+e[4]||0;return e[8].toUpperCase()!=="Z"&&(r-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,r,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}else return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function Ixe(t){return Math.pow(10,i9(t))}function i9(t){if(t===0)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function cZ(t,e){var r=i9(t),i=Math.pow(10,r),n=t/i,a;return n<1.5?a=1:n<2.5?a=2:n<4?a=3:n<7?a=5:a=10,t=a*i,r>=-20?+t.toFixed(r<0?-r:0):t}function ZE(t,e){var r=(t.length-1)*e+1,i=Math.floor(r),n=+t[i-1],a=r-i;return a?n+a*(t[i]-n):n}function EO(t){t.sort(function(u,l){return o(u,l,0)?-1:1});for(var e=-1/0,r=1,i=0;i<t.length;){for(var n=t[i].interval,a=t[i].close,s=0;s<2;s++)n[s]<=e&&(n[s]=e,a[s]=s?1:1-r),e=n[s],r=a[s];n[0]===n[1]&&a[0]*a[1]!==1?t.splice(i,1):i++}return t;function o(u,l,c){return u.interval[c]<l.interval[c]||u.interval[c]===l.interval[c]&&(u.close[c]-l.close[c]===(c?-1:1)||!c&&o(u,l,1))}}function dl(t){var e=parseFloat(t);return e==t&&(e!==0||!Xe(t)||t.indexOf("x")<=0)?e:NaN}function hZ(t){return!isNaN(dl(t))}function fZ(){return Math.round(Math.random()*9)}function dZ(t,e){return e===0?t:dZ(e,t%e)}function SO(t,e){return t==null?e:e==null?t:t*e/dZ(t,e)}function ar(t){throw new Error(t)}function TO(t,e,r){return(e-t)*r+t}var pZ="series\0",gZ="\0_ec_\0";function mr(t){return t instanceof Array?t:t==null?[]:[t]}function Zh(t,e,r){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,n=r.length;i<n;i++){var a=r[i];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var AO=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function ug(t){return lt(t)&&!Te(t)&&!(t instanceof Date)?t.value:t}function Bxe(t){return lt(t)&&!(t instanceof Array)}function vZ(t,e,r){var i=r==="normalMerge",n=r==="replaceMerge",a=r==="replaceAll";t=t||[],e=(e||[]).slice();var s=nt();G(e,function(u,l){if(!lt(u)){e[l]=null;return}});var o=Mxe(t,s,r);return(i||n)&&Pxe(o,t,s,e),i&&Lxe(o,e),i||n?Oxe(o,e,n):a&&Rxe(o,e),Nxe(o),o}function Mxe(t,e,r){var i=[];if(r==="replaceAll")return i;for(var n=0;n<t.length;n++){var a=t[n];a&&a.id!=null&&e.set(a.id,n),i.push({existing:r==="replaceMerge"||F2(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return i}function Pxe(t,e,r,i){G(i,function(n,a){if(!(!n||n.id==null)){var s=R1(n.id),o=r.get(s);if(o!=null){var u=t[o];ha(!u.newOption,'Duplicated option on id "'+s+'".'),u.newOption=n,u.existing=e[o],i[a]=null}}})}function Lxe(t,e){G(e,function(r,i){if(!(!r||r.name==null))for(var n=0;n<t.length;n++){var a=t[n].existing;if(!t[n].newOption&&a&&(a.id==null||r.id==null)&&!F2(r)&&!F2(a)&&mZ("name",a,r)){t[n].newOption=r,e[i]=null;return}}})}function Oxe(t,e,r){G(e,function(i){if(i){for(var n,a=0;(n=t[a])&&(n.newOption||F2(n.existing)||n.existing&&i.id!=null&&!mZ("id",i,n.existing));)a++;n?(n.newOption=i,n.brandNew=r):t.push({newOption:i,brandNew:r,existing:null,keyInfo:null}),a++}})}function Rxe(t,e){G(e,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function Nxe(t){var e=nt();G(t,function(r){var i=r.existing;i&&e.set(i.id,r)}),G(t,function(r){var i=r.newOption;ha(!i||i.id==null||!e.get(i.id)||e.get(i.id)===r,"id duplicates: "+(i&&i.id)),i&&i.id!=null&&e.set(i.id,r),!r.keyInfo&&(r.keyInfo={})}),G(t,function(r,i){var n=r.existing,a=r.newOption,s=r.keyInfo;if(lt(a)){if(s.name=a.name!=null?R1(a.name):n?n.name:pZ+i,n)s.id=R1(n.id);else if(a.id!=null)s.id=R1(a.id);else{var o=0;do s.id="\0"+s.name+"\0"+o++;while(e.get(s.id))}e.set(s.id,r)}})}function mZ(t,e,r){var i=Oi(e[t],null),n=Oi(r[t],null);return i!=null&&n!=null&&i===n}function R1(t){return Oi(t,"")}function Oi(t,e){return t==null?e:Xe(t)?t:Zt(t)||u8(t)?t+"":e}function n9(t){var e=t.name;return!!(e&&e.indexOf(pZ))}function F2(t){return t&&t.id!=null&&R1(t.id).indexOf(gZ)===0}function kxe(t){return gZ+t}function zxe(t,e,r){G(t,function(i){var n=i.newOption;lt(n)&&(i.keyInfo.mainType=e,i.keyInfo.subType=Hxe(e,n,i.existing,r))})}function Hxe(t,e,r,i){var n=e.type?e.type:r?r.subType:i.determineSubType(t,e);return n}function Gxe(t,e){var r={},i={};return n(t||[],r),n(e||[],i,r),[a(r),a(i)];function n(s,o,u){for(var l=0,c=s.length;l<c;l++){var h=Oi(s[l].seriesId,null);if(h==null)return;for(var f=mr(s[l].dataIndex),d=u&&u[h],p=0,g=f.length;p<g;p++){var v=f[p];d&&d[v]?d[v]=null:(o[h]||(o[h]={}))[v]=1}}}function a(s,o){var u=[];for(var l in s)if(s.hasOwnProperty(l)&&s[l]!=null)if(o)u.push(+l);else{var c=a(s[l],!0);c.length&&u.push({seriesId:l,dataIndex:c})}return u}}function Kh(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Te(e.dataIndex)?Ie(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Te(e.name)?Ie(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}function Yt(){var t="__ec_inner_"+Uxe++;return function(e){return e[t]||(e[t]={})}}var Uxe=fZ();function N1(t,e,r){var i=a9(e,r),n=i.mainTypeSpecified,a=i.queryOptionMap,s=i.others,o=s,u=r?r.defaultMainType:null;return!n&&u&&a.set(u,{}),a.each(function(l,c){var h=Tm(t,c,l,{useDefault:u===c,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});o[c+"Models"]=h.models,o[c+"Model"]=h.models[0]}),o}function a9(t,e){var r;if(Xe(t)){var i={};i[t+"Index"]=0,r=i}else r=t;var n=nt(),a={},s=!1;return G(r,function(o,u){if(u==="dataIndex"||u==="dataIndexInside"){a[u]=o;return}var l=u.match(/^(\w+)(Index|Id|Name)$/)||[],c=l[1],h=(l[2]||"").toLowerCase();if(!(!c||!h||e&&e.includeMainTypes&&wt(e.includeMainTypes,c)<0)){s=s||!!c;var f=n.get(c)||n.set(c,{});f[h]=o}}),{mainTypeSpecified:s,queryOptionMap:n,others:a}}var wi={useDefault:!0,enableAll:!1,enableNone:!1},jxe={useDefault:!1,enableAll:!0,enableNone:!0};function Tm(t,e,r,i){i=i||wi;var n=r.index,a=r.id,s=r.name,o={models:null,specified:n!=null||a!=null||s!=null};if(!o.specified){var u=void 0;return o.models=i.useDefault&&(u=t.getComponent(e))?[u]:[],o}return n==="none"||n===!1?(ha(i.enableNone,'`"none"` or `false` is not a valid value on index option.'),o.models=[],o):(n==="all"&&(ha(i.enableAll,'`"all"` is not a valid value on index option.'),n=a=s=null),o.models=t.queryComponents({mainType:e,index:n,id:a,name:s}),o)}function yZ(t,e,r){t.setAttribute?t.setAttribute(e,r):t[e]=r}function Vxe(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function $xe(t){return t==="auto"?Lt.domSupported?"html":"richText":t||"html"}function B8(t,e){var r=nt(),i=[];return G(t,function(n){var a=e(n);(r.get(a)||(i.push(a),r.set(a,[]))).push(n)}),{keys:i,buckets:r}}function _Z(t,e,r,i,n){var a=e==null||e==="auto";if(i==null)return i;if(Zt(i)){var s=TO(r||0,i,n);return Rr(s,a?Math.max(Zo(r||0),Zo(i)):e)}else{if(Xe(i))return n<1?r:i;for(var o=[],u=r,l=i,c=Math.max(u?u.length:0,l.length),h=0;h<c;++h){var f=t.getDimensionInfo(h);if(f&&f.type==="ordinal")o[h]=(n<1&&u?u:l)[h];else{var d=u&&u[h]?u[h]:0,p=l[h],s=TO(d,p,n);o[h]=Rr(s,a?Math.max(Zo(d),Zo(p)):e)}}return o}}var Wxe=".",y0="___EC__COMPONENT__CONTAINER___",xZ="___EC__EXTENDED_CLASS___";function Ko(t){var e={main:"",sub:""};if(t){var r=t.split(Wxe);e.main=r[0]||"",e.sub=r[1]||""}return e}function Yxe(t){ha(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function qxe(t){return!!(t&&t[xZ])}function s9(t,e){t.$constructor=t,t.extend=function(r){var i=this,n;return Xxe(i)?n=function(a){ce(s,a);function s(){return a.apply(this,arguments)||this}return s}(i):(n=function(){(r.$constructor||i).apply(this,arguments)},q7(n,this)),Ce(n.prototype,r),n[xZ]=!0,n.extend=this.extend,n.superCall=Jxe,n.superApply=Qxe,n.superClass=i,n}}function Xxe(t){return ot(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function bZ(t,e){t.extend=e.extend}var Zxe=Math.round(Math.random()*10);function Kxe(t){var e=["__\0is_clz",Zxe++].join("_");t.prototype[e]=!0,t.isInstance=function(r){return!!(r&&r[e])}}function Jxe(t,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,r)}function Qxe(t,e,r){return this.superClass.prototype[e].apply(t,r)}function bb(t){var e={};t.registerClass=function(i){var n=i.type||i.prototype.type;if(n){Yxe(n),i.prototype.type=n;var a=Ko(n);if(!a.sub)e[a.main]=i;else if(a.sub!==y0){var s=r(a);s[a.sub]=i}}return i},t.getClass=function(i,n,a){var s=e[i];if(s&&s[y0]&&(s=n?s[n]:null),a&&!s)throw new Error(n?"Component "+i+"."+(n||"")+" is used but not imported.":i+".type should be specified.");return s},t.getClassesByMainType=function(i){var n=Ko(i),a=[],s=e[n.main];return s&&s[y0]?G(s,function(o,u){u!==y0&&a.push(o)}):a.push(s),a},t.hasClass=function(i){var n=Ko(i);return!!e[n.main]},t.getAllClassMainTypes=function(){var i=[];return G(e,function(n,a){i.push(a)}),i},t.hasSubTypes=function(i){var n=Ko(i),a=e[n.main];return a&&a[y0]};function r(i){var n=e[i.main];return(!n||!n[y0])&&(n=e[i.main]={},n[y0]=!0),n}}function Jh(t,e){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return e=e||!1,function(i,n,a){for(var s={},o=0;o<t.length;o++){var u=t[o][1];if(!(n&&wt(n,u)>=0||a&&wt(a,u)<0)){var l=i.getShallow(u,e);l!=null&&(s[t[o][0]]=l)}}return s}}var e5e=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],t5e=Jh(e5e),r5e=function(){function t(){}return t.prototype.getAreaStyle=function(e,r){return t5e(this,e,r)},t}(),M8=new og(50);function i5e(t){if(typeof t=="string"){var e=M8.get(t);return e&&e.image}else return t}function o9(t,e,r,i,n){if(t)if(typeof t=="string"){if(e&&e.__zrImageSrc===t||!r)return e;var a=M8.get(t),s={hostEl:r,cb:i,cbPayload:n};return a?(e=a.image,!Cb(e)&&a.pending.push(s)):(e=Oc.loadImage(t,wO,wO),e.__zrImageSrc=t,M8.put(t,e.__cachedImgObj={image:e,pending:[s]})),e}else return t;else return e}function wO(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var r=t.pending[e],i=r.cb;i&&i(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function Cb(t){return t&&t.width&&t.height}var KE=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function n5e(t,e,r,i,n,a){if(!r){t.text="",t.isTruncated=!1;return}var s=(e+"").split(`
`);a=CZ(r,i,n,a);for(var o=!1,u={},l=0,c=s.length;l<c;l++)EZ(u,s[l],a),s[l]=u.textLine,o=o||u.isTruncated;t.text=s.join(`
`),t.isTruncated=o}function CZ(t,e,r,i){i=i||{};var n=Ce({},i);n.font=e,r=gt(r,"..."),n.maxIterations=gt(i.maxIterations,2);var a=n.minChar=gt(i.minChar,0);n.cnCharWidth=ts("国",e);var s=n.ascCharWidth=ts("a",e);n.placeholder=gt(i.placeholder,"");for(var o=t=Math.max(0,t-1),u=0;u<a&&o>=s;u++)o-=s;var l=ts(r,e);return l>o&&(r="",l=0),o=t-l,n.ellipsis=r,n.ellipsisWidth=l,n.contentWidth=o,n.containerWidth=t,n}function EZ(t,e,r){var i=r.containerWidth,n=r.font,a=r.contentWidth;if(!i){t.textLine="",t.isTruncated=!1;return}var s=ts(e,n);if(s<=i){t.textLine=e,t.isTruncated=!1;return}for(var o=0;;o++){if(s<=a||o>=r.maxIterations){e+=r.ellipsis;break}var u=o===0?a5e(e,a,r.ascCharWidth,r.cnCharWidth):s>0?Math.floor(e.length*a/s):0;e=e.substr(0,u),s=ts(e,n)}e===""&&(e=r.placeholder),t.textLine=e,t.isTruncated=!0}function a5e(t,e,r,i){for(var n=0,a=0,s=t.length;a<s&&n<e;a++){var o=t.charCodeAt(a);n+=0<=o&&o<=127?r:i}return a}function s5e(t,e){t!=null&&(t+="");var r=e.overflow,i=e.padding,n=e.font,a=r==="truncate",s=_b(n),o=gt(e.lineHeight,s),u=!!e.backgroundColor,l=e.lineOverflow==="truncate",c=!1,h=e.width,f;h!=null&&(r==="break"||r==="breakAll")?f=t?SZ(t,e.font,h,r==="breakAll",0).lines:[]:f=t?t.split(`
`):[];var d=f.length*o,p=gt(e.height,d);if(d>p&&l){var g=Math.floor(p/o);c=c||f.length>g,f=f.slice(0,g)}if(t&&a&&h!=null)for(var v=CZ(h,n,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),m={},y=0;y<f.length;y++)EZ(m,f[y],v),f[y]=m.textLine,c=c||m.isTruncated;for(var _=p,x=0,y=0;y<f.length;y++)x=Math.max(ts(f[y],n),x);h==null&&(h=x);var b=x;return i&&(_+=i[0]+i[2],b+=i[1]+i[3],h+=i[1]+i[3]),u&&(b=h),{lines:f,height:p,outerWidth:b,outerHeight:_,lineHeight:o,calculatedLineHeight:s,contentWidth:x,contentHeight:d,width:h,isTruncated:c}}var o5e=function(){function t(){}return t}(),DO=function(){function t(e){this.tokens=[],e&&(this.tokens=e)}return t}(),u5e=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t}();function l5e(t,e){var r=new u5e;if(t!=null&&(t+=""),!t)return r;for(var i=e.width,n=e.height,a=e.overflow,s=(a==="break"||a==="breakAll")&&i!=null?{width:i,accumWidth:0,breakAll:a==="breakAll"}:null,o=KE.lastIndex=0,u;(u=KE.exec(t))!=null;){var l=u.index;l>o&&JE(r,t.substring(o,l),e,s),JE(r,u[2],e,s,u[1]),o=KE.lastIndex}o<t.length&&JE(r,t.substring(o,t.length),e,s);var c=[],h=0,f=0,d=e.padding,p=a==="truncate",g=e.lineOverflow==="truncate",v={};function m(V,j,Y){V.width=j,V.lineHeight=Y,h+=Y,f=Math.max(f,j)}e:for(var y=0;y<r.lines.length;y++){for(var _=r.lines[y],x=0,b=0,C=0;C<_.tokens.length;C++){var E=_.tokens[C],A=E.styleName&&e.rich[E.styleName]||{},S=E.textPadding=A.padding,T=S?S[1]+S[3]:0,D=E.font=A.font||e.font;E.contentHeight=_b(D);var F=gt(A.height,E.contentHeight);if(E.innerHeight=F,S&&(F+=S[0]+S[2]),E.height=F,E.lineHeight=su(A.lineHeight,e.lineHeight,F),E.align=A&&A.align||e.align,E.verticalAlign=A&&A.verticalAlign||"middle",g&&n!=null&&h+E.lineHeight>n){var B=r.lines.length;C>0?(_.tokens=_.tokens.slice(0,C),m(_,b,x),r.lines=r.lines.slice(0,y+1)):r.lines=r.lines.slice(0,y),r.isTruncated=r.isTruncated||r.lines.length<B;break e}var O=A.width,M=O==null||O==="auto";if(typeof O=="string"&&O.charAt(O.length-1)==="%")E.percentWidth=O,c.push(E),E.contentWidth=ts(E.text,D);else{if(M){var R=A.backgroundColor,z=R&&R.image;z&&(z=i5e(z),Cb(z)&&(E.width=Math.max(E.width,z.width*F/z.height)))}var k=p&&i!=null?i-b:null;k!=null&&k<E.width?!M||k<T?(E.text="",E.width=E.contentWidth=0):(n5e(v,E.text,k-T,D,e.ellipsis,{minChar:e.truncateMinChar}),E.text=v.text,r.isTruncated=r.isTruncated||v.isTruncated,E.width=E.contentWidth=ts(E.text,D)):E.contentWidth=ts(E.text,D)}E.width+=T,b+=E.width,A&&(x=Math.max(x,E.lineHeight))}m(_,b,x)}r.outerWidth=r.width=gt(i,f),r.outerHeight=r.height=gt(n,h),r.contentHeight=h,r.contentWidth=f,d&&(r.outerWidth+=d[1]+d[3],r.outerHeight+=d[0]+d[2]);for(var y=0;y<c.length;y++){var E=c[y],U=E.percentWidth;E.width=parseInt(U,10)/100*r.width}return r}function JE(t,e,r,i,n){var a=e==="",s=n&&r.rich[n]||{},o=t.lines,u=s.font||r.font,l=!1,c,h;if(i){var f=s.padding,d=f?f[1]+f[3]:0;if(s.width!=null&&s.width!=="auto"){var p=xo(s.width,i.width)+d;o.length>0&&p+i.accumWidth>i.width&&(c=e.split(`
`),l=!0),i.accumWidth=p}else{var g=SZ(e,u,i.width,i.breakAll,i.accumWidth);i.accumWidth=g.accumWidth+d,h=g.linesWidths,c=g.lines}}else c=e.split(`
`);for(var v=0;v<c.length;v++){var m=c[v],y=new o5e;if(y.styleName=n,y.text=m,y.isLineHolder=!m&&!a,typeof s.width=="number"?y.width=s.width:y.width=h?h[v]:ts(m,u),!v&&!l){var _=(o[o.length-1]||(o[0]=new DO)).tokens,x=_.length;x===1&&_[0].isLineHolder?_[0]=y:(m||!x||a)&&_.push(y)}else o.push(new DO([y]))}}function c5e(t){var e=t.charCodeAt(0);return e>=32&&e<=591||e>=880&&e<=4351||e>=4608&&e<=5119||e>=7680&&e<=8303}var h5e=_o(",&?/;] ".split(""),function(t,e){return t[e]=!0,t},{});function f5e(t){return c5e(t)?!!h5e[t]:!0}function SZ(t,e,r,i,n){for(var a=[],s=[],o="",u="",l=0,c=0,h=0;h<t.length;h++){var f=t.charAt(h);if(f===`
`){u&&(o+=u,c+=l),a.push(o),s.push(c),o="",u="",l=0,c=0;continue}var d=ts(f,e),p=i?!1:!f5e(f);if(a.length?c+d>r:n+c+d>r){c?(o||u)&&(p?(o||(o=u,u="",l=0,c=l),a.push(o),s.push(c-l),u+=f,l+=d,o="",c=l):(u&&(o+=u,u="",l=0),a.push(o),s.push(c),o=f,c=d)):p?(a.push(u),s.push(l),u=f,l=d):(a.push(f),s.push(d));continue}c+=d,p?(u+=f,l+=d):(u&&(o+=u,u="",l=0),o+=f)}return!a.length&&!o&&(o=t,u="",l=0),u&&(o+=u),o&&(a.push(o),s.push(c)),a.length===1&&(c+=n),{accumWidth:c,lines:a,linesWidths:s}}var P8="__zr_style_"+Math.round(Math.random()*10),Ih={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},Eb={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ih[P8]=!0;var FO=["z","z2","invisible"],d5e=["invisible"],zs=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype._init=function(r){for(var i=kt(r),n=0;n<i.length;n++){var a=i[n];a==="style"?this.useStyle(r[a]):t.prototype.attrKV.call(this,a,r[a])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(r,i,n,a){var s=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&p5e(this,r,i)||s&&!s[0]&&!s[3])return!1;if(n&&this.__clipPaths){for(var o=0;o<this.__clipPaths.length;++o)if(this.__clipPaths[o].isZeroArea())return!1}if(a&&this.parent)for(var u=this.parent;u;){if(u.ignore)return!1;u=u.parent}return!0},e.prototype.contain=function(r,i){return this.rectContain(r,i)},e.prototype.traverse=function(r,i){r.call(i,this)},e.prototype.rectContain=function(r,i){var n=this.transformCoordToLocal(r,i),a=this.getBoundingRect();return a.contain(n[0],n[1])},e.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var i=this.transform,n=this.getBoundingRect(),a=this.style,s=a.shadowBlur||0,o=a.shadowOffsetX||0,u=a.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new Et(0,0,0,0)),i?Et.applyTransform(r,n,i):r.copy(n),(s||o||u)&&(r.width+=s*2+Math.abs(o),r.height+=s*2+Math.abs(u),r.x=Math.min(r.x,r.x+o-s),r.y=Math.min(r.y,r.y+u-s));var l=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-l),r.y=Math.floor(r.y-l),r.width=Math.ceil(r.width+1+l*2),r.height=Math.ceil(r.height+1+l*2))}return r},e.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new Et(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(r){return this.animate("style",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(r,i){r!=="style"?t.prototype.attrKV.call(this,r,i):this.style?this.setStyle(i):this.useStyle(i)},e.prototype.setStyle=function(r,i){return typeof r=="string"?this.style[r]=i:Ce(this.style,r),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=zx,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&zx)},e.prototype.styleUpdated=function(){this.__dirty&=-3},e.prototype.createStyle=function(r){return gb(Ih,r)},e.prototype.useStyle=function(r){r[P8]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},e.prototype.isStyleObject=function(r){return r[P8]},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var i=this._normalState;r.style&&!i.style&&(i.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,i,FO)},e.prototype._applyStateObj=function(r,i,n,a,s,o){t.prototype._applyStateObj.call(this,r,i,n,a,s,o);var u=!(i&&a),l;if(i&&i.style?s?a?l=i.style:(l=this._mergeStyle(this.createStyle(),n.style),this._mergeStyle(l,i.style)):(l=this._mergeStyle(this.createStyle(),a?this.style:n.style),this._mergeStyle(l,i.style)):u&&(l=n.style),l)if(s){var c=this.style;if(this.style=this.createStyle(u?{}:c),u)for(var h=kt(c),f=0;f<h.length;f++){var d=h[f];d in l&&(l[d]=l[d],this.style[d]=c[d])}for(var p=kt(l),f=0;f<p.length;f++){var d=p[f];this.style[d]=this.style[d]}this._transitionState(r,{style:l},o,this.getAnimationStyleProps())}else this.useStyle(l);for(var g=this.__inHover?d5e:FO,f=0;f<g.length;f++){var d=g[f];i&&i[d]!=null?this[d]=i[d]:u&&n[d]!=null&&(this[d]=n[d])}},e.prototype._mergeStates=function(r){for(var i=t.prototype._mergeStates.call(this,r),n,a=0;a<r.length;a++){var s=r[a];s.style&&(n=n||{},this._mergeStyle(n,s.style))}return n&&(i.style=n),i},e.prototype._mergeStyle=function(r,i){return Ce(r,i),r},e.prototype.getAnimationStyleProps=function(){return Eb},e.initDefaultProps=function(){var r=e.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=ou|zx}(),e}(xb),QE=new Et(0,0,0,0),eS=new Et(0,0,0,0);function p5e(t,e,r){return QE.copy(t.getBoundingRect()),t.transform&&QE.applyTransform(t.transform),eS.width=e,eS.height=r,!QE.intersect(eS)}var Fa=Math.min,Ia=Math.max,tS=Math.sin,rS=Math.cos,_0=Math.PI*2,e_=xf(),t_=xf(),r_=xf();function Sb(t,e,r){if(t.length!==0){for(var i=t[0],n=i[0],a=i[0],s=i[1],o=i[1],u=1;u<t.length;u++)i=t[u],n=Fa(n,i[0]),a=Ia(a,i[0]),s=Fa(s,i[1]),o=Ia(o,i[1]);e[0]=n,e[1]=s,r[0]=a,r[1]=o}}function IO(t,e,r,i,n,a){n[0]=Fa(t,r),n[1]=Fa(e,i),a[0]=Ia(t,r),a[1]=Ia(e,i)}var BO=[],MO=[];function g5e(t,e,r,i,n,a,s,o,u,l){var c=jX,h=zi,f=c(t,r,n,s,BO);u[0]=1/0,u[1]=1/0,l[0]=-1/0,l[1]=-1/0;for(var d=0;d<f;d++){var p=h(t,r,n,s,BO[d]);u[0]=Fa(p,u[0]),l[0]=Ia(p,l[0])}f=c(e,i,a,o,MO);for(var d=0;d<f;d++){var g=h(e,i,a,o,MO[d]);u[1]=Fa(g,u[1]),l[1]=Ia(g,l[1])}u[0]=Fa(t,u[0]),l[0]=Ia(t,l[0]),u[0]=Fa(s,u[0]),l[0]=Ia(s,l[0]),u[1]=Fa(e,u[1]),l[1]=Ia(e,l[1]),u[1]=Fa(o,u[1]),l[1]=Ia(o,l[1])}function v5e(t,e,r,i,n,a,s,o){var u=$X,l=on,c=Ia(Fa(u(t,r,n),1),0),h=Ia(Fa(u(e,i,a),1),0),f=l(t,r,n,c),d=l(e,i,a,h);s[0]=Fa(t,n,f),s[1]=Fa(e,a,d),o[0]=Ia(t,n,f),o[1]=Ia(e,a,d)}function m5e(t,e,r,i,n,a,s,o,u){var l=gc,c=vc,h=Math.abs(n-a);if(h%_0<1e-4&&h>1e-4){o[0]=t-r,o[1]=e-i,u[0]=t+r,u[1]=e+i;return}if(e_[0]=rS(n)*r+t,e_[1]=tS(n)*i+e,t_[0]=rS(a)*r+t,t_[1]=tS(a)*i+e,l(o,e_,t_),c(u,e_,t_),n=n%_0,n<0&&(n=n+_0),a=a%_0,a<0&&(a=a+_0),n>a&&!s?a+=_0:n<a&&s&&(n+=_0),s){var f=a;a=n,n=f}for(var d=0;d<a;d+=Math.PI/2)d>n&&(r_[0]=rS(d)*r+t,r_[1]=tS(d)*i+e,l(o,r_,o),c(u,r_,u))}var br={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},x0=[],b0=[],Do=[],kl=[],Fo=[],Io=[],iS=Math.min,nS=Math.max,C0=Math.cos,E0=Math.sin,Lu=Math.abs,L8=Math.PI,rc=L8*2,aS=typeof Float32Array<"u",fv=[];function sS(t){var e=Math.round(t/L8*1e8)/1e8;return e%2*L8}function u9(t,e){var r=sS(t[0]);r<0&&(r+=rc);var i=r-t[0],n=t[1];n+=i,!e&&n-r>=rc?n=r+rc:e&&r-n>=rc?n=r-rc:!e&&r>n?n=r+(rc-sS(r-n)):e&&r<n&&(n=r-(rc-sS(n-r))),t[0]=r,t[1]=n}var _u=function(){function t(e){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,e&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(e,r,i){i=i||0,i>0&&(this._ux=Lu(i/y3/e)||0,this._uy=Lu(i/y3/r)||0)},t.prototype.setDPR=function(e){this.dpr=e},t.prototype.setContext=function(e){this._ctx=e},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(e,r){return this._drawPendingPt(),this.addData(br.M,e,r),this._ctx&&this._ctx.moveTo(e,r),this._x0=e,this._y0=r,this._xi=e,this._yi=r,this},t.prototype.lineTo=function(e,r){var i=Lu(e-this._xi),n=Lu(r-this._yi),a=i>this._ux||n>this._uy;if(this.addData(br.L,e,r),this._ctx&&a&&this._ctx.lineTo(e,r),a)this._xi=e,this._yi=r,this._pendingPtDist=0;else{var s=i*i+n*n;s>this._pendingPtDist&&(this._pendingPtX=e,this._pendingPtY=r,this._pendingPtDist=s)}return this},t.prototype.bezierCurveTo=function(e,r,i,n,a,s){return this._drawPendingPt(),this.addData(br.C,e,r,i,n,a,s),this._ctx&&this._ctx.bezierCurveTo(e,r,i,n,a,s),this._xi=a,this._yi=s,this},t.prototype.quadraticCurveTo=function(e,r,i,n){return this._drawPendingPt(),this.addData(br.Q,e,r,i,n),this._ctx&&this._ctx.quadraticCurveTo(e,r,i,n),this._xi=i,this._yi=n,this},t.prototype.arc=function(e,r,i,n,a,s){this._drawPendingPt(),fv[0]=n,fv[1]=a,u9(fv,s),n=fv[0],a=fv[1];var o=a-n;return this.addData(br.A,e,r,i,i,n,o,0,s?0:1),this._ctx&&this._ctx.arc(e,r,i,n,a,s),this._xi=C0(a)*i+e,this._yi=E0(a)*i+r,this},t.prototype.arcTo=function(e,r,i,n,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(e,r,i,n,a),this},t.prototype.rect=function(e,r,i,n){return this._drawPendingPt(),this._ctx&&this._ctx.rect(e,r,i,n),this.addData(br.R,e,r,i,n),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(br.Z);var e=this._ctx,r=this._x0,i=this._y0;return e&&e.closePath(),this._xi=r,this._yi=i,this},t.prototype.fill=function(e){e&&e.fill(),this.toStatic()},t.prototype.stroke=function(e){e&&e.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(e){var r=e.length;!(this.data&&this.data.length===r)&&aS&&(this.data=new Float32Array(r));for(var i=0;i<r;i++)this.data[i]=e[i];this._len=r},t.prototype.appendPath=function(e){e instanceof Array||(e=[e]);for(var r=e.length,i=0,n=this._len,a=0;a<r;a++)i+=e[a].len();aS&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(var a=0;a<r;a++)for(var s=e[a].data,o=0;o<s.length;o++)this.data[n++]=s[o];this._len=n},t.prototype.addData=function(e,r,i,n,a,s,o,u,l){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var h=0;h<arguments.length;h++)c[this._len++]=arguments[h]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var e=[],r=0;r<this._len;r++)e[r]=this.data[r];this.data=e}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var e=this.data;e instanceof Array&&(e.length=this._len,aS&&this._len>11&&(this.data=new Float32Array(e)))}},t.prototype.getBoundingRect=function(){Do[0]=Do[1]=Fo[0]=Fo[1]=Number.MAX_VALUE,kl[0]=kl[1]=Io[0]=Io[1]=-Number.MAX_VALUE;var e=this.data,r=0,i=0,n=0,a=0,s;for(s=0;s<this._len;){var o=e[s++],u=s===1;switch(u&&(r=e[s],i=e[s+1],n=r,a=i),o){case br.M:r=n=e[s++],i=a=e[s++],Fo[0]=n,Fo[1]=a,Io[0]=n,Io[1]=a;break;case br.L:IO(r,i,e[s],e[s+1],Fo,Io),r=e[s++],i=e[s++];break;case br.C:g5e(r,i,e[s++],e[s++],e[s++],e[s++],e[s],e[s+1],Fo,Io),r=e[s++],i=e[s++];break;case br.Q:v5e(r,i,e[s++],e[s++],e[s],e[s+1],Fo,Io),r=e[s++],i=e[s++];break;case br.A:var l=e[s++],c=e[s++],h=e[s++],f=e[s++],d=e[s++],p=e[s++]+d;s+=1;var g=!e[s++];u&&(n=C0(d)*h+l,a=E0(d)*f+c),m5e(l,c,h,f,d,p,g,Fo,Io),r=C0(p)*h+l,i=E0(p)*f+c;break;case br.R:n=r=e[s++],a=i=e[s++];var v=e[s++],m=e[s++];IO(n,a,n+v,a+m,Fo,Io);break;case br.Z:r=n,i=a;break}gc(Do,Do,Fo),vc(kl,kl,Io)}return s===0&&(Do[0]=Do[1]=kl[0]=kl[1]=0),new Et(Do[0],Do[1],kl[0]-Do[0],kl[1]-Do[1])},t.prototype._calculateLength=function(){var e=this.data,r=this._len,i=this._ux,n=this._uy,a=0,s=0,o=0,u=0;this._pathSegLen||(this._pathSegLen=[]);for(var l=this._pathSegLen,c=0,h=0,f=0;f<r;){var d=e[f++],p=f===1;p&&(a=e[f],s=e[f+1],o=a,u=s);var g=-1;switch(d){case br.M:a=o=e[f++],s=u=e[f++];break;case br.L:{var v=e[f++],m=e[f++],y=v-a,_=m-s;(Lu(y)>i||Lu(_)>n||f===r-1)&&(g=Math.sqrt(y*y+_*_),a=v,s=m);break}case br.C:{var x=e[f++],b=e[f++],v=e[f++],m=e[f++],C=e[f++],E=e[f++];g=O_e(a,s,x,b,v,m,C,E,10),a=C,s=E;break}case br.Q:{var x=e[f++],b=e[f++],v=e[f++],m=e[f++];g=N_e(a,s,x,b,v,m,10),a=v,s=m;break}case br.A:var A=e[f++],S=e[f++],T=e[f++],D=e[f++],F=e[f++],B=e[f++],O=B+F;f+=1,p&&(o=C0(F)*T+A,u=E0(F)*D+S),g=nS(T,D)*iS(rc,Math.abs(B)),a=C0(O)*T+A,s=E0(O)*D+S;break;case br.R:{o=a=e[f++],u=s=e[f++];var M=e[f++],R=e[f++];g=M*2+R*2;break}case br.Z:{var y=o-a,_=u-s;g=Math.sqrt(y*y+_*_),a=o,s=u;break}}g>=0&&(l[h++]=g,c+=g)}return this._pathLen=c,c},t.prototype.rebuildPath=function(e,r){var i=this.data,n=this._ux,a=this._uy,s=this._len,o,u,l,c,h,f,d=r<1,p,g,v=0,m=0,y,_=0,x,b;if(!(d&&(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,g=this._pathLen,y=r*g,!y)))e:for(var C=0;C<s;){var E=i[C++],A=C===1;switch(A&&(l=i[C],c=i[C+1],o=l,u=c),E!==br.L&&_>0&&(e.lineTo(x,b),_=0),E){case br.M:o=l=i[C++],u=c=i[C++],e.moveTo(l,c);break;case br.L:{h=i[C++],f=i[C++];var S=Lu(h-l),T=Lu(f-c);if(S>n||T>a){if(d){var D=p[m++];if(v+D>y){var F=(y-v)/D;e.lineTo(l*(1-F)+h*F,c*(1-F)+f*F);break e}v+=D}e.lineTo(h,f),l=h,c=f,_=0}else{var B=S*S+T*T;B>_&&(x=h,b=f,_=B)}break}case br.C:{var O=i[C++],M=i[C++],R=i[C++],z=i[C++],k=i[C++],U=i[C++];if(d){var D=p[m++];if(v+D>y){var F=(y-v)/D;Rc(l,O,R,k,F,x0),Rc(c,M,z,U,F,b0),e.bezierCurveTo(x0[1],b0[1],x0[2],b0[2],x0[3],b0[3]);break e}v+=D}e.bezierCurveTo(O,M,R,z,k,U),l=k,c=U;break}case br.Q:{var O=i[C++],M=i[C++],R=i[C++],z=i[C++];if(d){var D=p[m++];if(v+D>y){var F=(y-v)/D;T2(l,O,R,F,x0),T2(c,M,z,F,b0),e.quadraticCurveTo(x0[1],b0[1],x0[2],b0[2]);break e}v+=D}e.quadraticCurveTo(O,M,R,z),l=R,c=z;break}case br.A:var V=i[C++],j=i[C++],Y=i[C++],te=i[C++],re=i[C++],de=i[C++],Oe=i[C++],he=!i[C++],le=Y>te?Y:te,pe=Lu(Y-te)>.001,xe=re+de,be=!1;if(d){var D=p[m++];v+D>y&&(xe=re+de*(y-v)/D,be=!0),v+=D}if(pe&&e.ellipse?e.ellipse(V,j,Y,te,Oe,re,xe,he):e.arc(V,j,le,re,xe,he),be)break e;A&&(o=C0(re)*Y+V,u=E0(re)*te+j),l=C0(xe)*Y+V,c=E0(xe)*te+j;break;case br.R:o=l=i[C],u=c=i[C+1],h=i[C++],f=i[C++];var q=i[C++],J=i[C++];if(d){var D=p[m++];if(v+D>y){var se=y-v;e.moveTo(h,f),e.lineTo(h+iS(se,q),f),se-=q,se>0&&e.lineTo(h+q,f+iS(se,J)),se-=J,se>0&&e.lineTo(h+nS(q-se,0),f+J),se-=q,se>0&&e.lineTo(h,f+nS(J-se,0));break e}v+=D}e.rect(h,f,q,J);break;case br.Z:if(d){var D=p[m++];if(v+D>y){var F=(y-v)/D;e.lineTo(l*(1-F)+o*F,c*(1-F)+u*F);break e}v+=D}e.closePath(),l=o,c=u}}},t.prototype.clone=function(){var e=new t,r=this.data;return e.data=r.slice?r.slice():Array.prototype.slice.call(r),e._len=this._len,e},t.CMD=br,t.initDefaultProps=function(){var e=t.prototype;e._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,e._version=0}(),t}();function Wu(t,e,r,i,n,a,s){if(n===0)return!1;var o=n,u=0,l=t;if(s>e+o&&s>i+o||s<e-o&&s<i-o||a>t+o&&a>r+o||a<t-o&&a<r-o)return!1;if(t!==r)u=(e-i)/(t-r),l=(t*i-r*e)/(t-r);else return Math.abs(a-t)<=o/2;var c=u*a-s+l,h=c*c/(u*u+1);return h<=o/2*o/2}function y5e(t,e,r,i,n,a,s,o,u,l,c){if(u===0)return!1;var h=u;if(c>e+h&&c>i+h&&c>a+h&&c>o+h||c<e-h&&c<i-h&&c<a-h&&c<o-h||l>t+h&&l>r+h&&l>n+h&&l>s+h||l<t-h&&l<r-h&&l<n-h&&l<s-h)return!1;var f=VX(t,e,r,i,n,a,s,o,l,c,null);return f<=h/2}function TZ(t,e,r,i,n,a,s,o,u){if(s===0)return!1;var l=s;if(u>e+l&&u>i+l&&u>a+l||u<e-l&&u<i-l&&u<a-l||o>t+l&&o>r+l&&o>n+l||o<t-l&&o<r-l&&o<n-l)return!1;var c=WX(t,e,r,i,n,a,o,u,null);return c<=l/2}var PO=Math.PI*2;function Qa(t){return t%=PO,t<0&&(t+=PO),t}var dv=Math.PI*2;function _5e(t,e,r,i,n,a,s,o,u){if(s===0)return!1;var l=s;o-=t,u-=e;var c=Math.sqrt(o*o+u*u);if(c-l>r||c+l<r)return!1;if(Math.abs(i-n)%dv<1e-4)return!0;if(a){var h=i;i=Qa(n),n=Qa(h)}else i=Qa(i),n=Qa(n);i>n&&(n+=dv);var f=Math.atan2(u,o);return f<0&&(f+=dv),f>=i&&f<=n||f+dv>=i&&f+dv<=n}function $u(t,e,r,i,n,a){if(a>e&&a>i||a<e&&a<i||i===e)return 0;var s=(a-e)/(i-e),o=i<e?1:-1;(s===1||s===0)&&(o=i<e?.5:-.5);var u=s*(r-t)+t;return u===n?1/0:u>n?o:0}var zl=_u.CMD,S0=Math.PI*2,x5e=1e-4;function b5e(t,e){return Math.abs(t-e)<x5e}var Jn=[-1,-1,-1],xs=[-1,-1];function C5e(){var t=xs[0];xs[0]=xs[1],xs[1]=t}function E5e(t,e,r,i,n,a,s,o,u,l){if(l>e&&l>i&&l>a&&l>o||l<e&&l<i&&l<a&&l<o)return 0;var c=p3(e,i,a,o,l,Jn);if(c===0)return 0;for(var h=0,f=-1,d=void 0,p=void 0,g=0;g<c;g++){var v=Jn[g],m=v===0||v===1?.5:1,y=zi(t,r,n,s,v);y<u||(f<0&&(f=jX(e,i,a,o,xs),xs[1]<xs[0]&&f>1&&C5e(),d=zi(e,i,a,o,xs[0]),f>1&&(p=zi(e,i,a,o,xs[1]))),f===2?v<xs[0]?h+=d<e?m:-m:v<xs[1]?h+=p<d?m:-m:h+=o<p?m:-m:v<xs[0]?h+=d<e?m:-m:h+=o<d?m:-m)}return h}function S5e(t,e,r,i,n,a,s,o){if(o>e&&o>i&&o>a||o<e&&o<i&&o<a)return 0;var u=R_e(e,i,a,o,Jn);if(u===0)return 0;var l=$X(e,i,a);if(l>=0&&l<=1){for(var c=0,h=on(e,i,a,l),f=0;f<u;f++){var d=Jn[f]===0||Jn[f]===1?.5:1,p=on(t,r,n,Jn[f]);p<s||(Jn[f]<l?c+=h<e?d:-d:c+=a<h?d:-d)}return c}else{var d=Jn[0]===0||Jn[0]===1?.5:1,p=on(t,r,n,Jn[0]);return p<s?0:a<e?d:-d}}function T5e(t,e,r,i,n,a,s,o){if(o-=e,o>r||o<-r)return 0;var u=Math.sqrt(r*r-o*o);Jn[0]=-u,Jn[1]=u;var l=Math.abs(i-n);if(l<1e-4)return 0;if(l>=S0-1e-4){i=0,n=S0;var c=a?1:-1;return s>=Jn[0]+t&&s<=Jn[1]+t?c:0}if(i>n){var h=i;i=n,n=h}i<0&&(i+=S0,n+=S0);for(var f=0,d=0;d<2;d++){var p=Jn[d];if(p+t>s){var g=Math.atan2(o,p),c=a?1:-1;g<0&&(g=S0+g),(g>=i&&g<=n||g+S0>=i&&g+S0<=n)&&(g>Math.PI/2&&g<Math.PI*1.5&&(c=-c),f+=c)}}return f}function AZ(t,e,r,i,n){for(var a=t.data,s=t.len(),o=0,u=0,l=0,c=0,h=0,f,d,p=0;p<s;){var g=a[p++],v=p===1;switch(g===zl.M&&p>1&&(r||(o+=$u(u,l,c,h,i,n))),v&&(u=a[p],l=a[p+1],c=u,h=l),g){case zl.M:c=a[p++],h=a[p++],u=c,l=h;break;case zl.L:if(r){if(Wu(u,l,a[p],a[p+1],e,i,n))return!0}else o+=$u(u,l,a[p],a[p+1],i,n)||0;u=a[p++],l=a[p++];break;case zl.C:if(r){if(y5e(u,l,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],e,i,n))return!0}else o+=E5e(u,l,a[p++],a[p++],a[p++],a[p++],a[p],a[p+1],i,n)||0;u=a[p++],l=a[p++];break;case zl.Q:if(r){if(TZ(u,l,a[p++],a[p++],a[p],a[p+1],e,i,n))return!0}else o+=S5e(u,l,a[p++],a[p++],a[p],a[p+1],i,n)||0;u=a[p++],l=a[p++];break;case zl.A:var m=a[p++],y=a[p++],_=a[p++],x=a[p++],b=a[p++],C=a[p++];p+=1;var E=!!(1-a[p++]);f=Math.cos(b)*_+m,d=Math.sin(b)*x+y,v?(c=f,h=d):o+=$u(u,l,f,d,i,n);var A=(i-m)*x/_+m;if(r){if(_5e(m,y,x,b,b+C,E,e,A,n))return!0}else o+=T5e(m,y,x,b,b+C,E,A,n);u=Math.cos(b+C)*_+m,l=Math.sin(b+C)*x+y;break;case zl.R:c=u=a[p++],h=l=a[p++];var S=a[p++],T=a[p++];if(f=c+S,d=h+T,r){if(Wu(c,h,f,h,e,i,n)||Wu(f,h,f,d,e,i,n)||Wu(f,d,c,d,e,i,n)||Wu(c,d,c,h,e,i,n))return!0}else o+=$u(f,h,f,d,i,n),o+=$u(c,d,c,h,i,n);break;case zl.Z:if(r){if(Wu(u,l,c,h,e,i,n))return!0}else o+=$u(u,l,c,h,i,n);u=c,l=h;break}}return!r&&!b5e(l,h)&&(o+=$u(u,l,c,h,i,n)||0),o!==0}function A5e(t,e,r){return AZ(t,0,!1,e,r)}function w5e(t,e,r,i){return AZ(t,e,!0,r,i)}var x3=st({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ih),D5e={style:st({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},Eb.style)},oS=yu.concat(["invisible","culling","z","z2","zlevel","parent"]),Pt=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.update=function(){var r=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var n=this._decalEl=this._decalEl||new e;n.buildPath===e.prototype.buildPath&&(n.buildPath=function(u){r.buildPath(u,r.shape)}),n.silent=!0;var a=n.style;for(var s in i)a[s]!==i[s]&&(a[s]=i[s]);a.fill=i.fill?i.decal:null,a.decal=null,a.shadowColor=null,i.strokeFirst&&(a.stroke=null);for(var o=0;o<oS.length;++o)n[oS[o]]=this[oS[o]];n.__dirty|=ou}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(r){var i=kt(r);this.shape=this.getDefaultShape();var n=this.getDefaultStyle();n&&this.useStyle(n);for(var a=0;a<i.length;a++){var s=i[a],o=r[s];s==="style"?this.style?Ce(this.style,o):this.useStyle(o):s==="shape"?Ce(this.shape,o):t.prototype.attrKV.call(this,s,o)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(Xe(r)){var i=v3(r,0);return i>.5?w8:i>.2?hxe:D8}else if(r)return D8}return w8},e.prototype.getInsideTextStroke=function(r){var i=this.style.fill;if(Xe(i)){var n=this.__zr,a=!!(n&&n.isDarkMode()),s=v3(r,0)<A8;if(a===s)return i}},e.prototype.buildPath=function(r,i,n){},e.prototype.pathUpdated=function(){this.__dirty&=-5},e.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},e.prototype.createPathProxy=function(){this.path=new _u(!1)},e.prototype.hasStroke=function(){var r=this.style,i=r.stroke;return!(i==null||i==="none"||!(r.lineWidth>0))},e.prototype.hasFill=function(){var r=this.style,i=r.fill;return i!=null&&i!=="none"},e.prototype.getBoundingRect=function(){var r=this._rect,i=this.style,n=!r;if(n){var a=!1;this.path||(a=!0,this.createPathProxy());var s=this.path;(a||this.__dirty&e1)&&(s.beginPath(),this.buildPath(s,this.shape,!1),this.pathUpdated()),r=s.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||n){o.copy(r);var u=i.strokeNoScale?this.getLineScale():1,l=i.lineWidth;if(!this.hasFill()){var c=this.strokeContainThreshold;l=Math.max(l,c??4)}u>1e-10&&(o.width+=l/u,o.height+=l/u,o.x-=l/u/2,o.y-=l/u/2)}return o}return r},e.prototype.contain=function(r,i){var n=this.transformCoordToLocal(r,i),a=this.getBoundingRect(),s=this.style;if(r=n[0],i=n[1],a.contain(r,i)){var o=this.path;if(this.hasStroke()){var u=s.lineWidth,l=s.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(u=Math.max(u,this.strokeContainThreshold)),w5e(o,u/l,r,i)))return!0}if(this.hasFill())return A5e(o,r,i)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=e1,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(r){return this.animate("shape",r)},e.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(r,i){r==="shape"?this.setShape(i):t.prototype.attrKV.call(this,r,i)},e.prototype.setShape=function(r,i){var n=this.shape;return n||(n=this.shape={}),typeof r=="string"?n[r]=i:Ce(n,r),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&e1)},e.prototype.createStyle=function(r){return gb(x3,r)},e.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var i=this._normalState;r.shape&&!i.shape&&(i.shape=Ce({},this.shape))},e.prototype._applyStateObj=function(r,i,n,a,s,o){t.prototype._applyStateObj.call(this,r,i,n,a,s,o);var u=!(i&&a),l;if(i&&i.shape?s?a?l=i.shape:(l=Ce({},n.shape),Ce(l,i.shape)):(l=Ce({},a?this.shape:n.shape),Ce(l,i.shape)):u&&(l=n.shape),l)if(s){this.shape=Ce({},this.shape);for(var c={},h=kt(l),f=0;f<h.length;f++){var d=h[f];typeof l[d]=="object"?this.shape[d]=l[d]:c[d]=l[d]}this._transitionState(r,{shape:c},o)}else this.shape=l,this.dirtyShape()},e.prototype._mergeStates=function(r){for(var i=t.prototype._mergeStates.call(this,r),n,a=0;a<r.length;a++){var s=r[a];s.shape&&(n=n||{},this._mergeStyle(n,s.shape))}return n&&(i.shape=n),i},e.prototype.getAnimationStyleProps=function(){return D5e},e.prototype.isZeroArea=function(){return!1},e.extend=function(r){var i=function(a){ce(s,a);function s(o){var u=a.call(this,o)||this;return r.init&&r.init.call(u,o),u}return s.prototype.getDefaultStyle=function(){return ht(r.style)},s.prototype.getDefaultShape=function(){return ht(r.shape)},s}(e);for(var n in r)typeof r[n]=="function"&&(i.prototype[n]=r[n]);return i},e.initDefaultProps=function(){var r=e.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=ou|zx|e1}(),e}(zs),F5e=st({strokeFirst:!0,font:Lc,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},x3),Sp=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.hasStroke=function(){var r=this.style,i=r.stroke;return i!=null&&i!=="none"&&r.lineWidth>0},e.prototype.hasFill=function(){var r=this.style,i=r.fill;return i!=null&&i!=="none"},e.prototype.createStyle=function(r){return gb(F5e,r)},e.prototype.setBoundingRect=function(r){this._rect=r},e.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var i=r.text;i!=null?i+="":i="";var n=Sm(i,r.font,r.textAlign,r.textBaseline);if(n.x+=r.x||0,n.y+=r.y||0,this.hasStroke()){var a=r.lineWidth;n.x-=a/2,n.y-=a/2,n.width+=a,n.height+=a}this._rect=n}return this._rect},e.initDefaultProps=function(){var r=e.prototype;r.dirtyRectTolerance=10}(),e}(zs);Sp.prototype.type="tspan";var I5e=st({x:0,y:0},Ih),B5e={style:st({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},Eb.style)};function M5e(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var en=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.createStyle=function(r){return gb(I5e,r)},e.prototype._getSize=function(r){var i=this.style,n=i[r];if(n!=null)return n;var a=M5e(i.image)?i.image:this.__image;if(!a)return 0;var s=r==="width"?"height":"width",o=i[s];return o==null?a[r]:a[r]/a[s]*o},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return B5e},e.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new Et(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},e}(zs);en.prototype.type="image";function P5e(t,e){var r=e.x,i=e.y,n=e.width,a=e.height,s=e.r,o,u,l,c;n<0&&(r=r+n,n=-n),a<0&&(i=i+a,a=-a),typeof s=="number"?o=u=l=c=s:s instanceof Array?s.length===1?o=u=l=c=s[0]:s.length===2?(o=l=s[0],u=c=s[1]):s.length===3?(o=s[0],u=c=s[1],l=s[2]):(o=s[0],u=s[1],l=s[2],c=s[3]):o=u=l=c=0;var h;o+u>n&&(h=o+u,o*=n/h,u*=n/h),l+c>n&&(h=l+c,l*=n/h,c*=n/h),u+l>a&&(h=u+l,u*=a/h,l*=a/h),o+c>a&&(h=o+c,o*=a/h,c*=a/h),t.moveTo(r+o,i),t.lineTo(r+n-u,i),u!==0&&t.arc(r+n-u,i+u,u,-Math.PI/2,0),t.lineTo(r+n,i+a-l),l!==0&&t.arc(r+n-l,i+a-l,l,0,Math.PI/2),t.lineTo(r+c,i+a),c!==0&&t.arc(r+c,i+a-c,c,Math.PI/2,Math.PI),t.lineTo(r,i+o),o!==0&&t.arc(r+o,i+o,o,Math.PI,Math.PI*1.5)}var Bd=Math.round;function wZ(t,e,r){if(e){var i=e.x1,n=e.x2,a=e.y1,s=e.y2;t.x1=i,t.x2=n,t.y1=a,t.y2=s;var o=r&&r.lineWidth;return o&&(Bd(i*2)===Bd(n*2)&&(t.x1=t.x2=hh(i,o,!0)),Bd(a*2)===Bd(s*2)&&(t.y1=t.y2=hh(a,o,!0))),t}}function DZ(t,e,r){if(e){var i=e.x,n=e.y,a=e.width,s=e.height;t.x=i,t.y=n,t.width=a,t.height=s;var o=r&&r.lineWidth;return o&&(t.x=hh(i,o,!0),t.y=hh(n,o,!0),t.width=Math.max(hh(i+a,o,!1)-t.x,a===0?0:1),t.height=Math.max(hh(n+s,o,!1)-t.y,s===0?0:1)),t}}function hh(t,e,r){if(!e)return t;var i=Bd(t*2);return(i+Bd(e))%2===0?i/2:(i+(r?1:-1))/2}var L5e=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),O5e={},Gt=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new L5e},e.prototype.buildPath=function(r,i){var n,a,s,o;if(this.subPixelOptimize){var u=DZ(O5e,i,this.style);n=u.x,a=u.y,s=u.width,o=u.height,u.r=i.r,i=u}else n=i.x,a=i.y,s=i.width,o=i.height;i.r?P5e(r,i):r.rect(n,a,s,o)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(Pt);Gt.prototype.type="rect";var LO={fill:"#000"},OO=2,R5e={style:st({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},Eb.style)},zt=function(t){ce(e,t);function e(r){var i=t.call(this)||this;return i.type="text",i._children=[],i._defaultStyle=LO,i.attr(r),i}return e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var i=this._children[r];i.zlevel=this.zlevel,i.z=this.z,i.z2=this.z2,i.culling=this.culling,i.cursor=this.cursor,i.invisible=this.invisible}},e.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(r){var i=this.innerTransformable;return i?i.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){this._childCursor=0,z5e(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var i=0;i<this._children.length;i++)this._children[i].__zr=r},e.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var i=0;i<this._children.length;i++)this._children[i].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new Et(0,0,0,0),i=this._children,n=[],a=null,s=0;s<i.length;s++){var o=i[s],u=o.getBoundingRect(),l=o.getLocalTransform(n);l?(r.copy(u),r.applyTransform(l),a=a||r.clone(),a.union(r)):(a=a||u.clone(),a.union(u))}this._rect=a||r}return this._rect},e.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||LO},e.prototype.setTextContent=function(r){},e.prototype._mergeStyle=function(r,i){if(!i)return r;var n=i.rich,a=r.rich||n&&{};return Ce(r,i),n&&a?(this._mergeRich(a,n),r.rich=a):a&&(r.rich=a),r},e.prototype._mergeRich=function(r,i){for(var n=kt(i),a=0;a<n.length;a++){var s=n[a];r[s]=r[s]||{},Ce(r[s],i[s])}},e.prototype.getAnimationStyleProps=function(){return R5e},e.prototype._getOrCreateChild=function(r){var i=this._children[this._childCursor];return(!i||!(i instanceof r))&&(i=new r),this._children[this._childCursor++]=i,i.__zr=this.__zr,i.parent=this,i},e.prototype._updatePlainTexts=function(){var r=this.style,i=r.font||Lc,n=r.padding,a=UO(r),s=s5e(a,r),o=uS(r),u=!!r.backgroundColor,l=s.outerHeight,c=s.outerWidth,h=s.contentWidth,f=s.lines,d=s.lineHeight,p=this._defaultStyle;this.isTruncated=!!s.isTruncated;var g=r.x||0,v=r.y||0,m=r.align||p.align||"left",y=r.verticalAlign||p.verticalAlign||"top",_=g,x=bd(v,s.contentHeight,y);if(o||n){var b=r1(g,c,m),C=bd(v,l,y);o&&this._renderBackground(r,r,b,C,c,l)}x+=d/2,n&&(_=GO(g,m,n),y==="top"?x+=n[0]:y==="bottom"&&(x-=n[2]));for(var E=0,A=!1,S=HO("fill"in r?r.fill:(A=!0,p.fill)),T=zO("stroke"in r?r.stroke:!u&&(!p.autoStroke||A)?(E=OO,p.stroke):null),D=r.textShadowBlur>0,F=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),B=s.calculatedLineHeight,O=0;O<f.length;O++){var M=this._getOrCreateChild(Sp),R=M.createStyle();M.useStyle(R),R.text=f[O],R.x=_,R.y=x,R.textAlign=m,R.textBaseline="middle",R.opacity=r.opacity,R.strokeFirst=!0,D&&(R.shadowBlur=r.textShadowBlur||0,R.shadowColor=r.textShadowColor||"transparent",R.shadowOffsetX=r.textShadowOffsetX||0,R.shadowOffsetY=r.textShadowOffsetY||0),R.stroke=T,R.fill=S,T&&(R.lineWidth=r.lineWidth||E,R.lineDash=r.lineDash,R.lineDashOffset=r.lineDashOffset||0),R.font=i,NO(R,r),x+=d,F&&M.setBoundingRect(new Et(r1(R.x,h,R.textAlign),bd(R.y,B,R.textBaseline),h,B))}},e.prototype._updateRichTexts=function(){var r=this.style,i=UO(r),n=l5e(i,r),a=n.width,s=n.outerWidth,o=n.outerHeight,u=r.padding,l=r.x||0,c=r.y||0,h=this._defaultStyle,f=r.align||h.align,d=r.verticalAlign||h.verticalAlign;this.isTruncated=!!n.isTruncated;var p=r1(l,s,f),g=bd(c,o,d),v=p,m=g;u&&(v+=u[3],m+=u[0]);var y=v+a;uS(r)&&this._renderBackground(r,r,p,g,s,o);for(var _=!!r.backgroundColor,x=0;x<n.lines.length;x++){for(var b=n.lines[x],C=b.tokens,E=C.length,A=b.lineHeight,S=b.width,T=0,D=v,F=y,B=E-1,O=void 0;T<E&&(O=C[T],!O.align||O.align==="left");)this._placeToken(O,r,A,m,D,"left",_),S-=O.width,D+=O.width,T++;for(;B>=0&&(O=C[B],O.align==="right");)this._placeToken(O,r,A,m,F,"right",_),S-=O.width,F-=O.width,B--;for(D+=(a-(D-v)-(y-F)-S)/2;T<=B;)O=C[T],this._placeToken(O,r,A,m,D+O.width/2,"center",_),D+=O.width,T++;m+=A}},e.prototype._placeToken=function(r,i,n,a,s,o,u){var l=i.rich[r.styleName]||{};l.text=r.text;var c=r.verticalAlign,h=a+n/2;c==="top"?h=a+r.height/2:c==="bottom"&&(h=a+n-r.height/2);var f=!r.isLineHolder&&uS(l);f&&this._renderBackground(l,i,o==="right"?s-r.width:o==="center"?s-r.width/2:s,h-r.height/2,r.width,r.height);var d=!!l.backgroundColor,p=r.textPadding;p&&(s=GO(s,o,p),h-=r.height/2-p[0]-r.innerHeight/2);var g=this._getOrCreateChild(Sp),v=g.createStyle();g.useStyle(v);var m=this._defaultStyle,y=!1,_=0,x=HO("fill"in l?l.fill:"fill"in i?i.fill:(y=!0,m.fill)),b=zO("stroke"in l?l.stroke:"stroke"in i?i.stroke:!d&&!u&&(!m.autoStroke||y)?(_=OO,m.stroke):null),C=l.textShadowBlur>0||i.textShadowBlur>0;v.text=r.text,v.x=s,v.y=h,C&&(v.shadowBlur=l.textShadowBlur||i.textShadowBlur||0,v.shadowColor=l.textShadowColor||i.textShadowColor||"transparent",v.shadowOffsetX=l.textShadowOffsetX||i.textShadowOffsetX||0,v.shadowOffsetY=l.textShadowOffsetY||i.textShadowOffsetY||0),v.textAlign=o,v.textBaseline="middle",v.font=r.font||Lc,v.opacity=su(l.opacity,i.opacity,1),NO(v,l),b&&(v.lineWidth=su(l.lineWidth,i.lineWidth,_),v.lineDash=gt(l.lineDash,i.lineDash),v.lineDashOffset=i.lineDashOffset||0,v.stroke=b),x&&(v.fill=x);var E=r.contentWidth,A=r.contentHeight;g.setBoundingRect(new Et(r1(v.x,E,v.textAlign),bd(v.y,A,v.textBaseline),E,A))},e.prototype._renderBackground=function(r,i,n,a,s,o){var u=r.backgroundColor,l=r.borderWidth,c=r.borderColor,h=u&&u.image,f=u&&!h,d=r.borderRadius,p=this,g,v;if(f||r.lineHeight||l&&c){g=this._getOrCreateChild(Gt),g.useStyle(g.createStyle()),g.style.fill=null;var m=g.shape;m.x=n,m.y=a,m.width=s,m.height=o,m.r=d,g.dirtyShape()}if(f){var y=g.style;y.fill=u||null,y.fillOpacity=gt(r.fillOpacity,1)}else if(h){v=this._getOrCreateChild(en),v.onload=function(){p.dirtyStyle()};var _=v.style;_.image=u.image,_.x=n,_.y=a,_.width=s,_.height=o}if(l&&c){var y=g.style;y.lineWidth=l,y.stroke=c,y.strokeOpacity=gt(r.strokeOpacity,1),y.lineDash=r.borderDash,y.lineDashOffset=r.borderDashOffset||0,g.strokeContainThreshold=0,g.hasFill()&&g.hasStroke()&&(y.strokeFirst=!0,y.lineWidth*=2)}var x=(g||v).style;x.shadowBlur=r.shadowBlur||0,x.shadowColor=r.shadowColor||"transparent",x.shadowOffsetX=r.shadowOffsetX||0,x.shadowOffsetY=r.shadowOffsetY||0,x.opacity=su(r.opacity,i.opacity,1)},e.makeFont=function(r){var i="";return IZ(r)&&(i=[r.fontStyle,r.fontWeight,FZ(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),i&&oo(i)||r.textFont||r.font},e}(zs),N5e={left:!0,right:1,center:1},k5e={top:1,bottom:1,middle:1},RO=["fontStyle","fontWeight","fontSize","fontFamily"];function FZ(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?j7+"px":t+"px"}function NO(t,e){for(var r=0;r<RO.length;r++){var i=RO[r],n=e[i];n!=null&&(t[i]=n)}}function IZ(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function z5e(t){return kO(t),G(t.rich,kO),t}function kO(t){if(t){t.font=zt.makeFont(t);var e=t.align;e==="middle"&&(e="center"),t.align=e==null||N5e[e]?e:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||k5e[r]?r:"top";var i=t.padding;i&&(t.padding=Z7(t.padding))}}function zO(t,e){return t==null||e<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function HO(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function GO(t,e,r){return e==="right"?t-r[1]:e==="center"?t+r[3]/2-r[1]/2:t+r[3]}function UO(t){var e=t.text;return e!=null&&(e+=""),e}function uS(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var pt=Yt(),O8=function(t,e,r,i){if(i){var n=pt(i);n.dataIndex=r,n.dataType=e,n.seriesIndex=t,n.ssrType="chart",i.type==="group"&&i.traverse(function(a){var s=pt(a);s.seriesIndex=t,s.dataIndex=r,s.dataType=e,s.ssrType="chart"})}},jO=1,VO={},BZ=Yt(),l9=Yt(),c9=0,Am=1,Tb=2,fa=["emphasis","blur","select"],I2=["normal","emphasis","blur","select"],lg=10,H5e=9,Bh="highlight",Vx="downplay",k1="select",$x="unselect",z1="toggleSelect";function Uf(t){return t!=null&&t!=="none"}function Ab(t,e,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(e),t.hoverState=r}function MZ(t){Ab(t,"emphasis",Tb)}function PZ(t){t.hoverState===Tb&&Ab(t,"normal",c9)}function h9(t){Ab(t,"blur",Am)}function LZ(t){t.hoverState===Am&&Ab(t,"normal",c9)}function G5e(t){t.selected=!0}function U5e(t){t.selected=!1}function $O(t,e,r){e(t,r)}function wl(t,e,r){$O(t,e,r),t.isGroup&&t.traverse(function(i){$O(i,e,r)})}function b3(t,e){switch(e){case"emphasis":t.hoverState=Tb;break;case"normal":t.hoverState=c9;break;case"blur":t.hoverState=Am;break;case"select":t.selected=!0}}function j5e(t,e,r,i){for(var n=t.style,a={},s=0;s<e.length;s++){var o=e[s],u=n[o];a[o]=u??(i&&i[o])}for(var s=0;s<t.animators.length;s++){var l=t.animators[s];l.__fromStateTransition&&l.__fromStateTransition.indexOf(r)<0&&l.targetName==="style"&&l.saveTo(a,e)}return a}function V5e(t,e,r,i){var n=r&&wt(r,"select")>=0,a=!1;if(t instanceof Pt){var s=BZ(t),o=n&&s.selectFill||s.normalFill,u=n&&s.selectStroke||s.normalStroke;if(Uf(o)||Uf(u)){i=i||{};var l=i.style||{};l.fill==="inherit"?(a=!0,i=Ce({},i),l=Ce({},l),l.fill=o):!Uf(l.fill)&&Uf(o)?(a=!0,i=Ce({},i),l=Ce({},l),l.fill=_8(o)):!Uf(l.stroke)&&Uf(u)&&(a||(i=Ce({},i),l=Ce({},l)),l.stroke=_8(u)),i.style=l}}if(i&&i.z2==null){a||(i=Ce({},i));var c=t.z2EmphasisLift;i.z2=t.z2+(c??lg)}return i}function $5e(t,e,r){if(r&&r.z2==null){r=Ce({},r);var i=t.z2SelectLift;r.z2=t.z2+(i??H5e)}return r}function W5e(t,e,r){var i=wt(t.currentStates,e)>=0,n=t.style.opacity,a=i?null:j5e(t,["opacity"],e,{opacity:1});r=r||{};var s=r.style||{};return s.opacity==null&&(r=Ce({},r),s=Ce({opacity:i?n:a.opacity*.1},s),r.style=s),r}function lS(t,e){var r=this.states[t];if(this.style){if(t==="emphasis")return V5e(this,t,e,r);if(t==="blur")return W5e(this,t,r);if(t==="select")return $5e(this,t,r)}return r}function Qh(t){t.stateProxy=lS;var e=t.getTextContent(),r=t.getTextGuideLine();e&&(e.stateProxy=lS),r&&(r.stateProxy=lS)}function WO(t,e){!kZ(t,e)&&!t.__highByOuter&&wl(t,MZ)}function YO(t,e){!kZ(t,e)&&!t.__highByOuter&&wl(t,PZ)}function pl(t,e){t.__highByOuter|=1<<(e||0),wl(t,MZ)}function gl(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&wl(t,PZ)}function OZ(t){wl(t,h9)}function f9(t){wl(t,LZ)}function RZ(t){wl(t,G5e)}function NZ(t){wl(t,U5e)}function kZ(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function zZ(t){var e=t.getModel(),r=[],i=[];e.eachComponent(function(n,a){var s=l9(a),o=n==="series",u=o?t.getViewOfSeriesModel(a):t.getViewOfComponentModel(a);!o&&i.push(u),s.isBlured&&(u.group.traverse(function(l){LZ(l)}),o&&r.push(a)),s.isBlured=!1}),G(i,function(n){n&&n.toggleBlurSeries&&n.toggleBlurSeries(r,!1,e)})}function R8(t,e,r,i){var n=i.getModel();r=r||"coordinateSystem";function a(l,c){for(var h=0;h<c.length;h++){var f=l.getItemGraphicEl(c[h]);f&&f9(f)}}if(t!=null&&!(!e||e==="none")){var s=n.getSeriesByIndex(t),o=s.coordinateSystem;o&&o.master&&(o=o.master);var u=[];n.eachSeries(function(l){var c=s===l,h=l.coordinateSystem;h&&h.master&&(h=h.master);var f=h&&o?h===o:c;if(!(r==="series"&&!c||r==="coordinateSystem"&&!f||e==="series"&&c)){var d=i.getViewOfSeriesModel(l);if(d.group.traverse(function(v){v.__highByOuter&&c&&e==="self"||h9(v)}),Gn(e))a(l.getData(),e);else if(lt(e))for(var p=kt(e),g=0;g<p.length;g++)a(l.getData(p[g]),e[p[g]]);u.push(l),l9(l).isBlured=!0}}),n.eachComponent(function(l,c){if(l!=="series"){var h=i.getViewOfComponentModel(c);h&&h.toggleBlurSeries&&h.toggleBlurSeries(u,!0,n)}})}}function N8(t,e,r){if(!(t==null||e==null)){var i=r.getModel().getComponent(t,e);if(i){l9(i).isBlured=!0;var n=r.getViewOfComponentModel(i);!n||!n.focusBlurEnabled||n.group.traverse(function(a){h9(a)})}}}function Y5e(t,e,r){var i=t.seriesIndex,n=t.getData(e.dataType);if(n){var a=Kh(n,e);a=(Te(a)?a[0]:a)||0;var s=n.getItemGraphicEl(a);if(!s)for(var o=n.count(),u=0;!s&&u<o;)s=n.getItemGraphicEl(u++);if(s){var l=pt(s);R8(i,l.focus,l.blurScope,r)}else{var c=t.get(["emphasis","focus"]),h=t.get(["emphasis","blurScope"]);c!=null&&R8(i,c,h,r)}}}function d9(t,e,r,i){var n={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||e==null||r==null)return n;var a=i.getModel().getComponent(t,e);if(!a)return n;var s=i.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return n;for(var o=s.findHighDownDispatchers(r),u,l=0;l<o.length;l++)if(pt(o[l]).focus==="self"){u=!0;break}return{focusSelf:u,dispatchers:o}}function q5e(t,e,r){var i=pt(t),n=d9(i.componentMainType,i.componentIndex,i.componentHighDownName,r),a=n.dispatchers,s=n.focusSelf;a?(s&&N8(i.componentMainType,i.componentIndex,r),G(a,function(o){return WO(o,e)})):(R8(i.seriesIndex,i.focus,i.blurScope,r),i.focus==="self"&&N8(i.componentMainType,i.componentIndex,r),WO(t,e))}function X5e(t,e,r){zZ(r);var i=pt(t),n=d9(i.componentMainType,i.componentIndex,i.componentHighDownName,r).dispatchers;n?G(n,function(a){return YO(a,e)}):YO(t,e)}function Z5e(t,e,r){if(z8(e)){var i=e.dataType,n=t.getData(i),a=Kh(n,e);Te(a)||(a=[a]),t[e.type===z1?"toggleSelect":e.type===k1?"select":"unselect"](a,i)}}function qO(t){var e=t.getAllData();G(e,function(r){var i=r.data,n=r.type;i.eachItemGraphicEl(function(a,s){t.isSelected(s,n)?RZ(a):NZ(a)})})}function K5e(t){var e=[];return t.eachSeries(function(r){var i=r.getAllData();G(i,function(n){n.data;var a=n.type,s=r.getSelectedDataIndices();if(s.length>0){var o={dataIndex:s,seriesIndex:r.seriesIndex};a!=null&&(o.dataType=a),e.push(o)}})}),e}function Mh(t,e,r){fh(t,!0),wl(t,Qh),k8(t,e,r)}function J5e(t){fh(t,!1)}function Zr(t,e,r,i){i?J5e(t):Mh(t,e,r)}function k8(t,e,r){var i=pt(t);e!=null?(i.focus=e,i.blurScope=r):i.focus&&(i.focus=null)}var XO=["emphasis","blur","select"],Q5e={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function Fn(t,e,r,i){r=r||"itemStyle";for(var n=0;n<XO.length;n++){var a=XO[n],s=e.getModel([a,r]),o=t.ensureState(a);o.style=i?i(s):s[Q5e[r]]()}}function fh(t,e){var r=e===!1,i=t;t.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||i.__highDownDispatcher)&&(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!r)}function B2(t){return!!(t&&t.__highDownDispatcher)}function e3e(t,e,r){var i=pt(t);i.componentMainType=e.mainType,i.componentIndex=e.componentIndex,i.componentHighDownName=r}function t3e(t){var e=VO[t];return e==null&&jO<=32&&(e=VO[t]=jO++),e}function z8(t){var e=t.type;return e===k1||e===$x||e===z1}function ZO(t){var e=t.type;return e===Bh||e===Vx}function r3e(t){var e=BZ(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var r=t.states.select||{};e.selectFill=r.style&&r.style.fill||null,e.selectStroke=r.style&&r.style.stroke||null}var jf=_u.CMD,i3e=[[],[],[]],KO=Math.sqrt,n3e=Math.atan2;function HZ(t,e){if(e){var r=t.data,i=t.len(),n,a,s,o,u,l,c=jf.M,h=jf.C,f=jf.L,d=jf.R,p=jf.A,g=jf.Q;for(s=0,o=0;s<i;){switch(n=r[s++],o=s,a=0,n){case c:a=1;break;case f:a=1;break;case h:a=3;break;case g:a=2;break;case p:var v=e[4],m=e[5],y=KO(e[0]*e[0]+e[1]*e[1]),_=KO(e[2]*e[2]+e[3]*e[3]),x=n3e(-e[1]/_,e[0]/y);r[s]*=y,r[s++]+=v,r[s]*=_,r[s++]+=m,r[s++]*=y,r[s++]*=_,r[s++]+=x,r[s++]+=x,s+=2,o=s;break;case d:l[0]=r[s++],l[1]=r[s++],Yi(l,l,e),r[o++]=l[0],r[o++]=l[1],l[0]+=r[s++],l[1]+=r[s++],Yi(l,l,e),r[o++]=l[0],r[o++]=l[1]}for(u=0;u<a;u++){var b=i3e[u];b[0]=r[s++],b[1]=r[s++],Yi(b,b,e),r[o++]=b[0],r[o++]=b[1]}}t.increaseVersion()}}var cS=Math.sqrt,i_=Math.sin,n_=Math.cos,pv=Math.PI;function JO(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function H8(t,e){return(t[0]*e[0]+t[1]*e[1])/(JO(t)*JO(e))}function QO(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(H8(t,e))}function eR(t,e,r,i,n,a,s,o,u,l,c){var h=u*(pv/180),f=n_(h)*(t-r)/2+i_(h)*(e-i)/2,d=-1*i_(h)*(t-r)/2+n_(h)*(e-i)/2,p=f*f/(s*s)+d*d/(o*o);p>1&&(s*=cS(p),o*=cS(p));var g=(n===a?-1:1)*cS((s*s*(o*o)-s*s*(d*d)-o*o*(f*f))/(s*s*(d*d)+o*o*(f*f)))||0,v=g*s*d/o,m=g*-o*f/s,y=(t+r)/2+n_(h)*v-i_(h)*m,_=(e+i)/2+i_(h)*v+n_(h)*m,x=QO([1,0],[(f-v)/s,(d-m)/o]),b=[(f-v)/s,(d-m)/o],C=[(-1*f-v)/s,(-1*d-m)/o],E=QO(b,C);if(H8(b,C)<=-1&&(E=pv),H8(b,C)>=1&&(E=0),E<0){var A=Math.round(E/pv*1e6)/1e6;E=pv*2+A%2*pv}c.addData(l,y,_,s,o,x,E,h,a)}var a3e=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,s3e=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function o3e(t){var e=new _u;if(!t)return e;var r=0,i=0,n=r,a=i,s,o=_u.CMD,u=t.match(a3e);if(!u)return e;for(var l=0;l<u.length;l++){for(var c=u[l],h=c.charAt(0),f=void 0,d=c.match(s3e)||[],p=d.length,g=0;g<p;g++)d[g]=parseFloat(d[g]);for(var v=0;v<p;){var m=void 0,y=void 0,_=void 0,x=void 0,b=void 0,C=void 0,E=void 0,A=r,S=i,T=void 0,D=void 0;switch(h){case"l":r+=d[v++],i+=d[v++],f=o.L,e.addData(f,r,i);break;case"L":r=d[v++],i=d[v++],f=o.L,e.addData(f,r,i);break;case"m":r+=d[v++],i+=d[v++],f=o.M,e.addData(f,r,i),n=r,a=i,h="l";break;case"M":r=d[v++],i=d[v++],f=o.M,e.addData(f,r,i),n=r,a=i,h="L";break;case"h":r+=d[v++],f=o.L,e.addData(f,r,i);break;case"H":r=d[v++],f=o.L,e.addData(f,r,i);break;case"v":i+=d[v++],f=o.L,e.addData(f,r,i);break;case"V":i=d[v++],f=o.L,e.addData(f,r,i);break;case"C":f=o.C,e.addData(f,d[v++],d[v++],d[v++],d[v++],d[v++],d[v++]),r=d[v-2],i=d[v-1];break;case"c":f=o.C,e.addData(f,d[v++]+r,d[v++]+i,d[v++]+r,d[v++]+i,d[v++]+r,d[v++]+i),r+=d[v-2],i+=d[v-1];break;case"S":m=r,y=i,T=e.len(),D=e.data,s===o.C&&(m+=r-D[T-4],y+=i-D[T-3]),f=o.C,A=d[v++],S=d[v++],r=d[v++],i=d[v++],e.addData(f,m,y,A,S,r,i);break;case"s":m=r,y=i,T=e.len(),D=e.data,s===o.C&&(m+=r-D[T-4],y+=i-D[T-3]),f=o.C,A=r+d[v++],S=i+d[v++],r+=d[v++],i+=d[v++],e.addData(f,m,y,A,S,r,i);break;case"Q":A=d[v++],S=d[v++],r=d[v++],i=d[v++],f=o.Q,e.addData(f,A,S,r,i);break;case"q":A=d[v++]+r,S=d[v++]+i,r+=d[v++],i+=d[v++],f=o.Q,e.addData(f,A,S,r,i);break;case"T":m=r,y=i,T=e.len(),D=e.data,s===o.Q&&(m+=r-D[T-4],y+=i-D[T-3]),r=d[v++],i=d[v++],f=o.Q,e.addData(f,m,y,r,i);break;case"t":m=r,y=i,T=e.len(),D=e.data,s===o.Q&&(m+=r-D[T-4],y+=i-D[T-3]),r+=d[v++],i+=d[v++],f=o.Q,e.addData(f,m,y,r,i);break;case"A":_=d[v++],x=d[v++],b=d[v++],C=d[v++],E=d[v++],A=r,S=i,r=d[v++],i=d[v++],f=o.A,eR(A,S,r,i,C,E,_,x,b,f,e);break;case"a":_=d[v++],x=d[v++],b=d[v++],C=d[v++],E=d[v++],A=r,S=i,r+=d[v++],i+=d[v++],f=o.A,eR(A,S,r,i,C,E,_,x,b,f,e);break}}(h==="z"||h==="Z")&&(f=o.Z,e.addData(f),r=n,i=a),s=f}return e.toStatic(),e}var GZ=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.applyTransform=function(r){},e}(Pt);function UZ(t){return t.setData!=null}function jZ(t,e){var r=o3e(t),i=Ce({},e);return i.buildPath=function(n){if(UZ(n)){n.setData(r.data);var a=n.getContext();a&&n.rebuildPath(a,1)}else{var a=n;r.rebuildPath(a,1)}},i.applyTransform=function(n){HZ(r,n),this.dirtyShape()},i}function VZ(t,e){return new GZ(jZ(t,e))}function u3e(t,e){var r=jZ(t,e),i=function(n){ce(a,n);function a(s){var o=n.call(this,s)||this;return o.applyTransform=r.applyTransform,o.buildPath=r.buildPath,o}return a}(GZ);return i}function l3e(t,e){for(var r=[],i=t.length,n=0;n<i;n++){var a=t[n];r.push(a.getUpdatedPathProxy(!0))}var s=new Pt(e);return s.createPathProxy(),s.buildPath=function(o){if(UZ(o)){o.appendPath(r);var u=o.getContext();u&&o.rebuildPath(u,1)}},s}function p9(t,e){e=e||{};var r=new Pt;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),e.bakeTransform?HZ(r.path,t.getComputedTransform()):e.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var c3e=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Dl=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new c3e},e.prototype.buildPath=function(r,i){r.moveTo(i.cx+i.r,i.cy),r.arc(i.cx,i.cy,i.r,0,Math.PI*2)},e}(Pt);Dl.prototype.type="circle";var h3e=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),wb=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new h3e},e.prototype.buildPath=function(r,i){var n=.5522848,a=i.cx,s=i.cy,o=i.rx,u=i.ry,l=o*n,c=u*n;r.moveTo(a-o,s),r.bezierCurveTo(a-o,s-c,a-l,s-u,a,s-u),r.bezierCurveTo(a+l,s-u,a+o,s-c,a+o,s),r.bezierCurveTo(a+o,s+c,a+l,s+u,a,s+u),r.bezierCurveTo(a-l,s+u,a-o,s+c,a-o,s),r.closePath()},e}(Pt);wb.prototype.type="ellipse";var $Z=Math.PI,hS=$Z*2,T0=Math.sin,Vf=Math.cos,f3e=Math.acos,Bn=Math.atan2,tR=Math.abs,H1=Math.sqrt,i1=Math.max,Bo=Math.min,eo=1e-4;function d3e(t,e,r,i,n,a,s,o){var u=r-t,l=i-e,c=s-n,h=o-a,f=h*u-c*l;if(!(f*f<eo))return f=(c*(e-a)-h*(t-n))/f,[t+f*u,e+f*l]}function a_(t,e,r,i,n,a,s){var o=t-r,u=e-i,l=(s?a:-a)/H1(o*o+u*u),c=l*u,h=-l*o,f=t+c,d=e+h,p=r+c,g=i+h,v=(f+p)/2,m=(d+g)/2,y=p-f,_=g-d,x=y*y+_*_,b=n-a,C=f*g-p*d,E=(_<0?-1:1)*H1(i1(0,b*b*x-C*C)),A=(C*_-y*E)/x,S=(-C*y-_*E)/x,T=(C*_+y*E)/x,D=(-C*y+_*E)/x,F=A-v,B=S-m,O=T-v,M=D-m;return F*F+B*B>O*O+M*M&&(A=T,S=D),{cx:A,cy:S,x0:-c,y0:-h,x1:A*(n/b-1),y1:S*(n/b-1)}}function p3e(t){var e;if(Te(t)){var r=t.length;if(!r)return t;r===1?e=[t[0],t[0],0,0]:r===2?e=[t[0],t[0],t[1],t[1]]:r===3?e=t.concat(t[2]):e=t}else e=[t,t,t,t];return e}function g3e(t,e){var r,i=i1(e.r,0),n=i1(e.r0||0,0),a=i>0,s=n>0;if(!(!a&&!s)){if(a||(i=n,n=0),n>i){var o=i;i=n,n=o}var u=e.startAngle,l=e.endAngle;if(!(isNaN(u)||isNaN(l))){var c=e.cx,h=e.cy,f=!!e.clockwise,d=tR(l-u),p=d>hS&&d%hS;if(p>eo&&(d=p),!(i>eo))t.moveTo(c,h);else if(d>hS-eo)t.moveTo(c+i*Vf(u),h+i*T0(u)),t.arc(c,h,i,u,l,!f),n>eo&&(t.moveTo(c+n*Vf(l),h+n*T0(l)),t.arc(c,h,n,l,u,f));else{var g=void 0,v=void 0,m=void 0,y=void 0,_=void 0,x=void 0,b=void 0,C=void 0,E=void 0,A=void 0,S=void 0,T=void 0,D=void 0,F=void 0,B=void 0,O=void 0,M=i*Vf(u),R=i*T0(u),z=n*Vf(l),k=n*T0(l),U=d>eo;if(U){var V=e.cornerRadius;V&&(r=p3e(V),g=r[0],v=r[1],m=r[2],y=r[3]);var j=tR(i-n)/2;if(_=Bo(j,m),x=Bo(j,y),b=Bo(j,g),C=Bo(j,v),S=E=i1(_,x),T=A=i1(b,C),(E>eo||A>eo)&&(D=i*Vf(l),F=i*T0(l),B=n*Vf(u),O=n*T0(u),d<$Z)){var Y=d3e(M,R,B,O,D,F,z,k);if(Y){var te=M-Y[0],re=R-Y[1],de=D-Y[0],Oe=F-Y[1],he=1/T0(f3e((te*de+re*Oe)/(H1(te*te+re*re)*H1(de*de+Oe*Oe)))/2),le=H1(Y[0]*Y[0]+Y[1]*Y[1]);S=Bo(E,(i-le)/(he+1)),T=Bo(A,(n-le)/(he-1))}}}if(!U)t.moveTo(c+M,h+R);else if(S>eo){var pe=Bo(m,S),xe=Bo(y,S),be=a_(B,O,M,R,i,pe,f),q=a_(D,F,z,k,i,xe,f);t.moveTo(c+be.cx+be.x0,h+be.cy+be.y0),S<E&&pe===xe?t.arc(c+be.cx,h+be.cy,S,Bn(be.y0,be.x0),Bn(q.y0,q.x0),!f):(pe>0&&t.arc(c+be.cx,h+be.cy,pe,Bn(be.y0,be.x0),Bn(be.y1,be.x1),!f),t.arc(c,h,i,Bn(be.cy+be.y1,be.cx+be.x1),Bn(q.cy+q.y1,q.cx+q.x1),!f),xe>0&&t.arc(c+q.cx,h+q.cy,xe,Bn(q.y1,q.x1),Bn(q.y0,q.x0),!f))}else t.moveTo(c+M,h+R),t.arc(c,h,i,u,l,!f);if(!(n>eo)||!U)t.lineTo(c+z,h+k);else if(T>eo){var pe=Bo(g,T),xe=Bo(v,T),be=a_(z,k,D,F,n,-xe,f),q=a_(M,R,B,O,n,-pe,f);t.lineTo(c+be.cx+be.x0,h+be.cy+be.y0),T<A&&pe===xe?t.arc(c+be.cx,h+be.cy,T,Bn(be.y0,be.x0),Bn(q.y0,q.x0),!f):(xe>0&&t.arc(c+be.cx,h+be.cy,xe,Bn(be.y0,be.x0),Bn(be.y1,be.x1),!f),t.arc(c,h,n,Bn(be.cy+be.y1,be.cx+be.x1),Bn(q.cy+q.y1,q.cx+q.x1),f),pe>0&&t.arc(c+q.cx,h+q.cy,pe,Bn(q.y1,q.x1),Bn(q.y0,q.x0),!f))}else t.lineTo(c+z,h+k),t.arc(c,h,n,l,u,f)}t.closePath()}}}var v3e=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),da=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new v3e},e.prototype.buildPath=function(r,i){g3e(r,i)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(Pt);da.prototype.type="sector";var m3e=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),wm=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new m3e},e.prototype.buildPath=function(r,i){var n=i.cx,a=i.cy,s=Math.PI*2;r.moveTo(n+i.r,a),r.arc(n,a,i.r,0,s,!1),r.moveTo(n+i.r0,a),r.arc(n,a,i.r0,0,s,!0)},e}(Pt);wm.prototype.type="ring";function y3e(t,e,r,i){var n=[],a=[],s=[],o=[],u,l,c,h;if(i){c=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,d=t.length;f<d;f++)gc(c,c,t[f]),vc(h,h,t[f]);gc(c,c,i[0]),vc(h,h,i[1])}for(var f=0,d=t.length;f<d;f++){var p=t[f];if(r)u=t[f?f-1:d-1],l=t[(f+1)%d];else if(f===0||f===d-1){n.push(tl(t[f]));continue}else u=t[f-1],l=t[f+1];ch(a,l,u),Rx(a,a,e);var g=h8(p,u),v=h8(p,l),m=g+v;m!==0&&(g/=m,v/=m),Rx(s,a,-g),Rx(o,a,v);var y=JL([],p,s),_=JL([],p,o);i&&(vc(y,y,c),gc(y,y,h),vc(_,_,c),gc(_,_,h)),n.push(y),n.push(_)}return r&&n.push(n.shift()),n}function WZ(t,e,r){var i=e.smooth,n=e.points;if(n&&n.length>=2){if(i){var a=y3e(n,i,r,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var s=n.length,o=0;o<(r?s:s-1);o++){var u=a[o*2],l=a[o*2+1],c=n[(o+1)%s];t.bezierCurveTo(u[0],u[1],l[0],l[1],c[0],c[1])}}else{t.moveTo(n[0][0],n[0][1]);for(var o=1,h=n.length;o<h;o++)t.lineTo(n[o][0],n[o][1])}r&&t.closePath()}}var _3e=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),pa=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new _3e},e.prototype.buildPath=function(r,i){WZ(r,i,!0)},e}(Pt);pa.prototype.type="polygon";var x3e=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),ya=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new x3e},e.prototype.buildPath=function(r,i){WZ(r,i,!1)},e}(Pt);ya.prototype.type="polyline";var b3e={},C3e=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),Ui=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new C3e},e.prototype.buildPath=function(r,i){var n,a,s,o;if(this.subPixelOptimize){var u=wZ(b3e,i,this.style);n=u.x1,a=u.y1,s=u.x2,o=u.y2}else n=i.x1,a=i.y1,s=i.x2,o=i.y2;var l=i.percent;l!==0&&(r.moveTo(n,a),l<1&&(s=n*(1-l)+s*l,o=a*(1-l)+o*l),r.lineTo(s,o))},e.prototype.pointAt=function(r){var i=this.shape;return[i.x1*(1-r)+i.x2*r,i.y1*(1-r)+i.y2*r]},e}(Pt);Ui.prototype.type="line";var Ea=[],E3e=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function rR(t,e,r){var i=t.cpx2,n=t.cpy2;return i!=null||n!=null?[(r?cO:zi)(t.x1,t.cpx1,t.cpx2,t.x2,e),(r?cO:zi)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(r?v8:on)(t.x1,t.cpx1,t.x2,e),(r?v8:on)(t.y1,t.cpy1,t.y2,e)]}var Dm=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new E3e},e.prototype.buildPath=function(r,i){var n=i.x1,a=i.y1,s=i.x2,o=i.y2,u=i.cpx1,l=i.cpy1,c=i.cpx2,h=i.cpy2,f=i.percent;f!==0&&(r.moveTo(n,a),c==null||h==null?(f<1&&(T2(n,u,s,f,Ea),u=Ea[1],s=Ea[2],T2(a,l,o,f,Ea),l=Ea[1],o=Ea[2]),r.quadraticCurveTo(u,l,s,o)):(f<1&&(Rc(n,u,c,s,f,Ea),u=Ea[1],c=Ea[2],s=Ea[3],Rc(a,l,h,o,f,Ea),l=Ea[1],h=Ea[2],o=Ea[3]),r.bezierCurveTo(u,l,c,h,s,o)))},e.prototype.pointAt=function(r){return rR(this.shape,r,!1)},e.prototype.tangentAt=function(r){var i=rR(this.shape,r,!0);return sg(i,i)},e}(Pt);Dm.prototype.type="bezier-curve";var S3e=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),Db=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new S3e},e.prototype.buildPath=function(r,i){var n=i.cx,a=i.cy,s=Math.max(i.r,0),o=i.startAngle,u=i.endAngle,l=i.clockwise,c=Math.cos(o),h=Math.sin(o);r.moveTo(c*s+n,h*s+a),r.arc(n,a,s,o,u,!l)},e}(Pt);Db.prototype.type="arc";var g9=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return e.prototype._updatePathDirty=function(){for(var r=this.shape.paths,i=this.shapeChanged(),n=0;n<r.length;n++)i=i||r[n].shapeChanged();i&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],i=this.getGlobalScale(),n=0;n<r.length;n++)r[n].path||r[n].createPathProxy(),r[n].path.setScale(i[0],i[1],r[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(r,i){for(var n=i.paths||[],a=0;a<n.length;a++)n[a].buildPath(r,n[a].shape,!0)},e.prototype.afterBrush=function(){for(var r=this.shape.paths||[],i=0;i<r.length;i++)r[i].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Pt.prototype.getBoundingRect.call(this)},e}(Pt),YZ=function(){function t(e){this.colorStops=e||[]}return t.prototype.addColorStop=function(e,r){this.colorStops.push({offset:e,color:r})},t}(),Fm=function(t){ce(e,t);function e(r,i,n,a,s,o){var u=t.call(this,s)||this;return u.x=r??0,u.y=i??0,u.x2=n??1,u.y2=a??0,u.type="linear",u.global=o||!1,u}return e}(YZ),qZ=function(t){ce(e,t);function e(r,i,n,a,s){var o=t.call(this,a)||this;return o.x=r??.5,o.y=i??.5,o.r=n??.5,o.type="radial",o.global=s||!1,o}return e}(YZ),A0=[0,0],w0=[0,0],s_=new Ct,o_=new Ct,C3=function(){function t(e,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var i=0;i<4;i++)this._corners[i]=new Ct;for(var i=0;i<2;i++)this._axes[i]=new Ct;e&&this.fromBoundingRect(e,r)}return t.prototype.fromBoundingRect=function(e,r){var i=this._corners,n=this._axes,a=e.x,s=e.y,o=a+e.width,u=s+e.height;if(i[0].set(a,s),i[1].set(o,s),i[2].set(o,u),i[3].set(a,u),r)for(var l=0;l<4;l++)i[l].transform(r);Ct.sub(n[0],i[1],i[0]),Ct.sub(n[1],i[3],i[0]),n[0].normalize(),n[1].normalize();for(var l=0;l<2;l++)this._origin[l]=n[l].dot(i[0])},t.prototype.intersect=function(e,r){var i=!0,n=!r;return s_.set(1/0,1/0),o_.set(0,0),!this._intersectCheckOneSide(this,e,s_,o_,n,1)&&(i=!1,n)||!this._intersectCheckOneSide(e,this,s_,o_,n,-1)&&(i=!1,n)||n||Ct.copy(r,i?s_:o_),i},t.prototype._intersectCheckOneSide=function(e,r,i,n,a,s){for(var o=!0,u=0;u<2;u++){var l=this._axes[u];if(this._getProjMinMaxOnAxis(u,e._corners,A0),this._getProjMinMaxOnAxis(u,r._corners,w0),A0[1]<w0[0]||A0[0]>w0[1]){if(o=!1,a)return o;var c=Math.abs(w0[0]-A0[1]),h=Math.abs(A0[0]-w0[1]);Math.min(c,h)>n.len()&&(c<h?Ct.scale(n,l,-c*s):Ct.scale(n,l,h*s))}else if(i){var c=Math.abs(w0[0]-A0[1]),h=Math.abs(A0[0]-w0[1]);Math.min(c,h)<i.len()&&(c<h?Ct.scale(i,l,c*s):Ct.scale(i,l,-h*s))}}return o},t.prototype._getProjMinMaxOnAxis=function(e,r,i){for(var n=this._axes[e],a=this._origin,s=r[0].dot(n)+a[e],o=s,u=s,l=1;l<r.length;l++){var c=r[l].dot(n)+a[e];o=Math.min(c,o),u=Math.max(c,u)}i[0]=o,i[1]=u},t}(),T3e=[],A3e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return e.prototype.traverse=function(r,i){r.call(i,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(r,i){i?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},e.prototype.addDisplayables=function(r,i){i=i||!1;for(var n=0;n<r.length;n++)this.addDisplayable(r[n],i)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(r){for(var i=this._cursor;i<this._displayables.length;i++)r&&r(this._displayables[i]);for(var i=0;i<this._temporaryDisplayables.length;i++)r&&r(this._temporaryDisplayables[i])},e.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var i=this._displayables[r];i.parent=this,i.update(),i.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var i=this._temporaryDisplayables[r];i.parent=this,i.update(),i.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new Et(1/0,1/0,-1/0,-1/0),i=0;i<this._displayables.length;i++){var n=this._displayables[i],a=n.getBoundingRect().clone();n.needLocalTransform()&&a.applyTransform(n.getLocalTransform(T3e)),r.union(a)}this._rect=r}return this._rect},e.prototype.contain=function(r,i){var n=this.transformCoordToLocal(r,i),a=this.getBoundingRect();if(a.contain(n[0],n[1]))for(var s=0;s<this._displayables.length;s++){var o=this._displayables[s];if(o.contain(r,i))return!0}return!1},e}(zs),XZ=Yt();function cg(t,e,r,i,n){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var o=e&&e.isAnimationEnabled(),u=t==="update";if(o){var l=void 0,c=void 0,h=void 0;i?(l=gt(i.duration,200),c=gt(i.easing,"cubicOut"),h=0):(l=e.getShallow(u?"animationDurationUpdate":"animationDuration"),c=e.getShallow(u?"animationEasingUpdate":"animationEasing"),h=e.getShallow(u?"animationDelayUpdate":"animationDelay")),a&&(a.duration!=null&&(l=a.duration),a.easing!=null&&(c=a.easing),a.delay!=null&&(h=a.delay)),ot(h)&&(h=h(r,n)),ot(l)&&(l=l(r));var f={duration:l||0,delay:h,easing:c};return f}else return null}function v9(t,e,r,i,n,a,s){var o=!1,u;ot(n)?(s=a,a=n,n=null):lt(n)&&(a=n.cb,s=n.during,o=n.isFrom,u=n.removeOpt,n=n.dataIndex);var l=t==="leave";l||e.stopAnimation("leave");var c=cg(t,i,n,l?u||{}:null,i&&i.getAnimationDelayParams?i.getAnimationDelayParams(e,n):null);if(c&&c.duration>0){var h=c.duration,f=c.delay,d=c.easing,p={duration:h,delay:f||0,easing:d,done:a,force:!!a||!!s,setToFinal:!l,scope:t,during:s};o?e.animateFrom(r,p):e.animateTo(r,p)}else e.stopAnimation(),!o&&e.attr(r),s&&s(1),a&&a()}function er(t,e,r,i,n,a){v9("update",t,e,r,i,n,a)}function Nr(t,e,r,i,n,a){v9("enter",t,e,r,i,n,a)}function Xd(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++){var r=t.animators[e];if(r.scope==="leave")return!0}return!1}function Nc(t,e,r,i,n,a){Xd(t)||v9("leave",t,e,r,i,n,a)}function iR(t,e,r,i){t.removeTextContent(),t.removeTextGuideLine(),Nc(t,{style:{opacity:0}},e,r,i)}function M2(t,e,r){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(n){n.isGroup||iR(n,e,r,i)}):iR(t,e,r,i)}function bo(t){XZ(t).oldStyle=t.style}function w3e(t){return XZ(t).oldStyle}var E3=Math.max,S3=Math.min,G8={};function D3e(t){return Pt.extend(t)}var F3e=u3e;function I3e(t,e){return F3e(t,e)}function So(t,e){G8[t]=e}function m9(t){if(G8.hasOwnProperty(t))return G8[t]}function Fb(t,e,r,i){var n=VZ(t,e);return r&&(i==="center"&&(r=KZ(r,n.getBoundingRect())),JZ(n,r)),n}function ZZ(t,e,r){var i=new en({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(n){if(r==="center"){var a={width:n.width,height:n.height};i.setStyle(KZ(e,a))}}});return i}function KZ(t,e){var r=e.width/e.height,i=t.height*r,n;i<=t.width?n=t.height:(i=t.width,n=i/r);var a=t.x+t.width/2,s=t.y+t.height/2;return{x:a-i/2,y:s-n/2,width:i,height:n}}var As=l3e;function JZ(t,e){if(t.applyTransform){var r=t.getBoundingRect(),i=r.calculateTransform(e);t.applyTransform(i)}}function Tp(t,e){return wZ(t,t,{lineWidth:e}),t}function B3e(t){return DZ(t.shape,t.shape,t.style),t}var Wx=hh;function Ph(t,e){for(var r=vb([]);t&&t!==e;)rl(r,t.getLocalTransform(),r),t=t.parent;return r}function po(t,e,r){return e&&!Gn(e)&&(e=Ju.getLocalTransform(e)),r&&(e=Cf([],e)),Yi([],t,e)}function Ib(t,e,r){var i=e[4]===0||e[5]===0||e[0]===0?1:Math.abs(2*e[4]/e[0]),n=e[4]===0||e[5]===0||e[2]===0?1:Math.abs(2*e[4]/e[2]),a=[t==="left"?-i:t==="right"?i:0,t==="top"?-n:t==="bottom"?n:0];return a=po(a,e,r),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function nR(t){return!t.isGroup}function M3e(t){return t.shape!=null}function Im(t,e,r){if(!t||!e)return;function i(s){var o={};return s.traverse(function(u){nR(u)&&u.anid&&(o[u.anid]=u)}),o}function n(s){var o={x:s.x,y:s.y,rotation:s.rotation};return M3e(s)&&(o.shape=Ce({},s.shape)),o}var a=i(t);e.traverse(function(s){if(nR(s)&&s.anid){var o=a[s.anid];if(o){var u=n(s);s.attr(n(o)),er(s,u,r,pt(s).dataIndex)}}})}function QZ(t,e){return Ie(t,function(r){var i=r[0];i=E3(i,e.x),i=S3(i,e.x+e.width);var n=r[1];return n=E3(n,e.y),n=S3(n,e.y+e.height),[i,n]})}function P3e(t,e){var r=E3(t.x,e.x),i=S3(t.x+t.width,e.x+e.width),n=E3(t.y,e.y),a=S3(t.y+t.height,e.y+e.height);if(i>=r&&a>=n)return{x:r,y:n,width:i-r,height:a-n}}function Bm(t,e,r){var i=Ce({rectHover:!0},e),n=i.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(n.image=t.slice(8),st(n,r),new en(i)):Fb(t.replace("path://",""),i,r,"center")}function n1(t,e,r,i,n){for(var a=0,s=n[n.length-1];a<n.length;a++){var o=n[a];if(eK(t,e,r,i,o[0],o[1],s[0],s[1]))return!0;s=o}}function eK(t,e,r,i,n,a,s,o){var u=r-t,l=i-e,c=s-n,h=o-a,f=fS(c,h,u,l);if(L3e(f))return!1;var d=t-n,p=e-a,g=fS(d,p,u,l)/f;if(g<0||g>1)return!1;var v=fS(d,p,c,h)/f;return!(v<0||v>1)}function fS(t,e,r,i){return t*i-r*e}function L3e(t){return t<=1e-6&&t>=-1e-6}function Ef(t){var e=t.itemTooltipOption,r=t.componentModel,i=t.itemName,n=Xe(e)?{formatter:e}:e,a=r.mainType,s=r.componentIndex,o={componentType:a,name:i,$vars:["name"]};o[a+"Index"]=s;var u=t.formatterParamsExtra;u&&G(kt(u),function(c){tt(o,c)||(o[c]=u[c],o.$vars.push(c))});var l=pt(t.el);l.componentMainType=a,l.componentIndex=s,l.tooltipConfig={name:i,option:st({content:i,encodeHTMLContent:!0,formatterParams:o},n)}}function aR(t,e){var r;t.isGroup&&(r=e(t)),r||t.traverse(e)}function $c(t,e){if(t)if(Te(t))for(var r=0;r<t.length;r++)aR(t[r],e);else aR(t,e)}So("circle",Dl);So("ellipse",wb);So("sector",da);So("ring",wm);So("polygon",pa);So("polyline",ya);So("rect",Gt);So("line",Ui);So("bezierCurve",Dm);So("arc",Db);const Sf=Object.freeze(Object.defineProperty({__proto__:null,Arc:Db,BezierCurve:Dm,BoundingRect:Et,Circle:Dl,CompoundPath:g9,Ellipse:wb,Group:dt,Image:en,IncrementalDisplayable:A3e,Line:Ui,LinearGradient:Fm,OrientedBoundingRect:C3,Path:Pt,Point:Ct,Polygon:pa,Polyline:ya,RadialGradient:qZ,Rect:Gt,Ring:wm,Sector:da,Text:zt,applyTransform:po,clipPointsByRect:QZ,clipRectByRect:P3e,createIcon:Bm,extendPath:I3e,extendShape:D3e,getShapeClass:m9,getTransform:Ph,groupTransition:Im,initProps:Nr,isElementRemoved:Xd,lineLineIntersect:eK,linePolygonIntersect:n1,makeImage:ZZ,makePath:Fb,mergePath:As,registerShape:So,removeElement:Nc,removeElementWithFadeOut:M2,resizePath:JZ,setTooltipConfig:Ef,subPixelOptimize:Wx,subPixelOptimizeLine:Tp,subPixelOptimizeRect:B3e,transformDirection:Ib,traverseElements:$c,updateProps:er},Symbol.toStringTag,{value:"Module"}));var Bb={};function tK(t,e){for(var r=0;r<fa.length;r++){var i=fa[r],n=e[i],a=t.ensureState(i);a.style=a.style||{},a.style.text=n}var s=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(s,!0)}function U8(t,e,r){var i=t.labelFetcher,n=t.labelDataIndex,a=t.labelDimIndex,s=e.normal,o;i&&(o=i.getFormattedLabel(n,"normal",null,a,s&&s.get("formatter"),r!=null?{interpolatedValue:r}:null)),o==null&&(o=ot(t.defaultText)?t.defaultText(n,t,r):t.defaultText);for(var u={normal:o},l=0;l<fa.length;l++){var c=fa[l],h=e[c];u[c]=gt(i?i.getFormattedLabel(n,c,null,a,h&&h.get("formatter")):null,o)}return u}function In(t,e,r,i){r=r||Bb;for(var n=t instanceof zt,a=!1,s=0;s<I2.length;s++){var o=e[I2[s]];if(o&&o.getShallow("show")){a=!0;break}}var u=n?t:t.getTextContent();if(a){n||(u||(u=new zt,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var l=U8(r,e),c=e.normal,h=!!c.getShallow("show"),f=pr(c,i&&i.normal,r,!1,!n);f.text=l.normal,n||t.setTextConfig(T3(c,r,!1));for(var s=0;s<fa.length;s++){var d=fa[s],o=e[d];if(o){var p=u.ensureState(d),g=!!gt(o.getShallow("show"),h);if(g!==h&&(p.ignore=!g),p.style=pr(o,i&&i[d],r,!0,!n),p.style.text=l[d],!n){var v=t.ensureState(d);v.textConfig=T3(o,r,!0)}}}u.silent=!!c.getShallow("silent"),u.style.x!=null&&(f.x=u.style.x),u.style.y!=null&&(f.y=u.style.y),u.ignore=!h,u.useStyle(f),u.dirty(),r.enableTextSetter&&(hg(u).setLabelText=function(m){var y=U8(r,e,m);tK(u,y)})}else u&&(u.ignore=!0);t.dirty()}function Ki(t,e){e=e||"label";for(var r={normal:t.getModel(e)},i=0;i<fa.length;i++){var n=fa[i];r[n]=t.getModel([n,e])}return r}function pr(t,e,r,i,n){var a={};return O3e(a,t,r,i,n),e&&Ce(a,e),a}function T3(t,e,r){e=e||{};var i={},n,a=t.getShallow("rotate"),s=gt(t.getShallow("distance"),r?null:5),o=t.getShallow("offset");return n=t.getShallow("position")||(r?null:"inside"),n==="outside"&&(n=e.defaultOutsidePosition||"top"),n!=null&&(i.position=n),o!=null&&(i.offset=o),a!=null&&(a*=Math.PI/180,i.rotation=a),s!=null&&(i.distance=s),i.outsideFill=t.get("color")==="inherit"?e.inheritColor||null:"auto",i}function O3e(t,e,r,i,n){r=r||Bb;var a=e.ecModel,s=a&&a.option.textStyle,o=R3e(e),u;if(o){u={};for(var l in o)if(o.hasOwnProperty(l)){var c=e.getModel(["rich",l]);lR(u[l]={},c,s,r,i,n,!1,!0)}}u&&(t.rich=u);var h=e.get("overflow");h&&(t.overflow=h);var f=e.get("minMargin");f!=null&&(t.margin=f),lR(t,e,s,r,i,n,!0,!1)}function R3e(t){for(var e;t&&t!==t.ecModel;){var r=(t.option||Bb).rich;if(r){e=e||{};for(var i=kt(r),n=0;n<i.length;n++){var a=i[n];e[a]=1}}t=t.parentModel}return e}var sR=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],oR=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],uR=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function lR(t,e,r,i,n,a,s,o){r=!n&&r||Bb;var u=i&&i.inheritColor,l=e.getShallow("color"),c=e.getShallow("textBorderColor"),h=gt(e.getShallow("opacity"),r.opacity);(l==="inherit"||l==="auto")&&(u?l=u:l=null),(c==="inherit"||c==="auto")&&(u?c=u:c=null),a||(l=l||r.color,c=c||r.textBorderColor),l!=null&&(t.fill=l),c!=null&&(t.stroke=c);var f=gt(e.getShallow("textBorderWidth"),r.textBorderWidth);f!=null&&(t.lineWidth=f);var d=gt(e.getShallow("textBorderType"),r.textBorderType);d!=null&&(t.lineDash=d);var p=gt(e.getShallow("textBorderDashOffset"),r.textBorderDashOffset);p!=null&&(t.lineDashOffset=p),!n&&h==null&&!o&&(h=i&&i.defaultOpacity),h!=null&&(t.opacity=h),!n&&!a&&t.fill==null&&i.inheritColor&&(t.fill=i.inheritColor);for(var g=0;g<sR.length;g++){var v=sR[g],m=gt(e.getShallow(v),r[v]);m!=null&&(t[v]=m)}for(var g=0;g<oR.length;g++){var v=oR[g],m=e.getShallow(v);m!=null&&(t[v]=m)}if(t.verticalAlign==null){var y=e.getShallow("baseline");y!=null&&(t.verticalAlign=y)}if(!s||!i.disableBox){for(var g=0;g<uR.length;g++){var v=uR[g],m=e.getShallow(v);m!=null&&(t[v]=m)}var _=e.getShallow("borderType");_!=null&&(t.borderDash=_),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&u&&(t.backgroundColor=u),(t.borderColor==="auto"||t.borderColor==="inherit")&&u&&(t.borderColor=u)}}function y9(t,e){var r=e&&e.getModel("textStyle");return oo([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var hg=Yt();function rK(t,e,r,i){if(t){var n=hg(t);n.prevValue=n.value,n.value=r;var a=e.normal;n.valueAnimation=a.get("valueAnimation"),n.valueAnimation&&(n.precision=a.get("precision"),n.defaultInterpolatedText=i,n.statesModels=e)}}function iK(t,e,r,i,n){var a=hg(t);if(!a.valueAnimation||a.prevValue===a.value)return;var s=a.defaultInterpolatedText,o=gt(a.interpolatedValue,a.prevValue),u=a.value;function l(c){var h=_Z(r,a.precision,o,u,c);a.interpolatedValue=c===1?null:h;var f=U8({labelDataIndex:e,labelFetcher:n,defaultText:s?s(h):h+""},a.statesModels,h);tK(t,f)}t.percent=0,(a.prevValue==null?Nr:er)(t,{percent:1},i,e,null,l)}var N3e=["textStyle","color"],dS=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],pS=new zt,k3e=function(){function t(){}return t.prototype.getTextColor=function(e){var r=this.ecModel;return this.getShallow("color")||(!e&&r?r.get(N3e):null)},t.prototype.getFont=function(){return y9({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(e){for(var r={text:e,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},i=0;i<dS.length;i++)r[dS[i]]=this.getShallow(dS[i]);return pS.useStyle(r),pS.update(),pS.getBoundingRect()},t}(),nK=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],z3e=Jh(nK),H3e=function(){function t(){}return t.prototype.getLineStyle=function(e){return z3e(this,e)},t}(),aK=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],G3e=Jh(aK),U3e=function(){function t(){}return t.prototype.getItemStyle=function(e,r){return G3e(this,e,r)},t}(),Xt=function(){function t(e,r,i){this.parentModel=r,this.ecModel=i,this.option=e}return t.prototype.init=function(e,r,i){},t.prototype.mergeOption=function(e,r){et(this.option,e,!0)},t.prototype.get=function(e,r){return e==null?this.option:this._doGet(this.parsePath(e),!r&&this.parentModel)},t.prototype.getShallow=function(e,r){var i=this.option,n=i==null?i:i[e];if(n==null&&!r){var a=this.parentModel;a&&(n=a.getShallow(e))}return n},t.prototype.getModel=function(e,r){var i=e!=null,n=i?this.parsePath(e):null,a=i?this._doGet(n):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(n)),new t(a,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var e=this.constructor;return new e(ht(this.option))},t.prototype.parsePath=function(e){return typeof e=="string"?e.split("."):e},t.prototype.resolveParentPath=function(e){return e},t.prototype.isAnimationEnabled=function(){if(!Lt.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(e,r){var i=this.option;if(!e)return i;for(var n=0;n<e.length&&!(e[n]&&(i=i&&typeof i=="object"?i[e[n]]:null,i==null));n++);return i==null&&r&&(i=r._doGet(this.resolveParentPath(e),r.parentModel)),i},t}();s9(Xt);Kxe(Xt);yi(Xt,H3e);yi(Xt,U3e);yi(Xt,r5e);yi(Xt,k3e);var j3e=Math.round(Math.random()*10);function fg(t){return[t||"",j3e++].join("_")}function V3e(t){var e={};t.registerSubTypeDefaulter=function(r,i){var n=Ko(r);e[n.main]=i},t.determineSubType=function(r,i){var n=i.type;if(!n){var a=Ko(r).main;t.hasSubTypes(r)&&e[a]&&(n=e[a](i))}return n}}function $3e(t,e){t.topologicalTravel=function(a,s,o,u){if(!a.length)return;var l=r(s),c=l.graph,h=l.noEntryList,f={};for(G(a,function(y){f[y]=!0});h.length;){var d=h.pop(),p=c[d],g=!!f[d];g&&(o.call(u,d,p.originalDeps.slice()),delete f[d]),G(p.successor,g?m:v)}G(f,function(){var y="";throw new Error(y)});function v(y){c[y].entryCount--,c[y].entryCount===0&&h.push(y)}function m(y){f[y]=!0,v(y)}};function r(a){var s={},o=[];return G(a,function(u){var l=i(s,u),c=l.originalDeps=e(u),h=n(c,a);l.entryCount=h.length,l.entryCount===0&&o.push(u),G(h,function(f){wt(l.predecessor,f)<0&&l.predecessor.push(f);var d=i(s,f);wt(d.successor,f)<0&&d.successor.push(u)})}),{graph:s,noEntryList:o}}function i(a,s){return a[s]||(a[s]={predecessor:[],successor:[]}),a[s]}function n(a,s){var o=[];return G(a,function(u){wt(s,u)>=0&&o.push(u)}),o}}function Wc(t,e){return et(et({},t,!0),e,!0)}const W3e={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},Y3e={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var A3="ZH",_9="EN",Zd=_9,Yx={},x9={},sK=Lt.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||Zd).toUpperCase();return t.indexOf(A3)>-1?A3:Zd}():Zd;function oK(t,e){t=t.toUpperCase(),x9[t]=new Xt(e),Yx[t]=e}function q3e(t){if(Xe(t)){var e=Yx[t.toUpperCase()]||{};return t===A3||t===_9?ht(e):et(ht(e),ht(Yx[Zd]),!1)}else return et(ht(t),ht(Yx[Zd]),!1)}function j8(t){return x9[t]}function X3e(){return x9[Zd]}oK(_9,W3e);oK(A3,Y3e);var b9=1e3,C9=b9*60,G1=C9*60,ws=G1*24,cR=ws*365,a1={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},u_="{yyyy}-{MM}-{dd}",hR={year:"{yyyy}",month:"{yyyy}-{MM}",day:u_,hour:u_+" "+a1.hour,minute:u_+" "+a1.minute,second:u_+" "+a1.second,millisecond:a1.none},gS=["year","month","day","hour","minute","second","millisecond"],uK=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Qn(t,e){return t+="","0000".substr(0,e-t.length)+t}function Kd(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function Z3e(t){return t===Kd(t)}function K3e(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function Mb(t,e,r,i){var n=ks(t),a=n[E9(r)](),s=n[Jd(r)]()+1,o=Math.floor((s-1)/3)+1,u=n[Pb(r)](),l=n["get"+(r?"UTC":"")+"Day"](),c=n[P2(r)](),h=(c-1)%12+1,f=n[Lb(r)](),d=n[Ob(r)](),p=n[Rb(r)](),g=c>=12?"pm":"am",v=g.toUpperCase(),m=i instanceof Xt?i:j8(i||sK)||X3e(),y=m.getModel("time"),_=y.get("month"),x=y.get("monthAbbr"),b=y.get("dayOfWeek"),C=y.get("dayOfWeekAbbr");return(e||"").replace(/{a}/g,g+"").replace(/{A}/g,v+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Qn(a%100+"",2)).replace(/{Q}/g,o+"").replace(/{MMMM}/g,_[s-1]).replace(/{MMM}/g,x[s-1]).replace(/{MM}/g,Qn(s,2)).replace(/{M}/g,s+"").replace(/{dd}/g,Qn(u,2)).replace(/{d}/g,u+"").replace(/{eeee}/g,b[l]).replace(/{ee}/g,C[l]).replace(/{e}/g,l+"").replace(/{HH}/g,Qn(c,2)).replace(/{H}/g,c+"").replace(/{hh}/g,Qn(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Qn(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Qn(d,2)).replace(/{s}/g,d+"").replace(/{SSS}/g,Qn(p,3)).replace(/{S}/g,p+"")}function J3e(t,e,r,i,n){var a=null;if(Xe(r))a=r;else if(ot(r))a=r(t.value,e,{level:t.level});else{var s=Ce({},a1);if(t.level>0)for(var o=0;o<gS.length;++o)s[gS[o]]="{primary|"+s[gS[o]]+"}";var u=r?r.inherit===!1?r:st(r,s):s,l=lK(t.value,n);if(u[l])a=u[l];else if(u.inherit){for(var c=uK.indexOf(l),o=c-1;o>=0;--o)if(u[l]){a=u[l];break}a=a||s.none}if(Te(a)){var h=t.level==null?0:t.level>=0?t.level:a.length+t.level;h=Math.min(h,a.length-1),a=a[h]}}return Mb(new Date(t.value),a,n,i)}function lK(t,e){var r=ks(t),i=r[Jd(e)]()+1,n=r[Pb(e)](),a=r[P2(e)](),s=r[Lb(e)](),o=r[Ob(e)](),u=r[Rb(e)](),l=u===0,c=l&&o===0,h=c&&s===0,f=h&&a===0,d=f&&n===1,p=d&&i===1;return p?"year":d?"month":f?"day":h?"hour":c?"minute":l?"second":"millisecond"}function fR(t,e,r){var i=Zt(t)?ks(t):t;switch(e=e||lK(t,r),e){case"year":return i[E9(r)]();case"half-year":return i[Jd(r)]()>=6?1:0;case"quarter":return Math.floor((i[Jd(r)]()+1)/4);case"month":return i[Jd(r)]();case"day":return i[Pb(r)]();case"half-day":return i[P2(r)]()/24;case"hour":return i[P2(r)]();case"minute":return i[Lb(r)]();case"second":return i[Ob(r)]();case"millisecond":return i[Rb(r)]()}}function E9(t){return t?"getUTCFullYear":"getFullYear"}function Jd(t){return t?"getUTCMonth":"getMonth"}function Pb(t){return t?"getUTCDate":"getDate"}function P2(t){return t?"getUTCHours":"getHours"}function Lb(t){return t?"getUTCMinutes":"getMinutes"}function Ob(t){return t?"getUTCSeconds":"getSeconds"}function Rb(t){return t?"getUTCMilliseconds":"getMilliseconds"}function Q3e(t){return t?"setUTCFullYear":"setFullYear"}function cK(t){return t?"setUTCMonth":"setMonth"}function hK(t){return t?"setUTCDate":"setDate"}function fK(t){return t?"setUTCHours":"setHours"}function dK(t){return t?"setUTCMinutes":"setMinutes"}function pK(t){return t?"setUTCSeconds":"setSeconds"}function gK(t){return t?"setUTCMilliseconds":"setMilliseconds"}function w3(t){if(!hZ(t))return Xe(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function vK(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,i){return i.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var dg=Z7;function V8(t,e,r){var i="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function n(c){return c&&oo(c)?c:"-"}function a(c){return!!(c!=null&&!isNaN(c)&&isFinite(c))}var s=e==="time",o=t instanceof Date;if(s||o){var u=s?ks(t):t;if(isNaN(+u)){if(o)return"-"}else return Mb(u,i,r)}if(e==="ordinal")return u8(t)?n(t):Zt(t)&&a(t)?t+"":"-";var l=dl(t);return a(l)?w3(l):u8(t)?n(t):typeof t=="boolean"?t+"":"-"}var dR=["a","b","c","d","e","f","g"],vS=function(t,e){return"{"+t+(e??"")+"}"};function S9(t,e,r){Te(e)||(e=[e]);var i=e.length;if(!i)return"";for(var n=e[0].$vars||[],a=0;a<n.length;a++){var s=dR[a];t=t.replace(vS(s),vS(s,0))}for(var o=0;o<i;o++)for(var u=0;u<n.length;u++){var l=e[o][n[u]];t=t.replace(vS(dR[u],o),r?Ai(l):l)}return t}function e4e(t,e,r){return G(e,function(i,n){t=t.replace("{"+n+"}",i)}),t}function mK(t,e){var r=Xe(t)?{color:t,extraCssText:e}:t||{},i=r.color,n=r.type;e=r.extraCssText;var a=r.renderMode||"html";if(!i)return"";if(a==="html")return n==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ai(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Ai(i)+";"+(e||"")+'"></span>';var s=r.markerId||"markerX";return{renderMode:a,content:"{"+s+"|}  ",style:n==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:i}:{width:10,height:10,borderRadius:5,backgroundColor:i}}}function t4e(t,e,r){(t==="week"||t==="month"||t==="quarter"||t==="half-year"||t==="year")&&(t=`MM-dd
yyyy`);var i=ks(e),n="get",a=i[n+"FullYear"](),s=i[n+"Month"]()+1,o=i[n+"Date"](),u=i[n+"Hours"](),l=i[n+"Minutes"](),c=i[n+"Seconds"](),h=i[n+"Milliseconds"]();return t=t.replace("MM",Qn(s,2)).replace("M",s).replace("yyyy",a).replace("yy",Qn(a%100+"",2)).replace("dd",Qn(o,2)).replace("d",o).replace("hh",Qn(u,2)).replace("h",u).replace("mm",Qn(l,2)).replace("m",l).replace("ss",Qn(c,2)).replace("s",c).replace("SSS",Qn(h,3)),t}function ef(t,e){return e=e||"transparent",Xe(t)?t:lt(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function D3(t,e){if(e==="_blank"||e==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,e)}var qx=G,yK=["left","right","top","bottom","width","height"],dh=[["width","left","right"],["height","top","bottom"]];function T9(t,e,r,i,n){var a=0,s=0;i==null&&(i=1/0),n==null&&(n=1/0);var o=0;e.eachChild(function(u,l){var c=u.getBoundingRect(),h=e.childAt(l+1),f=h&&h.getBoundingRect(),d,p;if(t==="horizontal"){var g=c.width+(f?-f.x+c.x:0);d=a+g,d>i||u.newline?(a=0,d=g,s+=o+r,o=c.height):o=Math.max(o,c.height)}else{var v=c.height+(f?-f.y+c.y:0);p=s+v,p>n||u.newline?(a+=o+r,s=0,p=v,o=c.width):o=Math.max(o,c.width)}u.newline||(u.x=a,u.y=s,u.markRedraw(),t==="horizontal"?a=d+r:s=p+r)})}var Lh=T9;mt(T9,"vertical");mt(T9,"horizontal");function r4e(t,e,r){var i=e.width,n=e.height,a=je(t.left,i),s=je(t.top,n),o=je(t.right,i),u=je(t.bottom,n);return(isNaN(a)||isNaN(parseFloat(t.left)))&&(a=0),(isNaN(o)||isNaN(parseFloat(t.right)))&&(o=i),(isNaN(s)||isNaN(parseFloat(t.top)))&&(s=0),(isNaN(u)||isNaN(parseFloat(t.bottom)))&&(u=n),r=dg(r||0),{width:Math.max(o-a-r[1]-r[3],0),height:Math.max(u-s-r[0]-r[2],0)}}function ai(t,e,r){r=dg(r||0);var i=e.width,n=e.height,a=je(t.left,i),s=je(t.top,n),o=je(t.right,i),u=je(t.bottom,n),l=je(t.width,i),c=je(t.height,n),h=r[2]+r[0],f=r[1]+r[3],d=t.aspect;switch(isNaN(l)&&(l=i-o-f-a),isNaN(c)&&(c=n-u-h-s),d!=null&&(isNaN(l)&&isNaN(c)&&(d>i/n?l=i*.8:c=n*.8),isNaN(l)&&(l=d*c),isNaN(c)&&(c=l/d)),isNaN(a)&&(a=i-o-l-f),isNaN(s)&&(s=n-u-c-h),t.left||t.right){case"center":a=i/2-l/2-r[3];break;case"right":a=i-l-f;break}switch(t.top||t.bottom){case"middle":case"center":s=n/2-c/2-r[0];break;case"bottom":s=n-c-h;break}a=a||0,s=s||0,isNaN(l)&&(l=i-f-a-(o||0)),isNaN(c)&&(c=n-h-s-(u||0));var p=new Et(a+r[3],s+r[0],l,c);return p.margin=r,p}function Nb(t,e,r,i,n,a){var s=!n||!n.hv||n.hv[0],o=!n||!n.hv||n.hv[1],u=n&&n.boundingMode||"all";if(a=a||t,a.x=t.x,a.y=t.y,!s&&!o)return!1;var l;if(u==="raw")l=t.type==="group"?new Et(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();l=l.clone(),l.applyTransform(c)}var h=ai(st({width:l.width,height:l.height},e),r,i),f=s?h.x-l.x:0,d=o?h.y-l.y:0;return u==="raw"?(a.x=f,a.y=d):(a.x+=f,a.y+=d),a===t&&t.markRedraw(),!0}function i4e(t,e){return t[dh[e][0]]!=null||t[dh[e][1]]!=null&&t[dh[e][2]]!=null}function L2(t){var e=t.layoutMode||t.constructor.layoutMode;return lt(e)?e:e?{type:e}:null}function kc(t,e,r){var i=r&&r.ignoreSize;!Te(i)&&(i=[i,i]);var n=s(dh[0],0),a=s(dh[1],1);l(dh[0],t,n),l(dh[1],t,a);function s(c,h){var f={},d=0,p={},g=0,v=2;if(qx(c,function(_){p[_]=t[_]}),qx(c,function(_){o(e,_)&&(f[_]=p[_]=e[_]),u(f,_)&&d++,u(p,_)&&g++}),i[h])return u(e,c[1])?p[c[2]]=null:u(e,c[2])&&(p[c[1]]=null),p;if(g===v||!d)return p;if(d>=v)return f;for(var m=0;m<c.length;m++){var y=c[m];if(!o(f,y)&&o(t,y)){f[y]=t[y];break}}return f}function o(c,h){return c.hasOwnProperty(h)}function u(c,h){return c[h]!=null&&c[h]!=="auto"}function l(c,h,f){qx(c,function(d){h[d]=f[d]})}}function pg(t){return _K({},t)}function _K(t,e){return e&&t&&qx(yK,function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t}var n4e=Yt(),Dt=function(t){ce(e,t);function e(r,i,n){var a=t.call(this,r,i,n)||this;return a.uid=fg("ec_cpt_model"),a}return e.prototype.init=function(r,i,n){this.mergeDefaultAndTheme(r,n)},e.prototype.mergeDefaultAndTheme=function(r,i){var n=L2(this),a=n?pg(r):{},s=i.getTheme();et(r,s.get(this.mainType)),et(r,this.getDefaultOption()),n&&kc(r,a,n)},e.prototype.mergeOption=function(r,i){et(this.option,r,!0);var n=L2(this);n&&kc(this.option,r,n)},e.prototype.optionUpdated=function(r,i){},e.prototype.getDefaultOption=function(){var r=this.constructor;if(!qxe(r))return r.defaultOption;var i=n4e(this);if(!i.defaultOption){for(var n=[],a=r;a;){var s=a.prototype.defaultOption;s&&n.push(s),a=a.superClass}for(var o={},u=n.length-1;u>=0;u--)o=et(o,n[u],!0);i.defaultOption=o}return i.defaultOption},e.prototype.getReferringComponents=function(r,i){var n=r+"Index",a=r+"Id";return Tm(this.ecModel,r,{index:this.get(n,!0),id:this.get(a,!0)},i)},e.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(r){this.option.zlevel=r},e.protoInitialize=function(){var r=e.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),e}(Xt);bZ(Dt,Xt);bb(Dt);V3e(Dt);$3e(Dt,a4e);function a4e(t){var e=[];return G(Dt.getClassesByMainType(t),function(r){e=e.concat(r.dependencies||r.prototype.dependencies||[])}),e=Ie(e,function(r){return Ko(r).main}),t!=="dataset"&&wt(e,"dataset")<=0&&e.unshift("dataset"),e}var xK="";typeof navigator<"u"&&(xK=navigator.platform||"");var $f="rgba(0, 0, 0, 0.2)";const s4e={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:$f,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:$f,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:$f,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:$f,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:$f,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:$f,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:xK.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var bK=nt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),js="original",Un="arrayRows",Vs="objectRows",Su="keyedColumns",Ic="typedArray",CK="unknown",uu="column",gg="row",_n={Must:1,Might:2,Not:3},EK=Yt();function o4e(t){EK(t).datasetMap=nt()}function SK(t,e,r){var i={},n=w9(e);if(!n||!t)return i;var a=[],s=[],o=e.ecModel,u=EK(o).datasetMap,l=n.uid+"_"+r.seriesLayoutBy,c,h;t=t.slice(),G(t,function(g,v){var m=lt(g)?g:t[v]={name:g};m.type==="ordinal"&&c==null&&(c=v,h=p(m)),i[m.name]=[]});var f=u.get(l)||u.set(l,{categoryWayDim:h,valueWayDim:0});G(t,function(g,v){var m=g.name,y=p(g);if(c==null){var _=f.valueWayDim;d(i[m],_,y),d(s,_,y),f.valueWayDim+=y}else if(c===v)d(i[m],0,y),d(a,0,y);else{var _=f.categoryWayDim;d(i[m],_,y),d(s,_,y),f.categoryWayDim+=y}});function d(g,v,m){for(var y=0;y<m;y++)g.push(v+y)}function p(g){var v=g.dimsDef;return v?v.length:1}return a.length&&(i.itemName=a),s.length&&(i.seriesName=s),i}function A9(t,e,r){var i={},n=w9(t);if(!n)return i;var a=e.sourceFormat,s=e.dimensionsDefine,o;(a===Vs||a===Su)&&G(s,function(c,h){(lt(c)?c.name:c)==="name"&&(o=h)});var u=function(){for(var c={},h={},f=[],d=0,p=Math.min(5,r);d<p;d++){var g=AK(e.data,a,e.seriesLayoutBy,s,e.startIndex,d);f.push(g);var v=g===_n.Not;if(v&&c.v==null&&d!==o&&(c.v=d),(c.n==null||c.n===c.v||!v&&f[c.n]===_n.Not)&&(c.n=d),m(c)&&f[c.n]!==_n.Not)return c;v||(g===_n.Might&&h.v==null&&d!==o&&(h.v=d),(h.n==null||h.n===h.v)&&(h.n=d))}function m(y){return y.v!=null&&y.n!=null}return m(c)?c:m(h)?h:null}();if(u){i.value=[u.v];var l=o??u.n;i.itemName=[l],i.seriesName=[l]}return i}function w9(t){var e=t.get("data",!0);if(!e)return Tm(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},wi).models[0]}function u4e(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:Tm(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},wi).models}function TK(t,e){return AK(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function AK(t,e,r,i,n,a){var s,o=5;if(ka(t))return _n.Not;var u,l;if(i){var c=i[a];lt(c)?(u=c.name,l=c.type):Xe(c)&&(u=c)}if(l!=null)return l==="ordinal"?_n.Must:_n.Not;if(e===Un){var h=t;if(r===gg){for(var f=h[a],d=0;d<(f||[]).length&&d<o;d++)if((s=x(f[n+d]))!=null)return s}else for(var d=0;d<h.length&&d<o;d++){var p=h[n+d];if(p&&(s=x(p[a]))!=null)return s}}else if(e===Vs){var g=t;if(!u)return _n.Not;for(var d=0;d<g.length&&d<o;d++){var v=g[d];if(v&&(s=x(v[u]))!=null)return s}}else if(e===Su){var m=t;if(!u)return _n.Not;var f=m[u];if(!f||ka(f))return _n.Not;for(var d=0;d<f.length&&d<o;d++)if((s=x(f[d]))!=null)return s}else if(e===js)for(var y=t,d=0;d<y.length&&d<o;d++){var v=y[d],_=ug(v);if(!Te(_))return _n.Not;if((s=x(_[a]))!=null)return s}function x(b){var C=Xe(b);if(b!=null&&Number.isFinite(Number(b))&&b!=="")return C?_n.Might:_n.Not;if(C&&b!=="-")return _n.Must}return _n.Not}var $8=nt();function l4e(t,e){ha($8.get(t)==null&&e),$8.set(t,e)}function c4e(t,e,r){var i=$8.get(e);if(!i)return r;var n=i(t);return n?r.concat(n):r}var pR=Yt(),h4e=Yt(),D9=function(){function t(){}return t.prototype.getColorFromPalette=function(e,r,i){var n=mr(this.get("color",!0)),a=this.get("colorLayer",!0);return wK(this,pR,n,a,e,r,i)},t.prototype.clearColorPalette=function(){d4e(this,pR)},t}();function W8(t,e,r,i){var n=mr(t.get(["aria","decal","decals"]));return wK(t,h4e,n,null,e,r,i)}function f4e(t,e){for(var r=t.length,i=0;i<r;i++)if(t[i].length>e)return t[i];return t[r-1]}function wK(t,e,r,i,n,a,s){a=a||t;var o=e(a),u=o.paletteIdx||0,l=o.paletteNameMap=o.paletteNameMap||{};if(l.hasOwnProperty(n))return l[n];var c=s==null||!i?r:f4e(i,s);if(c=c||r,!(!c||!c.length)){var h=c[u];return n&&(l[n]=h),o.paletteIdx=(u+1)%c.length,h}}function d4e(t,e){e(t).paletteIdx=0,e(t).paletteNameMap={}}var l_,gv,gR,vR="\0_ec_inner",p4e=1,F9=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r,i,n,a,s,o){a=a||{},this.option=null,this._theme=new Xt(a),this._locale=new Xt(s),this._optionManager=o},e.prototype.setOption=function(r,i,n){var a=_R(i);this._optionManager.setOption(r,n,a),this._resetOption(null,a)},e.prototype.resetOption=function(r,i){return this._resetOption(r,_R(i))},e.prototype._resetOption=function(r,i){var n=!1,a=this._optionManager;if(!r||r==="recreate"){var s=a.mountOption(r==="recreate");!this.option||r==="recreate"?gR(this,s):(this.restoreData(),this._mergeOption(s,i)),n=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var o=a.getTimelineOption(this);o&&(n=!0,this._mergeOption(o,i))}if(!r||r==="recreate"||r==="media"){var u=a.getMediaOption(this);u.length&&G(u,function(l){n=!0,this._mergeOption(l,i)},this)}return n},e.prototype.mergeOption=function(r){this._mergeOption(r,null)},e.prototype._mergeOption=function(r,i){var n=this.option,a=this._componentsMap,s=this._componentsCount,o=[],u=nt(),l=i&&i.replaceMergeMainTypeMap;o4e(this),G(r,function(h,f){h!=null&&(Dt.hasClass(f)?f&&(o.push(f),u.set(f,!0)):n[f]=n[f]==null?ht(h):et(n[f],h,!0))}),l&&l.each(function(h,f){Dt.hasClass(f)&&!u.get(f)&&(o.push(f),u.set(f,!0))}),Dt.topologicalTravel(o,Dt.getAllClassMainTypes(),c,this);function c(h){var f=c4e(this,h,mr(r[h])),d=a.get(h),p=d?l&&l.get(h)?"replaceMerge":"normalMerge":"replaceAll",g=vZ(d,f,p);zxe(g,h,Dt),n[h]=null,a.set(h,null),s.set(h,0);var v=[],m=[],y=0,_;G(g,function(x,b){var C=x.existing,E=x.newOption;if(!E)C&&(C.mergeOption({},this),C.optionUpdated({},!1));else{var A=h==="series",S=Dt.getClass(h,x.keyInfo.subType,!A);if(!S)return;if(h==="tooltip"){if(_)return;_=!0}if(C&&C.constructor===S)C.name=x.keyInfo.name,C.mergeOption(E,this),C.optionUpdated(E,!1);else{var T=Ce({componentIndex:b},x.keyInfo);C=new S(E,this,this,T),Ce(C,T),x.brandNew&&(C.__requireNewView=!0),C.init(E,this,this),C.optionUpdated(null,!0)}}C?(v.push(C.option),m.push(C),y++):(v.push(void 0),m.push(void 0))},this),n[h]=v,a.set(h,m),s.set(h,y),h==="series"&&l_(this)}this._seriesIndices||l_(this)},e.prototype.getOption=function(){var r=ht(this.option);return G(r,function(i,n){if(Dt.hasClass(n)){for(var a=mr(i),s=a.length,o=!1,u=s-1;u>=0;u--)a[u]&&!F2(a[u])?o=!0:(a[u]=null,!o&&s--);a.length=s,r[n]=a}}),delete r[vR],r},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(r){this._payload=r},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(r,i){var n=this._componentsMap.get(r);if(n){var a=n[i||0];if(a)return a;if(i==null){for(var s=0;s<n.length;s++)if(n[s])return n[s]}}},e.prototype.queryComponents=function(r){var i=r.mainType;if(!i)return[];var n=r.index,a=r.id,s=r.name,o=this._componentsMap.get(i);if(!o||!o.length)return[];var u;return n!=null?(u=[],G(mr(n),function(l){o[l]&&u.push(o[l])})):a!=null?u=mR("id",a,o):s!=null?u=mR("name",s,o):u=sr(o,function(l){return!!l}),yR(u,r)},e.prototype.findComponents=function(r){var i=r.query,n=r.mainType,a=o(i),s=a?this.queryComponents(a):sr(this._componentsMap.get(n),function(l){return!!l});return u(yR(s,r));function o(l){var c=n+"Index",h=n+"Id",f=n+"Name";return l&&(l[c]!=null||l[h]!=null||l[f]!=null)?{mainType:n,index:l[c],id:l[h],name:l[f]}:null}function u(l){return r.filter?sr(l,r.filter):l}},e.prototype.eachComponent=function(r,i,n){var a=this._componentsMap;if(ot(r)){var s=i,o=r;a.each(function(h,f){for(var d=0;h&&d<h.length;d++){var p=h[d];p&&o.call(s,f,p,p.componentIndex)}})}else for(var u=Xe(r)?a.get(r):lt(r)?this.findComponents(r):null,l=0;u&&l<u.length;l++){var c=u[l];c&&i.call(n,c,c.componentIndex)}},e.prototype.getSeriesByName=function(r){var i=Oi(r,null);return sr(this._componentsMap.get("series"),function(n){return!!n&&i!=null&&n.name===i})},e.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},e.prototype.getSeriesByType=function(r){return sr(this._componentsMap.get("series"),function(i){return!!i&&i.subType===r})},e.prototype.getSeries=function(){return sr(this._componentsMap.get("series"),function(r){return!!r})},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(r,i){gv(this),G(this._seriesIndices,function(n){var a=this._componentsMap.get("series")[n];r.call(i,a,n)},this)},e.prototype.eachRawSeries=function(r,i){G(this._componentsMap.get("series"),function(n){n&&r.call(i,n,n.componentIndex)})},e.prototype.eachSeriesByType=function(r,i,n){gv(this),G(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];s.subType===r&&i.call(n,s,a)},this)},e.prototype.eachRawSeriesByType=function(r,i,n){return G(this.getSeriesByType(r),i,n)},e.prototype.isSeriesFiltered=function(r){return gv(this),this._seriesIndicesMap.get(r.componentIndex)==null},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(r,i){gv(this);var n=[];G(this._seriesIndices,function(a){var s=this._componentsMap.get("series")[a];r.call(i,s,a)&&n.push(a)},this),this._seriesIndices=n,this._seriesIndicesMap=nt(n)},e.prototype.restoreData=function(r){l_(this);var i=this._componentsMap,n=[];i.each(function(a,s){Dt.hasClass(s)&&n.push(s)}),Dt.topologicalTravel(n,Dt.getAllClassMainTypes(),function(a){G(i.get(a),function(s){s&&(a!=="series"||!g4e(s,r))&&s.restoreData()})})},e.internalField=function(){l_=function(r){var i=r._seriesIndices=[];G(r._componentsMap.get("series"),function(n){n&&i.push(n.componentIndex)}),r._seriesIndicesMap=nt(i)},gv=function(r){},gR=function(r,i){r.option={},r.option[vR]=p4e,r._componentsMap=nt({series:[]}),r._componentsCount=nt();var n=i.aria;lt(n)&&n.enabled==null&&(n.enabled=!0),v4e(i,r._theme.option),et(i,s4e,!1),r._mergeOption(i,null)}}(),e}(Xt);function g4e(t,e){if(e){var r=e.seriesIndex,i=e.seriesId,n=e.seriesName;return r!=null&&t.componentIndex!==r||i!=null&&t.id!==i||n!=null&&t.name!==n}}function v4e(t,e){var r=t.color&&!t.colorLayer;G(e,function(i,n){n==="colorLayer"&&r||Dt.hasClass(n)||(typeof i=="object"?t[n]=t[n]?et(t[n],i,!1):ht(i):t[n]==null&&(t[n]=i))})}function mR(t,e,r){if(Te(e)){var i=nt();return G(e,function(a){if(a!=null){var s=Oi(a,null);s!=null&&i.set(a,!0)}}),sr(r,function(a){return a&&i.get(a[t])})}else{var n=Oi(e,null);return sr(r,function(a){return a&&n!=null&&a[t]===n})}}function yR(t,e){return e.hasOwnProperty("subType")?sr(t,function(r){return r&&r.subType===e.subType}):t}function _R(t){var e=nt();return t&&G(mr(t.replaceMerge),function(r){e.set(r,!0)}),{replaceMergeMainTypeMap:e}}yi(F9,D9);var m4e=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],DK=function(){function t(e){G(m4e,function(r){this[r]=Je(e[r],e)},this)}return t}(),mS={},vg=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(e,r){var i=[];G(mS,function(n,a){var s=n.create(e,r);i=i.concat(s||[])}),this._coordinateSystems=i},t.prototype.update=function(e,r){G(this._coordinateSystems,function(i){i.update&&i.update(e,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(e,r){mS[e]=r},t.get=function(e){return mS[e]},t}(),y4e=/^(min|max)?(.+)$/,_4e=function(){function t(e){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=e}return t.prototype.setOption=function(e,r,i){e&&(G(mr(e.series),function(s){s&&s.data&&ka(s.data)&&d3(s.data)}),G(mr(e.dataset),function(s){s&&s.source&&ka(s.source)&&d3(s.source)})),e=ht(e);var n=this._optionBackup,a=x4e(e,r,!n);this._newBaseOption=a.baseOption,n?(a.timelineOptions.length&&(n.timelineOptions=a.timelineOptions),a.mediaList.length&&(n.mediaList=a.mediaList),a.mediaDefault&&(n.mediaDefault=a.mediaDefault)):this._optionBackup=a},t.prototype.mountOption=function(e){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],ht(e?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(e){var r,i=this._timelineOptions;if(i.length){var n=e.getComponent("timeline");n&&(r=ht(i[n.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(e){var r=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,a=this._mediaDefault,s=[],o=[];if(!n.length&&!a)return o;for(var u=0,l=n.length;u<l;u++)b4e(n[u].query,r,i)&&s.push(u);return!s.length&&a&&(s=[-1]),s.length&&!E4e(s,this._currentMediaIndices)&&(o=Ie(s,function(c){return ht(c===-1?a.option:n[c].option)})),this._currentMediaIndices=s,o},t}();function x4e(t,e,r){var i=[],n,a,s=t.baseOption,o=t.timeline,u=t.options,l=t.media,c=!!t.media,h=!!(u||o||s&&s.timeline);s?(a=s,a.timeline||(a.timeline=o)):((h||c)&&(t.options=t.media=null),a=t),c&&Te(l)&&G(l,function(d){d&&d.option&&(d.query?i.push(d):n||(n=d))}),f(a),G(u,function(d){return f(d)}),G(i,function(d){return f(d.option)});function f(d){G(e,function(p){p(d,r)})}return{baseOption:a,timelineOptions:u||[],mediaDefault:n,mediaList:i}}function b4e(t,e,r){var i={width:e,height:r,aspectratio:e/r},n=!0;return G(t,function(a,s){var o=s.match(y4e);if(!(!o||!o[1]||!o[2])){var u=o[1],l=o[2].toLowerCase();C4e(i[l],a,u)||(n=!1)}}),n}function C4e(t,e,r){return r==="min"?t>=e:r==="max"?t<=e:t===e}function E4e(t,e){return t.join(",")===e.join(",")}var Zs=G,O2=lt,xR=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function yS(t){var e=t&&t.itemStyle;if(e)for(var r=0,i=xR.length;r<i;r++){var n=xR[r],a=e.normal,s=e.emphasis;a&&a[n]&&(t[n]=t[n]||{},t[n].normal?et(t[n].normal,a[n]):t[n].normal=a[n],a[n]=null),s&&s[n]&&(t[n]=t[n]||{},t[n].emphasis?et(t[n].emphasis,s[n]):t[n].emphasis=s[n],s[n]=null)}}function Rn(t,e,r){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,n=t[e].emphasis;i&&(r?(t[e].normal=t[e].emphasis=null,st(t[e],i)):t[e]=i),n&&(t.emphasis=t.emphasis||{},t.emphasis[e]=n,n.focus&&(t.emphasis.focus=n.focus),n.blurScope&&(t.emphasis.blurScope=n.blurScope))}}function s1(t){Rn(t,"itemStyle"),Rn(t,"lineStyle"),Rn(t,"areaStyle"),Rn(t,"label"),Rn(t,"labelLine"),Rn(t,"upperLabel"),Rn(t,"edgeLabel")}function Ei(t,e){var r=O2(t)&&t[e],i=O2(r)&&r.textStyle;if(i)for(var n=0,a=AO.length;n<a;n++){var s=AO[n];i.hasOwnProperty(s)&&(r[s]=i[s])}}function _s(t){t&&(s1(t),Ei(t,"label"),t.emphasis&&Ei(t.emphasis,"label"))}function S4e(t){if(O2(t)){yS(t),s1(t),Ei(t,"label"),Ei(t,"upperLabel"),Ei(t,"edgeLabel"),t.emphasis&&(Ei(t.emphasis,"label"),Ei(t.emphasis,"upperLabel"),Ei(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(yS(e),_s(e));var r=t.markLine;r&&(yS(r),_s(r));var i=t.markArea;i&&_s(i);var n=t.data;if(t.type==="graph"){n=n||t.nodes;var a=t.links||t.edges;if(a&&!ka(a))for(var s=0;s<a.length;s++)_s(a[s]);G(t.categories,function(l){s1(l)})}if(n&&!ka(n))for(var s=0;s<n.length;s++)_s(n[s]);if(e=t.markPoint,e&&e.data)for(var o=e.data,s=0;s<o.length;s++)_s(o[s]);if(r=t.markLine,r&&r.data)for(var u=r.data,s=0;s<u.length;s++)Te(u[s])?(_s(u[s][0]),_s(u[s][1])):_s(u[s]);t.type==="gauge"?(Ei(t,"axisLabel"),Ei(t,"title"),Ei(t,"detail")):t.type==="treemap"?(Rn(t.breadcrumb,"itemStyle"),G(t.levels,function(l){s1(l)})):t.type==="tree"&&s1(t.leaves)}}function Ou(t){return Te(t)?t:t?[t]:[]}function bR(t){return(Te(t)?t[0]:t)||{}}function T4e(t,e){Zs(Ou(t.series),function(i){O2(i)&&S4e(i)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),Zs(r,function(i){Zs(Ou(t[i]),function(n){n&&(Ei(n,"axisLabel"),Ei(n.axisPointer,"label"))})}),Zs(Ou(t.parallel),function(i){var n=i&&i.parallelAxisDefault;Ei(n,"axisLabel"),Ei(n&&n.axisPointer,"label")}),Zs(Ou(t.calendar),function(i){Rn(i,"itemStyle"),Ei(i,"dayLabel"),Ei(i,"monthLabel"),Ei(i,"yearLabel")}),Zs(Ou(t.radar),function(i){Ei(i,"name"),i.name&&i.axisName==null&&(i.axisName=i.name,delete i.name),i.nameGap!=null&&i.axisNameGap==null&&(i.axisNameGap=i.nameGap,delete i.nameGap)}),Zs(Ou(t.geo),function(i){O2(i)&&(_s(i),Zs(Ou(i.regions),function(n){_s(n)}))}),Zs(Ou(t.timeline),function(i){_s(i),Rn(i,"label"),Rn(i,"itemStyle"),Rn(i,"controlStyle",!0);var n=i.data;Te(n)&&G(n,function(a){lt(a)&&(Rn(a,"label"),Rn(a,"itemStyle"))})}),Zs(Ou(t.toolbox),function(i){Rn(i,"iconStyle"),Zs(i.feature,function(n){Rn(n,"iconStyle")})}),Ei(bR(t.axisPointer),"label"),Ei(bR(t.tooltip).axisPointer,"label")}function A4e(t,e){for(var r=e.split(","),i=t,n=0;n<r.length&&(i=i&&i[r[n]],i!=null);n++);return i}function w4e(t,e,r,i){for(var n=e.split(","),a=t,s,o=0;o<n.length-1;o++)s=n[o],a[s]==null&&(a[s]={}),a=a[s];a[n[o]]==null&&(a[n[o]]=r)}function CR(t){t&&G(D4e,function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])})}var D4e=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],F4e=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],_S=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function vv(t){var e=t&&t.itemStyle;if(e)for(var r=0;r<_S.length;r++){var i=_S[r][1],n=_S[r][0];e[i]!=null&&(e[n]=e[i])}}function ER(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function SR(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function I4e(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function FK(t,e){if(t)for(var r=0;r<t.length;r++)e(t[r]),t[r]&&FK(t[r].children,e)}function IK(t,e){T4e(t,e),t.series=mr(t.series),G(t.series,function(r){if(lt(r)){var i=r.type;if(i==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(i==="pie"||i==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),ER(r.label);var n=r.data;if(n&&!ka(n))for(var a=0;a<n.length;a++)ER(n[a]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(i==="gauge"){var s=A4e(r,"pointer.color");s!=null&&w4e(r,"itemStyle.color",s)}else if(i==="bar"){vv(r),vv(r.backgroundStyle),vv(r.emphasis);var n=r.data;if(n&&!ka(n))for(var a=0;a<n.length;a++)typeof n[a]=="object"&&(vv(n[a]),vv(n[a]&&n[a].emphasis))}else if(i==="sunburst"){var o=r.highlightPolicy;o&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=o)),SR(r),FK(r.data,SR)}else i==="graph"||i==="sankey"?I4e(r):i==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&st(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),CR(r)}}),t.dataRange&&(t.visualMap=t.dataRange),G(F4e,function(r){var i=t[r];i&&(Te(i)||(i=[i]),G(i,function(n){CR(n)}))})}function B4e(t){var e=nt();t.eachSeries(function(r){var i=r.get("stack");if(i){var n=e.get(i)||e.set(i,[]),a=r.getData(),s={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:r};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;n.length&&a.setCalculationInfo("stackedOnSeries",n[n.length-1].seriesModel),n.push(s)}}),e.each(M4e)}function M4e(t){G(t,function(e,r){var i=[],n=[NaN,NaN],a=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,u=e.seriesModel.get("stackStrategy")||"samesign";s.modify(a,function(l,c,h){var f=s.get(e.stackedDimension,h);if(isNaN(f))return n;var d,p;o?p=s.getRawIndex(h):d=s.get(e.stackedByDimension,h);for(var g=NaN,v=r-1;v>=0;v--){var m=t[v];if(o||(p=m.data.rawIndexOf(m.stackedByDimension,d)),p>=0){var y=m.data.getByRawIndex(m.stackResultDimension,p);if(u==="all"||u==="positive"&&y>0||u==="negative"&&y<0||u==="samesign"&&f>=0&&y>0||u==="samesign"&&f<=0&&y<0){f=Dxe(f,y),g=y;break}}}return i[0]=f,i[1]=g,i})})}var kb=function(){function t(e){this.data=e.data||(e.sourceFormat===Su?{}:[]),this.sourceFormat=e.sourceFormat||CK,this.seriesLayoutBy=e.seriesLayoutBy||uu,this.startIndex=e.startIndex||0,this.dimensionsDetectedCount=e.dimensionsDetectedCount,this.metaRawOption=e.metaRawOption;var r=this.dimensionsDefine=e.dimensionsDefine;if(r)for(var i=0;i<r.length;i++){var n=r[i];n.type==null&&TK(this,i)===_n.Must&&(n.type="ordinal")}}return t}();function I9(t){return t instanceof kb}function Y8(t,e,r){r=r||BK(t);var i=e.seriesLayoutBy,n=L4e(t,r,i,e.sourceHeader,e.dimensions),a=new kb({data:t,sourceFormat:r,seriesLayoutBy:i,dimensionsDefine:n.dimensionsDefine,startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount,metaRawOption:ht(e)});return a}function B9(t){return new kb({data:t,sourceFormat:ka(t)?Ic:js})}function P4e(t){return new kb({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:ht(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function BK(t){var e=CK;if(ka(t))e=Ic;else if(Te(t)){t.length===0&&(e=Un);for(var r=0,i=t.length;r<i;r++){var n=t[r];if(n!=null){if(Te(n)||ka(n)){e=Un;break}else if(lt(n)){e=Vs;break}}}}else if(lt(t)){for(var a in t)if(tt(t,a)&&Gn(t[a])){e=Su;break}}return e}function L4e(t,e,r,i,n){var a,s;if(!t)return{dimensionsDefine:TR(n),startIndex:s,dimensionsDetectedCount:a};if(e===Un){var o=t;i==="auto"||i==null?AR(function(l){l!=null&&l!=="-"&&(Xe(l)?s==null&&(s=1):s=0)},r,o,10):s=Zt(i)?i:i?1:0,!n&&s===1&&(n=[],AR(function(l,c){n[c]=l!=null?l+"":""},r,o,1/0)),a=n?n.length:r===gg?o.length:o[0]?o[0].length:null}else if(e===Vs)n||(n=O4e(t));else if(e===Su)n||(n=[],G(t,function(l,c){n.push(c)}));else if(e===js){var u=ug(t[0]);a=Te(u)&&u.length||1}return{startIndex:s,dimensionsDefine:TR(n),dimensionsDetectedCount:a}}function O4e(t){for(var e=0,r;e<t.length&&!(r=t[e++]););if(r)return kt(r)}function TR(t){if(t){var e=nt();return Ie(t,function(r,i){r=lt(r)?r:{name:r};var n={name:r.name,displayName:r.displayName,type:r.type};if(n.name==null)return n;n.name+="",n.displayName==null&&(n.displayName=n.name);var a=e.get(n.name);return a?n.name+="-"+a.count++:e.set(n.name,{count:1}),n})}}function AR(t,e,r,i){if(e===gg)for(var n=0;n<r.length&&n<i;n++)t(r[n]?r[n][0]:null,n);else for(var a=r[0]||[],n=0;n<a.length&&n<i;n++)t(a[n],n)}function MK(t){var e=t.sourceFormat;return e===Vs||e===Su}var D0,F0,I0,wR,DR,PK=function(){function t(e,r){var i=I9(e)?e:B9(e);this._source=i;var n=this._data=i.data;i.sourceFormat===Ic&&(this._offset=0,this._dimSize=r,this._data=n),DR(this,n,i)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(e,r){},t.prototype.appendData=function(e){},t.prototype.clean=function(){},t.protoInitialize=function(){var e=t.prototype;e.pure=!1,e.persistent=!0}(),t.internalField=function(){var e;DR=function(s,o,u){var l=u.sourceFormat,c=u.seriesLayoutBy,h=u.startIndex,f=u.dimensionsDefine,d=wR[M9(l,c)];if(Ce(s,d),l===Ic)s.getItem=r,s.count=n,s.fillStorage=i;else{var p=LK(l,c);s.getItem=Je(p,null,o,h,f);var g=OK(l,c);s.count=Je(g,null,o,h,f)}};var r=function(s,o){s=s-this._offset,o=o||[];for(var u=this._data,l=this._dimSize,c=l*s,h=0;h<l;h++)o[h]=u[c+h];return o},i=function(s,o,u,l){for(var c=this._data,h=this._dimSize,f=0;f<h;f++){for(var d=l[f],p=d[0]==null?1/0:d[0],g=d[1]==null?-1/0:d[1],v=o-s,m=u[f],y=0;y<v;y++){var _=c[y*h+f];m[s+y]=_,_<p&&(p=_),_>g&&(g=_)}d[0]=p,d[1]=g}},n=function(){return this._data?this._data.length/this._dimSize:0};wR=(e={},e[Un+"_"+uu]={pure:!0,appendData:a},e[Un+"_"+gg]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},e[Vs]={pure:!0,appendData:a},e[Su]={pure:!0,appendData:function(s){var o=this._data;G(s,function(u,l){for(var c=o[l]||(o[l]=[]),h=0;h<(u||[]).length;h++)c.push(u[h])})}},e[js]={appendData:a},e[Ic]={persistent:!1,pure:!0,appendData:function(s){this._data=s},clean:function(){this._offset+=this.count(),this._data=null}},e);function a(s){for(var o=0;o<s.length;o++)this._data.push(s[o])}}(),t}(),FR=function(t,e,r,i){return t[i]},R4e=(D0={},D0[Un+"_"+uu]=function(t,e,r,i){return t[i+e]},D0[Un+"_"+gg]=function(t,e,r,i,n){i+=e;for(var a=n||[],s=t,o=0;o<s.length;o++){var u=s[o];a[o]=u?u[i]:null}return a},D0[Vs]=FR,D0[Su]=function(t,e,r,i,n){for(var a=n||[],s=0;s<r.length;s++){var o=r[s].name,u=t[o];a[s]=u?u[i]:null}return a},D0[js]=FR,D0);function LK(t,e){var r=R4e[M9(t,e)];return r}var IR=function(t,e,r){return t.length},N4e=(F0={},F0[Un+"_"+uu]=function(t,e,r){return Math.max(0,t.length-e)},F0[Un+"_"+gg]=function(t,e,r){var i=t[0];return i?Math.max(0,i.length-e):0},F0[Vs]=IR,F0[Su]=function(t,e,r){var i=r[0].name,n=t[i];return n?n.length:0},F0[js]=IR,F0);function OK(t,e){var r=N4e[M9(t,e)];return r}var xS=function(t,e,r){return t[e]},k4e=(I0={},I0[Un]=xS,I0[Vs]=function(t,e,r){return t[r]},I0[Su]=xS,I0[js]=function(t,e,r){var i=ug(t);return i instanceof Array?i[e]:i},I0[Ic]=xS,I0);function RK(t){var e=k4e[t];return e}function M9(t,e){return t===Un?t+"_"+e:t}function Ap(t,e,r){if(t){var i=t.getRawDataItem(e);if(i!=null){var n=t.getStore(),a=n.getSource().sourceFormat;if(r!=null){var s=t.getDimensionIndex(r),o=n.getDimensionProperty(s);return RK(a)(i,s,o)}else{var u=i;return a===js&&(u=ug(i)),u}}}}var z4e=/\{@(.+?)\}/g,zb=function(){function t(){}return t.prototype.getDataParams=function(e,r){var i=this.getData(r),n=this.getRawValue(e,r),a=i.getRawIndex(e),s=i.getName(e),o=i.getRawDataItem(e),u=i.getItemVisual(e,"style"),l=u&&u[i.getItemVisual(e,"drawType")||"fill"],c=u&&u.stroke,h=this.mainType,f=h==="series",d=i.userOutput&&i.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:s,dataIndex:a,data:o,dataType:r,value:n,color:l,borderColor:c,dimensionNames:d?d.fullDimensions:null,encode:d?d.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(e,r,i,n,a,s){r=r||"normal";var o=this.getData(i),u=this.getDataParams(e,i);if(s&&(u.value=s.interpolatedValue),n!=null&&Te(u.value)&&(u.value=u.value[n]),!a){var l=o.getItemModel(e);a=l.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(ot(a))return u.status=r,u.dimensionIndex=n,a(u);if(Xe(a)){var c=S9(a,u);return c.replace(z4e,function(h,f){var d=f.length,p=f;p.charAt(0)==="["&&p.charAt(d-1)==="]"&&(p=+p.slice(1,d-1));var g=Ap(o,e,p);if(s&&Te(s.interpolatedValue)){var v=o.getDimensionIndex(p);v>=0&&(g=s.interpolatedValue[v])}return g!=null?g+"":""})}},t.prototype.getRawValue=function(e,r){return Ap(this.getData(r),e)},t.prototype.formatTooltip=function(e,r,i){},t}();function BR(t){var e,r;return lt(t)?t.type&&(r=t):e=t,{text:e,frag:r}}function U1(t){return new H4e(t)}var H4e=function(){function t(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0}return t.prototype.perform=function(e){var r=this._upstream,i=e&&e.skip;if(this._dirty&&r){var n=this.context;n.data=n.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var a;this._plan&&!i&&(a=this._plan(this.context));var s=c(this._modBy),o=this._modDataCount||0,u=c(e&&e.modBy),l=e&&e.modDataCount||0;(s!==u||o!==l)&&(a="reset");function c(y){return!(y>=1)&&(y=1),y}var h;(this._dirty||a==="reset")&&(this._dirty=!1,h=this._doReset(i)),this._modBy=u,this._modDataCount=l;var f=e&&e.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,p=Math.min(f!=null?this._dueIndex+f:1/0,this._dueEnd);if(!i&&(h||d<p)){var g=this._progress;if(Te(g))for(var v=0;v<g.length;v++)this._doProgress(g[v],d,p,u,l);else this._doProgress(g,d,p,u,l)}this._dueIndex=p;var m=this._settedOutputEnd!=null?this._settedOutputEnd:p;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(e,r,i,n,a){MR.reset(r,i,n,a),this._callingProgress=e,this._callingProgress({start:r,end:i,count:i-r,next:MR.next},this.context)},t.prototype._doReset=function(e){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,i;!e&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(i=r.forceFirstProgress,r=r.progress),Te(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var n=this._downstream;return n&&n.dirty(),i},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(e){(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e},t}(),MR=function(){var t,e,r,i,n,a={reset:function(u,l,c,h){e=u,t=l,r=c,i=h,n=Math.ceil(i/r),a.next=r>1&&i>0?o:s}};return a;function s(){return e<t?e++:null}function o(){var u=e%n*r+Math.ceil(e/n),l=e>=t?null:u<i?u:e;return e++,l}}();function Bc(t,e){var r=e&&e.type;return r==="ordinal"?t:(r==="time"&&!Zt(t)&&t!=null&&t!=="-"&&(t=+ks(t)),t==null||t===""?NaN:Number(t))}var G4e=nt({number:function(t){return parseFloat(t)},time:function(t){return+ks(t)},trim:function(t){return Xe(t)?oo(t):t}});function NK(t){return G4e.get(t)}var kK={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},U4e=function(){function t(e,r){if(!Zt(r)){var i="";ar(i)}this._opFn=kK[e],this._rvalFloat=dl(r)}return t.prototype.evaluate=function(e){return Zt(e)?this._opFn(e,this._rvalFloat):this._opFn(dl(e),this._rvalFloat)},t}(),zK=function(){function t(e,r){var i=e==="desc";this._resultLT=i?1:-1,r==null&&(r=i?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(e,r){var i=Zt(e)?e:dl(e),n=Zt(r)?r:dl(r),a=isNaN(i),s=isNaN(n);if(a&&(i=this._incomparable),s&&(n=this._incomparable),a&&s){var o=Xe(e),u=Xe(r);o&&(i=u?e:0),u&&(n=o?r:0)}return i<n?this._resultLT:i>n?-this._resultLT:0},t}(),j4e=function(){function t(e,r){this._rval=r,this._isEQ=e,this._rvalTypeof=typeof r,this._rvalFloat=dl(r)}return t.prototype.evaluate=function(e){var r=e===this._rval;if(!r){var i=typeof e;i!==this._rvalTypeof&&(i==="number"||this._rvalTypeof==="number")&&(r=dl(e)===this._rvalFloat)}return this._isEQ?r:!r},t}();function V4e(t,e){return t==="eq"||t==="ne"?new j4e(t==="eq",e):tt(kK,t)?new U4e(t,e):null}var $4e=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(e){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(e){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(e,r){},t.prototype.retrieveValueFromItem=function(e,r){},t.prototype.convertValue=function(e,r){return Bc(e,r)},t}();function W4e(t,e){var r=new $4e,i=t.data,n=r.sourceFormat=t.sourceFormat,a=t.startIndex,s="";t.seriesLayoutBy!==uu&&ar(s);var o=[],u={},l=t.dimensionsDefine;if(l)G(l,function(g,v){var m=g.name,y={index:v,name:m,displayName:g.displayName};if(o.push(y),m!=null){var _="";tt(u,m)&&ar(_),u[m]=y}});else for(var c=0;c<t.dimensionsDetectedCount;c++)o.push({index:c});var h=LK(n,uu);e.__isBuiltIn&&(r.getRawDataItem=function(g){return h(i,a,o,g)},r.getRawData=Je(Y4e,null,t)),r.cloneRawData=Je(q4e,null,t);var f=OK(n,uu);r.count=Je(f,null,i,a,o);var d=RK(n);r.retrieveValue=function(g,v){var m=h(i,a,o,g);return p(m,v)};var p=r.retrieveValueFromItem=function(g,v){if(g!=null){var m=o[v];if(m)return d(g,v,m.name)}};return r.getDimensionInfo=Je(X4e,null,o,u),r.cloneAllDimensionInfo=Je(Z4e,null,o),r}function Y4e(t){var e=t.sourceFormat;if(!P9(e)){var r="";ar(r)}return t.data}function q4e(t){var e=t.sourceFormat,r=t.data;if(!P9(e)){var i="";ar(i)}if(e===Un){for(var n=[],a=0,s=r.length;a<s;a++)n.push(r[a].slice());return n}else if(e===Vs){for(var n=[],a=0,s=r.length;a<s;a++)n.push(Ce({},r[a]));return n}}function X4e(t,e,r){if(r!=null){if(Zt(r)||!isNaN(r)&&!tt(e,r))return t[r];if(tt(e,r))return e[r]}}function Z4e(t){return ht(t)}var HK=nt();function K4e(t){t=ht(t);var e=t.type,r="";e||ar(r);var i=e.split(":");i.length!==2&&ar(r);var n=!1;i[0]==="echarts"&&(e=i[1],n=!0),t.__isBuiltIn=n,HK.set(e,t)}function J4e(t,e,r){var i=mr(t),n=i.length,a="";n||ar(a);for(var s=0,o=n;s<o;s++){var u=i[s];e=Q4e(u,e),s!==o-1&&(e.length=Math.max(e.length,1))}return e}function Q4e(t,e,r,i){var n="";e.length||ar(n),lt(t)||ar(n);var a=t.type,s=HK.get(a);s||ar(n);var o=Ie(e,function(l){return W4e(l,s)}),u=mr(s.transform({upstream:o[0],upstreamList:o,config:ht(t.config)}));return Ie(u,function(l,c){var h="";lt(l)||ar(h),l.data||ar(h);var f=BK(l.data);P9(f)||ar(h);var d,p=e[0];if(p&&c===0&&!l.dimensions){var g=p.startIndex;g&&(l.data=p.data.slice(0,g).concat(l.data)),d={seriesLayoutBy:uu,sourceHeader:g,dimensions:p.metaRawOption.dimensions}}else d={seriesLayoutBy:uu,sourceHeader:0,dimensions:l.dimensions};return Y8(l.data,d,null)})}function P9(t){return t===Un||t===Vs}var Hb="undefined",ebe=typeof Uint32Array===Hb?Array:Uint32Array,tbe=typeof Uint16Array===Hb?Array:Uint16Array,GK=typeof Int32Array===Hb?Array:Int32Array,PR=typeof Float64Array===Hb?Array:Float64Array,UK={float:PR,int:GK,ordinal:Array,number:Array,time:PR},bS;function Wf(t){return t>65535?ebe:tbe}function Yf(){return[1/0,-1/0]}function rbe(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function LR(t,e,r,i,n){var a=UK[r||"float"];if(n){var s=t[e],o=s&&s.length;if(o!==i){for(var u=new a(i),l=0;l<o;l++)u[l]=s[l];t[e]=u}}else t[e]=new a(i)}var q8=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=nt()}return t.prototype.initData=function(e,r,i){this._provider=e,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var n=e.getSource(),a=this.defaultDimValueGetter=bS[n.sourceFormat];this._dimValueGetter=i||a,this._rawExtent=[],MK(n),this._dimensions=Ie(r,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,e.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(e,r){var i=this._calcDimNameToIdx,n=this._dimensions,a=i.get(e);if(a!=null){if(n[a].type===r)return a}else a=n.length;return n[a]={type:r},i.set(e,a),this._chunks[a]=new UK[r||"float"](this._rawCount),this._rawExtent[a]=Yf(),a},t.prototype.collectOrdinalMeta=function(e,r){var i=this._chunks[e],n=this._dimensions[e],a=this._rawExtent,s=n.ordinalOffset||0,o=i.length;s===0&&(a[e]=Yf());for(var u=a[e],l=s;l<o;l++){var c=i[l]=r.parseAndCollect(i[l]);isNaN(c)||(u[0]=Math.min(c,u[0]),u[1]=Math.max(c,u[1]))}n.ordinalMeta=r,n.ordinalOffset=o,n.type="ordinal"},t.prototype.getOrdinalMeta=function(e){var r=this._dimensions[e],i=r.ordinalMeta;return i},t.prototype.getDimensionProperty=function(e){var r=this._dimensions[e];return r&&r.property},t.prototype.appendData=function(e){var r=this._provider,i=this.count();r.appendData(e);var n=r.count();return r.persistent||(n+=i),i<n&&this._initDataFromProvider(i,n,!0),[i,n]},t.prototype.appendValues=function(e,r){for(var i=this._chunks,n=this._dimensions,a=n.length,s=this._rawExtent,o=this.count(),u=o+Math.max(e.length,r||0),l=0;l<a;l++){var c=n[l];LR(i,l,c.type,u,!0)}for(var h=[],f=o;f<u;f++)for(var d=f-o,p=0;p<a;p++){var c=n[p],g=bS.arrayRows.call(this,e[d]||h,c.property,d,p);i[p][f]=g;var v=s[p];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=u,{start:o,end:u}},t.prototype._initDataFromProvider=function(e,r,i){for(var n=this._provider,a=this._chunks,s=this._dimensions,o=s.length,u=this._rawExtent,l=Ie(s,function(y){return y.property}),c=0;c<o;c++){var h=s[c];u[c]||(u[c]=Yf()),LR(a,c,h.type,r,i)}if(n.fillStorage)n.fillStorage(e,r,a,u);else for(var f=[],d=e;d<r;d++){f=n.getItem(d,f);for(var p=0;p<o;p++){var g=a[p],v=this._dimValueGetter(f,l[p],d,p);g[d]=v;var m=u[p];v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}!n.persistent&&n.clean&&n.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(e,r){if(!(r>=0&&r<this._count))return NaN;var i=this._chunks[e];return i?i[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(e,r){var i=[],n=[];if(r==null){r=e,e=[];for(var a=0;a<this._dimensions.length;a++)n.push(a)}else n=e;for(var a=0,s=n.length;a<s;a++)i.push(this.get(n[a],r));return i},t.prototype.getByRawIndex=function(e,r){if(!(r>=0&&r<this._rawCount))return NaN;var i=this._chunks[e];return i?i[r]:NaN},t.prototype.getSum=function(e){var r=this._chunks[e],i=0;if(r)for(var n=0,a=this.count();n<a;n++){var s=this.get(e,n);isNaN(s)||(i+=s)}return i},t.prototype.getMedian=function(e){var r=[];this.each([e],function(a){isNaN(a)||r.push(a)});var i=r.sort(function(a,s){return a-s}),n=this.count();return n===0?0:n%2===1?i[(n-1)/2]:(i[n/2]+i[n/2-1])/2},t.prototype.indexOfRawIndex=function(e){if(e>=this._rawCount||e<0)return-1;if(!this._indices)return e;var r=this._indices,i=r[e];if(i!=null&&i<this._count&&i===e)return e;for(var n=0,a=this._count-1;n<=a;){var s=(n+a)/2|0;if(r[s]<e)n=s+1;else if(r[s]>e)a=s-1;else return s}return-1},t.prototype.indicesOfNearest=function(e,r,i){var n=this._chunks,a=n[e],s=[];if(!a)return s;i==null&&(i=1/0);for(var o=1/0,u=-1,l=0,c=0,h=this.count();c<h;c++){var f=this.getRawIndex(c),d=r-a[f],p=Math.abs(d);p<=i&&((p<o||p===o&&d>=0&&u<0)&&(o=p,u=d,l=0),d===u&&(s[l++]=c))}return s.length=l,s},t.prototype.getIndices=function(){var e,r=this._indices;if(r){var i=r.constructor,n=this._count;if(i===Array){e=new i(n);for(var a=0;a<n;a++)e[a]=r[a]}else e=new i(r.buffer,0,n)}else{var i=Wf(this._rawCount);e=new i(this.count());for(var a=0;a<e.length;a++)e[a]=a}return e},t.prototype.filter=function(e,r){if(!this._count)return this;for(var i=this.clone(),n=i.count(),a=Wf(i._rawCount),s=new a(n),o=[],u=e.length,l=0,c=e[0],h=i._chunks,f=0;f<n;f++){var d=void 0,p=i.getRawIndex(f);if(u===0)d=r(f);else if(u===1){var g=h[c][p];d=r(g,f)}else{for(var v=0;v<u;v++)o[v]=h[e[v]][p];o[v]=f,d=r.apply(null,o)}d&&(s[l++]=p)}return l<n&&(i._indices=s),i._count=l,i._extent=[],i._updateGetRawIdx(),i},t.prototype.selectRange=function(e){var r=this.clone(),i=r._count;if(!i)return this;var n=kt(e),a=n.length;if(!a)return this;var s=r.count(),o=Wf(r._rawCount),u=new o(s),l=0,c=n[0],h=e[c][0],f=e[c][1],d=r._chunks,p=!1;if(!r._indices){var g=0;if(a===1){for(var v=d[n[0]],m=0;m<i;m++){var y=v[m];(y>=h&&y<=f||isNaN(y))&&(u[l++]=g),g++}p=!0}else if(a===2){for(var v=d[n[0]],_=d[n[1]],x=e[n[1]][0],b=e[n[1]][1],m=0;m<i;m++){var y=v[m],C=_[m];(y>=h&&y<=f||isNaN(y))&&(C>=x&&C<=b||isNaN(C))&&(u[l++]=g),g++}p=!0}}if(!p)if(a===1)for(var m=0;m<s;m++){var E=r.getRawIndex(m),y=d[n[0]][E];(y>=h&&y<=f||isNaN(y))&&(u[l++]=E)}else for(var m=0;m<s;m++){for(var A=!0,E=r.getRawIndex(m),S=0;S<a;S++){var T=n[S],y=d[T][E];(y<e[T][0]||y>e[T][1])&&(A=!1)}A&&(u[l++]=r.getRawIndex(m))}return l<s&&(r._indices=u),r._count=l,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(e,r){var i=this.clone(e);return this._updateDims(i,e,r),i},t.prototype.modify=function(e,r){this._updateDims(this,e,r)},t.prototype._updateDims=function(e,r,i){for(var n=e._chunks,a=[],s=r.length,o=e.count(),u=[],l=e._rawExtent,c=0;c<r.length;c++)l[r[c]]=Yf();for(var h=0;h<o;h++){for(var f=e.getRawIndex(h),d=0;d<s;d++)u[d]=n[r[d]][f];u[s]=h;var p=i&&i.apply(null,u);if(p!=null){typeof p!="object"&&(a[0]=p,p=a);for(var c=0;c<p.length;c++){var g=r[c],v=p[c],m=l[g],y=n[g];y&&(y[f]=v),v<m[0]&&(m[0]=v),v>m[1]&&(m[1]=v)}}}},t.prototype.lttbDownSample=function(e,r){var i=this.clone([e],!0),n=i._chunks,a=n[e],s=this.count(),o=0,u=Math.floor(1/r),l=this.getRawIndex(0),c,h,f,d=new(Wf(this._rawCount))(Math.min((Math.ceil(s/u)+2)*2,s));d[o++]=l;for(var p=1;p<s-1;p+=u){for(var g=Math.min(p+u,s-1),v=Math.min(p+u*2,s),m=(v+g)/2,y=0,_=g;_<v;_++){var x=this.getRawIndex(_),b=a[x];isNaN(b)||(y+=b)}y/=v-g;var C=p,E=Math.min(p+u,s),A=p-1,S=a[l];c=-1,f=C;for(var T=-1,D=0,_=C;_<E;_++){var x=this.getRawIndex(_),b=a[x];if(isNaN(b)){D++,T<0&&(T=x);continue}h=Math.abs((A-m)*(b-S)-(A-_)*(y-S)),h>c&&(c=h,f=x)}D>0&&D<E-C&&(d[o++]=Math.min(T,f),f=Math.max(T,f)),d[o++]=f,l=f}return d[o++]=this.getRawIndex(s-1),i._count=o,i._indices=d,i.getRawIndex=this._getRawIdx,i},t.prototype.minmaxDownSample=function(e,r){for(var i=this.clone([e],!0),n=i._chunks,a=Math.floor(1/r),s=n[e],o=this.count(),u=new(Wf(this._rawCount))(Math.ceil(o/a)*2),l=0,c=0;c<o;c+=a){var h=c,f=s[this.getRawIndex(h)],d=c,p=s[this.getRawIndex(d)],g=a;c+a>o&&(g=o-c);for(var v=0;v<g;v++){var m=this.getRawIndex(c+v),y=s[m];y<f&&(f=y,h=c+v),y>p&&(p=y,d=c+v)}var _=this.getRawIndex(h),x=this.getRawIndex(d);h<d?(u[l++]=_,u[l++]=x):(u[l++]=x,u[l++]=_)}return i._count=l,i._indices=u,i._updateGetRawIdx(),i},t.prototype.downSample=function(e,r,i,n){for(var a=this.clone([e],!0),s=a._chunks,o=[],u=Math.floor(1/r),l=s[e],c=this.count(),h=a._rawExtent[e]=Yf(),f=new(Wf(this._rawCount))(Math.ceil(c/u)),d=0,p=0;p<c;p+=u){u>c-p&&(u=c-p,o.length=u);for(var g=0;g<u;g++){var v=this.getRawIndex(p+g);o[g]=l[v]}var m=i(o),y=this.getRawIndex(Math.min(p+n(o,m)||0,c-1));l[y]=m,m<h[0]&&(h[0]=m),m>h[1]&&(h[1]=m),f[d++]=y}return a._count=d,a._indices=f,a._updateGetRawIdx(),a},t.prototype.each=function(e,r){if(this._count)for(var i=e.length,n=this._chunks,a=0,s=this.count();a<s;a++){var o=this.getRawIndex(a);switch(i){case 0:r(a);break;case 1:r(n[e[0]][o],a);break;case 2:r(n[e[0]][o],n[e[1]][o],a);break;default:for(var u=0,l=[];u<i;u++)l[u]=n[e[u]][o];l[u]=a,r.apply(null,l)}}},t.prototype.getDataExtent=function(e){var r=this._chunks[e],i=Yf();if(!r)return i;var n=this.count(),a=!this._indices,s;if(a)return this._rawExtent[e].slice();if(s=this._extent[e],s)return s.slice();s=i;for(var o=s[0],u=s[1],l=0;l<n;l++){var c=this.getRawIndex(l),h=r[c];h<o&&(o=h),h>u&&(u=h)}return s=[o,u],this._extent[e]=s,s},t.prototype.getRawDataItem=function(e){var r=this.getRawIndex(e);if(this._provider.persistent)return this._provider.getItem(r);for(var i=[],n=this._chunks,a=0;a<n.length;a++)i.push(n[a][r]);return i},t.prototype.clone=function(e,r){var i=new t,n=this._chunks,a=e&&_o(e,function(o,u){return o[u]=!0,o},{});if(a)for(var s=0;s<n.length;s++)i._chunks[s]=a[s]?rbe(n[s]):n[s];else i._chunks=n;return this._copyCommonProps(i),r||(i._indices=this._cloneIndices()),i._updateGetRawIdx(),i},t.prototype._copyCommonProps=function(e){e._count=this._count,e._rawCount=this._rawCount,e._provider=this._provider,e._dimensions=this._dimensions,e._extent=ht(this._extent),e._rawExtent=ht(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var e=this._indices.constructor,r=void 0;if(e===Array){var i=this._indices.length;r=new e(i);for(var n=0;n<i;n++)r[n]=this._indices[n]}else r=new e(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(e){return e},t.prototype._getRawIdx=function(e){return e<this._count&&e>=0?this._indices[e]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function e(r,i,n,a){return Bc(r[a],this._dimensions[a])}bS={arrayRows:e,objectRows:function(r,i,n,a){return Bc(r[i],this._dimensions[a])},keyedColumns:e,original:function(r,i,n,a){var s=r&&(r.value==null?r:r.value);return Bc(s instanceof Array?s[a]:s,this._dimensions[a])},typedArray:function(r,i,n,a){return r[a]}}}(),t}(),jK=function(){function t(e){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=e}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(e,r){this._sourceList=e,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var e=this._sourceHost,r=this._getUpstreamSourceManagers(),i=!!r.length,n,a;if(c_(e)){var s=e,o=void 0,u=void 0,l=void 0;if(i){var c=r[0];c.prepareSource(),l=c.getSource(),o=l.data,u=l.sourceFormat,a=[c._getVersionSign()]}else o=s.get("data",!0),u=ka(o)?Ic:js,a=[];var h=this._getSourceMetaRawOption()||{},f=l&&l.metaRawOption||{},d=gt(h.seriesLayoutBy,f.seriesLayoutBy)||null,p=gt(h.sourceHeader,f.sourceHeader),g=gt(h.dimensions,f.dimensions),v=d!==f.seriesLayoutBy||!!p!=!!f.sourceHeader||g;n=v?[Y8(o,{seriesLayoutBy:d,sourceHeader:p,dimensions:g},u)]:[]}else{var m=e;if(i){var y=this._applyTransform(r);n=y.sourceList,a=y.upstreamSignList}else{var _=m.get("source",!0);n=[Y8(_,this._getSourceMetaRawOption(),null)],a=[]}}this._setLocalSource(n,a)},t.prototype._applyTransform=function(e){var r=this._sourceHost,i=r.get("transform",!0),n=r.get("fromTransformResult",!0);if(n!=null){var a="";e.length!==1&&RR(a)}var s,o=[],u=[];return G(e,function(l){l.prepareSource();var c=l.getSource(n||0),h="";n!=null&&!c&&RR(h),o.push(c),u.push(l._getVersionSign())}),i?s=J4e(i,o,{datasetIndex:r.componentIndex}):n!=null&&(s=[P4e(o[0])]),{sourceList:s,upstreamSignList:u}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var e=this._getUpstreamSourceManagers(),r=0;r<e.length;r++){var i=e[r];if(i._isDirty()||this._upstreamSignList[r]!==i._getVersionSign())return!0}},t.prototype.getSource=function(e){e=e||0;var r=this._sourceList[e];if(!r){var i=this._getUpstreamSourceManagers();return i[0]&&i[0].getSource(e)}return r},t.prototype.getSharedDataStore=function(e){var r=e.makeStoreSchema();return this._innerGetDataStore(r.dimensions,e.source,r.hash)},t.prototype._innerGetDataStore=function(e,r,i){var n=0,a=this._storeList,s=a[n];s||(s=a[n]={});var o=s[i];if(!o){var u=this._getUpstreamSourceManagers()[0];c_(this._sourceHost)&&u?o=u._innerGetDataStore(e,r,i):(o=new q8,o.initData(new PK(r,e.length),e)),s[i]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var e=this._sourceHost;if(c_(e)){var r=w9(e);return r?[r.getSourceManager()]:[]}else return Ie(u4e(e),function(i){return i.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var e=this._sourceHost,r,i,n;if(c_(e))r=e.get("seriesLayoutBy",!0),i=e.get("sourceHeader",!0),n=e.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=e;r=a.get("seriesLayoutBy",!0),i=a.get("sourceHeader",!0),n=a.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:i,dimensions:n}},t}();function OR(t){var e=t.option.transform;e&&d3(t.option.transform)}function c_(t){return t.mainType==="series"}function RR(t){throw new Error(t)}var ibe="line-height:1";function VK(t){var e=t.lineHeight;return e==null?ibe:"line-height:"+Ai(e+"")+"px"}function $K(t,e){var r=t.color||"#6e7079",i=t.fontSize||12,n=t.fontWeight||"400",a=t.color||"#464646",s=t.fontSize||14,o=t.fontWeight||"900";return e==="html"?{nameStyle:"font-size:"+Ai(i+"")+"px;color:"+Ai(r)+";font-weight:"+Ai(n+""),valueStyle:"font-size:"+Ai(s+"")+"px;color:"+Ai(a)+";font-weight:"+Ai(o+"")}:{nameStyle:{fontSize:i,fill:r,fontWeight:n},valueStyle:{fontSize:s,fill:a,fontWeight:o}}}var nbe=[0,10,20,30],abe=["",`
`,`

`,`


`];function Ji(t,e){return e.type=t,e}function X8(t){return t.type==="section"}function WK(t){return X8(t)?sbe:obe}function YK(t){if(X8(t)){var e=0,r=t.blocks.length,i=r>1||r>0&&!t.noHeader;return G(t.blocks,function(n){var a=YK(n);a>=e&&(e=a+ +(i&&(!a||X8(n)&&!n.noHeader)))}),e}return 0}function sbe(t,e,r,i){var n=e.noHeader,a=ube(YK(e)),s=[],o=e.blocks||[];ha(!o||Te(o)),o=o||[];var u=t.orderMode;if(e.sortBlocks&&u){o=o.slice();var l={valueAsc:"asc",valueDesc:"desc"};if(tt(l,u)){var c=new zK(l[u],null);o.sort(function(g,v){return c.evaluate(g.sortParam,v.sortParam)})}else u==="seriesDesc"&&o.reverse()}G(o,function(g,v){var m=e.valueFormatter,y=WK(g)(m?Ce(Ce({},t),{valueFormatter:m}):t,g,v>0?a.html:0,i);y!=null&&s.push(y)});var h=t.renderMode==="richText"?s.join(a.richText):Z8(i,s.join(""),n?r:a.html);if(n)return h;var f=V8(e.header,"ordinal",t.useUTC),d=$K(i,t.renderMode).nameStyle,p=VK(i);return t.renderMode==="richText"?qK(t,f,d)+a.richText+h:Z8(i,'<div style="'+d+";"+p+';">'+Ai(f)+"</div>"+h,r)}function obe(t,e,r,i){var n=t.renderMode,a=e.noName,s=e.noValue,o=!e.markerType,u=e.name,l=t.useUTC,c=e.valueFormatter||t.valueFormatter||function(x){return x=Te(x)?x:[x],Ie(x,function(b,C){return V8(b,Te(d)?d[C]:d,l)})};if(!(a&&s)){var h=o?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",n),f=a?"":V8(u,"ordinal",l),d=e.valueType,p=s?[]:c(e.value,e.dataIndex),g=!o||!a,v=!o&&a,m=$K(i,n),y=m.nameStyle,_=m.valueStyle;return n==="richText"?(o?"":h)+(a?"":qK(t,f,y))+(s?"":hbe(t,p,g,v,_)):Z8(i,(o?"":h)+(a?"":lbe(f,!o,y))+(s?"":cbe(p,g,v,_)),r)}}function NR(t,e,r,i,n,a){if(t){var s=WK(t),o={useUTC:n,renderMode:r,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter};return s(o,t,0,a)}}function ube(t){return{html:nbe[t],richText:abe[t]}}function Z8(t,e,r){var i='<div style="clear:both"></div>',n="margin: "+r+"px 0 0",a=VK(t);return'<div style="'+n+";"+a+';">'+e+i+"</div>"}function lbe(t,e,r){var i=e?"margin-left:2px":"";return'<span style="'+r+";"+i+'">'+Ai(t)+"</span>"}function cbe(t,e,r,i){var n=r?"10px":"20px",a=e?"float:right;margin-left:"+n:"";return t=Te(t)?t:[t],'<span style="'+a+";"+i+'">'+Ie(t,function(s){return Ai(s)}).join("&nbsp;&nbsp;")+"</span>"}function qK(t,e,r){return t.markupStyleCreator.wrapRichTextStyle(e,r)}function hbe(t,e,r,i,n){var a=[n],s=i?10:20;return r&&a.push({padding:[0,0,0,s],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(Te(e)?e.join("  "):e,a)}function XK(t,e){var r=t.getData().getItemVisual(e,"style"),i=r[t.visualDrawType];return ef(i)}function ZK(t,e){var r=t.get("padding");return r??(e==="richText"?[8,10]:10)}var CS=function(){function t(){this.richTextStyles={},this._nextStyleNameId=fZ()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(e,r,i){var n=i==="richText"?this._generateStyleName():null,a=mK({color:r,type:e,renderMode:i,markerId:n});return Xe(a)?a:(this.richTextStyles[n]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(e,r){var i={};Te(r)?G(r,function(a){return Ce(i,a)}):Ce(i,r);var n=this._generateStyleName();return this.richTextStyles[n]=i,"{"+n+"|"+e+"}"},t}();function KK(t){var e=t.series,r=t.dataIndex,i=t.multipleSeries,n=e.getData(),a=n.mapDimensionsAll("defaultedTooltip"),s=a.length,o=e.getRawValue(r),u=Te(o),l=XK(e,r),c,h,f,d;if(s>1||u&&!s){var p=fbe(o,e,r,a,l);c=p.inlineValues,h=p.inlineValueTypes,f=p.blocks,d=p.inlineValues[0]}else if(s){var g=n.getDimensionInfo(a[0]);d=c=Ap(n,r,a[0]),h=g.type}else d=c=u?o[0]:o;var v=n9(e),m=v&&e.name||"",y=n.getName(r),_=i?m:y;return Ji("section",{header:m,noHeader:i||!v,sortParam:d,blocks:[Ji("nameValue",{markerType:"item",markerColor:l,name:_,noName:!oo(_),value:c,valueType:h,dataIndex:r})].concat(f||[])})}function fbe(t,e,r,i,n){var a=e.getData(),s=_o(t,function(h,f,d){var p=a.getDimensionInfo(d);return h=h||p&&p.tooltip!==!1&&p.displayName!=null},!1),o=[],u=[],l=[];i.length?G(i,function(h){c(Ap(a,r,h),h)}):G(t,c);function c(h,f){var d=a.getDimensionInfo(f);!d||d.otherDims.tooltip===!1||(s?l.push(Ji("nameValue",{markerType:"subItem",markerColor:n,name:d.displayName,value:h,valueType:d.type})):(o.push(h),u.push(d.type)))}return{inlineValues:o,inlineValueTypes:u,blocks:l}}var Hl=Yt();function h_(t,e){return t.getName(e)||t.getId(e)}var Xx="__universalTransitionEnabled",Kt=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return e.prototype.init=function(r,i,n){this.seriesIndex=this.componentIndex,this.dataTask=U1({count:pbe,reset:gbe}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,n);var a=Hl(this).sourceManager=new jK(this);a.prepareSource();var s=this.getInitialData(r,n);zR(s,this),this.dataTask.context.data=s,Hl(this).dataBeforeProcessed=s,kR(this),this._initSelectedMapFromData(s)},e.prototype.mergeDefaultAndTheme=function(r,i){var n=L2(this),a=n?pg(r):{},s=this.subType;Dt.hasClass(s)&&(s+="Series"),et(r,i.getTheme().get(this.subType)),et(r,this.getDefaultOption()),Zh(r,"label",["show"]),this.fillDataTextStyle(r.data),n&&kc(r,a,n)},e.prototype.mergeOption=function(r,i){r=et(this.option,r,!0),this.fillDataTextStyle(r.data);var n=L2(this);n&&kc(this.option,r,n);var a=Hl(this).sourceManager;a.dirty(),a.prepareSource();var s=this.getInitialData(r,i);zR(s,this),this.dataTask.dirty(),this.dataTask.context.data=s,Hl(this).dataBeforeProcessed=s,kR(this),this._initSelectedMapFromData(s)},e.prototype.fillDataTextStyle=function(r){if(r&&!ka(r))for(var i=["show"],n=0;n<r.length;n++)r[n]&&r[n].label&&Zh(r[n],"label",i)},e.prototype.getInitialData=function(r,i){},e.prototype.appendData=function(r){var i=this.getRawData();i.appendData(r.data)},e.prototype.getData=function(r){var i=K8(this);if(i){var n=i.context.data;return r==null||!n.getLinkedData?n:n.getLinkedData(r)}else return Hl(this).data},e.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},e.prototype.setData=function(r){var i=K8(this);if(i){var n=i.context;n.outputData=r,i!==this.dataTask&&(n.data=r)}Hl(this).data=r},e.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return nt(r)},e.prototype.getSourceManager=function(){return Hl(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return Hl(this).dataBeforeProcessed},e.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},e.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},e.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},e.prototype.formatTooltip=function(r,i,n){return KK({series:this,dataIndex:r,multipleSeries:i})},e.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(Lt.node&&!(r&&r.ssr))return!1;var i=this.getShallow("animation");return i&&this.getData().count()>this.getShallow("animationThreshold")&&(i=!1),!!i},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(r,i,n){var a=this.ecModel,s=D9.prototype.getColorFromPalette.call(this,r,i,n);return s||(s=a.getColorFromPalette(r,i,n)),s},e.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(r,i){this._innerSelect(this.getData(i),r)},e.prototype.unselect=function(r,i){var n=this.option.selectedMap;if(n){var a=this.option.selectedMode,s=this.getData(i);if(a==="series"||n==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var o=0;o<r.length;o++){var u=r[o],l=h_(s,u);n[l]=!1,this._selectedDataIndicesMap[l]=-1}}},e.prototype.toggleSelect=function(r,i){for(var n=[],a=0;a<r.length;a++)n[0]=r[a],this.isSelected(r[a],i)?this.unselect(n,i):this.select(n,i)},e.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,i=kt(r),n=[],a=0;a<i.length;a++){var s=r[i[a]];s>=0&&n.push(s)}return n},e.prototype.isSelected=function(r,i){var n=this.option.selectedMap;if(!n)return!1;var a=this.getData(i);return(n==="all"||n[h_(a,r)])&&!a.getItemModel(r).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[Xx])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},e.prototype._innerSelect=function(r,i){var n,a,s=this.option,o=s.selectedMode,u=i.length;if(!(!o||!u)){if(o==="series")s.selectedMap="all";else if(o==="multiple"){lt(s.selectedMap)||(s.selectedMap={});for(var l=s.selectedMap,c=0;c<u;c++){var h=i[c],f=h_(r,h);l[f]=!0,this._selectedDataIndicesMap[f]=r.getRawIndex(h)}}else if(o==="single"||o===!0){var d=i[u-1],f=h_(r,d);s.selectedMap=(n={},n[f]=!0,n),this._selectedDataIndicesMap=(a={},a[f]=r.getRawIndex(d),a)}}},e.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var i=[];r.hasItemOption&&r.each(function(n){var a=r.getRawDataItem(n);a&&a.selected&&i.push(n)}),i.length>0&&this._innerSelect(r,i)}},e.registerClass=function(r){return Dt.registerClass(r)},e.protoInitialize=function(){var r=e.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),e}(Dt);yi(Kt,zb);yi(Kt,D9);bZ(Kt,Dt);function kR(t){var e=t.name;n9(t)||(t.name=dbe(t)||e)}function dbe(t){var e=t.getRawData(),r=e.mapDimensionsAll("seriesName"),i=[];return G(r,function(n){var a=e.getDimensionInfo(n);a.displayName&&i.push(a.displayName)}),i.join(" ")}function pbe(t){return t.model.getRawData().count()}function gbe(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),vbe}function vbe(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function zR(t,e){G(qh(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,mt(mbe,e))})}function mbe(t,e){var r=K8(t);return r&&r.setOutputEnd((e||this).count()),e}function K8(t){var e=(t.ecModel||{}).scheduler,r=e&&e.getPipeline(t.uid);if(r){var i=r.currentTask;if(i){var n=i.agentStubMap;n&&(i=n.get(t.uid))}return i}}var _r=function(){function t(){this.group=new dt,this.uid=fg("viewComponent")}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,i,n){},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,i,n){},t.prototype.updateLayout=function(e,r,i,n){},t.prototype.updateVisual=function(e,r,i,n){},t.prototype.toggleBlurSeries=function(e,r,i){},t.prototype.eachRendered=function(e){var r=this.group;r&&r.traverse(e)},t}();s9(_r);bb(_r);function mg(){var t=Yt();return function(e){var r=t(e),i=e.pipelineContext,n=!!r.large,a=!!r.progressiveRender,s=r.large=!!(i&&i.large),o=r.progressiveRender=!!(i&&i.progressiveRender);return(n!==s||a!==o)&&"reset"}}var JK=Yt(),ybe=mg(),Wt=function(){function t(){this.group=new dt,this.uid=fg("viewChart"),this.renderTask=U1({plan:_be,reset:xbe}),this.renderTask.context={view:this}}return t.prototype.init=function(e,r){},t.prototype.render=function(e,r,i,n){},t.prototype.highlight=function(e,r,i,n){var a=e.getData(n&&n.dataType);a&&GR(a,n,"emphasis")},t.prototype.downplay=function(e,r,i,n){var a=e.getData(n&&n.dataType);a&&GR(a,n,"normal")},t.prototype.remove=function(e,r){this.group.removeAll()},t.prototype.dispose=function(e,r){},t.prototype.updateView=function(e,r,i,n){this.render(e,r,i,n)},t.prototype.updateLayout=function(e,r,i,n){this.render(e,r,i,n)},t.prototype.updateVisual=function(e,r,i,n){this.render(e,r,i,n)},t.prototype.eachRendered=function(e){$c(this.group,e)},t.markUpdateMethod=function(e,r){JK(e).updateMethod=r},t.protoInitialize=function(){var e=t.prototype;e.type="chart"}(),t}();function HR(t,e,r){t&&B2(t)&&(e==="emphasis"?pl:gl)(t,r)}function GR(t,e,r){var i=Kh(t,e),n=e&&e.highlightKey!=null?t3e(e.highlightKey):null;i!=null?G(mr(i),function(a){HR(t.getItemGraphicEl(a),r,n)}):t.eachItemGraphicEl(function(a){HR(a,r,n)})}s9(Wt);bb(Wt);function _be(t){return ybe(t.model)}function xbe(t){var e=t.model,r=t.ecModel,i=t.api,n=t.payload,a=e.pipelineContext.progressiveRender,s=t.view,o=n&&JK(n).updateMethod,u=a?"incrementalPrepareRender":o&&s[o]?o:"render";return u!=="render"&&s[u](e,r,i,n),bbe[u]}var bbe={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},F3="\0__throttleOriginMethod",UR="\0__throttleRate",jR="\0__throttleType";function L9(t,e,r){var i,n=0,a=0,s=null,o,u,l,c;e=e||0;function h(){a=new Date().getTime(),s=null,t.apply(u,l||[])}var f=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];i=new Date().getTime(),u=this,l=d;var g=c||e,v=c||r;c=null,o=i-(v?n:a)-g,clearTimeout(s),v?s=setTimeout(h,g):o>=0?h():s=setTimeout(h,-o),n=i};return f.clear=function(){s&&(clearTimeout(s),s=null)},f.debounceNextCall=function(d){c=d},f}function yg(t,e,r,i){var n=t[e];if(n){var a=n[F3]||n,s=n[jR],o=n[UR];if(o!==r||s!==i){if(r==null||!i)return t[e]=a;n=t[e]=L9(a,r,i==="debounce"),n[F3]=a,n[jR]=i,n[UR]=r}return n}}function R2(t,e){var r=t[e];r&&r[F3]&&(r.clear&&r.clear(),t[e]=r[F3])}var VR=Yt(),$R={itemStyle:Jh(aK,!0),lineStyle:Jh(nK,!0)},Cbe={lineStyle:"stroke",itemStyle:"fill"};function QK(t,e){var r=t.visualStyleMapper||$R[e];return r||(console.warn("Unknown style type '"+e+"'."),$R.itemStyle)}function eJ(t,e){var r=t.visualDrawType||Cbe[e];return r||(console.warn("Unknown style type '"+e+"'."),"fill")}var Ebe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData(),i=t.visualStyleAccessPath||"itemStyle",n=t.getModel(i),a=QK(t,i),s=a(n),o=n.getShallow("decal");o&&(r.setVisual("decal",o),o.dirty=!0);var u=eJ(t,i),l=s[u],c=ot(l)?l:null,h=s.fill==="auto"||s.stroke==="auto";if(!s[u]||c||h){var f=t.getColorFromPalette(t.name,null,e.getSeriesCount());s[u]||(s[u]=f,r.setVisual("colorFromPalette",!0)),s.fill=s.fill==="auto"||ot(s.fill)?f:s.fill,s.stroke=s.stroke==="auto"||ot(s.stroke)?f:s.stroke}if(r.setVisual("style",s),r.setVisual("drawType",u),!e.isSeriesFiltered(t)&&c)return r.setVisual("colorFromPalette",!1),{dataEach:function(d,p){var g=t.getDataParams(p),v=Ce({},s);v[u]=c(g),d.setItemVisual(p,"style",v)}}}},mv=new Xt,Sbe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!(t.ignoreStyleOnData||e.isSeriesFiltered(t))){var r=t.getData(),i=t.visualStyleAccessPath||"itemStyle",n=QK(t,i),a=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(s,o){var u=s.getRawDataItem(o);if(u&&u[i]){mv.option=u[i];var l=n(mv),c=s.ensureUniqueItemVisual(o,"style");Ce(c,l),mv.option.decal&&(s.setItemVisual(o,"decal",mv.option.decal),mv.option.decal.dirty=!0),a in l&&s.setItemVisual(o,"colorFromPalette",!1)}}:null}}}},Tbe={performRawSeries:!0,overallReset:function(t){var e=nt();t.eachSeries(function(r){var i=r.getColorBy();if(!r.isColorBySeries()){var n=r.type+"-"+i,a=e.get(n);a||(a={},e.set(n,a)),VR(r).scope=a}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var i=r.getRawData(),n={},a=r.getData(),s=VR(r).scope,o=r.visualStyleAccessPath||"itemStyle",u=eJ(r,o);a.each(function(l){var c=a.getRawIndex(l);n[c]=l}),i.each(function(l){var c=n[l],h=a.getItemVisual(c,"colorFromPalette");if(h){var f=a.ensureUniqueItemVisual(c,"style"),d=i.getName(l)||l+"",p=i.count();f[u]=r.getColorFromPalette(d,s,p)}})}})}},f_=Math.PI;function Abe(t,e){e=e||{},st(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new dt,i=new Gt({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});r.add(i);var n=new zt({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),a=new Gt({style:{fill:"none"},textContent:n,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});r.add(a);var s;return e.showSpinner&&(s=new Db({shape:{startAngle:-f_/2,endAngle:-f_/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001}),s.animateShape(!0).when(1e3,{endAngle:f_*3/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:f_*3/2}).delay(300).start("circularInOut"),r.add(s)),r.resize=function(){var o=n.getBoundingRect().width,u=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-u*2-(e.showSpinner&&o?10:0)-o)/2-(e.showSpinner&&o?0:5+o/2)+(e.showSpinner?0:o/2)+(o?0:u),c=t.getHeight()/2;e.showSpinner&&s.setShape({cx:l,cy:c}),a.setShape({x:l-u,y:c-u,width:u*2,height:u*2}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var tJ=function(){function t(e,r,i,n){this._stageTaskMap=nt(),this.ecInstance=e,this.api=r,i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice(),this._allHandlers=i.concat(n)}return t.prototype.restoreData=function(e,r){e.restoreData(r),this._stageTaskMap.each(function(i){var n=i.overallTask;n&&n.dirty()})},t.prototype.getPerformArgs=function(e,r){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),n=i.context,a=!r&&i.progressiveEnabled&&(!n||n.progressiveRender)&&e.__idxInPipeline>i.blockIndex,s=a?i.step:null,o=n&&n.modDataCount,u=o!=null?Math.ceil(o/s):null;return{step:s,modBy:u,modDataCount:o}}},t.prototype.getPipeline=function(e){return this._pipelineMap.get(e)},t.prototype.updateStreamModes=function(e,r){var i=this._pipelineMap.get(e.uid),n=e.getData(),a=n.count(),s=i.progressiveEnabled&&r.incrementalPrepareRender&&a>=i.threshold,o=e.get("large")&&a>=e.get("largeThreshold"),u=e.get("progressiveChunkMode")==="mod"?a:null;e.pipelineContext=i.context={progressiveRender:s,modDataCount:u,large:o}},t.prototype.restorePipelines=function(e){var r=this,i=r._pipelineMap=nt();e.eachSeries(function(n){var a=n.getProgressive(),s=n.uid;i.set(s,{id:s,head:null,tail:null,threshold:n.getProgressiveThreshold(),progressiveEnabled:a&&!(n.preventIncremental&&n.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),r._pipe(n,n.dataTask)})},t.prototype.prepareStageTasks=function(){var e=this._stageTaskMap,r=this.api.getModel(),i=this.api;G(this._allHandlers,function(n){var a=e.get(n.uid)||e.set(n.uid,{}),s="";ha(!(n.reset&&n.overallReset),s),n.reset&&this._createSeriesStageTask(n,a,r,i),n.overallReset&&this._createOverallStageTask(n,a,r,i)},this)},t.prototype.prepareView=function(e,r,i,n){var a=e.renderTask,s=a.context;s.model=r,s.ecModel=i,s.api=n,a.__block=!e.incrementalPrepareRender,this._pipe(r,a)},t.prototype.performDataProcessorTasks=function(e,r){this._performStageTasks(this._dataProcessorHandlers,e,r,{block:!0})},t.prototype.performVisualTasks=function(e,r,i){this._performStageTasks(this._visualHandlers,e,r,i)},t.prototype._performStageTasks=function(e,r,i,n){n=n||{};var a=!1,s=this;G(e,function(u,l){if(!(n.visualType&&n.visualType!==u.visualType)){var c=s._stageTaskMap.get(u.uid),h=c.seriesTaskMap,f=c.overallTask;if(f){var d,p=f.agentStubMap;p.each(function(v){o(n,v)&&(v.dirty(),d=!0)}),d&&f.dirty(),s.updatePayload(f,i);var g=s.getPerformArgs(f,n.block);p.each(function(v){v.perform(g)}),f.perform(g)&&(a=!0)}else h&&h.each(function(v,m){o(n,v)&&v.dirty();var y=s.getPerformArgs(v,n.block);y.skip=!u.performRawSeries&&r.isSeriesFiltered(v.context.model),s.updatePayload(v,i),v.perform(y)&&(a=!0)})}});function o(u,l){return u.setDirty&&(!u.dirtyMap||u.dirtyMap.get(l.__pipeline.id))}this.unfinished=a||this.unfinished},t.prototype.performSeriesTasks=function(e){var r;e.eachSeries(function(i){r=i.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(e){var r=e.tail;do{if(r.__block){e.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(e,r){r!=="remain"&&(e.context.payload=r)},t.prototype._createSeriesStageTask=function(e,r,i,n){var a=this,s=r.seriesTaskMap,o=r.seriesTaskMap=nt(),u=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(c):u?i.eachRawSeriesByType(u,c):l&&l(i,n).each(c);function c(h){var f=h.uid,d=o.set(f,s&&s.get(f)||U1({plan:Bbe,reset:Mbe,count:Lbe}));d.context={model:h,ecModel:i,api:n,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:a},a._pipe(h,d)}},t.prototype._createOverallStageTask=function(e,r,i,n){var a=this,s=r.overallTask=r.overallTask||U1({reset:wbe});s.context={ecModel:i,api:n,overallReset:e.overallReset,scheduler:a};var o=s.agentStubMap,u=s.agentStubMap=nt(),l=e.seriesType,c=e.getTargetSeries,h=!0,f=!1,d="";ha(!e.createOnAllSeries,d),l?i.eachRawSeriesByType(l,p):c?c(i,n).each(p):(h=!1,G(i.getSeries(),p));function p(g){var v=g.uid,m=u.set(v,o&&o.get(v)||(f=!0,U1({reset:Dbe,onDirty:Ibe})));m.context={model:g,overallProgress:h},m.agent=s,m.__block=h,a._pipe(g,m)}f&&s.dirty()},t.prototype._pipe=function(e,r){var i=e.uid,n=this._pipelineMap.get(i);!n.head&&(n.head=r),n.tail&&n.tail.pipe(r),n.tail=r,r.__idxInPipeline=n.count++,r.__pipeline=n},t.wrapStageHandler=function(e,r){return ot(e)&&(e={overallReset:e,seriesType:Obe(e)}),e.uid=fg("stageHandler"),r&&(e.visualType=r),e},t}();function wbe(t){t.overallReset(t.ecModel,t.api,t.payload)}function Dbe(t){return t.overallProgress&&Fbe}function Fbe(){this.agent.dirty(),this.getDownstream().dirty()}function Ibe(){this.agent&&this.agent.dirty()}function Bbe(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Mbe(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=mr(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?Ie(e,function(r,i){return rJ(i)}):Pbe}var Pbe=rJ(0);function rJ(t){return function(e,r){var i=r.data,n=r.resetDefines[t];if(n&&n.dataEach)for(var a=e.start;a<e.end;a++)n.dataEach(i,a);else n&&n.progress&&n.progress(e,i)}}function Lbe(t){return t.data.count()}function Obe(t){I3=null;try{t(N2,iJ)}catch{}return I3}var N2={},iJ={},I3;nJ(N2,F9);nJ(iJ,DK);N2.eachSeriesByType=N2.eachRawSeriesByType=function(t){I3=t};N2.eachComponent=function(t){t.mainType==="series"&&t.subType&&(I3=t.subType)};function nJ(t,e){for(var r in e.prototype)t[r]=gi}var WR=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Rbe={color:WR,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],WR]};var Pn="#B9B8CE",YR="#100C2A",d_=function(){return{axisLine:{lineStyle:{color:Pn}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},qR=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],aJ={darkMode:!0,color:qR,backgroundColor:YR,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Pn},pageTextStyle:{color:Pn}},textStyle:{color:Pn},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Pn}},dataZoom:{borderColor:"#71708A",textStyle:{color:Pn},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Pn}},timeline:{lineStyle:{color:Pn},label:{color:Pn},controlStyle:{color:Pn,borderColor:Pn}},calendar:{itemStyle:{color:YR},dayLabel:{color:Pn},monthLabel:{color:Pn},yearLabel:{color:Pn}},timeAxis:d_(),logAxis:d_(),valueAxis:d_(),categoryAxis:d_(),line:{symbol:"circle"},graph:{color:qR},gauge:{title:{color:Pn},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Pn},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};aJ.categoryAxis.splitLine.show=!1;var Nbe=function(){function t(){}return t.prototype.normalizeQuery=function(e){var r={},i={},n={};if(Xe(e)){var a=Ko(e);r.mainType=a.main||null,r.subType=a.sub||null}else{var s=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};G(e,function(u,l){for(var c=!1,h=0;h<s.length;h++){var f=s[h],d=l.lastIndexOf(f);if(d>0&&d===l.length-f.length){var p=l.slice(0,d);p!=="data"&&(r.mainType=p,r[f.toLowerCase()]=u,c=!0)}}o.hasOwnProperty(l)&&(i[l]=u,c=!0),c||(n[l]=u)})}return{cptQuery:r,dataQuery:i,otherQuery:n}},t.prototype.filter=function(e,r){var i=this.eventInfo;if(!i)return!0;var n=i.targetEl,a=i.packedEvent,s=i.model,o=i.view;if(!s||!o)return!0;var u=r.cptQuery,l=r.dataQuery;return c(u,s,"mainType")&&c(u,s,"subType")&&c(u,s,"index","componentIndex")&&c(u,s,"name")&&c(u,s,"id")&&c(l,a,"name")&&c(l,a,"dataIndex")&&c(l,a,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,r.otherQuery,n,a));function c(h,f,d,p){return h[d]==null||f[p||d]===h[d]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),J8=["symbol","symbolSize","symbolRotate","symbolOffset"],XR=J8.concat(["symbolKeepAspect"]),kbe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var i={},n={},a=!1,s=0;s<J8.length;s++){var o=J8[s],u=t.get(o);ot(u)?(a=!0,n[o]=u):i[o]=u}if(i.symbol=i.symbol||t.defaultSymbol,r.setVisual(Ce({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},i)),e.isSeriesFiltered(t))return;var l=kt(n);function c(h,f){for(var d=t.getRawValue(f),p=t.getDataParams(f),g=0;g<l.length;g++){var v=l[g];h.setItemVisual(f,v,n[v](d,p))}}return{dataEach:a?c:null}}},zbe={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.hasSymbolVisual||e.isSeriesFiltered(t))return;var r=t.getData();function i(n,a){for(var s=n.getItemModel(a),o=0;o<XR.length;o++){var u=XR[o],l=s.getShallow(u,!0);l!=null&&n.setItemVisual(a,u,l)}}return{dataEach:r.hasItemOption?i:null}}};function O9(t,e,r){switch(r){case"color":var i=t.getItemVisual(e,"style");return i[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,r)}}function Mm(t,e){switch(e){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function sJ(t,e,r,i){switch(r){case"color":var n=t.ensureUniqueItemVisual(e,"style");n[t.getVisual("drawType")]=i,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,r,i);break}}function oJ(t,e){function r(i,n){var a=[];return i.eachComponent({mainType:"series",subType:t,query:n},function(s){a.push(s.seriesIndex)}),a}G([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(i){e(i[0],function(n,a,s){n=Ce({},n),s.dispatchAction(Ce(n,{type:i[1],seriesIndex:r(a,n)}))})})}function qf(t,e,r,i,n){var a=t+e;r.isSilent(a)||i.eachComponent({mainType:"series",subType:"pie"},function(s){for(var o=s.seriesIndex,u=s.option.selectedMap,l=n.selected,c=0;c<l.length;c++)if(l[c].seriesIndex===o){var h=s.getData(),f=Kh(h,n.fromActionPayload);r.trigger(a,{type:a,seriesId:s.id,name:Te(f)?h.getName(f[0]):h.getName(f),selected:Xe(u)?u:Ce({},u)})}})}function Hbe(t,e,r){t.on("selectchanged",function(i){var n=r.getModel();i.isFromClick?(qf("map","selectchanged",e,n,i),qf("pie","selectchanged",e,n,i)):i.fromAction==="select"?(qf("map","selected",e,n,i),qf("pie","selected",e,n,i)):i.fromAction==="unselect"&&(qf("map","unselected",e,n,i),qf("pie","unselected",e,n,i))})}function ph(t,e,r){for(var i;t&&!(e(t)&&(i=t,r));)t=t.__hostTarget||t.parent;return i}var Gbe=Math.round(Math.random()*9),Ube=typeof Object.defineProperty=="function",jbe=function(){function t(){this._id="__ec_inner_"+Gbe++}return t.prototype.get=function(e){return this._guard(e)[this._id]},t.prototype.set=function(e,r){var i=this._guard(e);return Ube?Object.defineProperty(i,this._id,{value:r,enumerable:!1,configurable:!0}):i[this._id]=r,this},t.prototype.delete=function(e){return this.has(e)?(delete this._guard(e)[this._id],!0):!1},t.prototype.has=function(e){return!!this._guard(e)[this._id]},t.prototype._guard=function(e){if(e!==Object(e))throw TypeError("Value of WeakMap is not a non-null object.");return e},t}(),Vbe=Pt.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,i=e.cy,n=e.width/2,a=e.height/2;t.moveTo(r,i-a),t.lineTo(r+n,i+a),t.lineTo(r-n,i+a),t.closePath()}}),$be=Pt.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var r=e.cx,i=e.cy,n=e.width/2,a=e.height/2;t.moveTo(r,i-a),t.lineTo(r+n,i),t.lineTo(r,i+a),t.lineTo(r-n,i),t.closePath()}}),Wbe=Pt.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.x,i=e.y,n=e.width/5*3,a=Math.max(n,e.height),s=n/2,o=s*s/(a-s),u=i-a+s+o,l=Math.asin(o/s),c=Math.cos(l)*s,h=Math.sin(l),f=Math.cos(l),d=s*.6,p=s*.7;t.moveTo(r-c,u+o),t.arc(r,u,s,Math.PI-l,Math.PI*2+l),t.bezierCurveTo(r+c-h*d,u+o+f*d,r,i-p,r,i),t.bezierCurveTo(r,i-p,r-c+h*d,u+o+f*d,r-c,u+o),t.closePath()}}),Ybe=Pt.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var r=e.height,i=e.width,n=e.x,a=e.y,s=i/3*2;t.moveTo(n,a),t.lineTo(n+s,a+r),t.lineTo(n,a+r/4*3),t.lineTo(n-s,a+r),t.lineTo(n,a),t.closePath()}}),qbe={line:Ui,rect:Gt,roundRect:Gt,square:Gt,circle:Dl,diamond:$be,pin:Wbe,arrow:Ybe,triangle:Vbe},Xbe={line:function(t,e,r,i,n){n.x1=t,n.y1=e+i/2,n.x2=t+r,n.y2=e+i/2},rect:function(t,e,r,i,n){n.x=t,n.y=e,n.width=r,n.height=i},roundRect:function(t,e,r,i,n){n.x=t,n.y=e,n.width=r,n.height=i,n.r=Math.min(r,i)/4},square:function(t,e,r,i,n){var a=Math.min(r,i);n.x=t,n.y=e,n.width=a,n.height=a},circle:function(t,e,r,i,n){n.cx=t+r/2,n.cy=e+i/2,n.r=Math.min(r,i)/2},diamond:function(t,e,r,i,n){n.cx=t+r/2,n.cy=e+i/2,n.width=r,n.height=i},pin:function(t,e,r,i,n){n.x=t+r/2,n.y=e+i/2,n.width=r,n.height=i},arrow:function(t,e,r,i,n){n.x=t+r/2,n.y=e+i/2,n.width=r,n.height=i},triangle:function(t,e,r,i,n){n.cx=t+r/2,n.cy=e+i/2,n.width=r,n.height=i}},B3={};G(qbe,function(t,e){B3[e]=new t});var Zbe=Pt.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,r){var i=_3(t,e,r),n=this.shape;return n&&n.symbolType==="pin"&&e.position==="inside"&&(i.y=r.y+r.height*.4),i},buildPath:function(t,e,r){var i=e.symbolType;if(i!=="none"){var n=B3[i];n||(i="rect",n=B3[i]),Xbe[i](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape,r)}}});function Kbe(t,e){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=e||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function vi(t,e,r,i,n,a,s){var o=t.indexOf("empty")===0;o&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u;return t.indexOf("image://")===0?u=ZZ(t.slice(8),new Et(e,r,i,n),s?"center":"cover"):t.indexOf("path://")===0?u=Fb(t.slice(7),{},new Et(e,r,i,n),s?"center":"cover"):u=new Zbe({shape:{symbolType:t,x:e,y:r,width:i,height:n}}),u.__isEmptyBrush=o,u.setColor=Kbe,a&&u.setColor(a),u}function _g(t){return Te(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function Tf(t,e){if(t!=null)return Te(t)||(t=[t,t]),[je(t[0],e[0])||0,je(gt(t[1],t[0]),e[1])||0]}function gh(t){return isFinite(t)}function Jbe(t,e,r){var i=e.x==null?0:e.x,n=e.x2==null?1:e.x2,a=e.y==null?0:e.y,s=e.y2==null?0:e.y2;e.global||(i=i*r.width+r.x,n=n*r.width+r.x,a=a*r.height+r.y,s=s*r.height+r.y),i=gh(i)?i:0,n=gh(n)?n:1,a=gh(a)?a:0,s=gh(s)?s:0;var o=t.createLinearGradient(i,a,n,s);return o}function Qbe(t,e,r){var i=r.width,n=r.height,a=Math.min(i,n),s=e.x==null?.5:e.x,o=e.y==null?.5:e.y,u=e.r==null?.5:e.r;e.global||(s=s*i+r.x,o=o*n+r.y,u=u*a),s=gh(s)?s:.5,o=gh(o)?o:.5,u=u>=0&&gh(u)?u:.5;var l=t.createRadialGradient(s,o,0,s,o,u);return l}function Q8(t,e,r){for(var i=e.type==="radial"?Qbe(t,e,r):Jbe(t,e,r),n=e.colorStops,a=0;a<n.length;a++)i.addColorStop(n[a].offset,n[a].color);return i}function eCe(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!0;return!1}function p_(t){return parseInt(t,10)}function Md(t,e,r){var i=["width","height"][e],n=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(r[i]!=null&&r[i]!=="auto")return parseFloat(r[i]);var o=document.defaultView.getComputedStyle(t);return(t[n]||p_(o[i])||p_(t.style[i]))-(p_(o[a])||0)-(p_(o[s])||0)|0}function tCe(t,e){return!t||t==="solid"||!(e>0)?null:t==="dashed"?[4*e,2*e]:t==="dotted"?[e]:Zt(t)?[t]:Te(t)?t:null}function R9(t){var e=t.style,r=e.lineDash&&e.lineWidth>0&&tCe(e.lineDash,e.lineWidth),i=e.lineDashOffset;if(r){var n=e.strokeNoScale&&t.getLineScale?t.getLineScale():1;n&&n!==1&&(r=Ie(r,function(a){return a/n}),i/=n)}return[r,i]}var rCe=new _u(!0);function M3(t){var e=t.stroke;return!(e==null||e==="none"||!(t.lineWidth>0))}function ZR(t){return typeof t=="string"&&t!=="none"}function P3(t){var e=t.fill;return e!=null&&e!=="none"}function KR(t,e){if(e.fillOpacity!=null&&e.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function JR(t,e){if(e.strokeOpacity!=null&&e.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function ew(t,e,r){var i=o9(e.image,e.__image,r);if(Cb(i)){var n=t.createPattern(i,e.repeat||"repeat");if(typeof DOMMatrix=="function"&&n&&n.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*Ox),a.scaleSelf(e.scaleX||1,e.scaleY||1),n.setTransform(a)}return n}}function iCe(t,e,r,i){var n,a=M3(r),s=P3(r),o=r.strokePercent,u=o<1,l=!e.path;(!e.silent||u)&&l&&e.createPathProxy();var c=e.path||rCe,h=e.__dirty;if(!i){var f=r.fill,d=r.stroke,p=s&&!!f.colorStops,g=a&&!!d.colorStops,v=s&&!!f.image,m=a&&!!d.image,y=void 0,_=void 0,x=void 0,b=void 0,C=void 0;(p||g)&&(C=e.getBoundingRect()),p&&(y=h?Q8(t,f,C):e.__canvasFillGradient,e.__canvasFillGradient=y),g&&(_=h?Q8(t,d,C):e.__canvasStrokeGradient,e.__canvasStrokeGradient=_),v&&(x=h||!e.__canvasFillPattern?ew(t,f,e):e.__canvasFillPattern,e.__canvasFillPattern=x),m&&(b=h||!e.__canvasStrokePattern?ew(t,d,e):e.__canvasStrokePattern,e.__canvasStrokePattern=x),p?t.fillStyle=y:v&&(x?t.fillStyle=x:s=!1),g?t.strokeStyle=_:m&&(b?t.strokeStyle=b:a=!1)}var E=e.getGlobalScale();c.setScale(E[0],E[1],e.segmentIgnoreThreshold);var A,S;t.setLineDash&&r.lineDash&&(n=R9(e),A=n[0],S=n[1]);var T=!0;(l||h&e1)&&(c.setDPR(t.dpr),u?c.setContext(null):(c.setContext(t),T=!1),c.reset(),e.buildPath(c,e.shape,i),c.toStatic(),e.pathUpdated()),T&&c.rebuildPath(t,u?o:1),A&&(t.setLineDash(A),t.lineDashOffset=S),i||(r.strokeFirst?(a&&JR(t,r),s&&KR(t,r)):(s&&KR(t,r),a&&JR(t,r))),A&&t.setLineDash([])}function nCe(t,e,r){var i=e.__image=o9(r.image,e.__image,e,e.onload);if(!(!i||!Cb(i))){var n=r.x||0,a=r.y||0,s=e.getWidth(),o=e.getHeight(),u=i.width/i.height;if(s==null&&o!=null?s=o*u:o==null&&s!=null?o=s/u:s==null&&o==null&&(s=i.width,o=i.height),r.sWidth&&r.sHeight){var l=r.sx||0,c=r.sy||0;t.drawImage(i,l,c,r.sWidth,r.sHeight,n,a,s,o)}else if(r.sx&&r.sy){var l=r.sx,c=r.sy,h=s-l,f=o-c;t.drawImage(i,l,c,h,f,n,a,s,o)}else t.drawImage(i,n,a,s,o)}}function aCe(t,e,r){var i,n=r.text;if(n!=null&&(n+=""),n){t.font=r.font||Lc,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var a=void 0,s=void 0;t.setLineDash&&r.lineDash&&(i=R9(e),a=i[0],s=i[1]),a&&(t.setLineDash(a),t.lineDashOffset=s),r.strokeFirst?(M3(r)&&t.strokeText(n,r.x,r.y),P3(r)&&t.fillText(n,r.x,r.y)):(P3(r)&&t.fillText(n,r.x,r.y),M3(r)&&t.strokeText(n,r.x,r.y)),a&&t.setLineDash([])}}var QR=["shadowBlur","shadowOffsetX","shadowOffsetY"],eN=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function uJ(t,e,r,i,n){var a=!1;if(!i&&(r=r||{},e===r))return!1;if(i||e.opacity!==r.opacity){Pa(t,n),a=!0;var s=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(s)?Ih.opacity:s}(i||e.blend!==r.blend)&&(a||(Pa(t,n),a=!0),t.globalCompositeOperation=e.blend||Ih.blend);for(var o=0;o<QR.length;o++){var u=QR[o];(i||e[u]!==r[u])&&(a||(Pa(t,n),a=!0),t[u]=t.dpr*(e[u]||0))}return(i||e.shadowColor!==r.shadowColor)&&(a||(Pa(t,n),a=!0),t.shadowColor=e.shadowColor||Ih.shadowColor),a}function tN(t,e,r,i,n){var a=k2(e,n.inHover),s=i?null:r&&k2(r,n.inHover)||{};if(a===s)return!1;var o=uJ(t,a,s,i,n);if((i||a.fill!==s.fill)&&(o||(Pa(t,n),o=!0),ZR(a.fill)&&(t.fillStyle=a.fill)),(i||a.stroke!==s.stroke)&&(o||(Pa(t,n),o=!0),ZR(a.stroke)&&(t.strokeStyle=a.stroke)),(i||a.opacity!==s.opacity)&&(o||(Pa(t,n),o=!0),t.globalAlpha=a.opacity==null?1:a.opacity),e.hasStroke()){var u=a.lineWidth,l=u/(a.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(o||(Pa(t,n),o=!0),t.lineWidth=l)}for(var c=0;c<eN.length;c++){var h=eN[c],f=h[0];(i||a[f]!==s[f])&&(o||(Pa(t,n),o=!0),t[f]=a[f]||h[1])}return o}function sCe(t,e,r,i,n){return uJ(t,k2(e,n.inHover),r&&k2(r,n.inHover),i,n)}function lJ(t,e){var r=e.transform,i=t.dpr||1;r?t.setTransform(i*r[0],i*r[1],i*r[2],i*r[3],i*r[4],i*r[5]):t.setTransform(i,0,0,i,0,0)}function oCe(t,e,r){for(var i=!1,n=0;n<t.length;n++){var a=t[n];i=i||a.isZeroArea(),lJ(e,a),e.beginPath(),a.buildPath(e,a.shape),e.clip()}r.allClipped=i}function uCe(t,e){return t&&e?t[0]!==e[0]||t[1]!==e[1]||t[2]!==e[2]||t[3]!==e[3]||t[4]!==e[4]||t[5]!==e[5]:!(!t&&!e)}var rN=1,iN=2,nN=3,aN=4;function lCe(t){var e=P3(t),r=M3(t);return!(t.lineDash||!(+e^+r)||e&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function Pa(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function k2(t,e){return e&&t.__hoverStyle||t.style}function Gb(t,e){vh(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function vh(t,e,r,i){var n=e.transform;if(!e.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){e.__dirty&=-2,e.__isRendered=!1;return}var a=e.__clipPaths,s=r.prevElClipPaths,o=!1,u=!1;if((!s||eCe(a,s))&&(s&&s.length&&(Pa(t,r),t.restore(),u=o=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),a&&a.length&&(Pa(t,r),t.save(),oCe(a,t,r),o=!0),r.prevElClipPaths=a),r.allClipped){e.__isRendered=!1;return}e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var l=r.prevEl;l||(u=o=!0);var c=e instanceof Pt&&e.autoBatch&&lCe(e.style);o||uCe(n,l.transform)?(Pa(t,r),lJ(t,e)):c||Pa(t,r);var h=k2(e,r.inHover);e instanceof Pt?(r.lastDrawType!==rN&&(u=!0,r.lastDrawType=rN),tN(t,e,l,u,r),(!c||!r.batchFill&&!r.batchStroke)&&t.beginPath(),iCe(t,e,h,c),c&&(r.batchFill=h.fill||"",r.batchStroke=h.stroke||"")):e instanceof Sp?(r.lastDrawType!==nN&&(u=!0,r.lastDrawType=nN),tN(t,e,l,u,r),aCe(t,e,h)):e instanceof en?(r.lastDrawType!==iN&&(u=!0,r.lastDrawType=iN),sCe(t,e,l,u,r),nCe(t,e,h)):e.getTemporalDisplayables&&(r.lastDrawType!==aN&&(u=!0,r.lastDrawType=aN),cCe(t,e,r)),c&&i&&Pa(t,r),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),r.prevEl=e,e.__dirty=0,e.__isRendered=!0}function cCe(t,e,r){var i=e.getDisplayables(),n=e.getTemporalDisplayables();t.save();var a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},s,o;for(s=e.getCursor(),o=i.length;s<o;s++){var u=i[s];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),vh(t,u,a,s===o-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}for(var l=0,c=n.length;l<c;l++){var u=n[l];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),vh(t,u,a,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),a.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}var ES=new jbe,sN=new og(100),oN=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function wp(t,e){if(t==="none")return null;var r=e.getDevicePixelRatio(),i=e.getZr(),n=i.painter.type==="svg";t.dirty&&ES.delete(t);var a=ES.get(t);if(a)return a;var s=st(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});s.backgroundColor==="none"&&(s.backgroundColor=null);var o={repeat:"repeat"};return u(o),o.rotation=s.rotation,o.scaleX=o.scaleY=n?1:1/r,ES.set(t,o),t.dirty=!1,o;function u(l){for(var c=[r],h=!0,f=0;f<oN.length;++f){var d=s[oN[f]];if(d!=null&&!Te(d)&&!Xe(d)&&!Zt(d)&&typeof d!="boolean"){h=!1;break}c.push(d)}var p;if(h){p=c.join(",")+(n?"-svg":"");var g=sN.get(p);g&&(n?l.svgElement=g:l.image=g)}var v=hJ(s.dashArrayX),m=hCe(s.dashArrayY),y=cJ(s.symbol),_=fCe(v),x=fJ(m),b=!n&&Oc.createCanvas(),C=n&&{tag:"g",attrs:{},key:"dcl",children:[]},E=S(),A;b&&(b.width=E.width*r,b.height=E.height*r,A=b.getContext("2d")),T(),h&&sN.put(p,b||C),l.image=b,l.svgElement=C,l.svgWidth=E.width,l.svgHeight=E.height;function S(){for(var D=1,F=0,B=_.length;F<B;++F)D=SO(D,_[F]);for(var O=1,F=0,B=y.length;F<B;++F)O=SO(O,y[F].length);D*=O;var M=x*_.length*y.length;return{width:Math.max(1,Math.min(D,s.maxTileWidth)),height:Math.max(1,Math.min(M,s.maxTileHeight))}}function T(){A&&(A.clearRect(0,0,b.width,b.height),s.backgroundColor&&(A.fillStyle=s.backgroundColor,A.fillRect(0,0,b.width,b.height)));for(var D=0,F=0;F<m.length;++F)D+=m[F];if(D<=0)return;for(var B=-x,O=0,M=0,R=0;B<E.height;){if(O%2===0){for(var z=M/2%y.length,k=0,U=0,V=0;k<E.width*2;){for(var j=0,F=0;F<v[R].length;++F)j+=v[R][F];if(j<=0)break;if(U%2===0){var Y=(1-s.symbolSize)*.5,te=k+v[R][U]*Y,re=B+m[O]*Y,de=v[R][U]*s.symbolSize,Oe=m[O]*s.symbolSize,he=V/2%y[z].length;le(te,re,de,Oe,y[z][he])}k+=v[R][U],++V,++U,U===v[R].length&&(U=0)}++R,R===v.length&&(R=0)}B+=m[O],++M,++O,O===m.length&&(O=0)}function le(pe,xe,be,q,J){var se=n?1:r,ve=vi(J,pe*se,xe*se,be*se,q*se,s.color,s.symbolKeepAspect);if(n){var _e=i.painter.renderOneToVNode(ve);_e&&C.children.push(_e)}else Gb(A,ve)}}}}function cJ(t){if(!t||t.length===0)return[["rect"]];if(Xe(t))return[[t]];for(var e=!0,r=0;r<t.length;++r)if(!Xe(t[r])){e=!1;break}if(e)return cJ([t]);for(var i=[],r=0;r<t.length;++r)Xe(t[r])?i.push([t[r]]):i.push(t[r]);return i}function hJ(t){if(!t||t.length===0)return[[0,0]];if(Zt(t)){var e=Math.ceil(t);return[[e,e]]}for(var r=!0,i=0;i<t.length;++i)if(!Zt(t[i])){r=!1;break}if(r)return hJ([t]);for(var n=[],i=0;i<t.length;++i)if(Zt(t[i])){var e=Math.ceil(t[i]);n.push([e,e])}else{var e=Ie(t[i],function(o){return Math.ceil(o)});e.length%2===1?n.push(e.concat(e)):n.push(e)}return n}function hCe(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(Zt(t)){var e=Math.ceil(t);return[e,e]}var r=Ie(t,function(i){return Math.ceil(i)});return t.length%2?r.concat(r):r}function fCe(t){return Ie(t,function(e){return fJ(e)})}function fJ(t){for(var e=0,r=0;r<t.length;++r)e+=t[r];return t.length%2===1?e*2:e}function dCe(t,e){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var i=r.getData();i.hasItemVisual()&&i.each(function(s){var o=i.getItemVisual(s,"decal");if(o){var u=i.ensureUniqueItemVisual(s,"style");u.decal=wp(o,e)}});var n=i.getVisual("decal");if(n){var a=i.getVisual("style");a.decal=wp(n,e)}}})}var ao=new Us,dJ={};function pCe(t,e){dJ[t]=e}function pJ(t){return dJ[t]}var gCe=1,vCe=800,mCe=900,yCe=1e3,_Ce=2e3,xCe=5e3,gJ=1e3,bCe=1100,N9=2e3,vJ=3e3,CCe=4e3,Ub=4500,ECe=4600,SCe=5e3,TCe=6e3,mJ=7e3,ACe={PROCESSOR:{FILTER:yCe,SERIES_FILTER:vCe,STATISTIC:xCe},VISUAL:{LAYOUT:gJ,PROGRESSIVE_LAYOUT:bCe,GLOBAL:N9,CHART:vJ,POST_CHART_LAYOUT:ECe,COMPONENT:CCe,BRUSH:SCe,CHART_ITEM:Ub,ARIA:TCe,DECAL:mJ}},Mn="__flagInMainProcess",Sa="__pendingUpdate",SS="__needsUpdateStatus",uN=/^[a-zA-Z0-9_]+$/,TS="__connectUpdateStatus",lN=0,wCe=1,DCe=2;function yJ(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this.isDisposed()){this.id;return}return xJ(this,t,e)}}function _J(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return xJ(this,t,e)}}function xJ(t,e,r){return r[0]=r[0]&&r[0].toLowerCase(),Us.prototype[e].apply(t,r)}var bJ=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Us),CJ=bJ.prototype;CJ.on=_J("on");CJ.off=_J("off");var Xf,AS,g_,Gl,wS,DS,FS,yv,_v,cN,hN,IS,fN,v_,dN,EJ,hs,pN,SJ=function(t){ce(e,t);function e(r,i,n){var a=t.call(this,new Nbe)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],n=n||{},Xe(i)&&(i=TJ[i]),a._dom=r;var s="canvas",o="auto",u=!1;n.ssr&&Sxe(function(f){var d=pt(f),p=d.dataIndex;if(p!=null){var g=nt();return g.set("series_index",d.seriesIndex),g.set("data_index",p),d.ssrType&&g.set("ssr_type",d.ssrType),g}});var l=a._zr=F8(r,{renderer:n.renderer||s,devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height,ssr:n.ssr,useDirtyRect:gt(n.useDirtyRect,u),useCoarsePointer:gt(n.useCoarsePointer,o),pointerSize:n.pointerSize});a._ssr=n.ssr,a._throttledZrFlush=L9(Je(l.flush,l),17),i=ht(i),i&&IK(i,!0),a._theme=i,a._locale=q3e(n.locale||sK),a._coordSysMgr=new vg;var c=a._api=dN(a);function h(f,d){return f.__prio-d.__prio}return kx(O3,h),kx(tw,h),a._scheduler=new tJ(a,c,tw,O3),a._messageCenter=new bJ,a._initEvents(),a.resize=Je(a.resize,a),l.animation.on("frame",a._onframe,a),cN(l,a),hN(l,a),d3(a),a}return e.prototype._onframe=function(){if(!this._disposed){pN(this);var r=this._scheduler;if(this[Sa]){var i=this[Sa].silent;this[Mn]=!0;try{Xf(this),Gl.update.call(this,null,this[Sa].updateParams)}catch(u){throw this[Mn]=!1,this[Sa]=null,u}this._zr.flush(),this[Mn]=!1,this[Sa]=null,yv.call(this,i),_v.call(this,i)}else if(r.unfinished){var n=gCe,a=this._model,s=this._api;r.unfinished=!1;do{var o=+new Date;r.performSeriesTasks(a),r.performDataProcessorTasks(a),DS(this,a),r.performVisualTasks(a),v_(this,this._model,s,"remain",{}),n-=+new Date-o}while(n>0&&r.unfinished);r.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(r,i,n){if(!this[Mn]){if(this._disposed){this.id;return}var a,s,o;if(lt(i)&&(n=i.lazyUpdate,a=i.silent,s=i.replaceMerge,o=i.transition,i=i.notMerge),this[Mn]=!0,!this._model||i){var u=new _4e(this._api),l=this._theme,c=this._model=new F9;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,l,this._locale,u)}this._model.setOption(r,{replaceMerge:s},rw);var h={seriesTransition:o,optionChanged:!0};if(n)this[Sa]={silent:a,updateParams:h},this[Mn]=!1,this.getZr().wakeUp();else{try{Xf(this),Gl.update.call(this,null,h)}catch(f){throw this[Sa]=null,this[Mn]=!1,f}this._ssr||this._zr.flush(),this[Sa]=null,this[Mn]=!1,yv.call(this,a),_v.call(this,a)}}},e.prototype.setTheme=function(){},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Lt.hasGlobalWindow&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},e.prototype.renderToCanvas=function(r){r=r||{};var i=this._zr.painter;return i.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(r){r=r||{};var i=this._zr.painter;return i.renderToString({useViewBox:r.useViewBox})},e.prototype.getSvgDataURL=function(){if(Lt.svgSupported){var r=this._zr,i=r.storage.getDisplayList();return G(i,function(n){n.stopAnimation(null,!0)}),r.painter.toDataURL()}},e.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var i=r.excludeComponents,n=this._model,a=[],s=this;G(i,function(u){n.eachComponent({mainType:u},function(l){var c=s._componentsMap[l.__viewId];c.group.ignore||(a.push(c),c.group.ignore=!0)})});var o=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return G(a,function(u){u.group.ignore=!1}),o},e.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var i=r.type==="svg",n=this.group,a=Math.min,s=Math.max,o=1/0;if(gN[n]){var u=o,l=o,c=-o,h=-o,f=[],d=r&&r.pixelRatio||this.getDevicePixelRatio();G(V1,function(_,x){if(_.group===n){var b=i?_.getZr().painter.getSvgDom().innerHTML:_.renderToCanvas(ht(r)),C=_.getDom().getBoundingClientRect();u=a(C.left,u),l=a(C.top,l),c=s(C.right,c),h=s(C.bottom,h),f.push({dom:b,left:C.left,top:C.top})}}),u*=d,l*=d,c*=d,h*=d;var p=c-u,g=h-l,v=Oc.createCanvas(),m=F8(v,{renderer:i?"svg":"canvas"});if(m.resize({width:p,height:g}),i){var y="";return G(f,function(_){var x=_.left-u,b=_.top-l;y+='<g transform="translate('+x+","+b+')">'+_.dom+"</g>"}),m.painter.getSvgRoot().innerHTML=y,r.connectedBackgroundColor&&m.painter.setBackgroundColor(r.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}else return r.connectedBackgroundColor&&m.add(new Gt({shape:{x:0,y:0,width:p,height:g},style:{fill:r.connectedBackgroundColor}})),G(f,function(_){var x=new en({style:{x:_.left*d-u,y:_.top*d-l,image:_.dom}});m.add(x)}),m.refreshImmediately(),v.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},e.prototype.convertToPixel=function(r,i){return wS(this,"convertToPixel",r,i)},e.prototype.convertFromPixel=function(r,i){return wS(this,"convertFromPixel",r,i)},e.prototype.containPixel=function(r,i){if(this._disposed){this.id;return}var n=this._model,a,s=N1(n,r);return G(s,function(o,u){u.indexOf("Models")>=0&&G(o,function(l){var c=l.coordinateSystem;if(c&&c.containPoint)a=a||!!c.containPoint(i);else if(u==="seriesModels"){var h=this._chartsMap[l.__viewId];h&&h.containPoint&&(a=a||h.containPoint(i,l))}},this)},this),!!a},e.prototype.getVisual=function(r,i){var n=this._model,a=N1(n,r,{defaultMainType:"series"}),s=a.seriesModel,o=s.getData(),u=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?o.indexOfRawIndex(a.dataIndex):null;return u!=null?O9(o,u,i):Mm(o,i)},e.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},e.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},e.prototype._initEvents=function(){var r=this;G(FCe,function(i){var n=function(a){var s=r.getModel(),o=a.target,u,l=i==="globalout";if(l?u={}:o&&ph(o,function(p){var g=pt(p);if(g&&g.dataIndex!=null){var v=g.dataModel||s.getSeriesByIndex(g.seriesIndex);return u=v&&v.getDataParams(g.dataIndex,g.dataType,o)||{},!0}else if(g.eventData)return u=Ce({},g.eventData),!0},!0),u){var c=u.componentType,h=u.componentIndex;(c==="markLine"||c==="markPoint"||c==="markArea")&&(c="series",h=u.seriesIndex);var f=c&&h!=null&&s.getComponent(c,h),d=f&&r[f.mainType==="series"?"_chartsMap":"_componentsMap"][f.__viewId];u.event=a,u.type=i,r._$eventProcessor.eventInfo={targetEl:o,packedEvent:u,model:f,view:d},r.trigger(i,u)}};n.zrEventfulCallAtLast=!0,r._zr.on(i,n,r)}),G(j1,function(i,n){r._messageCenter.on(n,function(a){this.trigger(n,a)},r)}),G(["selectchanged"],function(i){r._messageCenter.on(i,function(n){this.trigger(i,n)},r)}),Hbe(this._messageCenter,this,this._api)},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&yZ(this.getDom(),z9,"");var i=this,n=i._api,a=i._model;G(i._componentsViews,function(s){s.dispose(a,n)}),G(i._chartsViews,function(s){s.dispose(a,n)}),i._zr.dispose(),i._dom=i._model=i._chartsMap=i._componentsMap=i._chartsViews=i._componentsViews=i._scheduler=i._api=i._zr=i._throttledZrFlush=i._theme=i._coordSysMgr=i._messageCenter=null,delete V1[i.id]},e.prototype.resize=function(r){if(!this[Mn]){if(this._disposed){this.id;return}this._zr.resize(r);var i=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!i){var n=i.resetOption("media"),a=r&&r.silent;this[Sa]&&(a==null&&(a=this[Sa].silent),n=!0,this[Sa]=null),this[Mn]=!0;try{n&&Xf(this),Gl.update.call(this,{type:"resize",animation:Ce({duration:0},r&&r.animation)})}catch(s){throw this[Mn]=!1,s}this[Mn]=!1,yv.call(this,a),_v.call(this,a)}}},e.prototype.showLoading=function(r,i){if(this._disposed){this.id;return}if(lt(r)&&(i=r,r=""),r=r||"default",this.hideLoading(),!!iw[r]){var n=iw[r](this._api,i),a=this._zr;this._loadingFX=n,a.add(n)}},e.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},e.prototype.makeActionFromEvent=function(r){var i=Ce({},r);return i.type=j1[r.type],i},e.prototype.dispatchAction=function(r,i){if(this._disposed){this.id;return}if(lt(i)||(i={silent:!!i}),!!L3[r.type]&&this._model){if(this[Mn]){this._pendingActions.push(r);return}var n=i.silent;FS.call(this,r,n);var a=i.flush;a?this._zr.flush():a!==!1&&Lt.browser.weChat&&this._throttledZrFlush(),yv.call(this,n),_v.call(this,n)}},e.prototype.updateLabelLayout=function(){ao.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(r){if(this._disposed){this.id;return}var i=r.seriesIndex,n=this.getModel(),a=n.getSeriesByIndex(i);a.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},e.internalField=function(){Xf=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),AS(h,!0),AS(h,!1),f.plan()},AS=function(h,f){for(var d=h._model,p=h._scheduler,g=f?h._componentsViews:h._chartsViews,v=f?h._componentsMap:h._chartsMap,m=h._zr,y=h._api,_=0;_<g.length;_++)g[_].__alive=!1;f?d.eachComponent(function(C,E){C!=="series"&&x(E)}):d.eachSeries(x);function x(C){var E=C.__requireNewView;C.__requireNewView=!1;var A="_ec_"+C.id+"_"+C.type,S=!E&&v[A];if(!S){var T=Ko(C.type),D=f?_r.getClass(T.main,T.sub):Wt.getClass(T.sub);S=new D,S.init(d,y),v[A]=S,g.push(S),m.add(S.group)}C.__viewId=S.__id=A,S.__alive=!0,S.__model=C,S.group.__ecComponentInfo={mainType:C.mainType,index:C.componentIndex},!f&&p.prepareView(S,C,d,y)}for(var _=0;_<g.length;){var b=g[_];b.__alive?_++:(!f&&b.renderTask.dispose(),m.remove(b.group),b.dispose(d,y),g.splice(_,1),v[b.__id]===b&&delete v[b.__id],b.__id=b.group.__ecComponentInfo=null)}},g_=function(h,f,d,p,g){var v=h._model;if(v.setUpdatePayload(d),!p){G([].concat(h._componentsViews).concat(h._chartsViews),b);return}var m={};m[p+"Id"]=d[p+"Id"],m[p+"Index"]=d[p+"Index"],m[p+"Name"]=d[p+"Name"];var y={mainType:p,query:m};g&&(y.subType=g);var _=d.excludeSeriesId,x;_!=null&&(x=nt(),G(mr(_),function(C){var E=Oi(C,null);E!=null&&x.set(E,!0)})),v&&v.eachComponent(y,function(C){var E=x&&x.get(C.id)!=null;if(!E)if(ZO(d))if(C instanceof Kt)d.type===Bh&&!d.notBlur&&!C.get(["emphasis","disabled"])&&Y5e(C,d,h._api);else{var A=d9(C.mainType,C.componentIndex,d.name,h._api),S=A.focusSelf,T=A.dispatchers;d.type===Bh&&S&&!d.notBlur&&N8(C.mainType,C.componentIndex,h._api),T&&G(T,function(D){d.type===Bh?pl(D):gl(D)})}else z8(d)&&C instanceof Kt&&(Z5e(C,d,h._api),qO(C),hs(h))},h),v&&v.eachComponent(y,function(C){var E=x&&x.get(C.id)!=null;E||b(h[p==="series"?"_chartsMap":"_componentsMap"][C.__viewId])},h);function b(C){C&&C.__alive&&C[f]&&C[f](C.__model,v,h._api,d)}},Gl={prepareAndUpdate:function(h){Xf(this),Gl.update.call(this,h,{optionChanged:h.newOption!=null})},update:function(h,f){var d=this._model,p=this._api,g=this._zr,v=this._coordSysMgr,m=this._scheduler;if(d){d.setUpdatePayload(h),m.restoreData(d,h),m.performSeriesTasks(d),v.create(d,p),m.performDataProcessorTasks(d,h),DS(this,d),v.update(d,p),r(d),m.performVisualTasks(d,h),IS(this,d,p,h,f);var y=d.get("backgroundColor")||"transparent",_=d.get("darkMode");g.setBackgroundColor(y),_!=null&&_!=="auto"&&g.setDarkMode(_),ao.trigger("afterupdate",d,p)}},updateTransform:function(h){var f=this,d=this._model,p=this._api;if(d){d.setUpdatePayload(h);var g=[];d.eachComponent(function(m,y){if(m!=="series"){var _=f.getViewOfComponentModel(y);if(_&&_.__alive)if(_.updateTransform){var x=_.updateTransform(y,d,p,h);x&&x.update&&g.push(_)}else g.push(_)}});var v=nt();d.eachSeries(function(m){var y=f._chartsMap[m.__viewId];if(y.updateTransform){var _=y.updateTransform(m,d,p,h);_&&_.update&&v.set(m.uid,1)}else v.set(m.uid,1)}),r(d),this._scheduler.performVisualTasks(d,h,{setDirty:!0,dirtyMap:v}),v_(this,d,p,h,{},v),ao.trigger("afterupdate",d,p)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),Wt.markUpdateMethod(h,"updateView"),r(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),IS(this,f,this._api,h,{}),ao.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,d=this._model;d&&(d.setUpdatePayload(h),d.eachSeries(function(p){p.getData().clearAllVisual()}),Wt.markUpdateMethod(h,"updateVisual"),r(d),this._scheduler.performVisualTasks(d,h,{visualType:"visual",setDirty:!0}),d.eachComponent(function(p,g){if(p!=="series"){var v=f.getViewOfComponentModel(g);v&&v.__alive&&v.updateVisual(g,d,f._api,h)}}),d.eachSeries(function(p){var g=f._chartsMap[p.__viewId];g.updateVisual(p,d,f._api,h)}),ao.trigger("afterupdate",d,this._api))},updateLayout:function(h){Gl.update.call(this,h)}},wS=function(h,f,d,p){if(h._disposed){h.id;return}for(var g=h._model,v=h._coordSysMgr.getCoordinateSystems(),m,y=N1(g,d),_=0;_<v.length;_++){var x=v[_];if(x[f]&&(m=x[f](g,y,p))!=null)return m}},DS=function(h,f){var d=h._chartsMap,p=h._scheduler;f.eachSeries(function(g){p.updateStreamModes(g,d[g.__viewId])})},FS=function(h,f){var d=this,p=this.getModel(),g=h.type,v=h.escapeConnect,m=L3[g],y=m.actionInfo,_=(y.update||"update").split(":"),x=_.pop(),b=_[0]!=null&&Ko(_[0]);this[Mn]=!0;var C=[h],E=!1;h.batch&&(E=!0,C=Ie(h.batch,function(O){return O=st(Ce({},O),h),O.batch=null,O}));var A=[],S,T=z8(h),D=ZO(h);if(D&&zZ(this._api),G(C,function(O){if(S=m.action(O,d._model,d._api),S=S||Ce({},O),S.type=y.event||S.type,A.push(S),D){var M=a9(h),R=M.queryOptionMap,z=M.mainTypeSpecified,k=z?R.keys()[0]:"series";g_(d,x,O,k),hs(d)}else T?(g_(d,x,O,"series"),hs(d)):b&&g_(d,x,O,b.main,b.sub)}),x!=="none"&&!D&&!T&&!b)try{this[Sa]?(Xf(this),Gl.update.call(this,h),this[Sa]=null):Gl[x].call(this,h)}catch(O){throw this[Mn]=!1,O}if(E?S={type:y.event||g,escapeConnect:v,batch:A}:S=A[0],this[Mn]=!1,!f){var F=this._messageCenter;if(F.trigger(S.type,S),T){var B={type:"selectchanged",escapeConnect:v,selected:K5e(p),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};F.trigger(B.type,B)}}},yv=function(h){for(var f=this._pendingActions;f.length;){var d=f.shift();FS.call(this,d,h)}},_v=function(h){!h&&this.trigger("updated")},cN=function(h,f){h.on("rendered",function(d){f.trigger("rendered",d),h.animation.isFinished()&&!f[Sa]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},hN=function(h,f){h.on("mouseover",function(d){var p=d.target,g=ph(p,B2);g&&(q5e(g,d,f._api),hs(f))}).on("mouseout",function(d){var p=d.target,g=ph(p,B2);g&&(X5e(g,d,f._api),hs(f))}).on("click",function(d){var p=d.target,g=ph(p,function(y){return pt(y).dataIndex!=null},!0);if(g){var v=g.selected?"unselect":"select",m=pt(g);f._api.dispatchAction({type:v,dataType:m.dataType,dataIndexInside:m.dataIndex,seriesIndex:m.seriesIndex,isFromClick:!0})}})};function r(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function i(h){var f=[],d=[],p=!1;if(h.eachComponent(function(y,_){var x=_.get("zlevel")||0,b=_.get("z")||0,C=_.getZLevelKey();p=p||!!C,(y==="series"?d:f).push({zlevel:x,z:b,idx:_.componentIndex,type:y,key:C})}),p){var g=f.concat(d),v,m;kx(g,function(y,_){return y.zlevel===_.zlevel?y.z-_.z:y.zlevel-_.zlevel}),G(g,function(y){var _=h.getComponent(y.type,y.idx),x=y.zlevel,b=y.key;v!=null&&(x=Math.max(v,x)),b?(x===v&&b!==m&&x++,m=b):m&&(x===v&&x++,m=""),v=x,_.setZLevel(x)})}}IS=function(h,f,d,p,g){i(f),fN(h,f,d,p,g),G(h._chartsViews,function(v){v.__alive=!1}),v_(h,f,d,p,g),G(h._chartsViews,function(v){v.__alive||v.remove(f,d)})},fN=function(h,f,d,p,g,v){G(v||h._componentsViews,function(m){var y=m.__model;l(y,m),m.render(y,f,d,p),o(y,m),c(y,m)})},v_=function(h,f,d,p,g,v){var m=h._scheduler;g=Ce(g||{},{updatedSeries:f.getSeries()}),ao.trigger("series:beforeupdate",f,d,g);var y=!1;f.eachSeries(function(_){var x=h._chartsMap[_.__viewId];x.__alive=!0;var b=x.renderTask;m.updatePayload(b,p),l(_,x),v&&v.get(_.uid)&&b.dirty(),b.perform(m.getPerformArgs(b))&&(y=!0),x.group.silent=!!_.get("silent"),s(_,x),qO(_)}),m.unfinished=y||m.unfinished,ao.trigger("series:layoutlabels",f,d,g),ao.trigger("series:transition",f,d,g),f.eachSeries(function(_){var x=h._chartsMap[_.__viewId];o(_,x),c(_,x)}),a(h,f),ao.trigger("series:afterupdate",f,d,g)},hs=function(h){h[SS]=!0,h.getZr().wakeUp()},pN=function(h){h[SS]&&(h.getZr().storage.traverse(function(f){Xd(f)||n(f)}),h[SS]=!1)};function n(h){for(var f=[],d=h.currentStates,p=0;p<d.length;p++){var g=d[p];g==="emphasis"||g==="blur"||g==="select"||f.push(g)}h.selected&&h.states.select&&f.push("select"),h.hoverState===Tb&&h.states.emphasis?f.push("emphasis"):h.hoverState===Am&&h.states.blur&&f.push("blur"),h.useStates(f)}function a(h,f){var d=h._zr,p=d.storage,g=0;p.traverse(function(v){v.isGroup||g++}),g>f.get("hoverLayerThreshold")&&!Lt.node&&!Lt.worker&&f.eachSeries(function(v){if(!v.preventUsingHoverLayer){var m=h._chartsMap[v.__viewId];m.__alive&&m.eachRendered(function(y){y.states.emphasis&&(y.states.emphasis.hoverLayer=!0)})}})}function s(h,f){var d=h.get("blendMode")||null;f.eachRendered(function(p){p.isGroup||(p.style.blend=d)})}function o(h,f){if(!h.preventAutoZ){var d=h.get("z")||0,p=h.get("zlevel")||0;f.eachRendered(function(g){return u(g,d,p,-1/0),!0})}}function u(h,f,d,p){var g=h.getTextContent(),v=h.getTextGuideLine(),m=h.isGroup;if(m)for(var y=h.childrenRef(),_=0;_<y.length;_++)p=Math.max(u(y[_],f,d,p),p);else h.z=f,h.zlevel=d,p=Math.max(h.z2,p);if(g&&(g.z=f,g.zlevel=d,isFinite(p)&&(g.z2=p+2)),v){var x=h.textGuideLineConfig;v.z=f,v.zlevel=d,isFinite(p)&&(v.z2=p+(x&&x.showAbove?1:-1))}return p}function l(h,f){f.eachRendered(function(d){if(!Xd(d)){var p=d.getTextContent(),g=d.getTextGuideLine();d.stateTransition&&(d.stateTransition=null),p&&p.stateTransition&&(p.stateTransition=null),g&&g.stateTransition&&(g.stateTransition=null),d.hasState()?(d.prevStates=d.currentStates,d.clearStates()):d.prevStates&&(d.prevStates=null)}})}function c(h,f){var d=h.getModel("stateAnimation"),p=h.isAnimationEnabled(),g=d.get("duration"),v=g>0?{duration:g,delay:d.get("delay"),easing:d.get("easing")}:null;f.eachRendered(function(m){if(m.states&&m.states.emphasis){if(Xd(m))return;if(m instanceof Pt&&r3e(m),m.__dirty){var y=m.prevStates;y&&m.useStates(y)}if(p){m.stateTransition=v;var _=m.getTextContent(),x=m.getTextGuideLine();_&&(_.stateTransition=v),x&&(x.stateTransition=v)}m.__dirty&&n(m)}})}dN=function(h){return new(function(f){ce(d,f);function d(){return f!==null&&f.apply(this,arguments)||this}return d.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},d.prototype.getComponentByElement=function(p){for(;p;){var g=p.__ecComponentInfo;if(g!=null)return h._model.getComponent(g.mainType,g.index);p=p.parent}},d.prototype.enterEmphasis=function(p,g){pl(p,g),hs(h)},d.prototype.leaveEmphasis=function(p,g){gl(p,g),hs(h)},d.prototype.enterBlur=function(p){OZ(p),hs(h)},d.prototype.leaveBlur=function(p){f9(p),hs(h)},d.prototype.enterSelect=function(p){RZ(p),hs(h)},d.prototype.leaveSelect=function(p){NZ(p),hs(h)},d.prototype.getModel=function(){return h.getModel()},d.prototype.getViewOfComponentModel=function(p){return h.getViewOfComponentModel(p)},d.prototype.getViewOfSeriesModel=function(p){return h.getViewOfSeriesModel(p)},d}(DK))(h)},EJ=function(h){function f(d,p){for(var g=0;g<d.length;g++){var v=d[g];v[TS]=p}}G(j1,function(d,p){h._messageCenter.on(p,function(g){if(gN[h.group]&&h[TS]!==lN){if(g&&g.escapeConnect)return;var v=h.makeActionFromEvent(g),m=[];G(V1,function(y){y!==h&&y.group===h.group&&m.push(y)}),f(m,lN),G(m,function(y){y[TS]!==wCe&&y.dispatchAction(v)}),f(m,DCe)}})})}}(),e}(Us),k9=SJ.prototype;k9.on=yJ("on");k9.off=yJ("off");k9.one=function(t,e,r){var i=this;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];e&&e.apply&&e.apply(this,a),i.off(t,n)}this.on.call(this,t,n,r)};var FCe=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];var L3={},j1={},tw=[],rw=[],O3=[],TJ={},iw={},V1={},gN={},ICe=+new Date-0,z9="_echarts_instance_";function NYe(t,e,r){var i=!(r&&r.ssr);if(i){var n=BCe(t);if(n)return n}var a=new SJ(t,e,r);return a.id="ec_"+ICe++,V1[a.id]=a,i&&yZ(t,z9,a.id),EJ(a),ao.trigger("afterinit",a),a}function BCe(t){return V1[Vxe(t,z9)]}function AJ(t,e){TJ[t]=e}function H9(t){wt(rw,t)<0&&rw.push(t)}function wJ(t,e){U9(tw,t,e,_Ce)}function DJ(t){G9("afterinit",t)}function FJ(t){G9("afterupdate",t)}function G9(t,e){ao.on(t,e)}function Tu(t,e,r){ot(e)&&(r=e,e="");var i=lt(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,!j1[e]&&(ha(uN.test(i)&&uN.test(e)),L3[i]||(L3[i]={action:r,actionInfo:t}),j1[e]=i)}function MCe(t,e){vg.register(t,e)}function IJ(t){var e=vg.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()}function PCe(t,e){U9(O3,t,e,gJ,"layout")}function Af(t,e){U9(O3,t,e,vJ,"visual")}var vN=[];function U9(t,e,r,i,n){if((ot(e)||lt(e))&&(r=e,e=i),!(wt(vN,r)>=0)){vN.push(r);var a=tJ.wrapStageHandler(r,n);a.__prio=e,a.__raw=r,t.push(a)}}function BJ(t,e){iw[t]=e}function LCe(t,e,r){var i=pJ("registerMap");i&&i(t,e,r)}function nw(t){var e=pJ("getMap");return e&&e(t)}var OCe=K4e;Af(N9,Ebe);Af(Ub,Sbe);Af(Ub,Tbe);Af(N9,kbe);Af(Ub,zbe);Af(mJ,dCe);H9(IK);wJ(mCe,B4e);BJ("default",Abe);Tu({type:Bh,event:Bh,update:Bh},gi);Tu({type:Vx,event:Vx,update:Vx},gi);Tu({type:k1,event:k1,update:k1},gi);Tu({type:$x,event:$x,update:$x},gi);Tu({type:z1,event:z1,update:z1},gi);AJ("light",Rbe);AJ("dark",aJ);function xv(t){return t==null?0:t.length||1}function mN(t){return t}var vl=function(){function t(e,r,i,n,a,s){this._old=e,this._new=r,this._oldKeyGetter=i||mN,this._newKeyGetter=n||mN,this.context=a,this._diffModeMultiple=s==="multiple"}return t.prototype.add=function(e){return this._add=e,this},t.prototype.update=function(e){return this._update=e,this},t.prototype.updateManyToOne=function(e){return this._updateManyToOne=e,this},t.prototype.updateOneToMany=function(e){return this._updateOneToMany=e,this},t.prototype.updateManyToMany=function(e){return this._updateManyToMany=e,this},t.prototype.remove=function(e){return this._remove=e,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var e=this._old,r=this._new,i={},n=new Array(e.length),a=new Array(r.length);this._initIndexMap(e,null,n,"_oldKeyGetter"),this._initIndexMap(r,i,a,"_newKeyGetter");for(var s=0;s<e.length;s++){var o=n[s],u=i[o],l=xv(u);if(l>1){var c=u.shift();u.length===1&&(i[o]=u[0]),this._update&&this._update(c,s)}else l===1?(i[o]=null,this._update&&this._update(u,s)):this._remove&&this._remove(s)}this._performRestAdd(a,i)},t.prototype._executeMultiple=function(){var e=this._old,r=this._new,i={},n={},a=[],s=[];this._initIndexMap(e,i,a,"_oldKeyGetter"),this._initIndexMap(r,n,s,"_newKeyGetter");for(var o=0;o<a.length;o++){var u=a[o],l=i[u],c=n[u],h=xv(l),f=xv(c);if(h>1&&f===1)this._updateManyToOne&&this._updateManyToOne(c,l),n[u]=null;else if(h===1&&f>1)this._updateOneToMany&&this._updateOneToMany(c,l),n[u]=null;else if(h===1&&f===1)this._update&&this._update(c,l),n[u]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(c,l),n[u]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(l[d]);else this._remove&&this._remove(l)}this._performRestAdd(s,n)},t.prototype._performRestAdd=function(e,r){for(var i=0;i<e.length;i++){var n=e[i],a=r[n],s=xv(a);if(s>1)for(var o=0;o<s;o++)this._add&&this._add(a[o]);else s===1&&this._add&&this._add(a);r[n]=null}},t.prototype._initIndexMap=function(e,r,i,n){for(var a=this._diffModeMultiple,s=0;s<e.length;s++){var o="_ec_"+this[n](e[s],s);if(a||(i[s]=o),!!r){var u=r[o],l=xv(u);l===0?(r[o]=s,a&&i.push(o)):l===1?r[o]=[u,s]:u.push(s)}}},t}(),RCe=function(){function t(e,r){this._encode=e,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function NCe(t,e){var r={},i=r.encode={},n=nt(),a=[],s=[],o={};G(t.dimensions,function(f){var d=t.getDimensionInfo(f),p=d.coordDim;if(p){var g=d.coordDimIndex;BS(i,p)[g]=f,d.isExtraCoord||(n.set(p,1),kCe(d.type)&&(a[0]=f),BS(o,p)[g]=t.getDimensionIndex(d.name)),d.defaultTooltip&&s.push(f)}bK.each(function(v,m){var y=BS(i,m),_=d.otherDims[m];_!=null&&_!==!1&&(y[_]=d.name)})});var u=[],l={};n.each(function(f,d){var p=i[d];l[d]=p[0],u=u.concat(p)}),r.dataDimsOnCoord=u,r.dataDimIndicesOnCoord=Ie(u,function(f){return t.getDimensionInfo(f).storeDimIndex}),r.encodeFirstDimNotExtra=l;var c=i.label;c&&c.length&&(a=c.slice());var h=i.tooltip;return h&&h.length?s=h.slice():s.length||(s=a.slice()),i.defaultedLabel=a,i.defaultedTooltip=s,r.userOutput=new RCe(o,e),r}function BS(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function R3(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function kCe(t){return!(t==="ordinal"||t==="time")}var Zx=function(){function t(e){this.otherDims={},e!=null&&Ce(this,e)}return t}(),zCe=Yt(),HCe={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},MJ=function(){function t(e){this.dimensions=e.dimensions,this._dimOmitted=e.dimensionOmitted,this.source=e.source,this._fullDimCount=e.fullDimensionCount,this._updateDimOmitted(e.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(e){this._dimOmitted=e,e&&(this._dimNameMap||(this._dimNameMap=OJ(this.source)))},t.prototype.getSourceDimensionIndex=function(e){return gt(this._dimNameMap.get(e),-1)},t.prototype.getSourceDimension=function(e){var r=this.source.dimensionsDefine;if(r)return r[e]},t.prototype.makeStoreSchema=function(){for(var e=this._fullDimCount,r=MK(this.source),i=!RJ(e),n="",a=[],s=0,o=0;s<e;s++){var u=void 0,l=void 0,c=void 0,h=this.dimensions[o];if(h&&h.storeDimIndex===s)u=r?h.name:null,l=h.type,c=h.ordinalMeta,o++;else{var f=this.getSourceDimension(s);f&&(u=r?f.name:null,l=f.type)}a.push({property:u,type:l,ordinalMeta:c}),r&&u!=null&&(!h||!h.isCalculationCoord)&&(n+=i?u.replace(/\`/g,"`1").replace(/\$/g,"`2"):u),n+="$",n+=HCe[l]||"f",c&&(n+=c.uid),n+="$"}var d=this.source,p=[d.seriesLayoutBy,d.startIndex,n].join("$$");return{dimensions:a,hash:p}},t.prototype.makeOutputDimensionNames=function(){for(var e=[],r=0,i=0;r<this._fullDimCount;r++){var n=void 0,a=this.dimensions[i];if(a&&a.storeDimIndex===r)a.isCalculationCoord||(n=a.name),i++;else{var s=this.getSourceDimension(r);s&&(n=s.name)}e.push(n)}return e},t.prototype.appendCalculationDimension=function(e){this.dimensions.push(e),e.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function PJ(t){return t instanceof MJ}function LJ(t){for(var e=nt(),r=0;r<(t||[]).length;r++){var i=t[r],n=lt(i)?i.name:i;n!=null&&e.get(n)==null&&e.set(n,r)}return e}function OJ(t){var e=zCe(t);return e.dimNameMap||(e.dimNameMap=LJ(t.dimensionsDefine))}function RJ(t){return t>30}var bv=lt,Ul=Ie,GCe=typeof Int32Array>"u"?Array:Int32Array,UCe="e\0\0",yN=-1,jCe=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],VCe=["_approximateExtent"],_N,m_,Cv,Ev,MS,Sv,PS,Xr=function(){function t(e,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var i,n=!1;PJ(e)?(i=e.dimensions,this._dimOmitted=e.isDimensionOmitted(),this._schema=e):(n=!0,i=e),i=i||["x","y"];for(var a={},s=[],o={},u=!1,l={},c=0;c<i.length;c++){var h=i[c],f=Xe(h)?new Zx({name:h}):h instanceof Zx?h:new Zx(h),d=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=d,f.coordDimIndex=0);var p=f.otherDims=f.otherDims||{};s.push(d),a[d]=f,l[d]!=null&&(u=!0),f.createInvertedIndices&&(o[d]=[]),p.itemName===0&&(this._nameDimIdx=c),p.itemId===0&&(this._idDimIdx=c),n&&(f.storeDimIndex=c)}if(this.dimensions=s,this._dimInfos=a,this._initGetDimensionInfo(u),this.hostModel=r,this._invertedIndicesMap=o,this._dimOmitted){var g=this._dimIdxToName=nt();G(s,function(v){g.set(a[v].storeDimIndex,v)})}}return t.prototype.getDimension=function(e){var r=this._recognizeDimIndex(e);if(r==null)return e;if(r=e,!this._dimOmitted)return this.dimensions[r];var i=this._dimIdxToName.get(r);if(i!=null)return i;var n=this._schema.getSourceDimension(r);if(n)return n.name},t.prototype.getDimensionIndex=function(e){var r=this._recognizeDimIndex(e);if(r!=null)return r;if(e==null)return-1;var i=this._getDimInfo(e);return i?i.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(e):-1},t.prototype._recognizeDimIndex=function(e){if(Zt(e)||e!=null&&!isNaN(e)&&!this._getDimInfo(e)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(e)<0))return+e},t.prototype._getStoreDimIndex=function(e){var r=this.getDimensionIndex(e);return r},t.prototype.getDimensionInfo=function(e){return this._getDimInfo(this.getDimension(e))},t.prototype._initGetDimensionInfo=function(e){var r=this._dimInfos;this._getDimInfo=e?function(i){return r.hasOwnProperty(i)?r[i]:void 0}:function(i){return r[i]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(e,r){var i=this._dimSummary;if(r==null)return i.encodeFirstDimNotExtra[e];var n=i.encode[e];return n?n[r]:null},t.prototype.mapDimensionsAll=function(e){var r=this._dimSummary,i=r.encode[e];return(i||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(e,r,i){var n=this,a;if(e instanceof q8&&(a=e),!a){var s=this.dimensions,o=I9(e)||Gn(e)?new PK(e,s.length):e;a=new q8;var u=Ul(s,function(l){return{type:n._dimInfos[l].type,property:l}});a.initData(o,u,i)}this._store=a,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=NCe(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(e){var r=this._store.appendData(e);this._doInit(r[0],r[1])},t.prototype.appendValues=function(e,r){var i=this._store.appendValues(e,r&&r.length),n=i.start,a=i.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var o=n;o<a;o++){var u=o-n;this._nameList[o]=r[u],s&&PS(this,o)}},t.prototype._updateOrdinalMeta=function(){for(var e=this._store,r=this.dimensions,i=0;i<r.length;i++){var n=this._dimInfos[r[i]];n.ordinalMeta&&e.collectOrdinalMeta(n.storeDimIndex,n.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var e=this._store.getProvider();return this._idDimIdx==null&&e.getSource().sourceFormat!==Ic&&!e.fillStorage},t.prototype._doInit=function(e,r){if(!(e>=r)){var i=this._store,n=i.getProvider();this._updateOrdinalMeta();var a=this._nameList,s=this._idList,o=n.getSource().sourceFormat,u=o===js;if(u&&!n.pure)for(var l=[],c=e;c<r;c++){var h=n.getItem(c,l);if(!this.hasItemOption&&Bxe(h)&&(this.hasItemOption=!0),h){var f=h.name;a[c]==null&&f!=null&&(a[c]=Oi(f,null));var d=h.id;s[c]==null&&d!=null&&(s[c]=Oi(d,null))}}if(this._shouldMakeIdFromName())for(var c=e;c<r;c++)PS(this,c);_N(this)}},t.prototype.getApproximateExtent=function(e){return this._approximateExtent[e]||this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.setApproximateExtent=function(e,r){r=this.getDimension(r),this._approximateExtent[r]=e.slice()},t.prototype.getCalculationInfo=function(e){return this._calculationInfo[e]},t.prototype.setCalculationInfo=function(e,r){bv(e)?Ce(this._calculationInfo,e):this._calculationInfo[e]=r},t.prototype.getName=function(e){var r=this.getRawIndex(e),i=this._nameList[r];return i==null&&this._nameDimIdx!=null&&(i=Cv(this,this._nameDimIdx,r)),i==null&&(i=""),i},t.prototype._getCategory=function(e,r){var i=this._store.get(e,r),n=this._store.getOrdinalMeta(e);return n?n.categories[i]:i},t.prototype.getId=function(e){return m_(this,this.getRawIndex(e))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(e,r){var i=this._store,n=this._dimInfos[e];if(n)return i.get(n.storeDimIndex,r)},t.prototype.getByRawIndex=function(e,r){var i=this._store,n=this._dimInfos[e];if(n)return i.getByRawIndex(n.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(e){return this._store.getDataExtent(this._getStoreDimIndex(e))},t.prototype.getSum=function(e){return this._store.getSum(this._getStoreDimIndex(e))},t.prototype.getMedian=function(e){return this._store.getMedian(this._getStoreDimIndex(e))},t.prototype.getValues=function(e,r){var i=this,n=this._store;return Te(e)?n.getValues(Ul(e,function(a){return i._getStoreDimIndex(a)}),r):n.getValues(e)},t.prototype.hasValue=function(e){for(var r=this._dimSummary.dataDimIndicesOnCoord,i=0,n=r.length;i<n;i++)if(isNaN(this._store.get(r[i],e)))return!1;return!0},t.prototype.indexOfName=function(e){for(var r=0,i=this._store.count();r<i;r++)if(this.getName(r)===e)return r;return-1},t.prototype.getRawIndex=function(e){return this._store.getRawIndex(e)},t.prototype.indexOfRawIndex=function(e){return this._store.indexOfRawIndex(e)},t.prototype.rawIndexOf=function(e,r){var i=e&&this._invertedIndicesMap[e],n=i&&i[r];return n==null||isNaN(n)?yN:n},t.prototype.indicesOfNearest=function(e,r,i){return this._store.indicesOfNearest(this._getStoreDimIndex(e),r,i)},t.prototype.each=function(e,r,i){ot(e)&&(i=r,r=e,e=[]);var n=i||this,a=Ul(Ev(e),this._getStoreDimIndex,this);this._store.each(a,n?Je(r,n):r)},t.prototype.filterSelf=function(e,r,i){ot(e)&&(i=r,r=e,e=[]);var n=i||this,a=Ul(Ev(e),this._getStoreDimIndex,this);return this._store=this._store.filter(a,n?Je(r,n):r),this},t.prototype.selectRange=function(e){var r=this,i={},n=kt(e);return G(n,function(a){var s=r._getStoreDimIndex(a);i[s]=e[a]}),this._store=this._store.selectRange(i),this},t.prototype.mapArray=function(e,r,i){ot(e)&&(i=r,r=e,e=[]),i=i||this;var n=[];return this.each(e,function(){n.push(r&&r.apply(this,arguments))},i),n},t.prototype.map=function(e,r,i,n){var a=i||n||this,s=Ul(Ev(e),this._getStoreDimIndex,this),o=Sv(this);return o._store=this._store.map(s,a?Je(r,a):r),o},t.prototype.modify=function(e,r,i,n){var a=i||n||this,s=Ul(Ev(e),this._getStoreDimIndex,this);this._store.modify(s,a?Je(r,a):r)},t.prototype.downSample=function(e,r,i,n){var a=Sv(this);return a._store=this._store.downSample(this._getStoreDimIndex(e),r,i,n),a},t.prototype.minmaxDownSample=function(e,r){var i=Sv(this);return i._store=this._store.minmaxDownSample(this._getStoreDimIndex(e),r),i},t.prototype.lttbDownSample=function(e,r){var i=Sv(this);return i._store=this._store.lttbDownSample(this._getStoreDimIndex(e),r),i},t.prototype.getRawDataItem=function(e){return this._store.getRawDataItem(e)},t.prototype.getItemModel=function(e){var r=this.hostModel,i=this.getRawDataItem(e);return new Xt(i,r,r&&r.ecModel)},t.prototype.diff=function(e){var r=this;return new vl(e?e.getStore().getIndices():[],this.getStore().getIndices(),function(i){return m_(e,i)},function(i){return m_(r,i)})},t.prototype.getVisual=function(e){var r=this._visual;return r&&r[e]},t.prototype.setVisual=function(e,r){this._visual=this._visual||{},bv(e)?Ce(this._visual,e):this._visual[e]=r},t.prototype.getItemVisual=function(e,r){var i=this._itemVisuals[e],n=i&&i[r];return n??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(e,r){var i=this._itemVisuals,n=i[e];n||(n=i[e]={});var a=n[r];return a==null&&(a=this.getVisual(r),Te(a)?a=a.slice():bv(a)&&(a=Ce({},a)),n[r]=a),a},t.prototype.setItemVisual=function(e,r,i){var n=this._itemVisuals[e]||{};this._itemVisuals[e]=n,bv(r)?Ce(n,r):n[r]=i},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(e,r){bv(e)?Ce(this._layout,e):this._layout[e]=r},t.prototype.getLayout=function(e){return this._layout[e]},t.prototype.getItemLayout=function(e){return this._itemLayouts[e]},t.prototype.setItemLayout=function(e,r,i){this._itemLayouts[e]=i?Ce(this._itemLayouts[e]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(e,r){var i=this.hostModel&&this.hostModel.seriesIndex;O8(i,this.dataType,e,r),this._graphicEls[e]=r},t.prototype.getItemGraphicEl=function(e){return this._graphicEls[e]},t.prototype.eachItemGraphicEl=function(e,r){G(this._graphicEls,function(i,n){i&&e&&e.call(r,i,n)})},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:Ul(this.dimensions,this._getDimInfo,this),this.hostModel)),MS(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(e,r){var i=this[e];ot(i)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var n=i.apply(this,arguments);return r.apply(this,[n].concat(X7(arguments)))})},t.internalField=function(){_N=function(e){var r=e._invertedIndicesMap;G(r,function(i,n){var a=e._dimInfos[n],s=a.ordinalMeta,o=e._store;if(s){i=r[n]=new GCe(s.categories.length);for(var u=0;u<i.length;u++)i[u]=yN;for(var u=0;u<o.count();u++)i[o.get(a.storeDimIndex,u)]=u}})},Cv=function(e,r,i){return Oi(e._getCategory(r,i),null)},m_=function(e,r){var i=e._idList[r];return i==null&&e._idDimIdx!=null&&(i=Cv(e,e._idDimIdx,r)),i==null&&(i=UCe+r),i},Ev=function(e){return Te(e)||(e=e!=null?[e]:[]),e},Sv=function(e){var r=new t(e._schema?e._schema:Ul(e.dimensions,e._getDimInfo,e),e.hostModel);return MS(r,e),r},MS=function(e,r){G(jCe.concat(r.__wrappedMethods||[]),function(i){r.hasOwnProperty(i)&&(e[i]=r[i])}),e.__wrappedMethods=r.__wrappedMethods,G(VCe,function(i){e[i]=ht(r[i])}),e._calculationInfo=Ce({},r._calculationInfo)},PS=function(e,r){var i=e._nameList,n=e._idList,a=e._nameDimIdx,s=e._idDimIdx,o=i[r],u=n[r];if(o==null&&a!=null&&(i[r]=o=Cv(e,a,r)),u==null&&s!=null&&(n[r]=u=Cv(e,s,r)),u==null&&o!=null){var l=e._nameRepeatCount,c=l[o]=(l[o]||0)+1;u=o,c>1&&(u+="__ec__"+c),n[r]=u}}}(),t}();function Pm(t,e){return xg(t,e).dimensions}function xg(t,e){I9(t)||(t=B9(t)),e=e||{};var r=e.coordDimensions||[],i=e.dimensionsDefine||t.dimensionsDefine||[],n=nt(),a=[],s=WCe(t,r,i,e.dimensionsCount),o=e.canOmitUnusedDimensions&&RJ(s),u=i===t.dimensionsDefine,l=u?OJ(t):LJ(i),c=e.encodeDefine;!c&&e.encodeDefaulter&&(c=e.encodeDefaulter(t,s));for(var h=nt(c),f=new GK(s),d=0;d<f.length;d++)f[d]=-1;function p(S){var T=f[S];if(T<0){var D=i[S],F=lt(D)?D:{name:D},B=new Zx,O=F.name;O!=null&&l.get(O)!=null&&(B.name=B.displayName=O),F.type!=null&&(B.type=F.type),F.displayName!=null&&(B.displayName=F.displayName);var M=a.length;return f[S]=M,B.storeDimIndex=S,a.push(B),B}return a[T]}if(!o)for(var d=0;d<s;d++)p(d);h.each(function(S,T){var D=mr(S).slice();if(D.length===1&&!Xe(D[0])&&D[0]<0){h.set(T,!1);return}var F=h.set(T,[]);G(D,function(B,O){var M=Xe(B)?l.get(B):B;M!=null&&M<s&&(F[O]=M,v(p(M),T,O))})});var g=0;G(r,function(S){var T,D,F,B;if(Xe(S))T=S,B={};else{B=S,T=B.name;var O=B.ordinalMeta;B.ordinalMeta=null,B=Ce({},B),B.ordinalMeta=O,D=B.dimsDef,F=B.otherDims,B.name=B.coordDim=B.coordDimIndex=B.dimsDef=B.otherDims=null}var M=h.get(T);if(M!==!1){if(M=mr(M),!M.length)for(var R=0;R<(D&&D.length||1);R++){for(;g<s&&p(g).coordDim!=null;)g++;g<s&&M.push(g++)}G(M,function(z,k){var U=p(z);if(u&&B.type!=null&&(U.type=B.type),v(st(U,B),T,k),U.name==null&&D){var V=D[k];!lt(V)&&(V={name:V}),U.name=U.displayName=V.name,U.defaultTooltip=V.defaultTooltip}F&&st(U.otherDims,F)})}});function v(S,T,D){bK.get(T)!=null?S.otherDims[T]=D:(S.coordDim=T,S.coordDimIndex=D,n.set(T,!0))}var m=e.generateCoord,y=e.generateCoordCount,_=y!=null;y=m?y||1:0;var x=m||"value";function b(S){S.name==null&&(S.name=S.coordDim)}if(o)G(a,function(S){b(S)}),a.sort(function(S,T){return S.storeDimIndex-T.storeDimIndex});else for(var C=0;C<s;C++){var E=p(C),A=E.coordDim;A==null&&(E.coordDim=YCe(x,n,_),E.coordDimIndex=0,(!m||y<=0)&&(E.isExtraCoord=!0),y--),b(E),E.type==null&&(TK(t,C)===_n.Must||E.isExtraCoord&&(E.otherDims.itemName!=null||E.otherDims.seriesName!=null))&&(E.type="ordinal")}return $Ce(a),new MJ({source:t,dimensions:a,fullDimensionCount:s,dimensionOmitted:o})}function $Ce(t){for(var e=nt(),r=0;r<t.length;r++){var i=t[r],n=i.name,a=e.get(n)||0;a>0&&(i.name=n+(a-1)),a++,e.set(n,a)}}function WCe(t,e,r,i){var n=Math.max(t.dimensionsDetectedCount||1,e.length,r.length,i||0);return G(e,function(a){var s;lt(a)&&(s=a.dimsDef)&&(n=Math.max(n,s.length))}),n}function YCe(t,e,r){if(r||e.hasKey(t)){for(var i=0;e.hasKey(t+i);)i++;t+=i}return e.set(t,!0),t}var qCe=function(){function t(e){this.coordSysDims=[],this.axisMap=nt(),this.categoryAxisMap=nt(),this.coordSysName=e}return t}();function XCe(t){var e=t.get("coordinateSystem"),r=new qCe(e),i=ZCe[e];if(i)return i(t,r,r.axisMap,r.categoryAxisMap),r}var ZCe={cartesian2d:function(t,e,r,i){var n=t.getReferringComponents("xAxis",wi).models[0],a=t.getReferringComponents("yAxis",wi).models[0];e.coordSysDims=["x","y"],r.set("x",n),r.set("y",a),Zf(n)&&(i.set("x",n),e.firstCategoryDimIndex=0),Zf(a)&&(i.set("y",a),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,r,i){var n=t.getReferringComponents("singleAxis",wi).models[0];e.coordSysDims=["single"],r.set("single",n),Zf(n)&&(i.set("single",n),e.firstCategoryDimIndex=0)},polar:function(t,e,r,i){var n=t.getReferringComponents("polar",wi).models[0],a=n.findAxisModel("radiusAxis"),s=n.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],r.set("radius",a),r.set("angle",s),Zf(a)&&(i.set("radius",a),e.firstCategoryDimIndex=0),Zf(s)&&(i.set("angle",s),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=1))},geo:function(t,e,r,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,r,i){var n=t.ecModel,a=n.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();G(a.parallelAxisIndex,function(o,u){var l=n.getComponent("parallelAxis",o),c=s[u];r.set(c,l),Zf(l)&&(i.set(c,l),e.firstCategoryDimIndex==null&&(e.firstCategoryDimIndex=u))})}};function Zf(t){return t.get("type")==="category"}function NJ(t,e,r){r=r||{};var i=r.byIndex,n=r.stackedCoordDimension,a,s,o;KCe(e)?a=e:(s=e.schema,a=s.dimensions,o=e.store);var u=!!(t&&t.get("stack")),l,c,h,f;if(G(a,function(y,_){Xe(y)&&(a[_]=y={name:y}),u&&!y.isExtraCoord&&(!i&&!l&&y.ordinalMeta&&(l=y),!c&&y.type!=="ordinal"&&y.type!=="time"&&(!n||n===y.coordDim)&&(c=y))}),c&&!i&&!l&&(i=!0),c){h="__\0ecstackresult_"+t.id,f="__\0ecstackedover_"+t.id,l&&(l.createInvertedIndices=!0);var d=c.coordDim,p=c.type,g=0;G(a,function(y){y.coordDim===d&&g++});var v={name:h,coordDim:d,coordDimIndex:g,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},m={name:f,coordDim:f,coordDimIndex:g+1,type:p,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};s?(o&&(v.storeDimIndex=o.ensureCalculationDimension(f,p),m.storeDimIndex=o.ensureCalculationDimension(h,p)),s.appendCalculationDimension(v),s.appendCalculationDimension(m)):(a.push(v),a.push(m))}return{stackedDimension:c&&c.name,stackedByDimension:l&&l.name,isStackedByIndex:i,stackedOverDimension:f,stackResultDimension:h}}function KCe(t){return!PJ(t.schema)}function ml(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function j9(t,e){return ml(t,e)?t.getCalculationInfo("stackResultDimension"):e}function JCe(t,e){var r=t.get("coordinateSystem"),i=vg.get(r),n;return e&&e.coordSysDims&&(n=Ie(e.coordSysDims,function(a){var s={name:a},o=e.axisMap.get(a);if(o){var u=o.get("type");s.type=R3(u)}return s})),n||(n=i&&(i.getDimensionsInfo?i.getDimensionsInfo():i.dimensions.slice())||["x","y"]),n}function QCe(t,e,r){var i,n;return r&&G(t,function(a,s){var o=a.coordDim,u=r.categoryAxisMap.get(o);u&&(i==null&&(i=s),a.ordinalMeta=u.getOrdinalMeta(),e&&(a.createInvertedIndices=!0)),a.otherDims.itemName!=null&&(n=!0)}),!n&&i!=null&&(t[i].otherDims.itemName=0),i}function Au(t,e,r){r=r||{};var i=e.getSourceManager(),n,a=!1;t?(a=!0,n=B9(t)):(n=i.getSource(),a=n.sourceFormat===js);var s=XCe(e),o=JCe(e,s),u=r.useEncodeDefaulter,l=ot(u)?u:u?mt(SK,o,e):null,c={coordDimensions:o,generateCoord:r.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:l,canOmitUnusedDimensions:!a},h=xg(n,c),f=QCe(h.dimensions,r.createInvertedIndices,s),d=a?null:i.getSharedDataStore(h),p=NJ(e,{schema:h,store:d}),g=new Xr(h,e);g.setCalculationInfo(p);var v=f!=null&&eEe(n)?function(m,y,_,x){return x===f?_:this.defaultDimValueGetter(m,y,_,x)}:null;return g.hasItemOption=!1,g.initData(a?n:d,null,v),g}function eEe(t){if(t.sourceFormat===js){var e=tEe(t.data||[]);return!Te(ug(e))}}function tEe(t){for(var e=0;e<t.length&&t[e]==null;)e++;return t[e]}var wu=function(){function t(e){this._setting=e||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(e){return this._setting[e]},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1])},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(e,r){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(r)||(i[1]=r)},t.prototype.isInExtentRange=function(e){return this._extent[0]<=e&&this._extent[1]>=e},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(e){this._isBlank=e},t}();bb(wu);var rEe=0,N3=function(){function t(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this.uid=++rEe}return t.createByAxisModel=function(e){var r=e.option,i=r.data,n=i&&Ie(i,iEe);return new t({categories:n,needCollect:!n,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(e){return this._getOrCreateMap().get(e)},t.prototype.parseAndCollect=function(e){var r,i=this._needCollect;if(!Xe(e)&&!i)return e;if(i&&!this._deduplication)return r=this.categories.length,this.categories[r]=e,r;var n=this._getOrCreateMap();return r=n.get(e),r==null&&(i?(r=this.categories.length,this.categories[r]=e,n.set(e,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=nt(this.categories))},t}();function iEe(t){return lt(t)&&t.value!=null?t.value:t+""}function aw(t){return t.type==="interval"||t.type==="log"}function nEe(t,e,r,i){var n={},a=t[1]-t[0],s=n.interval=cZ(a/e);r!=null&&s<r&&(s=n.interval=r),i!=null&&s>i&&(s=n.interval=i);var o=n.intervalPrecision=kJ(s),u=n.niceTickExtent=[Rr(Math.ceil(t[0]/s)*s,o),Rr(Math.floor(t[1]/s)*s,o)];return aEe(u,t),n}function LS(t){var e=Math.pow(10,i9(t)),r=t/e;return r?r===2?r=3:r===3?r=5:r*=2:r=1,Rr(r*e)}function kJ(t){return Zo(t)+2}function xN(t,e,r){t[e]=Math.max(Math.min(t[e],r[1]),r[0])}function aEe(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),xN(t,0,e),xN(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function jb(t,e){return t>=e[0]&&t<=e[1]}function Vb(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function $b(t,e){return t*(e[1]-e[0])+e[0]}var Wb=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;i.type="ordinal";var n=i.getSetting("ordinalMeta");return n||(n=new N3({})),Te(n)&&(n=new N3({categories:Ie(n,function(a){return lt(a)?a.value:a})})),i._ordinalMeta=n,i._extent=i.getSetting("extent")||[0,n.categories.length-1],i}return e.prototype.parse=function(r){return r==null?NaN:Xe(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},e.prototype.contain=function(r){return r=this.parse(r),jb(r,this._extent)&&this._ordinalMeta.categories[r]!=null},e.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),Vb(r,this._extent)},e.prototype.scale=function(r){return r=Math.round($b(r,this._extent)),this.getRawOrdinalNumber(r)},e.prototype.getTicks=function(){for(var r=[],i=this._extent,n=i[0];n<=i[1];)r.push({value:n}),n++;return r},e.prototype.getMinorTicks=function(r){},e.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var i=r.ordinalNumbers,n=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],s=0,o=this._ordinalMeta.categories.length,u=Math.min(o,i.length);s<u;++s){var l=i[s];n[s]=l,a[l]=s}for(var c=0;s<o;++s){for(;a[c]!=null;)c++;n.push(c),a[c]=s}},e.prototype._getTickNumber=function(r){var i=this._ticksByOrdinalNumber;return i&&r>=0&&r<i.length?i[r]:r},e.prototype.getRawOrdinalNumber=function(r){var i=this._ordinalNumbersByTick;return i&&r>=0&&r<i.length?i[r]:r},e.prototype.getLabel=function(r){if(!this.isBlank()){var i=this.getRawOrdinalNumber(r.value),n=this._ordinalMeta.categories[i];return n==null?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(r,i){this.unionExtent(r.getApproximateExtent(i))},e.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(wu);wu.registerClass(Wb);var B0=Rr,yl=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return jb(r,this._extent)},e.prototype.normalize=function(r){return Vb(r,this._extent)},e.prototype.scale=function(r){return $b(r,this._extent)},e.prototype.setExtent=function(r,i){var n=this._extent;isNaN(r)||(n[0]=parseFloat(r)),isNaN(i)||(n[1]=parseFloat(i))},e.prototype.unionExtent=function(r){var i=this._extent;r[0]<i[0]&&(i[0]=r[0]),r[1]>i[1]&&(i[1]=r[1]),this.setExtent(i[0],i[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=kJ(r)},e.prototype.getTicks=function(r){var i=this._interval,n=this._extent,a=this._niceExtent,s=this._intervalPrecision,o=[];if(!i)return o;var u=1e4;n[0]<a[0]&&(r?o.push({value:B0(a[0]-i,s)}):o.push({value:n[0]}));for(var l=a[0];l<=a[1]&&(o.push({value:l}),l=B0(l+i,s),l!==o[o.length-1].value);)if(o.length>u)return[];var c=o.length?o[o.length-1].value:a[1];return n[1]>c&&(r?o.push({value:B0(c+i,s)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(r){for(var i=this.getTicks(!0),n=[],a=this.getExtent(),s=1;s<i.length;s++){for(var o=i[s],u=i[s-1],l=0,c=[],h=o.value-u.value,f=h/r;l<r-1;){var d=B0(u.value+(l+1)*f);d>a[0]&&d<a[1]&&c.push(d),l++}n.push(c)}return n},e.prototype.getLabel=function(r,i){if(r==null)return"";var n=i&&i.precision;n==null?n=Zo(r.value)||0:n==="auto"&&(n=this._intervalPrecision);var a=B0(r.value,n,!0);return w3(a)},e.prototype.calcNiceTicks=function(r,i,n){r=r||5;var a=this._extent,s=a[1]-a[0];if(isFinite(s)){s<0&&(s=-s,a.reverse());var o=nEe(a,r,i,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(r){var i=this._extent;if(i[0]===i[1])if(i[0]!==0){var n=Math.abs(i[0]);r.fixMax||(i[1]+=n/2),i[0]-=n/2}else i[1]=1;var a=i[1]-i[0];isFinite(a)||(i[0]=0,i[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var s=this._interval;r.fixMin||(i[0]=B0(Math.floor(i[0]/s)*s)),r.fixMax||(i[1]=B0(Math.ceil(i[1]/s)*s))},e.prototype.setNiceExtent=function(r,i){this._niceExtent=[r,i]},e.type="interval",e}(wu);wu.registerClass(yl);var zJ=typeof Float32Array<"u",sEe=zJ?Float32Array:Array;function Jo(t){return Te(t)?zJ?new Float32Array(t):t:new sEe(t)}var sw="__ec_stack_";function HJ(t){return t.get("stack")||sw+t.seriesIndex}function V9(t){return t.dim+t.index}function oEe(t){var e=[],r=t.axis,i="axis0";if(r.type==="category"){for(var n=r.getBandWidth(),a=0;a<t.count;a++)e.push(st({bandWidth:n,axisKey:i,stackId:sw+a},t));for(var s=jJ(e),o=[],a=0;a<t.count;a++){var u=s[i][sw+a];u.offsetCenter=u.offset+u.width/2,o.push(u)}return o}}function GJ(t,e){var r=[];return e.eachSeriesByType(t,function(i){WJ(i)&&r.push(i)}),r}function uEe(t){var e={};G(t,function(u){var l=u.coordinateSystem,c=l.getBaseAxis();if(!(c.type!=="time"&&c.type!=="value"))for(var h=u.getData(),f=c.dim+"_"+c.index,d=h.getDimensionIndex(h.mapDimension(c.dim)),p=h.getStore(),g=0,v=p.count();g<v;++g){var m=p.get(d,g);e[f]?e[f].push(m):e[f]=[m]}});var r={};for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(n){n.sort(function(u,l){return u-l});for(var a=null,s=1;s<n.length;++s){var o=n[s]-n[s-1];o>0&&(a=a===null?o:Math.min(a,o))}r[i]=a}}return r}function UJ(t){var e=uEe(t),r=[];return G(t,function(i){var n=i.coordinateSystem,a=n.getBaseAxis(),s=a.getExtent(),o;if(a.type==="category")o=a.getBandWidth();else if(a.type==="value"||a.type==="time"){var u=a.dim+"_"+a.index,l=e[u],c=Math.abs(s[1]-s[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);o=l?c/f*l:c}else{var d=i.getData();o=Math.abs(s[1]-s[0])/d.count()}var p=je(i.get("barWidth"),o),g=je(i.get("barMaxWidth"),o),v=je(i.get("barMinWidth")||(YJ(i)?.5:1),o),m=i.get("barGap"),y=i.get("barCategoryGap");r.push({bandWidth:o,barWidth:p,barMaxWidth:g,barMinWidth:v,barGap:m,barCategoryGap:y,axisKey:V9(a),stackId:HJ(i)})}),jJ(r)}function jJ(t){var e={};G(t,function(i,n){var a=i.axisKey,s=i.bandWidth,o=e[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},u=o.stacks;e[a]=o;var l=i.stackId;u[l]||o.autoWidthCount++,u[l]=u[l]||{width:0,maxWidth:0};var c=i.barWidth;c&&!u[l].width&&(u[l].width=c,c=Math.min(o.remainedWidth,c),o.remainedWidth-=c);var h=i.barMaxWidth;h&&(u[l].maxWidth=h);var f=i.barMinWidth;f&&(u[l].minWidth=f);var d=i.barGap;d!=null&&(o.gap=d);var p=i.barCategoryGap;p!=null&&(o.categoryGap=p)});var r={};return G(e,function(i,n){r[n]={};var a=i.stacks,s=i.bandWidth,o=i.categoryGap;if(o==null){var u=kt(a).length;o=Math.max(35-u*4,15)+"%"}var l=je(o,s),c=je(i.gap,1),h=i.remainedWidth,f=i.autoWidthCount,d=(h-l)/(f+(f-1)*c);d=Math.max(d,0),G(a,function(m){var y=m.maxWidth,_=m.minWidth;if(m.width){var x=m.width;y&&(x=Math.min(x,y)),_&&(x=Math.max(x,_)),m.width=x,h-=x+c*x,f--}else{var x=d;y&&y<x&&(x=Math.min(y,h)),_&&_>x&&(x=_),x!==d&&(m.width=x,h-=x+c*x,f--)}}),d=(h-l)/(f+(f-1)*c),d=Math.max(d,0);var p=0,g;G(a,function(m,y){m.width||(m.width=d),g=m,p+=m.width*(1+c)}),g&&(p-=g.width*c);var v=-p/2;G(a,function(m,y){r[n][y]=r[n][y]||{bandWidth:s,offset:v,width:m.width},v+=m.width*(1+c)})}),r}function lEe(t,e,r){if(t&&e){var i=t[V9(e)];return i}}function VJ(t,e){var r=GJ(t,e),i=UJ(r);G(r,function(n){var a=n.getData(),s=n.coordinateSystem,o=s.getBaseAxis(),u=HJ(n),l=i[V9(o)][u],c=l.offset,h=l.width;a.setLayout({bandWidth:l.bandWidth,offset:c,size:h})})}function $J(t){return{seriesType:t,plan:mg(),reset:function(e){if(WJ(e)){var r=e.getData(),i=e.coordinateSystem,n=i.getBaseAxis(),a=i.getOtherAxis(n),s=r.getDimensionIndex(r.mapDimension(a.dim)),o=r.getDimensionIndex(r.mapDimension(n.dim)),u=e.get("showBackground",!0),l=r.mapDimension(a.dim),c=r.getCalculationInfo("stackResultDimension"),h=ml(r,l)&&!!r.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),d=cEe(n,a),p=YJ(e),g=e.get("barMinHeight")||0,v=c&&r.getDimensionIndex(c),m=r.getLayout("size"),y=r.getLayout("offset");return{progress:function(_,x){for(var b=_.count,C=p&&Jo(b*3),E=p&&u&&Jo(b*3),A=p&&Jo(b),S=i.master.getRect(),T=f?S.width:S.height,D,F=x.getStore(),B=0;(D=_.next())!=null;){var O=F.get(h?v:s,D),M=F.get(o,D),R=d,z=void 0;h&&(z=+O-F.get(s,D));var k=void 0,U=void 0,V=void 0,j=void 0;if(f){var Y=i.dataToPoint([O,M]);if(h){var te=i.dataToPoint([z,M]);R=te[0]}k=R,U=Y[1]+y,V=Y[0]-R,j=m,Math.abs(V)<g&&(V=(V<0?-1:1)*g)}else{var Y=i.dataToPoint([M,O]);if(h){var te=i.dataToPoint([M,z]);R=te[1]}k=Y[0]+y,U=R,V=m,j=Y[1]-R,Math.abs(j)<g&&(j=(j<=0?-1:1)*g)}p?(C[B]=k,C[B+1]=U,C[B+2]=f?V:j,E&&(E[B]=f?S.x:k,E[B+1]=f?U:S.y,E[B+2]=T),A[D]=D):x.setItemLayout(D,{x:k,y:U,width:V,height:j}),B+=3}p&&x.setLayout({largePoints:C,largeDataIndices:A,largeBackgroundPoints:E,valueAxisHorizontal:f})}}}}}}function WJ(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function YJ(t){return t.pipelineContext&&t.pipelineContext.large}function cEe(t,e){var r=e.model.get("startValue");return r||(r=0),e.toGlobalCoord(e.dataToCoord(e.type==="log"?r>0?r:1:r))}var hEe=function(t,e,r,i){for(;r<i;){var n=r+i>>>1;t[n][1]<e?r=n+1:i=n}return r},$9=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="time",i}return e.prototype.getLabel=function(r){var i=this.getSetting("useUTC");return Mb(r.value,hR[K3e(Kd(this._minLevelUnit))]||hR.second,i,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(r,i,n){var a=this.getSetting("useUTC"),s=this.getSetting("locale");return J3e(r,i,n,s,a)},e.prototype.getTicks=function(){var r=this._interval,i=this._extent,n=[];if(!r)return n;n.push({value:i[0],level:0});var a=this.getSetting("useUTC"),s=yEe(this._minLevelUnit,this._approxInterval,a,i);return n=n.concat(s),n.push({value:i[1],level:0}),n},e.prototype.calcNiceExtent=function(r){var i=this._extent;if(i[0]===i[1]&&(i[0]-=ws,i[1]+=ws),i[1]===-1/0&&i[0]===1/0){var n=new Date;i[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),i[0]=i[1]-ws}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},e.prototype.calcNiceTicks=function(r,i,n){r=r||10;var a=this._extent,s=a[1]-a[0];this._approxInterval=s/r,i!=null&&this._approxInterval<i&&(this._approxInterval=i),n!=null&&this._approxInterval>n&&(this._approxInterval=n);var o=y_.length,u=Math.min(hEe(y_,this._approxInterval,0,o),o-1);this._interval=y_[u][1],this._minLevelUnit=y_[Math.max(u-1,0)][0]},e.prototype.parse=function(r){return Zt(r)?r:+ks(r)},e.prototype.contain=function(r){return jb(this.parse(r),this._extent)},e.prototype.normalize=function(r){return Vb(this.parse(r),this._extent)},e.prototype.scale=function(r){return $b(r,this._extent)},e.type="time",e}(yl),y_=[["second",b9],["minute",C9],["hour",G1],["quarter-day",G1*6],["half-day",G1*12],["day",ws*1.2],["half-week",ws*3.5],["week",ws*7],["month",ws*31],["quarter",ws*95],["half-year",cR/2],["year",cR]];function fEe(t,e,r,i){var n=ks(e),a=ks(r),s=function(p){return fR(n,p,i)===fR(a,p,i)},o=function(){return s("year")},u=function(){return o()&&s("month")},l=function(){return u()&&s("day")},c=function(){return l()&&s("hour")},h=function(){return c()&&s("minute")},f=function(){return h()&&s("second")},d=function(){return f()&&s("millisecond")};switch(t){case"year":return o();case"month":return u();case"day":return l();case"hour":return c();case"minute":return h();case"second":return f();case"millisecond":return d()}}function dEe(t,e){return t/=ws,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function pEe(t){var e=30*ws;return t/=e,t>6?6:t>3?3:t>2?2:1}function gEe(t){return t/=G1,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function bN(t,e){return t/=e?C9:b9,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function vEe(t){return cZ(t)}function mEe(t,e,r){var i=new Date(t);switch(Kd(e)){case"year":case"month":i[cK(r)](0);case"day":i[hK(r)](1);case"hour":i[fK(r)](0);case"minute":i[dK(r)](0);case"second":i[pK(r)](0),i[gK(r)](0)}return i.getTime()}function yEe(t,e,r,i){var n=1e4,a=uK,s=0;function o(T,D,F,B,O,M,R){for(var z=new Date(D),k=D,U=z[B]();k<F&&k<=i[1];)R.push({value:k}),U+=T,z[O](U),k=z.getTime();R.push({value:k,notAdd:!0})}function u(T,D,F){var B=[],O=!D.length;if(!fEe(Kd(T),i[0],i[1],r)){O&&(D=[{value:mEe(new Date(i[0]),T,r)},{value:i[1]}]);for(var M=0;M<D.length-1;M++){var R=D[M].value,z=D[M+1].value;if(R!==z){var k=void 0,U=void 0,V=void 0,j=!1;switch(T){case"year":k=Math.max(1,Math.round(e/ws/365)),U=E9(r),V=Q3e(r);break;case"half-year":case"quarter":case"month":k=pEe(e),U=Jd(r),V=cK(r);break;case"week":case"half-week":case"day":k=dEe(e),U=Pb(r),V=hK(r),j=!0;break;case"half-day":case"quarter-day":case"hour":k=gEe(e),U=P2(r),V=fK(r);break;case"minute":k=bN(e,!0),U=Lb(r),V=dK(r);break;case"second":k=bN(e,!1),U=Ob(r),V=pK(r);break;case"millisecond":k=vEe(e),U=Rb(r),V=gK(r);break}o(k,R,z,U,V,j,B),T==="year"&&F.length>1&&M===0&&F.unshift({value:F[0].value-k})}}for(var M=0;M<B.length;M++)F.push(B[M]);return B}}for(var l=[],c=[],h=0,f=0,d=0;d<a.length&&s++<n;++d){var p=Kd(a[d]);if(Z3e(a[d])){u(a[d],l[l.length-1]||[],c);var g=a[d+1]?Kd(a[d+1]):null;if(p!==g){if(c.length){f=h,c.sort(function(T,D){return T.value-D.value});for(var v=[],m=0;m<c.length;++m){var y=c[m].value;(m===0||c[m-1].value!==y)&&(v.push(c[m]),y>=i[0]&&y<=i[1]&&h++)}var _=(i[1]-i[0])/e;if(h>_*1.5&&f>_/1.5||(l.push(v),h>_||t===a[d]))break}c=[]}}}for(var x=sr(Ie(l,function(T){return sr(T,function(D){return D.value>=i[0]&&D.value<=i[1]&&!D.notAdd})}),function(T){return T.length>0}),b=[],C=x.length-1,d=0;d<x.length;++d)for(var E=x[d],A=0;A<E.length;++A)b.push({value:E[A].value,level:C-d});b.sort(function(T,D){return T.value-D.value});for(var S=[],d=0;d<b.length;++d)(d===0||b[d].value!==b[d-1].value)&&S.push(b[d]);return S}wu.registerClass($9);var CN=wu.prototype,$1=yl.prototype,_Ee=Rr,xEe=Math.floor,bEe=Math.ceil,__=Math.pow,Ks=Math.log,W9=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new yl,r._interval=0,r}return e.prototype.getTicks=function(r){var i=this._originalScale,n=this._extent,a=i.getExtent(),s=$1.getTicks.call(this,r);return Ie(s,function(o){var u=o.value,l=Rr(__(this.base,u));return l=u===n[0]&&this._fixMin?x_(l,a[0]):l,l=u===n[1]&&this._fixMax?x_(l,a[1]):l,{value:l}},this)},e.prototype.setExtent=function(r,i){var n=Ks(this.base);r=Ks(Math.max(0,r))/n,i=Ks(Math.max(0,i))/n,$1.setExtent.call(this,r,i)},e.prototype.getExtent=function(){var r=this.base,i=CN.getExtent.call(this);i[0]=__(r,i[0]),i[1]=__(r,i[1]);var n=this._originalScale,a=n.getExtent();return this._fixMin&&(i[0]=x_(i[0],a[0])),this._fixMax&&(i[1]=x_(i[1],a[1])),i},e.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var i=this.base;r[0]=Ks(r[0])/Ks(i),r[1]=Ks(r[1])/Ks(i),CN.unionExtent.call(this,r)},e.prototype.unionExtentFromData=function(r,i){this.unionExtent(r.getApproximateExtent(i))},e.prototype.calcNiceTicks=function(r){r=r||10;var i=this._extent,n=i[1]-i[0];if(!(n===1/0||n<=0)){var a=Ixe(n),s=r/n*a;for(s<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[Rr(bEe(i[0]/a)*a),Rr(xEe(i[1]/a)*a)];this._interval=a,this._niceExtent=o}},e.prototype.calcNiceExtent=function(r){$1.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},e.prototype.parse=function(r){return r},e.prototype.contain=function(r){return r=Ks(r)/Ks(this.base),jb(r,this._extent)},e.prototype.normalize=function(r){return r=Ks(r)/Ks(this.base),Vb(r,this._extent)},e.prototype.scale=function(r){return r=$b(r,this._extent),__(this.base,r)},e.type="log",e}(wu),qJ=W9.prototype;qJ.getMinorTicks=$1.getMinorTicks;qJ.getLabel=$1.getLabel;function x_(t,e){return _Ee(t,Zo(e))}wu.registerClass(W9);var CEe=function(){function t(e,r,i){this._prepareParams(e,r,i)}return t.prototype._prepareParams=function(e,r,i){i[1]<i[0]&&(i=[NaN,NaN]),this._dataMin=i[0],this._dataMax=i[1];var n=this._isOrdinal=e.type==="ordinal";this._needCrossZero=e.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var a=r.get("min",!0);a==null&&(a=r.get("startValue",!0));var s=this._modelMinRaw=a;ot(s)?this._modelMinNum=b_(e,s({min:i[0],max:i[1]})):s!=="dataMin"&&(this._modelMinNum=b_(e,s));var o=this._modelMaxRaw=r.get("max",!0);if(ot(o)?this._modelMaxNum=b_(e,o({min:i[0],max:i[1]})):o!=="dataMax"&&(this._modelMaxNum=b_(e,o)),n)this._axisDataLen=r.getCategories().length;else{var u=r.get("boundaryGap"),l=Te(u)?u:[u||0,u||0];typeof l[0]=="boolean"||typeof l[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[xo(l[0],1),xo(l[1],1)]}},t.prototype.calculate=function(){var e=this._isOrdinal,r=this._dataMin,i=this._dataMax,n=this._axisDataLen,a=this._boundaryGapInner,s=e?null:i-r||Math.abs(r),o=this._modelMinRaw==="dataMin"?r:this._modelMinNum,u=this._modelMaxRaw==="dataMax"?i:this._modelMaxNum,l=o!=null,c=u!=null;o==null&&(o=e?n?0:NaN:r-a[0]*s),u==null&&(u=e?n?n-1:NaN:i+a[1]*s),(o==null||!isFinite(o))&&(o=NaN),(u==null||!isFinite(u))&&(u=NaN);var h=S2(o)||S2(u)||e&&!n;this._needCrossZero&&(o>0&&u>0&&!l&&(o=0),o<0&&u<0&&!c&&(u=0));var f=this._determinedMin,d=this._determinedMax;return f!=null&&(o=f,l=!0),d!=null&&(u=d,c=!0),{min:o,max:u,minFixed:l,maxFixed:c,isBlank:h}},t.prototype.modifyDataMinMax=function(e,r){this[SEe[e]]=r},t.prototype.setDeterminedMinMax=function(e,r){var i=EEe[e];this[i]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),EEe={min:"_determinedMin",max:"_determinedMax"},SEe={min:"_dataMin",max:"_dataMax"};function XJ(t,e,r){var i=t.rawExtentInfo;return i||(i=new CEe(t,e,r),t.rawExtentInfo=i,i)}function b_(t,e){return e==null?null:S2(e)?NaN:t.parse(e)}function ZJ(t,e){var r=t.type,i=XJ(t,e,t.getExtent()).calculate();t.setBlank(i.isBlank);var n=i.min,a=i.max,s=e.ecModel;if(s&&r==="time"){var o=GJ("bar",s),u=!1;if(G(o,function(h){u=u||h.getBaseAxis()===e.axis}),u){var l=UJ(o),c=TEe(n,a,e,l);n=c.min,a=c.max}}return{extent:[n,a],fixMin:i.minFixed,fixMax:i.maxFixed}}function TEe(t,e,r,i){var n=r.axis.getExtent(),a=Math.abs(n[1]-n[0]),s=lEe(i,r.axis);if(s===void 0)return{min:t,max:e};var o=1/0;G(s,function(d){o=Math.min(d.offset,o)});var u=-1/0;G(s,function(d){u=Math.max(d.offset+d.width,u)}),o=Math.abs(o),u=Math.abs(u);var l=o+u,c=e-t,h=1-(o+u)/a,f=c/h-c;return e+=f*(u/l),t-=f*(o/l),{min:t,max:e}}function tf(t,e){var r=e,i=ZJ(t,r),n=i.extent,a=r.get("splitNumber");t instanceof W9&&(t.base=r.get("logBase"));var s=t.type,o=r.get("interval"),u=s==="interval"||s==="time";t.setExtent(n[0],n[1]),t.calcNiceExtent({splitNumber:a,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:u?r.get("minInterval"):null,maxInterval:u?r.get("maxInterval"):null}),o!=null&&t.setInterval&&t.setInterval(o)}function Lm(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Wb({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new $9({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(wu.getClass(e)||yl)}}function AEe(t){var e=t.scale.getExtent(),r=e[0],i=e[1];return!(r>0&&i>0||r<0&&i<0)}function bg(t){var e=t.getLabelModel().get("formatter"),r=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(i){return function(n,a){return t.scale.getFormattedLabel(n,a,i)}}(e):Xe(e)?function(i){return function(n){var a=t.scale.getLabel(n),s=i.replace("{value}",a??"");return s}}(e):ot(e)?function(i){return function(n,a){return r!=null&&(a=n.value-r),i(Y9(t,n),a,n.level!=null?{level:n.level}:null)}}(e):function(i){return t.scale.getLabel(i)}}function Y9(t,e){return t.type==="category"?t.scale.getLabel(e):e.value}function wEe(t){var e=t.model,r=t.scale;if(!(!e.get(["axisLabel","show"])||r.isBlank())){var i,n,a=r.getExtent();r instanceof Wb?n=r.count():(i=r.getTicks(),n=i.length);var s=t.getLabelModel(),o=bg(t),u,l=1;n>40&&(l=Math.ceil(n/40));for(var c=0;c<n;c+=l){var h=i?i[c]:{value:a[0]+c},f=o(h,c),d=s.getTextRect(f),p=DEe(d,s.get("rotate")||0);u?u.union(p):u=p}return u}}function DEe(t,e){var r=e*Math.PI/180,i=t.width,n=t.height,a=i*Math.abs(Math.cos(r))+Math.abs(n*Math.sin(r)),s=i*Math.abs(Math.sin(r))+Math.abs(n*Math.cos(r)),o=new Et(t.x,t.y,a,s);return o}function q9(t){var e=t.get("interval");return e??"auto"}function KJ(t){return t.type==="category"&&q9(t.getLabelModel())===0}function k3(t,e){var r={};return G(t.mapDimensionsAll(e),function(i){r[j9(t,i)]=!0}),kt(r)}function FEe(t,e,r){e&&G(k3(e,r),function(i){var n=e.getApproximateExtent(i);n[0]<t[0]&&(t[0]=n[0]),n[1]>t[1]&&(t[1]=n[1])})}var Cg=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var e=this.option;return!e.scale},t.prototype.getCoordSysModel=function(){},t}();function IEe(t){return Au(null,t)}var X9={isDimensionStacked:ml,enableDataStack:NJ,getStackedDimension:j9};function Z9(t,e){var r=e;e instanceof Xt||(r=new Xt(e));var i=Lm(r);return i.setExtent(t[0],t[1]),tf(i,r),i}function BEe(t){yi(t,Cg)}var EN=[],MEe={registerPreprocessor:H9,registerProcessor:wJ,registerPostInit:DJ,registerPostUpdate:FJ,registerUpdateLifecycle:G9,registerAction:Tu,registerCoordinateSystem:MCe,registerLayout:PCe,registerVisual:Af,registerTransform:OCe,registerLoading:BJ,registerMap:LCe,registerImpl:pCe,PRIORITY:ACe,ComponentModel:Dt,ComponentView:_r,SeriesModel:Kt,ChartView:Wt,registerComponentModel:function(t){Dt.registerClass(t)},registerComponentView:function(t){_r.registerClass(t)},registerSeriesModel:function(t){Kt.registerClass(t)},registerChartView:function(t){Wt.registerClass(t)},registerSubTypeDefaulter:function(t,e){Dt.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){Cxe(t,e)}};function ft(t){if(Te(t)){G(t,function(e){ft(e)});return}wt(EN,t)>=0||(EN.push(t),ot(t)&&(t={install:t}),t.install(MEe))}var PEe=1e-8;function SN(t,e){return Math.abs(t-e)<PEe}function ih(t,e,r){var i=0,n=t[0];if(!n)return!1;for(var a=1;a<t.length;a++){var s=t[a];i+=$u(n[0],n[1],s[0],s[1],e,r),n=s}var o=t[0];return(!SN(n[0],o[0])||!SN(n[1],o[1]))&&(i+=$u(n[0],n[1],o[0],o[1],e,r)),i!==0}var LEe=[];function OS(t,e){for(var r=0;r<t.length;r++)Yi(t[r],t[r],e)}function TN(t,e,r,i){for(var n=0;n<t.length;n++){var a=t[n];i&&(a=i.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(gc(e,e,a),vc(r,r,a))}}function OEe(t){for(var e=0,r=0,i=0,n=t.length,a=t[n-1][0],s=t[n-1][1],o=0;o<n;o++){var u=t[o][0],l=t[o][1],c=a*l-u*s;e+=c,r+=(a+u)*c,i+=(s+l)*c,a=u,s=l}return e?[r/e/3,i/e/3,e]:[t[0][0]||0,t[0][1]||0]}var JJ=function(){function t(e){this.name=e}return t.prototype.setCenter=function(e){this._center=e},t.prototype.getCenter=function(){var e=this._center;return e||(e=this._center=this.calcCenter()),e},t}(),AN=function(){function t(e,r){this.type="polygon",this.exterior=e,this.interiors=r}return t}(),wN=function(){function t(e){this.type="linestring",this.points=e}return t}(),QJ=function(t){ce(e,t);function e(r,i,n){var a=t.call(this,r)||this;return a.type="geoJSON",a.geometries=i,a._center=n&&[n[0],n[1]],a}return e.prototype.calcCenter=function(){for(var r=this.geometries,i,n=0,a=0;a<r.length;a++){var s=r[a],o=s.exterior,u=o&&o.length;u>n&&(i=s,n=u)}if(i)return OEe(i.exterior);var l=this.getBoundingRect();return[l.x+l.width/2,l.y+l.height/2]},e.prototype.getBoundingRect=function(r){var i=this._rect;if(i&&!r)return i;var n=[1/0,1/0],a=[-1/0,-1/0],s=this.geometries;return G(s,function(o){o.type==="polygon"?TN(o.exterior,n,a,r):G(o.points,function(u){TN(u,n,a,r)})}),isFinite(n[0])&&isFinite(n[1])&&isFinite(a[0])&&isFinite(a[1])||(n[0]=n[1]=a[0]=a[1]=0),i=new Et(n[0],n[1],a[0]-n[0],a[1]-n[1]),r||(this._rect=i),i},e.prototype.contain=function(r){var i=this.getBoundingRect(),n=this.geometries;if(!i.contain(r[0],r[1]))return!1;e:for(var a=0,s=n.length;a<s;a++){var o=n[a];if(o.type==="polygon"){var u=o.exterior,l=o.interiors;if(ih(u,r[0],r[1])){for(var c=0;c<(l?l.length:0);c++)if(ih(l[c],r[0],r[1]))continue e;return!0}}}return!1},e.prototype.transformTo=function(r,i,n,a){var s=this.getBoundingRect(),o=s.width/s.height;n?a||(a=n/o):n=o*a;for(var u=new Et(r,i,n,a),l=s.calculateTransform(u),c=this.geometries,h=0;h<c.length;h++){var f=c[h];f.type==="polygon"?(OS(f.exterior,l),G(f.interiors,function(d){OS(d,l)})):G(f.points,function(d){OS(d,l)})}s=this._rect,s.copy(u),this._center=[s.x+s.width/2,s.y+s.height/2]},e.prototype.cloneShallow=function(r){r==null&&(r=this.name);var i=new e(r,this.geometries,this._center);return i._rect=this._rect,i.transformTo=null,i},e}(JJ),REe=function(t){ce(e,t);function e(r,i){var n=t.call(this,r)||this;return n.type="geoSVG",n._elOnlyForCalculate=i,n}return e.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,i=r.getBoundingRect(),n=[i.x+i.width/2,i.y+i.height/2],a=vb(LEe),s=r;s&&!s.isGeoSVGGraphicRoot;)rl(a,s.getLocalTransform(),a),s=s.parent;return Cf(a,a),Yi(n,n,a),n},e}(JJ);function NEe(t){if(!t.UTF8Encoding)return t;var e=t,r=e.UTF8Scale;r==null&&(r=1024);var i=e.features;return G(i,function(n){var a=n.geometry,s=a.encodeOffsets,o=a.coordinates;if(s)switch(a.type){case"LineString":a.coordinates=eQ(o,s,r);break;case"Polygon":RS(o,s,r);break;case"MultiLineString":RS(o,s,r);break;case"MultiPolygon":G(o,function(u,l){return RS(u,s[l],r)})}}),e.UTF8Encoding=!1,e}function RS(t,e,r){for(var i=0;i<t.length;i++)t[i]=eQ(t[i],e[i],r)}function eQ(t,e,r){for(var i=[],n=e[0],a=e[1],s=0;s<t.length;s+=2){var o=t.charCodeAt(s)-64,u=t.charCodeAt(s+1)-64;o=o>>1^-(o&1),u=u>>1^-(u&1),o+=n,u+=a,n=o,a=u,i.push([o/r,u/r])}return i}function ow(t,e){return t=NEe(t),Ie(sr(t.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var i=r.properties,n=r.geometry,a=[];switch(n.type){case"Polygon":var s=n.coordinates;a.push(new AN(s[0],s.slice(1)));break;case"MultiPolygon":G(n.coordinates,function(u){u[0]&&a.push(new AN(u[0],u.slice(1)))});break;case"LineString":a.push(new wN([n.coordinates]));break;case"MultiLineString":a.push(new wN(n.coordinates))}var o=new QJ(i[e||"name"],a,i.cp);return o.properties=i,o})}var z2=Yt();function tQ(t,e){var r=Ie(e,function(i){return t.scale.parse(i)});return t.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function kEe(t){var e=t.getLabelModel().get("customValues");if(e){var r=bg(t),i=t.scale.getExtent(),n=tQ(t,e),a=sr(n,function(s){return s>=i[0]&&s<=i[1]});return{labels:Ie(a,function(s){var o={value:s};return{formattedLabel:r(o),rawLabel:t.scale.getLabel(o),tickValue:s}})}}return t.type==="category"?HEe(t):UEe(t)}function zEe(t,e){var r=t.getTickModel().get("customValues");if(r){var i=t.scale.getExtent(),n=tQ(t,r);return{ticks:sr(n,function(a){return a>=i[0]&&a<=i[1]})}}return t.type==="category"?GEe(t,e):{ticks:Ie(t.scale.getTicks(),function(a){return a.value})}}function HEe(t){var e=t.getLabelModel(),r=rQ(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function rQ(t,e){var r=iQ(t,"labels"),i=q9(e),n=nQ(r,i);if(n)return n;var a,s;return ot(i)?a=oQ(t,i):(s=i==="auto"?jEe(t):i,a=sQ(t,s)),aQ(r,i,{labels:a,labelCategoryInterval:s})}function GEe(t,e){var r=iQ(t,"ticks"),i=q9(e),n=nQ(r,i);if(n)return n;var a,s;if((!e.get("show")||t.scale.isBlank())&&(a=[]),ot(i))a=oQ(t,i,!0);else if(i==="auto"){var o=rQ(t,t.getLabelModel());s=o.labelCategoryInterval,a=Ie(o.labels,function(u){return u.tickValue})}else s=i,a=sQ(t,s,!0);return aQ(r,i,{ticks:a,tickCategoryInterval:s})}function UEe(t){var e=t.scale.getTicks(),r=bg(t);return{labels:Ie(e,function(i,n){return{level:i.level,formattedLabel:r(i,n),rawLabel:t.scale.getLabel(i),tickValue:i.value}})}}function iQ(t,e){return z2(t)[e]||(z2(t)[e]=[])}function nQ(t,e){for(var r=0;r<t.length;r++)if(t[r].key===e)return t[r].value}function aQ(t,e,r){return t.push({key:e,value:r}),r}function jEe(t){var e=z2(t).autoInterval;return e??(z2(t).autoInterval=t.calculateCategoryInterval())}function VEe(t){var e=$Ee(t),r=bg(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,n=t.scale,a=n.getExtent(),s=n.count();if(a[1]-a[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var u=a[0],l=t.dataToCoord(u+1)-t.dataToCoord(u),c=Math.abs(l*Math.cos(i)),h=Math.abs(l*Math.sin(i)),f=0,d=0;u<=a[1];u+=o){var p=0,g=0,v=Sm(r({value:u}),e.font,"center","top");p=v.width*1.3,g=v.height*1.3,f=Math.max(f,p,7),d=Math.max(d,g,7)}var m=f/c,y=d/h;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(m,y))),x=z2(t.model),b=t.getExtent(),C=x.lastAutoInterval,E=x.lastTickCount;return C!=null&&E!=null&&Math.abs(C-_)<=1&&Math.abs(E-s)<=1&&C>_&&x.axisExtent0===b[0]&&x.axisExtent1===b[1]?_=C:(x.lastTickCount=s,x.lastAutoInterval=_,x.axisExtent0=b[0],x.axisExtent1=b[1]),_}function $Ee(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function sQ(t,e,r){var i=bg(t),n=t.scale,a=n.getExtent(),s=t.getLabelModel(),o=[],u=Math.max((e||0)+1,1),l=a[0],c=n.count();l!==0&&u>1&&c/u>2&&(l=Math.round(Math.ceil(l/u)*u));var h=KJ(t),f=s.get("showMinLabel")||h,d=s.get("showMaxLabel")||h;f&&l!==a[0]&&g(a[0]);for(var p=l;p<=a[1];p+=u)g(p);d&&p-u!==a[1]&&g(a[1]);function g(v){var m={value:v};o.push(r?v:{formattedLabel:i(m),rawLabel:n.getLabel(m),tickValue:v})}return o}function oQ(t,e,r){var i=t.scale,n=bg(t),a=[];return G(i.getTicks(),function(s){var o=i.getLabel(s),u=s.value;e(s.value,o)&&a.push(r?u:{formattedLabel:n(s),rawLabel:o,tickValue:u})}),a}var DN=[0,1],_a=function(){function t(e,r,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=r,this._extent=i||[0,0]}return t.prototype.contain=function(e){var r=this._extent,i=Math.min(r[0],r[1]),n=Math.max(r[0],r[1]);return e>=i&&e<=n},t.prototype.containData=function(e){return this.scale.contain(e)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(e){return uZ(e||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(e,r){var i=this._extent;i[0]=e,i[1]=r},t.prototype.dataToCoord=function(e,r){var i=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&n.type==="ordinal"&&(i=i.slice(),FN(i,n.count())),nr(e,DN,i,r)},t.prototype.coordToData=function(e,r){var i=this._extent,n=this.scale;this.onBand&&n.type==="ordinal"&&(i=i.slice(),FN(i,n.count()));var a=nr(e,i,DN,r);return this.scale.scale(a)},t.prototype.pointToData=function(e,r){},t.prototype.getTicksCoords=function(e){e=e||{};var r=e.tickModel||this.getTickModel(),i=zEe(this,r),n=i.ticks,a=Ie(n,function(o){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(o):o),tickValue:o}},this),s=r.get("alignWithLabel");return WEe(this,a,s,e.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var e=this.model.getModel("minorTick"),r=e.get("splitNumber");r>0&&r<100||(r=5);var i=this.scale.getMinorTicks(r),n=Ie(i,function(a){return Ie(a,function(s){return{coord:this.dataToCoord(s),tickValue:s}},this)},this);return n},t.prototype.getViewLabels=function(){return kEe(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var e=this._extent,r=this.scale.getExtent(),i=r[1]-r[0]+(this.onBand?1:0);i===0&&(i=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/i},t.prototype.calculateCategoryInterval=function(){return VEe(this)},t}();function FN(t,e){var r=t[1]-t[0],i=e,n=r/i/2;t[0]+=n,t[1]-=n}function WEe(t,e,r,i){var n=e.length;if(!t.onBand||r||!n)return;var a=t.getExtent(),s,o;if(n===1)e[0].coord=a[0],s=e[1]={coord:a[1],tickValue:e[0].tickValue};else{var u=e[n-1].tickValue-e[0].tickValue,l=(e[n-1].coord-e[0].coord)/u;G(e,function(d){d.coord-=l/2});var c=t.scale.getExtent();o=1+c[1]-e[n-1].tickValue,s={coord:e[n-1].coord+l*o,tickValue:c[1]+1},e.push(s)}var h=a[0]>a[1];f(e[0].coord,a[0])&&(i?e[0].coord=a[0]:e.shift()),i&&f(a[0],e[0].coord)&&e.unshift({coord:a[0]}),f(a[1],s.coord)&&(i?s.coord=a[1]:e.pop()),i&&f(s.coord,a[1])&&e.push({coord:a[1]});function f(d,p){return d=Rr(d),p=Rr(p),h?d>p:d<p}}var Tv=Math.PI*2,M0=_u.CMD,YEe=["top","right","bottom","left"];function qEe(t,e,r,i,n){var a=r.width,s=r.height;switch(t){case"top":i.set(r.x+a/2,r.y-e),n.set(0,-1);break;case"bottom":i.set(r.x+a/2,r.y+s+e),n.set(0,1);break;case"left":i.set(r.x-e,r.y+s/2),n.set(-1,0);break;case"right":i.set(r.x+a+e,r.y+s/2),n.set(1,0);break}}function XEe(t,e,r,i,n,a,s,o,u){s-=t,o-=e;var l=Math.sqrt(s*s+o*o);s/=l,o/=l;var c=s*r+t,h=o*r+e;if(Math.abs(i-n)%Tv<1e-4)return u[0]=c,u[1]=h,l-r;if(a){var f=i;i=Qa(n),n=Qa(f)}else i=Qa(i),n=Qa(n);i>n&&(n+=Tv);var d=Math.atan2(o,s);if(d<0&&(d+=Tv),d>=i&&d<=n||d+Tv>=i&&d+Tv<=n)return u[0]=c,u[1]=h,l-r;var p=r*Math.cos(i)+t,g=r*Math.sin(i)+e,v=r*Math.cos(n)+t,m=r*Math.sin(n)+e,y=(p-s)*(p-s)+(g-o)*(g-o),_=(v-s)*(v-s)+(m-o)*(m-o);return y<_?(u[0]=p,u[1]=g,Math.sqrt(y)):(u[0]=v,u[1]=m,Math.sqrt(_))}function z3(t,e,r,i,n,a,s,o){var u=n-t,l=a-e,c=r-t,h=i-e,f=Math.sqrt(c*c+h*h);c/=f,h/=f;var d=u*c+l*h,p=d/f;o&&(p=Math.min(Math.max(p,0),1)),p*=f;var g=s[0]=t+p*c,v=s[1]=e+p*h;return Math.sqrt((g-n)*(g-n)+(v-a)*(v-a))}function uQ(t,e,r,i,n,a,s){r<0&&(t=t+r,r=-r),i<0&&(e=e+i,i=-i);var o=t+r,u=e+i,l=s[0]=Math.min(Math.max(n,t),o),c=s[1]=Math.min(Math.max(a,e),u);return Math.sqrt((l-n)*(l-n)+(c-a)*(c-a))}var so=[];function ZEe(t,e,r){var i=uQ(e.x,e.y,e.width,e.height,t.x,t.y,so);return r.set(so[0],so[1]),i}function KEe(t,e,r){for(var i=0,n=0,a=0,s=0,o,u,l=1/0,c=e.data,h=t.x,f=t.y,d=0;d<c.length;){var p=c[d++];d===1&&(i=c[d],n=c[d+1],a=i,s=n);var g=l;switch(p){case M0.M:a=c[d++],s=c[d++],i=a,n=s;break;case M0.L:g=z3(i,n,c[d],c[d+1],h,f,so,!0),i=c[d++],n=c[d++];break;case M0.C:g=VX(i,n,c[d++],c[d++],c[d++],c[d++],c[d],c[d+1],h,f,so),i=c[d++],n=c[d++];break;case M0.Q:g=WX(i,n,c[d++],c[d++],c[d],c[d+1],h,f,so),i=c[d++],n=c[d++];break;case M0.A:var v=c[d++],m=c[d++],y=c[d++],_=c[d++],x=c[d++],b=c[d++];d+=1;var C=!!(1-c[d++]);o=Math.cos(x)*y+v,u=Math.sin(x)*_+m,d<=1&&(a=o,s=u);var E=(h-v)*_/y+v;g=XEe(v,m,_,x,x+b,C,E,f,so),i=Math.cos(x+b)*y+v,n=Math.sin(x+b)*_+m;break;case M0.R:a=i=c[d++],s=n=c[d++];var A=c[d++],S=c[d++];g=uQ(a,s,A,S,h,f,so);break;case M0.Z:g=z3(i,n,a,s,h,f,so,!0),i=a,n=s;break}g<l&&(l=g,r.set(so[0],so[1]))}return l}var uo=new Ct,Ir=new Ct,fi=new Ct,Qo=new Ct,qo=new Ct;function IN(t,e){if(t){var r=t.getTextGuideLine(),i=t.getTextContent();if(i&&r){var n=t.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],s=n.candidates||YEe,o=i.getBoundingRect().clone();o.applyTransform(i.getComputedTransform());var u=1/0,l=n.anchor,c=t.getComputedTransform(),h=c&&Cf([],c),f=e.get("length2")||0;l&&fi.copy(l);for(var d=0;d<s.length;d++){var p=s[d];qEe(p,0,o,uo,Qo),Ct.scaleAndAdd(Ir,uo,Qo,f),Ir.transform(h);var g=t.getBoundingRect(),v=l?l.distance(Ir):t instanceof Pt?KEe(Ir,t.path,fi):ZEe(Ir,g,fi);v<u&&(u=v,Ir.transform(c),fi.transform(c),fi.toArray(a[0]),Ir.toArray(a[1]),uo.toArray(a[2]))}lQ(a,e.get("minTurnAngle")),r.setShape({points:a})}}}var H3=[],ea=new Ct;function lQ(t,e){if(e<=180&&e>0){e=e/180*Math.PI,uo.fromArray(t[0]),Ir.fromArray(t[1]),fi.fromArray(t[2]),Ct.sub(Qo,uo,Ir),Ct.sub(qo,fi,Ir);var r=Qo.len(),i=qo.len();if(!(r<.001||i<.001)){Qo.scale(1/r),qo.scale(1/i);var n=Qo.dot(qo),a=Math.cos(e);if(a<n){var s=z3(Ir.x,Ir.y,fi.x,fi.y,uo.x,uo.y,H3,!1);ea.fromArray(H3),ea.scaleAndAdd(qo,s/Math.tan(Math.PI-e));var o=fi.x!==Ir.x?(ea.x-Ir.x)/(fi.x-Ir.x):(ea.y-Ir.y)/(fi.y-Ir.y);if(isNaN(o))return;o<0?Ct.copy(ea,Ir):o>1&&Ct.copy(ea,fi),ea.toArray(t[1])}}}}function JEe(t,e,r){if(r<=180&&r>0){r=r/180*Math.PI,uo.fromArray(t[0]),Ir.fromArray(t[1]),fi.fromArray(t[2]),Ct.sub(Qo,Ir,uo),Ct.sub(qo,fi,Ir);var i=Qo.len(),n=qo.len();if(!(i<.001||n<.001)){Qo.scale(1/i),qo.scale(1/n);var a=Qo.dot(e),s=Math.cos(r);if(a<s){var o=z3(Ir.x,Ir.y,fi.x,fi.y,uo.x,uo.y,H3,!1);ea.fromArray(H3);var u=Math.PI/2,l=Math.acos(qo.dot(e)),c=u+l-r;if(c>=u)Ct.copy(ea,fi);else{ea.scaleAndAdd(qo,o/Math.tan(Math.PI/2-c));var h=fi.x!==Ir.x?(ea.x-Ir.x)/(fi.x-Ir.x):(ea.y-Ir.y)/(fi.y-Ir.y);if(isNaN(h))return;h<0?Ct.copy(ea,Ir):h>1&&Ct.copy(ea,fi)}ea.toArray(t[1])}}}}function NS(t,e,r,i){var n=r==="normal",a=n?t:t.ensureState(r);a.ignore=e;var s=i.get("smooth");s&&s===!0&&(s=.3),a.shape=a.shape||{},s>0&&(a.shape.smooth=s);var o=i.getModel("lineStyle").getLineStyle();n?t.useStyle(o):a.style=o}function QEe(t,e){var r=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),r>0&&i.length>=3){var n=pc(i[0],i[1]),a=pc(i[1],i[2]);if(!n||!a){t.lineTo(i[1][0],i[1][1]),t.lineTo(i[2][0],i[2][1]);return}var s=Math.min(n,a)*r,o=Nx([],i[1],i[0],s/n),u=Nx([],i[1],i[2],s/a),l=Nx([],o,u,.5);t.bezierCurveTo(o[0],o[1],o[0],o[1],l[0],l[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],i[2][0],i[2][1])}else for(var c=1;c<i.length;c++)t.lineTo(i[c][0],i[c][1])}function K9(t,e,r){var i=t.getTextGuideLine(),n=t.getTextContent();if(!n){i&&t.removeTextGuideLine();return}for(var a=e.normal,s=a.get("show"),o=n.ignore,u=0;u<I2.length;u++){var l=I2[u],c=e[l],h=l==="normal";if(c){var f=c.get("show"),d=h?o:gt(n.states[l]&&n.states[l].ignore,o);if(d||!gt(f,s)){var p=h?i:i&&i.states[l];p&&(p.ignore=!0),i&&NS(i,!0,l,c);continue}i||(i=new ya,t.setTextGuideLine(i),!h&&(o||!s)&&NS(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),NS(i,!1,l,c)}}if(i){st(i.style,r),i.style.fill=null;var g=a.get("showAbove"),v=t.textGuideLineConfig=t.textGuideLineConfig||{};v.showAbove=g||!1,i.buildPath=QEe}}function J9(t,e){e=e||"labelLine";for(var r={normal:t.getModel(e)},i=0;i<fa.length;i++){var n=fa[i];r[n]=t.getModel([n,e])}return r}function cQ(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];if(!i.defaultAttr.ignore){var n=i.label,a=n.getComputedTransform(),s=n.getBoundingRect(),o=!a||a[1]<1e-5&&a[2]<1e-5,u=n.style.margin||0,l=s.clone();l.applyTransform(a),l.x-=u/2,l.y-=u/2,l.width+=u,l.height+=u;var c=o?new C3(s,a):null;e.push({label:n,labelLine:i.labelLine,rect:l,localRect:s,obb:c,priority:i.priority,defaultAttr:i.defaultAttr,layoutOption:i.computedLayoutOption,axisAligned:o,transform:a})}}return e}function hQ(t,e,r,i,n,a){var s=t.length;if(s<2)return;t.sort(function(C,E){return C.rect[e]-E.rect[e]});for(var o=0,u,l=!1,c=0;c<s;c++){var h=t[c],f=h.rect;u=f[e]-o,u<0&&(f[e]-=u,h.label[e]-=u,l=!0),o=f[e]+f[r]}var d=t[0],p=t[s-1],g,v;m(),g<0&&x(-g,.8),v<0&&x(v,.8),m(),y(g,v,1),y(v,g,-1),m(),g<0&&b(-g),v<0&&b(v);function m(){g=d.rect[e]-i,v=n-p.rect[e]-p.rect[r]}function y(C,E,A){if(C<0){var S=Math.min(E,-C);if(S>0){_(S*A,0,s);var T=S+C;T<0&&x(-T*A,1)}else x(-C*A,1)}}function _(C,E,A){C!==0&&(l=!0);for(var S=E;S<A;S++){var T=t[S],D=T.rect;D[e]+=C,T.label[e]+=C}}function x(C,E){for(var A=[],S=0,T=1;T<s;T++){var D=t[T-1].rect,F=Math.max(t[T].rect[e]-D[e]-D[r],0);A.push(F),S+=F}if(S){var B=Math.min(Math.abs(C)/S,E);if(C>0)for(var T=0;T<s-1;T++){var O=A[T]*B;_(O,0,T+1)}else for(var T=s-1;T>0;T--){var O=A[T-1]*B;_(-O,T,s)}}}function b(C){var E=C<0?-1:1;C=Math.abs(C);for(var A=Math.ceil(C/(s-1)),S=0;S<s-1;S++)if(E>0?_(A,0,S+1):_(-A,s-S-1,s),C-=A,C<=0)return}return l}function eSe(t,e,r,i){return hQ(t,"x","width",e,r)}function fQ(t,e,r,i){return hQ(t,"y","height",e,r)}function dQ(t){var e=[];t.sort(function(g,v){return v.priority-g.priority});var r=new Et(0,0,0,0);function i(g){if(!g.ignore){var v=g.ensureState("emphasis");v.ignore==null&&(v.ignore=!1)}g.ignore=!0}for(var n=0;n<t.length;n++){var a=t[n],s=a.axisAligned,o=a.localRect,u=a.transform,l=a.label,c=a.labelLine;r.copy(a.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var h=a.obb,f=!1,d=0;d<e.length;d++){var p=e[d];if(r.intersect(p.rect)){if(s&&p.axisAligned){f=!0;break}if(p.obb||(p.obb=new C3(p.localRect,p.transform)),h||(h=new C3(o,u)),h.intersect(p.obb)){f=!0;break}}}f?(i(l),c&&i(c)):(l.attr("ignore",a.defaultAttr.ignore),c&&c.attr("ignore",a.defaultAttr.labelGuideIgnore),e.push(a))}}function tSe(t){if(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r].slice());return e}}function rSe(t,e){var r=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:tSe(i&&i.shape.points)}}var BN=["align","verticalAlign","width","height","fontSize"],$n=new Ju,kS=Yt(),iSe=Yt();function C_(t,e,r){for(var i=0;i<r.length;i++){var n=r[i];e[n]!=null&&(t[n]=e[n])}}var E_=["x","y","rotation"],nSe=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(e,r,i,n,a){var s=n.style,o=n.__hostTarget,u=o.textConfig||{},l=n.getComputedTransform(),c=n.getBoundingRect().plain();Et.applyTransform(c,c,l),l?$n.setLocalTransform(l):($n.x=$n.y=$n.rotation=$n.originX=$n.originY=0,$n.scaleX=$n.scaleY=1),$n.rotation=Qa($n.rotation);var h=n.__hostTarget,f;if(h){f=h.getBoundingRect().plain();var d=h.getComputedTransform();Et.applyTransform(f,f,d)}var p=f&&h.getTextGuideLine();this._labelList.push({label:n,labelLine:p,seriesModel:i,dataIndex:e,dataType:r,layoutOption:a,computedLayoutOption:null,rect:c,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:n.ignore,labelGuideIgnore:p&&p.ignore,x:$n.x,y:$n.y,scaleX:$n.scaleX,scaleY:$n.scaleY,rotation:$n.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:n.cursor,attachedPos:u.position,attachedRot:u.rotation}})},t.prototype.addLabelsOfSeries=function(e){var r=this;this._chartViewList.push(e);var i=e.__model,n=i.get("labelLayout");(ot(n)||kt(n).length)&&e.group.traverse(function(a){if(a.ignore)return!0;var s=a.getTextContent(),o=pt(a);s&&!s.disableLabelLayout&&r._addLabel(o.dataIndex,o.dataType,i,s,n)})},t.prototype.updateLayoutConfig=function(e){var r=e.getWidth(),i=e.getHeight();function n(_,x){return function(){IN(_,x)}}for(var a=0;a<this._labelList.length;a++){var s=this._labelList[a],o=s.label,u=o.__hostTarget,l=s.defaultAttr,c=void 0;ot(s.layoutOption)?c=s.layoutOption(rSe(s,u)):c=s.layoutOption,c=c||{},s.computedLayoutOption=c;var h=Math.PI/180;u&&u.setTextConfig({local:!1,position:c.x!=null||c.y!=null?null:l.attachedPos,rotation:c.rotate!=null?c.rotate*h:l.attachedRot,offset:[c.dx||0,c.dy||0]});var f=!1;if(c.x!=null?(o.x=je(c.x,r),o.setStyle("x",0),f=!0):(o.x=l.x,o.setStyle("x",l.style.x)),c.y!=null?(o.y=je(c.y,i),o.setStyle("y",0),f=!0):(o.y=l.y,o.setStyle("y",l.style.y)),c.labelLinePoints){var d=u.getTextGuideLine();d&&(d.setShape({points:c.labelLinePoints}),f=!1)}var p=kS(o);p.needsUpdateLabelLine=f,o.rotation=c.rotate!=null?c.rotate*h:l.rotation,o.scaleX=l.scaleX,o.scaleY=l.scaleY;for(var g=0;g<BN.length;g++){var v=BN[g];o.setStyle(v,c[v]!=null?c[v]:l.style[v])}if(c.draggable){if(o.draggable=!0,o.cursor="move",u){var m=s.seriesModel;if(s.dataIndex!=null){var y=s.seriesModel.getData(s.dataType);m=y.getItemModel(s.dataIndex)}o.on("drag",n(u,m.getModel("labelLine")))}}else o.off("drag"),o.cursor=l.cursor}},t.prototype.layout=function(e){var r=e.getWidth(),i=e.getHeight(),n=cQ(this._labelList),a=sr(n,function(u){return u.layoutOption.moveOverlap==="shiftX"}),s=sr(n,function(u){return u.layoutOption.moveOverlap==="shiftY"});eSe(a,0,r),fQ(s,0,i);var o=sr(n,function(u){return u.layoutOption.hideOverlap});dQ(o)},t.prototype.processLabelsOverall=function(){var e=this;G(this._chartViewList,function(r){var i=r.__model,n=r.ignoreLabelLineUpdate,a=i.isAnimationEnabled();r.group.traverse(function(s){if(s.ignore&&!s.forceLabelAnimation)return!0;var o=!n,u=s.getTextContent();!o&&u&&(o=kS(u).needsUpdateLabelLine),o&&e._updateLabelLine(s,i),a&&e._animateLabels(s,i)})})},t.prototype._updateLabelLine=function(e,r){var i=e.getTextContent(),n=pt(e),a=n.dataIndex;if(i&&a!=null){var s=r.getData(n.dataType),o=s.getItemModel(a),u={},l=s.getItemVisual(a,"style");if(l){var c=s.getVisual("drawType");u.stroke=l[c]}var h=o.getModel("labelLine");K9(e,J9(o),u),IN(e,h)}},t.prototype._animateLabels=function(e,r){var i=e.getTextContent(),n=e.getTextGuideLine();if(i&&(e.forceLabelAnimation||!i.ignore&&!i.invisible&&!e.disableLabelAnimation&&!Xd(e))){var a=kS(i),s=a.oldLayout,o=pt(e),u=o.dataIndex,l={x:i.x,y:i.y,rotation:i.rotation},c=r.getData(o.dataType);if(s){i.attr(s);var f=e.prevStates;f&&(wt(f,"select")>=0&&i.attr(a.oldLayoutSelect),wt(f,"emphasis")>=0&&i.attr(a.oldLayoutEmphasis)),er(i,l,r,u)}else if(i.attr(l),!hg(i).valueAnimation){var h=gt(i.style.opacity,1);i.style.opacity=0,Nr(i,{style:{opacity:h}},r,u)}if(a.oldLayout=l,i.states.select){var d=a.oldLayoutSelect={};C_(d,l,E_),C_(d,i.states.select,E_)}if(i.states.emphasis){var p=a.oldLayoutEmphasis={};C_(p,l,E_),C_(p,i.states.emphasis,E_)}iK(i,u,c,r,r)}if(n&&!n.ignore&&!n.invisible){var a=iSe(n),s=a.oldLayout,g={points:n.shape.points};s?(n.attr({shape:s}),er(n,{shape:g},r)):(n.setShape(g),n.style.strokePercent=0,Nr(n,{style:{strokePercent:1}},r)),a.oldLayout=g}},t}(),zS=Yt();function pQ(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,i){var n=zS(r).labelManager;n||(n=zS(r).labelManager=new nSe),n.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(e,r,i){var n=zS(r).labelManager;i.updatedSeries.forEach(function(a){n.addLabelsOfSeries(r.getViewOfSeriesModel(a))}),n.updateLayoutConfig(r),n.layout(r),n.processLabelsOverall()})}var HS=Math.sin,GS=Math.cos,gQ=Math.PI,P0=Math.PI*2,aSe=180/gQ,vQ=function(){function t(){}return t.prototype.reset=function(e){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,e||4)},t.prototype.moveTo=function(e,r){this._add("M",e,r)},t.prototype.lineTo=function(e,r){this._add("L",e,r)},t.prototype.bezierCurveTo=function(e,r,i,n,a,s){this._add("C",e,r,i,n,a,s)},t.prototype.quadraticCurveTo=function(e,r,i,n){this._add("Q",e,r,i,n)},t.prototype.arc=function(e,r,i,n,a,s){this.ellipse(e,r,i,i,0,n,a,s)},t.prototype.ellipse=function(e,r,i,n,a,s,o,u){var l=o-s,c=!u,h=Math.abs(l),f=_c(h-P0)||(c?l>=P0:-l>=P0),d=l>0?l%P0:l%P0+P0,p=!1;f?p=!0:_c(h)?p=!1:p=d>=gQ==!!c;var g=e+i*GS(s),v=r+n*HS(s);this._start&&this._add("M",g,v);var m=Math.round(a*aSe);if(f){var y=1/this._p,_=(c?1:-1)*(P0-y);this._add("A",i,n,m,1,+c,e+i*GS(s+_),r+n*HS(s+_)),y>.01&&this._add("A",i,n,m,0,+c,g,v)}else{var x=e+i*GS(o),b=r+n*HS(o);this._add("A",i,n,m,+p,+c,x,b)}},t.prototype.rect=function(e,r,i,n){this._add("M",e,r),this._add("l",i,0),this._add("l",0,n),this._add("l",-i,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(e,r,i,n,a,s,o,u,l){for(var c=[],h=this._p,f=1;f<arguments.length;f++){var d=arguments[f];if(isNaN(d)){this._invalid=!0;return}c.push(Math.round(d*h)/h)}this._d.push(e+c.join(" ")),this._start=e==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),Q9="none",sSe=Math.round;function oSe(t){var e=t.fill;return e!=null&&e!==Q9}function uSe(t){var e=t.stroke;return e!=null&&e!==Q9}var uw=["lineCap","miterLimit","lineJoin"],lSe=Ie(uw,function(t){return"stroke-"+t.toLowerCase()});function cSe(t,e,r,i){var n=e.opacity==null?1:e.opacity;if(r instanceof en){t("opacity",n);return}if(oSe(e)){var a=w2(e.fill);t("fill",a.color);var s=e.fillOpacity!=null?e.fillOpacity*a.opacity*n:a.opacity*n;s<1&&t("fill-opacity",s)}else t("fill",Q9);if(uSe(e)){var o=w2(e.stroke);t("stroke",o.color);var u=e.strokeNoScale?r.getLineScale():1,l=u?(e.lineWidth||0)/u:0,c=e.strokeOpacity!=null?e.strokeOpacity*o.opacity*n:o.opacity*n,h=e.strokeFirst;if(l!==1&&t("stroke-width",l),h&&t("paint-order",h?"stroke":"fill"),c<1&&t("stroke-opacity",c),e.lineDash){var f=R9(r),d=f[0],p=f[1];d&&(p=sSe(p||0),t("stroke-dasharray",d.join(",")),(p||i)&&t("stroke-dashoffset",p))}for(var g=0;g<uw.length;g++){var v=uw[g];if(e[v]!==x3[v]){var m=e[v]||x3[v];m&&t(lSe[g],m)}}}}var mQ="http://www.w3.org/2000/svg",yQ="http://www.w3.org/1999/xlink",hSe="http://www.w3.org/2000/xmlns/",fSe="http://www.w3.org/XML/1998/namespace",MN="ecmeta_";function _Q(t){return document.createElementNS(mQ,t)}function ji(t,e,r,i,n){return{tag:t,attrs:r||{},children:i,text:n,key:e}}function dSe(t,e){var r=[];if(e)for(var i in e){var n=e[i],a=i;n!==!1&&(n!==!0&&n!=null&&(a+='="'+n+'"'),r.push(a))}return"<"+t+" "+r.join(" ")+">"}function pSe(t){return"</"+t+">"}function eF(t,e){e=e||{};var r=e.newline?`
`:"";function i(n){var a=n.children,s=n.tag,o=n.attrs,u=n.text;return dSe(s,o)+(s!=="style"?Ai(u):u||"")+(a?""+r+Ie(a,function(l){return i(l)}).join(r)+r:"")+pSe(s)}return i(t)}function gSe(t,e,r){r=r||{};var i=r.newline?`
`:"",n=" {"+i,a=i+"}",s=Ie(kt(t),function(u){return u+n+Ie(kt(t[u]),function(l){return l+":"+t[u][l]+";"}).join(i)+a}).join(i),o=Ie(kt(e),function(u){return"@keyframes "+u+n+Ie(kt(e[u]),function(l){return l+n+Ie(kt(e[u][l]),function(c){var h=e[u][l][c];return c==="d"&&(h='path("'+h+'")'),c+":"+h+";"}).join(i)+a}).join(i)+a}).join(i);return!s&&!o?"":["<![CDATA[",s,o,"]]>"].join(i)}function lw(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function PN(t,e,r,i){return ji("svg","root",{width:t,height:e,xmlns:mQ,"xmlns:xlink":yQ,version:"1.1",baseProfile:"full",viewBox:i?"0 0 "+t+" "+e:!1},r)}var vSe=0;function xQ(){return vSe++}var LN={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},W0="transform-origin";function mSe(t,e,r){var i=Ce({},t.shape);Ce(i,e),t.buildPath(r,i);var n=new vQ;return n.reset(QX(t)),r.rebuildPath(n,1),n.generateStr(),n.getStr()}function ySe(t,e){var r=e.originX,i=e.originY;(r||i)&&(t[W0]=r+"px "+i+"px")}var _Se={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function bQ(t,e){var r=e.zrId+"-ani-"+e.cssAnimIdx++;return e.cssAnims[r]=t,r}function xSe(t,e,r){var i=t.shape.paths,n={},a,s;if(G(i,function(u){var l=lw(r.zrId);l.animation=!0,Yb(u,{},l,!0);var c=l.cssAnims,h=l.cssNodes,f=kt(c),d=f.length;if(d){s=f[d-1];var p=c[s];for(var g in p){var v=p[g];n[g]=n[g]||{d:""},n[g].d+=v.d||""}for(var m in h){var y=h[m].animation;y.indexOf(s)>=0&&(a=y)}}}),!!a){e.d=!1;var o=bQ(n,r);return a.replace(s,o)}}function ON(t){return Xe(t)?LN[t]?"cubic-bezier("+LN[t]+")":e9(t)?t:"":""}function Yb(t,e,r,i){var n=t.animators,a=n.length,s=[];if(t instanceof g9){var o=xSe(t,e,r);if(o)s.push(o);else if(!a)return}else if(!a)return;for(var u={},l=0;l<a;l++){var c=n[l],h=[c.getMaxTime()/1e3+"s"],f=ON(c.getClip().easing),d=c.getDelay();f?h.push(f):h.push("linear"),d&&h.push(d/1e3+"s"),c.getLoop()&&h.push("infinite");var p=h.join(" ");u[p]=u[p]||[p,[]],u[p][1].push(c)}function g(y){var _=y[1],x=_.length,b={},C={},E={},A="animation-timing-function";function S(le,pe,xe){for(var be=le.getTracks(),q=le.getMaxTime(),J=0;J<be.length;J++){var se=be[J];if(se.needsAnimate()){var ve=se.keyframes,_e=se.propName;if(xe&&(_e=xe(_e)),_e)for(var we=0;we<ve.length;we++){var He=ve[we],ze=Math.round(He.time/q*100)+"%",Me=ON(He.easing),Se=He.rawValue;(Xe(Se)||Zt(Se))&&(pe[ze]=pe[ze]||{},pe[ze][_e]=He.rawValue,Me&&(pe[ze][A]=Me))}}}}for(var T=0;T<x;T++){var D=_[T],F=D.targetName;F?F==="shape"&&S(D,C):!i&&S(D,b)}for(var B in b){var O={};nZ(O,t),Ce(O,b[B]);var M=eZ(O),R=b[B][A];E[B]=M?{transform:M}:{},ySe(E[B],O),R&&(E[B][A]=R)}var z,k=!0;for(var B in C){E[B]=E[B]||{};var U=!z,R=C[B][A];U&&(z=new _u);var V=z.len();z.reset(),E[B].d=mSe(t,C[B],z);var j=z.len();if(!U&&V!==j){k=!1;break}R&&(E[B][A]=R)}if(!k)for(var B in E)delete E[B].d;if(!i)for(var T=0;T<x;T++){var D=_[T],F=D.targetName;F==="style"&&S(D,E,function(be){return _Se[be]})}for(var Y=kt(E),te=!0,re,T=1;T<Y.length;T++){var de=Y[T-1],Oe=Y[T];if(E[de][W0]!==E[Oe][W0]){te=!1;break}re=E[de][W0]}if(te&&re){for(var B in E)E[B][W0]&&delete E[B][W0];e[W0]=re}if(sr(Y,function(le){return kt(E[le]).length>0}).length){var he=bQ(E,r);return he+" "+y[0]+" both"}}for(var v in u){var o=g(u[v]);o&&s.push(o)}if(s.length){var m=r.zrId+"-cls-"+xQ();r.cssNodes["."+m]={animation:s.join(",")},e.class=m}}function bSe(t,e,r){if(!t.ignore)if(t.isSilent()){var i={"pointer-events":"none"};RN(i,e,r)}else{var n=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},a=n.fill;if(!a){var s=t.style&&t.style.fill,o=t.states.select&&t.states.select.style&&t.states.select.style.fill,u=t.currentStates.indexOf("select")>=0&&o||s;u&&(a=_8(u))}var l=n.lineWidth;if(l){var c=!n.strokeNoScale&&t.transform?t.transform[0]:1;l=l/c}var i={cursor:"pointer"};a&&(i.fill=a),n.stroke&&(i.stroke=n.stroke),l&&(i["stroke-width"]=l),RN(i,e,r)}}function RN(t,e,r,i){var n=JSON.stringify(t),a=r.cssStyleCache[n];a||(a=r.zrId+"-cls-"+xQ(),r.cssStyleCache[n]=a,r.cssNodes["."+a+":hover"]=t),e.class=e.class?e.class+" "+a:a}var H2=Math.round;function CQ(t){return t&&Xe(t.src)}function EQ(t){return t&&ot(t.toDataURL)}function tF(t,e,r,i){cSe(function(n,a){var s=n==="fill"||n==="stroke";s&&JX(a)?TQ(e,t,n,i):s&&t9(a)?AQ(r,t,n,i):t[n]=a,s&&i.ssr&&a==="none"&&(t["pointer-events"]="visible")},e,r,!1),DSe(r,t,i)}function rF(t,e){var r=Exe(e);r&&(r.each(function(i,n){i!=null&&(t[(MN+n).toLowerCase()]=i+"")}),e.isSilent()&&(t[MN+"silent"]="true"))}function NN(t){return _c(t[0]-1)&&_c(t[1])&&_c(t[2])&&_c(t[3]-1)}function CSe(t){return _c(t[4])&&_c(t[5])}function iF(t,e,r){if(e&&!(CSe(e)&&NN(e))){var i=1e4;t.transform=NN(e)?"translate("+H2(e[4]*i)/i+" "+H2(e[5]*i)/i+")":$_e(e)}}function kN(t,e,r){for(var i=t.points,n=[],a=0;a<i.length;a++)n.push(H2(i[a][0]*r)/r),n.push(H2(i[a][1]*r)/r);e.points=n.join(" ")}function zN(t){return!t.smooth}function ESe(t){var e=Ie(t,function(r){return typeof r=="string"?[r,r]:r});return function(r,i,n){for(var a=0;a<e.length;a++){var s=e[a],o=r[s[0]];o!=null&&(i[s[1]]=H2(o*n)/n)}}}var SSe={circle:[ESe(["cx","cy","r"])],polyline:[kN,zN],polygon:[kN,zN]};function TSe(t){for(var e=t.animators,r=0;r<e.length;r++)if(e[r].targetName==="shape")return!0;return!1}function SQ(t,e){var r=t.style,i=t.shape,n=SSe[t.type],a={},s=e.animation,o="path",u=t.style.strokePercent,l=e.compress&&QX(t)||4;if(n&&!e.willUpdate&&!(n[1]&&!n[1](i))&&!(s&&TSe(t))&&!(u<1)){o=t.type;var c=Math.pow(10,l);n[0](i,a,c)}else{var h=!t.path||t.shapeChanged();t.path||t.createPathProxy();var f=t.path;h&&(f.beginPath(),t.buildPath(f,t.shape),t.pathUpdated());var d=f.getVersion(),p=t,g=p.__svgPathBuilder;(p.__svgPathVersion!==d||!g||u!==p.__svgPathStrokePercent)&&(g||(g=p.__svgPathBuilder=new vQ),g.reset(l),f.rebuildPath(g,u),g.generateStr(),p.__svgPathVersion=d,p.__svgPathStrokePercent=u),a.d=g.getStr()}return iF(a,t.transform),tF(a,r,t,e),rF(a,t),e.animation&&Yb(t,a,e),e.emphasis&&bSe(t,a,e),ji(o,t.id+"",a)}function ASe(t,e){var r=t.style,i=r.image;if(i&&!Xe(i)&&(CQ(i)?i=i.src:EQ(i)&&(i=i.toDataURL())),!!i){var n=r.x||0,a=r.y||0,s=r.width,o=r.height,u={href:i,width:s,height:o};return n&&(u.x=n),a&&(u.y=a),iF(u,t.transform),tF(u,r,t,e),rF(u,t),e.animation&&Yb(t,u,e),ji("image",t.id+"",u)}}function wSe(t,e){var r=t.style,i=r.text;if(i!=null&&(i+=""),!(!i||isNaN(r.x)||isNaN(r.y))){var n=r.font||Lc,a=r.x||0,s=Y_e(r.y||0,_b(n),r.textBaseline),o=W_e[r.textAlign]||r.textAlign,u={"dominant-baseline":"central","text-anchor":o};if(IZ(r)){var l="",c=r.fontStyle,h=FZ(r.fontSize);if(!parseFloat(h))return;var f=r.fontFamily||DX,d=r.fontWeight;l+="font-size:"+h+";font-family:"+f+";",c&&c!=="normal"&&(l+="font-style:"+c+";"),d&&d!=="normal"&&(l+="font-weight:"+d+";"),u.style=l}else u.style="font: "+n;return i.match(/\s/)&&(u["xml:space"]="preserve"),a&&(u.x=a),s&&(u.y=s),iF(u,t.transform),tF(u,r,t,e),rF(u,t),e.animation&&Yb(t,u,e),ji("text",t.id+"",u,void 0,i)}}function HN(t,e){if(t instanceof Pt)return SQ(t,e);if(t instanceof en)return ASe(t,e);if(t instanceof Sp)return wSe(t,e)}function DSe(t,e,r){var i=t.style;if(q_e(i)){var n=X_e(t),a=r.shadowCache,s=a[n];if(!s){var o=t.getGlobalScale(),u=o[0],l=o[1];if(!u||!l)return;var c=i.shadowOffsetX||0,h=i.shadowOffsetY||0,f=i.shadowBlur,d=w2(i.shadowColor),p=d.opacity,g=d.color,v=f/2/u,m=f/2/l,y=v+" "+m;s=r.zrId+"-s"+r.shadowIdx++,r.defs[s]=ji("filter",s,{id:s,x:"-100%",y:"-100%",width:"300%",height:"300%"},[ji("feDropShadow","",{dx:c/u,dy:h/l,stdDeviation:y,"flood-color":g,"flood-opacity":p})]),a[n]=s}e.filter=mb(s)}}function TQ(t,e,r,i){var n=t[r],a,s={gradientUnits:n.global?"userSpaceOnUse":"objectBoundingBox"};if(ZX(n))a="linearGradient",s.x1=n.x,s.y1=n.y,s.x2=n.x2,s.y2=n.y2;else if(KX(n))a="radialGradient",s.cx=gt(n.x,.5),s.cy=gt(n.y,.5),s.r=gt(n.r,.5);else return;for(var o=n.colorStops,u=[],l=0,c=o.length;l<c;++l){var h=x8(o[l].offset)*100+"%",f=o[l].color,d=w2(f),p=d.color,g=d.opacity,v={offset:h};v["stop-color"]=p,g<1&&(v["stop-opacity"]=g),u.push(ji("stop",l+"",v))}var m=ji(a,"",s,u),y=eF(m),_=i.gradientCache,x=_[y];x||(x=i.zrId+"-g"+i.gradientIdx++,_[y]=x,s.id=x,i.defs[x]=ji(a,x,s,u)),e[r]=mb(x)}function AQ(t,e,r,i){var n=t.style[r],a=t.getBoundingRect(),s={},o=n.repeat,u=o==="no-repeat",l=o==="repeat-x",c=o==="repeat-y",h;if(XX(n)){var f=n.imageWidth,d=n.imageHeight,p=void 0,g=n.image;if(Xe(g)?p=g:CQ(g)?p=g.src:EQ(g)&&(p=g.toDataURL()),typeof Image>"u"){var v="Image width/height must been given explictly in svg-ssr renderer.";ha(f,v),ha(d,v)}else if(f==null||d==null){var m=function(T,D){if(T){var F=T.elm,B=f||D.width,O=d||D.height;T.tag==="pattern"&&(l?(O=1,B/=a.width):c&&(B=1,O/=a.height)),T.attrs.width=B,T.attrs.height=O,F&&(F.setAttribute("width",B),F.setAttribute("height",O))}},y=o9(p,null,t,function(T){u||m(C,T),m(h,T)});y&&y.width&&y.height&&(f=f||y.width,d=d||y.height)}h=ji("image","img",{href:p,width:f,height:d}),s.width=f,s.height=d}else n.svgElement&&(h=ht(n.svgElement),s.width=n.svgWidth,s.height=n.svgHeight);if(h){var _,x;u?_=x=1:l?(x=1,_=s.width/a.width):c?(_=1,x=s.height/a.height):s.patternUnits="userSpaceOnUse",_!=null&&!isNaN(_)&&(s.width=_),x!=null&&!isNaN(x)&&(s.height=x);var b=eZ(n);b&&(s.patternTransform=b);var C=ji("pattern","",s,[h]),E=eF(C),A=i.patternCache,S=A[E];S||(S=i.zrId+"-p"+i.patternIdx++,A[E]=S,s.id=S,C=i.defs[S]=ji("pattern",S,s,[h])),e[r]=mb(S)}}function FSe(t,e,r){var i=r.clipPathCache,n=r.defs,a=i[t.id];if(!a){a=r.zrId+"-c"+r.clipPathIdx++;var s={id:a};i[t.id]=a,n[a]=ji("clipPath",a,s,[SQ(t,r)])}e["clip-path"]=mb(a)}function GN(t){return document.createTextNode(t)}function nh(t,e,r){t.insertBefore(e,r)}function UN(t,e){t.removeChild(e)}function jN(t,e){t.appendChild(e)}function wQ(t){return t.parentNode}function DQ(t){return t.nextSibling}function US(t,e){t.textContent=e}var VN=58,ISe=120,BSe=ji("","");function cw(t){return t===void 0}function Uo(t){return t!==void 0}function MSe(t,e,r){for(var i={},n=e;n<=r;++n){var a=t[n].key;a!==void 0&&(i[a]=n)}return i}function o1(t,e){var r=t.key===e.key,i=t.tag===e.tag;return i&&r}function G2(t){var e,r=t.children,i=t.tag;if(Uo(i)){var n=t.elm=_Q(i);if(nF(BSe,t),Te(r))for(e=0;e<r.length;++e){var a=r[e];a!=null&&jN(n,G2(a))}else Uo(t.text)&&!lt(t.text)&&jN(n,GN(t.text))}else t.elm=GN(t.text);return t.elm}function FQ(t,e,r,i,n){for(;i<=n;++i){var a=r[i];a!=null&&nh(t,G2(a),e)}}function G3(t,e,r,i){for(;r<=i;++r){var n=e[r];if(n!=null)if(Uo(n.tag)){var a=wQ(n.elm);UN(a,n.elm)}else UN(t,n.elm)}}function nF(t,e){var r,i=e.elm,n=t&&t.attrs||{},a=e.attrs||{};if(n!==a){for(r in a){var s=a[r],o=n[r];o!==s&&(s===!0?i.setAttribute(r,""):s===!1?i.removeAttribute(r):r==="style"?i.style.cssText=s:r.charCodeAt(0)!==ISe?i.setAttribute(r,s):r==="xmlns:xlink"||r==="xmlns"?i.setAttributeNS(hSe,r,s):r.charCodeAt(3)===VN?i.setAttributeNS(fSe,r,s):r.charCodeAt(5)===VN?i.setAttributeNS(yQ,r,s):i.setAttribute(r,s))}for(r in n)r in a||i.removeAttribute(r)}}function PSe(t,e,r){for(var i=0,n=0,a=e.length-1,s=e[0],o=e[a],u=r.length-1,l=r[0],c=r[u],h,f,d,p;i<=a&&n<=u;)s==null?s=e[++i]:o==null?o=e[--a]:l==null?l=r[++n]:c==null?c=r[--u]:o1(s,l)?(Cd(s,l),s=e[++i],l=r[++n]):o1(o,c)?(Cd(o,c),o=e[--a],c=r[--u]):o1(s,c)?(Cd(s,c),nh(t,s.elm,DQ(o.elm)),s=e[++i],c=r[--u]):o1(o,l)?(Cd(o,l),nh(t,o.elm,s.elm),o=e[--a],l=r[++n]):(cw(h)&&(h=MSe(e,i,a)),f=h[l.key],cw(f)?nh(t,G2(l),s.elm):(d=e[f],d.tag!==l.tag?nh(t,G2(l),s.elm):(Cd(d,l),e[f]=void 0,nh(t,d.elm,s.elm))),l=r[++n]);(i<=a||n<=u)&&(i>a?(p=r[u+1]==null?null:r[u+1].elm,FQ(t,p,r,n,u)):G3(t,e,i,a))}function Cd(t,e){var r=e.elm=t.elm,i=t.children,n=e.children;t!==e&&(nF(t,e),cw(e.text)?Uo(i)&&Uo(n)?i!==n&&PSe(r,i,n):Uo(n)?(Uo(t.text)&&US(r,""),FQ(r,null,n,0,n.length-1)):Uo(i)?G3(r,i,0,i.length-1):Uo(t.text)&&US(r,""):t.text!==e.text&&(Uo(i)&&G3(r,i,0,i.length-1),US(r,e.text)))}function LSe(t,e){if(o1(t,e))Cd(t,e);else{var r=t.elm,i=wQ(r);G2(e),i!==null&&(nh(i,e.elm,DQ(r)),G3(i,[t],0,0))}return e}var OSe=0,RSe=function(){function t(e,r,i){if(this.type="svg",this.refreshHover=$N(),this.configLayer=$N(),this.storage=r,this._opts=i=Ce({},i),this.root=e,this._id="zr"+OSe++,this._oldVNode=PN(i.width,i.height),e&&!i.ssr){var n=this._viewport=document.createElement("div");n.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=_Q("svg");nF(null,this._oldVNode),n.appendChild(a),e.appendChild(n)}this.resize(i.width,i.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var e=this.renderToVNode({willUpdate:!0});e.attrs.style="position:absolute;left:0;top:0;user-select:none",LSe(this._oldVNode,e),this._oldVNode=e}},t.prototype.renderOneToVNode=function(e){return HN(e,lw(this._id))},t.prototype.renderToVNode=function(e){e=e||{};var r=this.storage.getDisplayList(!0),i=this._width,n=this._height,a=lw(this._id);a.animation=e.animation,a.willUpdate=e.willUpdate,a.compress=e.compress,a.emphasis=e.emphasis,a.ssr=this._opts.ssr;var s=[],o=this._bgVNode=NSe(i,n,this._backgroundColor,a);o&&s.push(o);var u=e.compress?null:this._mainVNode=ji("g","main",{},[]);this._paintList(r,a,u?u.children:s),u&&s.push(u);var l=Ie(kt(a.defs),function(f){return a.defs[f]});if(l.length&&s.push(ji("defs","defs",{},l)),e.animation){var c=gSe(a.cssNodes,a.cssAnims,{newline:!0});if(c){var h=ji("style","stl",{},[],c);s.push(h)}}return PN(i,n,s,e.useViewBox)},t.prototype.renderToString=function(e){return e=e||{},eF(this.renderToVNode({animation:gt(e.cssAnimation,!0),emphasis:gt(e.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:gt(e.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(e,r,i){for(var n=e.length,a=[],s=0,o,u,l=0,c=0;c<n;c++){var h=e[c];if(!h.invisible){var f=h.__clipPaths,d=f&&f.length||0,p=u&&u.length||0,g=void 0;for(g=Math.max(d-1,p-1);g>=0&&!(f&&u&&f[g]===u[g]);g--);for(var v=p-1;v>g;v--)s--,o=a[s-1];for(var m=g+1;m<d;m++){var y={};FSe(f[m],y,r);var _=ji("g","clip-g-"+l++,y,[]);(o?o.children:i).push(_),a[s++]=_,o=_}u=f;var x=HN(h,r);x&&(o?o.children:i).push(x)}}},t.prototype.resize=function(e,r){var i=this._opts,n=this.root,a=this._viewport;if(e!=null&&(i.width=e),r!=null&&(i.height=r),n&&a&&(a.style.display="none",e=Md(n,0,i),r=Md(n,1,i),a.style.display=""),this._width!==e||this._height!==r){if(this._width=e,this._height=r,a){var s=a.style;s.width=e+"px",s.height=r+"px"}if(t9(this._backgroundColor))this.refresh();else{var o=this._svgDom;o&&(o.setAttribute("width",e),o.setAttribute("height",r));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",e),u.setAttribute("height",r))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(e){var r=this.renderToString(),i="data:image/svg+xml;";return e?(r=K_e(r),r&&i+"base64,"+r):i+"charset=UTF-8,"+encodeURIComponent(r)},t}();function $N(t){return function(){}}function NSe(t,e,r,i){var n;if(r&&r!=="none")if(n=ji("rect","bg",{width:t,height:e,x:"0",y:"0"}),JX(r))TQ({fill:r},n.attrs,"fill",i);else if(t9(r))AQ({style:{fill:r},dirty:gi,getBoundingRect:function(){return{width:t,height:e}}},n.attrs,"fill",i);else{var a=w2(r),s=a.color,o=a.opacity;n.attrs.fill=s,o<1&&(n.attrs["fill-opacity"]=o)}return n}function kSe(t){t.registerPainter("svg",RSe)}function WN(t,e,r){var i=Oc.createCanvas(),n=e.getWidth(),a=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left="0",s.top="0",s.width=n+"px",s.height=a+"px",i.setAttribute("data-zr-dom-id",t)),i.width=n*r,i.height=a*r,i}var jS=function(t){ce(e,t);function e(r,i,n){var a=t.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null;var s;n=n||y3,typeof r=="string"?s=WN(r,i,n):lt(r)&&(s=r,r=s.id),a.id=r,a.dom=s;var o=s.style;return o&&(LX(s),s.onselectstart=function(){return!1},o.padding="0",o.margin="0",o.borderWidth="0"),a.painter=i,a.dpr=n,a}return e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=WN("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},e.prototype.createRepaintRects=function(r,i,n,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var s=[],o=this.maxRepaintRectCount,u=!1,l=new Et(0,0,0,0);function c(y){if(!(!y.isFinite()||y.isZero()))if(s.length===0){var _=new Et(0,0,0,0);_.copy(y),s.push(_)}else{for(var x=!1,b=1/0,C=0,E=0;E<s.length;++E){var A=s[E];if(A.intersect(y)){var S=new Et(0,0,0,0);S.copy(A),S.union(y),s[E]=S,x=!0;break}else if(u){l.copy(y),l.union(A);var T=y.width*y.height,D=A.width*A.height,F=l.width*l.height,B=F-T-D;B<b&&(b=B,C=E)}}if(u&&(s[C].union(y),x=!0),!x){var _=new Et(0,0,0,0);_.copy(y),s.push(_)}u||(u=s.length>=o)}}for(var h=this.__startIndex;h<this.__endIndex;++h){var f=r[h];if(f){var d=f.shouldBePainted(n,a,!0,!0),p=f.__isRendered&&(f.__dirty&ou||!d)?f.getPrevPaintRect():null;p&&c(p);var g=d&&(f.__dirty&ou||!f.__isRendered)?f.getPaintRect():null;g&&c(g)}}for(var h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f=i[h],d=f&&f.shouldBePainted(n,a,!0,!0);if(f&&(!d||!f.__zr)&&f.__isRendered){var p=f.getPrevPaintRect();p&&c(p)}}var v;do{v=!1;for(var h=0;h<s.length;){if(s[h].isZero()){s.splice(h,1);continue}for(var m=h+1;m<s.length;)s[h].intersect(s[m])?(v=!0,s[h].union(s[m]),s.splice(m,1)):m++;h++}}while(v);return this._paintRects=s,s},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(r,i){var n=this.dpr,a=this.dom,s=a.style,o=this.domBack;s&&(s.width=r+"px",s.height=i+"px"),a.width=r*n,a.height=i*n,o&&(o.width=r*n,o.height=i*n,n!==1&&this.ctxBack.scale(n,n))},e.prototype.clear=function(r,i,n){var a=this.dom,s=this.ctx,o=a.width,u=a.height;i=i||this.clearColor;var l=this.motionBlur&&!r,c=this.lastFrameAlpha,h=this.dpr,f=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,o/h,u/h));var d=this.domBack;function p(g,v,m,y){if(s.clearRect(g,v,m,y),i&&i!=="transparent"){var _=void 0;if(pb(i)){var x=i.global||i.__width===m&&i.__height===y;_=x&&i.__canvasGradient||Q8(s,i,{x:0,y:0,width:m,height:y}),i.__canvasGradient=_,i.__width=m,i.__height=y}else n_e(i)&&(i.scaleX=i.scaleX||h,i.scaleY=i.scaleY||h,_=ew(s,i,{dirty:function(){f.setUnpainted(),f.painter.refresh()}}));s.save(),s.fillStyle=_||i,s.fillRect(g,v,m,y),s.restore()}l&&(s.save(),s.globalAlpha=c,s.drawImage(d,g,v,m,y),s.restore())}!n||l?p(0,0,o,u):n.length&&G(n,function(g){p(g.x*h,g.y*h,g.width*h,g.height*h)})},e}(Us),YN=1e5,L0=314159,S_=.01,zSe=.001;function HSe(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function GSe(t,e){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var USe=function(){function t(e,r,i,n){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!e.nodeName||e.nodeName.toUpperCase()==="CANVAS";this._opts=i=Ce({},i||{}),this.dpr=i.devicePixelRatio||y3,this._singleCanvas=a,this.root=e;var s=e.style;s&&(LX(e),e.innerHTML=""),this.storage=r;var o=this._zlevelList;this._prevDisplayList=[];var u=this._layers;if(a){var c=e,h=c.width,f=c.height;i.width!=null&&(h=i.width),i.height!=null&&(f=i.height),this.dpr=i.devicePixelRatio||1,c.width=h*this.dpr,c.height=f*this.dpr,this._width=h,this._height=f;var d=new jS(c,this,this.dpr);d.__builtin__=!0,d.initContext(),u[L0]=d,d.zlevel=L0,o.push(L0),this._domRoot=e}else{this._width=Md(e,0,i),this._height=Md(e,1,i);var l=this._domRoot=GSe(this._width,this._height);e.appendChild(l)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var e=this.getViewportRoot();if(e)return{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}},t.prototype.refresh=function(e){var r=this.storage.getDisplayList(!0),i=this._prevDisplayList,n=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,i,e,this._redrawId);for(var a=0;a<n.length;a++){var s=n[a],o=this._layers[s];if(!o.__builtin__&&o.refresh){var u=a===0?this._backgroundColor:null;o.refresh(u)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(e){var r=e.length,i=this._hoverlayer;if(i&&i.clear(),!!r){for(var n={inHover:!0,viewWidth:this._width,viewHeight:this._height},a,s=0;s<r;s++){var o=e[s];o.__inHover&&(i||(i=this._hoverlayer=this.getLayer(YN)),a||(a=i.ctx,a.save()),vh(a,o,n,s===r-1))}a&&a.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(YN)},t.prototype.paintOne=function(e,r){Gb(e,r)},t.prototype._paintList=function(e,r,i,n){if(this._redrawId===n){i=i||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,r,i),s=a.finished,o=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),o&&this._paintHoverList(e),s)this.eachLayer(function(l){l.afterBrush&&l.afterBrush()});else{var u=this;Xh(function(){u._paintList(e,r,i,n)})}}},t.prototype._compositeManually=function(){var e=this.getLayer(L0).ctx,r=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,r,i),this.eachBuiltinLayer(function(n){n.virtual&&e.drawImage(n.dom,0,0,r,i)})},t.prototype._doPaintList=function(e,r,i){for(var n=this,a=[],s=this._opts.useDirtyRect,o=0;o<this._zlevelList.length;o++){var u=this._zlevelList[o],l=this._layers[u];l.__builtin__&&l!==this._hoverlayer&&(l.__dirty||i)&&a.push(l)}for(var c=!0,h=!1,f=function(g){var v=a[g],m=v.ctx,y=s&&v.createRepaintRects(e,r,d._width,d._height),_=i?v.__startIndex:v.__drawIndex,x=!i&&v.incremental&&Date.now,b=x&&Date.now(),C=v.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(v.__startIndex===v.__endIndex)v.clear(!1,C,y);else if(_===v.__startIndex){var E=e[_];(!E.incremental||!E.notClear||i)&&v.clear(!1,C,y)}_===-1&&(console.error("For some unknown reason. drawIndex is -1"),_=v.__startIndex);var A,S=function(B){var O={inHover:!1,allClipped:!1,prevEl:null,viewWidth:n._width,viewHeight:n._height};for(A=_;A<v.__endIndex;A++){var M=e[A];if(M.__inHover&&(h=!0),n._doPaintEl(M,v,s,B,O,A===v.__endIndex-1),x){var R=Date.now()-b;if(R>15)break}}O.prevElClipPaths&&m.restore()};if(y)if(y.length===0)A=v.__endIndex;else for(var T=d.dpr,D=0;D<y.length;++D){var F=y[D];m.save(),m.beginPath(),m.rect(F.x*T,F.y*T,F.width*T,F.height*T),m.clip(),S(F),m.restore()}else m.save(),S(),m.restore();v.__drawIndex=A,v.__drawIndex<v.__endIndex&&(c=!1)},d=this,p=0;p<a.length;p++)f(p);return Lt.wxa&&G(this._layers,function(g){g&&g.ctx&&g.ctx.draw&&g.ctx.draw()}),{finished:c,needsRefreshHover:h}},t.prototype._doPaintEl=function(e,r,i,n,a,s){var o=r.ctx;if(i){var u=e.getPaintRect();(!n||u&&u.intersect(n))&&(vh(o,e,a,s),e.setPrevPaintRect(u))}else vh(o,e,a,s)},t.prototype.getLayer=function(e,r){this._singleCanvas&&!this._needsManuallyCompositing&&(e=L0);var i=this._layers[e];return i||(i=new jS("zr_"+e,this,this.dpr),i.zlevel=e,i.__builtin__=!0,this._layerConfig[e]?et(i,this._layerConfig[e],!0):this._layerConfig[e-S_]&&et(i,this._layerConfig[e-S_],!0),r&&(i.virtual=r),this.insertLayer(e,i),i.initContext()),i},t.prototype.insertLayer=function(e,r){var i=this._layers,n=this._zlevelList,a=n.length,s=this._domRoot,o=null,u=-1;if(!i[e]&&HSe(r)){if(a>0&&e>n[0]){for(u=0;u<a-1&&!(n[u]<e&&n[u+1]>e);u++);o=i[n[u]]}if(n.splice(u+1,0,e),i[e]=r,!r.virtual)if(o){var l=o.dom;l.nextSibling?s.insertBefore(r.dom,l.nextSibling):s.appendChild(r.dom)}else s.firstChild?s.insertBefore(r.dom,s.firstChild):s.appendChild(r.dom);r.painter||(r.painter=this)}},t.prototype.eachLayer=function(e,r){for(var i=this._zlevelList,n=0;n<i.length;n++){var a=i[n];e.call(r,this._layers[a],a)}},t.prototype.eachBuiltinLayer=function(e,r){for(var i=this._zlevelList,n=0;n<i.length;n++){var a=i[n],s=this._layers[a];s.__builtin__&&e.call(r,s,a)}},t.prototype.eachOtherLayer=function(e,r){for(var i=this._zlevelList,n=0;n<i.length;n++){var a=i[n],s=this._layers[a];s.__builtin__||e.call(r,s,a)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(e){this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1});function r(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this._singleCanvas)for(var i=1;i<e.length;i++){var n=e[i];if(n.zlevel!==e[i-1].zlevel||n.incremental){this._needsManuallyCompositing=!0;break}}var a=null,s=0,o,u;for(u=0;u<e.length;u++){var n=e[u],l=n.zlevel,c=void 0;o!==l&&(o=l,s=0),n.incremental?(c=this.getLayer(l+zSe,this._needsManuallyCompositing),c.incremental=!0,s=1):c=this.getLayer(l+(s>0?S_:0),this._needsManuallyCompositing),c.__builtin__||W7("ZLevel "+l+" has been used by unkown layer "+c.id),c!==a&&(c.__used=!0,c.__startIndex!==u&&(c.__dirty=!0),c.__startIndex=u,c.incremental?c.__drawIndex=-1:c.__drawIndex=u,r(u),a=c),n.__dirty&ou&&!n.__inHover&&(c.__dirty=!0,c.incremental&&c.__drawIndex<0&&(c.__drawIndex=u))}r(u),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(e){e.clear()},t.prototype.setBackgroundColor=function(e){this._backgroundColor=e,G(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(e,r){if(r){var i=this._layerConfig;i[e]?et(i[e],r,!0):i[e]=r;for(var n=0;n<this._zlevelList.length;n++){var a=this._zlevelList[n];if(a===e||a===e+S_){var s=this._layers[a];et(s,i[e],!0)}}}},t.prototype.delLayer=function(e){var r=this._layers,i=this._zlevelList,n=r[e];n&&(n.dom.parentNode.removeChild(n.dom),delete r[e],i.splice(wt(i,e),1))},t.prototype.resize=function(e,r){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var n=this._opts,a=this.root;if(e!=null&&(n.width=e),r!=null&&(n.height=r),e=Md(a,0,n),r=Md(a,1,n),i.style.display="",this._width!==e||r!==this._height){i.style.width=e+"px",i.style.height=r+"px";for(var s in this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(e,r);this.refresh(!0)}this._width=e,this._height=r}else{if(e==null||r==null)return;this._width=e,this._height=r,this.getLayer(L0).resize(e,r)}return this},t.prototype.clearLayer=function(e){var r=this._layers[e];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[L0].dom;var r=new jS("image",this,e.pixelRatio||this.dpr);r.initContext(),r.clear(!1,e.backgroundColor||this._backgroundColor);var i=r.ctx;if(e.pixelRatio<=this.dpr){this.refresh();var n=r.dom.width,a=r.dom.height;this.eachLayer(function(h){h.__builtin__?i.drawImage(h.dom,0,0,n,a):h.renderToCanvas&&(i.save(),h.renderToCanvas(i),i.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},o=this.storage.getDisplayList(!0),u=0,l=o.length;u<l;u++){var c=o[u];vh(i,c,s,u===l-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function IQ(t){t.registerPainter("canvas",USe)}var jSe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r){return Au(null,this,{useEncodeDefaulter:!0})},e.prototype.getLegendIcon=function(r){var i=new dt,n=vi("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);i.add(n),n.setStyle(r.lineStyle);var a=this.getData().getVisual("symbol"),s=this.getData().getVisual("symbolRotate"),o=a==="none"?"circle":a,u=r.itemHeight*.8,l=vi(o,(r.itemWidth-u)/2,(r.itemHeight-u)/2,u,u,r.itemStyle.fill);i.add(l),l.setStyle(r.itemStyle);var c=r.iconRotate==="inherit"?s:r.iconRotate||0;return l.rotation=c*Math.PI/180,l.setOrigin([r.itemWidth/2,r.itemHeight/2]),o.indexOf("empty")>-1&&(l.style.stroke=l.style.fill,l.style.fill="#fff",l.style.lineWidth=2),i},e.type="series.line",e.dependencies=["grid","polar"],e.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},e}(Kt);function Dp(t,e){var r=t.mapDimensionsAll("defaultedLabel"),i=r.length;if(i===1){var n=Ap(t,e,r[0]);return n!=null?n+"":null}else if(i){for(var a=[],s=0;s<r.length;s++)a.push(Ap(t,e,r[s]));return a.join(" ")}}function BQ(t,e){var r=t.mapDimensionsAll("defaultedLabel");if(!Te(e))return e+"";for(var i=[],n=0;n<r.length;n++){var a=t.getDimensionIndex(r[n]);a>=0&&i.push(e[a])}return i.join(" ")}var Om=function(t){ce(e,t);function e(r,i,n,a){var s=t.call(this)||this;return s.updateData(r,i,n,a),s}return e.prototype._createSymbol=function(r,i,n,a,s){this.removeAll();var o=vi(r,-1,-1,2,2,null,s);o.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),o.drift=VSe,this._symbolType=r,this.add(o)},e.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},e.prototype.getSymbolType=function(){return this._symbolType},e.prototype.getSymbolPath=function(){return this.childAt(0)},e.prototype.highlight=function(){pl(this.childAt(0))},e.prototype.downplay=function(){gl(this.childAt(0))},e.prototype.setZ=function(r,i){var n=this.childAt(0);n.zlevel=r,n.z=i},e.prototype.setDraggable=function(r,i){var n=this.childAt(0);n.draggable=r,n.cursor=!i&&r?"move":n.cursor},e.prototype.updateData=function(r,i,n,a){this.silent=!1;var s=r.getItemVisual(i,"symbol")||"circle",o=r.hostModel,u=e.getSymbolSize(r,i),l=s!==this._symbolType,c=a&&a.disableAnimation;if(l){var h=r.getItemVisual(i,"symbolKeepAspect");this._createSymbol(s,r,i,u,h)}else{var f=this.childAt(0);f.silent=!1;var d={scaleX:u[0]/2,scaleY:u[1]/2};c?f.attr(d):er(f,d,o,i),bo(f)}if(this._updateCommon(r,i,u,n,a),l){var f=this.childAt(0);if(!c){var d={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}};f.scaleX=f.scaleY=0,f.style.opacity=0,Nr(f,d,o,i)}}c&&this.childAt(0).stopAnimation("leave")},e.prototype._updateCommon=function(r,i,n,a,s){var o=this.childAt(0),u=r.hostModel,l,c,h,f,d,p,g,v,m;if(a&&(l=a.emphasisItemStyle,c=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,d=a.blurScope,g=a.labelStatesModels,v=a.hoverScale,m=a.cursorStyle,p=a.emphasisDisabled),!a||r.hasItemOption){var y=a&&a.itemModel?a.itemModel:r.getItemModel(i),_=y.getModel("emphasis");l=_.getModel("itemStyle").getItemStyle(),h=y.getModel(["select","itemStyle"]).getItemStyle(),c=y.getModel(["blur","itemStyle"]).getItemStyle(),f=_.get("focus"),d=_.get("blurScope"),p=_.get("disabled"),g=Ki(y),v=_.getShallow("scale"),m=y.getShallow("cursor")}var x=r.getItemVisual(i,"symbolRotate");o.attr("rotation",(x||0)*Math.PI/180||0);var b=Tf(r.getItemVisual(i,"symbolOffset"),n);b&&(o.x=b[0],o.y=b[1]),m&&o.attr("cursor",m);var C=r.getItemVisual(i,"style"),E=C.fill;if(o instanceof en){var A=o.style;o.useStyle(Ce({image:A.image,x:A.x,y:A.y,width:A.width,height:A.height},C))}else o.__isEmptyBrush?o.useStyle(Ce({},C)):o.useStyle(C),o.style.decal=null,o.setColor(E,s&&s.symbolInnerColor),o.style.strokeNoScale=!0;var S=r.getItemVisual(i,"liftZ"),T=this._z2;S!=null?T==null&&(this._z2=o.z2,o.z2+=S):T!=null&&(o.z2=T,this._z2=null);var D=s&&s.useNameLabel;In(o,g,{labelFetcher:u,labelDataIndex:i,defaultText:F,inheritColor:E,defaultOpacity:C.opacity});function F(M){return D?r.getName(M):Dp(r,M)}this._sizeX=n[0]/2,this._sizeY=n[1]/2;var B=o.ensureState("emphasis");B.style=l,o.ensureState("select").style=h,o.ensureState("blur").style=c;var O=v==null||v===!0?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;B.scaleX=this._sizeX*O,B.scaleY=this._sizeY*O,this.setSymbolScale(1),Zr(this,f,d,p)},e.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},e.prototype.fadeOut=function(r,i,n){var a=this.childAt(0),s=pt(this).dataIndex,o=n&&n.animation;if(this.silent=a.silent=!0,n&&n.fadeLabel){var u=a.getTextContent();u&&Nc(u,{style:{opacity:0}},i,{dataIndex:s,removeOpt:o,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Nc(a,{style:{opacity:0},scaleX:0,scaleY:0},i,{dataIndex:s,cb:r,removeOpt:o})},e.getSymbolSize=function(r,i){return _g(r.getItemVisual(i,"symbolSize"))},e}(dt);function VSe(t,e){this.parent.drift(t,e)}function VS(t,e,r,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(i.isIgnore&&i.isIgnore(r))&&!(i.clipShape&&!i.clipShape.contain(e[0],e[1]))&&t.getItemVisual(r,"symbol")!=="none"}function qN(t){return t!=null&&!lt(t)&&(t={isIgnore:t}),t||{}}function XN(t){var e=t.hostModel,r=e.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:e.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:e.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:Ki(e),cursorStyle:e.get("cursor")}}var Rm=function(){function t(e){this.group=new dt,this._SymbolCtor=e||Om}return t.prototype.updateData=function(e,r){this._progressiveEls=null,r=qN(r);var i=this.group,n=e.hostModel,a=this._data,s=this._SymbolCtor,o=r.disableAnimation,u=XN(e),l={disableAnimation:o},c=r.getSymbolPoint||function(h){return e.getItemLayout(h)};a||i.removeAll(),e.diff(a).add(function(h){var f=c(h);if(VS(e,f,h,r)){var d=new s(e,h,u,l);d.setPosition(f),e.setItemGraphicEl(h,d),i.add(d)}}).update(function(h,f){var d=a.getItemGraphicEl(f),p=c(h);if(!VS(e,p,h,r)){i.remove(d);return}var g=e.getItemVisual(h,"symbol")||"circle",v=d&&d.getSymbolType&&d.getSymbolType();if(!d||v&&v!==g)i.remove(d),d=new s(e,h,u,l),d.setPosition(p);else{d.updateData(e,h,u,l);var m={x:p[0],y:p[1]};o?d.attr(m):er(d,m,n)}i.add(d),e.setItemGraphicEl(h,d)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){i.remove(f)},n)}).execute(),this._getSymbolPoint=c,this._data=e},t.prototype.updateLayout=function(){var e=this,r=this._data;r&&r.eachItemGraphicEl(function(i,n){var a=e._getSymbolPoint(n);i.setPosition(a),i.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=XN(e),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r,i){this._progressiveEls=[],i=qN(i);function n(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}for(var a=e.start;a<e.end;a++){var s=r.getItemLayout(a);if(VS(r,s,a,i)){var o=new this._SymbolCtor(r,a,this._seriesScope);o.traverse(n),o.setPosition(s),this.group.add(o),r.setItemGraphicEl(a,o),this._progressiveEls.push(o)}}},t.prototype.eachRendered=function(e){$c(this._progressiveEls||this.group,e)},t.prototype.remove=function(e){var r=this.group,i=this._data;i&&e?i.eachItemGraphicEl(function(n){n.fadeOut(function(){r.remove(n)},i.hostModel)}):r.removeAll()},t}();function MQ(t,e,r){var i=t.getBaseAxis(),n=t.getOtherAxis(i),a=$Se(n,r),s=i.dim,o=n.dim,u=e.mapDimension(o),l=e.mapDimension(s),c=o==="x"||o==="radius"?1:0,h=Ie(t.dimensions,function(p){return e.mapDimension(p)}),f=!1,d=e.getCalculationInfo("stackResultDimension");return ml(e,h[0])&&(f=!0,h[0]=d),ml(e,h[1])&&(f=!0,h[1]=d),{dataDimsForPoint:h,valueStart:a,valueAxisDim:o,baseAxisDim:s,stacked:!!f,valueDim:u,baseDim:l,baseDataOffset:c,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function $Se(t,e){var r=0,i=t.scale.getExtent();return e==="start"?r=i[0]:e==="end"?r=i[1]:Zt(e)&&!isNaN(e)?r=e:i[0]>0?r=i[0]:i[1]<0&&(r=i[1]),r}function PQ(t,e,r,i){var n=NaN;t.stacked&&(n=r.get(r.getCalculationInfo("stackedOverDimension"),i)),isNaN(n)&&(n=t.valueStart);var a=t.baseDataOffset,s=[];return s[a]=r.get(t.baseDim,i),s[1-a]=n,e.dataToPoint(s)}function WSe(t,e){var r=[];return e.diff(t).add(function(i){r.push({cmd:"+",idx:i})}).update(function(i,n){r.push({cmd:"=",idx:n,idx1:i})}).remove(function(i){r.push({cmd:"-",idx:i})}).execute(),r}function YSe(t,e,r,i,n,a,s,o){for(var u=WSe(t,e),l=[],c=[],h=[],f=[],d=[],p=[],g=[],v=MQ(n,e,s),m=t.getLayout("points")||[],y=e.getLayout("points")||[],_=0;_<u.length;_++){var x=u[_],b=!0,C=void 0,E=void 0;switch(x.cmd){case"=":C=x.idx*2,E=x.idx1*2;var A=m[C],S=m[C+1],T=y[E],D=y[E+1];(isNaN(A)||isNaN(S))&&(A=T,S=D),l.push(A,S),c.push(T,D),h.push(r[C],r[C+1]),f.push(i[E],i[E+1]),g.push(e.getRawIndex(x.idx1));break;case"+":var F=x.idx,B=v.dataDimsForPoint,O=n.dataToPoint([e.get(B[0],F),e.get(B[1],F)]);E=F*2,l.push(O[0],O[1]),c.push(y[E],y[E+1]);var M=PQ(v,n,e,F);h.push(M[0],M[1]),f.push(i[E],i[E+1]),g.push(e.getRawIndex(F));break;case"-":b=!1}b&&(d.push(x),p.push(p.length))}p.sort(function(de,Oe){return g[de]-g[Oe]});for(var R=l.length,z=Jo(R),k=Jo(R),U=Jo(R),V=Jo(R),j=[],_=0;_<p.length;_++){var Y=p[_],te=_*2,re=Y*2;z[te]=l[re],z[te+1]=l[re+1],k[te]=c[re],k[te+1]=c[re+1],U[te]=h[re],U[te+1]=h[re+1],V[te]=f[re],V[te+1]=f[re+1],j[_]=d[Y]}return{current:z,next:k,stackedOnCurrent:U,stackedOnNext:V,status:j}}var jl=Math.min,Vl=Math.max;function Oh(t,e){return isNaN(t)||isNaN(e)}function hw(t,e,r,i,n,a,s,o,u){for(var l,c,h,f,d,p,g=r,v=0;v<i;v++){var m=e[g*2],y=e[g*2+1];if(g>=n||g<0)break;if(Oh(m,y)){if(u){g+=a;continue}break}if(g===r)t[a>0?"moveTo":"lineTo"](m,y),h=m,f=y;else{var _=m-l,x=y-c;if(_*_+x*x<.5){g+=a;continue}if(s>0){for(var b=g+a,C=e[b*2],E=e[b*2+1];C===m&&E===y&&v<i;)v++,b+=a,g+=a,C=e[b*2],E=e[b*2+1],m=e[g*2],y=e[g*2+1],_=m-l,x=y-c;var A=v+1;if(u)for(;Oh(C,E)&&A<i;)A++,b+=a,C=e[b*2],E=e[b*2+1];var S=.5,T=0,D=0,F=void 0,B=void 0;if(A>=i||Oh(C,E))d=m,p=y;else{T=C-l,D=E-c;var O=m-l,M=C-m,R=y-c,z=E-y,k=void 0,U=void 0;if(o==="x"){k=Math.abs(O),U=Math.abs(M);var V=T>0?1:-1;d=m-V*k*s,p=y,F=m+V*U*s,B=y}else if(o==="y"){k=Math.abs(R),U=Math.abs(z);var j=D>0?1:-1;d=m,p=y-j*k*s,F=m,B=y+j*U*s}else k=Math.sqrt(O*O+R*R),U=Math.sqrt(M*M+z*z),S=U/(U+k),d=m-T*s*(1-S),p=y-D*s*(1-S),F=m+T*s*S,B=y+D*s*S,F=jl(F,Vl(C,m)),B=jl(B,Vl(E,y)),F=Vl(F,jl(C,m)),B=Vl(B,jl(E,y)),T=F-m,D=B-y,d=m-T*k/U,p=y-D*k/U,d=jl(d,Vl(l,m)),p=jl(p,Vl(c,y)),d=Vl(d,jl(l,m)),p=Vl(p,jl(c,y)),T=m-d,D=y-p,F=m+T*U/k,B=y+D*U/k}t.bezierCurveTo(h,f,d,p,m,y),h=F,f=B}else t.lineTo(m,y)}l=m,c=y,g+=a}return v}var LQ=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),qSe=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="ec-polyline",i}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new LQ},e.prototype.buildPath=function(r,i){var n=i.points,a=0,s=n.length/2;if(i.connectNulls){for(;s>0&&Oh(n[s*2-2],n[s*2-1]);s--);for(;a<s&&Oh(n[a*2],n[a*2+1]);a++);}for(;a<s;)a+=hw(r,n,a,s,s,1,i.smooth,i.smoothMonotone,i.connectNulls)+1},e.prototype.getPointOn=function(r,i){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var n=this.path,a=n.data,s=_u.CMD,o,u,l=i==="x",c=[],h=0;h<a.length;){var f=a[h++],d=void 0,p=void 0,g=void 0,v=void 0,m=void 0,y=void 0,_=void 0;switch(f){case s.M:o=a[h++],u=a[h++];break;case s.L:if(d=a[h++],p=a[h++],_=l?(r-o)/(d-o):(r-u)/(p-u),_<=1&&_>=0){var x=l?(p-u)*_+u:(d-o)*_+o;return l?[r,x]:[x,r]}o=d,u=p;break;case s.C:d=a[h++],p=a[h++],g=a[h++],v=a[h++],m=a[h++],y=a[h++];var b=l?p3(o,d,g,m,r,c):p3(u,p,v,y,r,c);if(b>0)for(var C=0;C<b;C++){var E=c[C];if(E<=1&&E>=0){var x=l?zi(u,p,v,y,E):zi(o,d,g,m,E);return l?[r,x]:[x,r]}}o=m,u=y;break}}},e}(Pt),XSe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(LQ),OQ=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="ec-polygon",i}return e.prototype.getDefaultShape=function(){return new XSe},e.prototype.buildPath=function(r,i){var n=i.points,a=i.stackedOnPoints,s=0,o=n.length/2,u=i.smoothMonotone;if(i.connectNulls){for(;o>0&&Oh(n[o*2-2],n[o*2-1]);o--);for(;s<o&&Oh(n[s*2],n[s*2+1]);s++);}for(;s<o;){var l=hw(r,n,s,o,o,1,i.smooth,u,i.connectNulls);hw(r,a,s+l-1,l,o,-1,i.stackedOnSmooth,u,i.connectNulls),s+=l+1,r.closePath()}},e}(Pt);function RQ(t,e,r,i,n){var a=t.getArea(),s=a.x,o=a.y,u=a.width,l=a.height,c=r.get(["lineStyle","width"])||0;s-=c/2,o-=c/2,u+=c,l+=c,u=Math.ceil(u),s!==Math.floor(s)&&(s=Math.floor(s),u++);var h=new Gt({shape:{x:s,y:o,width:u,height:l}});if(e){var f=t.getBaseAxis(),d=f.isHorizontal(),p=f.inverse;d?(p&&(h.shape.x+=u),h.shape.width=0):(p||(h.shape.y+=l),h.shape.height=0);var g=ot(n)?function(v){n(v,h)}:null;Nr(h,{shape:{width:u,height:l,x:s,y:o}},r,null,i,g)}return h}function NQ(t,e,r){var i=t.getArea(),n=Rr(i.r0,1),a=Rr(i.r,1),s=new da({shape:{cx:Rr(t.cx,1),cy:Rr(t.cy,1),r0:n,r:a,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});if(e){var o=t.getBaseAxis().dim==="angle";o?s.shape.endAngle=i.startAngle:s.shape.r=n,Nr(s,{shape:{endAngle:i.endAngle,r:a}},r)}return s}function Nm(t,e,r,i,n){if(t){if(t.type==="polar")return NQ(t,e,r);if(t.type==="cartesian2d")return RQ(t,e,r,i,n)}else return null;return null}function wf(t,e){return t.type===e}function ZN(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return;return!0}}function KN(t){for(var e=1/0,r=1/0,i=-1/0,n=-1/0,a=0;a<t.length;){var s=t[a++],o=t[a++];isNaN(s)||(e=Math.min(s,e),i=Math.max(s,i)),isNaN(o)||(r=Math.min(o,r),n=Math.max(o,n))}return[[e,r],[i,n]]}function JN(t,e){var r=KN(t),i=r[0],n=r[1],a=KN(e),s=a[0],o=a[1];return Math.max(Math.abs(i[0]-s[0]),Math.abs(i[1]-s[1]),Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]))}function QN(t){return Zt(t)?t:t?.5:0}function ZSe(t,e,r){if(!r.valueDim)return[];for(var i=e.count(),n=Jo(i*2),a=0;a<i;a++){var s=PQ(r,t,e,a);n[a*2]=s[0],n[a*2+1]=s[1]}return n}function $l(t,e,r,i,n){var a=r.getBaseAxis(),s=a.dim==="x"||a.dim==="radius"?0:1,o=[],u=0,l=[],c=[],h=[],f=[];if(n){for(u=0;u<t.length;u+=2){var d=e||t;!isNaN(d[u])&&!isNaN(d[u+1])&&f.push(t[u],t[u+1])}t=f}for(u=0;u<t.length-2;u+=2)switch(h[0]=t[u+2],h[1]=t[u+3],c[0]=t[u],c[1]=t[u+1],o.push(c[0],c[1]),i){case"end":l[s]=h[s],l[1-s]=c[1-s],o.push(l[0],l[1]);break;case"middle":var p=(c[s]+h[s])/2,g=[];l[s]=g[s]=p,l[1-s]=c[1-s],g[1-s]=h[1-s],o.push(l[0],l[1]),o.push(g[0],g[1]);break;default:l[s]=c[s],l[1-s]=h[1-s],o.push(l[0],l[1])}return o.push(t[u++],t[u++]),o}function KSe(t,e){var r=[],i=t.length,n,a;function s(c,h,f){var d=c.coord,p=(f-d)/(h.coord-d),g=j_e(p,[c.color,h.color]);return{coord:f,color:g}}for(var o=0;o<i;o++){var u=t[o],l=u.coord;if(l<0)n=u;else if(l>e){a?r.push(s(a,u,e)):n&&r.push(s(n,u,0),s(n,u,e));break}else n&&(r.push(s(n,u,0)),n=null),r.push(u),a=u}return r}function JSe(t,e,r){var i=t.getVisual("visualMeta");if(!(!i||!i.length||!t.count())&&e.type==="cartesian2d"){for(var n,a,s=i.length-1;s>=0;s--){var o=t.getDimensionInfo(i[s].dimension);if(n=o&&o.coordDim,n==="x"||n==="y"){a=i[s];break}}if(a){var u=e.getAxis(n),l=Ie(a.stops,function(_){return{coord:u.toGlobalCoord(u.dataToCoord(_.value)),color:_.color}}),c=l.length,h=a.outerColors.slice();c&&l[0].coord>l[c-1].coord&&(l.reverse(),h.reverse());var f=KSe(l,n==="x"?r.getWidth():r.getHeight()),d=f.length;if(!d&&c)return l[0].coord<0?h[1]?h[1]:l[c-1].color:h[0]?h[0]:l[0].color;var p=10,g=f[0].coord-p,v=f[d-1].coord+p,m=v-g;if(m<.001)return"transparent";G(f,function(_){_.offset=(_.coord-g)/m}),f.push({offset:d?f[d-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:d?f[0].offset:.5,color:h[0]||"transparent"});var y=new Fm(0,0,0,0,f,!0);return y[n]=g,y[n+"2"]=v,y}}}function QSe(t,e,r){var i=t.get("showAllSymbol"),n=i==="auto";if(!(i&&!n)){var a=r.getAxesByScale("ordinal")[0];if(a&&!(n&&e6e(a,e))){var s=e.mapDimension(a.dim),o={};return G(a.getViewLabels(),function(u){var l=a.scale.getRawOrdinalNumber(u.tickValue);o[l]=1}),function(u){return!o.hasOwnProperty(e.get(s,u))}}}}function e6e(t,e){var r=t.getExtent(),i=Math.abs(r[1]-r[0])/t.scale.count();isNaN(i)&&(i=0);for(var n=e.count(),a=Math.max(1,Math.round(n/5)),s=0;s<n;s+=a)if(Om.getSymbolSize(e,s)[t.isHorizontal()?1:0]*1.5>i)return!1;return!0}function t6e(t,e){return isNaN(t)||isNaN(e)}function r6e(t){for(var e=t.length/2;e>0&&t6e(t[e*2-2],t[e*2-1]);e--);return e-1}function ek(t,e){return[t[e*2],t[e*2+1]]}function i6e(t,e,r){for(var i=t.length/2,n=r==="x"?0:1,a,s,o=0,u=-1,l=0;l<i;l++)if(s=t[l*2+n],!(isNaN(s)||isNaN(t[l*2+1-n]))){if(l===0){a=s;continue}if(a<=e&&s>=e||a>=e&&s<=e){u=l;break}o=l,a=s}return{range:[o,u],t:(e-a)/(s-a)}}function kQ(t){if(t.get(["endLabel","show"]))return!0;for(var e=0;e<fa.length;e++)if(t.get([fa[e],"endLabel","show"]))return!0;return!1}function $S(t,e,r,i){if(wf(e,"cartesian2d")){var n=i.getModel("endLabel"),a=n.get("valueAnimation"),s=i.getData(),o={lastFrameIndex:0},u=kQ(i)?function(d,p){t._endLabelOnDuring(d,p,s,o,a,n,e)}:null,l=e.getBaseAxis().isHorizontal(),c=RQ(e,r,i,function(){var d=t._endLabel;d&&r&&o.originalX!=null&&d.attr({x:o.originalX,y:o.originalY})},u);if(!i.get("clip",!0)){var h=c.shape,f=Math.max(h.width,h.height);l?(h.y-=f,h.height+=f*2):(h.x-=f,h.width+=f*2)}return u&&u(1,c),c}else return NQ(e,r,i)}function n6e(t,e){var r=e.getBaseAxis(),i=r.isHorizontal(),n=r.inverse,a=i?n?"right":"left":"center",s=i?"middle":n?"top":"bottom";return{normal:{align:t.get("align")||a,verticalAlign:t.get("verticalAlign")||s}}}var a6e=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(){var r=new dt,i=new Rm;this.group.add(i.group),this._symbolDraw=i,this._lineGroup=r,this._changePolyState=Je(this._changePolyState,this)},e.prototype.render=function(r,i,n){var a=r.coordinateSystem,s=this.group,o=r.getData(),u=r.getModel("lineStyle"),l=r.getModel("areaStyle"),c=o.getLayout("points")||[],h=a.type==="polar",f=this._coordSys,d=this._symbolDraw,p=this._polyline,g=this._polygon,v=this._lineGroup,m=!i.ssr&&r.get("animation"),y=!l.isEmpty(),_=l.get("origin"),x=MQ(a,o,_),b=y&&ZSe(a,o,x),C=r.get("showSymbol"),E=r.get("connectNulls"),A=C&&!h&&QSe(r,o,a),S=this._data;S&&S.eachItemGraphicEl(function(de,Oe){de.__temp&&(s.remove(de),S.setItemGraphicEl(Oe,null))}),C||d.remove(),s.add(v);var T=h?!1:r.get("step"),D;a&&a.getArea&&r.get("clip",!0)&&(D=a.getArea(),D.width!=null?(D.x-=.1,D.y-=.1,D.width+=.2,D.height+=.2):D.r0&&(D.r0-=.5,D.r+=.5)),this._clipShapeForSymbol=D;var F=JSe(o,a,n)||o.getVisual("style")[o.getVisual("drawType")];if(!(p&&f.type===a.type&&T===this._step))C&&d.updateData(o,{isIgnore:A,clipShape:D,disableAnimation:!0,getSymbolPoint:function(de){return[c[de*2],c[de*2+1]]}}),m&&this._initSymbolLabelAnimation(o,a,D),T&&(b&&(b=$l(b,c,a,T,E)),c=$l(c,null,a,T,E)),p=this._newPolyline(c),y?g=this._newPolygon(c,b):g&&(v.remove(g),g=this._polygon=null),h||this._initOrUpdateEndLabel(r,a,ef(F)),v.setClipPath($S(this,a,!0,r));else{y&&!g?g=this._newPolygon(c,b):g&&!y&&(v.remove(g),g=this._polygon=null),h||this._initOrUpdateEndLabel(r,a,ef(F));var B=v.getClipPath();if(B){var O=$S(this,a,!1,r);Nr(B,{shape:O.shape},r)}else v.setClipPath($S(this,a,!0,r));C&&d.updateData(o,{isIgnore:A,clipShape:D,disableAnimation:!0,getSymbolPoint:function(de){return[c[de*2],c[de*2+1]]}}),(!ZN(this._stackedOnPoints,b)||!ZN(this._points,c))&&(m?this._doUpdateAnimation(o,b,a,n,T,_,E):(T&&(b&&(b=$l(b,c,a,T,E)),c=$l(c,null,a,T,E)),p.setShape({points:c}),g&&g.setShape({points:c,stackedOnPoints:b})))}var M=r.getModel("emphasis"),R=M.get("focus"),z=M.get("blurScope"),k=M.get("disabled");if(p.useStyle(st(u.getLineStyle(),{fill:"none",stroke:F,lineJoin:"bevel"})),Fn(p,r,"lineStyle"),p.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var U=p.getState("emphasis").style;U.lineWidth=+p.style.lineWidth+1}pt(p).seriesIndex=r.seriesIndex,Zr(p,R,z,k);var V=QN(r.get("smooth")),j=r.get("smoothMonotone");if(p.setShape({smooth:V,smoothMonotone:j,connectNulls:E}),g){var Y=o.getCalculationInfo("stackedOnSeries"),te=0;g.useStyle(st(l.getAreaStyle(),{fill:F,opacity:.7,lineJoin:"bevel",decal:o.getVisual("style").decal})),Y&&(te=QN(Y.get("smooth"))),g.setShape({smooth:V,stackedOnSmooth:te,smoothMonotone:j,connectNulls:E}),Fn(g,r,"areaStyle"),pt(g).seriesIndex=r.seriesIndex,Zr(g,R,z,k)}var re=this._changePolyState;o.eachItemGraphicEl(function(de){de&&(de.onHoverStateChange=re)}),this._polyline.onHoverStateChange=re,this._data=o,this._coordSys=a,this._stackedOnPoints=b,this._points=c,this._step=T,this._valueOrigin=_,r.get("triggerLineEvent")&&(this.packEventData(r,p),g&&this.packEventData(r,g))},e.prototype.packEventData=function(r,i){pt(i).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},e.prototype.highlight=function(r,i,n,a){var s=r.getData(),o=Kh(s,a);if(this._changePolyState("emphasis"),!(o instanceof Array)&&o!=null&&o>=0){var u=s.getLayout("points"),l=s.getItemGraphicEl(o);if(!l){var c=u[o*2],h=u[o*2+1];if(isNaN(c)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(c,h))return;var f=r.get("zlevel")||0,d=r.get("z")||0;l=new Om(s,o),l.x=c,l.y=h,l.setZ(f,d);var p=l.getSymbolPath().getTextContent();p&&(p.zlevel=f,p.z=d,p.z2=this._polyline.z2+1),l.__temp=!0,s.setItemGraphicEl(o,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Wt.prototype.highlight.call(this,r,i,n,a)},e.prototype.downplay=function(r,i,n,a){var s=r.getData(),o=Kh(s,a);if(this._changePolyState("normal"),o!=null&&o>=0){var u=s.getItemGraphicEl(o);u&&(u.__temp?(s.setItemGraphicEl(o,null),this.group.remove(u)):u.downplay())}else Wt.prototype.downplay.call(this,r,i,n,a)},e.prototype._changePolyState=function(r){var i=this._polygon;b3(this._polyline,r),i&&b3(i,r)},e.prototype._newPolyline=function(r){var i=this._polyline;return i&&this._lineGroup.remove(i),i=new qSe({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(i),this._polyline=i,i},e.prototype._newPolygon=function(r,i){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new OQ({shape:{points:r,stackedOnPoints:i},segmentIgnoreThreshold:2}),this._lineGroup.add(n),this._polygon=n,n},e.prototype._initSymbolLabelAnimation=function(r,i,n){var a,s,o=i.getBaseAxis(),u=o.inverse;i.type==="cartesian2d"?(a=o.isHorizontal(),s=!1):i.type==="polar"&&(a=o.dim==="angle",s=!0);var l=r.hostModel,c=l.get("animationDuration");ot(c)&&(c=c(null));var h=l.get("animationDelay")||0,f=ot(h)?h(null):h;r.eachItemGraphicEl(function(d,p){var g=d;if(g){var v=[d.x,d.y],m=void 0,y=void 0,_=void 0;if(n)if(s){var x=n,b=i.pointToCoord(v);a?(m=x.startAngle,y=x.endAngle,_=-b[1]/180*Math.PI):(m=x.r0,y=x.r,_=b[0])}else{var C=n;a?(m=C.x,y=C.x+C.width,_=d.x):(m=C.y+C.height,y=C.y,_=d.y)}var E=y===m?0:(_-m)/(y-m);u&&(E=1-E);var A=ot(h)?h(p):c*E+f,S=g.getSymbolPath(),T=S.getTextContent();g.attr({scaleX:0,scaleY:0}),g.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:A}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:A}),S.disableLabelAnimation=!0}})},e.prototype._initOrUpdateEndLabel=function(r,i,n){var a=r.getModel("endLabel");if(kQ(r)){var s=r.getData(),o=this._polyline,u=s.getLayout("points");if(!u){o.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new zt({z2:200}),l.ignoreClip=!0,o.setTextContent(this._endLabel),o.disableLabelAnimation=!0);var c=r6e(u);c>=0&&(In(o,Ki(r,"endLabel"),{inheritColor:n,labelFetcher:r,labelDataIndex:c,defaultText:function(h,f,d){return d!=null?BQ(s,d):Dp(s,h)},enableTextSetter:!0},n6e(a,i)),o.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},e.prototype._endLabelOnDuring=function(r,i,n,a,s,o,u){var l=this._endLabel,c=this._polyline;if(l){r<1&&a.originalX==null&&(a.originalX=l.x,a.originalY=l.y);var h=n.getLayout("points"),f=n.hostModel,d=f.get("connectNulls"),p=o.get("precision"),g=o.get("distance")||0,v=u.getBaseAxis(),m=v.isHorizontal(),y=v.inverse,_=i.shape,x=y?m?_.x:_.y+_.height:m?_.x+_.width:_.y,b=(m?g:0)*(y?-1:1),C=(m?0:-g)*(y?-1:1),E=m?"x":"y",A=i6e(h,x,E),S=A.range,T=S[1]-S[0],D=void 0;if(T>=1){if(T>1&&!d){var F=ek(h,S[0]);l.attr({x:F[0]+b,y:F[1]+C}),s&&(D=f.getRawValue(S[0]))}else{var F=c.getPointOn(x,E);F&&l.attr({x:F[0]+b,y:F[1]+C});var B=f.getRawValue(S[0]),O=f.getRawValue(S[1]);s&&(D=_Z(n,p,B,O,A.t))}a.lastFrameIndex=S[0]}else{var M=r===1||a.lastFrameIndex>0?S[0]:0,F=ek(h,M);s&&(D=f.getRawValue(M)),l.attr({x:F[0]+b,y:F[1]+C})}if(s){var R=hg(l);typeof R.setLabelText=="function"&&R.setLabelText(D)}}},e.prototype._doUpdateAnimation=function(r,i,n,a,s,o,u){var l=this._polyline,c=this._polygon,h=r.hostModel,f=YSe(this._data,r,this._stackedOnPoints,i,this._coordSys,n,this._valueOrigin),d=f.current,p=f.stackedOnCurrent,g=f.next,v=f.stackedOnNext;if(s&&(p=$l(f.stackedOnCurrent,f.current,n,s,u),d=$l(f.current,null,n,s,u),v=$l(f.stackedOnNext,f.next,n,s,u),g=$l(f.next,null,n,s,u)),JN(d,g)>3e3||c&&JN(p,v)>3e3){l.stopAnimation(),l.setShape({points:g}),c&&(c.stopAnimation(),c.setShape({points:g,stackedOnPoints:v}));return}l.shape.__points=f.current,l.shape.points=d;var m={shape:{points:g}};f.current!==d&&(m.shape.__points=f.next),l.stopAnimation(),er(l,m,h),c&&(c.setShape({points:d,stackedOnPoints:p}),c.stopAnimation(),er(c,{shape:{stackedOnPoints:v}},h),l.shape.points!==c.shape.points&&(c.shape.points=l.shape.points));for(var y=[],_=f.status,x=0;x<_.length;x++){var b=_[x].cmd;if(b==="="){var C=r.getItemGraphicEl(_[x].idx1);C&&y.push({el:C,ptIdx:x})}}l.animators&&l.animators.length&&l.animators[0].during(function(){c&&c.dirtyShape();for(var E=l.shape.__points,A=0;A<y.length;A++){var S=y[A].el,T=y[A].ptIdx*2;S.x=E[T],S.y=E[T+1],S.markRedraw()}})},e.prototype.remove=function(r){var i=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(a,s){a.__temp&&(i.remove(a),n.setItemGraphicEl(s,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},e.type="line",e}(Wt);function km(t,e){return{seriesType:t,plan:mg(),reset:function(r){var i=r.getData(),n=r.coordinateSystem,a=r.pipelineContext,s=e||a.large;if(n){var o=Ie(n.dimensions,function(d){return i.mapDimension(d)}).slice(0,2),u=o.length,l=i.getCalculationInfo("stackResultDimension");ml(i,o[0])&&(o[0]=l),ml(i,o[1])&&(o[1]=l);var c=i.getStore(),h=i.getDimensionIndex(o[0]),f=i.getDimensionIndex(o[1]);return u&&{progress:function(d,p){for(var g=d.end-d.start,v=s&&Jo(g*u),m=[],y=[],_=d.start,x=0;_<d.end;_++){var b=void 0;if(u===1){var C=c.get(h,_);b=n.dataToPoint(C,null,y)}else m[0]=c.get(h,_),m[1]=c.get(f,_),b=n.dataToPoint(m,null,y);s?(v[x++]=b[0],v[x++]=b[1]):p.setItemLayout(_,b.slice())}s&&p.setLayout("points",v)}}}}}}var s6e={average:function(t){for(var e=0,r=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],r++);return r===0?NaN:e/r},sum:function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r]||0;return e},max:function(t){for(var e=-1/0,r=0;r<t.length;r++)t[r]>e&&(e=t[r]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,r=0;r<t.length;r++)t[r]<e&&(e=t[r]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},o6e=function(t){return Math.round(t.length/2)};function zQ(t){return{seriesType:t,reset:function(e,r,i){var n=e.getData(),a=e.get("sampling"),s=e.coordinateSystem,o=n.count();if(o>10&&s.type==="cartesian2d"&&a){var u=s.getBaseAxis(),l=s.getOtherAxis(u),c=u.getExtent(),h=i.getDevicePixelRatio(),f=Math.abs(c[1]-c[0])*(h||1),d=Math.round(o/f);if(isFinite(d)&&d>1){a==="lttb"?e.setData(n.lttbDownSample(n.mapDimension(l.dim),1/d)):a==="minmax"&&e.setData(n.minmaxDownSample(n.mapDimension(l.dim),1/d));var p=void 0;Xe(a)?p=s6e[a]:ot(a)&&(p=a),p&&e.setData(n.downSample(n.mapDimension(l.dim),1/d,p,o6e))}}}}}function u6e(t){t.registerChartView(a6e),t.registerSeriesModel(jSe),t.registerLayout(km("line",!0)),t.registerVisual({seriesType:"line",reset:function(e){var r=e.getData(),i=e.getModel("lineStyle").getLineStyle();i&&!i.stroke&&(i.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",i)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,zQ("line"))}var U2=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,i){return Au(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(r,i,n){var a=this.coordinateSystem;if(a&&a.clampData){var s=a.clampData(r),o=a.dataToPoint(s);if(n)G(a.getAxes(),function(f,d){if(f.type==="category"&&i!=null){var p=f.getTicksCoords(),g=f.getTickModel().get("alignWithLabel"),v=s[d],m=i[d]==="x1"||i[d]==="y1";if(m&&!g&&(v+=1),p.length<2)return;if(p.length===2){o[d]=f.toGlobalCoord(f.getExtent()[m?1:0]);return}for(var y=void 0,_=void 0,x=1,b=0;b<p.length;b++){var C=p[b].coord,E=b===p.length-1?p[b-1].tickValue+x:p[b].tickValue;if(E===v){_=C;break}else if(E<v)y=C;else if(y!=null&&E>v){_=(C+y)/2;break}b===1&&(x=E-p[0].tickValue)}_==null&&(y?y&&(_=p[p.length-1].coord):_=p[0].coord),o[d]=f.toGlobalCoord(_)}});else{var u=this.getData(),l=u.getLayout("offset"),c=u.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;o[h]+=l+c/2}return o}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(Kt);Kt.registerClass(U2);var l6e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(){return Au(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},e.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),i=this.get("largeThreshold");return i>r&&(r=i),r},e.prototype.brushSelector=function(r,i,n){return n.rect(i.getItemLayout(r))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=Wc(U2.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(U2),c6e=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),U3=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="sausage",i}return e.prototype.getDefaultShape=function(){return new c6e},e.prototype.buildPath=function(r,i){var n=i.cx,a=i.cy,s=Math.max(i.r0||0,0),o=Math.max(i.r,0),u=(o-s)*.5,l=s+u,c=i.startAngle,h=i.endAngle,f=i.clockwise,d=Math.PI*2,p=f?h-c<d:c-h<d;p||(c=h-(f?d:-d));var g=Math.cos(c),v=Math.sin(c),m=Math.cos(h),y=Math.sin(h);p?(r.moveTo(g*s+n,v*s+a),r.arc(g*l+n,v*l+a,u,-Math.PI+c,c,!f)):r.moveTo(g*o+n,v*o+a),r.arc(n,a,o,c,h,!f),r.arc(m*l+n,y*l+a,u,h-Math.PI*2,h-Math.PI,!f),s!==0&&r.arc(n,a,s,h,c,f)},e}(Pt);function h6e(t,e){e=e||{};var r=e.isRoundCap;return function(i,n,a){var s=n.position;if(!s||s instanceof Array)return _3(i,n,a);var o=t(s),u=n.distance!=null?n.distance:5,l=this.shape,c=l.cx,h=l.cy,f=l.r,d=l.r0,p=(f+d)/2,g=l.startAngle,v=l.endAngle,m=(g+v)/2,y=r?Math.abs(f-d)/2:0,_=Math.cos,x=Math.sin,b=c+f*_(g),C=h+f*x(g),E="left",A="top";switch(o){case"startArc":b=c+(d-u)*_(m),C=h+(d-u)*x(m),E="center",A="top";break;case"insideStartArc":b=c+(d+u)*_(m),C=h+(d+u)*x(m),E="center",A="bottom";break;case"startAngle":b=c+p*_(g)+T_(g,u+y,!1),C=h+p*x(g)+A_(g,u+y,!1),E="right",A="middle";break;case"insideStartAngle":b=c+p*_(g)+T_(g,-u+y,!1),C=h+p*x(g)+A_(g,-u+y,!1),E="left",A="middle";break;case"middle":b=c+p*_(m),C=h+p*x(m),E="center",A="middle";break;case"endArc":b=c+(f+u)*_(m),C=h+(f+u)*x(m),E="center",A="bottom";break;case"insideEndArc":b=c+(f-u)*_(m),C=h+(f-u)*x(m),E="center",A="top";break;case"endAngle":b=c+p*_(v)+T_(v,u+y,!0),C=h+p*x(v)+A_(v,u+y,!0),E="left",A="middle";break;case"insideEndAngle":b=c+p*_(v)+T_(v,-u+y,!0),C=h+p*x(v)+A_(v,-u+y,!0),E="right",A="middle";break;default:return _3(i,n,a)}return i=i||{},i.x=b,i.y=C,i.align=E,i.verticalAlign=A,i}}function f6e(t,e,r,i){if(Zt(i)){t.setTextConfig({rotation:i});return}else if(Te(e)){t.setTextConfig({rotation:0});return}var n=t.shape,a=n.clockwise?n.startAngle:n.endAngle,s=n.clockwise?n.endAngle:n.startAngle,o=(a+s)/2,u,l=r(e);switch(l){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":u=o;break;case"startAngle":case"insideStartAngle":u=a;break;case"endAngle":case"insideEndAngle":u=s;break;default:t.setTextConfig({rotation:0});return}var c=Math.PI*1.5-u;l==="middle"&&c>Math.PI/2&&c<Math.PI*1.5&&(c-=Math.PI),t.setTextConfig({rotation:c})}function T_(t,e,r){return e*Math.sin(t)*(r?-1:1)}function A_(t,e,r){return e*Math.cos(t)*(r?1:-1)}function mh(t,e,r){var i=t.get("borderRadius");if(i==null)return r?{cornerRadius:0}:null;Te(i)||(i=[i,i,i,i]);var n=Math.abs(e.r||0-e.r0||0);return{cornerRadius:Ie(i,function(a){return xo(a,n)})}}var WS=Math.max,YS=Math.min;function d6e(t,e){var r=t.getArea&&t.getArea();if(wf(t,"cartesian2d")){var i=t.getBaseAxis();if(i.type!=="category"||!i.onBand){var n=e.getLayout("bandWidth");i.isHorizontal()?(r.x-=n,r.width+=n*2):(r.y-=n,r.height+=n*2)}}return r}var p6e=function(t){ce(e,t);function e(){var r=t.call(this)||this;return r.type=e.type,r._isFirstFrame=!0,r}return e.prototype.render=function(r,i,n,a){this._model=r,this._removeOnRenderedListener(n),this._updateDrawMode(r);var s=r.get("coordinateSystem");(s==="cartesian2d"||s==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,i,n):this._renderNormal(r,i,n,a))},e.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},e.prototype.incrementalRender=function(r,i){this._progressiveEls=[],this._incrementalRenderLarge(r,i)},e.prototype.eachRendered=function(r){$c(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var i=r.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(r,i,n,a){var s=this.group,o=r.getData(),u=this._data,l=r.coordinateSystem,c=l.getBaseAxis(),h;l.type==="cartesian2d"?h=c.isHorizontal():l.type==="polar"&&(h=c.dim==="angle");var f=r.isAnimationEnabled()?r:null,d=g6e(r,l);d&&this._enableRealtimeSort(d,o,n);var p=r.get("clip",!0)||d,g=d6e(l,o);s.removeClipPath();var v=r.get("roundCap",!0),m=r.get("showBackground",!0),y=r.getModel("backgroundStyle"),_=y.get("borderRadius")||0,x=[],b=this._backgroundEls,C=a&&a.isInitSort,E=a&&a.type==="changeAxisOrder";function A(D){var F=w_[l.type](o,D),B=C6e(l,h,F);return B.useStyle(y.getItemStyle()),l.type==="cartesian2d"?B.setShape("r",_):B.setShape("cornerRadius",_),x[D]=B,B}o.diff(u).add(function(D){var F=o.getItemModel(D),B=w_[l.type](o,D,F);if(m&&A(D),!(!o.hasValue(D)||!ak[l.type](B))){var O=!1;p&&(O=tk[l.type](g,B));var M=rk[l.type](r,o,D,B,h,f,c.model,!1,v);d&&(M.forceLabelAnimation=!0),sk(M,o,D,F,B,r,h,l.type==="polar"),C?M.attr({shape:B}):d?ik(d,f,M,B,D,h,!1,!1):Nr(M,{shape:B},r,D),o.setItemGraphicEl(D,M),s.add(M),M.ignore=O}}).update(function(D,F){var B=o.getItemModel(D),O=w_[l.type](o,D,B);if(m){var M=void 0;b.length===0?M=A(F):(M=b[F],M.useStyle(y.getItemStyle()),l.type==="cartesian2d"?M.setShape("r",_):M.setShape("cornerRadius",_),x[D]=M);var R=w_[l.type](o,D),z=GQ(h,R,l);er(M,{shape:z},f,D)}var k=u.getItemGraphicEl(F);if(!o.hasValue(D)||!ak[l.type](O)){s.remove(k);return}var U=!1;if(p&&(U=tk[l.type](g,O),U&&s.remove(k)),k?bo(k):k=rk[l.type](r,o,D,O,h,f,c.model,!!k,v),d&&(k.forceLabelAnimation=!0),E){var V=k.getTextContent();if(V){var j=hg(V);j.prevValue!=null&&(j.prevValue=j.value)}}else sk(k,o,D,B,O,r,h,l.type==="polar");C?k.attr({shape:O}):d?ik(d,f,k,O,D,h,!0,E):er(k,{shape:O},r,D,null),o.setItemGraphicEl(D,k),k.ignore=U,s.add(k)}).remove(function(D){var F=u.getItemGraphicEl(D);F&&M2(F,r,D)}).execute();var S=this._backgroundGroup||(this._backgroundGroup=new dt);S.removeAll();for(var T=0;T<x.length;++T)S.add(x[T]);s.add(S),this._backgroundEls=x,this._data=o},e.prototype._renderLarge=function(r,i,n){this._clear(),uk(r,this.group),this._updateLargeClip(r)},e.prototype._incrementalRenderLarge=function(r,i){this._removeBackground(),uk(i,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(r){var i=r.get("clip",!0)&&Nm(r.coordinateSystem,!1,r),n=this.group;i?n.setClipPath(i):n.removeClipPath()},e.prototype._enableRealtimeSort=function(r,i,n){var a=this;if(i.count()){var s=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(i,r,n),this._isFirstFrame=!1;else{var o=function(u){var l=i.getItemGraphicEl(u),c=l&&l.shape;return c&&Math.abs(s.isHorizontal()?c.height:c.width)||0};this._onRendered=function(){a._updateSortWithinSameData(i,o,s,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(r,i,n){var a=[];return r.each(r.mapDimension(i.dim),function(s,o){var u=n(o);u=u??NaN,a.push({dataIndex:o,mappedValue:u,ordinalNumber:s})}),a.sort(function(s,o){return o.mappedValue-s.mappedValue}),{ordinalNumbers:Ie(a,function(s){return s.ordinalNumber})}},e.prototype._isOrderChangedWithinSameData=function(r,i,n){for(var a=n.scale,s=r.mapDimension(n.dim),o=Number.MAX_VALUE,u=0,l=a.getOrdinalMeta().categories.length;u<l;++u){var c=r.rawIndexOf(s,a.getRawOrdinalNumber(u)),h=c<0?Number.MIN_VALUE:i(r.indexOfRawIndex(c));if(h>o)return!0;o=h}return!1},e.prototype._isOrderDifferentInView=function(r,i){for(var n=i.scale,a=n.getExtent(),s=Math.max(0,a[0]),o=Math.min(a[1],n.getOrdinalMeta().categories.length-1);s<=o;++s)if(r.ordinalNumbers[s]!==n.getRawOrdinalNumber(s))return!0},e.prototype._updateSortWithinSameData=function(r,i,n,a){if(this._isOrderChangedWithinSameData(r,i,n)){var s=this._dataSort(r,n,i);this._isOrderDifferentInView(s,n)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:s}))}},e.prototype._dispatchInitSort=function(r,i,n){var a=i.baseAxis,s=this._dataSort(r,a,function(o){return r.get(r.mapDimension(i.otherAxis.dim),o)});n.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:s})},e.prototype.remove=function(r,i){this._clear(this._model),this._removeOnRenderedListener(i)},e.prototype.dispose=function(r,i){this._removeOnRenderedListener(i)},e.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(r){var i=this.group,n=this._data;r&&r.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl(function(a){M2(a,r,pt(a).dataIndex)})):i.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(Wt),tk={cartesian2d:function(t,e){var r=e.width<0?-1:1,i=e.height<0?-1:1;r<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var n=t.x+t.width,a=t.y+t.height,s=WS(e.x,t.x),o=YS(e.x+e.width,n),u=WS(e.y,t.y),l=YS(e.y+e.height,a),c=o<s,h=l<u;return e.x=c&&s>n?o:s,e.y=h&&u>a?l:u,e.width=c?0:o-s,e.height=h?0:l-u,r<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),c||h},polar:function(t,e){var r=e.r0<=e.r?1:-1;if(r<0){var i=e.r;e.r=e.r0,e.r0=i}var n=YS(e.r,t.r),a=WS(e.r0,t.r0);e.r=n,e.r0=a;var s=n-a<0;if(r<0){var i=e.r;e.r=e.r0,e.r0=i}return s}},rk={cartesian2d:function(t,e,r,i,n,a,s,o,u){var l=new Gt({shape:Ce({},i),z2:1});if(l.__dataIndex=r,l.name="item",a){var c=l.shape,h=n?"height":"width";c[h]=0}return l},polar:function(t,e,r,i,n,a,s,o,u){var l=!n&&u?U3:da,c=new l({shape:i,z2:1});c.name="item";var h=HQ(n);if(c.calculateTextPosition=h6e(h,{isRoundCap:l===U3}),a){var f=c.shape,d=n?"r":"endAngle",p={};f[d]=n?i.r0:i.startAngle,p[d]=i[d],(o?er:Nr)(c,{shape:p},a)}return c}};function g6e(t,e){var r=t.get("realtimeSort",!0),i=e.getBaseAxis();if(r&&i.type==="category"&&e.type==="cartesian2d")return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}function ik(t,e,r,i,n,a,s,o){var u,l;a?(l={x:i.x,width:i.width},u={y:i.y,height:i.height}):(l={y:i.y,height:i.height},u={x:i.x,width:i.width}),o||(s?er:Nr)(r,{shape:u},e,n,null);var c=e?t.baseAxis.model:null;(s?er:Nr)(r,{shape:l},c,n)}function nk(t,e){for(var r=0;r<e.length;r++)if(!isFinite(t[e[r]]))return!0;return!1}var v6e=["x","y","width","height"],m6e=["cx","cy","r","startAngle","endAngle"],ak={cartesian2d:function(t){return!nk(t,v6e)},polar:function(t){return!nk(t,m6e)}},w_={cartesian2d:function(t,e,r){var i=t.getItemLayout(e),n=r?_6e(r,i):0,a=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+a*n/2,y:i.y+s*n/2,width:i.width-a*n,height:i.height-s*n}},polar:function(t,e,r){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function y6e(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function HQ(t){return function(e){var r=e?"Arc":"Angle";return function(i){switch(i){case"start":case"insideStart":case"end":case"insideEnd":return i+r;default:return i}}}(t)}function sk(t,e,r,i,n,a,s,o){var u=e.getItemVisual(r,"style");if(o){if(!a.get("roundCap")){var c=t.shape,h=mh(i.getModel("itemStyle"),c,!0);Ce(c,h),t.setShape(c)}}else{var l=i.get(["itemStyle","borderRadius"])||0;t.setShape("r",l)}t.useStyle(u);var f=i.getShallow("cursor");f&&t.attr("cursor",f);var d=o?s?n.r>=n.r0?"endArc":"startArc":n.endAngle>=n.startAngle?"endAngle":"startAngle":s?n.height>=0?"bottom":"top":n.width>=0?"right":"left",p=Ki(i);In(t,p,{labelFetcher:a,labelDataIndex:r,defaultText:Dp(a.getData(),r),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:d});var g=t.getTextContent();if(o&&g){var v=i.get(["label","position"]);t.textConfig.inside=v==="middle"?!0:null,f6e(t,v==="outside"?d:v,HQ(s),i.get(["label","rotate"]))}rK(g,p,a.getRawValue(r),function(y){return BQ(e,y)});var m=i.getModel(["emphasis"]);Zr(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),Fn(t,i),y6e(n)&&(t.style.fill="none",t.style.stroke="none",G(t.states,function(y){y.style&&(y.style.fill=y.style.stroke="none")}))}function _6e(t,e){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var i=t.get(["itemStyle","borderWidth"])||0,n=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),a=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,n,a)}var x6e=function(){function t(){}return t}(),ok=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="largeBar",i}return e.prototype.getDefaultShape=function(){return new x6e},e.prototype.buildPath=function(r,i){for(var n=i.points,a=this.baseDimIdx,s=1-this.baseDimIdx,o=[],u=[],l=this.barWidth,c=0;c<n.length;c+=3)u[a]=l,u[s]=n[c+2],o[a]=n[c+a],o[s]=n[c+s],r.rect(o[0],o[1],u[0],u[1])},e}(Pt);function uk(t,e,r,i){var n=t.getData(),a=n.getLayout("valueAxisHorizontal")?1:0,s=n.getLayout("largeDataIndices"),o=n.getLayout("size"),u=t.getModel("backgroundStyle"),l=n.getLayout("largeBackgroundPoints");if(l){var c=new ok({shape:{points:l},incremental:!!i,silent:!0,z2:0});c.baseDimIdx=a,c.largeDataIndices=s,c.barWidth=o,c.useStyle(u.getItemStyle()),e.add(c),r&&r.push(c)}var h=new ok({shape:{points:n.getLayout("largePoints")},incremental:!!i,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=s,h.barWidth=o,e.add(h),h.useStyle(n.getVisual("style")),h.style.stroke=null,pt(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",lk),h.on("mousemove",lk)),r&&r.push(h)}var lk=L9(function(t){var e=this,r=b6e(e,t.offsetX,t.offsetY);pt(e).dataIndex=r>=0?r:null},30,!1);function b6e(t,e,r){for(var i=t.baseDimIdx,n=1-i,a=t.shape.points,s=t.largeDataIndices,o=[],u=[],l=t.barWidth,c=0,h=a.length/3;c<h;c++){var f=c*3;if(u[i]=l,u[n]=a[f+2],o[i]=a[f+i],o[n]=a[f+n],u[n]<0&&(o[n]+=u[n],u[n]=-u[n]),e>=o[0]&&e<=o[0]+u[0]&&r>=o[1]&&r<=o[1]+u[1])return s[c]}return-1}function GQ(t,e,r){if(wf(r,"cartesian2d")){var i=e,n=r.getArea();return{x:t?i.x:n.x,y:t?n.y:i.y,width:t?i.width:n.width,height:t?n.height:i.height}}else{var n=r.getArea(),a=e;return{cx:n.cx,cy:n.cy,r0:t?n.r0:a.r0,r:t?n.r:a.r,startAngle:t?a.startAngle:0,endAngle:t?a.endAngle:Math.PI*2}}}function C6e(t,e,r){var i=t.type==="polar"?da:Gt;return new i({shape:GQ(e,r,t),silent:!0,z2:0})}function E6e(t){t.registerChartView(p6e),t.registerSeriesModel(l6e),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,mt(VJ,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,$J("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,zQ("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(e,r){var i=e.componentType||"series";r.eachComponent({mainType:i,query:e},function(n){e.sortInfo&&n.axis.setCategorySortInfo(e.sortInfo)})})}var ck=Math.PI*2,D_=Math.PI/180;function UQ(t,e){return ai(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function jQ(t,e){var r=UQ(t,e),i=t.get("center"),n=t.get("radius");Te(n)||(n=[0,n]);var a=je(r.width,e.getWidth()),s=je(r.height,e.getHeight()),o=Math.min(a,s),u=je(n[0],o/2),l=je(n[1],o/2),c,h,f=t.coordinateSystem;if(f){var d=f.dataToPoint(i);c=d[0]||0,h=d[1]||0}else Te(i)||(i=[i,i]),c=je(i[0],a)+r.x,h=je(i[1],s)+r.y;return{cx:c,cy:h,r0:u,r:l}}function S6e(t,e,r){e.eachSeriesByType(t,function(i){var n=i.getData(),a=n.mapDimension("value"),s=UQ(i,r),o=jQ(i,r),u=o.cx,l=o.cy,c=o.r,h=o.r0,f=-i.get("startAngle")*D_,d=i.get("endAngle"),p=i.get("padAngle")*D_;d=d==="auto"?f-ck:-d*D_;var g=i.get("minAngle")*D_,v=g+p,m=0;n.each(a,function(z){!isNaN(z)&&m++});var y=n.getSum(a),_=Math.PI/(y||m)*2,x=i.get("clockwise"),b=i.get("roseType"),C=i.get("stillShowZeroSum"),E=n.getDataExtent(a);E[0]=0;var A=x?1:-1,S=[f,d],T=A*p/2;u9(S,!x),f=S[0],d=S[1];var D=VQ(i);D.startAngle=f,D.endAngle=d,D.clockwise=x;var F=Math.abs(d-f),B=F,O=0,M=f;if(n.setLayout({viewRect:s,r:c}),n.each(a,function(z,k){var U;if(isNaN(z)){n.setItemLayout(k,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:u,cy:l,r0:h,r:b?NaN:c});return}b!=="area"?U=y===0&&C?_:z*_:U=F/m,U<v?(U=v,B-=v):O+=z;var V=M+A*U,j=0,Y=0;p>U?(j=M+A*U/2,Y=j):(j=M+T,Y=V-T),n.setItemLayout(k,{angle:U,startAngle:j,endAngle:Y,clockwise:x,cx:u,cy:l,r0:h,r:b?nr(z,E,[h,c]):c}),M=V}),B<ck&&m)if(B<=.001){var R=F/m;n.each(a,function(z,k){if(!isNaN(z)){var U=n.getItemLayout(k);U.angle=R;var V=0,j=0;R<p?(V=f+A*(k+1/2)*R,j=V):(V=f+A*k*R+T,j=f+A*(k+1)*R-T),U.startAngle=V,U.endAngle=j}})}else _=B/O,M=f,n.each(a,function(z,k){if(!isNaN(z)){var U=n.getItemLayout(k),V=U.angle===v?v:z*_,j=0,Y=0;V<p?(j=M+A*V/2,Y=j):(j=M+T,Y=M+A*V-T),U.startAngle=j,U.endAngle=Y,M+=A*V}})})}var VQ=Yt();function zm(t){return{seriesType:t,reset:function(e,r){var i=r.findComponents({mainType:"legend"});if(!(!i||!i.length)){var n=e.getData();n.filterSelf(function(a){for(var s=n.getName(a),o=0;o<i.length;o++)if(!i[o].isSelected(s))return!1;return!0})}}}}var T6e=Math.PI/180;function hk(t,e,r,i,n,a,s,o,u,l){if(t.length<2)return;function c(g){for(var v=g.rB,m=v*v,y=0;y<g.list.length;y++){var _=g.list[y],x=Math.abs(_.label.y-r),b=i+_.len,C=b*b,E=Math.sqrt(Math.abs((1-x*x/m)*C)),A=e+(E+_.len2)*n,S=A-_.label.x,T=_.targetTextWidth-S*n;$Q(_,T,!0),_.label.x=A}}function h(g){for(var v={list:[],maxY:0},m={list:[],maxY:0},y=0;y<g.length;y++)if(g[y].labelAlignTo==="none"){var _=g[y],x=_.label.y>r?m:v,b=Math.abs(_.label.y-r);if(b>=x.maxY){var C=_.label.x-e-_.len2*n,E=i+_.len,A=Math.abs(C)<E?Math.sqrt(b*b/(1-C*C/E/E)):E;x.rB=A,x.maxY=b}x.list.push(_)}c(v),c(m)}for(var f=t.length,d=0;d<f;d++)if(t[d].position==="outer"&&t[d].labelAlignTo==="labelLine"){var p=t[d].label.x-l;t[d].linePoints[1][0]+=p,t[d].label.x=l}fQ(t,u,u+s)&&h(t)}function A6e(t,e,r,i,n,a,s,o){for(var u=[],l=[],c=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<t.length;f++){var d=t[f].label;qS(t[f])||(d.x<e?(c=Math.min(c,d.x),u.push(t[f])):(h=Math.max(h,d.x),l.push(t[f])))}for(var f=0;f<t.length;f++){var p=t[f];if(!qS(p)&&p.linePoints){if(p.labelStyleWidth!=null)continue;var d=p.label,g=p.linePoints,v=void 0;p.labelAlignTo==="edge"?d.x<e?v=g[2][0]-p.labelDistance-s-p.edgeDistance:v=s+n-p.edgeDistance-g[2][0]-p.labelDistance:p.labelAlignTo==="labelLine"?d.x<e?v=c-s-p.bleedMargin:v=s+n-h-p.bleedMargin:d.x<e?v=d.x-s-p.bleedMargin:v=s+n-d.x-p.bleedMargin,p.targetTextWidth=v,$Q(p,v)}}hk(l,e,r,i,1,n,a,s,o,h),hk(u,e,r,i,-1,n,a,s,o,c);for(var f=0;f<t.length;f++){var p=t[f];if(!qS(p)&&p.linePoints){var d=p.label,g=p.linePoints,m=p.labelAlignTo==="edge",y=d.style.padding,_=y?y[1]+y[3]:0,x=d.style.backgroundColor?0:_,b=p.rect.width+x,C=g[1][0]-g[2][0];m?d.x<e?g[2][0]=s+p.edgeDistance+b+p.labelDistance:g[2][0]=s+n-p.edgeDistance-b-p.labelDistance:(d.x<e?g[2][0]=d.x+p.labelDistance:g[2][0]=d.x-p.labelDistance,g[1][0]=g[2][0]+C),g[1][1]=g[2][1]=d.y}}}function $Q(t,e,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var i=t.label,n=i.style,a=t.rect,s=n.backgroundColor,o=n.padding,u=o?o[1]+o[3]:0,l=n.overflow,c=a.width+(s?0:u);if(e<c||r){var h=a.height;if(l&&l.match("break")){i.setStyle("backgroundColor",null),i.setStyle("width",e-u);var f=i.getBoundingRect();i.setStyle("width",Math.ceil(f.width)),i.setStyle("backgroundColor",s)}else{var d=e-u,p=e<c?d:r?d>t.unconstrainedWidth?null:d:null;i.setStyle("width",p)}var g=i.getBoundingRect();a.width=g.width;var v=(i.style.margin||0)+2.1;a.height=g.height+v,a.y-=(a.height-h)/2}}}function qS(t){return t.position==="center"}function w6e(t){var e=t.getData(),r=[],i,n,a=!1,s=(t.get("minShowLabelAngle")||0)*T6e,o=e.getLayout("viewRect"),u=e.getLayout("r"),l=o.width,c=o.x,h=o.y,f=o.height;function d(C){C.ignore=!0}function p(C){if(!C.ignore)return!0;for(var E in C.states)if(C.states[E].ignore===!1)return!0;return!1}e.each(function(C){var E=e.getItemGraphicEl(C),A=E.shape,S=E.getTextContent(),T=E.getTextGuideLine(),D=e.getItemModel(C),F=D.getModel("label"),B=F.get("position")||D.get(["emphasis","label","position"]),O=F.get("distanceToLabelLine"),M=F.get("alignTo"),R=je(F.get("edgeDistance"),l),z=F.get("bleedMargin"),k=D.getModel("labelLine"),U=k.get("length");U=je(U,l);var V=k.get("length2");if(V=je(V,l),Math.abs(A.endAngle-A.startAngle)<s){G(S.states,d),S.ignore=!0,T&&(G(T.states,d),T.ignore=!0);return}if(p(S)){var j=(A.startAngle+A.endAngle)/2,Y=Math.cos(j),te=Math.sin(j),re,de,Oe,he;i=A.cx,n=A.cy;var le=B==="inside"||B==="inner";if(B==="center")re=A.cx,de=A.cy,he="center";else{var pe=(le?(A.r+A.r0)/2*Y:A.r*Y)+i,xe=(le?(A.r+A.r0)/2*te:A.r*te)+n;if(re=pe+Y*3,de=xe+te*3,!le){var be=pe+Y*(U+u-A.r),q=xe+te*(U+u-A.r),J=be+(Y<0?-1:1)*V,se=q;M==="edge"?re=Y<0?c+R:c+l-R:re=J+(Y<0?-O:O),de=se,Oe=[[pe,xe],[be,q],[J,se]]}he=le?"center":M==="edge"?Y>0?"right":"left":Y>0?"left":"right"}var ve=Math.PI,_e=0,we=F.get("rotate");if(Zt(we))_e=we*(ve/180);else if(B==="center")_e=0;else if(we==="radial"||we===!0){var He=Y<0?-j+ve:-j;_e=He}else if(we==="tangential"&&B!=="outside"&&B!=="outer"){var ze=Math.atan2(Y,te);ze<0&&(ze=ve*2+ze);var Me=te>0;Me&&(ze=ve+ze),_e=ze-ve}if(a=!!_e,S.x=re,S.y=de,S.rotation=_e,S.setStyle({verticalAlign:"middle"}),le){S.setStyle({align:he});var $e=S.states.select;$e&&($e.x+=S.x,$e.y+=S.y)}else{var Se=S.getBoundingRect().clone();Se.applyTransform(S.getComputedTransform());var Ze=(S.style.margin||0)+2.1;Se.y-=Ze/2,Se.height+=Ze,r.push({label:S,labelLine:T,position:B,len:U,len2:V,minTurnAngle:k.get("minTurnAngle"),maxSurfaceAngle:k.get("maxSurfaceAngle"),surfaceNormal:new Ct(Y,te),linePoints:Oe,textAlign:he,labelDistance:O,labelAlignTo:M,edgeDistance:R,bleedMargin:z,rect:Se,unconstrainedWidth:Se.width,labelStyleWidth:S.style.width})}E.setTextConfig({inside:le})}}),!a&&t.get("avoidLabelOverlap")&&A6e(r,i,n,u,l,f,c,h);for(var g=0;g<r.length;g++){var v=r[g],m=v.label,y=v.labelLine,_=isNaN(m.x)||isNaN(m.y);if(m){m.setStyle({align:v.textAlign}),_&&(G(m.states,d),m.ignore=!0);var x=m.states.select;x&&(x.x+=m.x,x.y+=m.y)}if(y){var b=v.linePoints;_||!b?(G(y.states,d),y.ignore=!0):(lQ(b,v.minTurnAngle),JEe(b,v.surfaceNormal,v.maxSurfaceAngle),y.setShape({points:b}),m.__hostTarget.textGuideLineConfig={anchor:new Ct(b[0][0],b[0][1])})}}}var D6e=function(t){ce(e,t);function e(r,i,n){var a=t.call(this)||this;a.z2=2;var s=new zt;return a.setTextContent(s),a.updateData(r,i,n,!0),a}return e.prototype.updateData=function(r,i,n,a){var s=this,o=r.hostModel,u=r.getItemModel(i),l=u.getModel("emphasis"),c=r.getItemLayout(i),h=Ce(mh(u.getModel("itemStyle"),c,!0),c);if(isNaN(h.startAngle)){s.setShape(h);return}if(a){s.setShape(h);var f=o.getShallow("animationType");o.ecModel.ssr?(Nr(s,{scaleX:0,scaleY:0},o,{dataIndex:i,isFrom:!0}),s.originX=h.cx,s.originY=h.cy):f==="scale"?(s.shape.r=c.r0,Nr(s,{shape:{r:c.r}},o,i)):n!=null?(s.setShape({startAngle:n,endAngle:n}),Nr(s,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},o,i)):(s.shape.endAngle=c.startAngle,er(s,{shape:{endAngle:c.endAngle}},o,i))}else bo(s),er(s,{shape:h},o,i);s.useStyle(r.getItemVisual(i,"style")),Fn(s,u);var d=(c.startAngle+c.endAngle)/2,p=o.get("selectedOffset"),g=Math.cos(d)*p,v=Math.sin(d)*p,m=u.getShallow("cursor");m&&s.attr("cursor",m),this._updateLabel(o,r,i),s.ensureState("emphasis").shape=Ce({r:c.r+(l.get("scale")&&l.get("scaleSize")||0)},mh(l.getModel("itemStyle"),c)),Ce(s.ensureState("select"),{x:g,y:v,shape:mh(u.getModel(["select","itemStyle"]),c)}),Ce(s.ensureState("blur"),{shape:mh(u.getModel(["blur","itemStyle"]),c)});var y=s.getTextGuideLine(),_=s.getTextContent();y&&Ce(y.ensureState("select"),{x:g,y:v}),Ce(_.ensureState("select"),{x:g,y:v}),Zr(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))},e.prototype._updateLabel=function(r,i,n){var a=this,s=i.getItemModel(n),o=s.getModel("labelLine"),u=i.getItemVisual(n,"style"),l=u&&u.fill,c=u&&u.opacity;In(a,Ki(s),{labelFetcher:i.hostModel,labelDataIndex:n,inheritColor:l,defaultOpacity:c,defaultText:r.getFormattedLabel(n,"normal")||i.getName(n)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=r.get(["label","position"]);if(f!=="outside"&&f!=="outer")a.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new ya,this.setTextGuideLine(d)),K9(this,J9(s),{stroke:l,opacity:su(o.get(["lineStyle","opacity"]),c,1)})}},e}(da),F6e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return e.prototype.render=function(r,i,n,a){var s=r.getData(),o=this._data,u=this.group,l;if(!o&&s.count()>0){for(var c=s.getItemLayout(0),h=1;isNaN(c&&c.startAngle)&&h<s.count();++h)c=s.getItemLayout(h);c&&(l=c.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),s.count()===0&&r.get("showEmptyCircle")){var f=VQ(r),d=new da({shape:Ce(jQ(r,n),f)});d.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,u.add(d)}s.diff(o).add(function(p){var g=new D6e(s,p,l);s.setItemGraphicEl(p,g),u.add(g)}).update(function(p,g){var v=o.getItemGraphicEl(g);v.updateData(s,p,l),v.off("click"),u.add(v),s.setItemGraphicEl(p,v)}).remove(function(p){var g=o.getItemGraphicEl(p);M2(g,r,p)}).execute(),w6e(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=s)},e.prototype.dispose=function(){},e.prototype.containPoint=function(r,i){var n=i.getData(),a=n.getItemLayout(0);if(a){var s=r[0]-a.cx,o=r[1]-a.cy,u=Math.sqrt(s*s+o*o);return u<=a.r&&u>=a.r0}},e.type="pie",e}(Wt);function Eg(t,e,r){e=Te(e)&&{coordDimensions:e}||Ce({encodeDefine:t.getEncode()},e);var i=t.getSource(),n=xg(i,e).dimensions,a=new Xr(n,t);return a.initData(i,r),a}var Hm=function(){function t(e,r){this._getDataWithEncodedVisual=e,this._getRawData=r}return t.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},t.prototype.containName=function(e){var r=this._getRawData();return r.indexOfName(e)>=0},t.prototype.indexOfName=function(e){var r=this._getDataWithEncodedVisual();return r.indexOfName(e)},t.prototype.getItemVisual=function(e,r){var i=this._getDataWithEncodedVisual();return i.getItemVisual(e,r)},t}(),I6e=Yt(),B6e=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hm(Je(this.getData,this),Je(this.getRawData,this)),this._defaultLabelLine(r)},e.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},e.prototype.getInitialData=function(){return Eg(this,{coordDimensions:["value"],encodeDefaulter:mt(A9,this)})},e.prototype.getDataParams=function(r){var i=this.getData(),n=I6e(i),a=n.seats;if(!a){var s=[];i.each(i.mapDimension("value"),function(u){s.push(u)}),a=n.seats=wxe(s,i.hostModel.get("percentPrecision"))}var o=t.prototype.getDataParams.call(this,r);return o.percent=a[r]||0,o.$vars.push("percent"),o},e.prototype._defaultLabelLine=function(r){Zh(r,"labelLine",["show"]);var i=r.labelLine,n=r.emphasis.labelLine;i.show=i.show&&r.label.show,n.show=n.show&&r.emphasis.label.show},e.type="series.pie",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},e}(Kt);function M6e(t){return{seriesType:t,reset:function(e,r){var i=e.getData();i.filterSelf(function(n){var a=i.mapDimension("value"),s=i.get(a,n);return!(Zt(s)&&!isNaN(s)&&s<0)})}}}function P6e(t){t.registerChartView(F6e),t.registerSeriesModel(B6e),oJ("pie",t.registerAction),t.registerLayout(mt(S6e,"pie")),t.registerProcessor(zm("pie")),t.registerProcessor(M6e("pie"))}var L6e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r,i){return Au(null,this,{useEncodeDefaulter:!0})},e.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},e.prototype.brushSelector=function(r,i,n){return n.point(i.getItemLayout(r))},e.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},e.type="series.scatter",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},e}(Kt),WQ=4,O6e=function(){function t(){}return t}(),R6e=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i._off=0,i.hoverDataIdx=-1,i}return e.prototype.getDefaultShape=function(){return new O6e},e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.buildPath=function(r,i){var n=i.points,a=i.size,s=this.symbolProxy,o=s.shape,u=r.getContext?r.getContext():r,l=u&&a[0]<WQ,c=this.softClipShape,h;if(l){this._ctx=u;return}for(this._ctx=null,h=this._off;h<n.length;){var f=n[h++],d=n[h++];isNaN(f)||isNaN(d)||c&&!c.contain(f,d)||(o.x=f-a[0]/2,o.y=d-a[1]/2,o.width=a[0],o.height=a[1],s.buildPath(r,o,!0))}this.incremental&&(this._off=h,this.notClear=!0)},e.prototype.afterBrush=function(){var r=this.shape,i=r.points,n=r.size,a=this._ctx,s=this.softClipShape,o;if(a){for(o=this._off;o<i.length;){var u=i[o++],l=i[o++];isNaN(u)||isNaN(l)||s&&!s.contain(u,l)||a.fillRect(u-n[0]/2,l-n[1]/2,n[0],n[1])}this.incremental&&(this._off=o,this.notClear=!0)}},e.prototype.findDataIndex=function(r,i){for(var n=this.shape,a=n.points,s=n.size,o=Math.max(s[0],4),u=Math.max(s[1],4),l=a.length/2-1;l>=0;l--){var c=l*2,h=a[c]-o/2,f=a[c+1]-u/2;if(r>=h&&i>=f&&r<=h+o&&i<=f+u)return l}return-1},e.prototype.contain=function(r,i){var n=this.transformCoordToLocal(r,i),a=this.getBoundingRect();if(r=n[0],i=n[1],a.contain(r,i)){var s=this.hoverDataIdx=this.findDataIndex(r,i);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var i=this.shape,n=i.points,a=i.size,s=a[0],o=a[1],u=1/0,l=1/0,c=-1/0,h=-1/0,f=0;f<n.length;){var d=n[f++],p=n[f++];u=Math.min(d,u),c=Math.max(d,c),l=Math.min(p,l),h=Math.max(p,h)}r=this._rect=new Et(u-s/2,l-o/2,c-u+s,h-l+o)}return r},e}(Pt),N6e=function(){function t(){this.group=new dt}return t.prototype.updateData=function(e,r){this._clear();var i=this._create();i.setShape({points:e.getLayout("points")}),this._setCommon(i,e,r)},t.prototype.updateLayout=function(e){var r=e.getLayout("points");this.group.eachChild(function(i){if(i.startIndex!=null){var n=(i.endIndex-i.startIndex)*2,a=i.startIndex*4*2;r=new Float32Array(r.buffer,a,n)}i.setShape("points",r),i.reset()})},t.prototype.incrementalPrepareUpdate=function(e){this._clear()},t.prototype.incrementalUpdate=function(e,r,i){var n=this._newAdded[0],a=r.getLayout("points"),s=n&&n.shape.points;if(s&&s.length<2e4){var o=s.length,u=new Float32Array(o+a.length);u.set(s),u.set(a,o),n.endIndex=e.end,n.setShape({points:u})}else{this._newAdded=[];var l=this._create();l.startIndex=e.start,l.endIndex=e.end,l.incremental=!0,l.setShape({points:a}),this._setCommon(l,r,i)}},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new R6e({cursor:"default"});return e.ignoreCoarsePointer=!0,this.group.add(e),this._newAdded.push(e),e},t.prototype._setCommon=function(e,r,i){var n=r.hostModel;i=i||{};var a=r.getVisual("symbolSize");e.setShape("size",a instanceof Array?a:[a,a]),e.softClipShape=i.clipShape||null,e.symbolProxy=vi(r.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;var s=e.shape.size[0]<WQ;e.useStyle(n.getModel("itemStyle").getItemStyle(s?["color","shadowBlur","shadowColor"]:["color"]));var o=r.getVisual("style"),u=o&&o.fill;u&&e.setColor(u);var l=pt(e);l.seriesIndex=n.seriesIndex,e.on("mousemove",function(c){l.dataIndex=null;var h=e.hoverDataIdx;h>=0&&(l.dataIndex=h+(e.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),k6e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=r.getData(),s=this._updateSymbolDraw(a,r);s.updateData(a,{clipShape:this._getClipShape(r)}),this._finished=!0},e.prototype.incrementalPrepareRender=function(r,i,n){var a=r.getData(),s=this._updateSymbolDraw(a,r);s.incrementalPrepareUpdate(a),this._finished=!1},e.prototype.incrementalRender=function(r,i,n){this._symbolDraw.incrementalUpdate(r,i.getData(),{clipShape:this._getClipShape(i)}),this._finished=r.end===i.getData().count()},e.prototype.updateTransform=function(r,i,n){var a=r.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var s=km("").reset(r,i,n);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},e.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},e.prototype._getClipShape=function(r){if(r.get("clip",!0)){var i=r.coordinateSystem;return i&&i.getArea&&i.getArea(.1)}},e.prototype._updateSymbolDraw=function(r,i){var n=this._symbolDraw,a=i.pipelineContext,s=a.large;return(!n||s!==this._isLargeDraw)&&(n&&n.remove(),n=this._symbolDraw=s?new N6e:new Rm,this._isLargeDraw=s,this.group.removeAll()),this.group.add(n.group),n},e.prototype.remove=function(r,i){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},e.prototype.dispose=function(){},e.type="scatter",e}(Wt),z6e=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(Dt),fw=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",wi).models[0]},e.type="cartesian2dAxis",e}(Dt);yi(fw,Cg);var YQ={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},H6e=et({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},YQ),aF=et({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},YQ),G6e=et({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},aF),U6e=st({logBase:10},aF);const qQ={category:H6e,value:aF,time:G6e,log:U6e};var j6e={value:1,category:1,time:1,log:1};function Fp(t,e,r,i){G(j6e,function(n,a){var s=et(et({},qQ[a],!0),i,!0),o=function(u){ce(l,u);function l(){var c=u!==null&&u.apply(this,arguments)||this;return c.type=e+"Axis."+a,c}return l.prototype.mergeDefaultAndTheme=function(c,h){var f=L2(this),d=f?pg(c):{},p=h.getTheme();et(c,p.get(a+"Axis")),et(c,this.getDefaultOption()),c.type=fk(c),f&&kc(c,d,f)},l.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=N3.createByAxisModel(this))},l.prototype.getCategories=function(c){var h=this.option;if(h.type==="category")return c?h.data:this.__ordinalMeta.categories},l.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},l.type=e+"Axis."+a,l.defaultOption=s,l}(r);t.registerComponentModel(o)}),t.registerSubTypeDefaulter(e+"Axis",fk)}function fk(t){return t.type||(t.data?"category":"value")}var sF=function(){function t(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return t.prototype.getAxis=function(e){return this._axes[e]},t.prototype.getAxes=function(){return Ie(this._dimList,function(e){return this._axes[e]},this)},t.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),sr(this.getAxes(),function(r){return r.scale.type===e})},t.prototype.addAxis=function(e){var r=e.dim;this._axes[r]=e,this._dimList.push(r)},t}(),dw=["x","y"];function dk(t){return t.type==="interval"||t.type==="time"}var V6e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=dw,r}return e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,i=this.getAxis("y").scale;if(!(!dk(r)||!dk(i))){var n=r.getExtent(),a=i.getExtent(),s=this.dataToPoint([n[0],a[0]]),o=this.dataToPoint([n[1],a[1]]),u=n[1]-n[0],l=a[1]-a[0];if(!(!u||!l)){var c=(o[0]-s[0])/u,h=(o[1]-s[1])/l,f=s[0]-n[0]*c,d=s[1]-a[0]*h,p=this._transform=[c,0,0,h,f,d];this._invTransform=Cf([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(r){var i=this.getAxis("x"),n=this.getAxis("y");return i.contain(i.toLocalCoord(r[0]))&&n.contain(n.toLocalCoord(r[1]))},e.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},e.prototype.containZone=function(r,i){var n=this.dataToPoint(r),a=this.dataToPoint(i),s=this.getArea(),o=new Et(n[0],n[1],a[0]-n[0],a[1]-n[1]);return s.intersect(o)},e.prototype.dataToPoint=function(r,i,n){n=n||[];var a=r[0],s=r[1];if(this._transform&&a!=null&&isFinite(a)&&s!=null&&isFinite(s))return Yi(n,r,this._transform);var o=this.getAxis("x"),u=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(a,i)),n[1]=u.toGlobalCoord(u.dataToCoord(s,i)),n},e.prototype.clampData=function(r,i){var n=this.getAxis("x").scale,a=this.getAxis("y").scale,s=n.getExtent(),o=a.getExtent(),u=n.parse(r[0]),l=a.parse(r[1]);return i=i||[],i[0]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),i[1]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),i},e.prototype.pointToData=function(r,i){var n=[];if(this._invTransform)return Yi(n,r,this._invTransform);var a=this.getAxis("x"),s=this.getAxis("y");return n[0]=a.coordToData(a.toLocalCoord(r[0]),i),n[1]=s.coordToData(s.toLocalCoord(r[1]),i),n},e.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},e.prototype.getArea=function(r){r=r||0;var i=this.getAxis("x").getGlobalExtent(),n=this.getAxis("y").getGlobalExtent(),a=Math.min(i[0],i[1])-r,s=Math.min(n[0],n[1])-r,o=Math.max(i[0],i[1])-a+r,u=Math.max(n[0],n[1])-s+r;return new Et(a,s,o,u)},e}(sF),$6e=function(t){ce(e,t);function e(r,i,n,a,s){var o=t.call(this,r,i,n)||this;return o.index=0,o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.getGlobalExtent=function(r){var i=this.getExtent();return i[0]=this.toGlobalCoord(i[0]),i[1]=this.toGlobalCoord(i[1]),r&&i[0]>i[1]&&i.reverse(),i},e.prototype.pointToData=function(r,i){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),i)},e.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},e}(_a);function pw(t,e,r){r=r||{};var i=t.coordinateSystem,n=e.axis,a={},s=n.getAxesOnZeroOf()[0],o=n.position,u=s?"onZero":o,l=n.dim,c=i.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],f={left:0,right:1,top:0,bottom:1,onZero:2},d=e.get("offset")||0,p=l==="x"?[h[2]-d,h[3]+d]:[h[0]-d,h[1]+d];if(s){var g=s.toGlobalCoord(s.dataToCoord(0));p[f.onZero]=Math.max(Math.min(g,p[1]),p[0])}a.position=[l==="y"?p[f[u]]:h[0],l==="x"?p[f[u]]:h[3]],a.rotation=Math.PI/2*(l==="x"?0:1);var v={top:-1,bottom:1,left:-1,right:1};a.labelDirection=a.tickDirection=a.nameDirection=v[o],a.labelOffset=s?p[f[o]]-p[f.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),dn(r.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var m=e.get(["axisLabel","rotate"]);return a.labelRotate=u==="top"?-m:m,a.z2=1,a}function pk(t){return t.get("coordinateSystem")==="cartesian2d"}function gk(t){var e={xAxisModel:null,yAxisModel:null};return G(e,function(r,i){var n=i.replace(/Model$/,""),a=t.getReferringComponents(n,wi).models[0];e[i]=a}),e}var XS=Math.log;function XQ(t,e,r){var i=yl.prototype,n=i.getTicks.call(r),a=i.getTicks.call(r,!0),s=n.length-1,o=i.getInterval.call(r),u=ZJ(t,e),l=u.extent,c=u.fixMin,h=u.fixMax;if(t.type==="log"){var f=XS(t.base);l=[XS(l[0])/f,XS(l[1])/f]}t.setExtent(l[0],l[1]),t.calcNiceExtent({splitNumber:s,fixMin:c,fixMax:h});var d=i.getExtent.call(t);c&&(l[0]=d[0]),h&&(l[1]=d[1]);var p=i.getInterval.call(t),g=l[0],v=l[1];if(c&&h)p=(v-g)/s;else if(c)for(v=l[0]+p*s;v<l[1]&&isFinite(v)&&isFinite(l[1]);)p=LS(p),v=l[0]+p*s;else if(h)for(g=l[1]-p*s;g>l[0]&&isFinite(g)&&isFinite(l[0]);)p=LS(p),g=l[1]-p*s;else{var m=t.getTicks().length-1;m>s&&(p=LS(p));var y=p*s;v=Math.ceil(l[1]/p)*p,g=Rr(v-y),g<0&&l[0]>=0?(g=0,v=Rr(y)):v>0&&l[1]<=0&&(v=0,g=-Rr(y))}var _=(n[0].value-a[0].value)/o,x=(n[s].value-a[s].value)/o;i.setExtent.call(t,g+p*_,v+p*x),i.setInterval.call(t,p),(_||x)&&i.setNiceExtent.call(t,g+p,v-p)}var W6e=function(){function t(e,r,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=dw,this._initCartesian(e,r,i),this.model=e}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(e,r){var i=this._axesMap;this._updateScale(e,this.model);function n(s){var o,u=kt(s),l=u.length;if(l){for(var c=[],h=l-1;h>=0;h--){var f=+u[h],d=s[f],p=d.model,g=d.scale;aw(g)&&p.get("alignTicks")&&p.get("interval")==null?c.push(d):(tf(g,p),aw(g)&&(o=d))}c.length&&(o||(o=c.pop(),tf(o.scale,o.model)),G(c,function(v){XQ(v.scale,v.model,o.scale)}))}}n(i.x),n(i.y);var a={};G(i.x,function(s){vk(i,"y",s,a)}),G(i.y,function(s){vk(i,"x",s,a)}),this.resize(this.model,r)},t.prototype.resize=function(e,r,i){var n=e.getBoxLayoutParams(),a=!i&&e.get("containLabel"),s=ai(n,{width:r.getWidth(),height:r.getHeight()});this._rect=s;var o=this._axesList;u(),a&&(G(o,function(l){if(!l.model.get(["axisLabel","inside"])){var c=wEe(l);if(c){var h=l.isHorizontal()?"height":"width",f=l.model.get(["axisLabel","margin"]);s[h]-=c[h]+f,l.position==="top"?s.y+=c.height+f:l.position==="left"&&(s.x+=c.width+f)}}}),u()),G(this._coordsList,function(l){l.calcAffineTransform()});function u(){G(o,function(l){var c=l.isHorizontal(),h=c?[0,s.width]:[0,s.height],f=l.inverse?1:0;l.setExtent(h[f],h[1-f]),Y6e(l,c?s.x:s.y)})}},t.prototype.getAxis=function(e,r){var i=this._axesMap[e];if(i!=null)return i[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(e,r){if(e!=null&&r!=null){var i="x"+e+"y"+r;return this._coordsMap[i]}lt(e)&&(r=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,a=this._coordsList;n<a.length;n++)if(a[n].getAxis("x").index===e||a[n].getAxis("y").index===r)return a[n]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(e,r,i){var n=this._findConvertTarget(r);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},t.prototype.convertFromPixel=function(e,r,i){var n=this._findConvertTarget(r);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},t.prototype._findConvertTarget=function(e){var r=e.seriesModel,i=e.xAxisModel||r&&r.getReferringComponents("xAxis",wi).models[0],n=e.yAxisModel||r&&r.getReferringComponents("yAxis",wi).models[0],a=e.gridModel,s=this._coordsList,o,u;if(r)o=r.coordinateSystem,wt(s,o)<0&&(o=null);else if(i&&n)o=this.getCartesian(i.componentIndex,n.componentIndex);else if(i)u=this.getAxis("x",i.componentIndex);else if(n)u=this.getAxis("y",n.componentIndex);else if(a){var l=a.coordinateSystem;l===this&&(o=this._coordsList[0])}return{cartesian:o,axis:u}},t.prototype.containPoint=function(e){var r=this._coordsList[0];if(r)return r.containPoint(e)},t.prototype._initCartesian=function(e,r,i){var n=this,a=this,s={left:!1,right:!1,top:!1,bottom:!1},o={x:{},y:{}},u={x:0,y:0};if(r.eachComponent("xAxis",l("x"),this),r.eachComponent("yAxis",l("y"),this),!u.x||!u.y){this._axesMap={},this._axesList=[];return}this._axesMap=o,G(o.x,function(c,h){G(o.y,function(f,d){var p="x"+h+"y"+d,g=new V6e(p);g.master=n,g.model=e,n._coordsMap[p]=g,n._coordsList.push(g),g.addAxis(c),g.addAxis(f)})});function l(c){return function(h,f){if(ZS(h,e)){var d=h.get("position");c==="x"?d!=="top"&&d!=="bottom"&&(d=s.bottom?"top":"bottom"):d!=="left"&&d!=="right"&&(d=s.left?"right":"left"),s[d]=!0;var p=new $6e(c,Lm(h),[0,0],h.get("type"),d),g=p.type==="category";p.onBand=g&&h.get("boundaryGap"),p.inverse=h.get("inverse"),h.axis=p,p.model=h,p.grid=a,p.index=f,a._axesList.push(p),o[c][f]=p,u[c]++}}}},t.prototype._updateScale=function(e,r){G(this._axesList,function(n){if(n.scale.setExtent(1/0,-1/0),n.type==="category"){var a=n.model.get("categorySortInfo");n.scale.setSortInfo(a)}}),e.eachSeries(function(n){if(pk(n)){var a=gk(n),s=a.xAxisModel,o=a.yAxisModel;if(!ZS(s,r)||!ZS(o,r))return;var u=this.getCartesian(s.componentIndex,o.componentIndex),l=n.getData(),c=u.getAxis("x"),h=u.getAxis("y");i(l,c),i(l,h)}},this);function i(n,a){G(k3(n,a.dim),function(s){a.scale.unionExtentFromData(n,s)})}},t.prototype.getTooltipAxes=function(e){var r=[],i=[];return G(this.getCartesians(),function(n){var a=e!=null&&e!=="auto"?n.getAxis(e):n.getBaseAxis(),s=n.getOtherAxis(a);wt(r,a)<0&&r.push(a),wt(i,s)<0&&i.push(s)}),{baseAxes:r,otherAxes:i}},t.create=function(e,r){var i=[];return e.eachComponent("grid",function(n,a){var s=new t(n,e,r);s.name="grid_"+a,s.resize(n,r,!0),n.coordinateSystem=s,i.push(s)}),e.eachSeries(function(n){if(pk(n)){var a=gk(n),s=a.xAxisModel,o=a.yAxisModel,u=s.getCoordSysModel(),l=u.coordinateSystem;n.coordinateSystem=l.getCartesian(s.componentIndex,o.componentIndex)}}),i},t.dimensions=dw,t}();function ZS(t,e){return t.getCoordSysModel()===e}function vk(t,e,r,i){r.getAxesOnZeroOf=function(){return a?[a]:[]};var n=t[e],a,s=r.model,o=s.get(["axisLine","onZero"]),u=s.get(["axisLine","onZeroAxisIndex"]);if(!o)return;if(u!=null)mk(n[u])&&(a=n[u]);else for(var l in n)if(n.hasOwnProperty(l)&&mk(n[l])&&!i[c(n[l])]){a=n[l];break}a&&(i[c(a)]=!0);function c(h){return h.dim+"_"+h.index}}function mk(t){return t&&t.type!=="category"&&t.type!=="time"&&AEe(t)}function Y6e(t,e){var r=t.getExtent(),i=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(n){return n+e}:function(n){return i-n+e},t.toLocalCoord=t.dim==="x"?function(n){return n-e}:function(n){return i-n+e}}var xc=Math.PI,la=function(){function t(e,r){this.group=new dt,this.opt=r,this.axisModel=e,st(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var i=new dt({x:r.position[0],y:r.position[1],rotation:r.rotation});i.updateTransform(),this._transformGroup=i}return t.prototype.hasBuilder=function(e){return!!yk[e]},t.prototype.add=function(e){yk[e](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(e,r,i){var n=lZ(r-e),a,s;return D2(n)?(s=i>0?"top":"bottom",a="center"):D2(n-xc)?(s=i>0?"bottom":"top",a="center"):(s="middle",n>0&&n<xc?a=i>0?"right":"left":a=i>0?"left":"right"),{rotation:n,textAlign:a,textVerticalAlign:s}},t.makeAxisEventDataBase=function(e){var r={componentType:e.mainType,componentIndex:e.componentIndex};return r[e.mainType+"Index"]=e.componentIndex,r},t.isLabelSilent=function(e){var r=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||r&&r.show)},t}(),yk={axisLine:function(t,e,r,i){var n=e.get(["axisLine","show"]);if(n==="auto"&&t.handleAutoShown&&(n=t.handleAutoShown("axisLine")),!!n){var a=e.axis.getExtent(),s=i.transform,o=[a[0],0],u=[a[1],0],l=o[0]>u[0];s&&(Yi(o,o,s),Yi(u,u,s));var c=Ce({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new Ui({shape:{x1:o[0],y1:o[1],x2:u[0],y2:u[1]},style:c,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});Tp(h.shape,h.style.lineWidth),h.anid="line",r.add(h);var f=e.get(["axisLine","symbol"]);if(f!=null){var d=e.get(["axisLine","symbolSize"]);Xe(f)&&(f=[f,f]),(Xe(d)||Zt(d))&&(d=[d,d]);var p=Tf(e.get(["axisLine","symbolOffset"])||0,d),g=d[0],v=d[1];G([{rotate:t.rotation+Math.PI/2,offset:p[0],r:0},{rotate:t.rotation-Math.PI/2,offset:p[1],r:Math.sqrt((o[0]-u[0])*(o[0]-u[0])+(o[1]-u[1])*(o[1]-u[1]))}],function(m,y){if(f[y]!=="none"&&f[y]!=null){var _=vi(f[y],-g/2,-v/2,g,v,c.stroke,!0),x=m.r+m.offset,b=l?u:o;_.attr({rotation:m.rotate,x:b[0]+x*Math.cos(t.rotation),y:b[1]-x*Math.sin(t.rotation),silent:!0,z2:11}),r.add(_)}})}}},axisTickLabel:function(t,e,r,i){var n=Z6e(r,i,e,t),a=J6e(r,i,e,t);if(X6e(e,a,n),K6e(r,i,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var s=cQ(Ie(a,function(o){return{label:o,priority:o.z2,defaultAttr:{ignore:o.ignore}}}));dQ(s)}},axisName:function(t,e,r,i){var n=dn(t.axisName,e.get("name"));if(n){var a=e.get("nameLocation"),s=t.nameDirection,o=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,l=e.axis.getExtent(),c=l[0]>l[1]?-1:1,h=[a==="start"?l[0]-c*u:a==="end"?l[1]+c*u:(l[0]+l[1])/2,xk(a)?t.labelOffset+s*u:0],f,d=e.get("nameRotate");d!=null&&(d=d*xc/180);var p;xk(a)?f=la.innerTextLayout(t.rotation,d??t.rotation,s):(f=q6e(t.rotation,a,d||0,l),p=t.axisNameAvailableWidth,p!=null&&(p=Math.abs(p/Math.sin(f.rotation)),!isFinite(p)&&(p=null)));var g=o.getFont(),v=e.get("nameTruncate",!0)||{},m=v.ellipsis,y=dn(t.nameTruncateMaxWidth,v.maxWidth,p),_=new zt({x:h[0],y:h[1],rotation:f.rotation,silent:la.isLabelSilent(e),style:pr(o,{text:n,font:g,overflow:"truncate",width:y,ellipsis:m,fill:o.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:o.get("align")||f.textAlign,verticalAlign:o.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(Ef({el:_,componentModel:e,itemName:n}),_.__fullText=n,_.anid="name",e.get("triggerEvent")){var x=la.makeAxisEventDataBase(e);x.targetType="axisName",x.name=n,pt(_).eventData=x}i.add(_),_.updateTransform(),r.add(_),_.decomposeTransform()}}};function q6e(t,e,r,i){var n=lZ(r-t),a,s,o=i[0]>i[1],u=e==="start"&&!o||e!=="start"&&o;return D2(n-xc/2)?(s=u?"bottom":"top",a="center"):D2(n-xc*1.5)?(s=u?"top":"bottom",a="center"):(s="middle",n<xc*1.5&&n>xc/2?a=u?"left":"right":a=u?"right":"left"),{rotation:n,textAlign:a,textVerticalAlign:s}}function X6e(t,e,r){if(!KJ(t.axis)){var i=t.get(["axisLabel","showMinLabel"]),n=t.get(["axisLabel","showMaxLabel"]);e=e||[],r=r||[];var a=e[0],s=e[1],o=e[e.length-1],u=e[e.length-2],l=r[0],c=r[1],h=r[r.length-1],f=r[r.length-2];i===!1?(fs(a),fs(l)):_k(a,s)&&(i?(fs(s),fs(c)):(fs(a),fs(l))),n===!1?(fs(o),fs(h)):_k(u,o)&&(n?(fs(u),fs(f)):(fs(o),fs(h)))}}function fs(t){t&&(t.ignore=!0)}function _k(t,e){var r=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(!(!r||!i)){var n=vb([]);return bf(n,n,-t.rotation),r.applyTransform(rl([],n,t.getLocalTransform())),i.applyTransform(rl([],n,e.getLocalTransform())),r.intersect(i)}}function xk(t){return t==="middle"||t==="center"}function ZQ(t,e,r,i,n){for(var a=[],s=[],o=[],u=0;u<t.length;u++){var l=t[u].coord;s[0]=l,s[1]=0,o[0]=l,o[1]=r,e&&(Yi(s,s,e),Yi(o,o,e));var c=new Ui({shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:i,z2:2,autoBatch:!0,silent:!0});Tp(c.shape,c.style.lineWidth),c.anid=n+"_"+t[u].tickValue,a.push(c)}return a}function Z6e(t,e,r,i){var n=r.axis,a=r.getModel("axisTick"),s=a.get("show");if(s==="auto"&&i.handleAutoShown&&(s=i.handleAutoShown("axisTick")),!(!s||n.scale.isBlank())){for(var o=a.getModel("lineStyle"),u=i.tickDirection*a.get("length"),l=n.getTicksCoords(),c=ZQ(l,e.transform,u,st(o.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<c.length;h++)t.add(c[h]);return c}}function K6e(t,e,r,i){var n=r.axis,a=r.getModel("minorTick");if(!(!a.get("show")||n.scale.isBlank())){var s=n.getMinorTicksCoords();if(s.length)for(var o=a.getModel("lineStyle"),u=i*a.get("length"),l=st(o.getLineStyle(),st(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),c=0;c<s.length;c++)for(var h=ZQ(s[c],e.transform,u,l,"minorticks_"+c),f=0;f<h.length;f++)t.add(h[f])}}function J6e(t,e,r,i){var n=r.axis,a=dn(i.axisLabelShow,r.get(["axisLabel","show"]));if(!(!a||n.scale.isBlank())){var s=r.getModel("axisLabel"),o=s.get("margin"),u=n.getViewLabels(),l=(dn(i.labelRotate,s.get("rotate"))||0)*xc/180,c=la.innerTextLayout(i.rotation,l,i.labelDirection),h=r.getCategories&&r.getCategories(!0),f=[],d=la.isLabelSilent(r),p=r.get("triggerEvent");return G(u,function(g,v){var m=n.scale.type==="ordinal"?n.scale.getRawOrdinalNumber(g.tickValue):g.tickValue,y=g.formattedLabel,_=g.rawLabel,x=s;if(h&&h[m]){var b=h[m];lt(b)&&b.textStyle&&(x=new Xt(b.textStyle,s,r.ecModel))}var C=x.getTextColor()||r.get(["axisLine","lineStyle","color"]),E=n.dataToCoord(m),A=x.getShallow("align",!0)||c.textAlign,S=gt(x.getShallow("alignMinLabel",!0),A),T=gt(x.getShallow("alignMaxLabel",!0),A),D=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||c.textVerticalAlign,F=gt(x.getShallow("verticalAlignMinLabel",!0),D),B=gt(x.getShallow("verticalAlignMaxLabel",!0),D),O=new zt({x:E,y:i.labelOffset+i.labelDirection*o,rotation:c.rotation,silent:d,z2:10+(g.level||0),style:pr(x,{text:y,align:v===0?S:v===u.length-1?T:A,verticalAlign:v===0?F:v===u.length-1?B:D,fill:ot(C)?C(n.type==="category"?_:n.type==="value"?m+"":m,v):C})});if(O.anid="label_"+m,Ef({el:O,componentModel:r,itemName:y,formatterParamsExtra:{isTruncated:function(){return O.isTruncated},value:_,tickIndex:v}}),p){var M=la.makeAxisEventDataBase(r);M.targetType="axisLabel",M.value=_,M.tickIndex=v,n.type==="category"&&(M.dataIndex=m),pt(O).eventData=M}e.add(O),O.updateTransform(),f.push(O),t.add(O),O.decomposeTransform()}),f}}function Q6e(t,e){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return eTe(r,t,e),r.seriesInvolved&&rTe(r,t),r}function eTe(t,e,r){var i=e.getComponent("tooltip"),n=e.getComponent("axisPointer"),a=n.get("link",!0)||[],s=[];G(r.getCoordinateSystems(),function(o){if(!o.axisPointerEnabled)return;var u=j2(o.model),l=t.coordSysAxesInfo[u]={};t.coordSysMap[u]=o;var c=o.model,h=c.getModel("tooltip",i);if(G(o.getAxes(),mt(g,!1,null)),o.getTooltipAxes&&i&&h.get("show")){var f=h.get("trigger")==="axis",d=h.get(["axisPointer","type"])==="cross",p=o.getTooltipAxes(h.get(["axisPointer","axis"]));(f||d)&&G(p.baseAxes,mt(g,d?"cross":!0,f)),d&&G(p.otherAxes,mt(g,"cross",!1))}function g(v,m,y){var _=y.model.getModel("axisPointer",n),x=_.get("show");if(!(!x||x==="auto"&&!v&&!gw(_))){m==null&&(m=_.get("triggerTooltip")),_=v?tTe(y,h,n,e,v,m):_;var b=_.get("snap"),C=_.get("triggerEmphasis"),E=j2(y.model),A=m||b||y.type==="category",S=t.axesInfo[E]={key:E,axis:y,coordSys:o,axisPointerModel:_,triggerTooltip:m,triggerEmphasis:C,involveSeries:A,snap:b,useHandle:gw(_),seriesModels:[],linkGroup:null};l[E]=S,t.seriesInvolved=t.seriesInvolved||A;var T=iTe(a,y);if(T!=null){var D=s[T]||(s[T]={axesInfo:{}});D.axesInfo[E]=S,D.mapper=a[T].mapper,S.linkGroup=D}}}})}function tTe(t,e,r,i,n,a){var s=e.getModel("axisPointer"),o=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],u={};G(o,function(f){u[f]=ht(s.get(f))}),u.snap=t.type!=="category"&&!!a,s.get("type")==="cross"&&(u.type="line");var l=u.label||(u.label={});if(l.show==null&&(l.show=!1),n==="cross"){var c=s.get(["label","show"]);if(l.show=c??!0,!a){var h=u.lineStyle=s.get("crossStyle");h&&st(l,h.textStyle)}}return t.model.getModel("axisPointer",new Xt(u,r,i))}function rTe(t,e){e.eachSeries(function(r){var i=r.coordinateSystem,n=r.get(["tooltip","trigger"],!0),a=r.get(["tooltip","show"],!0);!i||n==="none"||n===!1||n==="item"||a===!1||r.get(["axisPointer","show"],!0)===!1||G(t.coordSysAxesInfo[j2(i.model)],function(s){var o=s.axis;i.getAxis(o.dim)===o&&(s.seriesModels.push(r),s.seriesDataCount==null&&(s.seriesDataCount=0),s.seriesDataCount+=r.getData().count())})})}function iTe(t,e){for(var r=e.model,i=e.dim,n=0;n<t.length;n++){var a=t[n]||{};if(KS(a[i+"AxisId"],r.id)||KS(a[i+"AxisIndex"],r.componentIndex)||KS(a[i+"AxisName"],r.name))return n}}function KS(t,e){return t==="all"||Te(t)&&wt(t,e)>=0||t===e}function nTe(t){var e=oF(t);if(e){var r=e.axisPointerModel,i=e.axis.scale,n=r.option,a=r.get("status"),s=r.get("value");s!=null&&(s=i.parse(s));var o=gw(r);a==null&&(n.status=o?"show":"hide");var u=i.getExtent().slice();u[0]>u[1]&&u.reverse(),(s==null||s>u[1])&&(s=u[1]),s<u[0]&&(s=u[0]),n.value=s,o&&(n.status=e.axis.scale.isBlank()?"hide":"show")}}function oF(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[j2(t)]}function aTe(t){var e=oF(t);return e&&e.axisPointerModel}function gw(t){return!!t.get(["handle","show"])}function j2(t){return t.type+"||"+t.id}var bk={},Df=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n,a){this.axisPointerClass&&nTe(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,n,!0)},e.prototype.updateAxisPointer=function(r,i,n,a){this._doUpdateAxisPointerClass(r,n,!1)},e.prototype.remove=function(r,i){var n=this._axisPointer;n&&n.remove(i)},e.prototype.dispose=function(r,i){this._disposeAxisPointer(i),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(r,i,n){var a=e.getAxisPointerClass(this.axisPointerClass);if(a){var s=aTe(r);s?(this._axisPointer||(this._axisPointer=new a)).render(r,s,i,n):this._disposeAxisPointer(i)}},e.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},e.registerAxisPointerClass=function(r,i){bk[r]=i},e.getAxisPointerClass=function(r){return r&&bk[r]},e.type="axis",e}(_r),vw=Yt();function KQ(t,e,r,i){var n=r.axis;if(!n.scale.isBlank()){var a=r.getModel("splitArea"),s=a.getModel("areaStyle"),o=s.get("color"),u=i.coordinateSystem.getRect(),l=n.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var c=o.length,h=vw(t).splitAreaColors,f=nt(),d=0;if(h)for(var p=0;p<l.length;p++){var g=h.get(l[p].tickValue);if(g!=null){d=(g+(c-1)*p)%c;break}}var v=n.toGlobalCoord(l[0].coord),m=s.getAreaStyle();o=Te(o)?o:[o];for(var p=1;p<l.length;p++){var y=n.toGlobalCoord(l[p].coord),_=void 0,x=void 0,b=void 0,C=void 0;n.isHorizontal()?(_=v,x=u.y,b=y-_,C=u.height,v=_+b):(_=u.x,x=v,b=u.width,C=y-x,v=x+C);var E=l[p-1].tickValue;E!=null&&f.set(E,d),e.add(new Gt({anid:E!=null?"area_"+E:null,shape:{x:_,y:x,width:b,height:C},style:st({fill:o[d]},m),autoBatch:!0,silent:!0})),d=(d+1)%c}vw(t).splitAreaColors=f}}}function JQ(t){vw(t).splitAreaColors=null}var sTe=["axisLine","axisTickLabel","axisName"],oTe=["splitArea","splitLine","minorSplitLine"],QQ=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="CartesianAxisPointer",r}return e.prototype.render=function(r,i,n,a){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new dt,this.group.add(this._axisGroup),!!r.get("show")){var o=r.getCoordSysModel(),u=pw(o,r),l=new la(r,Ce({handleAutoShown:function(h){for(var f=o.coordinateSystem.getCartesians(),d=0;d<f.length;d++)if(aw(f[d].getOtherAxis(r.axis).scale))return!0;return!1}},u));G(sTe,l.add,l),this._axisGroup.add(l.getGroup()),G(oTe,function(h){r.get([h,"show"])&&uTe[h](this,this._axisGroup,r,o)},this);var c=a&&a.type==="changeAxisOrder"&&a.isInitSort;c||Im(s,this._axisGroup,r),t.prototype.render.call(this,r,i,n,a)}},e.prototype.remove=function(){JQ(this)},e.type="cartesianAxis",e}(Df),uTe={splitLine:function(t,e,r,i){var n=r.axis;if(!n.scale.isBlank()){var a=r.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color"),u=a.get("showMinLine")!==!1,l=a.get("showMaxLine")!==!1;o=Te(o)?o:[o];for(var c=i.coordinateSystem.getRect(),h=n.isHorizontal(),f=0,d=n.getTicksCoords({tickModel:a}),p=[],g=[],v=s.getLineStyle(),m=0;m<d.length;m++){var y=n.toGlobalCoord(d[m].coord);if(!(m===0&&!u||m===d.length-1&&!l)){var _=d[m].tickValue;h?(p[0]=y,p[1]=c.y,g[0]=y,g[1]=c.y+c.height):(p[0]=c.x,p[1]=y,g[0]=c.x+c.width,g[1]=y);var x=f++%o.length,b=new Ui({anid:_!=null?"line_"+_:null,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:st({stroke:o[x]},v),silent:!0});Tp(b.shape,v.lineWidth),e.add(b)}}}},minorSplitLine:function(t,e,r,i){var n=r.axis,a=r.getModel("minorSplitLine"),s=a.getModel("lineStyle"),o=i.coordinateSystem.getRect(),u=n.isHorizontal(),l=n.getMinorTicksCoords();if(l.length)for(var c=[],h=[],f=s.getLineStyle(),d=0;d<l.length;d++)for(var p=0;p<l[d].length;p++){var g=n.toGlobalCoord(l[d][p].coord);u?(c[0]=g,c[1]=o.y,h[0]=g,h[1]=o.y+o.height):(c[0]=o.x,c[1]=g,h[0]=o.x+o.width,h[1]=g);var v=new Ui({anid:"minor_line_"+l[d][p].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:f,silent:!0});Tp(v.shape,f.lineWidth),e.add(v)}},splitArea:function(t,e,r,i){KQ(t,e,r,i)}},eee=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="xAxis",e}(QQ),lTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=eee.type,r}return e.type="yAxis",e}(QQ),cTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return e.prototype.render=function(r,i){this.group.removeAll(),r.get("show")&&this.group.add(new Gt({shape:r.coordinateSystem.getRect(),style:st({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(_r),Ck={offset:0};function tee(t){t.registerComponentView(cTe),t.registerComponentModel(z6e),t.registerCoordinateSystem("cartesian2d",W6e),Fp(t,"x",fw,Ck),Fp(t,"y",fw,Ck),t.registerComponentView(eee),t.registerComponentView(lTe),t.registerPreprocessor(function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})}function hTe(t){ft(tee),t.registerSeriesModel(L6e),t.registerChartView(k6e),t.registerLayout(km("scatter"))}function fTe(t){t.eachSeriesByType("radar",function(e){var r=e.getData(),i=[],n=e.coordinateSystem;if(n){var a=n.getIndicatorAxes();G(a,function(s,o){r.each(r.mapDimension(a[o].dim),function(u,l){i[l]=i[l]||[];var c=n.dataToPoint(u,o);i[l][o]=Ek(c)?c:Sk(n)})}),r.each(function(s){var o=r_e(i[s],function(u){return Ek(u)})||Sk(n);i[s].push(o.slice()),r.setItemLayout(s,i[s])})}})}function Ek(t){return!isNaN(t[0])&&!isNaN(t[1])}function Sk(t){return[t.cx,t.cy]}function dTe(t){var e=t.polar;if(e){Te(e)||(e=[e]);var r=[];G(e,function(i,n){i.indicator?(i.type&&!i.shape&&(i.shape=i.type),t.radar=t.radar||[],Te(t.radar)||(t.radar=[t.radar]),t.radar.push(i)):r.push(i)}),t.polar=r}G(t.series,function(i){i&&i.type==="radar"&&i.polarIndex&&(i.radarIndex=i.polarIndex)})}var pTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=r.coordinateSystem,s=this.group,o=r.getData(),u=this._data;function l(f,d){var p=f.getItemVisual(d,"symbol")||"circle";if(p!=="none"){var g=_g(f.getItemVisual(d,"symbolSize")),v=vi(p,-1,-1,2,2),m=f.getItemVisual(d,"symbolRotate")||0;return v.attr({style:{strokeNoScale:!0},z2:100,scaleX:g[0]/2,scaleY:g[1]/2,rotation:m*Math.PI/180||0}),v}}function c(f,d,p,g,v,m){p.removeAll();for(var y=0;y<d.length-1;y++){var _=l(g,v);_&&(_.__dimIdx=y,f[y]?(_.setPosition(f[y]),Sf[m?"initProps":"updateProps"](_,{x:d[y][0],y:d[y][1]},r,v)):_.setPosition(d[y]),p.add(_))}}function h(f){return Ie(f,function(d){return[a.cx,a.cy]})}o.diff(u).add(function(f){var d=o.getItemLayout(f);if(d){var p=new pa,g=new ya,v={shape:{points:d}};p.shape.points=h(d),g.shape.points=h(d),Nr(p,v,r,f),Nr(g,v,r,f);var m=new dt,y=new dt;m.add(g),m.add(p),m.add(y),c(g.shape.points,d,y,o,f,!0),o.setItemGraphicEl(f,m)}}).update(function(f,d){var p=u.getItemGraphicEl(d),g=p.childAt(0),v=p.childAt(1),m=p.childAt(2),y={shape:{points:o.getItemLayout(f)}};y.shape.points&&(c(g.shape.points,y.shape.points,m,o,f,!1),bo(v),bo(g),er(g,y,r),er(v,y,r),o.setItemGraphicEl(f,p))}).remove(function(f){s.remove(u.getItemGraphicEl(f))}).execute(),o.eachItemGraphicEl(function(f,d){var p=o.getItemModel(d),g=f.childAt(0),v=f.childAt(1),m=f.childAt(2),y=o.getItemVisual(d,"style"),_=y.fill;s.add(f),g.useStyle(st(p.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_})),Fn(g,p,"lineStyle"),Fn(v,p,"areaStyle");var x=p.getModel("areaStyle"),b=x.isEmpty()&&x.parentModel.isEmpty();v.ignore=b,G(["emphasis","select","blur"],function(A){var S=p.getModel([A,"areaStyle"]),T=S.isEmpty()&&S.parentModel.isEmpty();v.ensureState(A).ignore=T&&b}),v.useStyle(st(x.getAreaStyle(),{fill:_,opacity:.7,decal:y.decal}));var C=p.getModel("emphasis"),E=C.getModel("itemStyle").getItemStyle();m.eachChild(function(A){if(A instanceof en){var S=A.style;A.useStyle(Ce({image:S.image,x:S.x,y:S.y,width:S.width,height:S.height},y))}else A.useStyle(y),A.setColor(_),A.style.strokeNoScale=!0;var T=A.ensureState("emphasis");T.style=ht(E);var D=o.getStore().get(o.getDimensionIndex(A.__dimIdx),d);(D==null||isNaN(D))&&(D=""),In(A,Ki(p),{labelFetcher:o.hostModel,labelDataIndex:d,labelDimIndex:A.__dimIdx,defaultText:D,inheritColor:_,defaultOpacity:y.opacity})}),Zr(f,C.get("focus"),C.get("blurScope"),C.get("disabled"))}),this._data=o},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(Wt),gTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hm(Je(this.getData,this),Je(this.getRawData,this))},e.prototype.getInitialData=function(r,i){return Eg(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(r,i,n){var a=this.getData(),s=this.coordinateSystem,o=s.getIndicatorAxes(),u=this.getData().getName(r),l=u===""?this.name:u,c=XK(this,r);return Ji("section",{header:l,sortBlocks:!0,blocks:Ie(o,function(h){var f=a.get(a.mapDimension(h.dim),r);return Ji("nameValue",{markerType:"subItem",markerColor:c,name:h.name,value:f,sortParam:f})})})},e.prototype.getTooltipPosition=function(r){if(r!=null){for(var i=this.getData(),n=this.coordinateSystem,a=i.getValues(Ie(n.dimensions,function(l){return i.mapDimension(l)}),r),s=0,o=a.length;s<o;s++)if(!isNaN(a[s])){var u=n.getIndicatorAxes();return n.coordToPoint(u[s].dataToCoord(a[s]),s)}}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(Kt),Av=qQ.value;function F_(t,e){return st({show:e},t)}var vTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),i=this.get("splitNumber"),n=this.get("scale"),a=this.get("axisLine"),s=this.get("axisTick"),o=this.get("axisLabel"),u=this.get("axisName"),l=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),d=Ie(this.get("indicator")||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var g=u;p.color!=null&&(g=st({color:p.color},u));var v=et(ht(p),{boundaryGap:r,splitNumber:i,scale:n,axisLine:a,axisTick:s,axisLabel:o,name:p.text,showName:l,nameLocation:"end",nameGap:h,nameTextStyle:g,triggerEvent:f},!1);if(Xe(c)){var m=v.name;v.name=c.replace("{value}",m??"")}else ot(c)&&(v.name=c(v.name,v));var y=new Xt(v,null,this.ecModel);return yi(y,Cg.prototype),y.mainType="radar",y.componentIndex=this.componentIndex,y},this);this._indicatorModels=d},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:et({lineStyle:{color:"#bbb"}},Av.axisLine),axisLabel:F_(Av.axisLabel,!1),axisTick:F_(Av.axisTick,!1),splitLine:F_(Av.splitLine,!0),splitArea:F_(Av.splitArea,!0),indicator:[]},e}(Dt),mTe=["axisLine","axisTickLabel","axisName"],yTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=this.group;a.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},e.prototype._buildAxes=function(r){var i=r.coordinateSystem,n=i.getIndicatorAxes(),a=Ie(n,function(s){var o=s.model.get("showName")?s.name:"",u=new la(s.model,{axisName:o,position:[i.cx,i.cy],rotation:s.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return u});G(a,function(s){G(mTe,s.add,s),this.group.add(s.getGroup())},this)},e.prototype._buildSplitLineAndArea=function(r){var i=r.coordinateSystem,n=i.getIndicatorAxes();if(!n.length)return;var a=r.get("shape"),s=r.getModel("splitLine"),o=r.getModel("splitArea"),u=s.getModel("lineStyle"),l=o.getModel("areaStyle"),c=s.get("show"),h=o.get("show"),f=u.get("color"),d=l.get("color"),p=Te(f)?f:[f],g=Te(d)?d:[d],v=[],m=[];function y(M,R,z){var k=z%R.length;return M[k]=M[k]||[],k}if(a==="circle")for(var _=n[0].getTicksCoords(),x=i.cx,b=i.cy,C=0;C<_.length;C++){if(c){var E=y(v,p,C);v[E].push(new Dl({shape:{cx:x,cy:b,r:_[C].coord}}))}if(h&&C<_.length-1){var E=y(m,g,C);m[E].push(new wm({shape:{cx:x,cy:b,r0:_[C].coord,r:_[C+1].coord}}))}}else for(var A,S=Ie(n,function(M,R){var z=M.getTicksCoords();return A=A==null?z.length-1:Math.min(z.length-1,A),Ie(z,function(k){return i.coordToPoint(k.coord,R)})}),T=[],C=0;C<=A;C++){for(var D=[],F=0;F<n.length;F++)D.push(S[F][C]);if(D[0]&&D.push(D[0].slice()),c){var E=y(v,p,C);v[E].push(new ya({shape:{points:D}}))}if(h&&T){var E=y(m,g,C-1);m[E].push(new pa({shape:{points:D.concat(T)}}))}T=D.slice().reverse()}var B=u.getLineStyle(),O=l.getAreaStyle();G(m,function(M,R){this.group.add(As(M,{style:st({stroke:"none",fill:g[R%g.length]},O),silent:!0}))},this),G(v,function(M,R){this.group.add(As(M,{style:st({fill:"none",stroke:p[R%p.length]},B),silent:!0}))},this)},e.type="radar",e}(_r),_Te=function(t){ce(e,t);function e(r,i,n){var a=t.call(this,r,i,n)||this;return a.type="value",a.angle=0,a.name="",a}return e}(_a),xTe=function(){function t(e,r,i){this.dimensions=[],this._model=e,this._indicatorAxes=Ie(e.getIndicatorModels(),function(n,a){var s="indicator_"+a,o=new _Te(s,new yl);return o.name=n.get("name"),o.model=n,n.axis=o,this.dimensions.push(s),o},this),this.resize(e,i)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(e,r){var i=this._indicatorAxes[r];return this.coordToPoint(i.dataToCoord(e),r)},t.prototype.coordToPoint=function(e,r){var i=this._indicatorAxes[r],n=i.angle,a=this.cx+e*Math.cos(n),s=this.cy-e*Math.sin(n);return[a,s]},t.prototype.pointToData=function(e){var r=e[0]-this.cx,i=e[1]-this.cy,n=Math.sqrt(r*r+i*i);r/=n,i/=n;for(var a=Math.atan2(-i,r),s=1/0,o,u=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],h=Math.abs(a-c.angle);h<s&&(o=c,u=l,s=h)}return[u,+(o&&o.coordToData(n))]},t.prototype.resize=function(e,r){var i=e.get("center"),n=r.getWidth(),a=r.getHeight(),s=Math.min(n,a)/2;this.cx=je(i[0],n),this.cy=je(i[1],a),this.startAngle=e.get("startAngle")*Math.PI/180;var o=e.get("radius");(Xe(o)||Zt(o))&&(o=[0,o]),this.r0=je(o[0],s),this.r=je(o[1],s),G(this._indicatorAxes,function(u,l){u.setExtent(this.r0,this.r);var c=this.startAngle+l*Math.PI*2/this._indicatorAxes.length;c=Math.atan2(Math.sin(c),Math.cos(c)),u.angle=c},this)},t.prototype.update=function(e,r){var i=this._indicatorAxes,n=this._model;G(i,function(o){o.scale.setExtent(1/0,-1/0)}),e.eachSeriesByType("radar",function(o,u){if(!(o.get("coordinateSystem")!=="radar"||e.getComponent("radar",o.get("radarIndex"))!==n)){var l=o.getData();G(i,function(c){c.scale.unionExtentFromData(l,l.mapDimension(c.dim))})}},this);var a=n.get("splitNumber"),s=new yl;s.setExtent(0,a),s.setInterval(1),G(i,function(o,u){XQ(o.scale,o.model,s)})},t.prototype.convertToPixel=function(e,r,i){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(e,r,i){return console.warn("Not implemented."),null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.create=function(e,r){var i=[];return e.eachComponent("radar",function(n){var a=new t(n,e,r);i.push(a),n.coordinateSystem=a}),e.eachSeriesByType("radar",function(n){n.get("coordinateSystem")==="radar"&&(n.coordinateSystem=i[n.get("radarIndex")||0])}),i},t.dimensions=[],t}();function bTe(t){t.registerCoordinateSystem("radar",xTe),t.registerComponentModel(vTe),t.registerComponentView(yTe),t.registerVisual({seriesType:"radar",reset:function(e){var r=e.getData();r.each(function(i){r.setItemVisual(i,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function CTe(t){ft(bTe),t.registerChartView(pTe),t.registerSeriesModel(gTe),t.registerLayout(fTe),t.registerProcessor(zm("radar")),t.registerPreprocessor(dTe)}var Tk="\0_ec_interaction_mutex";function ETe(t,e,r){var i=uF(t);i[e]=r}function STe(t,e,r){var i=uF(t),n=i[e];n===r&&(i[e]=null)}function Ak(t,e){return!!uF(t)[e]}function uF(t){return t[Tk]||(t[Tk]={})}Tu({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},gi);var Gm=function(t){ce(e,t);function e(r){var i=t.call(this)||this;i._zr=r;var n=Je(i._mousedownHandler,i),a=Je(i._mousemoveHandler,i),s=Je(i._mouseupHandler,i),o=Je(i._mousewheelHandler,i),u=Je(i._pinchHandler,i);return i.enable=function(l,c){this.disable(),this._opt=st(ht(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),l==null&&(l=!0),(l===!0||l==="move"||l==="pan")&&(r.on("mousedown",n),r.on("mousemove",a),r.on("mouseup",s)),(l===!0||l==="scale"||l==="zoom")&&(r.on("mousewheel",o),r.on("pinch",u))},i.disable=function(){r.off("mousedown",n),r.off("mousemove",a),r.off("mouseup",s),r.off("mousewheel",o),r.off("pinch",u)},i}return e.prototype.isDragging=function(){return this._dragging},e.prototype.isPinching=function(){return this._pinching},e.prototype.setPointerChecker=function(r){this.pointerChecker=r},e.prototype.dispose=function(){this.disable()},e.prototype._mousedownHandler=function(r){if(!rO(r)){for(var i=r.target;i;){if(i.draggable)return;i=i.__hostTarget||i.parent}var n=r.offsetX,a=r.offsetY;this.pointerChecker&&this.pointerChecker(r,n,a)&&(this._x=n,this._y=a,this._dragging=!0)}},e.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!Kx("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||Ak(this._zr,"globalPan"))){var i=r.offsetX,n=r.offsetY,a=this._x,s=this._y,o=i-a,u=n-s;this._x=i,this._y=n,this._opt.preventDefaultMouseMove&&fl(r.event),ree(this,"pan","moveOnMouseMove",r,{dx:o,dy:u,oldX:a,oldY:s,newX:i,newY:n,isAvailableBehavior:null})}},e.prototype._mouseupHandler=function(r){rO(r)||(this._dragging=!1)},e.prototype._mousewheelHandler=function(r){var i=Kx("zoomOnMouseWheel",r,this._opt),n=Kx("moveOnMouseWheel",r,this._opt),a=r.wheelDelta,s=Math.abs(a),o=r.offsetX,u=r.offsetY;if(!(a===0||!i&&!n)){if(i){var l=s>3?1.4:s>1?1.2:1.1,c=a>0?l:1/l;JS(this,"zoom","zoomOnMouseWheel",r,{scale:c,originX:o,originY:u,isAvailableBehavior:null})}if(n){var h=Math.abs(a),f=(a>0?1:-1)*(h>3?.4:h>1?.15:.05);JS(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:f,originX:o,originY:u,isAvailableBehavior:null})}}},e.prototype._pinchHandler=function(r){if(!Ak(this._zr,"globalPan")){var i=r.pinchScale>1?1.1:1/1.1;JS(this,"zoom",null,r,{scale:i,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},e}(Us);function JS(t,e,r,i,n){t.pointerChecker&&t.pointerChecker(i,n.originX,n.originY)&&(fl(i.event),ree(t,e,r,i,n))}function ree(t,e,r,i,n){n.isAvailableBehavior=Je(Kx,null,r,i),t.trigger(e,n)}function Kx(t,e,r){var i=r[t];return!t||i&&(!Xe(i)||e.event[i+"Key"])}function lF(t,e,r){var i=t.target;i.x+=e,i.y+=r,i.dirty()}function cF(t,e,r,i){var n=t.target,a=t.zoomLimit,s=t.zoom=t.zoom||1;if(s*=e,a){var o=a.min||0,u=a.max||1/0;s=Math.max(Math.min(u,s),o)}var l=s/t.zoom;t.zoom=s,n.x-=(r-n.x)*(l-1),n.y-=(i-n.y)*(l-1),n.scaleX*=l,n.scaleY*=l,n.dirty()}var TTe={axisPointer:1,tooltip:1,brush:1};function qb(t,e,r){var i=e.getComponentByElement(t.topTarget),n=i&&i.coordinateSystem;return i&&i!==r&&!TTe.hasOwnProperty(i.mainType)&&n&&n.model!==r}function iee(t){if(Xe(t)){var e=new DOMParser;t=e.parseFromString(t,"text/xml")}var r=t;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var QS,j3={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},wk=kt(j3),V3={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Dk=kt(V3),ATe=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(e,r){r=r||{};var i=iee(e);this._defsUsePending=[];var n=new dt;this._root=n;var a=[],s=i.getAttribute("viewBox")||"",o=parseFloat(i.getAttribute("width")||r.width),u=parseFloat(i.getAttribute("height")||r.height);isNaN(o)&&(o=null),isNaN(u)&&(u=null),$a(i,n,null,!0,!1);for(var l=i.firstChild;l;)this._parseNode(l,n,a,null,!1,!1),l=l.nextSibling;FTe(this._defs,this._defsUsePending),this._defsUsePending=[];var c,h;if(s){var f=Xb(s);f.length>=4&&(c={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(c&&o!=null&&u!=null&&(h=aee(c,{x:0,y:0,width:o,height:u}),!r.ignoreViewBox)){var d=n;n=new dt,n.add(d),d.scaleX=d.scaleY=h.scale,d.x=h.x,d.y=h.y}return!r.ignoreRootClip&&o!=null&&u!=null&&n.setClipPath(new Gt({shape:{x:0,y:0,width:o,height:u}})),{root:n,width:o,height:u,viewBoxRect:c,viewBoxTransform:h,named:a}},t.prototype._parseNode=function(e,r,i,n,a,s){var o=e.nodeName.toLowerCase(),u,l=n;if(o==="defs"&&(a=!0),o==="text"&&(s=!0),o==="defs"||o==="switch")u=r;else{if(!a){var c=QS[o];if(c&&tt(QS,o)){u=c.call(this,e,r);var h=e.getAttribute("name");if(h){var f={name:h,namedFrom:null,svgNodeTagLower:o,el:u};i.push(f),o==="g"&&(l=f)}else n&&i.push({name:n.name,namedFrom:n,svgNodeTagLower:o,el:u});r.add(u)}}var d=Fk[o];if(d&&tt(Fk,o)){var p=d.call(this,e),g=e.getAttribute("id");g&&(this._defs[g]=p)}}if(u&&u.isGroup)for(var v=e.firstChild;v;)v.nodeType===1?this._parseNode(v,u,i,l,a,s):v.nodeType===3&&s&&this._parseText(v,u),v=v.nextSibling},t.prototype._parseText=function(e,r){var i=new Sp({style:{text:e.textContent},silent:!0,x:this._textX||0,y:this._textY||0});ds(r,i),$a(e,i,this._defsUsePending,!1,!1),wTe(i,r);var n=i.style,a=n.fontSize;a&&a<9&&(n.fontSize=9,i.scaleX*=a/9,i.scaleY*=a/9);var s=(n.fontSize||n.fontFamily)&&[n.fontStyle,n.fontWeight,(n.fontSize||12)+"px",n.fontFamily||"sans-serif"].join(" ");n.font=s;var o=i.getBoundingRect();return this._textX+=o.width,r.add(i),i},t.internalField=function(){QS={g:function(e,r){var i=new dt;return ds(r,i),$a(e,i,this._defsUsePending,!1,!1),i},rect:function(e,r){var i=new Gt;return ds(r,i),$a(e,i,this._defsUsePending,!1,!1),i.setShape({x:parseFloat(e.getAttribute("x")||"0"),y:parseFloat(e.getAttribute("y")||"0"),width:parseFloat(e.getAttribute("width")||"0"),height:parseFloat(e.getAttribute("height")||"0")}),i.silent=!0,i},circle:function(e,r){var i=new Dl;return ds(r,i),$a(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),r:parseFloat(e.getAttribute("r")||"0")}),i.silent=!0,i},line:function(e,r){var i=new Ui;return ds(r,i),$a(e,i,this._defsUsePending,!1,!1),i.setShape({x1:parseFloat(e.getAttribute("x1")||"0"),y1:parseFloat(e.getAttribute("y1")||"0"),x2:parseFloat(e.getAttribute("x2")||"0"),y2:parseFloat(e.getAttribute("y2")||"0")}),i.silent=!0,i},ellipse:function(e,r){var i=new wb;return ds(r,i),$a(e,i,this._defsUsePending,!1,!1),i.setShape({cx:parseFloat(e.getAttribute("cx")||"0"),cy:parseFloat(e.getAttribute("cy")||"0"),rx:parseFloat(e.getAttribute("rx")||"0"),ry:parseFloat(e.getAttribute("ry")||"0")}),i.silent=!0,i},polygon:function(e,r){var i=e.getAttribute("points"),n;i&&(n=Mk(i));var a=new pa({shape:{points:n||[]},silent:!0});return ds(r,a),$a(e,a,this._defsUsePending,!1,!1),a},polyline:function(e,r){var i=e.getAttribute("points"),n;i&&(n=Mk(i));var a=new ya({shape:{points:n||[]},silent:!0});return ds(r,a),$a(e,a,this._defsUsePending,!1,!1),a},image:function(e,r){var i=new en;return ds(r,i),$a(e,i,this._defsUsePending,!1,!1),i.setStyle({image:e.getAttribute("xlink:href")||e.getAttribute("href"),x:+e.getAttribute("x"),y:+e.getAttribute("y"),width:+e.getAttribute("width"),height:+e.getAttribute("height")}),i.silent=!0,i},text:function(e,r){var i=e.getAttribute("x")||"0",n=e.getAttribute("y")||"0",a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0";this._textX=parseFloat(i)+parseFloat(a),this._textY=parseFloat(n)+parseFloat(s);var o=new dt;return ds(r,o),$a(e,o,this._defsUsePending,!1,!0),o},tspan:function(e,r){var i=e.getAttribute("x"),n=e.getAttribute("y");i!=null&&(this._textX=parseFloat(i)),n!=null&&(this._textY=parseFloat(n));var a=e.getAttribute("dx")||"0",s=e.getAttribute("dy")||"0",o=new dt;return ds(r,o),$a(e,o,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(s),o},path:function(e,r){var i=e.getAttribute("d")||"",n=VZ(i);return ds(r,n),$a(e,n,this._defsUsePending,!1,!1),n.silent=!0,n}}}(),t}(),Fk={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||"0",10),r=parseInt(t.getAttribute("y1")||"0",10),i=parseInt(t.getAttribute("x2")||"10",10),n=parseInt(t.getAttribute("y2")||"0",10),a=new Fm(e,r,i,n);return Ik(t,a),Bk(t,a),a},radialgradient:function(t){var e=parseInt(t.getAttribute("cx")||"0",10),r=parseInt(t.getAttribute("cy")||"0",10),i=parseInt(t.getAttribute("r")||"0",10),n=new qZ(e,r,i);return Ik(t,n),Bk(t,n),n}};function Ik(t,e){var r=t.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(e.global=!0)}function Bk(t,e){for(var r=t.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var i=r.getAttribute("offset"),n=void 0;i&&i.indexOf("%")>0?n=parseInt(i,10)/100:i?n=parseFloat(i):n=0;var a={};nee(r,a,a);var s=a.stopColor||r.getAttribute("stop-color")||"#000000";e.colorStops.push({offset:n,color:s})}r=r.nextSibling}}function ds(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),st(e.__inheritedStyle,t.__inheritedStyle))}function Mk(t){for(var e=Xb(t),r=[],i=0;i<e.length;i+=2){var n=parseFloat(e[i]),a=parseFloat(e[i+1]);r.push([n,a])}return r}function $a(t,e,r,i,n){var a=e,s=a.__inheritedStyle=a.__inheritedStyle||{},o={};t.nodeType===1&&(MTe(t,e),nee(t,s,o),i||PTe(t,s,o)),a.style=a.style||{},s.fill!=null&&(a.style.fill=Pk(a,"fill",s.fill,r)),s.stroke!=null&&(a.style.stroke=Pk(a,"stroke",s.stroke,r)),G(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(u){s[u]!=null&&(a.style[u]=parseFloat(s[u]))}),G(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(u){s[u]!=null&&(a.style[u]=s[u])}),n&&(a.__selfStyle=o),s.lineDash&&(a.style.lineDash=Ie(Xb(s.lineDash),function(u){return parseFloat(u)})),(s.visibility==="hidden"||s.visibility==="collapse")&&(a.invisible=!0),s.display==="none"&&(a.ignore=!0)}function wTe(t,e){var r=e.__selfStyle;if(r){var i=r.textBaseline,n=i;!i||i==="auto"||i==="baseline"?n="alphabetic":i==="before-edge"||i==="text-before-edge"?n="top":i==="after-edge"||i==="text-after-edge"?n="bottom":(i==="central"||i==="mathematical")&&(n="middle"),t.style.textBaseline=n}var a=e.__inheritedStyle;if(a){var s=a.textAlign,o=s;s&&(s==="middle"&&(o="center"),t.style.textAlign=o)}}var DTe=/^url\(\s*#(.*?)\)/;function Pk(t,e,r,i){var n=r&&r.match(DTe);if(n){var a=oo(n[1]);i.push([t,e,a]);return}return r==="none"&&(r=null),r}function FTe(t,e){for(var r=0;r<e.length;r++){var i=e[r];i[0].style[i[1]]=t[i[2]]}}var ITe=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Xb(t){return t.match(ITe)||[]}var BTe=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,e6=Math.PI/180;function MTe(t,e){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var i=[],n=null;r.replace(BTe,function(h,f,d){return i.push(f,d),""});for(var a=i.length-1;a>0;a-=2){var s=i[a],o=i[a-1],u=Xb(s);switch(n=n||Oa(),o){case"translate":mu(n,n,[parseFloat(u[0]),parseFloat(u[1]||"0")]);break;case"scale":Q7(n,n,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case"rotate":bf(n,n,-parseFloat(u[0])*e6,[parseFloat(u[1]||"0"),parseFloat(u[2]||"0")]);break;case"skewX":var l=Math.tan(parseFloat(u[0])*e6);rl(n,[1,0,l,1,0,0],n);break;case"skewY":var c=Math.tan(parseFloat(u[0])*e6);rl(n,[1,c,0,1,0,0],n);break;case"matrix":n[0]=parseFloat(u[0]),n[1]=parseFloat(u[1]),n[2]=parseFloat(u[2]),n[3]=parseFloat(u[3]),n[4]=parseFloat(u[4]),n[5]=parseFloat(u[5]);break}}e.setLocalTransform(n)}}var Lk=/([^\s:;]+)\s*:\s*([^:;]+)/g;function nee(t,e,r){var i=t.getAttribute("style");if(i){Lk.lastIndex=0;for(var n;(n=Lk.exec(i))!=null;){var a=n[1],s=tt(j3,a)?j3[a]:null;s&&(e[s]=n[2]);var o=tt(V3,a)?V3[a]:null;o&&(r[o]=n[2])}}}function PTe(t,e,r){for(var i=0;i<wk.length;i++){var n=wk[i],a=t.getAttribute(n);a!=null&&(e[j3[n]]=a)}for(var i=0;i<Dk.length;i++){var n=Dk[i],a=t.getAttribute(n);a!=null&&(r[V3[n]]=a)}}function aee(t,e){var r=e.width/t.width,i=e.height/t.height,n=Math.min(r,i);return{scale:n,x:-(t.x+t.width/2)*n+(e.x+e.width/2),y:-(t.y+t.height/2)*n+(e.y+e.height/2)}}function LTe(t,e){var r=new ATe;return r.parse(t,e)}var OTe=nt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),RTe=function(){function t(e,r){this.type="geoSVG",this._usedGraphicMap=nt(),this._freedGraphics=[],this._mapName=e,this._parsedXML=iee(r)}return t.prototype.load=function(){var e=this._firstGraphic;if(!e){e=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(e),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=kTe(e.named),i=r.regions,n=r.regionsMap;this._regions=i,this._regionsMap=n}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(e){var r,i;try{r=e&&LTe(e,{ignoreViewBox:!0,ignoreRootClip:!0})||{},i=r.root,ha(i!=null)}catch(v){throw new Error(`Invalid svg format
`+v.message)}var n=new dt;n.add(i),n.isGeoSVGGraphicRoot=!0;var a=r.width,s=r.height,o=r.viewBoxRect,u=this._boundingRect;if(!u){var l=void 0,c=void 0,h=void 0,f=void 0;if(a!=null?(l=0,h=a):o&&(l=o.x,h=o.width),s!=null?(c=0,f=s):o&&(c=o.y,f=o.height),l==null||c==null){var d=i.getBoundingRect();l==null&&(l=d.x,h=d.width),c==null&&(c=d.y,f=d.height)}u=this._boundingRect=new Et(l,c,h,f)}if(o){var p=aee(o,u);i.scaleX=i.scaleY=p.scale,i.x=p.x,i.y=p.y}n.setClipPath(new Gt({shape:u.plain()}));var g=[];return G(r.named,function(v){OTe.get(v.svgNodeTagLower)!=null&&(g.push(v),NTe(v.el))}),{root:n,boundingRect:u,named:g}},t.prototype.useGraphic=function(e){var r=this._usedGraphicMap,i=r.get(e);return i||(i=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(e,i),i)},t.prototype.freeGraphic=function(e){var r=this._usedGraphicMap,i=r.get(e);i&&(r.removeKey(e),this._freedGraphics.push(i))},t}();function NTe(t){t.silent=!1,t.isGroup&&t.traverse(function(e){e.silent=!1})}function kTe(t){var e=[],r=nt();return G(t,function(i){if(i.namedFrom==null){var n=new REe(i.name,i.el);e.push(n),r.set(i.name,n)}}),{regions:e,regionsMap:r}}var mw=[126,25],Ok="南海诸岛",Y0=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var O0=0;O0<Y0.length;O0++)for(var Kf=0;Kf<Y0[O0].length;Kf++)Y0[O0][Kf][0]/=10.5,Y0[O0][Kf][1]/=-10.5/.75,Y0[O0][Kf][0]+=mw[0],Y0[O0][Kf][1]+=mw[1];function zTe(t,e){if(t==="china"){for(var r=0;r<e.length;r++)if(e[r].name===Ok)return;e.push(new QJ(Ok,Ie(Y0,function(i){return{type:"polygon",exterior:i}}),mw))}}var HTe={南海诸岛:[32,80],广东:[0,-10],香港:[10,5],澳门:[-10,10],天津:[5,5]};function see(t,e){if(t==="china"){var r=HTe[e.name];if(r){var i=e.getCenter();i[0]+=r[0]/10.5,i[1]+=-r[1]/(10.5/.75),e.setCenter(i)}}}var GTe=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function UTe(t,e){t==="china"&&e.name==="台湾"&&e.geometries.push({type:"polygon",exterior:GTe[0]})}var jTe="name",VTe=function(){function t(e,r,i){this.type="geoJSON",this._parsedMap=nt(),this._mapName=e,this._specialAreas=i,this._geoJSON=WTe(r)}return t.prototype.load=function(e,r){r=r||jTe;var i=this._parsedMap.get(r);if(!i){var n=this._parseToRegions(r);i=this._parsedMap.set(r,{regions:n,boundingRect:$Te(n)})}var a=nt(),s=[];return G(i.regions,function(o){var u=o.name;e&&tt(e,u)&&(o=o.cloneShallow(u=e[u])),s.push(o),a.set(u,o)}),{regions:s,boundingRect:i.boundingRect||new Et(0,0,0,0),regionsMap:a}},t.prototype._parseToRegions=function(e){var r=this._mapName,i=this._geoJSON,n;try{n=i?ow(i,e):[]}catch(a){throw new Error(`Invalid geoJson format
`+a.message)}return zTe(r,n),G(n,function(a){var s=a.name;see(r,a),UTe(r,a);var o=this._specialAreas&&this._specialAreas[s];o&&a.transformTo(o.left,o.top,o.width,o.height)},this),n},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function $Te(t){for(var e,r=0;r<t.length;r++){var i=t[r].getBoundingRect();e=e||i.clone(),e.union(i)}return e}function WTe(t){return Xe(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var wv=nt();const _l={registerMap:function(t,e,r){if(e.svg){var i=new RTe(t,e.svg);wv.set(t,i)}else{var n=e.geoJson||e.geoJSON;n&&!e.features?r=e.specialAreas:n=e;var i=new VTe(t,n,r);wv.set(t,i)}},getGeoResource:function(t){return wv.get(t)},getMapForUser:function(t){var e=wv.get(t);return e&&e.type==="geoJSON"&&e.getMapForUser()},load:function(t,e,r){var i=wv.get(t);if(i)return i.load(e,r)}};var hF=["rect","circle","line","ellipse","polygon","polyline","path"],YTe=nt(hF),qTe=nt(hF.concat(["g"])),XTe=nt(hF.concat(["g"])),oee=Yt();function I_(t){var e=t.getItemStyle(),r=t.get("areaColor");return r!=null&&(e.fill=r),e}function Rk(t){var e=t.style;e&&(e.stroke=e.stroke||e.fill,e.fill=null)}var uee=function(){function t(e){var r=new dt;this.uid=fg("ec_map_draw"),this._controller=new Gm(e.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new dt),r.add(this._svgGroup=new dt)}return t.prototype.draw=function(e,r,i,n,a){var s=e.mainType==="geo",o=e.getData&&e.getData();s&&r.eachComponent({mainType:"series",subType:"map"},function(m){!o&&m.getHostGeoModel()===e&&(o=m.getData())});var u=e.coordinateSystem,l=this._regionsGroup,c=this.group,h=u.getTransformInfo(),f=h.raw,d=h.roam,p=!l.childAt(0)||a;p?(c.x=d.x,c.y=d.y,c.scaleX=d.scaleX,c.scaleY=d.scaleY,c.dirty()):er(c,d,e);var g=o&&o.getVisual("visualMeta")&&o.getVisual("visualMeta").length>0,v={api:i,geo:u,mapOrGeoModel:e,data:o,isVisualEncodedByVisualMap:g,isGeo:s,transformInfoRaw:f};u.resourceType==="geoJSON"?this._buildGeoJSON(v):u.resourceType==="geoSVG"&&this._buildSVG(v),this._updateController(e,r,i),this._updateMapSelectHandler(e,l,i,n)},t.prototype._buildGeoJSON=function(e){var r=this._regionsGroupByName=nt(),i=nt(),n=this._regionsGroup,a=e.transformInfoRaw,s=e.mapOrGeoModel,o=e.data,u=e.geo.projection,l=u&&u.stream;function c(d,p){return p&&(d=p(d)),d&&[d[0]*a.scaleX+a.x,d[1]*a.scaleY+a.y]}function h(d){for(var p=[],g=!l&&u&&u.project,v=0;v<d.length;++v){var m=c(d[v],g);m&&p.push(m)}return p}function f(d){return{shape:{points:h(d)}}}n.removeAll(),G(e.geo.regions,function(d){var p=d.name,g=r.get(p),v=i.get(p)||{},m=v.dataIdx,y=v.regionModel;if(!g){g=r.set(p,new dt),n.add(g),m=o?o.indexOfName(p):null,y=e.isGeo?s.getRegionModel(p):o?o.getItemModel(m):null;var _=y.get("silent",!0);_!=null&&(g.silent=_),i.set(p,{dataIdx:m,regionModel:y})}var x=[],b=[];G(d.geometries,function(A){if(A.type==="polygon"){var S=[A.exterior].concat(A.interiors||[]);l&&(S=Uk(S,l)),G(S,function(D){x.push(new pa(f(D)))})}else{var T=A.points;l&&(T=Uk(T,l,!0)),G(T,function(D){b.push(new ya(f(D)))})}});var C=c(d.getCenter(),u&&u.project);function E(A,S){if(A.length){var T=new g9({culling:!0,segmentIgnoreThreshold:1,shape:{paths:A}});g.add(T),Nk(e,T,m,y),kk(e,T,p,y,s,m,C),S&&(Rk(T),G(T.states,Rk))}}E(x),E(b,!0)}),r.each(function(d,p){var g=i.get(p),v=g.dataIdx,m=g.regionModel;zk(e,d,p,m,s,v),Hk(e,d,p,m,s),Gk(e,d,p,m,s)},this)},t.prototype._buildSVG=function(e){var r=e.geo.map,i=e.transformInfoRaw;this._svgGroup.x=i.x,this._svgGroup.y=i.y,this._svgGroup.scaleX=i.scaleX,this._svgGroup.scaleY=i.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var n=this._svgDispatcherMap=nt(),a=!1;G(this._svgGraphicRecord.named,function(s){var o=s.name,u=e.mapOrGeoModel,l=e.data,c=s.svgNodeTagLower,h=s.el,f=l?l.indexOfName(o):null,d=u.getRegionModel(o);YTe.get(c)!=null&&h instanceof zs&&Nk(e,h,f,d),h instanceof zs&&(h.culling=!0);var p=d.get("silent",!0);if(p!=null&&(h.silent=p),h.z2EmphasisLift=0,!s.namedFrom&&(XTe.get(c)!=null&&kk(e,h,o,d,u,f,null),zk(e,h,o,d,u,f),Hk(e,h,o,d,u),qTe.get(c)!=null)){var g=Gk(e,h,o,d,u);g==="self"&&(a=!0);var v=n.get(o)||n.set(o,[]);v.push(h)}},this),this._enableBlurEntireSVG(a,e)},t.prototype._enableBlurEntireSVG=function(e,r){if(e&&r.isGeo){var i=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),n=i.opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Qh(a);var s=a.ensureState("blur").style||{};s.opacity==null&&n!=null&&(s.opacity=n),a.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(e,r){if(e==null)return[];var i=r.coordinateSystem;if(i.resourceType==="geoJSON"){var n=this._regionsGroupByName;if(n){var a=n.get(e);return a?[a]:[]}}else if(i.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(e)||[]},t.prototype._svgResourceChanged=function(e){return this._svgMapName!==e},t.prototype._useSVG=function(e){var r=_l.getGeoResource(e);if(r&&r.type==="geoSVG"){var i=r.useGraphic(this.uid);this._svgGroup.add(i.root),this._svgGraphicRecord=i,this._svgMapName=e}},t.prototype._freeSVG=function(){var e=this._svgMapName;if(e!=null){var r=_l.getGeoResource(e);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(e,r,i){var n=e.coordinateSystem,a=this._controller,s=this._controllerHost;s.zoomLimit=e.get("scaleLimit"),s.zoom=n.getZoom(),a.enable(e.get("roam")||!1);var o=e.mainType;function u(){var l={type:"geoRoam",componentType:o};return l[o+"Id"]=e.id,l}a.off("pan").on("pan",function(l){this._mouseDownFlag=!1,lF(s,l.dx,l.dy),i.dispatchAction(Ce(u(),{dx:l.dx,dy:l.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(l){this._mouseDownFlag=!1,cF(s,l.scale,l.originX,l.originY),i.dispatchAction(Ce(u(),{totalZoom:s.zoom,zoom:l.scale,originX:l.originX,originY:l.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(l,c,h){return n.containPoint([c,h])&&!qb(l,i,e)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(e){var r=e.getTextContent();r&&(r.ignore=oee(r).ignore)})},t.prototype._updateMapSelectHandler=function(e,r,i,n){var a=this;r.off("mousedown"),r.off("click"),e.get("selectedMode")&&(r.on("mousedown",function(){a._mouseDownFlag=!0}),r.on("click",function(s){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},t}();function Nk(t,e,r,i){var n=i.getModel("itemStyle"),a=i.getModel(["emphasis","itemStyle"]),s=i.getModel(["blur","itemStyle"]),o=i.getModel(["select","itemStyle"]),u=I_(n),l=I_(a),c=I_(o),h=I_(s),f=t.data;if(f){var d=f.getItemVisual(r,"style"),p=f.getItemVisual(r,"decal");t.isVisualEncodedByVisualMap&&d.fill&&(u.fill=d.fill),p&&(u.decal=wp(p,t.api))}e.setStyle(u),e.style.strokeNoScale=!0,e.ensureState("emphasis").style=l,e.ensureState("select").style=c,e.ensureState("blur").style=h,Qh(e)}function kk(t,e,r,i,n,a,s){var o=t.data,u=t.isGeo,l=o&&isNaN(o.get(o.mapDimension("value"),a)),c=o&&o.getItemLayout(a);if(u||l||c&&c.showLabel){var h=u?r:a,f=void 0;(!o||a>=0)&&(f=n);var d=s?{normal:{align:"center",verticalAlign:"middle"}}:null;In(e,Ki(i),{labelFetcher:f,labelDataIndex:h,defaultText:r},d);var p=e.getTextContent();if(p&&(oee(p).ignore=p.ignore,e.textConfig&&s)){var g=e.getBoundingRect().clone();e.textConfig.layoutRect=g,e.textConfig.position=[(s[0]-g.x)/g.width*100+"%",(s[1]-g.y)/g.height*100+"%"]}e.disableLabelAnimation=!0}else e.removeTextContent(),e.removeTextConfig(),e.disableLabelAnimation=null}function zk(t,e,r,i,n,a){t.data?t.data.setItemGraphicEl(a,e):pt(e).eventData={componentType:"geo",componentIndex:n.componentIndex,geoIndex:n.componentIndex,name:r,region:i&&i.option||{}}}function Hk(t,e,r,i,n){t.data||Ef({el:e,componentModel:n,itemName:r,itemTooltipOption:i.get("tooltip")})}function Gk(t,e,r,i,n){e.highDownSilentOnTouch=!!n.get("selectedMode");var a=i.getModel("emphasis"),s=a.get("focus");return Zr(e,s,a.get("blurScope"),a.get("disabled")),t.isGeo&&e3e(e,n,r),s}function Uk(t,e,r){var i=[],n;function a(){n=[]}function s(){n.length&&(i.push(n),n=[])}var o=e({polygonStart:a,polygonEnd:s,lineStart:a,lineEnd:s,point:function(u,l){isFinite(u)&&isFinite(l)&&n.push([u,l])},sphere:function(){}});return!r&&o.polygonStart(),G(t,function(u){o.lineStart();for(var l=0;l<u.length;l++)o.point(u[l][0],u[l][1]);o.lineEnd()}),!r&&o.polygonEnd(),i}var ZTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n,a){if(!(a&&a.type==="mapToggleSelect"&&a.from===this.uid)){var s=this.group;if(s.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&a&&a.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),a&&a.type==="geoRoam"&&a.componentType==="series"&&a.seriesId===r.id){var o=this._mapDraw;o&&s.add(o.group)}else if(r.needsDrawMap){var o=this._mapDraw||new uee(n);s.add(o.group),o.draw(r,i,n,this,a),this._mapDraw=o}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&i.getComponent("legend")&&this._renderSymbols(r,i,n)}}},e.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},e.prototype._renderSymbols=function(r,i,n){var a=r.originalData,s=this.group;a.each(a.mapDimension("value"),function(o,u){if(!isNaN(o)){var l=a.getItemLayout(u);if(!(!l||!l.point)){var c=l.point,h=l.offset,f=new Dl({style:{fill:r.getData().getVisual("style").fill},shape:{cx:c[0]+h*9,cy:c[1],r:3},silent:!0,z2:8+(h?0:lg+1)});if(!h){var d=r.mainSeries.getData(),p=a.getName(u),g=d.indexOfName(p),v=a.getItemModel(u),m=v.getModel("label"),y=d.getItemGraphicEl(g);In(f,Ki(v),{labelFetcher:{getFormattedLabel:function(_,x){return r.getFormattedLabel(g,x)}},defaultText:p}),f.disableLabelAnimation=!0,m.get("position")||f.setTextConfig({position:"bottom"}),y.onHoverStateChange=function(_){b3(f,_)}}s.add(f)}}})},e.type="map",e}(Wt),KTe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(i){if(i!=null){var n=this.getData().getName(i),a=this.coordinateSystem,s=a.getRegion(n);return s&&a.dataToPoint(s.getCenter())}},r}return e.prototype.getInitialData=function(r){for(var i=Eg(this,{coordDimensions:["value"],encodeDefaulter:mt(A9,this)}),n=nt(),a=[],s=0,o=i.count();s<o;s++){var u=i.getName(s);n.set(u,s)}var l=_l.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return G(l.regions,function(c){var h=c.name,f=n.get(h),d=c.properties&&c.properties.echartsStyle,p;f==null?(p={name:h},a.push(p)):p=i.getRawDataItem(f),d&&et(p,d)}),i.appendData(a),i},e.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},e.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},e.prototype.getRawValue=function(r){var i=this.getData();return i.get(i.mapDimension("value"),r)},e.prototype.getRegionModel=function(r){var i=this.getData();return i.getItemModel(i.indexOfName(r))},e.prototype.formatTooltip=function(r,i,n){for(var a=this.getData(),s=this.getRawValue(r),o=a.getName(r),u=this.seriesGroup,l=[],c=0;c<u.length;c++){var h=u[c].originalData.indexOfName(o),f=a.mapDimension("value");isNaN(u[c].originalData.get(f,h))||l.push(u[c].name)}return Ji("section",{header:l.join(", "),noHeader:!l.length,blocks:[Ji("nameValue",{name:o,value:s})]})},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.getLegendIcon=function(r){var i=r.icon||"roundRect",n=vi(i,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return n.setStyle(r.itemStyle),n.style.stroke="none",i.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n},e.type="series.map",e.dependencies=["geo"],e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},e}(Kt);function JTe(t,e){var r={};return G(t,function(i){i.each(i.mapDimension("value"),function(n,a){var s="ec-"+i.getName(a);r[s]=r[s]||[],isNaN(n)||r[s].push(n)})}),t[0].map(t[0].mapDimension("value"),function(i,n){for(var a="ec-"+t[0].getName(n),s=0,o=1/0,u=-1/0,l=r[a].length,c=0;c<l;c++)o=Math.min(o,r[a][c]),u=Math.max(u,r[a][c]),s+=r[a][c];var h;return e==="min"?h=o:e==="max"?h=u:e==="average"?h=s/l:h=s,l===0?NaN:h})}function QTe(t){var e={};t.eachSeriesByType("map",function(r){var i=r.getHostGeoModel(),n=i?"o"+i.id:"i"+r.getMapType();(e[n]=e[n]||[]).push(r)}),G(e,function(r,i){for(var n=JTe(Ie(r,function(s){return s.getData()}),r[0].get("mapValueCalculation")),a=0;a<r.length;a++)r[a].originalData=r[a].getData();for(var a=0;a<r.length;a++)r[a].seriesGroup=r,r[a].needsDrawMap=a===0&&!r[a].getHostGeoModel(),r[a].setData(n.cloneShallow()),r[a].mainSeries=r[0]})}function eAe(t){var e={};t.eachSeriesByType("map",function(r){var i=r.getMapType();if(!(r.getHostGeoModel()||e[i])){var n={};G(r.seriesGroup,function(s){var o=s.coordinateSystem,u=s.originalData;s.get("showLegendSymbol")&&t.getComponent("legend")&&u.each(u.mapDimension("value"),function(l,c){var h=u.getName(c),f=o.getRegion(h);if(!(!f||isNaN(l))){var d=n[h]||0,p=o.dataToPoint(f.getCenter());n[h]=d+1,u.setItemLayout(c,{point:p,offset:d})}})});var a=r.getData();a.each(function(s){var o=a.getName(s),u=a.getItemLayout(s)||{};u.showLabel=!n[o],a.setItemLayout(s,u)}),e[i]=!0}})}var jk=Yi,Um=function(t){ce(e,t);function e(r){var i=t.call(this)||this;return i.type="view",i.dimensions=["x","y"],i._roamTransformable=new Ju,i._rawTransformable=new Ju,i.name=r,i}return e.prototype.setBoundingRect=function(r,i,n,a){return this._rect=new Et(r,i,n,a),this._rect},e.prototype.getBoundingRect=function(){return this._rect},e.prototype.setViewRect=function(r,i,n,a){this._transformTo(r,i,n,a),this._viewRect=new Et(r,i,n,a)},e.prototype._transformTo=function(r,i,n,a){var s=this.getBoundingRect(),o=this._rawTransformable;o.transform=s.calculateTransform(new Et(r,i,n,a));var u=o.parent;o.parent=null,o.decomposeTransform(),o.parent=u,this._updateTransform()},e.prototype.setCenter=function(r,i){r&&(this._center=[je(r[0],i.getWidth()),je(r[1],i.getHeight())],this._updateCenterAndZoom())},e.prototype.setZoom=function(r){r=r||1;var i=this.zoomLimit;i&&(i.max!=null&&(r=Math.min(i.max,r)),i.min!=null&&(r=Math.max(i.min,r))),this._zoom=r,this._updateCenterAndZoom()},e.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),i=r.x+r.width/2,n=r.y+r.height/2;return[i,n]},e.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},e.prototype.getZoom=function(){return this._zoom||1},e.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},e.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),i=this._roamTransformable,n=this.getDefaultCenter(),a=this.getCenter(),s=this.getZoom();a=Yi([],a,r),n=Yi([],n,r),i.originX=a[0],i.originY=a[1],i.x=n[0]-a[0],i.y=n[1]-a[1],i.scaleX=i.scaleY=s,this._updateTransform()},e.prototype._updateTransform=function(){var r=this._roamTransformable,i=this._rawTransformable;i.parent=r,r.updateTransform(),i.updateTransform(),J7(this.transform||(this.transform=[]),i.transform||Oa()),this._rawTransform=i.getLocalTransform(),this.invTransform=this.invTransform||[],Cf(this.invTransform,this.transform),this.decomposeTransform()},e.prototype.getTransformInfo=function(){var r=this._rawTransformable,i=this._roamTransformable,n=new Ju;return n.transform=i.transform,n.decomposeTransform(),{roam:{x:n.x,y:n.y,scaleX:n.scaleX,scaleY:n.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},e.prototype.getViewRect=function(){return this._viewRect},e.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},e.prototype.dataToPoint=function(r,i,n){var a=i?this._rawTransform:this.transform;return n=n||[],a?jk(n,r,a):Kn(n,r)},e.prototype.pointToData=function(r){var i=this.invTransform;return i?jk([],r,i):[r[0],r[1]]},e.prototype.convertToPixel=function(r,i,n){var a=Vk(i);return a===this?a.dataToPoint(n):null},e.prototype.convertFromPixel=function(r,i,n){var a=Vk(i);return a===this?a.pointToData(n):null},e.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},e.dimensions=["x","y"],e}(Ju);function Vk(t){var e=t.seriesModel;return e?e.coordinateSystem:null}var tAe={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},lee=["lng","lat"],yw=function(t){ce(e,t);function e(r,i,n){var a=t.call(this,r)||this;a.dimensions=lee,a.type="geo",a._nameCoordMap=nt(),a.map=i;var s=n.projection,o=_l.load(i,n.nameMap,n.nameProperty),u=_l.getGeoResource(i);a.resourceType=u?u.type:null;var l=a.regions=o.regions,c=tAe[u.type];a._regionsMap=o.regionsMap,a.regions=o.regions,a.projection=s;var h;if(s)for(var f=0;f<l.length;f++){var d=l[f].getBoundingRect(s);h=h||d.clone(),h.union(d)}else h=o.boundingRect;return a.setBoundingRect(h.x,h.y,h.width,h.height),a.aspectScale=s?1:gt(n.aspectScale,c.aspectScale),a._invertLongitute=s?!1:c.invertLongitute,a}return e.prototype._transformTo=function(r,i,n,a){var s=this.getBoundingRect(),o=this._invertLongitute;s=s.clone(),o&&(s.y=-s.y-s.height);var u=this._rawTransformable;u.transform=s.calculateTransform(new Et(r,i,n,a));var l=u.parent;u.parent=null,u.decomposeTransform(),u.parent=l,o&&(u.scaleY=-u.scaleY),this._updateTransform()},e.prototype.getRegion=function(r){return this._regionsMap.get(r)},e.prototype.getRegionByCoord=function(r){for(var i=this.regions,n=0;n<i.length;n++){var a=i[n];if(a.type==="geoJSON"&&a.contain(r))return i[n]}},e.prototype.addGeoCoord=function(r,i){this._nameCoordMap.set(r,i)},e.prototype.getGeoCoord=function(r){var i=this._regionsMap.get(r);return this._nameCoordMap.get(r)||i&&i.getCenter()},e.prototype.dataToPoint=function(r,i,n){if(Xe(r)&&(r=this.getGeoCoord(r)),r){var a=this.projection;return a&&(r=a.project(r)),r&&this.projectedToPoint(r,i,n)}},e.prototype.pointToData=function(r){var i=this.projection;return i&&(r=i.unproject(r)),r&&this.pointToProjected(r)},e.prototype.pointToProjected=function(r){return t.prototype.pointToData.call(this,r)},e.prototype.projectedToPoint=function(r,i,n){return t.prototype.dataToPoint.call(this,r,i,n)},e.prototype.convertToPixel=function(r,i,n){var a=$k(i);return a===this?a.dataToPoint(n):null},e.prototype.convertFromPixel=function(r,i,n){var a=$k(i);return a===this?a.pointToData(n):null},e}(Um);yi(yw,Um);function $k(t){var e=t.geoModel,r=t.seriesModel;return e?e.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",wi).models[0]||{}).coordinateSystem:null}function Wk(t,e){var r=t.get("boundingCoords");if(r!=null){var i=r[0],n=r[1];if(isFinite(i[0])&&isFinite(i[1])&&isFinite(n[0])&&isFinite(n[1])){var a=this.projection;if(a){var s=i[0],o=i[1],u=n[0],l=n[1];i=[1/0,1/0],n=[-1/0,-1/0];var c=function(C,E,A,S){for(var T=A-C,D=S-E,F=0;F<=100;F++){var B=F/100,O=a.project([C+T*B,E+D*B]);gc(i,i,O),vc(n,n,O)}};c(s,o,u,o),c(u,o,u,l),c(u,l,s,l),c(s,l,u,o)}this.setBoundingRect(i[0],i[1],n[0]-i[0],n[1]-i[1])}}var h=this.getBoundingRect(),f=t.get("layoutCenter"),d=t.get("layoutSize"),p=e.getWidth(),g=e.getHeight(),v=h.width/h.height*this.aspectScale,m=!1,y,_;f&&d&&(y=[je(f[0],p),je(f[1],g)],_=je(d,Math.min(p,g)),!isNaN(y[0])&&!isNaN(y[1])&&!isNaN(_)&&(m=!0));var x;if(m)x={},v>1?(x.width=_,x.height=_/v):(x.height=_,x.width=_*v),x.y=y[1]-x.height/2,x.x=y[0]-x.width/2;else{var b=t.getBoxLayoutParams();b.aspect=v,x=ai(b,{width:p,height:g})}this.setViewRect(x.x,x.y,x.width,x.height),this.setCenter(t.get("center"),e),this.setZoom(t.get("zoom"))}function rAe(t,e){G(e.get("geoCoord"),function(r,i){t.addGeoCoord(i,r)})}var iAe=function(){function t(){this.dimensions=lee}return t.prototype.create=function(e,r){var i=[];function n(s){return{nameProperty:s.get("nameProperty"),aspectScale:s.get("aspectScale"),projection:s.get("projection")}}e.eachComponent("geo",function(s,o){var u=s.get("map"),l=new yw(u+o,u,Ce({nameMap:s.get("nameMap")},n(s)));l.zoomLimit=s.get("scaleLimit"),i.push(l),s.coordinateSystem=l,l.model=s,l.resize=Wk,l.resize(s,r)}),e.eachSeries(function(s){var o=s.get("coordinateSystem");if(o==="geo"){var u=s.get("geoIndex")||0;s.coordinateSystem=i[u]}});var a={};return e.eachSeriesByType("map",function(s){if(!s.getHostGeoModel()){var o=s.getMapType();a[o]=a[o]||[],a[o].push(s)}}),G(a,function(s,o){var u=Ie(s,function(c){return c.get("nameMap")}),l=new yw(o,o,Ce({nameMap:Y7(u)},n(s[0])));l.zoomLimit=dn.apply(null,Ie(s,function(c){return c.get("scaleLimit")})),i.push(l),l.resize=Wk,l.resize(s[0],r),G(s,function(c){c.coordinateSystem=l,rAe(l,c)})}),i},t.prototype.getFilledRegions=function(e,r,i,n){for(var a=(e||[]).slice(),s=nt(),o=0;o<a.length;o++)s.set(a[o].name,a[o]);var u=_l.load(r,i,n);return G(u.regions,function(l){var c=l.name,h=s.get(c),f=l.properties&&l.properties.echartsStyle;h||(h={name:c},a.push(h)),f&&et(h,f)}),a},t}(),cee=new iAe,nAe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,i,n){var a=_l.getGeoResource(r.map);if(a&&a.type==="geoJSON"){var s=r.itemStyle=r.itemStyle||{};"color"in s||(s.color="#eee")}this.mergeDefaultAndTheme(r,n),Zh(r,"label",["show"])},e.prototype.optionUpdated=function(){var r=this,i=this.option;i.regions=cee.getFilledRegions(i.regions,i.map,i.nameMap,i.nameProperty);var n={};this._optionModelMap=_o(i.regions||[],function(a,s){var o=s.name;return o&&(a.set(o,new Xt(s,r,r.ecModel)),s.selected&&(n[o]=!0)),a},nt()),i.selectedMap||(i.selectedMap=n)},e.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Xt(null,this,this.ecModel)},e.prototype.getFormattedLabel=function(r,i){var n=this.getRegionModel(r),a=i==="normal"?n.get(["label","formatter"]):n.get(["emphasis","label","formatter"]),s={name:r};if(ot(a))return s.status=i,a(s);if(Xe(a))return a.replace("{a}",r??"")},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.select=function(r){var i=this.option,n=i.selectedMode;if(n){n!=="multiple"&&(i.selectedMap=null);var a=i.selectedMap||(i.selectedMap={});a[r]=!0}},e.prototype.unSelect=function(r){var i=this.option.selectedMap;i&&(i[r]=!1)},e.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},e.prototype.isSelected=function(r){var i=this.option.selectedMap;return!!(i&&i[r])},e.type="geo",e.layoutMode="box",e.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},e}(Dt);function Yk(t,e){return t.pointToProjected?t.pointToProjected(e):t.pointToData(e)}function fF(t,e,r,i){var n=t.getZoom(),a=t.getCenter(),s=e.zoom,o=t.projectedToPoint?t.projectedToPoint(a):t.dataToPoint(a);if(e.dx!=null&&e.dy!=null&&(o[0]-=e.dx,o[1]-=e.dy,t.setCenter(Yk(t,o),i)),s!=null){if(r){var u=r.min||0,l=r.max||1/0;s=Math.max(Math.min(n*s,l),u)/n}t.scaleX*=s,t.scaleY*=s;var c=(e.originX-t.x)*(s-1),h=(e.originY-t.y)*(s-1);t.x-=c,t.y-=h,t.updateTransform(),t.setCenter(Yk(t,o),i),t.setZoom(s*n)}return{center:t.getCenter(),zoom:t.getZoom()}}var aAe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.focusBlurEnabled=!0,r}return e.prototype.init=function(r,i){this._api=i},e.prototype.render=function(r,i,n,a){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new uee(n));var s=this._mapDraw;s.draw(r,i,n,this,a),s.group.on("click",this._handleRegionClick,this),s.group.silent=r.get("silent"),this.group.add(s.group),this.updateSelectStatus(r,i,n)},e.prototype._handleRegionClick=function(r){var i;ph(r.target,function(n){return(i=pt(n).eventData)!=null},!0),i&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:i.name})},e.prototype.updateSelectStatus=function(r,i,n){var a=this;this._mapDraw.group.traverse(function(s){var o=pt(s).eventData;if(o)return a._model.isSelected(o.name)?n.enterSelect(s):n.leaveSelect(s),!0})},e.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},e.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},e.type="geo",e}(_r);function sAe(t,e,r){_l.registerMap(t,e,r)}function hee(t){t.registerCoordinateSystem("geo",cee),t.registerComponentModel(nAe),t.registerComponentView(aAe),t.registerImpl("registerMap",sAe),t.registerImpl("getMap",function(r){return _l.getMapForUser(r)});function e(r,i){i.update="geo:updateSelectStatus",t.registerAction(i,function(n,a){var s={},o=[];return a.eachComponent({mainType:"geo",query:n},function(u){u[r](n.name);var l=u.coordinateSystem;G(l.regions,function(h){s[h.name]=u.isSelected(h.name)||!1});var c=[];G(s,function(h,f){s[f]&&c.push(f)}),o.push({geoIndex:u.componentIndex,name:c})}),{selected:s,allSelected:o,name:n.name}})}e("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),e("select",{type:"geoSelect",event:"geoselected"}),e("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,i,n){var a=r.componentType||"series";i.eachComponent({mainType:a,query:r},function(s){var o=s.coordinateSystem;if(o.type==="geo"){var u=fF(o,r,s.get("scaleLimit"),n);s.setCenter&&s.setCenter(u.center),s.setZoom&&s.setZoom(u.zoom),a==="series"&&G(s.seriesGroup,function(l){l.setCenter(u.center),l.setZoom(u.zoom)})}})})}function oAe(t){ft(hee),t.registerChartView(ZTe),t.registerSeriesModel(KTe),t.registerLayout(eAe),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,QTe),oJ("map",t.registerAction)}function uAe(t){var e=t;e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[e],i,n;i=r.pop();)if(n=i.children,i.isExpand&&n.length)for(var a=n.length,s=a-1;s>=0;s--){var o=n[s];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},r.push(o)}}function lAe(t,e){var r=t.isExpand?t.children:[],i=t.parentNode.children,n=t.hierNode.i?i[t.hierNode.i-1]:null;if(r.length){fAe(t);var a=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;n?(t.hierNode.prelim=n.hierNode.prelim+e(t,n),t.hierNode.modifier=t.hierNode.prelim-a):t.hierNode.prelim=a}else n&&(t.hierNode.prelim=n.hierNode.prelim+e(t,n));t.parentNode.hierNode.defaultAncestor=dAe(t,n,t.parentNode.hierNode.defaultAncestor||i[0],e)}function cAe(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function qk(t){return arguments.length?t:vAe}function u1(t,e){return t-=Math.PI/2,{x:e*Math.cos(t),y:e*Math.sin(t)}}function hAe(t,e){return ai(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function fAe(t){for(var e=t.children,r=e.length,i=0,n=0;--r>=0;){var a=e[r];a.hierNode.prelim+=i,a.hierNode.modifier+=i,n+=a.hierNode.change,i+=a.hierNode.shift+n}}function dAe(t,e,r,i){if(e){for(var n=t,a=t,s=a.parentNode.children[0],o=e,u=n.hierNode.modifier,l=a.hierNode.modifier,c=s.hierNode.modifier,h=o.hierNode.modifier;o=t6(o),a=r6(a),o&&a;){n=t6(n),s=r6(s),n.hierNode.ancestor=t;var f=o.hierNode.prelim+h-a.hierNode.prelim-l+i(o,a);f>0&&(gAe(pAe(o,t,r),t,f),l+=f,u+=f),h+=o.hierNode.modifier,l+=a.hierNode.modifier,u+=n.hierNode.modifier,c+=s.hierNode.modifier}o&&!t6(n)&&(n.hierNode.thread=o,n.hierNode.modifier+=h-u),a&&!r6(s)&&(s.hierNode.thread=a,s.hierNode.modifier+=l-c,r=t)}return r}function t6(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function r6(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function pAe(t,e,r){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:r}function gAe(t,e,r){var i=r/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=r,e.hierNode.modifier+=r,e.hierNode.prelim+=r,t.hierNode.change+=i}function vAe(t,e){return t.parentNode===e.parentNode?1:2}var mAe=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),yAe=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new mAe},e.prototype.buildPath=function(r,i){var n=i.childPoints,a=n.length,s=i.parentPoint,o=n[0],u=n[a-1];if(a===1){r.moveTo(s[0],s[1]),r.lineTo(o[0],o[1]);return}var l=i.orient,c=l==="TB"||l==="BT"?0:1,h=1-c,f=je(i.forkPosition,1),d=[];d[c]=s[c],d[h]=s[h]+(u[h]-s[h])*f,r.moveTo(s[0],s[1]),r.lineTo(d[0],d[1]),r.moveTo(o[0],o[1]),d[c]=o[c],r.lineTo(d[0],d[1]),d[c]=u[c],r.lineTo(d[0],d[1]),r.lineTo(u[0],u[1]);for(var p=1;p<a-1;p++){var g=n[p];r.moveTo(g[0],g[1]),d[c]=g[c],r.lineTo(d[0],d[1])}},e}(Pt),_Ae=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._mainGroup=new dt,r}return e.prototype.init=function(r,i){this._controller=new Gm(i.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},e.prototype.render=function(r,i,n){var a=r.getData(),s=r.layoutInfo,o=this._mainGroup,u=r.get("layout");u==="radial"?(o.x=s.x+s.width/2,o.y=s.y+s.height/2):(o.x=s.x,o.y=s.y),this._updateViewCoordSys(r,n),this._updateController(r,i,n);var l=this._data;a.diff(l).add(function(c){Xk(a,c)&&Zk(a,c,null,o,r)}).update(function(c,h){var f=l.getItemGraphicEl(h);if(!Xk(a,c)){f&&Jk(l,h,f,o,r);return}Zk(a,c,f,o,r)}).remove(function(c){var h=l.getItemGraphicEl(c);h&&Jk(l,c,h,o,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&a.eachItemGraphicEl(function(c,h){c.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:h})})}),this._data=a},e.prototype._updateViewCoordSys=function(r,i){var n=r.getData(),a=[];n.each(function(h){var f=n.getItemLayout(h);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var s=[],o=[];Sb(a,s,o);var u=this._min,l=this._max;o[0]-s[0]===0&&(s[0]=u?u[0]:s[0]-1,o[0]=l?l[0]:o[0]+1),o[1]-s[1]===0&&(s[1]=u?u[1]:s[1]-1,o[1]=l?l[1]:o[1]+1);var c=r.coordinateSystem=new Um;c.zoomLimit=r.get("scaleLimit"),c.setBoundingRect(s[0],s[1],o[0]-s[0],o[1]-s[1]),c.setCenter(r.get("center"),i),c.setZoom(r.get("zoom")),this.group.attr({x:c.x,y:c.y,scaleX:c.scaleX,scaleY:c.scaleY}),this._min=s,this._max=o},e.prototype._updateController=function(r,i,n){var a=this,s=this._controller,o=this._controllerHost,u=this.group;s.setPointerChecker(function(l,c,h){var f=u.getBoundingRect();return f.applyTransform(u.transform),f.contain(c,h)&&!qb(l,n,r)}),s.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(l){lF(o,l.dx,l.dy),n.dispatchAction({seriesId:r.id,type:"treeRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){cF(o,l.scale,l.originX,l.originY),n.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:l.scale,originX:l.originX,originY:l.originY}),a._updateNodeAndLinkScale(r),n.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(r){var i=r.getData(),n=this._getNodeGlobalScale(r);i.eachItemGraphicEl(function(a,s){a.setSymbolScale(n)})},e.prototype._getNodeGlobalScale=function(r){var i=r.coordinateSystem;if(i.type!=="view")return 1;var n=this._nodeScaleRatio,a=i.scaleX||1,s=i.getZoom(),o=(s-1)*n+1;return o/a},e.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},e.type="tree",e}(Wt);function Xk(t,e){var r=t.getItemLayout(e);return r&&!isNaN(r.x)&&!isNaN(r.y)}function Zk(t,e,r,i,n){var a=!r,s=t.tree.getNodeByDataIndex(e),o=s.getModel(),u=s.getVisual("style").fill,l=s.isExpand===!1&&s.children.length!==0?u:"#fff",c=t.tree.root,h=s.parentNode===c?s:s.parentNode||s,f=t.getItemGraphicEl(h.dataIndex),d=h.getLayout(),p=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:d,g=s.getLayout();a?(r=new Om(t,e,null,{symbolInnerColor:l,useNameLabel:!0}),r.x=p.x,r.y=p.y):r.updateData(t,e,null,{symbolInnerColor:l,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=g.rawX,r.__radialRawY=g.rawY,i.add(r),t.setItemGraphicEl(e,r),r.__oldX=r.x,r.__oldY=r.y,er(r,{x:g.x,y:g.y},n);var v=r.getSymbolPath();if(n.get("layout")==="radial"){var m=c.children[0],y=m.getLayout(),_=m.children.length,x=void 0,b=void 0;if(g.x===y.x&&s.isExpand===!0&&m.children.length){var C={x:(m.children[0].getLayout().x+m.children[_-1].getLayout().x)/2,y:(m.children[0].getLayout().y+m.children[_-1].getLayout().y)/2};x=Math.atan2(C.y-y.y,C.x-y.x),x<0&&(x=Math.PI*2+x),b=C.x<y.x,b&&(x=x-Math.PI)}else x=Math.atan2(g.y-y.y,g.x-y.x),x<0&&(x=Math.PI*2+x),s.children.length===0||s.children.length!==0&&s.isExpand===!1?(b=g.x<y.x,b&&(x=x-Math.PI)):(b=g.x>y.x,b||(x=x-Math.PI));var E=b?"left":"right",A=o.getModel("label"),S=A.get("rotate"),T=S*(Math.PI/180),D=v.getTextContent();D&&(v.setTextConfig({position:A.get("position")||E,rotation:S==null?-x:T,origin:"center"}),D.setStyle("verticalAlign","middle"))}var F=o.get(["emphasis","focus"]),B=F==="relative"?qh(s.getAncestorsIndices(),s.getDescendantIndices()):F==="ancestor"?s.getAncestorsIndices():F==="descendant"?s.getDescendantIndices():null;B&&(pt(r).focus=B),xAe(n,s,c,r,p,d,g,i),r.__edge&&(r.onHoverStateChange=function(O){if(O!=="blur"){var M=s.parentNode&&t.getItemGraphicEl(s.parentNode.dataIndex);M&&M.hoverState===Am||b3(r.__edge,O)}})}function xAe(t,e,r,i,n,a,s,o){var u=e.getModel(),l=t.get("edgeShape"),c=t.get("layout"),h=t.getOrient(),f=t.get(["lineStyle","curveness"]),d=t.get("edgeForkPosition"),p=u.getModel("lineStyle").getLineStyle(),g=i.__edge;if(l==="curve")e.parentNode&&e.parentNode!==r&&(g||(g=i.__edge=new Dm({shape:_w(c,h,f,n,n)})),er(g,{shape:_w(c,h,f,a,s)},t));else if(l==="polyline"&&c==="orthogonal"&&e!==r&&e.children&&e.children.length!==0&&e.isExpand===!0){for(var v=e.children,m=[],y=0;y<v.length;y++){var _=v[y].getLayout();m.push([_.x,_.y])}g||(g=i.__edge=new yAe({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:h,forkPosition:d}})),er(g,{shape:{parentPoint:[s.x,s.y],childPoints:m}},t)}g&&!(l==="polyline"&&!e.isExpand)&&(g.useStyle(st({strokeNoScale:!0,fill:null},p)),Fn(g,u,"lineStyle"),Qh(g),o.add(g))}function Kk(t,e,r,i,n){var a=e.tree.root,s=fee(a,t),o=s.source,u=s.sourceLayout,l=e.getItemGraphicEl(t.dataIndex);if(l){var c=e.getItemGraphicEl(o.dataIndex),h=c.__edge,f=l.__edge||(o.isExpand===!1||o.children.length===1?h:void 0),d=i.get("edgeShape"),p=i.get("layout"),g=i.get("orient"),v=i.get(["lineStyle","curveness"]);f&&(d==="curve"?Nc(f,{shape:_w(p,g,v,u,u),style:{opacity:0}},i,{cb:function(){r.remove(f)},removeOpt:n}):d==="polyline"&&i.get("layout")==="orthogonal"&&Nc(f,{shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]]},style:{opacity:0}},i,{cb:function(){r.remove(f)},removeOpt:n}))}}function fee(t,e){for(var r=e.parentNode===t?e:e.parentNode||e,i;i=r.getLayout(),i==null;)r=r.parentNode===t?r:r.parentNode||r;return{source:r,sourceLayout:i}}function Jk(t,e,r,i,n){var a=t.tree.getNodeByDataIndex(e),s=t.tree.root,o=fee(s,a).sourceLayout,u={duration:n.get("animationDurationUpdate"),easing:n.get("animationEasingUpdate")};Nc(r,{x:o.x+1,y:o.y+1},n,{cb:function(){i.remove(r),t.setItemGraphicEl(e,null)},removeOpt:u}),r.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:u}),a.children.forEach(function(l){Kk(l,t,i,n,u)}),Kk(a,t,i,n,u)}function _w(t,e,r,i,n){var a,s,o,u,l,c,h,f;if(t==="radial"){l=i.rawX,h=i.rawY,c=n.rawX,f=n.rawY;var d=u1(l,h),p=u1(l,h+(f-h)*r),g=u1(c,f+(h-f)*r),v=u1(c,f);return{x1:d.x||0,y1:d.y||0,x2:v.x||0,y2:v.y||0,cpx1:p.x||0,cpy1:p.y||0,cpx2:g.x||0,cpy2:g.y||0}}else l=i.x,h=i.y,c=n.x,f=n.y,(e==="LR"||e==="RL")&&(a=l+(c-l)*r,s=h,o=c+(l-c)*r,u=f),(e==="TB"||e==="BT")&&(a=l,s=h+(f-h)*r,o=c,u=f+(h-f)*r);return{x1:l,y1:h,x2:c,y2:f,cpx1:a,cpy1:s,cpx2:o,cpy2:u}}var Bs=Yt();function dF(t){var e=t.mainData,r=t.datas;r||(r={main:e},t.datasAttr={main:"data"}),t.datas=t.mainData=null,dee(e,r,t),G(r,function(i){G(e.TRANSFERABLE_METHODS,function(n){i.wrapMethod(n,mt(bAe,t))})}),e.wrapMethod("cloneShallow",mt(EAe,t)),G(e.CHANGABLE_METHODS,function(i){e.wrapMethod(i,mt(CAe,t))}),ha(r[e.dataType]===e)}function bAe(t,e){if(AAe(this)){var r=Ce({},Bs(this).datas);r[this.dataType]=e,dee(e,r,t)}else pF(e,this.dataType,Bs(this).mainData,t);return e}function CAe(t,e){return t.struct&&t.struct.update(),e}function EAe(t,e){return G(Bs(e).datas,function(r,i){r!==e&&pF(r.cloneShallow(),i,e,t)}),e}function SAe(t){var e=Bs(this).mainData;return t==null||e==null?e:Bs(e).datas[t]}function TAe(){var t=Bs(this).mainData;return t==null?[{data:t}]:Ie(kt(Bs(t).datas),function(e){return{type:e,data:Bs(t).datas[e]}})}function AAe(t){return Bs(t).mainData===t}function dee(t,e,r){Bs(t).datas={},G(e,function(i,n){pF(i,n,t,r)})}function pF(t,e,r,i){Bs(r).datas[e]=t,Bs(t).mainData=r,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=SAe,t.getLinkedDataAll=TAe}var wAe=function(){function t(e,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=e||"",this.hostTree=r}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(e,r,i){ot(e)&&(i=r,r=e,e=null),e=e||{},Xe(e)&&(e={order:e});var n=e.order||"preorder",a=this[e.attr||"children"],s;n==="preorder"&&(s=r.call(i,this));for(var o=0;!s&&o<a.length;o++)a[o].eachNode(e,r,i);n==="postorder"&&r.call(i,this)},t.prototype.updateDepthAndHeight=function(e){var r=0;this.depth=e;for(var i=0;i<this.children.length;i++){var n=this.children[i];n.updateDepthAndHeight(e+1),n.height>r&&(r=n.height)}this.height=r+1},t.prototype.getNodeById=function(e){if(this.getId()===e)return this;for(var r=0,i=this.children,n=i.length;r<n;r++){var a=i[r].getNodeById(e);if(a)return a}},t.prototype.contains=function(e){if(e===this)return!0;for(var r=0,i=this.children,n=i.length;r<n;r++){var a=i[r].contains(e);if(a)return a}},t.prototype.getAncestors=function(e){for(var r=[],i=e?this:this.parentNode;i;)r.push(i),i=i.parentNode;return r.reverse(),r},t.prototype.getAncestorsIndices=function(){for(var e=[],r=this;r;)e.push(r.dataIndex),r=r.parentNode;return e.reverse(),e},t.prototype.getDescendantIndices=function(){var e=[];return this.eachNode(function(r){e.push(r.dataIndex)}),e},t.prototype.getValue=function(e){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},t.prototype.setLayout=function(e,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,r)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostTree,i=r.data.getItemModel(this.dataIndex);return i.getModel(e)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(e,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,r)},t.prototype.getVisual=function(e){return this.hostTree.data.getItemVisual(this.dataIndex,e)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var e=this.parentNode.children,r=0;r<e.length;++r)if(e[r]===this)return r;return-1}return-1},t.prototype.isAncestorOf=function(e){for(var r=e.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},t.prototype.isDescendantOf=function(e){return e!==this&&e.isAncestorOf(this)},t}(),gF=function(){function t(e){this.type="tree",this._nodes=[],this.hostModel=e}return t.prototype.eachNode=function(e,r,i){this.root.eachNode(e,r,i)},t.prototype.getNodeByDataIndex=function(e){var r=this.data.getRawIndex(e);return this._nodes[r]},t.prototype.getNodeById=function(e){return this.root.getNodeById(e)},t.prototype.update=function(){for(var e=this.data,r=this._nodes,i=0,n=r.length;i<n;i++)r[i].dataIndex=-1;for(var i=0,n=e.count();i<n;i++)r[e.getRawIndex(i)].dataIndex=i},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(e,r,i){var n=new t(r),a=[],s=1;o(e);function o(c,h){var f=c.value;s=Math.max(s,Te(f)?f.length:1),a.push(c);var d=new wAe(Oi(c.name,""),n);h?DAe(d,h):n.root=d,n._nodes.push(d);var p=c.children;if(p)for(var g=0;g<p.length;g++)o(p[g],d)}n.root.updateDepthAndHeight(0);var u=xg(a,{coordDimensions:["value"],dimensionsCount:s}).dimensions,l=new Xr(u,r);return l.initData(a),i&&i(l),dF({mainData:l,struct:n,structAttr:"tree"}),n.update(),n},t}();function DAe(t,e){var r=e.children;t.parentNode!==e&&(r.push(t),t.parentNode=e)}function V2(t,e,r){if(t&&wt(e,t.type)>=0){var i=r.getData().tree.root,n=t.targetNode;if(Xe(n)&&(n=i.getNodeById(n)),n&&i.contains(n))return{node:n};var a=t.targetNodeId;if(a!=null&&(n=i.getNodeById(a)))return{node:n}}}function pee(t){for(var e=[];t;)t=t.parentNode,t&&e.push(t);return e.reverse()}function vF(t,e){var r=pee(t);return wt(r,e)>=0}function Zb(t,e){for(var r=[];t;){var i=t.dataIndex;r.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return r.reverse(),r}var FAe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return e.prototype.getInitialData=function(r){var i={name:r.name,children:r.data},n=r.leaves||{},a=new Xt(n,this,this.ecModel),s=gF.createTree(i,this,o);function o(h){h.wrapMethod("getItemModel",function(f,d){var p=s.getNodeByDataIndex(d);return p&&p.children.length&&p.isExpand||(f.parentModel=a),f})}var u=0;s.eachNode("preorder",function(h){h.depth>u&&(u=h.depth)});var l=r.expandAndCollapse,c=l&&r.initialTreeDepth>=0?r.initialTreeDepth:u;return s.root.eachNode("preorder",function(h){var f=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=f&&f.collapsed!=null?!f.collapsed:h.depth<=c}),s.data},e.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.formatTooltip=function(r,i,n){for(var a=this.getData().tree,s=a.root.children[0],o=a.getNodeByDataIndex(r),u=o.getValue(),l=o.name;o&&o!==s;)l=o.parentNode.name+"."+l,o=o.parentNode;return Ji("nameValue",{name:l,value:u,noValue:isNaN(u)||u==null})},e.prototype.getDataParams=function(r){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(r);return i.treeAncestors=Zb(n,this),i.collapsed=!n.isExpand,i},e.type="series.tree",e.layoutMode="box",e.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},e}(Kt);function IAe(t,e,r){for(var i=[t],n=[],a;a=i.pop();)if(n.push(a),a.isExpand){var s=a.children;if(s.length)for(var o=0;o<s.length;o++)i.push(s[o])}for(;a=n.pop();)e(a,r)}function Dv(t,e){for(var r=[t],i;i=r.pop();)if(e(i),i.isExpand){var n=i.children;if(n.length)for(var a=n.length-1;a>=0;a--)r.push(n[a])}}function BAe(t,e){t.eachSeriesByType("tree",function(r){MAe(r,e)})}function MAe(t,e){var r=hAe(t,e);t.layoutInfo=r;var i=t.get("layout"),n=0,a=0,s=null;i==="radial"?(n=2*Math.PI,a=Math.min(r.height,r.width)/2,s=qk(function(_,x){return(_.parentNode===x.parentNode?1:2)/_.depth})):(n=r.width,a=r.height,s=qk());var o=t.getData().tree.root,u=o.children[0];if(u){uAe(o),IAe(u,lAe,s),o.hierNode.modifier=-u.hierNode.prelim,Dv(u,cAe);var l=u,c=u,h=u;Dv(u,function(_){var x=_.getLayout().x;x<l.getLayout().x&&(l=_),x>c.getLayout().x&&(c=_),_.depth>h.depth&&(h=_)});var f=l===c?1:s(l,c)/2,d=f-l.getLayout().x,p=0,g=0,v=0,m=0;if(i==="radial")p=n/(c.getLayout().x+f+d),g=a/(h.depth-1||1),Dv(u,function(_){v=(_.getLayout().x+d)*p,m=(_.depth-1)*g;var x=u1(v,m);_.setLayout({x:x.x,y:x.y,rawX:v,rawY:m},!0)});else{var y=t.getOrient();y==="RL"||y==="LR"?(g=a/(c.getLayout().x+f+d),p=n/(h.depth-1||1),Dv(u,function(_){m=(_.getLayout().x+d)*g,v=y==="LR"?(_.depth-1)*p:n-(_.depth-1)*p,_.setLayout({x:v,y:m},!0)})):(y==="TB"||y==="BT")&&(p=n/(c.getLayout().x+f+d),g=a/(h.depth-1||1),Dv(u,function(_){v=(_.getLayout().x+d)*p,m=y==="TB"?(_.depth-1)*g:a-(_.depth-1)*g,_.setLayout({x:v,y:m},!0)}))}}}function PAe(t){t.eachSeriesByType("tree",function(e){var r=e.getData(),i=r.tree;i.eachNode(function(n){var a=n.getModel(),s=a.getModel("itemStyle").getItemStyle(),o=r.ensureUniqueItemVisual(n.dataIndex,"style");Ce(o,s)})})}function LAe(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(e,r){r.eachComponent({mainType:"series",subType:"tree",query:e},function(i){var n=e.dataIndex,a=i.getData().tree,s=a.getNodeByDataIndex(n);s.isExpand=!s.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(e,r,i){r.eachComponent({mainType:"series",subType:"tree",query:e},function(n){var a=n.coordinateSystem,s=fF(a,e,void 0,i);n.setCenter&&n.setCenter(s.center),n.setZoom&&n.setZoom(s.zoom)})})}function OAe(t){t.registerChartView(_Ae),t.registerSeriesModel(FAe),t.registerLayout(BAe),t.registerVisual(PAe),LAe(t)}var Qk=["treemapZoomToNode","treemapRender","treemapMove"];function RAe(t){for(var e=0;e<Qk.length;e++)t.registerAction({type:Qk[e],update:"updateView"},gi);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,i){i.eachComponent({mainType:"series",subType:"treemap",query:r},n);function n(a,s){var o=["treemapZoomToNode","treemapRootToNode"],u=V2(r,o,a);if(u){var l=a.getViewRoot();l&&(r.direction=vF(l,u.node)?"rollUp":"drillDown"),a.resetViewRoot(u.node)}}})}function gee(t){var e=t.getData(),r=e.tree,i={};r.eachNode(function(n){for(var a=n;a&&a.depth>1;)a=a.parentNode;var s=W8(t.ecModel,a.name||a.dataIndex+"",i);n.setVisual("decal",s)})}var NAe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.preventUsingHoverLayer=!0,r}return e.prototype.getInitialData=function(r,i){var n={name:r.name,children:r.data};vee(n);var a=r.levels||[],s=this.designatedVisualItemStyle={},o=new Xt({itemStyle:s},this,i);a=r.levels=kAe(a,i);var u=Ie(a||[],function(h){return new Xt(h,o,i)},this),l=gF.createTree(n,this,c);function c(h){h.wrapMethod("getItemModel",function(f,d){var p=l.getNodeByDataIndex(d),g=p?u[p.depth]:null;return f.parentModel=g||o,f})}return l.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.formatTooltip=function(r,i,n){var a=this.getData(),s=this.getRawValue(r),o=a.getName(r);return Ji("nameValue",{name:o,value:s})},e.prototype.getDataParams=function(r){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(r);return i.treeAncestors=Zb(n,this),i.treePathInfo=i.treeAncestors,i},e.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},Ce(this.layoutInfo,r)},e.prototype.mapIdToIndex=function(r){var i=this._idIndexMap;i||(i=this._idIndexMap=nt(),this._idIndexMapCount=0);var n=i.get(r);return n==null&&i.set(r,n=this._idIndexMapCount++),n},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var i=this.getRawData().tree.root;(!r||r!==i&&!i.contains(r))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){gee(this)},e.type="series.treemap",e.layoutMode="box",e.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},e}(Kt);function vee(t){var e=0;G(t.children,function(i){vee(i);var n=i.value;Te(n)&&(n=n[0]),e+=n});var r=t.value;Te(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=e),r<0&&(r=0),Te(t.value)?t.value[0]=r:t.value=r}function kAe(t,e){var r=mr(e.get("color")),i=mr(e.get(["aria","decal","decals"]));if(r){t=t||[];var n,a;G(t,function(o){var u=new Xt(o),l=u.get("color"),c=u.get("decal");(u.get(["itemStyle","color"])||l&&l!=="none")&&(n=!0),(u.get(["itemStyle","decal"])||c&&c!=="none")&&(a=!0)});var s=t[0]||(t[0]={});return n||(s.color=r.slice()),!a&&i&&(s.decal=i.slice()),t}}var zAe=8,ez=8,i6=5,HAe=function(){function t(e){this.group=new dt,e.add(this.group)}return t.prototype.render=function(e,r,i,n){var a=e.getModel("breadcrumb"),s=this.group;if(s.removeAll(),!(!a.get("show")||!i)){var o=a.getModel("itemStyle"),u=a.getModel("emphasis"),l=o.getModel("textStyle"),c=u.getModel(["itemStyle","textStyle"]),h={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,h,l),this._renderContent(e,h,o,u,l,c,n),Nb(s,h.pos,h.box)}},t.prototype._prepare=function(e,r,i){for(var n=e;n;n=n.parentNode){var a=Oi(n.getModel().get("name"),""),s=i.getTextRect(a),o=Math.max(s.width+zAe*2,r.emptyItemWidth);r.totalWidth+=o+ez,r.renderList.push({node:n,text:a,width:o})}},t.prototype._renderContent=function(e,r,i,n,a,s,o){for(var u=0,l=r.emptyItemWidth,c=e.get(["breadcrumb","height"]),h=r4e(r.pos,r.box),f=r.totalWidth,d=r.renderList,p=n.getModel("itemStyle").getItemStyle(),g=d.length-1;g>=0;g--){var v=d[g],m=v.node,y=v.width,_=v.text;f>h.width&&(f-=y-l,y=l,_=null);var x=new pa({shape:{points:GAe(u,0,y,c,g===d.length-1,g===0)},style:st(i.getItemStyle(),{lineJoin:"bevel"}),textContent:new zt({style:pr(a,{text:_})}),textConfig:{position:"inside"},z2:lg*1e4,onclick:mt(o,m)});x.disableLabelAnimation=!0,x.getTextContent().ensureState("emphasis").style=pr(s,{text:_}),x.ensureState("emphasis").style=p,Zr(x,n.get("focus"),n.get("blurScope"),n.get("disabled")),this.group.add(x),UAe(x,e,m),u+=y+ez}},t.prototype.remove=function(){this.group.removeAll()},t}();function GAe(t,e,r,i,n,a){var s=[[n?t:t-i6,e],[t+r,e],[t+r,e+i],[n?t:t-i6,e+i]];return!a&&s.splice(2,0,[t+r+i6,e+i/2]),!n&&s.push([t,e+i/2]),s}function UAe(t,e,r){pt(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&Zb(r,e)}}var jAe=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(e,r,i,n,a){return this._elExistsMap[e.id]?!1:(this._elExistsMap[e.id]=!0,this._storage.push({el:e,target:r,duration:i,delay:n,easing:a}),!0)},t.prototype.finished=function(e){return this._finishedCallback=e,this},t.prototype.start=function(){for(var e=this,r=this._storage.length,i=function(){r--,r<=0&&(e._storage.length=0,e._elExistsMap={},e._finishedCallback&&e._finishedCallback())},n=0,a=this._storage.length;n<a;n++){var s=this._storage[n];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:i,aborted:i})}return this},t}();function VAe(){return new jAe}var xw=dt,tz=Gt,rz=3,iz="label",nz="upperLabel",$Ae=lg*10,WAe=lg*2,YAe=lg*3,q0=Jh([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),az=function(t){var e=q0(t);return e.stroke=e.fill=e.lineWidth=null,e},$3=Yt(),qAe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._state="ready",r._storage=Fv(),r}return e.prototype.render=function(r,i,n,a){var s=i.findComponents({mainType:"series",subType:"treemap",query:a});if(!(wt(s,r)<0)){this.seriesModel=r,this.api=n,this.ecModel=i;var o=["treemapZoomToNode","treemapRootToNode"],u=V2(a,o,r),l=a&&a.type,c=r.layoutInfo,h=!this._oldTree,f=this._storage,d=l==="treemapRootToNode"&&u&&f?{rootNodeGroup:f.nodeGroup[u.node.getRawIndex()],direction:a.direction}:null,p=this._giveContainerGroup(c),g=r.get("animation"),v=this._doRender(p,r,d);g&&!h&&(!l||l==="treemapZoomToNode"||l==="treemapRootToNode")?this._doAnimation(p,v,r,d):v.renderFinally(),this._resetController(n),this._renderBreadcrumb(r,n,u)}},e.prototype._giveContainerGroup=function(r){var i=this._containerGroup;return i||(i=this._containerGroup=new xw,this._initEvents(i),this.group.add(i)),i.x=r.x,i.y=r.y,i},e.prototype._doRender=function(r,i,n){var a=i.getData().tree,s=this._oldTree,o=Fv(),u=Fv(),l=this._storage,c=[];function h(y,_,x,b){return XAe(i,u,l,n,o,c,y,_,x,b)}g(a.root?[a.root]:[],s&&s.root?[s.root]:[],r,a===s||!s,0);var f=v(l);if(this._oldTree=a,this._storage=u,this._controllerHost){var d=this.seriesModel.layoutInfo,p=a.root.getLayout();p.width===d.width&&p.height===d.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:o,willDeleteEls:f,renderFinally:m};function g(y,_,x,b,C){b?(_=y,G(y,function(S,T){!S.isRemoved()&&A(T,T)})):new vl(_,y,E,E).add(A).update(A).remove(mt(A,null)).execute();function E(S){return S.getId()}function A(S,T){var D=S!=null?y[S]:null,F=T!=null?_[T]:null,B=h(D,F,x,C);B&&g(D&&D.viewChildren||[],F&&F.viewChildren||[],B,b,C+1)}}function v(y){var _=Fv();return y&&G(y,function(x,b){var C=_[b];G(x,function(E){E&&(C.push(E),$3(E).willDelete=!0)})}),_}function m(){G(f,function(y){G(y,function(_){_.parent&&_.parent.remove(_)})}),G(c,function(y){y.invisible=!0,y.dirty()})}},e.prototype._doAnimation=function(r,i,n,a){var s=n.get("animationDurationUpdate"),o=n.get("animationEasing"),u=(ot(s)?0:s)||0,l=(ot(o)?null:o)||"cubicOut",c=VAe();G(i.willDeleteEls,function(h,f){G(h,function(d,p){if(!d.invisible){var g=d.parent,v,m=$3(g);if(a&&a.direction==="drillDown")v=g===a.rootNodeGroup?{shape:{x:0,y:0,width:m.nodeWidth,height:m.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var y=0,_=0;m.willDelete||(y=m.nodeWidth/2,_=m.nodeHeight/2),v=f==="nodeGroup"?{x:y,y:_,style:{opacity:0}}:{shape:{x:y,y:_,width:0,height:0},style:{opacity:0}}}v&&c.add(d,v,u,0,l)}})}),G(this._storage,function(h,f){G(h,function(d,p){var g=i.lastsForAnimation[f][p],v={};g&&(d instanceof dt?g.oldX!=null&&(v.x=d.x,v.y=d.y,d.x=g.oldX,d.y=g.oldY):(g.oldShape&&(v.shape=Ce({},d.shape),d.setShape(g.oldShape)),g.fadein?(d.setStyle("opacity",0),v.style={opacity:1}):d.style.opacity!==1&&(v.style={opacity:1})),c.add(d,v,u,0,l))})},this),this._state="animating",c.finished(Je(function(){this._state="ready",i.renderFinally()},this)).start()},e.prototype._resetController=function(r){var i=this._controller,n=this._controllerHost;n||(this._controllerHost={target:this.group},n=this._controllerHost),i||(i=this._controller=new Gm(r.getZr()),i.enable(this.seriesModel.get("roam")),n.zoomLimit=this.seriesModel.get("scaleLimit"),n.zoom=this.seriesModel.get("zoom"),i.on("pan",Je(this._onPan,this)),i.on("zoom",Je(this._onZoom,this)));var a=new Et(0,0,r.getWidth(),r.getHeight());i.setPointerChecker(function(s,o,u){return a.contain(o,u)})},e.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},e.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>rz||Math.abs(r.dy)>rz)){var i=this.seriesModel.getData().tree.root;if(!i)return;var n=i.getLayout();if(!n)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x+r.dx,y:n.y+r.dy,width:n.width,height:n.height}})}},e.prototype._onZoom=function(r){var i=r.originX,n=r.originY,a=r.scale;if(this._state!=="animating"){var s=this.seriesModel.getData().tree.root;if(!s)return;var o=s.getLayout();if(!o)return;var u=new Et(o.x,o.y,o.width,o.height),l=null,c=this._controllerHost;l=c.zoomLimit;var h=c.zoom=c.zoom||1;if(h*=a,l){var f=l.min||0,d=l.max||1/0;h=Math.max(Math.min(d,h),f)}var p=h/c.zoom;c.zoom=h;var g=this.seriesModel.layoutInfo;i-=g.x,n-=g.y;var v=Oa();mu(v,v,[-i,-n]),Q7(v,v,[p,p]),mu(v,v,[i,n]),u.applyTransform(v),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:u.x,y:u.y,width:u.width,height:u.height}})}},e.prototype._initEvents=function(r){var i=this;r.on("click",function(n){if(i._state==="ready"){var a=i.seriesModel.get("nodeClick",!0);if(a){var s=i.findTarget(n.offsetX,n.offsetY);if(s){var o=s.node;if(o.getLayout().isLeafRoot)i._rootToNode(s);else if(a==="zoomToNode")i._zoomToNode(s);else if(a==="link"){var u=o.hostTree.data.getItemModel(o.dataIndex),l=u.get("link",!0),c=u.get("target",!0)||"blank";l&&D3(l,c)}}}}},this)},e.prototype._renderBreadcrumb=function(r,i,n){var a=this;n||(n=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(i.getWidth()/2,i.getHeight()/2),n||(n={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new HAe(this.group))).render(r,i,n.node,function(s){a._state!=="animating"&&(vF(r.getViewRoot(),s)?a._rootToNode({node:s}):a._zoomToNode({node:s}))})},e.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=Fv(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},e.prototype.dispose=function(){this._clearController()},e.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},e.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},e.prototype.findTarget=function(r,i){var n,a=this.seriesModel.getViewRoot();return a.eachNode({attr:"viewChildren",order:"preorder"},function(s){var o=this._storage.background[s.getRawIndex()];if(o){var u=o.transformCoordToLocal(r,i),l=o.shape;if(l.x<=u[0]&&u[0]<=l.x+l.width&&l.y<=u[1]&&u[1]<=l.y+l.height)n={node:s,offsetX:u[0],offsetY:u[1]};else return!1}},this),n},e.type="treemap",e}(Wt);function Fv(){return{nodeGroup:[],background:[],content:[]}}function XAe(t,e,r,i,n,a,s,o,u,l){if(!s)return;var c=s.getLayout(),h=t.getData(),f=s.getModel();if(h.setItemGraphicEl(s.dataIndex,null),!c||!c.isInView)return;var d=c.width,p=c.height,g=c.borderWidth,v=c.invisible,m=s.getRawIndex(),y=o&&o.getRawIndex(),_=s.viewChildren,x=c.upperHeight,b=_&&_.length,C=f.getModel("itemStyle"),E=f.getModel(["emphasis","itemStyle"]),A=f.getModel(["blur","itemStyle"]),S=f.getModel(["select","itemStyle"]),T=C.get("borderRadius")||0,D=de("nodeGroup",xw);if(!D)return;if(u.add(D),D.x=c.x||0,D.y=c.y||0,D.markRedraw(),$3(D).nodeWidth=d,$3(D).nodeHeight=p,c.isAboveViewRoot)return D;var F=de("background",tz,l,WAe);F&&V(D,F,b&&c.upperLabelHeight);var B=f.getModel("emphasis"),O=B.get("focus"),M=B.get("blurScope"),R=B.get("disabled"),z=O==="ancestor"?s.getAncestorsIndices():O==="descendant"?s.getDescendantIndices():O;if(b)B2(D)&&fh(D,!1),F&&(fh(F,!R),h.setItemGraphicEl(s.dataIndex,F),k8(F,z,M));else{var k=de("content",tz,l,YAe);k&&j(D,k),F.disableMorphing=!0,F&&B2(F)&&fh(F,!1),fh(D,!R),h.setItemGraphicEl(s.dataIndex,D);var U=f.getShallow("cursor");U&&k.attr("cursor",U),k8(D,z,M)}return D;function V(le,pe,xe){var be=pt(pe);if(be.dataIndex=s.dataIndex,be.seriesIndex=t.seriesIndex,pe.setShape({x:0,y:0,width:d,height:p,r:T}),v)Y(pe);else{pe.invisible=!1;var q=s.getVisual("style"),J=q.stroke,se=az(C);se.fill=J;var ve=q0(E);ve.fill=E.get("borderColor");var _e=q0(A);_e.fill=A.get("borderColor");var we=q0(S);if(we.fill=S.get("borderColor"),xe){var He=d-2*g;te(pe,J,q.opacity,{x:g,y:0,width:He,height:x})}else pe.removeTextContent();pe.setStyle(se),pe.ensureState("emphasis").style=ve,pe.ensureState("blur").style=_e,pe.ensureState("select").style=we,Qh(pe)}le.add(pe)}function j(le,pe){var xe=pt(pe);xe.dataIndex=s.dataIndex,xe.seriesIndex=t.seriesIndex;var be=Math.max(d-2*g,0),q=Math.max(p-2*g,0);if(pe.culling=!0,pe.setShape({x:g,y:g,width:be,height:q,r:T}),v)Y(pe);else{pe.invisible=!1;var J=s.getVisual("style"),se=J.fill,ve=az(C);ve.fill=se,ve.decal=J.decal;var _e=q0(E),we=q0(A),He=q0(S);te(pe,se,J.opacity,null),pe.setStyle(ve),pe.ensureState("emphasis").style=_e,pe.ensureState("blur").style=we,pe.ensureState("select").style=He,Qh(pe)}le.add(pe)}function Y(le){!le.invisible&&a.push(le)}function te(le,pe,xe,be){var q=f.getModel(be?nz:iz),J=Oi(f.get("name"),null),se=q.getShallow("show");In(le,Ki(f,be?nz:iz),{defaultText:se?J:null,inheritColor:pe,defaultOpacity:xe,labelFetcher:t,labelDataIndex:s.dataIndex});var ve=le.getTextContent();if(ve){var _e=ve.style,we=Z7(_e.padding||0);be&&(le.setTextConfig({layoutRect:be}),ve.disableLabelLayout=!0),ve.beforeUpdate=function(){var ze=Math.max((be?be.width:le.shape.width)-we[1]-we[3],0),Me=Math.max((be?be.height:le.shape.height)-we[0]-we[2],0);(_e.width!==ze||_e.height!==Me)&&ve.setStyle({width:ze,height:Me})},_e.truncateMinChar=2,_e.lineOverflow="truncate",re(_e,be,c);var He=ve.getState("emphasis");re(He?He.style:null,be,c)}}function re(le,pe,xe){var be=le?le.text:null;if(!pe&&xe.isLeafRoot&&be!=null){var q=t.get("drillDownIcon",!0);le.text=q?q+" "+be:be}}function de(le,pe,xe,be){var q=y!=null&&r[le][y],J=n[le];return q?(r[le][y]=null,Oe(J,q)):v||(q=new pe,q instanceof zs&&(q.z2=ZAe(xe,be)),he(J,q)),e[le][m]=q}function Oe(le,pe){var xe=le[m]={};pe instanceof xw?(xe.oldX=pe.x,xe.oldY=pe.y):xe.oldShape=Ce({},pe.shape)}function he(le,pe){var xe=le[m]={},be=s.parentNode,q=pe instanceof dt;if(be&&(!i||i.direction==="drillDown")){var J=0,se=0,ve=n.background[be.getRawIndex()];!i&&ve&&ve.oldShape&&(J=ve.oldShape.width,se=ve.oldShape.height),q?(xe.oldX=0,xe.oldY=se):xe.oldShape={x:J,y:se,width:0,height:0}}xe.fadein=!q}}function ZAe(t,e){return t*$Ae+e}var $2=G,KAe=lt,W3=-1,qi=function(){function t(e){var r=e.mappingMethod,i=e.type,n=this.option=ht(e);this.type=i,this.mappingMethod=r,this._normalizeData=e8e[r];var a=t.visualHandlers[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[r],r==="piecewise"?(n6(n),JAe(n)):r==="category"?n.categories?QAe(n):n6(n,!0):(ha(r!=="linear"||n.dataExtent),n6(n))}return t.prototype.mapValueToVisual=function(e){var r=this._normalizeData(e);return this._normalizedToVisual(r,e)},t.prototype.getNormalizer=function(){return Je(this._normalizeData,this)},t.listVisualTypes=function(){return kt(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(e,r,i){lt(e)?G(e,r,i):r.call(i,e)},t.mapVisual=function(e,r,i){var n,a=Te(e)?[]:lt(e)?{}:(n=!0,null);return t.eachVisual(e,function(s,o){var u=r.call(i,s,o);n?a=u:a[o]=u}),a},t.retrieveVisuals=function(e){var r={},i;return e&&$2(t.visualHandlers,function(n,a){e.hasOwnProperty(a)&&(r[a]=e[a],i=!0)}),i?r:null},t.prepareVisualTypes=function(e){if(Te(e))e=e.slice();else if(KAe(e)){var r=[];$2(e,function(i,n){r.push(n)}),e=r}else return[];return e.sort(function(i,n){return n==="color"&&i!=="color"&&i.indexOf("color")===0?1:-1}),e},t.dependsOn=function(e,r){return r==="color"?!!(e&&e.indexOf(r)===0):e===r},t.findPieceIndex=function(e,r,i){for(var n,a=1/0,s=0,o=r.length;s<o;s++){var u=r[s].value;if(u!=null){if(u===e||Xe(u)&&u===e+"")return s;i&&f(u,s)}}for(var s=0,o=r.length;s<o;s++){var l=r[s],c=l.interval,h=l.close;if(c){if(c[0]===-1/0){if(M_(h[1],e,c[1]))return s}else if(c[1]===1/0){if(M_(h[0],c[0],e))return s}else if(M_(h[0],c[0],e)&&M_(h[1],e,c[1]))return s;i&&f(c[0],s),i&&f(c[1],s)}}if(i)return e===1/0?r.length-1:e===-1/0?0:n;function f(d,p){var g=Math.abs(d-e);g<a&&(a=g,n=p)}},t.visualHandlers={color:{applyVisual:Iv("color"),getColorMapper:function(){var e=this.option;return Je(e.mappingMethod==="category"?function(r,i){return!i&&(r=this._normalizeData(r)),l1.call(this,r)}:function(r,i,n){var a=!!n;return!i&&(r=this._normalizeData(r)),n=kE(r,e.parsedVisual,n),a?n:il(n,"rgba")},this)},_normalizedToVisual:{linear:function(e){return il(kE(e,this.option.parsedVisual),"rgba")},category:l1,piecewise:function(e,r){var i=Cw.call(this,r);return i==null&&(i=il(kE(e,this.option.parsedVisual),"rgba")),i},fixed:X0}},colorHue:B_(function(e,r){return L1(e,r)}),colorSaturation:B_(function(e,r){return L1(e,null,r)}),colorLightness:B_(function(e,r){return L1(e,null,null,r)}),colorAlpha:B_(function(e,r){return g3(e,r)}),decal:{applyVisual:Iv("decal"),_normalizedToVisual:{linear:null,category:l1,piecewise:null,fixed:null}},opacity:{applyVisual:Iv("opacity"),_normalizedToVisual:bw([0,1])},liftZ:{applyVisual:Iv("liftZ"),_normalizedToVisual:{linear:X0,category:X0,piecewise:X0,fixed:X0}},symbol:{applyVisual:function(e,r,i){var n=this.mapValueToVisual(e);i("symbol",n)},_normalizedToVisual:{linear:sz,category:l1,piecewise:function(e,r){var i=Cw.call(this,r);return i==null&&(i=sz.call(this,e)),i},fixed:X0}},symbolSize:{applyVisual:Iv("symbolSize"),_normalizedToVisual:bw([0,1])}},t}();function JAe(t){var e=t.pieceList;t.hasSpecialVisual=!1,G(e,function(r,i){r.originIndex=i,r.visual!=null&&(t.hasSpecialVisual=!0)})}function QAe(t){var e=t.categories,r=t.categoryMap={},i=t.visual;if($2(e,function(s,o){r[s]=o}),!Te(i)){var n=[];lt(i)?$2(i,function(s,o){var u=r[o];n[u??W3]=s}):n[W3]=i,i=mee(t,n)}for(var a=e.length-1;a>=0;a--)i[a]==null&&(delete r[e[a]],e.pop())}function n6(t,e){var r=t.visual,i=[];lt(r)?$2(r,function(a){i.push(a)}):r!=null&&i.push(r);var n={color:1,symbol:1};!e&&i.length===1&&!n.hasOwnProperty(t.type)&&(i[1]=i[0]),mee(t,i)}function B_(t){return{applyVisual:function(e,r,i){var n=this.mapValueToVisual(e);i("color",t(r("color"),n))},_normalizedToVisual:bw([0,1])}}function sz(t){var e=this.option.visual;return e[Math.round(nr(t,[0,1],[0,e.length-1],!0))]||{}}function Iv(t){return function(e,r,i){i(t,this.mapValueToVisual(e))}}function l1(t){var e=this.option.visual;return e[this.option.loop&&t!==W3?t%e.length:t]}function X0(){return this.option.visual[0]}function bw(t){return{linear:function(e){return nr(e,t,this.option.visual,!0)},category:l1,piecewise:function(e,r){var i=Cw.call(this,r);return i==null&&(i=nr(e,t,this.option.visual,!0)),i},fixed:X0}}function Cw(t){var e=this.option,r=e.pieceList;if(e.hasSpecialVisual){var i=qi.findPieceIndex(t,r),n=r[i];if(n&&n.visual)return n.visual[this.type]}}function mee(t,e){return t.visual=e,t.type==="color"&&(t.parsedVisual=Ie(e,function(r){var i=ua(r);return i||[0,0,0,1]})),e}var e8e={linear:function(t){return nr(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,r=qi.findPieceIndex(t,e,!0);if(r!=null)return nr(r,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return e??W3},fixed:gi};function M_(t,e,r){return t?e<=r:e<r}var t8e="itemStyle",yee=Yt();const r8e={seriesType:"treemap",reset:function(t){var e=t.getData().tree,r=e.root;r.isRemoved()||_ee(r,{},t.getViewRoot().getAncestors(),t)}};function _ee(t,e,r,i){var n=t.getModel(),a=t.getLayout(),s=t.hostTree.data;if(!(!a||a.invisible||!a.isInView)){var o=n.getModel(t8e),u=i8e(o,e,i),l=s.ensureUniqueItemVisual(t.dataIndex,"style"),c=o.get("borderColor"),h=o.get("borderColorSaturation"),f;h!=null&&(f=oz(u),c=n8e(h,f)),l.stroke=c;var d=t.viewChildren;if(!d||!d.length)f=oz(u),l.fill=f;else{var p=a8e(t,n,a,o,u,d);G(d,function(g,v){if(g.depth>=r.length||g===r[g.depth]){var m=s8e(n,u,g,v,p,i);_ee(g,m,r,i)}})}}}function i8e(t,e,r){var i=Ce({},e),n=r.designatedVisualItemStyle;return G(["color","colorAlpha","colorSaturation"],function(a){n[a]=e[a];var s=t.get(a);n[a]=null,s!=null&&(i[a]=s)}),i}function oz(t){var e=a6(t,"color");if(e){var r=a6(t,"colorAlpha"),i=a6(t,"colorSaturation");return i&&(e=L1(e,null,null,i)),r&&(e=g3(e,r)),e}}function n8e(t,e){return e!=null?L1(e,null,null,t):null}function a6(t,e){var r=t[e];if(r!=null&&r!=="none")return r}function a8e(t,e,r,i,n,a){if(!(!a||!a.length)){var s=s6(e,"color")||n.color!=null&&n.color!=="none"&&(s6(e,"colorAlpha")||s6(e,"colorSaturation"));if(s){var o=e.get("visualMin"),u=e.get("visualMax"),l=r.dataExtent.slice();o!=null&&o<l[0]&&(l[0]=o),u!=null&&u>l[1]&&(l[1]=u);var c=e.get("colorMappingBy"),h={type:s.name,dataExtent:l,visual:s.range};h.type==="color"&&(c==="index"||c==="id")?(h.mappingMethod="category",h.loop=!0):h.mappingMethod="linear";var f=new qi(h);return yee(f).drColorMappingBy=c,f}}}function s6(t,e){var r=t.get(e);return Te(r)&&r.length?{name:e,range:r}:null}function s8e(t,e,r,i,n,a){var s=Ce({},e);if(n){var o=n.type,u=o==="color"&&yee(n).drColorMappingBy,l=u==="index"?i:u==="id"?a.mapIdToIndex(r.getId()):r.getValue(t.get("visualDimension"));s[o]=n.mapValueToVisual(l)}return s}var W2=Math.max,Y3=Math.min,uz=dn,mF=G,xee=["itemStyle","borderWidth"],o8e=["itemStyle","gapWidth"],u8e=["upperLabel","show"],l8e=["upperLabel","height"];const c8e={seriesType:"treemap",reset:function(t,e,r,i){var n=r.getWidth(),a=r.getHeight(),s=t.option,o=ai(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),u=s.size||[],l=je(uz(o.width,u[0]),n),c=je(uz(o.height,u[1]),a),h=i&&i.type,f=["treemapZoomToNode","treemapRootToNode"],d=V2(i,f,t),p=h==="treemapRender"||h==="treemapMove"?i.rootRect:null,g=t.getViewRoot(),v=pee(g);if(h!=="treemapMove"){var m=h==="treemapZoomToNode"?v8e(t,d,g,l,c):p?[p.width,p.height]:[l,c],y=s.sort;y&&y!=="asc"&&y!=="desc"&&(y="desc");var _={squareRatio:s.squareRatio,sort:y,leafDepth:s.leafDepth};g.hostTree.clearLayouts();var x={x:0,y:0,width:m[0],height:m[1],area:m[0]*m[1]};g.setLayout(x),bee(g,_,!1,0),x=g.getLayout(),mF(v,function(C,E){var A=(v[E+1]||g).getValue();C.setLayout(Ce({dataExtent:[A,A],borderWidth:0,upperHeight:0},x))})}var b=t.getData().tree.root;b.setLayout(m8e(o,p,d),!0),t.setLayoutInfo(o),Cee(b,new Et(-o.x,-o.y,n,a),v,g,0)}};function bee(t,e,r,i){var n,a;if(!t.isRemoved()){var s=t.getLayout();n=s.width,a=s.height;var o=t.getModel(),u=o.get(xee),l=o.get(o8e)/2,c=Eee(o),h=Math.max(u,c),f=u-l,d=h-l;t.setLayout({borderWidth:u,upperHeight:h,upperLabelHeight:c},!0),n=W2(n-2*f,0),a=W2(a-f-d,0);var p=n*a,g=h8e(t,o,p,e,r,i);if(g.length){var v={x:f,y:d,width:n,height:a},m=Y3(n,a),y=1/0,_=[];_.area=0;for(var x=0,b=g.length;x<b;){var C=g[x];_.push(C),_.area+=C.getLayout().area;var E=g8e(_,m,e.squareRatio);E<=y?(x++,y=E):(_.area-=_.pop().getLayout().area,lz(_,m,v,l,!1),m=Y3(v.width,v.height),_.length=_.area=0,y=1/0)}if(_.length&&lz(_,m,v,l,!0),!r){var A=o.get("childrenVisibleMin");A!=null&&p<A&&(r=!0)}for(var x=0,b=g.length;x<b;x++)bee(g[x],e,r,i+1)}}}function h8e(t,e,r,i,n,a){var s=t.children||[],o=i.sort;o!=="asc"&&o!=="desc"&&(o=null);var u=i.leafDepth!=null&&i.leafDepth<=a;if(n&&!u)return t.viewChildren=[];s=sr(s,function(d){return!d.isRemoved()}),d8e(s,o);var l=p8e(e,s,o);if(l.sum===0)return t.viewChildren=[];if(l.sum=f8e(e,r,l.sum,o,s),l.sum===0)return t.viewChildren=[];for(var c=0,h=s.length;c<h;c++){var f=s[c].getValue()/l.sum*r;s[c].setLayout({area:f})}return u&&(s.length&&t.setLayout({isLeafRoot:!0},!0),s.length=0),t.viewChildren=s,t.setLayout({dataExtent:l.dataExtent},!0),s}function f8e(t,e,r,i,n){if(!i)return r;for(var a=t.get("visibleMin"),s=n.length,o=s,u=s-1;u>=0;u--){var l=n[i==="asc"?s-u-1:u].getValue();l/r*e<a&&(o=u,r-=l)}return i==="asc"?n.splice(0,s-o):n.splice(o,s-o),r}function d8e(t,e){return e&&t.sort(function(r,i){var n=e==="asc"?r.getValue()-i.getValue():i.getValue()-r.getValue();return n===0?e==="asc"?r.dataIndex-i.dataIndex:i.dataIndex-r.dataIndex:n}),t}function p8e(t,e,r){for(var i=0,n=0,a=e.length;n<a;n++)i+=e[n].getValue();var s=t.get("visualDimension"),o;return!e||!e.length?o=[NaN,NaN]:s==="value"&&r?(o=[e[e.length-1].getValue(),e[0].getValue()],r==="asc"&&o.reverse()):(o=[1/0,-1/0],mF(e,function(u){var l=u.getValue(s);l<o[0]&&(o[0]=l),l>o[1]&&(o[1]=l)})),{sum:i,dataExtent:o}}function g8e(t,e,r){for(var i=0,n=1/0,a=0,s=void 0,o=t.length;a<o;a++)s=t[a].getLayout().area,s&&(s<n&&(n=s),s>i&&(i=s));var u=t.area*t.area,l=e*e*r;return u?W2(l*i/u,u/(l*n)):1/0}function lz(t,e,r,i,n){var a=e===r.width?0:1,s=1-a,o=["x","y"],u=["width","height"],l=r[o[a]],c=e?t.area/e:0;(n||c>r[u[s]])&&(c=r[u[s]]);for(var h=0,f=t.length;h<f;h++){var d=t[h],p={},g=c?d.getLayout().area/c:0,v=p[u[s]]=W2(c-2*i,0),m=r[o[a]]+r[u[a]]-l,y=h===f-1||m<g?m:g,_=p[u[a]]=W2(y-2*i,0);p[o[s]]=r[o[s]]+Y3(i,v/2),p[o[a]]=l+Y3(i,_/2),l+=y,d.setLayout(p,!0)}r[o[s]]+=c,r[u[s]]-=c}function v8e(t,e,r,i,n){var a=(e||{}).node,s=[i,n];if(!a||a===r)return s;for(var o,u=i*n,l=u*t.option.zoomToNodeRatio;o=a.parentNode;){for(var c=0,h=o.children,f=0,d=h.length;f<d;f++)c+=h[f].getValue();var p=a.getValue();if(p===0)return s;l*=c/p;var g=o.getModel(),v=g.get(xee),m=Math.max(v,Eee(g));l+=4*v*v+(3*v+m)*Math.pow(l,.5),l>CO&&(l=CO),a=o}l<u&&(l=u);var y=Math.pow(l/u,.5);return[i*y,n*y]}function m8e(t,e,r){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!r)return i;var n=r.node,a=n.getLayout();if(!a)return i;for(var s=[a.width/2,a.height/2],o=n;o;){var u=o.getLayout();s[0]+=u.x,s[1]+=u.y,o=o.parentNode}return{x:t.width/2-s[0],y:t.height/2-s[1]}}function Cee(t,e,r,i,n){var a=t.getLayout(),s=r[n],o=s&&s===t;if(!(s&&!o||n===r.length&&t!==i)){t.setLayout({isInView:!0,invisible:!o&&!e.intersect(a),isAboveViewRoot:o},!0);var u=new Et(e.x-a.x,e.y-a.y,e.width,e.height);mF(t.viewChildren||[],function(l){Cee(l,u,r,i,n+1)})}}function Eee(t){return t.get(u8e)?t.get(l8e):0}function y8e(t){t.registerSeriesModel(NAe),t.registerChartView(qAe),t.registerVisual(r8e),t.registerLayout(c8e),RAe(t)}function _8e(t){var e=t.findComponents({mainType:"legend"});!e||!e.length||t.eachSeriesByType("graph",function(r){var i=r.getCategoriesData(),n=r.getGraph(),a=n.data,s=i.mapArray(i.getName);a.filterSelf(function(o){var u=a.getItemModel(o),l=u.getShallow("category");if(l!=null){Zt(l)&&(l=s[l]);for(var c=0;c<e.length;c++)if(!e[c].isSelected(l))return!1}return!0})})}function x8e(t){var e={};t.eachSeriesByType("graph",function(r){var i=r.getCategoriesData(),n=r.getData(),a={};i.each(function(s){var o=i.getName(s);a["ec-"+o]=s;var u=i.getItemModel(s),l=u.getModel("itemStyle").getItemStyle();l.fill||(l.fill=r.getColorFromPalette(o,e)),i.setItemVisual(s,"style",l);for(var c=["symbol","symbolSize","symbolKeepAspect"],h=0;h<c.length;h++){var f=u.getShallow(c[h],!0);f!=null&&i.setItemVisual(s,c[h],f)}}),i.count()&&n.each(function(s){var o=n.getItemModel(s),u=o.getShallow("category");if(u!=null){Xe(u)&&(u=a["ec-"+u]);var l=i.getItemVisual(u,"style"),c=n.ensureUniqueItemVisual(s,"style");Ce(c,l);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)n.setItemVisual(s,h[f],i.getItemVisual(u,h[f]))}})})}function P_(t){return t instanceof Array||(t=[t,t]),t}function b8e(t){t.eachSeriesByType("graph",function(e){var r=e.getGraph(),i=e.getEdgeData(),n=P_(e.get("edgeSymbol")),a=P_(e.get("edgeSymbolSize"));i.setVisual("fromSymbol",n&&n[0]),i.setVisual("toSymbol",n&&n[1]),i.setVisual("fromSymbolSize",a&&a[0]),i.setVisual("toSymbolSize",a&&a[1]),i.setVisual("style",e.getModel("lineStyle").getLineStyle()),i.each(function(s){var o=i.getItemModel(s),u=r.getEdgeByIndex(s),l=P_(o.getShallow("symbol",!0)),c=P_(o.getShallow("symbolSize",!0)),h=o.getModel("lineStyle").getLineStyle(),f=i.ensureUniqueItemVisual(s,"style");switch(Ce(f,h),f.stroke){case"source":{var d=u.node1.getVisual("style");f.stroke=d&&d.fill;break}case"target":{var d=u.node2.getVisual("style");f.stroke=d&&d.fill;break}}l[0]&&u.setVisual("fromSymbol",l[0]),l[1]&&u.setVisual("toSymbol",l[1]),c[0]&&u.setVisual("fromSymbolSize",c[0]),c[1]&&u.setVisual("toSymbolSize",c[1])})})}var Ew="-->",Kb=function(t){return t.get("autoCurveness")||null},See=function(t,e){var r=Kb(t),i=20,n=[];if(Zt(r))i=r;else if(Te(r)){t.__curvenessList=r;return}e>i&&(i=e);var a=i%2?i+2:i+3;n=[];for(var s=0;s<a;s++)n.push((s%2?s+1:s)/10*(s%2?-1:1));t.__curvenessList=n},Y2=function(t,e,r){var i=[t.id,t.dataIndex].join("."),n=[e.id,e.dataIndex].join(".");return[r.uid,i,n].join(Ew)},Tee=function(t){var e=t.split(Ew);return[e[0],e[2],e[1]].join(Ew)},C8e=function(t,e){var r=Y2(t.node1,t.node2,e);return e.__edgeMap[r]},E8e=function(t,e){var r=Sw(Y2(t.node1,t.node2,e),e),i=Sw(Y2(t.node2,t.node1,e),e);return r+i},Sw=function(t,e){var r=e.__edgeMap;return r[t]?r[t].length:0};function S8e(t){Kb(t)&&(t.__curvenessList=[],t.__edgeMap={},See(t))}function T8e(t,e,r,i){if(Kb(r)){var n=Y2(t,e,r),a=r.__edgeMap,s=a[Tee(n)];a[n]&&!s?a[n].isForward=!0:s&&a[n]&&(s.isForward=!0,a[n].isForward=!1),a[n]=a[n]||[],a[n].push(i)}}function yF(t,e,r,i){var n=Kb(e),a=Te(n);if(!n)return null;var s=C8e(t,e);if(!s)return null;for(var o=-1,u=0;u<s.length;u++)if(s[u]===r){o=u;break}var l=E8e(t,e);See(e,l),t.lineStyle=t.lineStyle||{};var c=Y2(t.node1,t.node2,e),h=e.__curvenessList,f=a||l%2?0:1;if(s.isForward)return h[f+o];var d=Tee(c),p=Sw(d,e),g=h[o+p+f];return i?a?n&&n[0]===0?(p+f)%2?g:-g:((p%2?0:1)+f)%2?g:-g:(p+f)%2?g:-g:h[o+p+f]}function Aee(t){var e=t.coordinateSystem;if(!(e&&e.type!=="view")){var r=t.getGraph();r.eachNode(function(i){var n=i.getModel();i.setLayout([+n.get("x"),+n.get("y")])}),_F(r,t)}}function _F(t,e){t.eachEdge(function(r,i){var n=su(r.getModel().get(["lineStyle","curveness"]),-yF(r,e,i,!0),0),a=tl(r.node1.getLayout()),s=tl(r.node2.getLayout()),o=[a,s];+n&&o.push([(a[0]+s[0])/2-(a[1]-s[1])*n,(a[1]+s[1])/2-(s[0]-a[0])*n]),r.setLayout(o)})}function A8e(t,e){t.eachSeriesByType("graph",function(r){var i=r.get("layout"),n=r.coordinateSystem;if(n&&n.type!=="view"){var a=r.getData(),s=[];G(n.dimensions,function(f){s=s.concat(a.mapDimensionsAll(f))});for(var o=0;o<a.count();o++){for(var u=[],l=!1,c=0;c<s.length;c++){var h=a.get(s[c],o);isNaN(h)||(l=!0),u.push(h)}l?a.setItemLayout(o,n.dataToPoint(u)):a.setItemLayout(o,[NaN,NaN])}_F(a.graph,r)}else(!i||i==="none")&&Aee(r)})}function c1(t){var e=t.coordinateSystem;if(e.type!=="view")return 1;var r=t.option.nodeScaleRatio,i=e.scaleX,n=e.getZoom(),a=(n-1)*r+1;return a/i}function h1(t){var e=t.getVisual("symbolSize");return e instanceof Array&&(e=(e[0]+e[1])/2),+e}var cz=Math.PI,o6=[];function xF(t,e,r,i){var n=t.coordinateSystem;if(!(n&&n.type!=="view")){var a=n.getBoundingRect(),s=t.getData(),o=s.graph,u=a.width/2+a.x,l=a.height/2+a.y,c=Math.min(a.width,a.height)/2,h=s.count();if(s.setLayout({cx:u,cy:l}),!!h){if(r){var f=n.pointToData(i),d=f[0],p=f[1],g=[d-u,p-l];sg(g,g),Rx(g,g,c),r.setLayout([u+g[0],l+g[1]],!0);var v=t.get(["circular","rotateLabel"]);wee(r,v,u,l)}w8e[e](t,o,s,c,u,l,h),o.eachEdge(function(m,y){var _=su(m.getModel().get(["lineStyle","curveness"]),yF(m,t,y),0),x=tl(m.node1.getLayout()),b=tl(m.node2.getLayout()),C,E=(x[0]+b[0])/2,A=(x[1]+b[1])/2;+_&&(_*=3,C=[u*_+E*(1-_),l*_+A*(1-_)]),m.setLayout([x,b,C])})}}}var w8e={value:function(t,e,r,i,n,a,s){var o=0,u=r.getSum("value"),l=Math.PI*2/(u||s);e.eachNode(function(c){var h=c.getValue("value"),f=l*(u?h:1)/2;o+=f,c.setLayout([i*Math.cos(o)+n,i*Math.sin(o)+a]),o+=f})},symbolSize:function(t,e,r,i,n,a,s){var o=0;o6.length=s;var u=c1(t);e.eachNode(function(h){var f=h1(h);isNaN(f)&&(f=2),f<0&&(f=0),f*=u;var d=Math.asin(f/2/i);isNaN(d)&&(d=cz/2),o6[h.dataIndex]=d,o+=d*2});var l=(2*cz-o)/s/2,c=0;e.eachNode(function(h){var f=l+o6[h.dataIndex];c+=f,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([i*Math.cos(c)+n,i*Math.sin(c)+a]),c+=f})}};function wee(t,e,r,i){var n=t.getGraphicEl();if(n){var a=t.getModel(),s=a.get(["label","rotate"])||0,o=n.getSymbolPath();if(e){var u=t.getLayout(),l=Math.atan2(u[1]-i,u[0]-r);l<0&&(l=Math.PI*2+l);var c=u[0]<r;c&&(l=l-Math.PI);var h=c?"left":"right";o.setTextConfig({rotation:-l,position:h,origin:"center"});var f=o.ensureState("emphasis");Ce(f.textConfig||(f.textConfig={}),{position:h})}else o.setTextConfig({rotation:s*=Math.PI/180})}}function D8e(t){t.eachSeriesByType("graph",function(e){e.get("layout")==="circular"&&xF(e,"symbolSize")})}var Jf=l8;function F8e(t,e,r){for(var i=t,n=e,a=r.rect,s=a.width,o=a.height,u=[a.x+s/2,a.y+o/2],l=r.gravity==null?.1:r.gravity,c=0;c<i.length;c++){var h=i[c];h.p||(h.p=xf(s*(Math.random()-.5)+u[0],o*(Math.random()-.5)+u[1])),h.pp=tl(h.p),h.edges=null}var f=r.friction==null?.6:r.friction,d=f,p,g;return{warmUp:function(){d=f*.8},setFixed:function(v){i[v].fixed=!0},setUnfixed:function(v){i[v].fixed=!1},beforeStep:function(v){p=v},afterStep:function(v){g=v},step:function(v){p&&p(i,n);for(var m=[],y=i.length,_=0;_<n.length;_++){var x=n[_];if(!x.ignoreForceLayout){var b=x.n1,C=x.n2;ch(m,C.p,b.p);var E=c8(m)-x.d,A=C.w/(b.w+C.w);isNaN(A)&&(A=0),sg(m,m),!b.fixed&&Jf(b.p,b.p,m,A*E*d),!C.fixed&&Jf(C.p,C.p,m,-(1-A)*E*d)}}for(var _=0;_<y;_++){var S=i[_];S.fixed||(ch(m,u,S.p),Jf(S.p,S.p,m,l*d))}for(var _=0;_<y;_++)for(var b=i[_],T=_+1;T<y;T++){var C=i[T];ch(m,C.p,b.p);var E=c8(m);E===0&&(l_e(m,Math.random()-.5,Math.random()-.5),E=1);var D=(b.rep+C.rep)/E/E;!b.fixed&&Jf(b.pp,b.pp,m,D),!C.fixed&&Jf(C.pp,C.pp,m,-D)}for(var F=[],_=0;_<y;_++){var S=i[_];S.fixed||(ch(F,S.p,S.pp),Jf(S.p,S.p,F,d),Kn(S.pp,S.p))}d=d*.992;var B=d<.01;g&&g(i,n,B),v&&v(B)}}}function I8e(t){t.eachSeriesByType("graph",function(e){var r=e.coordinateSystem;if(!(r&&r.type!=="view"))if(e.get("layout")==="force"){var i=e.preservedPoints||{},n=e.getGraph(),a=n.data,s=n.edgeData,o=e.getModel("force"),u=o.get("initLayout");e.preservedPoints?a.each(function(_){var x=a.getId(_);a.setItemLayout(_,i[x]||[NaN,NaN])}):!u||u==="none"?Aee(e):u==="circular"&&xF(e,"value");var l=a.getDataExtent("value"),c=s.getDataExtent("value"),h=o.get("repulsion"),f=o.get("edgeLength"),d=Te(h)?h:[h,h],p=Te(f)?f:[f,f];p=[p[1],p[0]];var g=a.mapArray("value",function(_,x){var b=a.getItemLayout(x),C=nr(_,l,d);return isNaN(C)&&(C=(d[0]+d[1])/2),{w:C,rep:C,fixed:a.getItemModel(x).get("fixed"),p:!b||isNaN(b[0])||isNaN(b[1])?null:b}}),v=s.mapArray("value",function(_,x){var b=n.getEdgeByIndex(x),C=nr(_,c,p);isNaN(C)&&(C=(p[0]+p[1])/2);var E=b.getModel(),A=su(b.getModel().get(["lineStyle","curveness"]),-yF(b,e,x,!0),0);return{n1:g[b.node1.dataIndex],n2:g[b.node2.dataIndex],d:C,curveness:A,ignoreForceLayout:E.get("ignoreForceLayout")}}),m=r.getBoundingRect(),y=F8e(g,v,{rect:m,gravity:o.get("gravity"),friction:o.get("friction")});y.beforeStep(function(_,x){for(var b=0,C=_.length;b<C;b++)_[b].fixed&&Kn(_[b].p,n.getNodeByIndex(b).getLayout())}),y.afterStep(function(_,x,b){for(var C=0,E=_.length;C<E;C++)_[C].fixed||n.getNodeByIndex(C).setLayout(_[C].p),i[a.getId(C)]=_[C].p;for(var C=0,E=x.length;C<E;C++){var A=x[C],S=n.getEdgeByIndex(C),T=A.n1.p,D=A.n2.p,F=S.getLayout();F=F?F.slice():[],F[0]=F[0]||[],F[1]=F[1]||[],Kn(F[0],T),Kn(F[1],D),+A.curveness&&(F[2]=[(T[0]+D[0])/2-(T[1]-D[1])*A.curveness,(T[1]+D[1])/2-(D[0]-T[0])*A.curveness]),S.setLayout(F)}}),e.forceLayout=y,e.preservedPoints=i,y.step()}else e.forceLayout=null})}function B8e(t,e,r){var i=Ce(t.getBoxLayoutParams(),{aspect:r});return ai(i,{width:e.getWidth(),height:e.getHeight()})}function M8e(t,e){var r=[];return t.eachSeriesByType("graph",function(i){var n=i.get("coordinateSystem");if(!n||n==="view"){var a=i.getData(),s=a.mapArray(function(v){var m=a.getItemModel(v);return[+m.get("x"),+m.get("y")]}),o=[],u=[];Sb(s,o,u),u[0]-o[0]===0&&(u[0]+=1,o[0]-=1),u[1]-o[1]===0&&(u[1]+=1,o[1]-=1);var l=(u[0]-o[0])/(u[1]-o[1]),c=B8e(i,e,l);isNaN(l)&&(o=[c.x,c.y],u=[c.x+c.width,c.y+c.height]);var h=u[0]-o[0],f=u[1]-o[1],d=c.width,p=c.height,g=i.coordinateSystem=new Um;g.zoomLimit=i.get("scaleLimit"),g.setBoundingRect(o[0],o[1],h,f),g.setViewRect(c.x,c.y,d,p),g.setCenter(i.get("center"),e),g.setZoom(i.get("zoom")),r.push(g)}}),r}var hz=Ui.prototype,u6=Dm.prototype,Dee=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e})(Dee);function l6(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var P8e=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="ec-line",i}return e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new Dee},e.prototype.buildPath=function(r,i){l6(i)?hz.buildPath.call(this,r,i):u6.buildPath.call(this,r,i)},e.prototype.pointAt=function(r){return l6(this.shape)?hz.pointAt.call(this,r):u6.pointAt.call(this,r)},e.prototype.tangentAt=function(r){var i=this.shape,n=l6(i)?[i.x2-i.x1,i.y2-i.y1]:u6.tangentAt.call(this,r);return sg(n,n)},e}(Pt),c6=["fromSymbol","toSymbol"];function fz(t){return"_"+t+"Type"}function dz(t,e,r){var i=e.getItemVisual(r,t);if(!i||i==="none")return i;var n=e.getItemVisual(r,t+"Size"),a=e.getItemVisual(r,t+"Rotate"),s=e.getItemVisual(r,t+"Offset"),o=e.getItemVisual(r,t+"KeepAspect"),u=_g(n),l=Tf(s||0,u);return i+u+l+(a||"")+(o||"")}function pz(t,e,r){var i=e.getItemVisual(r,t);if(!(!i||i==="none")){var n=e.getItemVisual(r,t+"Size"),a=e.getItemVisual(r,t+"Rotate"),s=e.getItemVisual(r,t+"Offset"),o=e.getItemVisual(r,t+"KeepAspect"),u=_g(n),l=Tf(s||0,u),c=vi(i,-u[0]/2+l[0],-u[1]/2+l[1],u[0],u[1],null,o);return c.__specifiedRotation=a==null||isNaN(a)?void 0:+a*Math.PI/180||0,c.name=t,c}}function L8e(t){var e=new P8e({name:"line",subPixelOptimize:!0});return Tw(e.shape,t),e}function Tw(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;var r=e[2];r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=NaN,t.cpy1=NaN)}var bF=function(t){ce(e,t);function e(r,i,n){var a=t.call(this)||this;return a._createLine(r,i,n),a}return e.prototype._createLine=function(r,i,n){var a=r.hostModel,s=r.getItemLayout(i),o=L8e(s);o.shape.percent=0,Nr(o,{shape:{percent:1}},a,i),this.add(o),G(c6,function(u){var l=pz(u,r,i);this.add(l),this[fz(u)]=dz(u,r,i)},this),this._updateCommonStl(r,i,n)},e.prototype.updateData=function(r,i,n){var a=r.hostModel,s=this.childOfName("line"),o=r.getItemLayout(i),u={shape:{}};Tw(u.shape,o),er(s,u,a,i),G(c6,function(l){var c=dz(l,r,i),h=fz(l);if(this[h]!==c){this.remove(this.childOfName(l));var f=pz(l,r,i);this.add(f)}this[h]=c},this),this._updateCommonStl(r,i,n)},e.prototype.getLinePath=function(){return this.childAt(0)},e.prototype._updateCommonStl=function(r,i,n){var a=r.hostModel,s=this.childOfName("line"),o=n&&n.emphasisLineStyle,u=n&&n.blurLineStyle,l=n&&n.selectLineStyle,c=n&&n.labelStatesModels,h=n&&n.emphasisDisabled,f=n&&n.focus,d=n&&n.blurScope;if(!n||r.hasItemOption){var p=r.getItemModel(i),g=p.getModel("emphasis");o=g.getModel("lineStyle").getLineStyle(),u=p.getModel(["blur","lineStyle"]).getLineStyle(),l=p.getModel(["select","lineStyle"]).getLineStyle(),h=g.get("disabled"),f=g.get("focus"),d=g.get("blurScope"),c=Ki(p)}var v=r.getItemVisual(i,"style"),m=v.stroke;s.useStyle(v),s.style.fill=null,s.style.strokeNoScale=!0,s.ensureState("emphasis").style=o,s.ensureState("blur").style=u,s.ensureState("select").style=l,G(c6,function(C){var E=this.childOfName(C);if(E){E.setColor(m),E.style.opacity=v.opacity;for(var A=0;A<fa.length;A++){var S=fa[A],T=s.getState(S);if(T){var D=T.style||{},F=E.ensureState(S),B=F.style||(F.style={});D.stroke!=null&&(B[E.__isEmptyBrush?"stroke":"fill"]=D.stroke),D.opacity!=null&&(B.opacity=D.opacity)}}E.markRedraw()}},this);var y=a.getRawValue(i);In(this,c,{labelDataIndex:i,labelFetcher:{getFormattedLabel:function(C,E){return a.getFormattedLabel(C,E,r.dataType)}},inheritColor:m||"#000",defaultOpacity:v.opacity,defaultText:(y==null?r.getName(i):isFinite(y)?Rr(y):y)+""});var _=this.getTextContent();if(_){var x=c.normal;_.__align=_.style.align,_.__verticalAlign=_.style.verticalAlign,_.__position=x.get("position")||"middle";var b=x.get("distance");Te(b)||(b=[b,b]),_.__labelDistance=b}this.setTextConfig({position:null,local:!0,inside:!1}),Zr(this,f,d,h)},e.prototype.highlight=function(){pl(this)},e.prototype.downplay=function(){gl(this)},e.prototype.updateLayout=function(r,i){this.setLinePoints(r.getItemLayout(i))},e.prototype.setLinePoints=function(r){var i=this.childOfName("line");Tw(i.shape,r),i.dirty()},e.prototype.beforeUpdate=function(){var r=this,i=r.childOfName("fromSymbol"),n=r.childOfName("toSymbol"),a=r.getTextContent();if(!i&&!n&&(!a||a.ignore))return;for(var s=1,o=this.parent;o;)o.scaleX&&(s/=o.scaleX),o=o.parent;var u=r.childOfName("line");if(!this.__dirty&&!u.__dirty)return;var l=u.shape.percent,c=u.pointAt(0),h=u.pointAt(l),f=ch([],h,c);sg(f,f);function d(T,D){var F=T.__specifiedRotation;if(F==null){var B=u.tangentAt(D);T.attr("rotation",(D===1?-1:1)*Math.PI/2-Math.atan2(B[1],B[0]))}else T.attr("rotation",F)}if(i&&(i.setPosition(c),d(i,0),i.scaleX=i.scaleY=s*l,i.markRedraw()),n&&(n.setPosition(h),d(n,1),n.scaleX=n.scaleY=s*l,n.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var p=void 0,g=void 0,v=a.__labelDistance,m=v[0]*s,y=v[1]*s,_=l/2,x=u.tangentAt(_),b=[x[1],-x[0]],C=u.pointAt(_);b[1]>0&&(b[0]=-b[0],b[1]=-b[1]);var E=x[0]<0?-1:1;if(a.__position!=="start"&&a.__position!=="end"){var A=-Math.atan2(x[1],x[0]);h[0]<c[0]&&(A=Math.PI+A),a.rotation=A}var S=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":S=-y,g="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":S=y,g="top";break;default:S=0,g="middle"}switch(a.__position){case"end":a.x=f[0]*m+h[0],a.y=f[1]*y+h[1],p=f[0]>.8?"left":f[0]<-.8?"right":"center",g=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*m+c[0],a.y=-f[1]*y+c[1],p=f[0]>.8?"right":f[0]<-.8?"left":"center",g=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=m*E+c[0],a.y=c[1]+S,p=x[0]<0?"right":"left",a.originX=-m*E,a.originY=-S;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=C[0],a.y=C[1]+S,p="center",a.originY=-S;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-m*E+h[0],a.y=h[1]+S,p=x[0]>=0?"right":"left",a.originX=m*E,a.originY=-S;break}a.scaleX=a.scaleY=s,a.setStyle({verticalAlign:a.__verticalAlign||g,align:a.__align||p})}},e}(dt),CF=function(){function t(e){this.group=new dt,this._LineCtor=e||bF}return t.prototype.updateData=function(e){var r=this;this._progressiveEls=null;var i=this,n=i.group,a=i._lineData;i._lineData=e,a||n.removeAll();var s=gz(e);e.diff(a).add(function(o){r._doAdd(e,o,s)}).update(function(o,u){r._doUpdate(a,e,u,o,s)}).remove(function(o){n.remove(a.getItemGraphicEl(o))}).execute()},t.prototype.updateLayout=function(){var e=this._lineData;e&&e.eachItemGraphicEl(function(r,i){r.updateLayout(e,i)},this)},t.prototype.incrementalPrepareUpdate=function(e){this._seriesScope=gz(e),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(e,r){this._progressiveEls=[];function i(o){!o.isGroup&&!O8e(o)&&(o.incremental=!0,o.ensureState("emphasis").hoverLayer=!0)}for(var n=e.start;n<e.end;n++){var a=r.getItemLayout(n);if(h6(a)){var s=new this._LineCtor(r,n,this._seriesScope);s.traverse(i),this.group.add(s),r.setItemGraphicEl(n,s),this._progressiveEls.push(s)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(e){$c(this._progressiveEls||this.group,e)},t.prototype._doAdd=function(e,r,i){var n=e.getItemLayout(r);if(h6(n)){var a=new this._LineCtor(e,r,i);e.setItemGraphicEl(r,a),this.group.add(a)}},t.prototype._doUpdate=function(e,r,i,n,a){var s=e.getItemGraphicEl(i);if(!h6(r.getItemLayout(n))){this.group.remove(s);return}s?s.updateData(r,n,a):s=new this._LineCtor(r,n,a),r.setItemGraphicEl(n,s),this.group.add(s)},t}();function O8e(t){return t.animators&&t.animators.length>0}function gz(t){var e=t.hostModel,r=e.getModel("emphasis");return{lineStyle:e.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:e.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:e.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:Ki(e)}}function vz(t){return isNaN(t[0])||isNaN(t[1])}function h6(t){return t&&!vz(t[0])&&!vz(t[1])}var f6=[],d6=[],p6=[],Qf=on,g6=Dh,mz=Math.abs;function yz(t,e,r){for(var i=t[0],n=t[1],a=t[2],s=1/0,o,u=r*r,l=.1,c=.1;c<=.9;c+=.1){f6[0]=Qf(i[0],n[0],a[0],c),f6[1]=Qf(i[1],n[1],a[1],c);var h=mz(g6(f6,e)-u);h<s&&(s=h,o=c)}for(var f=0;f<32;f++){var d=o+l;d6[0]=Qf(i[0],n[0],a[0],o),d6[1]=Qf(i[1],n[1],a[1],o),p6[0]=Qf(i[0],n[0],a[0],d),p6[1]=Qf(i[1],n[1],a[1],d);var h=g6(d6,e)-u;if(mz(h)<.01)break;var p=g6(p6,e)-u;l/=2,h<0?p>=0?o=o+l:o=o-l:p>=0?o=o-l:o=o+l}return o}function v6(t,e){var r=[],i=T2,n=[[],[],[]],a=[[],[]],s=[];e/=2,t.eachEdge(function(o,u){var l=o.getLayout(),c=o.getVisual("fromSymbol"),h=o.getVisual("toSymbol");l.__original||(l.__original=[tl(l[0]),tl(l[1])],l[2]&&l.__original.push(tl(l[2])));var f=l.__original;if(l[2]!=null){if(Kn(n[0],f[0]),Kn(n[1],f[2]),Kn(n[2],f[1]),c&&c!=="none"){var d=h1(o.node1),p=yz(n,f[0],d*e);i(n[0][0],n[1][0],n[2][0],p,r),n[0][0]=r[3],n[1][0]=r[4],i(n[0][1],n[1][1],n[2][1],p,r),n[0][1]=r[3],n[1][1]=r[4]}if(h&&h!=="none"){var d=h1(o.node2),p=yz(n,f[1],d*e);i(n[0][0],n[1][0],n[2][0],p,r),n[1][0]=r[1],n[2][0]=r[2],i(n[0][1],n[1][1],n[2][1],p,r),n[1][1]=r[1],n[2][1]=r[2]}Kn(l[0],n[0]),Kn(l[1],n[2]),Kn(l[2],n[1])}else{if(Kn(a[0],f[0]),Kn(a[1],f[1]),ch(s,a[1],a[0]),sg(s,s),c&&c!=="none"){var d=h1(o.node1);l8(a[0],a[0],s,d*e)}if(h&&h!=="none"){var d=h1(o.node2);l8(a[1],a[1],s,-d*e)}Kn(l[0],a[0]),Kn(l[1],a[1])}})}function _z(t){return t.type==="view"}var R8e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,i){var n=new Rm,a=new CF,s=this.group;this._controller=new Gm(i.getZr()),this._controllerHost={target:s},s.add(n.group),s.add(a.group),this._symbolDraw=n,this._lineDraw=a,this._firstRender=!0},e.prototype.render=function(r,i,n){var a=this,s=r.coordinateSystem;this._model=r;var o=this._symbolDraw,u=this._lineDraw,l=this.group;if(_z(s)){var c={x:s.x,y:s.y,scaleX:s.scaleX,scaleY:s.scaleY};this._firstRender?l.attr(c):er(l,c,r)}v6(r.getGraph(),c1(r));var h=r.getData();o.updateData(h);var f=r.getEdgeData();u.updateData(f),this._updateNodeAndLinkScale(),this._updateController(r,i,n),clearTimeout(this._layoutTimeout);var d=r.forceLayout,p=r.get(["force","layoutAnimation"]);d&&this._startForceLayoutIteration(d,p);var g=r.get("layout");h.graph.eachNode(function(_){var x=_.dataIndex,b=_.getGraphicEl(),C=_.getModel();if(b){b.off("drag").off("dragend");var E=C.get("draggable");E&&b.on("drag",function(S){switch(g){case"force":d.warmUp(),!a._layouting&&a._startForceLayoutIteration(d,p),d.setFixed(x),h.setItemLayout(x,[b.x,b.y]);break;case"circular":h.setItemLayout(x,[b.x,b.y]),_.setLayout({fixed:!0},!0),xF(r,"symbolSize",_,[S.offsetX,S.offsetY]),a.updateLayout(r);break;case"none":default:h.setItemLayout(x,[b.x,b.y]),_F(r.getGraph(),r),a.updateLayout(r);break}}).on("dragend",function(){d&&d.setUnfixed(x)}),b.setDraggable(E,!!C.get("cursor"));var A=C.get(["emphasis","focus"]);A==="adjacency"&&(pt(b).focus=_.getAdjacentDataIndices())}}),h.graph.eachEdge(function(_){var x=_.getGraphicEl(),b=_.getModel().get(["emphasis","focus"]);x&&b==="adjacency"&&(pt(x).focus={edge:[_.dataIndex],node:[_.node1.dataIndex,_.node2.dataIndex]})});var v=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),m=h.getLayout("cx"),y=h.getLayout("cy");h.graph.eachNode(function(_){wee(_,v,m,y)}),this._firstRender=!1},e.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},e.prototype._startForceLayoutIteration=function(r,i){var n=this;(function a(){r.step(function(s){n.updateLayout(n._model),(n._layouting=!s)&&(i?n._layoutTimeout=setTimeout(a,16):a())})})()},e.prototype._updateController=function(r,i,n){var a=this,s=this._controller,o=this._controllerHost,u=this.group;if(s.setPointerChecker(function(l,c,h){var f=u.getBoundingRect();return f.applyTransform(u.transform),f.contain(c,h)&&!qb(l,n,r)}),!_z(r.coordinateSystem)){s.disable();return}s.enable(r.get("roam")),o.zoomLimit=r.get("scaleLimit"),o.zoom=r.coordinateSystem.getZoom(),s.off("pan").off("zoom").on("pan",function(l){lF(o,l.dx,l.dy),n.dispatchAction({seriesId:r.id,type:"graphRoam",dx:l.dx,dy:l.dy})}).on("zoom",function(l){cF(o,l.scale,l.originX,l.originY),n.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:l.scale,originX:l.originX,originY:l.originY}),a._updateNodeAndLinkScale(),v6(r.getGraph(),c1(r)),a._lineDraw.updateLayout(),n.updateLabelLayout()})},e.prototype._updateNodeAndLinkScale=function(){var r=this._model,i=r.getData(),n=c1(r);i.eachItemGraphicEl(function(a,s){a&&a.setSymbolScale(n)})},e.prototype.updateLayout=function(r){v6(r.getGraph(),c1(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},e.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},e.type="graph",e}(Wt);function ed(t){return"_EC_"+t}var Fee=function(){function t(e){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=e||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(e,r){e=e==null?""+r:""+e;var i=this._nodesMap;if(!i[ed(e)]){var n=new Z0(e,r);return n.hostGraph=this,this.nodes.push(n),i[ed(e)]=n,n}},t.prototype.getNodeByIndex=function(e){var r=this.data.getRawIndex(e);return this.nodes[r]},t.prototype.getNodeById=function(e){return this._nodesMap[ed(e)]},t.prototype.addEdge=function(e,r,i){var n=this._nodesMap,a=this._edgesMap;if(Zt(e)&&(e=this.nodes[e]),Zt(r)&&(r=this.nodes[r]),e instanceof Z0||(e=n[ed(e)]),r instanceof Z0||(r=n[ed(r)]),!(!e||!r)){var s=e.id+"-"+r.id,o=new Iee(e,r,i);return o.hostGraph=this,this._directed&&(e.outEdges.push(o),r.inEdges.push(o)),e.edges.push(o),e!==r&&r.edges.push(o),this.edges.push(o),a[s]=o,o}},t.prototype.getEdgeByIndex=function(e){var r=this.edgeData.getRawIndex(e);return this.edges[r]},t.prototype.getEdge=function(e,r){e instanceof Z0&&(e=e.id),r instanceof Z0&&(r=r.id);var i=this._edgesMap;return this._directed?i[e+"-"+r]:i[e+"-"+r]||i[r+"-"+e]},t.prototype.eachNode=function(e,r){for(var i=this.nodes,n=i.length,a=0;a<n;a++)i[a].dataIndex>=0&&e.call(r,i[a],a)},t.prototype.eachEdge=function(e,r){for(var i=this.edges,n=i.length,a=0;a<n;a++)i[a].dataIndex>=0&&i[a].node1.dataIndex>=0&&i[a].node2.dataIndex>=0&&e.call(r,i[a],a)},t.prototype.breadthFirstTraverse=function(e,r,i,n){if(r instanceof Z0||(r=this._nodesMap[ed(r)]),!!r){for(var a=i==="out"?"outEdges":i==="in"?"inEdges":"edges",s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(n,r,null))for(var o=[r];o.length;)for(var u=o.shift(),l=u[a],s=0;s<l.length;s++){var c=l[s],h=c.node1===u?c.node2:c.node1;if(!h.__visited){if(e.call(n,h,u))return;o.push(h),h.__visited=!0}}}},t.prototype.update=function(){for(var e=this.data,r=this.edgeData,i=this.nodes,n=this.edges,a=0,s=i.length;a<s;a++)i[a].dataIndex=-1;for(var a=0,s=e.count();a<s;a++)i[e.getRawIndex(a)].dataIndex=a;r.filterSelf(function(o){var u=n[r.getRawIndex(o)];return u.node1.dataIndex>=0&&u.node2.dataIndex>=0});for(var a=0,s=n.length;a<s;a++)n[a].dataIndex=-1;for(var a=0,s=r.count();a<s;a++)n[r.getRawIndex(a)].dataIndex=a},t.prototype.clone=function(){for(var e=new t(this._directed),r=this.nodes,i=this.edges,n=0;n<r.length;n++)e.addNode(r[n].id,r[n].dataIndex);for(var n=0;n<i.length;n++){var a=i[n];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e},t}(),Z0=function(){function t(e,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=e??"",this.dataIndex=r??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostGraph,i=r.data.getItemModel(this.dataIndex);return i.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){for(var e={edge:[],node:[]},r=0;r<this.edges.length;r++){var i=this.edges[r];i.dataIndex<0||(e.edge.push(i.dataIndex),e.node.push(i.node1.dataIndex,i.node2.dataIndex))}return e},t.prototype.getTrajectoryDataIndices=function(){for(var e=nt(),r=nt(),i=0;i<this.edges.length;i++){var n=this.edges[i];if(!(n.dataIndex<0)){e.set(n.dataIndex,!0);for(var a=[n.node1],s=[n.node2],o=0;o<a.length;){var u=a[o];o++,r.set(u.dataIndex,!0);for(var l=0;l<u.inEdges.length;l++)e.set(u.inEdges[l].dataIndex,!0),a.push(u.inEdges[l].node1)}for(o=0;o<s.length;){var c=s[o];o++,r.set(c.dataIndex,!0);for(var l=0;l<c.outEdges.length;l++)e.set(c.outEdges[l].dataIndex,!0),s.push(c.outEdges[l].node2)}}}return{edge:e.keys(),node:r.keys()}},t}(),Iee=function(){function t(e,r,i){this.dataIndex=-1,this.node1=e,this.node2=r,this.dataIndex=i??-1}return t.prototype.getModel=function(e){if(!(this.dataIndex<0)){var r=this.hostGraph,i=r.edgeData.getItemModel(this.dataIndex);return i.getModel(e)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var e=nt(),r=nt();e.set(this.dataIndex,!0);for(var i=[this.node1],n=[this.node2],a=0;a<i.length;){var s=i[a];a++,r.set(s.dataIndex,!0);for(var o=0;o<s.inEdges.length;o++)e.set(s.inEdges[o].dataIndex,!0),i.push(s.inEdges[o].node1)}for(a=0;a<n.length;){var u=n[a];a++,r.set(u.dataIndex,!0);for(var o=0;o<u.outEdges.length;o++)e.set(u.outEdges[o].dataIndex,!0),n.push(u.outEdges[o].node2)}return{edge:e.keys(),node:r.keys()}},t}();function Bee(t,e){return{getValue:function(r){var i=this[t][e];return i.getStore().get(i.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,i){this.dataIndex>=0&&this[t][e].setItemVisual(this.dataIndex,r,i)},getVisual:function(r){return this[t][e].getItemVisual(this.dataIndex,r)},setLayout:function(r,i){this.dataIndex>=0&&this[t][e].setItemLayout(this.dataIndex,r,i)},getLayout:function(){return this[t][e].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][e].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][e].getRawIndex(this.dataIndex)}}}yi(Z0,Bee("hostGraph","data"));yi(Iee,Bee("hostGraph","edgeData"));function Mee(t,e,r,i,n){for(var a=new Fee(i),s=0;s<t.length;s++)a.addNode(dn(t[s].id,t[s].name,s),s);for(var o=[],u=[],l=0,s=0;s<e.length;s++){var c=e[s],h=c.source,f=c.target;a.addEdge(h,f,l)&&(u.push(c),o.push(dn(Oi(c.id,null),h+" > "+f)),l++)}var d=r.get("coordinateSystem"),p;if(d==="cartesian2d"||d==="polar")p=Au(t,r);else{var g=vg.get(d),v=g?g.dimensions||[]:[];wt(v,"value")<0&&v.concat(["value"]);var m=xg(t,{coordDimensions:v,encodeDefine:r.getEncode()}).dimensions;p=new Xr(m,r),p.initData(t)}var y=new Xr(["value"],r);return y.initData(u,o),n&&n(p,y),dF({mainData:p,struct:a,structAttr:"graph",datas:{node:p,edge:y},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var N8e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments);var i=this;function n(){return i._categoriesData}this.legendVisualProvider=new Hm(n,n),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},e.prototype.mergeDefaultAndTheme=function(r){t.prototype.mergeDefaultAndTheme.apply(this,arguments),Zh(r,"edgeLabel",["show"])},e.prototype.getInitialData=function(r,i){var n=r.edges||r.links||[],a=r.data||r.nodes||[],s=this;if(a&&n){S8e(this);var o=Mee(a,n,this,!0,u);return G(o.edges,function(l){T8e(l.node1,l.node2,this,l.dataIndex)},this),o.data}function u(l,c){l.wrapMethod("getItemModel",function(p){var g=s._categoriesModels,v=p.getShallow("category"),m=g[v];return m&&(m.parentModel=p.parentModel,p.parentModel=m),p});var h=Xt.prototype.getModel;function f(p,g){var v=h.call(this,p,g);return v.resolveParentPath=d,v}c.wrapMethod("getItemModel",function(p){return p.resolveParentPath=d,p.getModel=f,p});function d(p){if(p&&(p[0]==="label"||p[1]==="label")){var g=p.slice();return p[0]==="label"?g[0]="edgeLabel":p[1]==="label"&&(g[1]="edgeLabel"),g}return p}}},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.getCategoriesData=function(){return this._categoriesData},e.prototype.formatTooltip=function(r,i,n){if(n==="edge"){var a=this.getData(),s=this.getDataParams(r,n),o=a.graph.getEdgeByIndex(r),u=a.getName(o.node1.dataIndex),l=a.getName(o.node2.dataIndex),c=[];return u!=null&&c.push(u),l!=null&&c.push(l),Ji("nameValue",{name:c.join(" > "),value:s.value,noValue:s.value==null})}var h=KK({series:this,dataIndex:r,multipleSeries:i});return h},e.prototype._updateCategoriesData=function(){var r=Ie(this.option.categories||[],function(n){return n.value!=null?n:Ce({value:0},n)}),i=new Xr(["value"],this);i.initData(r),this._categoriesData=i,this._categoriesModels=i.mapArray(function(n){return i.getItemModel(n)})},e.prototype.setZoom=function(r){this.option.zoom=r},e.prototype.setCenter=function(r){this.option.center=r},e.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},e.type="series.graph",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Kt),k8e={type:"graphRoam",event:"graphRoam",update:"none"};function z8e(t){t.registerChartView(R8e),t.registerSeriesModel(N8e),t.registerProcessor(_8e),t.registerVisual(x8e),t.registerVisual(b8e),t.registerLayout(A8e),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,D8e),t.registerLayout(I8e),t.registerCoordinateSystem("graphView",{dimensions:Um.dimensions,create:M8e}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},gi),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},gi),t.registerAction(k8e,function(e,r,i){r.eachComponent({mainType:"series",query:e},function(n){var a=n.coordinateSystem,s=fF(a,e,void 0,i);n.setCenter&&n.setCenter(s.center),n.setZoom&&n.setZoom(s.zoom)})})}var H8e=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),G8e=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="pointer",i}return e.prototype.getDefaultShape=function(){return new H8e},e.prototype.buildPath=function(r,i){var n=Math.cos,a=Math.sin,s=i.r,o=i.width,u=i.angle,l=i.x-n(u)*o*(o>=s/3?1:2),c=i.y-a(u)*o*(o>=s/3?1:2);u=i.angle-Math.PI/2,r.moveTo(l,c),r.lineTo(i.x+n(u)*o,i.y+a(u)*o),r.lineTo(i.x+n(i.angle)*s,i.y+a(i.angle)*s),r.lineTo(i.x-n(u)*o,i.y-a(u)*o),r.lineTo(l,c)},e}(Pt);function U8e(t,e){var r=t.get("center"),i=e.getWidth(),n=e.getHeight(),a=Math.min(i,n),s=je(r[0],e.getWidth()),o=je(r[1],e.getHeight()),u=je(t.get("radius"),a/2);return{cx:s,cy:o,r:u}}function L_(t,e){var r=t==null?"":t+"";return e&&(Xe(e)?r=e.replace("{value}",r):ot(e)&&(r=e(t))),r}var j8e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){this.group.removeAll();var a=r.get(["axisLine","lineStyle","color"]),s=U8e(r,n);this._renderMain(r,i,n,a,s),this._data=r.getData()},e.prototype.dispose=function(){},e.prototype._renderMain=function(r,i,n,a,s){var o=this.group,u=r.get("clockwise"),l=-r.get("startAngle")/180*Math.PI,c=-r.get("endAngle")/180*Math.PI,h=r.getModel("axisLine"),f=h.get("roundCap"),d=f?U3:da,p=h.get("show"),g=h.getModel("lineStyle"),v=g.get("width"),m=[l,c];u9(m,!u),l=m[0],c=m[1];for(var y=c-l,_=l,x=[],b=0;p&&b<a.length;b++){var C=Math.min(Math.max(a[b][0],0),1);c=l+y*C;var E=new d({shape:{startAngle:_,endAngle:c,cx:s.cx,cy:s.cy,clockwise:u,r0:s.r-v,r:s.r},silent:!0});E.setStyle({fill:a[b][1]}),E.setStyle(g.getLineStyle(["color","width"])),x.push(E),_=c}x.reverse(),G(x,function(S){return o.add(S)});var A=function(S){if(S<=0)return a[0][1];var T;for(T=0;T<a.length;T++)if(a[T][0]>=S&&(T===0?0:a[T-1][0])<S)return a[T][1];return a[T-1][1]};this._renderTicks(r,i,n,A,s,l,c,u,v),this._renderTitleAndDetail(r,i,n,A,s),this._renderAnchor(r,s),this._renderPointer(r,i,n,A,s,l,c,u,v)},e.prototype._renderTicks=function(r,i,n,a,s,o,u,l,c){for(var h=this.group,f=s.cx,d=s.cy,p=s.r,g=+r.get("min"),v=+r.get("max"),m=r.getModel("splitLine"),y=r.getModel("axisTick"),_=r.getModel("axisLabel"),x=r.get("splitNumber"),b=y.get("splitNumber"),C=je(m.get("length"),p),E=je(y.get("length"),p),A=o,S=(u-o)/x,T=S/b,D=m.getModel("lineStyle").getLineStyle(),F=y.getModel("lineStyle").getLineStyle(),B=m.get("distance"),O,M,R=0;R<=x;R++){if(O=Math.cos(A),M=Math.sin(A),m.get("show")){var z=B?B+c:c,k=new Ui({shape:{x1:O*(p-z)+f,y1:M*(p-z)+d,x2:O*(p-C-z)+f,y2:M*(p-C-z)+d},style:D,silent:!0});D.stroke==="auto"&&k.setStyle({stroke:a(R/x)}),h.add(k)}if(_.get("show")){var z=_.get("distance")+B,U=L_(Rr(R/x*(v-g)+g),_.get("formatter")),V=a(R/x),j=O*(p-C-z)+f,Y=M*(p-C-z)+d,te=_.get("rotate"),re=0;te==="radial"?(re=-A+2*Math.PI,re>Math.PI/2&&(re+=Math.PI)):te==="tangential"?re=-A-Math.PI/2:Zt(te)&&(re=te*Math.PI/180),re===0?h.add(new zt({style:pr(_,{text:U,x:j,y:Y,verticalAlign:M<-.8?"top":M>.8?"bottom":"middle",align:O<-.4?"left":O>.4?"right":"center"},{inheritColor:V}),silent:!0})):h.add(new zt({style:pr(_,{text:U,x:j,y:Y,verticalAlign:"middle",align:"center"},{inheritColor:V}),silent:!0,originX:j,originY:Y,rotation:re}))}if(y.get("show")&&R!==x){var z=y.get("distance");z=z?z+c:c;for(var de=0;de<=b;de++){O=Math.cos(A),M=Math.sin(A);var Oe=new Ui({shape:{x1:O*(p-z)+f,y1:M*(p-z)+d,x2:O*(p-E-z)+f,y2:M*(p-E-z)+d},silent:!0,style:F});F.stroke==="auto"&&Oe.setStyle({stroke:a((R+de/b)/x)}),h.add(Oe),A+=T}A-=T}else A+=S}},e.prototype._renderPointer=function(r,i,n,a,s,o,u,l,c){var h=this.group,f=this._data,d=this._progressEls,p=[],g=r.get(["pointer","show"]),v=r.getModel("progress"),m=v.get("show"),y=r.getData(),_=y.mapDimension("value"),x=+r.get("min"),b=+r.get("max"),C=[x,b],E=[o,u];function A(T,D){var F=y.getItemModel(T),B=F.getModel("pointer"),O=je(B.get("width"),s.r),M=je(B.get("length"),s.r),R=r.get(["pointer","icon"]),z=B.get("offsetCenter"),k=je(z[0],s.r),U=je(z[1],s.r),V=B.get("keepAspect"),j;return R?j=vi(R,k-O/2,U-M,O,M,null,V):j=new G8e({shape:{angle:-Math.PI/2,width:O,r:M,x:k,y:U}}),j.rotation=-(D+Math.PI/2),j.x=s.cx,j.y=s.cy,j}function S(T,D){var F=v.get("roundCap"),B=F?U3:da,O=v.get("overlap"),M=O?v.get("width"):c/y.count(),R=O?s.r-M:s.r-(T+1)*M,z=O?s.r:s.r-T*M,k=new B({shape:{startAngle:o,endAngle:D,cx:s.cx,cy:s.cy,clockwise:l,r0:R,r:z}});return O&&(k.z2=nr(y.get(_,T),[x,b],[100,0],!0)),k}(m||g)&&(y.diff(f).add(function(T){var D=y.get(_,T);if(g){var F=A(T,o);Nr(F,{rotation:-((isNaN(+D)?E[0]:nr(D,C,E,!0))+Math.PI/2)},r),h.add(F),y.setItemGraphicEl(T,F)}if(m){var B=S(T,o),O=v.get("clip");Nr(B,{shape:{endAngle:nr(D,C,E,O)}},r),h.add(B),O8(r.seriesIndex,y.dataType,T,B),p[T]=B}}).update(function(T,D){var F=y.get(_,T);if(g){var B=f.getItemGraphicEl(D),O=B?B.rotation:o,M=A(T,O);M.rotation=O,er(M,{rotation:-((isNaN(+F)?E[0]:nr(F,C,E,!0))+Math.PI/2)},r),h.add(M),y.setItemGraphicEl(T,M)}if(m){var R=d[D],z=R?R.shape.endAngle:o,k=S(T,z),U=v.get("clip");er(k,{shape:{endAngle:nr(F,C,E,U)}},r),h.add(k),O8(r.seriesIndex,y.dataType,T,k),p[T]=k}}).execute(),y.each(function(T){var D=y.getItemModel(T),F=D.getModel("emphasis"),B=F.get("focus"),O=F.get("blurScope"),M=F.get("disabled");if(g){var R=y.getItemGraphicEl(T),z=y.getItemVisual(T,"style"),k=z.fill;if(R instanceof en){var U=R.style;R.useStyle(Ce({image:U.image,x:U.x,y:U.y,width:U.width,height:U.height},z))}else R.useStyle(z),R.type!=="pointer"&&R.setColor(k);R.setStyle(D.getModel(["pointer","itemStyle"]).getItemStyle()),R.style.fill==="auto"&&R.setStyle("fill",a(nr(y.get(_,T),C,[0,1],!0))),R.z2EmphasisLift=0,Fn(R,D),Zr(R,B,O,M)}if(m){var V=p[T];V.useStyle(y.getItemVisual(T,"style")),V.setStyle(D.getModel(["progress","itemStyle"]).getItemStyle()),V.z2EmphasisLift=0,Fn(V,D),Zr(V,B,O,M)}}),this._progressEls=p)},e.prototype._renderAnchor=function(r,i){var n=r.getModel("anchor"),a=n.get("show");if(a){var s=n.get("size"),o=n.get("icon"),u=n.get("offsetCenter"),l=n.get("keepAspect"),c=vi(o,i.cx-s/2+je(u[0],i.r),i.cy-s/2+je(u[1],i.r),s,s,null,l);c.z2=n.get("showAbove")?1:0,c.setStyle(n.getModel("itemStyle").getItemStyle()),this.group.add(c)}},e.prototype._renderTitleAndDetail=function(r,i,n,a,s){var o=this,u=r.getData(),l=u.mapDimension("value"),c=+r.get("min"),h=+r.get("max"),f=new dt,d=[],p=[],g=r.isAnimationEnabled(),v=r.get(["pointer","showAbove"]);u.diff(this._data).add(function(m){d[m]=new zt({silent:!0}),p[m]=new zt({silent:!0})}).update(function(m,y){d[m]=o._titleEls[y],p[m]=o._detailEls[y]}).execute(),u.each(function(m){var y=u.getItemModel(m),_=u.get(l,m),x=new dt,b=a(nr(_,[c,h],[0,1],!0)),C=y.getModel("title");if(C.get("show")){var E=C.get("offsetCenter"),A=s.cx+je(E[0],s.r),S=s.cy+je(E[1],s.r),T=d[m];T.attr({z2:v?0:2,style:pr(C,{x:A,y:S,text:u.getName(m),align:"center",verticalAlign:"middle"},{inheritColor:b})}),x.add(T)}var D=y.getModel("detail");if(D.get("show")){var F=D.get("offsetCenter"),B=s.cx+je(F[0],s.r),O=s.cy+je(F[1],s.r),M=je(D.get("width"),s.r),R=je(D.get("height"),s.r),z=r.get(["progress","show"])?u.getItemVisual(m,"style").fill:b,T=p[m],k=D.get("formatter");T.attr({z2:v?0:2,style:pr(D,{x:B,y:O,text:L_(_,k),width:isNaN(M)?null:M,height:isNaN(R)?null:R,align:"center",verticalAlign:"middle"},{inheritColor:z})}),rK(T,{normal:D},_,function(V){return L_(V,k)}),g&&iK(T,m,u,r,{getFormattedLabel:function(V,j,Y,te,re,de){return L_(de?de.interpolatedValue:_,k)}}),x.add(T)}f.add(x)}),this.group.add(f),this._titleEls=d,this._detailEls=p},e.type="gauge",e}(Wt),V8e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.visualStyleAccessPath="itemStyle",r}return e.prototype.getInitialData=function(r,i){return Eg(this,["value"])},e.type="series.gauge",e.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},e}(Kt);function $8e(t){t.registerChartView(j8e),t.registerSeriesModel(V8e)}var W8e=["itemStyle","opacity"],Y8e=function(t){ce(e,t);function e(r,i){var n=t.call(this)||this,a=n,s=new ya,o=new zt;return a.setTextContent(o),n.setTextGuideLine(s),n.updateData(r,i,!0),n}return e.prototype.updateData=function(r,i,n){var a=this,s=r.hostModel,o=r.getItemModel(i),u=r.getItemLayout(i),l=o.getModel("emphasis"),c=o.get(W8e);c=c??1,n||bo(a),a.useStyle(r.getItemVisual(i,"style")),a.style.lineJoin="round",n?(a.setShape({points:u.points}),a.style.opacity=0,Nr(a,{style:{opacity:c}},s,i)):er(a,{style:{opacity:c},shape:{points:u.points}},s,i),Fn(a,o),this._updateLabel(r,i),Zr(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))},e.prototype._updateLabel=function(r,i){var n=this,a=this.getTextGuideLine(),s=n.getTextContent(),o=r.hostModel,u=r.getItemModel(i),l=r.getItemLayout(i),c=l.label,h=r.getItemVisual(i,"style"),f=h.fill;In(s,Ki(u),{labelFetcher:r.hostModel,labelDataIndex:i,defaultOpacity:h.opacity,defaultText:r.getName(i)},{normal:{align:c.textAlign,verticalAlign:c.verticalAlign}}),n.setTextConfig({local:!0,inside:!!c.inside,insideStroke:f,outsideFill:f});var d=c.linePoints;a.setShape({points:d}),n.textGuideLineConfig={anchor:d?new Ct(d[0][0],d[0][1]):null},er(s,{style:{x:c.x,y:c.y}},o,i),s.attr({rotation:c.rotation,originX:c.x,originY:c.y,z2:10}),K9(n,J9(u),{stroke:f})},e}(pa),q8e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.ignoreLabelLineUpdate=!0,r}return e.prototype.render=function(r,i,n){var a=r.getData(),s=this._data,o=this.group;a.diff(s).add(function(u){var l=new Y8e(a,u);a.setItemGraphicEl(u,l),o.add(l)}).update(function(u,l){var c=s.getItemGraphicEl(l);c.updateData(a,u),o.add(c),a.setItemGraphicEl(u,c)}).remove(function(u){var l=s.getItemGraphicEl(u);M2(l,r,u)}).execute(),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.prototype.dispose=function(){},e.type="funnel",e}(Wt),X8e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hm(Je(this.getData,this),Je(this.getRawData,this)),this._defaultLabelLine(r)},e.prototype.getInitialData=function(r,i){return Eg(this,{coordDimensions:["value"],encodeDefaulter:mt(A9,this)})},e.prototype._defaultLabelLine=function(r){Zh(r,"labelLine",["show"]);var i=r.labelLine,n=r.emphasis.labelLine;i.show=i.show&&r.label.show,n.show=n.show&&r.emphasis.label.show},e.prototype.getDataParams=function(r){var i=this.getData(),n=t.prototype.getDataParams.call(this,r),a=i.mapDimension("value"),s=i.getSum(a);return n.percent=s?+(i.get(a,r)/s*100).toFixed(2):0,n.$vars.push("percent"),n},e.type="series.funnel",e.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},e}(Kt);function Z8e(t,e){return ai(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function K8e(t,e){for(var r=t.mapDimension("value"),i=t.mapArray(r,function(u){return u}),n=[],a=e==="ascending",s=0,o=t.count();s<o;s++)n[s]=s;return ot(e)?n.sort(e):e!=="none"&&n.sort(function(u,l){return a?i[u]-i[l]:i[l]-i[u]}),n}function J8e(t){var e=t.hostModel,r=e.get("orient");t.each(function(i){var n=t.getItemModel(i),a=n.getModel("label"),s=a.get("position"),o=n.getModel("labelLine"),u=t.getItemLayout(i),l=u.points,c=s==="inner"||s==="inside"||s==="center"||s==="insideLeft"||s==="insideRight",h,f,d,p;if(c)s==="insideLeft"?(f=(l[0][0]+l[3][0])/2+5,d=(l[0][1]+l[3][1])/2,h="left"):s==="insideRight"?(f=(l[1][0]+l[2][0])/2-5,d=(l[1][1]+l[2][1])/2,h="right"):(f=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,d=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4,h="center"),p=[[f,d],[f,d]];else{var g=void 0,v=void 0,m=void 0,y=void 0,_=o.get("length");s==="left"?(g=(l[3][0]+l[0][0])/2,v=(l[3][1]+l[0][1])/2,m=g-_,f=m-5,h="right"):s==="right"?(g=(l[1][0]+l[2][0])/2,v=(l[1][1]+l[2][1])/2,m=g+_,f=m+5,h="left"):s==="top"?(g=(l[3][0]+l[0][0])/2,v=(l[3][1]+l[0][1])/2,y=v-_,d=y-5,h="center"):s==="bottom"?(g=(l[1][0]+l[2][0])/2,v=(l[1][1]+l[2][1])/2,y=v+_,d=y+5,h="center"):s==="rightTop"?(g=r==="horizontal"?l[3][0]:l[1][0],v=r==="horizontal"?l[3][1]:l[1][1],r==="horizontal"?(y=v-_,d=y-5,h="center"):(m=g+_,f=m+5,h="top")):s==="rightBottom"?(g=l[2][0],v=l[2][1],r==="horizontal"?(y=v+_,d=y+5,h="center"):(m=g+_,f=m+5,h="bottom")):s==="leftTop"?(g=l[0][0],v=r==="horizontal"?l[0][1]:l[1][1],r==="horizontal"?(y=v-_,d=y-5,h="center"):(m=g-_,f=m-5,h="right")):s==="leftBottom"?(g=r==="horizontal"?l[1][0]:l[3][0],v=r==="horizontal"?l[1][1]:l[2][1],r==="horizontal"?(y=v+_,d=y+5,h="center"):(m=g-_,f=m-5,h="right")):(g=(l[1][0]+l[2][0])/2,v=(l[1][1]+l[2][1])/2,r==="horizontal"?(y=v+_,d=y+5,h="center"):(m=g+_,f=m+5,h="left")),r==="horizontal"?(m=g,f=m):(y=v,d=y),p=[[g,v],[m,y]]}u.label={linePoints:p,x:f,y:d,verticalAlign:"middle",textAlign:h,inside:c}})}function Q8e(t,e){t.eachSeriesByType("funnel",function(r){var i=r.getData(),n=i.mapDimension("value"),a=r.get("sort"),s=Z8e(r,e),o=r.get("orient"),u=s.width,l=s.height,c=K8e(i,a),h=s.x,f=s.y,d=o==="horizontal"?[je(r.get("minSize"),l),je(r.get("maxSize"),l)]:[je(r.get("minSize"),u),je(r.get("maxSize"),u)],p=i.getDataExtent(n),g=r.get("min"),v=r.get("max");g==null&&(g=Math.min(p[0],0)),v==null&&(v=p[1]);var m=r.get("funnelAlign"),y=r.get("gap"),_=o==="horizontal"?u:l,x=(_-y*(i.count()-1))/i.count(),b=function(O,M){if(o==="horizontal"){var R=i.get(n,O)||0,z=nr(R,[g,v],d,!0),k=void 0;switch(m){case"top":k=f;break;case"center":k=f+(l-z)/2;break;case"bottom":k=f+(l-z);break}return[[M,k],[M,k+z]]}var U=i.get(n,O)||0,V=nr(U,[g,v],d,!0),j;switch(m){case"left":j=h;break;case"center":j=h+(u-V)/2;break;case"right":j=h+u-V;break}return[[j,M],[j+V,M]]};a==="ascending"&&(x=-x,y=-y,o==="horizontal"?h+=u:f+=l,c=c.reverse());for(var C=0;C<c.length;C++){var E=c[C],A=c[C+1],S=i.getItemModel(E);if(o==="horizontal"){var T=S.get(["itemStyle","width"]);T==null?T=x:(T=je(T,u),a==="ascending"&&(T=-T));var D=b(E,h),F=b(A,h+T);h+=T+y,i.setItemLayout(E,{points:D.concat(F.slice().reverse())})}else{var B=S.get(["itemStyle","height"]);B==null?B=x:(B=je(B,l),a==="ascending"&&(B=-B));var D=b(E,f),F=b(A,f+B);f+=B+y,i.setItemLayout(E,{points:D.concat(F.slice().reverse())})}}J8e(i)})}function ewe(t){t.registerChartView(q8e),t.registerSeriesModel(X8e),t.registerLayout(Q8e),t.registerProcessor(zm("funnel"))}var twe=.3,rwe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._dataGroup=new dt,r._initialized=!1,r}return e.prototype.init=function(){this.group.add(this._dataGroup)},e.prototype.render=function(r,i,n,a){this._progressiveEls=null;var s=this._dataGroup,o=r.getData(),u=this._data,l=r.coordinateSystem,c=l.dimensions,h=bz(r);o.diff(u).add(f).update(d).remove(p).execute();function f(v){var m=xz(o,s,v,c,l);m6(m,o,v,h)}function d(v,m){var y=u.getItemGraphicEl(m),_=Pee(o,v,c,l);o.setItemGraphicEl(v,y),er(y,{shape:{points:_}},r,v),bo(y),m6(y,o,v,h)}function p(v){var m=u.getItemGraphicEl(v);s.remove(m)}if(!this._initialized){this._initialized=!0;var g=iwe(l,r,function(){setTimeout(function(){s.removeClipPath()})});s.setClipPath(g)}this._data=o},e.prototype.incrementalPrepareRender=function(r,i,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},e.prototype.incrementalRender=function(r,i,n){for(var a=i.getData(),s=i.coordinateSystem,o=s.dimensions,u=bz(i),l=this._progressiveEls=[],c=r.start;c<r.end;c++){var h=xz(a,this._dataGroup,c,o,s);h.incremental=!0,m6(h,a,c,u),l.push(h)}},e.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},e.type="parallel",e}(Wt);function iwe(t,e,r){var i=t.model,n=t.getRect(),a=new Gt({shape:{x:n.x,y:n.y,width:n.width,height:n.height}}),s=i.get("layout")==="horizontal"?"width":"height";return a.setShape(s,0),Nr(a,{shape:{width:n.width,height:n.height}},e,r),a}function Pee(t,e,r,i){for(var n=[],a=0;a<r.length;a++){var s=r[a],o=t.get(t.mapDimension(s),e);nwe(o,i.getAxis(s).type)||n.push(i.dataToPoint(o,s))}return n}function xz(t,e,r,i,n){var a=Pee(t,r,i,n),s=new ya({shape:{points:a},z2:10});return e.add(s),t.setItemGraphicEl(r,s),s}function bz(t){var e=t.get("smooth",!0);return e===!0&&(e=twe),e=dl(e),S2(e)&&(e=0),{smooth:e}}function m6(t,e,r,i){t.useStyle(e.getItemVisual(r,"style")),t.style.fill=null,t.setShape("smooth",i.smooth);var n=e.getItemModel(r),a=n.getModel("emphasis");Fn(t,n,"lineStyle"),Zr(t,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function nwe(t,e){return e==="category"?t==null:t==null||isNaN(t)}var awe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return e.prototype.getInitialData=function(r,i){return Au(null,this,{useEncodeDefaulter:Je(swe,null,this)})},e.prototype.getRawIndicesByActiveState=function(r){var i=this.coordinateSystem,n=this.getData(),a=[];return i.eachActiveState(n,function(s,o){r===s&&a.push(n.getRawIndex(o))}),a},e.type="series.parallel",e.dependencies=["parallel"],e.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},e}(Kt);function swe(t){var e=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(e){var r={};return G(e.dimensions,function(i){var n=owe(i);r[i]=n}),r}}function owe(t){return+t.replace("dim","")}var uwe=["lineStyle","opacity"],lwe={seriesType:"parallel",reset:function(t,e){var r=t.coordinateSystem,i={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(n,a){r.eachActiveState(a,function(s,o){var u=i[s];if(s==="normal"&&a.hasItemOption){var l=a.getItemModel(o).get(uwe,!0);l!=null&&(u=l)}var c=a.ensureUniqueItemVisual(o,"style");c.opacity=u},n.start,n.end)}}}};function cwe(t){hwe(t),fwe(t)}function hwe(t){if(!t.parallel){var e=!1;G(t.series,function(r){r&&r.type==="parallel"&&(e=!0)}),e&&(t.parallel=[{}])}}function fwe(t){var e=mr(t.parallelAxis);G(e,function(r){if(lt(r)){var i=r.parallelIndex||0,n=mr(t.parallel)[i];n&&n.parallelAxisDefault&&et(r,n.parallelAxisDefault,!1)}})}var dwe=5,pwe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){this._model=r,this._api=n,this._handlers||(this._handlers={},G(gwe,function(a,s){n.getZr().on(s,this._handlers[s]=Je(a,this))},this)),yg(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},e.prototype.dispose=function(r,i){R2(this,"_throttledDispatchExpand"),G(this._handlers,function(n,a){i.getZr().off(a,n)}),this._handlers=null},e.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},e.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(Ce({type:"parallelAxisExpand"},r))},e.type="parallel",e}(_r),gwe={mousedown:function(t){y6(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(y6(this,"click")&&e){var r=[t.offsetX,t.offsetY],i=Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2);if(i>dwe)return;var n=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);n.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:n.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!(this._mouseDownPoint||!y6(this,"mousemove"))){var e=this._model,r=e.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),i=r.behavior;i==="jump"&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand(i==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:i==="jump"?null:{duration:0}})}}};function y6(t,e){var r=t._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===e}var vwe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},e.prototype.mergeOption=function(r){var i=this.option;r&&et(i,r,!0),this._initDimensions()},e.prototype.contains=function(r,i){var n=r.get("parallelIndex");return n!=null&&i.getComponent("parallel",n)===this},e.prototype.setAxisExpand=function(r){G(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(i){r.hasOwnProperty(i)&&(this.option[i]=r[i])},this)},e.prototype._initDimensions=function(){var r=this.dimensions=[],i=this.parallelAxisIndex=[],n=sr(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this);G(n,function(a){r.push("dim"+a.get("dim")),i.push(a.componentIndex)})},e.type="parallel",e.dependencies=["parallelAxis"],e.layoutMode="box",e.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},e}(Dt),mwe=function(t){ce(e,t);function e(r,i,n,a,s){var o=t.call(this,r,i,n)||this;return o.type=a||"value",o.axisIndex=s,o}return e.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},e}(_a);function Ff(t,e,r,i,n,a){t=t||0;var s=r[1]-r[0];if(n!=null&&(n=td(n,[0,s])),a!=null&&(a=Math.max(a,n??0)),i==="all"){var o=Math.abs(e[1]-e[0]);o=td(o,[0,s]),n=a=td(o,[n,a]),i=0}e[0]=td(e[0],r),e[1]=td(e[1],r);var u=_6(e,i);e[i]+=t;var l=n||0,c=r.slice();u.sign<0?c[0]+=l:c[1]-=l,e[i]=td(e[i],c);var h;return h=_6(e,i),n!=null&&(h.sign!==u.sign||h.span<n)&&(e[1-i]=e[i]+u.sign*n),h=_6(e,i),a!=null&&h.span>a&&(e[1-i]=e[i]+h.sign*a),e}function _6(t,e){var r=t[e]-t[1-e];return{span:Math.abs(r),sign:r>0?-1:r<0?1:e?-1:1}}function td(t,e){return Math.min(e[1]!=null?e[1]:1/0,Math.max(e[0]!=null?e[0]:-1/0,t))}var x6=G,Lee=Math.min,Oee=Math.max,Cz=Math.floor,ywe=Math.ceil,Ez=Rr,_we=Math.PI,xwe=function(){function t(e,r,i){this.type="parallel",this._axesMap=nt(),this._axesLayout={},this.dimensions=e.dimensions,this._model=e,this._init(e,r,i)}return t.prototype._init=function(e,r,i){var n=e.dimensions,a=e.parallelAxisIndex;x6(n,function(s,o){var u=a[o],l=r.getComponent("parallelAxis",u),c=this._axesMap.set(s,new mwe(s,Lm(l),[0,0],l.get("type"),u)),h=c.type==="category";c.onBand=h&&l.get("boundaryGap"),c.inverse=l.get("inverse"),l.axis=c,c.model=l,c.coordinateSystem=l.coordinateSystem=this},this)},t.prototype.update=function(e,r){this._updateAxesFromSeries(this._model,e)},t.prototype.containPoint=function(e){var r=this._makeLayoutInfo(),i=r.axisBase,n=r.layoutBase,a=r.pixelDimIndex,s=e[1-a],o=e[a];return s>=i&&s<=i+r.axisLength&&o>=n&&o<=n+r.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(e,r){r.eachSeries(function(i){if(e.contains(i,r)){var n=i.getData();x6(this.dimensions,function(a){var s=this._axesMap.get(a);s.scale.unionExtentFromData(n,n.mapDimension(a)),tf(s.scale,s.model)},this)}},this)},t.prototype.resize=function(e,r){this._rect=ai(e.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var e=this._model,r=this._rect,i=["x","y"],n=["width","height"],a=e.get("layout"),s=a==="horizontal"?0:1,o=r[n[s]],u=[0,o],l=this.dimensions.length,c=O_(e.get("axisExpandWidth"),u),h=O_(e.get("axisExpandCount")||0,[0,l]),f=e.get("axisExpandable")&&l>3&&l>h&&h>1&&c>0&&o>0,d=e.get("axisExpandWindow"),p;if(d)p=O_(d[1]-d[0],u),d[1]=d[0]+p;else{p=O_(c*(h-1),u);var g=e.get("axisExpandCenter")||Cz(l/2);d=[c*g-p/2],d[1]=d[0]+p}var v=(o-p)/(l-h);v<3&&(v=0);var m=[Cz(Ez(d[0]/c,1))+1,ywe(Ez(d[1]/c,1))-1],y=v/c*d[0];return{layout:a,pixelDimIndex:s,layoutBase:r[i[s]],layoutLength:o,axisBase:r[i[1-s]],axisLength:r[n[1-s]],axisExpandable:f,axisExpandWidth:c,axisCollapseWidth:v,axisExpandWindow:d,axisCount:l,winInnerIndices:m,axisExpandWindow0Pos:y}},t.prototype._layoutAxes=function(){var e=this._rect,r=this._axesMap,i=this.dimensions,n=this._makeLayoutInfo(),a=n.layout;r.each(function(s){var o=[0,n.axisLength],u=s.inverse?1:0;s.setExtent(o[u],o[1-u])}),x6(i,function(s,o){var u=(n.axisExpandable?Cwe:bwe)(o,n),l={horizontal:{x:u.position,y:n.axisLength},vertical:{x:0,y:u.position}},c={horizontal:_we/2,vertical:0},h=[l[a].x+e.x,l[a].y+e.y],f=c[a],d=Oa();bf(d,d,f),mu(d,d,h),this._axesLayout[s]={position:h,rotation:f,transform:d,axisNameAvailableWidth:u.axisNameAvailableWidth,axisLabelShow:u.axisLabelShow,nameTruncateMaxWidth:u.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(e){return this._axesMap.get(e)},t.prototype.dataToPoint=function(e,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(e),r)},t.prototype.eachActiveState=function(e,r,i,n){i==null&&(i=0),n==null&&(n=e.count());var a=this._axesMap,s=this.dimensions,o=[],u=[];G(s,function(v){o.push(e.mapDimension(v)),u.push(a.get(v).model)});for(var l=this.hasAxisBrushed(),c=i;c<n;c++){var h=void 0;if(!l)h="normal";else{h="active";for(var f=e.getValues(o,c),d=0,p=s.length;d<p;d++){var g=u[d].getActiveState(f[d]);if(g==="inactive"){h="inactive";break}}}r(h,c)}},t.prototype.hasAxisBrushed=function(){for(var e=this.dimensions,r=this._axesMap,i=!1,n=0,a=e.length;n<a;n++)r.get(e[n]).model.getActiveState()!=="normal"&&(i=!0);return i},t.prototype.axisCoordToPoint=function(e,r){var i=this._axesLayout[r];return po([e,0],i.transform)},t.prototype.getAxisLayout=function(e){return ht(this._axesLayout[e])},t.prototype.getSlidedAxisExpandWindow=function(e){var r=this._makeLayoutInfo(),i=r.pixelDimIndex,n=r.axisExpandWindow.slice(),a=n[1]-n[0],s=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(e))return{behavior:"none",axisExpandWindow:n};var o=e[i]-r.layoutBase-r.axisExpandWindow0Pos,u,l="slide",c=r.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),f=h[0]!=null;if(c)f&&c&&o<a*h[0]?(l="jump",u=o-a*h[2]):f&&c&&o>a*(1-h[0])?(l="jump",u=o-a*(1-h[2])):(u=o-a*h[1])>=0&&(u=o-a*(1-h[1]))<=0&&(u=0),u*=r.axisExpandWidth/c,u?Ff(u,n,s,"all"):l="none";else{var d=n[1]-n[0],p=s[1]*o/d;n=[Oee(0,p-d/2)],n[1]=Lee(s[1],n[0]+d),n[0]=n[1]-d}return{axisExpandWindow:n,behavior:l}},t}();function O_(t,e){return Lee(Oee(t,e[0]),e[1])}function bwe(t,e){var r=e.layoutLength/(e.axisCount-1);return{position:r*t,axisNameAvailableWidth:r,axisLabelShow:!0}}function Cwe(t,e){var r=e.layoutLength,i=e.axisExpandWidth,n=e.axisCount,a=e.axisCollapseWidth,s=e.winInnerIndices,o,u=a,l=!1,c;return t<s[0]?(o=t*a,c=a):t<=s[1]?(o=e.axisExpandWindow0Pos+t*i-e.axisExpandWindow[0],u=i,l=!0):(o=r-(n-1-t)*a,c=a),{position:o,axisNameAvailableWidth:u,axisLabelShow:l,nameTruncateMaxWidth:c}}function Ewe(t,e){var r=[];return t.eachComponent("parallel",function(i,n){var a=new xwe(i,t,e);a.name="parallel_"+n,a.resize(i,e),i.coordinateSystem=a,a.model=i,r.push(a)}),t.eachSeries(function(i){if(i.get("coordinateSystem")==="parallel"){var n=i.getReferringComponents("parallel",wi).models[0];i.coordinateSystem=n.coordinateSystem}}),r}var Swe={create:Ewe},Aw=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.activeIntervals=[],r}return e.prototype.getAreaSelectStyle=function(){return Jh([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},e.prototype.setActiveIntervals=function(r){var i=this.activeIntervals=ht(r);if(i)for(var n=i.length-1;n>=0;n--)Ds(i[n])},e.prototype.getActiveState=function(r){var i=this.activeIntervals;if(!i.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(i.length===1){var n=i[0];if(n[0]<=r&&r<=n[1])return"active"}else for(var a=0,s=i.length;a<s;a++)if(i[a][0]<=r&&r<=i[a][1])return"active";return"inactive"},e}(Dt);yi(Aw,Cg);var rf=!0,q2=Math.min,Ip=Math.max,Twe=Math.pow,Awe=1e4,wwe=6,Dwe=6,Sz="globalPan",Fwe={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Iwe={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Tz={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Bwe=0,EF=function(t){ce(e,t);function e(r){var i=t.call(this)||this;return i._track=[],i._covers=[],i._handlers={},i._zr=r,i.group=new dt,i._uid="brushController_"+Bwe++,G(kwe,function(n,a){this._handlers[a]=Je(n,this)},i),i}return e.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},e.prototype._doEnableBrush=function(r){var i=this._zr;this._enableGlobalPan||ETe(i,Sz,this._uid),G(this._handlers,function(n,a){i.on(a,n)}),this._brushType=r.brushType,this._brushOption=et(ht(Tz),r,!0)},e.prototype._doDisableBrush=function(){var r=this._zr;STe(r,Sz,this._uid),G(this._handlers,function(i,n){r.off(n,i)}),this._brushType=this._brushOption=null},e.prototype.setPanels=function(r){if(r&&r.length){var i=this._panels={};G(r,function(n){i[n.panelId]=ht(n)})}else this._panels=null;return this},e.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var i=this.group;return this._zr.add(i),i.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=i.getLocalTransform(),this},e.prototype.updateCovers=function(r){r=Ie(r,function(f){return et(ht(Tz),f,!0)});var i="\0-brush-index-",n=this._covers,a=this._covers=[],s=this,o=this._creatingCover;return new vl(n,r,l,u).add(c).update(c).remove(h).execute(),this;function u(f,d){return(f.id!=null?f.id:i+d)+"-"+f.brushType}function l(f,d){return u(f.__brushOption,d)}function c(f,d){var p=r[f];if(d!=null&&n[d]===o)a[f]=n[d];else{var g=a[f]=d!=null?(n[d].__brushOption=p,n[d]):Nee(s,Ree(s,p));SF(s,g)}}function h(f){n[f]!==o&&s.group.remove(n[f])}},e.prototype.unmount=function(){return this.enableBrush(!1),ww(this),this._zr.remove(this.group),this},e.prototype.dispose=function(){this.unmount(),this.off()},e}(Us);function Ree(t,e){var r=Jb[e.brushType].createCover(t,e);return r.__brushOption=e,zee(r,e),t.group.add(r),r}function Nee(t,e){var r=TF(e);return r.endCreating&&(r.endCreating(t,e),zee(e,e.__brushOption)),e}function kee(t,e){var r=e.__brushOption;TF(e).updateCoverShape(t,e,r.range,r)}function zee(t,e){var r=e.z;r==null&&(r=Awe),t.traverse(function(i){i.z=r,i.z2=r})}function SF(t,e){TF(e).updateCommon(t,e),kee(t,e)}function TF(t){return Jb[t.__brushOption.brushType]}function AF(t,e,r){var i=t._panels;if(!i)return rf;var n,a=t._transform;return G(i,function(s){s.isTargetByCursor(e,r,a)&&(n=s)}),n}function Hee(t,e){var r=t._panels;if(!r)return rf;var i=e.__brushOption.panelId;return i!=null?r[i]:rf}function ww(t){var e=t._covers,r=e.length;return G(e,function(i){t.group.remove(i)},t),e.length=0,!!r}function nf(t,e){var r=Ie(t._covers,function(i){var n=i.__brushOption,a=ht(n.range);return{brushType:n.brushType,panelId:n.panelId,range:a}});t.trigger("brush",{areas:r,isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Mwe(t){var e=t._track;if(!e.length)return!1;var r=e[e.length-1],i=e[0],n=r[0]-i[0],a=r[1]-i[1],s=Twe(n*n+a*a,.5);return s>wwe}function Gee(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Uee(t,e,r,i){var n=new dt;return n.add(new Gt({name:"main",style:wF(r),silent:!0,draggable:!0,cursor:"move",drift:mt(Az,t,e,n,["n","s","w","e"]),ondragend:mt(nf,e,{isEnd:!0})})),G(i,function(a){n.add(new Gt({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:mt(Az,t,e,n,a),ondragend:mt(nf,e,{isEnd:!0})}))}),n}function jee(t,e,r,i){var n=i.brushStyle.lineWidth||0,a=Ip(n,Dwe),s=r[0][0],o=r[1][0],u=s-n/2,l=o-n/2,c=r[0][1],h=r[1][1],f=c-a+n/2,d=h-a+n/2,p=c-s,g=h-o,v=p+n,m=g+n;Ru(t,e,"main",s,o,p,g),i.transformable&&(Ru(t,e,"w",u,l,a,m),Ru(t,e,"e",f,l,a,m),Ru(t,e,"n",u,l,v,a),Ru(t,e,"s",u,d,v,a),Ru(t,e,"nw",u,l,a,a),Ru(t,e,"ne",f,l,a,a),Ru(t,e,"sw",u,d,a,a),Ru(t,e,"se",f,d,a,a))}function Dw(t,e){var r=e.__brushOption,i=r.transformable,n=e.childAt(0);n.useStyle(wF(r)),n.attr({silent:!i,cursor:i?"move":"default"}),G([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var s=e.childOfName(a.join("")),o=a.length===1?Fw(t,a[0]):Lwe(t,a);s&&s.attr({silent:!i,invisible:!i,cursor:i?Iwe[o]+"-resize":null})})}function Ru(t,e,r,i,n,a,s){var o=e.childOfName(r);o&&o.setShape(Rwe(DF(t,e,[[i,n],[i+a,n+s]])))}function wF(t){return st({strokeNoScale:!0},t.brushStyle)}function Vee(t,e,r,i){var n=[q2(t,r),q2(e,i)],a=[Ip(t,r),Ip(e,i)];return[[n[0],a[0]],[n[1],a[1]]]}function Pwe(t){return Ph(t.group)}function Fw(t,e){var r={w:"left",e:"right",n:"top",s:"bottom"},i={left:"w",right:"e",top:"n",bottom:"s"},n=Ib(r[e],Pwe(t));return i[n]}function Lwe(t,e){var r=[Fw(t,e[0]),Fw(t,e[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function Az(t,e,r,i,n,a){var s=r.__brushOption,o=t.toRectRange(s.range),u=$ee(e,n,a);G(i,function(l){var c=Fwe[l];o[c[0]][c[1]]+=u[c[0]]}),s.range=t.fromRectRange(Vee(o[0][0],o[1][0],o[0][1],o[1][1])),SF(e,r),nf(e,{isEnd:!1})}function Owe(t,e,r,i){var n=e.__brushOption.range,a=$ee(t,r,i);G(n,function(s){s[0]+=a[0],s[1]+=a[1]}),SF(t,e),nf(t,{isEnd:!1})}function $ee(t,e,r){var i=t.group,n=i.transformCoordToLocal(e,r),a=i.transformCoordToLocal(0,0);return[n[0]-a[0],n[1]-a[1]]}function DF(t,e,r){var i=Hee(t,e);return i&&i!==rf?i.clipPath(r,t._transform):ht(r)}function Rwe(t){var e=q2(t[0][0],t[1][0]),r=q2(t[0][1],t[1][1]),i=Ip(t[0][0],t[1][0]),n=Ip(t[0][1],t[1][1]);return{x:e,y:r,width:i-e,height:n-r}}function Nwe(t,e,r){if(!(!t._brushType||zwe(t,e.offsetX,e.offsetY))){var i=t._zr,n=t._covers,a=AF(t,e,r);if(!t._dragging)for(var s=0;s<n.length;s++){var o=n[s].__brushOption;if(a&&(a===rf||o.panelId===a.panelId)&&Jb[o.brushType].contain(n[s],r[0],r[1]))return}a&&i.setCursorStyle("crosshair")}}function Iw(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Bw(t,e,r){return t.childOfName("main").contain(e,r)}function Wee(t,e,r,i){var n=t._creatingCover,a=t._creatingPanel,s=t._brushOption,o;if(t._track.push(r.slice()),Mwe(t)||n){if(a&&!n){s.brushMode==="single"&&ww(t);var u=ht(s);u.brushType=wz(u.brushType,a),u.panelId=a===rf?null:a.panelId,n=t._creatingCover=Ree(t,u),t._covers.push(n)}if(n){var l=Jb[wz(t._brushType,a)],c=n.__brushOption;c.range=l.getCreatingRange(DF(t,n,t._track)),i&&(Nee(t,n),l.updateCommon(t,n)),kee(t,n),o={isEnd:i}}}else i&&s.brushMode==="single"&&s.removeOnClick&&AF(t,e,r)&&ww(t)&&(o={isEnd:i,removeOnClick:!0});return o}function wz(t,e){return t==="auto"?e.defaultBrushType:t}var kwe={mousedown:function(t){if(this._dragging)Dz(this,t);else if(!t.target||!t.target.draggable){Iw(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=AF(this,t,e);r&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=t.offsetX,r=t.offsetY,i=this.group.transformCoordToLocal(e,r);if(Nwe(this,t,i),this._dragging){Iw(t);var n=Wee(this,t,i,!1);n&&nf(this,n)}},mouseup:function(t){Dz(this,t)}};function Dz(t,e){if(t._dragging){Iw(e);var r=e.offsetX,i=e.offsetY,n=t.group.transformCoordToLocal(r,i),a=Wee(t,e,n,!0);t._dragging=!1,t._track=[],t._creatingCover=null,a&&nf(t,a)}}function zwe(t,e,r){var i=t._zr;return e<0||e>i.getWidth()||r<0||r>i.getHeight()}var Jb={lineX:Fz(0),lineY:Fz(1),rect:{createCover:function(t,e){function r(i){return i}return Uee({toRectRange:r,fromRectRange:r},t,e,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var e=Gee(t);return Vee(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,r,i){jee(t,e,r,i)},updateCommon:Dw,contain:Bw},polygon:{createCover:function(t,e){var r=new dt;return r.add(new ya({name:"main",style:wF(e),silent:!0})),r},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new pa({name:"main",draggable:!0,drift:mt(Owe,t,e),ondragend:mt(nf,t,{isEnd:!0})}))},updateCoverShape:function(t,e,r,i){e.childAt(0).setShape({points:DF(t,e,r)})},updateCommon:Dw,contain:Bw}};function Fz(t){return{createCover:function(e,r){return Uee({toRectRange:function(i){var n=[i,[0,100]];return t&&n.reverse(),n},fromRectRange:function(i){return i[t]}},e,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(e){var r=Gee(e),i=q2(r[0][t],r[1][t]),n=Ip(r[0][t],r[1][t]);return[i,n]},updateCoverShape:function(e,r,i,n){var a,s=Hee(e,r);if(s!==rf&&s.getLinearBrushOtherExtent)a=s.getLinearBrushOtherExtent(t);else{var o=e._zr;a=[0,[o.getWidth(),o.getHeight()][1-t]]}var u=[i,a];t&&u.reverse(),jee(e,r,u,n)},updateCommon:Dw,contain:Bw}}function Yee(t){return t=FF(t),function(e){return QZ(e,t)}}function qee(t,e){return t=FF(t),function(r){var i=e??r,n=i?t.width:t.height,a=i?t.x:t.y;return[a,a+(n||0)]}}function Xee(t,e,r){var i=FF(t);return function(n,a){return i.contain(a[0],a[1])&&!qb(n,e,r)}}function FF(t){return Et.create(t)}var Hwe=["axisLine","axisTickLabel","axisName"],Gwe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,i){t.prototype.init.apply(this,arguments),(this._brushController=new EF(i.getZr())).on("brush",Je(this._onBrush,this))},e.prototype.render=function(r,i,n,a){if(!Uwe(r,i,a)){this.axisModel=r,this.api=n,this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new dt,this.group.add(this._axisGroup),!!r.get("show")){var o=Vwe(r,i),u=o.coordinateSystem,l=r.getAreaSelectStyle(),c=l.width,h=r.axis.dim,f=u.getAxisLayout(h),d=Ce({strokeContainThreshold:c},f),p=new la(r,d);G(Hwe,p.add,p),this._axisGroup.add(p.getGroup()),this._refreshBrushController(d,l,r,o,c,n),Im(s,this._axisGroup,r)}}},e.prototype._refreshBrushController=function(r,i,n,a,s,o){var u=n.axis.getExtent(),l=u[1]-u[0],c=Math.min(30,Math.abs(l)*.1),h=Et.create({x:u[0],y:-s/2,width:l,height:s});h.x-=c,h.width+=2*c,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:Yee(h),isTargetByCursor:Xee(h,o,a),getLinearBrushOtherExtent:qee(h,0)}]).enableBrush({brushType:"lineX",brushStyle:i,removeOnClick:!0}).updateCovers(jwe(n))},e.prototype._onBrush=function(r){var i=r.areas,n=this.axisModel,a=n.axis,s=Ie(i,function(o){return[a.coordToData(o.range[0],!0),a.coordToData(o.range[1],!0)]});(!n.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:s})},e.prototype.dispose=function(){this._brushController.dispose()},e.type="parallelAxis",e}(_r);function Uwe(t,e,r){return r&&r.type==="axisAreaSelect"&&e.findComponents({mainType:"parallelAxis",query:r})[0]===t}function jwe(t){var e=t.axis;return Ie(t.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[e.dataToCoord(r[0],!0),e.dataToCoord(r[1],!0)]}})}function Vwe(t,e){return e.getComponent("parallel",t.get("parallelIndex"))}var $we={type:"axisAreaSelect",event:"axisAreaSelected"};function Wwe(t){t.registerAction($we,function(e,r){r.eachComponent({mainType:"parallelAxis",query:e},function(i){i.axis.model.setActiveIntervals(e.intervals)})}),t.registerAction("parallelAxisExpand",function(e,r){r.eachComponent({mainType:"parallel",query:e},function(i){i.setAxisExpand(e)})})}var Ywe={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function Zee(t){t.registerComponentView(pwe),t.registerComponentModel(vwe),t.registerCoordinateSystem("parallel",Swe),t.registerPreprocessor(cwe),t.registerComponentModel(Aw),t.registerComponentView(Gwe),Fp(t,"parallel",Aw,Ywe),Wwe(t)}function qwe(t){ft(Zee),t.registerChartView(rwe),t.registerSeriesModel(awe),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,lwe)}var Xwe=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),Zwe=function(t){ce(e,t);function e(r){return t.call(this,r)||this}return e.prototype.getDefaultShape=function(){return new Xwe},e.prototype.buildPath=function(r,i){var n=i.extent;r.moveTo(i.x1,i.y1),r.bezierCurveTo(i.cpx1,i.cpy1,i.cpx2,i.cpy2,i.x2,i.y2),i.orient==="vertical"?(r.lineTo(i.x2+n,i.y2),r.bezierCurveTo(i.cpx2+n,i.cpy2,i.cpx1+n,i.cpy1,i.x1+n,i.y1)):(r.lineTo(i.x2,i.y2+n),r.bezierCurveTo(i.cpx2,i.cpy2+n,i.cpx1,i.cpy1+n,i.x1,i.y1+n)),r.closePath()},e.prototype.highlight=function(){pl(this)},e.prototype.downplay=function(){gl(this)},e}(Pt),Kwe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._focusAdjacencyDisabled=!1,r}return e.prototype.render=function(r,i,n){var a=this,s=r.getGraph(),o=this.group,u=r.layoutInfo,l=u.width,c=u.height,h=r.getData(),f=r.getData("edge"),d=r.get("orient");this._model=r,o.removeAll(),o.x=u.x,o.y=u.y,s.eachEdge(function(p){var g=new Zwe,v=pt(g);v.dataIndex=p.dataIndex,v.seriesIndex=r.seriesIndex,v.dataType="edge";var m=p.getModel(),y=m.getModel("lineStyle"),_=y.get("curveness"),x=p.node1.getLayout(),b=p.node1.getModel(),C=b.get("localX"),E=b.get("localY"),A=p.node2.getLayout(),S=p.node2.getModel(),T=S.get("localX"),D=S.get("localY"),F=p.getLayout(),B,O,M,R,z,k,U,V;g.shape.extent=Math.max(1,F.dy),g.shape.orient=d,d==="vertical"?(B=(C!=null?C*l:x.x)+F.sy,O=(E!=null?E*c:x.y)+x.dy,M=(T!=null?T*l:A.x)+F.ty,R=D!=null?D*c:A.y,z=B,k=O*(1-_)+R*_,U=M,V=O*_+R*(1-_)):(B=(C!=null?C*l:x.x)+x.dx,O=(E!=null?E*c:x.y)+F.sy,M=T!=null?T*l:A.x,R=(D!=null?D*c:A.y)+F.ty,z=B*(1-_)+M*_,k=O,U=B*_+M*(1-_),V=R),g.setShape({x1:B,y1:O,x2:M,y2:R,cpx1:z,cpy1:k,cpx2:U,cpy2:V}),g.useStyle(y.getItemStyle()),Iz(g.style,d,p);var j=""+m.get("value"),Y=Ki(m,"edgeLabel");In(g,Y,{labelFetcher:{getFormattedLabel:function(de,Oe,he,le,pe,xe){return r.getFormattedLabel(de,Oe,"edge",le,su(pe,Y.normal&&Y.normal.get("formatter"),j),xe)}},labelDataIndex:p.dataIndex,defaultText:j}),g.setTextConfig({position:"inside"});var te=m.getModel("emphasis");Fn(g,m,"lineStyle",function(de){var Oe=de.getItemStyle();return Iz(Oe,d,p),Oe}),o.add(g),f.setItemGraphicEl(p.dataIndex,g);var re=te.get("focus");Zr(g,re==="adjacency"?p.getAdjacentDataIndices():re==="trajectory"?p.getTrajectoryDataIndices():re,te.get("blurScope"),te.get("disabled"))}),s.eachNode(function(p){var g=p.getLayout(),v=p.getModel(),m=v.get("localX"),y=v.get("localY"),_=v.getModel("emphasis"),x=v.get(["itemStyle","borderRadius"])||0,b=new Gt({shape:{x:m!=null?m*l:g.x,y:y!=null?y*c:g.y,width:g.dx,height:g.dy,r:x},style:v.getModel("itemStyle").getItemStyle(),z2:10});In(b,Ki(v),{labelFetcher:{getFormattedLabel:function(E,A){return r.getFormattedLabel(E,A,"node")}},labelDataIndex:p.dataIndex,defaultText:p.id}),b.disableLabelAnimation=!0,b.setStyle("fill",p.getVisual("color")),b.setStyle("decal",p.getVisual("style").decal),Fn(b,v),o.add(b),h.setItemGraphicEl(p.dataIndex,b),pt(b).dataType="node";var C=_.get("focus");Zr(b,C==="adjacency"?p.getAdjacentDataIndices():C==="trajectory"?p.getTrajectoryDataIndices():C,_.get("blurScope"),_.get("disabled"))}),h.eachItemGraphicEl(function(p,g){var v=h.getItemModel(g);v.get("draggable")&&(p.drift=function(m,y){a._focusAdjacencyDisabled=!0,this.shape.x+=m,this.shape.y+=y,this.dirty(),n.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:h.getRawIndex(g),localX:this.shape.x/l,localY:this.shape.y/c})},p.ondragend=function(){a._focusAdjacencyDisabled=!1},p.draggable=!0,p.cursor="move")}),!this._data&&r.isAnimationEnabled()&&o.setClipPath(Jwe(o.getBoundingRect(),r,function(){o.removeClipPath()})),this._data=r.getData()},e.prototype.dispose=function(){},e.type="sankey",e}(Wt);function Iz(t,e,r){switch(t.fill){case"source":t.fill=r.node1.getVisual("color"),t.decal=r.node1.getVisual("style").decal;break;case"target":t.fill=r.node2.getVisual("color"),t.decal=r.node2.getVisual("style").decal;break;case"gradient":var i=r.node1.getVisual("color"),n=r.node2.getVisual("color");Xe(i)&&Xe(n)&&(t.fill=new Fm(0,0,+(e==="horizontal"),+(e==="vertical"),[{color:i,offset:0},{color:n,offset:1}]))}}function Jwe(t,e,r){var i=new Gt({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Nr(i,{shape:{width:t.width+20}},e,r),i}var Qwe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,i){var n=r.edges||r.links||[],a=r.data||r.nodes||[],s=r.levels||[];this.levelModels=[];for(var o=this.levelModels,u=0;u<s.length;u++)s[u].depth!=null&&s[u].depth>=0&&(o[s[u].depth]=new Xt(s[u],this,i));var l=Mee(a,n,this,!0,c);return l.data;function c(h,f){h.wrapMethod("getItemModel",function(d,p){var g=d.parentModel,v=g.getData().getItemLayout(p);if(v){var m=v.depth,y=g.levelModels[m];y&&(d.parentModel=y)}return d}),f.wrapMethod("getItemModel",function(d,p){var g=d.parentModel,v=g.getGraph().getEdgeByIndex(p),m=v.node1.getLayout();if(m){var y=m.depth,_=g.levelModels[y];_&&(d.parentModel=_)}return d})}},e.prototype.setNodePosition=function(r,i){var n=this.option.data||this.option.nodes,a=n[r];a.localX=i[0],a.localY=i[1]},e.prototype.getGraph=function(){return this.getData().graph},e.prototype.getEdgeData=function(){return this.getGraph().edgeData},e.prototype.formatTooltip=function(r,i,n){function a(d){return isNaN(d)||d==null}if(n==="edge"){var s=this.getDataParams(r,n),o=s.data,u=s.value,l=o.source+" -- "+o.target;return Ji("nameValue",{name:l,value:u,noValue:a(u)})}else{var c=this.getGraph().getNodeByIndex(r),h=c.getLayout().value,f=this.getDataParams(r,n).data.name;return Ji("nameValue",{name:f!=null?f+"":null,value:h,noValue:a(h)})}},e.prototype.optionUpdated=function(){},e.prototype.getDataParams=function(r,i){var n=t.prototype.getDataParams.call(this,r,i);if(n.value==null&&i==="node"){var a=this.getGraph().getNodeByIndex(r),s=a.getLayout().value;n.value=s}return n},e.type="series.sankey",e.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},e}(Kt);function eDe(t,e){t.eachSeriesByType("sankey",function(r){var i=r.get("nodeWidth"),n=r.get("nodeGap"),a=tDe(r,e);r.layoutInfo=a;var s=a.width,o=a.height,u=r.getGraph(),l=u.nodes,c=u.edges;iDe(l);var h=sr(l,function(g){return g.getLayout().value===0}),f=h.length!==0?0:r.get("layoutIterations"),d=r.get("orient"),p=r.get("nodeAlign");rDe(l,c,i,n,s,o,f,d,p)})}function tDe(t,e){return ai(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function rDe(t,e,r,i,n,a,s,o,u){nDe(t,e,r,n,a,o,u),uDe(t,e,a,n,i,s,o),mDe(t,o)}function iDe(t){G(t,function(e){var r=Mc(e.outEdges,q3),i=Mc(e.inEdges,q3),n=e.getValue()||0,a=Math.max(r,i,n);e.setLayout({value:a},!0)})}function nDe(t,e,r,i,n,a,s){for(var o=[],u=[],l=[],c=[],h=0,f=0;f<e.length;f++)o[f]=1;for(var f=0;f<t.length;f++)u[f]=t[f].inEdges.length,u[f]===0&&l.push(t[f]);for(var d=-1;l.length;){for(var p=0;p<l.length;p++){var g=l[p],v=g.hostGraph.data.getRawDataItem(g.dataIndex),m=v.depth!=null&&v.depth>=0;m&&v.depth>d&&(d=v.depth),g.setLayout({depth:m?v.depth:h},!0),a==="vertical"?g.setLayout({dy:r},!0):g.setLayout({dx:r},!0);for(var y=0;y<g.outEdges.length;y++){var _=g.outEdges[y],x=e.indexOf(_);o[x]=0;var b=_.node2,C=t.indexOf(b);--u[C]===0&&c.indexOf(b)<0&&c.push(b)}}++h,l=c,c=[]}for(var f=0;f<o.length;f++)if(o[f]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var E=d>h-1?d:h-1;s&&s!=="left"&&aDe(t,s,a,E);var A=a==="vertical"?(n-r)/E:(i-r)/E;oDe(t,A,a)}function Kee(t){var e=t.hostGraph.data.getRawDataItem(t.dataIndex);return e.depth!=null&&e.depth>=0}function aDe(t,e,r,i){if(e==="right"){for(var n=[],a=t,s=0;a.length;){for(var o=0;o<a.length;o++){var u=a[o];u.setLayout({skNodeHeight:s},!0);for(var l=0;l<u.inEdges.length;l++){var c=u.inEdges[l];n.indexOf(c.node1)<0&&n.push(c.node1)}}a=n,n=[],++s}G(t,function(h){Kee(h)||h.setLayout({depth:Math.max(0,i-h.getLayout().skNodeHeight)},!0)})}else e==="justify"&&sDe(t,i)}function sDe(t,e){G(t,function(r){!Kee(r)&&!r.outEdges.length&&r.setLayout({depth:e},!0)})}function oDe(t,e,r){G(t,function(i){var n=i.getLayout().depth*e;r==="vertical"?i.setLayout({y:n},!0):i.setLayout({x:n},!0)})}function uDe(t,e,r,i,n,a,s){var o=lDe(t,s);cDe(o,e,r,i,n,s),b6(o,n,r,i,s);for(var u=1;a>0;a--)u*=.99,hDe(o,u,s),b6(o,n,r,i,s),vDe(o,u,s),b6(o,n,r,i,s)}function lDe(t,e){var r=[],i=e==="vertical"?"y":"x",n=B8(t,function(a){return a.getLayout()[i]});return n.keys.sort(function(a,s){return a-s}),G(n.keys,function(a){r.push(n.buckets.get(a))}),r}function cDe(t,e,r,i,n,a){var s=1/0;G(t,function(o){var u=o.length,l=0;G(o,function(h){l+=h.getLayout().value});var c=a==="vertical"?(i-(u-1)*n)/l:(r-(u-1)*n)/l;c<s&&(s=c)}),G(t,function(o){G(o,function(u,l){var c=u.getLayout().value*s;a==="vertical"?(u.setLayout({x:l},!0),u.setLayout({dx:c},!0)):(u.setLayout({y:l},!0),u.setLayout({dy:c},!0))})}),G(e,function(o){var u=+o.getValue()*s;o.setLayout({dy:u},!0)})}function b6(t,e,r,i,n){var a=n==="vertical"?"x":"y";G(t,function(s){s.sort(function(g,v){return g.getLayout()[a]-v.getLayout()[a]});for(var o,u,l,c=0,h=s.length,f=n==="vertical"?"dx":"dy",d=0;d<h;d++)u=s[d],l=c-u.getLayout()[a],l>0&&(o=u.getLayout()[a]+l,n==="vertical"?u.setLayout({x:o},!0):u.setLayout({y:o},!0)),c=u.getLayout()[a]+u.getLayout()[f]+e;var p=n==="vertical"?i:r;if(l=c-e-p,l>0){o=u.getLayout()[a]-l,n==="vertical"?u.setLayout({x:o},!0):u.setLayout({y:o},!0),c=o;for(var d=h-2;d>=0;--d)u=s[d],l=u.getLayout()[a]+u.getLayout()[f]+e-c,l>0&&(o=u.getLayout()[a]-l,n==="vertical"?u.setLayout({x:o},!0):u.setLayout({y:o},!0)),c=u.getLayout()[a]}})}function hDe(t,e,r){G(t.slice().reverse(),function(i){G(i,function(n){if(n.outEdges.length){var a=Mc(n.outEdges,fDe,r)/Mc(n.outEdges,q3);if(isNaN(a)){var s=n.outEdges.length;a=s?Mc(n.outEdges,dDe,r)/s:0}if(r==="vertical"){var o=n.getLayout().x+(a-zc(n,r))*e;n.setLayout({x:o},!0)}else{var u=n.getLayout().y+(a-zc(n,r))*e;n.setLayout({y:u},!0)}}})})}function fDe(t,e){return zc(t.node2,e)*t.getValue()}function dDe(t,e){return zc(t.node2,e)}function pDe(t,e){return zc(t.node1,e)*t.getValue()}function gDe(t,e){return zc(t.node1,e)}function zc(t,e){return e==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function q3(t){return t.getValue()}function Mc(t,e,r){for(var i=0,n=t.length,a=-1;++a<n;){var s=+e(t[a],r);isNaN(s)||(i+=s)}return i}function vDe(t,e,r){G(t,function(i){G(i,function(n){if(n.inEdges.length){var a=Mc(n.inEdges,pDe,r)/Mc(n.inEdges,q3);if(isNaN(a)){var s=n.inEdges.length;a=s?Mc(n.inEdges,gDe,r)/s:0}if(r==="vertical"){var o=n.getLayout().x+(a-zc(n,r))*e;n.setLayout({x:o},!0)}else{var u=n.getLayout().y+(a-zc(n,r))*e;n.setLayout({y:u},!0)}}})})}function mDe(t,e){var r=e==="vertical"?"x":"y";G(t,function(i){i.outEdges.sort(function(n,a){return n.node2.getLayout()[r]-a.node2.getLayout()[r]}),i.inEdges.sort(function(n,a){return n.node1.getLayout()[r]-a.node1.getLayout()[r]})}),G(t,function(i){var n=0,a=0;G(i.outEdges,function(s){s.setLayout({sy:n},!0),n+=s.getLayout().dy}),G(i.inEdges,function(s){s.setLayout({ty:a},!0),a+=s.getLayout().dy})})}function yDe(t){t.eachSeriesByType("sankey",function(e){var r=e.getGraph(),i=r.nodes,n=r.edges;if(i.length){var a=1/0,s=-1/0;G(i,function(o){var u=o.getLayout().value;u<a&&(a=u),u>s&&(s=u)}),G(i,function(o){var u=new qi({type:"color",mappingMethod:"linear",dataExtent:[a,s],visual:e.get("color")}),l=u.mapValueToVisual(o.getLayout().value),c=o.getModel().get(["itemStyle","color"]);c!=null?(o.setVisual("color",c),o.setVisual("style",{fill:c})):(o.setVisual("color",l),o.setVisual("style",{fill:l}))})}n.length&&G(n,function(o){var u=o.getModel().get("lineStyle");o.setVisual("style",u)})})}function _De(t){t.registerChartView(Kwe),t.registerSeriesModel(Qwe),t.registerLayout(eDe),t.registerVisual(yDe),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(e,r){r.eachComponent({mainType:"series",subType:"sankey",query:e},function(i){i.setNodePosition(e.dataIndex,[e.localX,e.localY])})})}var Jee=function(){function t(){}return t.prototype._hasEncodeRule=function(e){var r=this.getEncode();return r&&r.get(e)!=null},t.prototype.getInitialData=function(e,r){var i,n=r.getComponent("xAxis",this.get("xAxisIndex")),a=r.getComponent("yAxis",this.get("yAxisIndex")),s=n.get("type"),o=a.get("type"),u;s==="category"?(e.layout="horizontal",i=n.getOrdinalMeta(),u=!this._hasEncodeRule("x")):o==="category"?(e.layout="vertical",i=a.getOrdinalMeta(),u=!this._hasEncodeRule("y")):e.layout=e.layout||"horizontal";var l=["x","y"],c=e.layout==="horizontal"?0:1,h=this._baseAxisDim=l[c],f=l[1-c],d=[n,a],p=d[c].get("type"),g=d[1-c].get("type"),v=e.data;if(v&&u){var m=[];G(v,function(x,b){var C;Te(x)?(C=x.slice(),x.unshift(b)):Te(x.value)?(C=Ce({},x),C.value=C.value.slice(),x.value.unshift(b)):C=x,m.push(C)}),e.data=m}var y=this.defaultValueDimensions,_=[{name:h,type:R3(p),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:R3(g),dimsDef:y.slice()}];return Eg(this,{coordDimensions:_,dimensionsCount:y.length+1,encodeDefaulter:mt(SK,_,this)})},t.prototype.getBaseAxis=function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis},t}(),Qee=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return e.type="series.boxplot",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},e}(Kt);yi(Qee,Jee,!0);var xDe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=r.getData(),s=this.group,o=this._data;this._data||s.removeAll();var u=r.get("layout")==="horizontal"?1:0;a.diff(o).add(function(l){if(a.hasValue(l)){var c=a.getItemLayout(l),h=Bz(c,a,l,u,!0);a.setItemGraphicEl(l,h),s.add(h)}}).update(function(l,c){var h=o.getItemGraphicEl(c);if(!a.hasValue(l)){s.remove(h);return}var f=a.getItemLayout(l);h?(bo(h),ete(f,h,a,l)):h=Bz(f,a,l,u),s.add(h),a.setItemGraphicEl(l,h)}).remove(function(l){var c=o.getItemGraphicEl(l);c&&s.remove(c)}).execute(),this._data=a},e.prototype.remove=function(r){var i=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(a){a&&i.remove(a)})},e.type="boxplot",e}(Wt),bDe=function(){function t(){}return t}(),CDe=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="boxplotBoxPath",i}return e.prototype.getDefaultShape=function(){return new bDe},e.prototype.buildPath=function(r,i){var n=i.points,a=0;for(r.moveTo(n[a][0],n[a][1]),a++;a<4;a++)r.lineTo(n[a][0],n[a][1]);for(r.closePath();a<n.length;a++)r.moveTo(n[a][0],n[a][1]),a++,r.lineTo(n[a][0],n[a][1])},e}(Pt);function Bz(t,e,r,i,n){var a=t.ends,s=new CDe({shape:{points:n?EDe(a,i,t):a}});return ete(t,s,e,r,n),s}function ete(t,e,r,i,n){var a=r.hostModel,s=Sf[n?"initProps":"updateProps"];s(e,{shape:{points:t.ends}},a,i),e.useStyle(r.getItemVisual(i,"style")),e.style.strokeNoScale=!0,e.z2=100;var o=r.getItemModel(i),u=o.getModel("emphasis");Fn(e,o),Zr(e,u.get("focus"),u.get("blurScope"),u.get("disabled"))}function EDe(t,e,r){return Ie(t,function(i){return i=i.slice(),i[e]=r.initBaseline,i})}var W1=G;function SDe(t){var e=TDe(t);W1(e,function(r){var i=r.seriesModels;i.length&&(ADe(r),W1(i,function(n,a){wDe(n,r.boxOffsetList[a],r.boxWidthList[a])}))})}function TDe(t){var e=[],r=[];return t.eachSeriesByType("boxplot",function(i){var n=i.getBaseAxis(),a=wt(r,n);a<0&&(a=r.length,r[a]=n,e[a]={axis:n,seriesModels:[]}),e[a].seriesModels.push(i)}),e}function ADe(t){var e=t.axis,r=t.seriesModels,i=r.length,n=t.boxWidthList=[],a=t.boxOffsetList=[],s=[],o;if(e.type==="category")o=e.getBandWidth();else{var u=0;W1(r,function(p){u=Math.max(u,p.getData().count())});var l=e.getExtent();o=Math.abs(l[1]-l[0])/u}W1(r,function(p){var g=p.get("boxWidth");Te(g)||(g=[g,g]),s.push([je(g[0],o)||0,je(g[1],o)||0])});var c=o*.8-2,h=c/i*.3,f=(c-h*(i-1))/i,d=f/2-c/2;W1(r,function(p,g){a.push(d),d+=h+f,n.push(Math.min(Math.max(f,s[g][0]),s[g][1]))})}function wDe(t,e,r){var i=t.coordinateSystem,n=t.getData(),a=r/2,s=t.get("layout")==="horizontal"?0:1,o=1-s,u=["x","y"],l=n.mapDimension(u[s]),c=n.mapDimensionsAll(u[o]);if(l==null||c.length<5)return;for(var h=0;h<n.count();h++){var f=n.get(l,h),d=_(f,c[2],h),p=_(f,c[0],h),g=_(f,c[1],h),v=_(f,c[3],h),m=_(f,c[4],h),y=[];x(y,g,!1),x(y,v,!0),y.push(p,g,m,v),b(y,p),b(y,m),b(y,d),n.setItemLayout(h,{initBaseline:d[o],ends:y})}function _(C,E,A){var S=n.get(E,A),T=[];T[s]=C,T[o]=S;var D;return isNaN(C)||isNaN(S)?D=[NaN,NaN]:(D=i.dataToPoint(T),D[s]+=e),D}function x(C,E,A){var S=E.slice(),T=E.slice();S[s]+=a,T[s]-=a,A?C.push(S,T):C.push(T,S)}function b(C,E){var A=E.slice(),S=E.slice();A[s]-=a,S[s]+=a,C.push(A,S)}}function DDe(t,e){e=e||{};for(var r=[],i=[],n=e.boundIQR,a=n==="none"||n===0,s=0;s<t.length;s++){var o=Ds(t[s].slice()),u=ZE(o,.25),l=ZE(o,.5),c=ZE(o,.75),h=o[0],f=o[o.length-1],d=(n??1.5)*(c-u),p=a?h:Math.max(h,u-d),g=a?f:Math.min(f,c+d),v=e.itemNameFormatter,m=ot(v)?v({value:s}):Xe(v)?v.replace("{value}",s+""):s+"";r.push([m,p,u,l,c,g]);for(var y=0;y<o.length;y++){var _=o[y];if(_<p||_>g){var x=[m,_];i.push(x)}}}return{boxData:r,outliers:i}}var FDe={type:"echarts:boxplot",transform:function(e){var r=e.upstream;if(r.sourceFormat!==Un){var i="";ar(i)}var n=DDe(r.getRawData(),e.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:n.boxData},{data:n.outliers}]}};function IDe(t){t.registerSeriesModel(Qee),t.registerChartView(xDe),t.registerLayout(SDe),t.registerTransform(FDe)}var BDe=["itemStyle","borderColor"],MDe=["itemStyle","borderColor0"],PDe=["itemStyle","borderColorDoji"],LDe=["itemStyle","color"],ODe=["itemStyle","color0"];function IF(t,e){return e.get(t>0?LDe:ODe)}function BF(t,e){return e.get(t===0?PDe:t>0?BDe:MDe)}var RDe={seriesType:"candlestick",plan:mg(),performRawSeries:!0,reset:function(t,e){if(!e.isSeriesFiltered(t)){var r=t.pipelineContext.large;return!r&&{progress:function(i,n){for(var a;(a=i.next())!=null;){var s=n.getItemModel(a),o=n.getItemLayout(a).sign,u=s.getItemStyle();u.fill=IF(o,s),u.stroke=BF(o,s)||u.fill;var l=n.ensureUniqueItemVisual(a,"style");Ce(l,u)}}}}}},NDe=["color","borderColor"],kDe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},e.prototype.incrementalPrepareRender=function(r,i,n){this._clear(),this._updateDrawMode(r)},e.prototype.incrementalRender=function(r,i,n,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,i):this._incrementalRenderNormal(r,i)},e.prototype.eachRendered=function(r){$c(this._progressiveEls||this.group,r)},e.prototype._updateDrawMode=function(r){var i=r.pipelineContext.large;(this._isLargeDraw==null||i!==this._isLargeDraw)&&(this._isLargeDraw=i,this._clear())},e.prototype._renderNormal=function(r){var i=r.getData(),n=this._data,a=this.group,s=i.getLayout("isSimpleBox"),o=r.get("clip",!0),u=r.coordinateSystem,l=u.getArea&&u.getArea();this._data||a.removeAll(),i.diff(n).add(function(c){if(i.hasValue(c)){var h=i.getItemLayout(c);if(o&&Mz(l,h))return;var f=C6(h,c,!0);Nr(f,{shape:{points:h.ends}},r,c),E6(f,i,c,s),a.add(f),i.setItemGraphicEl(c,f)}}).update(function(c,h){var f=n.getItemGraphicEl(h);if(!i.hasValue(c)){a.remove(f);return}var d=i.getItemLayout(c);if(o&&Mz(l,d)){a.remove(f);return}f?(er(f,{shape:{points:d.ends}},r,c),bo(f)):f=C6(d),E6(f,i,c,s),a.add(f),i.setItemGraphicEl(c,f)}).remove(function(c){var h=n.getItemGraphicEl(c);h&&a.remove(h)}).execute(),this._data=i},e.prototype._renderLarge=function(r){this._clear(),Pz(r,this.group);var i=r.get("clip",!0)?Nm(r.coordinateSystem,!1,r):null;i?this.group.setClipPath(i):this.group.removeClipPath()},e.prototype._incrementalRenderNormal=function(r,i){for(var n=i.getData(),a=n.getLayout("isSimpleBox"),s;(s=r.next())!=null;){var o=n.getItemLayout(s),u=C6(o);E6(u,n,s,a),u.incremental=!0,this.group.add(u),this._progressiveEls.push(u)}},e.prototype._incrementalRenderLarge=function(r,i){Pz(i,this.group,this._progressiveEls,!0)},e.prototype.remove=function(r){this._clear()},e.prototype._clear=function(){this.group.removeAll(),this._data=null},e.type="candlestick",e}(Wt),zDe=function(){function t(){}return t}(),HDe=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="normalCandlestickBox",i}return e.prototype.getDefaultShape=function(){return new zDe},e.prototype.buildPath=function(r,i){var n=i.points;this.__simpleBox?(r.moveTo(n[4][0],n[4][1]),r.lineTo(n[6][0],n[6][1])):(r.moveTo(n[0][0],n[0][1]),r.lineTo(n[1][0],n[1][1]),r.lineTo(n[2][0],n[2][1]),r.lineTo(n[3][0],n[3][1]),r.closePath(),r.moveTo(n[4][0],n[4][1]),r.lineTo(n[5][0],n[5][1]),r.moveTo(n[6][0],n[6][1]),r.lineTo(n[7][0],n[7][1]))},e}(Pt);function C6(t,e,r){var i=t.ends;return new HDe({shape:{points:r?GDe(i,t):i},z2:100})}function Mz(t,e){for(var r=!0,i=0;i<e.ends.length;i++)if(t.contain(e.ends[i][0],e.ends[i][1])){r=!1;break}return r}function E6(t,e,r,i){var n=e.getItemModel(r);t.useStyle(e.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.__simpleBox=i,Fn(t,n);var a=e.getItemLayout(r).sign;G(t.states,function(o,u){var l=n.getModel(u),c=IF(a,l),h=BF(a,l)||c,f=o.style||(o.style={});c&&(f.fill=c),h&&(f.stroke=h)});var s=n.getModel("emphasis");Zr(t,s.get("focus"),s.get("blurScope"),s.get("disabled"))}function GDe(t,e){return Ie(t,function(r){return r=r.slice(),r[1]=e.initBaseline,r})}var UDe=function(){function t(){}return t}(),S6=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i.type="largeCandlestickBox",i}return e.prototype.getDefaultShape=function(){return new UDe},e.prototype.buildPath=function(r,i){for(var n=i.points,a=0;a<n.length;)if(this.__sign===n[a++]){var s=n[a++];r.moveTo(s,n[a++]),r.lineTo(s,n[a++])}else a+=3},e}(Pt);function Pz(t,e,r,i){var n=t.getData(),a=n.getLayout("largePoints"),s=new S6({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});e.add(s);var o=new S6({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});e.add(o);var u=new S6({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});e.add(u),T6(1,s,t),T6(-1,o,t),T6(0,u,t),i&&(s.incremental=!0,o.incremental=!0),r&&r.push(s,o)}function T6(t,e,r,i){var n=BF(t,r)||IF(t,r),a=r.getModel("itemStyle").getItemStyle(NDe);e.useStyle(a),e.style.fill=null,e.style.stroke=n}var tte=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return e.prototype.getShadowDim=function(){return"open"},e.prototype.brushSelector=function(r,i,n){var a=i.getItemLayout(r);return a&&n.rect(a.brushRect)},e.type="series.candlestick",e.dependencies=["xAxis","yAxis","grid"],e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},e}(Kt);yi(tte,Jee,!0);function jDe(t){!t||!Te(t.series)||G(t.series,function(e){lt(e)&&e.type==="k"&&(e.type="candlestick")})}var VDe={seriesType:"candlestick",plan:mg(),reset:function(t){var e=t.coordinateSystem,r=t.getData(),i=$De(t,r),n=0,a=1,s=["x","y"],o=r.getDimensionIndex(r.mapDimension(s[n])),u=Ie(r.mapDimensionsAll(s[a]),r.getDimensionIndex,r),l=u[0],c=u[1],h=u[2],f=u[3];if(r.setLayout({candleWidth:i,isSimpleBox:i<=1.3}),o<0||u.length<4)return;return{progress:t.pipelineContext.large?p:d};function d(g,v){for(var m,y=v.getStore();(m=g.next())!=null;){var _=y.get(o,m),x=y.get(l,m),b=y.get(c,m),C=y.get(h,m),E=y.get(f,m),A=Math.min(x,b),S=Math.max(x,b),T=z(A,_),D=z(S,_),F=z(C,_),B=z(E,_),O=[];k(O,D,0),k(O,T,1),O.push(V(B),V(D),V(F),V(T));var M=v.getItemModel(m),R=!!M.get(["itemStyle","borderColorDoji"]);v.setItemLayout(m,{sign:Lz(y,m,x,b,c,R),initBaseline:x>b?D[a]:T[a],ends:O,brushRect:U(C,E,_)})}function z(j,Y){var te=[];return te[n]=Y,te[a]=j,isNaN(Y)||isNaN(j)?[NaN,NaN]:e.dataToPoint(te)}function k(j,Y,te){var re=Y.slice(),de=Y.slice();re[n]=Wx(re[n]+i/2,1,!1),de[n]=Wx(de[n]-i/2,1,!0),te?j.push(re,de):j.push(de,re)}function U(j,Y,te){var re=z(j,te),de=z(Y,te);return re[n]-=i/2,de[n]-=i/2,{x:re[0],y:re[1],width:i,height:de[1]-re[1]}}function V(j){return j[n]=Wx(j[n],1),j}}function p(g,v){for(var m=Jo(g.count*4),y=0,_,x=[],b=[],C,E=v.getStore(),A=!!t.get(["itemStyle","borderColorDoji"]);(C=g.next())!=null;){var S=E.get(o,C),T=E.get(l,C),D=E.get(c,C),F=E.get(h,C),B=E.get(f,C);if(isNaN(S)||isNaN(F)||isNaN(B)){m[y++]=NaN,y+=3;continue}m[y++]=Lz(E,C,T,D,c,A),x[n]=S,x[a]=F,_=e.dataToPoint(x,null,b),m[y++]=_?_[0]:NaN,m[y++]=_?_[1]:NaN,x[a]=B,_=e.dataToPoint(x,null,b),m[y++]=_?_[1]:NaN}v.setLayout("largePoints",m)}}};function Lz(t,e,r,i,n,a){var s;return r>i?s=-1:r<i?s=1:s=a?0:e>0?t.get(n,e-1)<=i?1:-1:1,s}function $De(t,e){var r=t.getBaseAxis(),i,n=r.type==="category"?r.getBandWidth():(i=r.getExtent(),Math.abs(i[1]-i[0])/e.count()),a=je(gt(t.get("barMaxWidth"),n),n),s=je(gt(t.get("barMinWidth"),1),n),o=t.get("barWidth");return o!=null?je(o,n):Math.max(Math.min(n/2,a),s)}function WDe(t){t.registerChartView(kDe),t.registerSeriesModel(tte),t.registerPreprocessor(jDe),t.registerVisual(RDe),t.registerLayout(VDe)}function Oz(t,e){var r=e.rippleEffectColor||e.color;t.eachChild(function(i){i.attr({z:e.z,zlevel:e.zlevel,style:{stroke:e.brushType==="stroke"?r:null,fill:e.brushType==="fill"?r:null}})})}var YDe=function(t){ce(e,t);function e(r,i){var n=t.call(this)||this,a=new Om(r,i),s=new dt;return n.add(a),n.add(s),n.updateData(r,i),n}return e.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},e.prototype.startEffectAnimation=function(r){for(var i=r.symbolType,n=r.color,a=r.rippleNumber,s=this.childAt(1),o=0;o<a;o++){var u=vi(i,-1,-1,2,2,n);u.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var l=-o/a*r.period+r.effectOffset;u.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(l).start(),u.animateStyle(!0).when(r.period,{opacity:0}).delay(l).start(),s.add(u)}Oz(s,r)},e.prototype.updateEffectAnimation=function(r){for(var i=this._effectCfg,n=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],s=0;s<a.length;s++){var o=a[s];if(i[o]!==r[o]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}Oz(n,r)},e.prototype.highlight=function(){pl(this)},e.prototype.downplay=function(){gl(this)},e.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},e.prototype.updateData=function(r,i){var n=this,a=r.hostModel;this.childAt(0).updateData(r,i);var s=this.childAt(1),o=r.getItemModel(i),u=r.getItemVisual(i,"symbol"),l=_g(r.getItemVisual(i,"symbolSize")),c=r.getItemVisual(i,"style"),h=c&&c.fill,f=o.getModel("emphasis");s.setScale(l),s.traverse(function(v){v.setStyle("fill",h)});var d=Tf(r.getItemVisual(i,"symbolOffset"),l);d&&(s.x=d[0],s.y=d[1]);var p=r.getItemVisual(i,"symbolRotate");s.rotation=(p||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get("showEffectOn"),g.rippleScale=o.get(["rippleEffect","scale"]),g.brushType=o.get(["rippleEffect","brushType"]),g.period=o.get(["rippleEffect","period"])*1e3,g.effectOffset=i/r.count(),g.z=a.getShallow("z")||0,g.zlevel=a.getShallow("zlevel")||0,g.symbolType=u,g.color=h,g.rippleEffectColor=o.get(["rippleEffect","color"]),g.rippleNumber=o.get(["rippleEffect","number"]),g.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(v){v==="emphasis"?g.showEffectOn!=="render"&&n.startEffectAnimation(g):v==="normal"&&g.showEffectOn!=="render"&&n.stopEffectAnimation()}),this._effectCfg=g,Zr(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},e.prototype.fadeOut=function(r){r&&r()},e}(dt),qDe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){this._symbolDraw=new Rm(YDe)},e.prototype.render=function(r,i,n){var a=r.getData(),s=this._symbolDraw;s.updateData(a,{clipShape:this._getClipShape(r)}),this.group.add(s.group)},e.prototype._getClipShape=function(r){var i=r.coordinateSystem,n=i&&i.getArea&&i.getArea();return r.get("clip",!0)?n:null},e.prototype.updateTransform=function(r,i,n){var a=r.getData();this.group.dirty();var s=km("").reset(r,i,n);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},e.prototype._updateGroupTransform=function(r){var i=r.coordinateSystem;i&&i.getRoamTransform&&(this.group.transform=T_e(i.getRoamTransform()),this.group.decomposeTransform())},e.prototype.remove=function(r,i){this._symbolDraw&&this._symbolDraw.remove(!0)},e.type="effectScatter",e}(Wt),XDe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r}return e.prototype.getInitialData=function(r,i){return Au(null,this,{useEncodeDefaulter:!0})},e.prototype.brushSelector=function(r,i,n){return n.point(i.getItemLayout(r))},e.type="series.effectScatter",e.dependencies=["grid","polar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},e}(Kt);function ZDe(t){t.registerChartView(qDe),t.registerSeriesModel(XDe),t.registerLayout(km("effectScatter"))}var rte=function(t){ce(e,t);function e(r,i,n){var a=t.call(this)||this;return a.add(a.createLine(r,i,n)),a._updateEffectSymbol(r,i),a}return e.prototype.createLine=function(r,i,n){return new bF(r,i,n)},e.prototype._updateEffectSymbol=function(r,i){var n=r.getItemModel(i),a=n.getModel("effect"),s=a.get("symbolSize"),o=a.get("symbol");Te(s)||(s=[s,s]);var u=r.getItemVisual(i,"style"),l=a.get("color")||u&&u.stroke,c=this.childAt(1);this._symbolType!==o&&(this.remove(c),c=vi(o,-.5,-.5,1,1,l),c.z2=100,c.culling=!0,this.add(c)),c&&(c.setStyle("shadowColor",l),c.setStyle(a.getItemStyle(["color"])),c.scaleX=s[0],c.scaleY=s[1],c.setColor(l),this._symbolType=o,this._symbolScale=s,this._updateEffectAnimation(r,a,i))},e.prototype._updateEffectAnimation=function(r,i,n){var a=this.childAt(1);if(a){var s=r.getItemLayout(n),o=i.get("period")*1e3,u=i.get("loop"),l=i.get("roundTrip"),c=i.get("constantSpeed"),h=dn(i.get("delay"),function(d){return d/r.count()*o/3});if(a.ignore=!0,this._updateAnimationPoints(a,s),c>0&&(o=this._getLineLength(a)/c*1e3),o!==this._period||u!==this._loop||l!==this._roundTrip){a.stopAnimation();var f=void 0;ot(h)?f=h(n):f=h,a.__t>0&&(f=-o*a.__t),this._animateSymbol(a,o,f,u,l)}this._period=o,this._loop=u,this._roundTrip=l}},e.prototype._animateSymbol=function(r,i,n,a,s){if(i>0){r.__t=0;var o=this,u=r.animate("",a).when(s?i*2:i,{__t:s?2:1}).delay(n).during(function(){o._updateSymbolPosition(r)});a||u.done(function(){o.remove(r)}),u.start()}},e.prototype._getLineLength=function(r){return pc(r.__p1,r.__cp1)+pc(r.__cp1,r.__p2)},e.prototype._updateAnimationPoints=function(r,i){r.__p1=i[0],r.__p2=i[1],r.__cp1=i[2]||[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]},e.prototype.updateData=function(r,i,n){this.childAt(0).updateData(r,i,n),this._updateEffectSymbol(r,i)},e.prototype._updateSymbolPosition=function(r){var i=r.__p1,n=r.__p2,a=r.__cp1,s=r.__t<1?r.__t:2-r.__t,o=[r.x,r.y],u=o.slice(),l=on,c=v8;o[0]=l(i[0],a[0],n[0],s),o[1]=l(i[1],a[1],n[1],s);var h=r.__t<1?c(i[0],a[0],n[0],s):c(n[0],a[0],i[0],1-s),f=r.__t<1?c(i[1],a[1],n[1],s):c(n[1],a[1],i[1],1-s);r.rotation=-Math.atan2(f,h)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=pc(u,o)*1.05,s===1&&(o[0]=u[0]+(o[0]-u[0])/2,o[1]=u[1]+(o[1]-u[1])/2)):r.__lastT===1?r.scaleY=2*pc(i,o):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=o[0],r.y=o[1]},e.prototype.updateLayout=function(r,i){this.childAt(0).updateLayout(r,i);var n=r.getItemModel(i).getModel("effect");this._updateEffectAnimation(r,n,i)},e}(dt),ite=function(t){ce(e,t);function e(r,i,n){var a=t.call(this)||this;return a._createPolyline(r,i,n),a}return e.prototype._createPolyline=function(r,i,n){var a=r.getItemLayout(i),s=new ya({shape:{points:a}});this.add(s),this._updateCommonStl(r,i,n)},e.prototype.updateData=function(r,i,n){var a=r.hostModel,s=this.childAt(0),o={shape:{points:r.getItemLayout(i)}};er(s,o,a,i),this._updateCommonStl(r,i,n)},e.prototype._updateCommonStl=function(r,i,n){var a=this.childAt(0),s=r.getItemModel(i),o=n&&n.emphasisLineStyle,u=n&&n.focus,l=n&&n.blurScope,c=n&&n.emphasisDisabled;if(!n||r.hasItemOption){var h=s.getModel("emphasis");o=h.getModel("lineStyle").getLineStyle(),c=h.get("disabled"),u=h.get("focus"),l=h.get("blurScope")}a.useStyle(r.getItemVisual(i,"style")),a.style.fill=null,a.style.strokeNoScale=!0;var f=a.ensureState("emphasis");f.style=o,Zr(this,u,l,c)},e.prototype.updateLayout=function(r,i){var n=this.childAt(0);n.setShape("points",r.getItemLayout(i))},e}(dt),KDe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return e.prototype.createLine=function(r,i,n){return new ite(r,i,n)},e.prototype._updateAnimationPoints=function(r,i){this._points=i;for(var n=[0],a=0,s=1;s<i.length;s++){var o=i[s-1],u=i[s];a+=pc(o,u),n.push(a)}if(a===0){this._length=0;return}for(var s=0;s<n.length;s++)n[s]/=a;this._offsets=n,this._length=a},e.prototype._getLineLength=function(){return this._length},e.prototype._updateSymbolPosition=function(r){var i=r.__t<1?r.__t:2-r.__t,n=this._points,a=this._offsets,s=n.length;if(a){var o=this._lastFrame,u;if(i<this._lastFramePercent){var l=Math.min(o+1,s-1);for(u=l;u>=0&&!(a[u]<=i);u--);u=Math.min(u,s-2)}else{for(u=o;u<s&&!(a[u]>i);u++);u=Math.min(u-1,s-2)}var c=(i-a[u])/(a[u+1]-a[u]),h=n[u],f=n[u+1];r.x=h[0]*(1-c)+c*f[0],r.y=h[1]*(1-c)+c*f[1];var d=r.__t<1?f[0]-h[0]:h[0]-f[0],p=r.__t<1?f[1]-h[1]:h[1]-f[1];r.rotation=-Math.atan2(p,d)-Math.PI/2,this._lastFrame=u,this._lastFramePercent=i,r.ignore=!1}},e}(rte),JDe=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),QDe=function(t){ce(e,t);function e(r){var i=t.call(this,r)||this;return i._off=0,i.hoverDataIdx=-1,i}return e.prototype.reset=function(){this.notClear=!1,this._off=0},e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new JDe},e.prototype.buildPath=function(r,i){var n=i.segs,a=i.curveness,s;if(i.polyline)for(s=this._off;s<n.length;){var o=n[s++];if(o>0){r.moveTo(n[s++],n[s++]);for(var u=1;u<o;u++)r.lineTo(n[s++],n[s++])}}else for(s=this._off;s<n.length;){var l=n[s++],c=n[s++],h=n[s++],f=n[s++];if(r.moveTo(l,c),a>0){var d=(l+h)/2-(c-f)*a,p=(c+f)/2-(h-l)*a;r.quadraticCurveTo(d,p,h,f)}else r.lineTo(h,f)}this.incremental&&(this._off=s,this.notClear=!0)},e.prototype.findDataIndex=function(r,i){var n=this.shape,a=n.segs,s=n.curveness,o=this.style.lineWidth;if(n.polyline)for(var u=0,l=0;l<a.length;){var c=a[l++];if(c>0)for(var h=a[l++],f=a[l++],d=1;d<c;d++){var p=a[l++],g=a[l++];if(Wu(h,f,p,g,o,r,i))return u}u++}else for(var u=0,l=0;l<a.length;){var h=a[l++],f=a[l++],p=a[l++],g=a[l++];if(s>0){var v=(h+p)/2-(f-g)*s,m=(f+g)/2-(p-h)*s;if(TZ(h,f,v,m,p,g,o,r,i))return u}else if(Wu(h,f,p,g,o,r,i))return u;u++}return-1},e.prototype.contain=function(r,i){var n=this.transformCoordToLocal(r,i),a=this.getBoundingRect();if(r=n[0],i=n[1],a.contain(r,i)){var s=this.hoverDataIdx=this.findDataIndex(r,i);return s>=0}return this.hoverDataIdx=-1,!1},e.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var i=this.shape,n=i.segs,a=1/0,s=1/0,o=-1/0,u=-1/0,l=0;l<n.length;){var c=n[l++],h=n[l++];a=Math.min(c,a),o=Math.max(c,o),s=Math.min(h,s),u=Math.max(h,u)}r=this._rect=new Et(a,s,o,u)}return r},e}(Pt),e7e=function(){function t(){this.group=new dt}return t.prototype.updateData=function(e){this._clear();var r=this._create();r.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(r,e)},t.prototype.incrementalPrepareUpdate=function(e){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(e,r){var i=this._newAdded[0],n=r.getLayout("linesPoints"),a=i&&i.shape.segs;if(a&&a.length<2e4){var s=a.length,o=new Float32Array(s+n.length);o.set(a),o.set(n,s),i.setShape({segs:o})}else{this._newAdded=[];var u=this._create();u.incremental=!0,u.setShape({segs:n}),this._setCommon(u,r),u.__startIndex=e.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(e){this._newAdded[0]&&e(this._newAdded[0])},t.prototype._create=function(){var e=new QDe({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(e),this.group.add(e),e},t.prototype._setCommon=function(e,r,i){var n=r.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get(["lineStyle","curveness"])}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;var a=r.getVisual("style");a&&a.stroke&&e.setStyle("stroke",a.stroke),e.setStyle("fill",null);var s=pt(e);s.seriesIndex=n.seriesIndex,e.on("mousemove",function(o){s.dataIndex=null;var u=e.hoverDataIdx;u>0&&(s.dataIndex=u+e.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),nte={seriesType:"lines",plan:mg(),reset:function(t){var e=t.coordinateSystem;if(e){var r=t.get("polyline"),i=t.pipelineContext.large;return{progress:function(n,a){var s=[];if(i){var o=void 0,u=n.end-n.start;if(r){for(var l=0,c=n.start;c<n.end;c++)l+=t.getLineCoordsCount(c);o=new Float32Array(u+l*2)}else o=new Float32Array(u*4);for(var h=0,f=[],c=n.start;c<n.end;c++){var d=t.getLineCoords(c,s);r&&(o[h++]=d);for(var p=0;p<d;p++)f=e.dataToPoint(s[p],!1,f),o[h++]=f[0],o[h++]=f[1]}a.setLayout("linesPoints",o)}else for(var c=n.start;c<n.end;c++){var g=a.getItemModel(c),d=t.getLineCoords(c,s),v=[];if(r)for(var m=0;m<d;m++)v.push(e.dataToPoint(s[m]));else{v[0]=e.dataToPoint(s[0]),v[1]=e.dataToPoint(s[1]);var y=g.get(["lineStyle","curveness"]);+y&&(v[2]=[(v[0][0]+v[1][0])/2-(v[0][1]-v[1][1])*y,(v[0][1]+v[1][1])/2-(v[1][0]-v[0][0])*y])}a.setItemLayout(c,v)}}}}}},t7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=r.getData(),s=this._updateLineDraw(a,r),o=r.get("zlevel"),u=r.get(["effect","trailLength"]),l=n.getZr(),c=l.painter.getType()==="svg";c||l.painter.getLayer(o).clear(!0),this._lastZlevel!=null&&!c&&l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&u>0&&(c||l.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),s.updateData(a);var h=r.get("clip",!0)&&Nm(r.coordinateSystem,!1,r);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=o,this._finished=!0},e.prototype.incrementalPrepareRender=function(r,i,n){var a=r.getData(),s=this._updateLineDraw(a,r);s.incrementalPrepareUpdate(a),this._clearLayer(n),this._finished=!1},e.prototype.incrementalRender=function(r,i,n){this._lineDraw.incrementalUpdate(r,i.getData()),this._finished=r.end===i.getData().count()},e.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},e.prototype.updateTransform=function(r,i,n){var a=r.getData(),s=r.pipelineContext;if(!this._finished||s.large||s.progressiveRender)return{update:!0};var o=nte.reset(r,i,n);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(n)},e.prototype._updateLineDraw=function(r,i){var n=this._lineDraw,a=this._showEffect(i),s=!!i.get("polyline"),o=i.pipelineContext,u=o.large;return(!n||a!==this._hasEffet||s!==this._isPolyline||u!==this._isLargeDraw)&&(n&&n.remove(),n=this._lineDraw=u?new e7e:new CF(s?a?KDe:ite:a?rte:bF),this._hasEffet=a,this._isPolyline=s,this._isLargeDraw=u),this.group.add(n.group),n},e.prototype._showEffect=function(r){return!!r.get(["effect","show"])},e.prototype._clearLayer=function(r){var i=r.getZr(),n=i.painter.getType()==="svg";!n&&this._lastZlevel!=null&&i.painter.getLayer(this._lastZlevel).clear(!0)},e.prototype.remove=function(r,i){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(i)},e.prototype.dispose=function(r,i){this.remove(r,i)},e.type="lines",e}(Wt),r7e=typeof Uint32Array>"u"?Array:Uint32Array,i7e=typeof Float64Array>"u"?Array:Float64Array;function Rz(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=Ie(e,function(r){var i=[r[0].coord,r[1].coord],n={coords:i};return r[0].name&&(n.fromName=r[0].name),r[1].name&&(n.toName=r[1].name),Y7([n,r[0],r[1]])}))}var n7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return e.prototype.init=function(r){r.data=r.data||[],Rz(r);var i=this._processFlatCoordsArray(r.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(r.data=new Float32Array(i.count)),t.prototype.init.apply(this,arguments)},e.prototype.mergeOption=function(r){if(Rz(r),r.data){var i=this._processFlatCoordsArray(r.data);this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset,i.flatCoords&&(r.data=new Float32Array(i.count))}t.prototype.mergeOption.apply(this,arguments)},e.prototype.appendData=function(r){var i=this._processFlatCoordsArray(r.data);i.flatCoords&&(this._flatCoords?(this._flatCoords=qh(this._flatCoords,i.flatCoords),this._flatCoordsOffset=qh(this._flatCoordsOffset,i.flatCoordsOffset)):(this._flatCoords=i.flatCoords,this._flatCoordsOffset=i.flatCoordsOffset),r.data=new Float32Array(i.count)),this.getRawData().appendData(r.data)},e.prototype._getCoordsFromItemModel=function(r){var i=this.getData().getItemModel(r),n=i.option instanceof Array?i.option:i.getShallow("coords");return n},e.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},e.prototype.getLineCoords=function(r,i){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[r*2],a=this._flatCoordsOffset[r*2+1],s=0;s<a;s++)i[s]=i[s]||[],i[s][0]=this._flatCoords[n+s*2],i[s][1]=this._flatCoords[n+s*2+1];return a}else{for(var o=this._getCoordsFromItemModel(r),s=0;s<o.length;s++)i[s]=i[s]||[],i[s][0]=o[s][0],i[s][1]=o[s][1];return o.length}},e.prototype._processFlatCoordsArray=function(r){var i=0;if(this._flatCoords&&(i=this._flatCoords.length),Zt(r[0])){for(var n=r.length,a=new r7e(n),s=new i7e(n),o=0,u=0,l=0,c=0;c<n;){l++;var h=r[c++];a[u++]=o+i,a[u++]=h;for(var f=0;f<h;f++){var d=r[c++],p=r[c++];s[o++]=d,s[o++]=p}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,u),flatCoords:s,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},e.prototype.getInitialData=function(r,i){var n=new Xr(["value"],this);return n.hasItemOption=!1,n.initData(r.data,[],function(a,s,o,u){if(a instanceof Array)return NaN;n.hasItemOption=!0;var l=a.value;if(l!=null)return l instanceof Array?l[u]:l}),n},e.prototype.formatTooltip=function(r,i,n){var a=this.getData(),s=a.getItemModel(r),o=s.get("name");if(o)return o;var u=s.get("fromName"),l=s.get("toName"),c=[];return u!=null&&c.push(u),l!=null&&c.push(l),Ji("nameValue",{name:c.join(" > ")})},e.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},e.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},e.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},e.prototype.getZLevelKey=function(){var r=this.getModel("effect"),i=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&i>0?i+"":""},e.type="series.lines",e.dependencies=["grid","polar","geo","calendar"],e.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},e}(Kt);function R_(t){return t instanceof Array||(t=[t,t]),t}var a7e={seriesType:"lines",reset:function(t){var e=R_(t.get("symbol")),r=R_(t.get("symbolSize")),i=t.getData();i.setVisual("fromSymbol",e&&e[0]),i.setVisual("toSymbol",e&&e[1]),i.setVisual("fromSymbolSize",r&&r[0]),i.setVisual("toSymbolSize",r&&r[1]);function n(a,s){var o=a.getItemModel(s),u=R_(o.getShallow("symbol",!0)),l=R_(o.getShallow("symbolSize",!0));u[0]&&a.setItemVisual(s,"fromSymbol",u[0]),u[1]&&a.setItemVisual(s,"toSymbol",u[1]),l[0]&&a.setItemVisual(s,"fromSymbolSize",l[0]),l[1]&&a.setItemVisual(s,"toSymbolSize",l[1])}return{dataEach:i.hasItemOption?n:null}}};function s7e(t){t.registerChartView(t7e),t.registerSeriesModel(n7e),t.registerLayout(nte),t.registerVisual(a7e)}var o7e=256,u7e=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=Oc.createCanvas();this.canvas=e}return t.prototype.update=function(e,r,i,n,a,s){var o=this._getBrush(),u=this._getGradient(a,"inRange"),l=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,h=this.canvas,f=h.getContext("2d"),d=e.length;h.width=r,h.height=i;for(var p=0;p<d;++p){var g=e[p],v=g[0],m=g[1],y=g[2],_=n(y);f.globalAlpha=_,f.drawImage(o,v-c,m-c)}if(!h.width||!h.height)return h;for(var x=f.getImageData(0,0,h.width,h.height),b=x.data,C=0,E=b.length,A=this.minOpacity,S=this.maxOpacity,T=S-A;C<E;){var _=b[C+3]/256,D=Math.floor(_*(o7e-1))*4;if(_>0){var F=s(_)?u:l;_>0&&(_=_*T+A),b[C++]=F[D],b[C++]=F[D+1],b[C++]=F[D+2],b[C++]=F[D+3]*_*256}else C+=4}return f.putImageData(x,0,0),h},t.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=Oc.createCanvas()),r=this.pointSize+this.blurSize,i=r*2;e.width=i,e.height=i;var n=e.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-r,r,this.pointSize,0,Math.PI*2,!0),n.closePath(),n.fill(),e},t.prototype._getGradient=function(e,r){for(var i=this._gradientPixels,n=i[r]||(i[r]=new Uint8ClampedArray(256*4)),a=[0,0,0,0],s=0,o=0;o<256;o++)e[r](o/255,!0,a),n[s++]=a[0],n[s++]=a[1],n[s++]=a[2],n[s++]=a[3];return n},t}();function l7e(t,e,r){var i=t[1]-t[0];e=Ie(e,function(s){return{interval:[(s.interval[0]-t[0])/i,(s.interval[1]-t[0])/i]}});var n=e.length,a=0;return function(s){var o;for(o=a;o<n;o++){var u=e[o].interval;if(u[0]<=s&&s<=u[1]){a=o;break}}if(o===n)for(o=a-1;o>=0;o--){var u=e[o].interval;if(u[0]<=s&&s<=u[1]){a=o;break}}return o>=0&&o<n&&r[o]}}function c7e(t,e){var r=t[1]-t[0];return e=[(e[0]-t[0])/r,(e[1]-t[0])/r],function(i){return i>=e[0]&&i<=e[1]}}function Nz(t){var e=t.dimensions;return e[0]==="lng"&&e[1]==="lat"}var h7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a;i.eachComponent("visualMap",function(o){o.eachTargetSeries(function(u){u===r&&(a=o)})}),this._progressiveEls=null,this.group.removeAll();var s=r.coordinateSystem;s.type==="cartesian2d"||s.type==="calendar"?this._renderOnCartesianAndCalendar(r,n,0,r.getData().count()):Nz(s)&&this._renderOnGeo(s,r,a,n)},e.prototype.incrementalPrepareRender=function(r,i,n){this.group.removeAll()},e.prototype.incrementalRender=function(r,i,n,a){var s=i.coordinateSystem;s&&(Nz(s)?this.render(i,n,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(i,a,r.start,r.end,!0)))},e.prototype.eachRendered=function(r){$c(this._progressiveEls||this.group,r)},e.prototype._renderOnCartesianAndCalendar=function(r,i,n,a,s){var o=r.coordinateSystem,u=wf(o,"cartesian2d"),l,c,h,f;if(u){var d=o.getAxis("x"),p=o.getAxis("y");l=d.getBandWidth()+.5,c=p.getBandWidth()+.5,h=d.scale.getExtent(),f=p.scale.getExtent()}for(var g=this.group,v=r.getData(),m=r.getModel(["emphasis","itemStyle"]).getItemStyle(),y=r.getModel(["blur","itemStyle"]).getItemStyle(),_=r.getModel(["select","itemStyle"]).getItemStyle(),x=r.get(["itemStyle","borderRadius"]),b=Ki(r),C=r.getModel("emphasis"),E=C.get("focus"),A=C.get("blurScope"),S=C.get("disabled"),T=u?[v.mapDimension("x"),v.mapDimension("y"),v.mapDimension("value")]:[v.mapDimension("time"),v.mapDimension("value")],D=n;D<a;D++){var F=void 0,B=v.getItemVisual(D,"style");if(u){var O=v.get(T[0],D),M=v.get(T[1],D);if(isNaN(v.get(T[2],D))||isNaN(O)||isNaN(M)||O<h[0]||O>h[1]||M<f[0]||M>f[1])continue;var R=o.dataToPoint([O,M]);F=new Gt({shape:{x:R[0]-l/2,y:R[1]-c/2,width:l,height:c},style:B})}else{if(isNaN(v.get(T[1],D)))continue;F=new Gt({z2:1,shape:o.dataToRect([v.get(T[0],D)]).contentShape,style:B})}if(v.hasItemOption){var z=v.getItemModel(D),k=z.getModel("emphasis");m=k.getModel("itemStyle").getItemStyle(),y=z.getModel(["blur","itemStyle"]).getItemStyle(),_=z.getModel(["select","itemStyle"]).getItemStyle(),x=z.get(["itemStyle","borderRadius"]),E=k.get("focus"),A=k.get("blurScope"),S=k.get("disabled"),b=Ki(z)}F.shape.r=x;var U=r.getRawValue(D),V="-";U&&U[2]!=null&&(V=U[2]+""),In(F,b,{labelFetcher:r,labelDataIndex:D,defaultOpacity:B.opacity,defaultText:V}),F.ensureState("emphasis").style=m,F.ensureState("blur").style=y,F.ensureState("select").style=_,Zr(F,E,A,S),F.incremental=s,s&&(F.states.emphasis.hoverLayer=!0),g.add(F),v.setItemGraphicEl(D,F),this._progressiveEls&&this._progressiveEls.push(F)}},e.prototype._renderOnGeo=function(r,i,n,a){var s=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,u=i.getData(),l=this._hmLayer||this._hmLayer||new u7e;l.blurSize=i.get("blurSize"),l.pointSize=i.get("pointSize"),l.minOpacity=i.get("minOpacity"),l.maxOpacity=i.get("maxOpacity");var c=r.getViewRect().clone(),h=r.getRoamTransform();c.applyTransform(h);var f=Math.max(c.x,0),d=Math.max(c.y,0),p=Math.min(c.width+c.x,a.getWidth()),g=Math.min(c.height+c.y,a.getHeight()),v=p-f,m=g-d,y=[u.mapDimension("lng"),u.mapDimension("lat"),u.mapDimension("value")],_=u.mapArray(y,function(E,A,S){var T=r.dataToPoint([E,A]);return T[0]-=f,T[1]-=d,T.push(S),T}),x=n.getExtent(),b=n.type==="visualMap.continuous"?c7e(x,n.option.range):l7e(x,n.getPieceList(),n.option.selected);l.update(_,v,m,s.color.getNormalizer(),{inRange:s.color.getColorMapper(),outOfRange:o.color.getColorMapper()},b);var C=new en({style:{width:v,height:m,x:f,y:d,image:l.canvas},silent:!0});this.group.add(C)},e.type="heatmap",e}(Wt),f7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getInitialData=function(r,i){return Au(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var r=vg.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(Kt);function d7e(t){t.registerChartView(h7e),t.registerSeriesModel(f7e)}var p7e=["itemStyle","borderWidth"],kz=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],A6=new Dl,g7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=this.group,s=r.getData(),o=this._data,u=r.coordinateSystem,l=u.getBaseAxis(),c=l.isHorizontal(),h=u.master.getRect(),f={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:r,coordSys:u,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:c,valueDim:kz[+c],categoryDim:kz[1-+c]};s.diff(o).add(function(p){if(s.hasValue(p)){var g=Hz(s,p),v=zz(s,p,g,f),m=Gz(s,f,v);s.setItemGraphicEl(p,m),a.add(m),jz(m,f,v)}}).update(function(p,g){var v=o.getItemGraphicEl(g);if(!s.hasValue(p)){a.remove(v);return}var m=Hz(s,p),y=zz(s,p,m,f),_=cte(s,y);v&&_!==v.__pictorialShapeStr&&(a.remove(v),s.setItemGraphicEl(p,null),v=null),v?C7e(v,f,y):v=Gz(s,f,y,!0),s.setItemGraphicEl(p,v),v.__pictorialSymbolMeta=y,a.add(v),jz(v,f,y)}).remove(function(p){var g=o.getItemGraphicEl(p);g&&Uz(o,p,g.__pictorialSymbolMeta.animationModel,g)}).execute();var d=r.get("clip",!0)?Nm(r.coordinateSystem,!1,r):null;return d?a.setClipPath(d):a.removeClipPath(),this._data=s,this.group},e.prototype.remove=function(r,i){var n=this.group,a=this._data;r.get("animation")?a&&a.eachItemGraphicEl(function(s){Uz(a,pt(s).dataIndex,r,s)}):n.removeAll()},e.type="pictorialBar",e}(Wt);function zz(t,e,r,i){var n=t.getItemLayout(e),a=r.get("symbolRepeat"),s=r.get("symbolClip"),o=r.get("symbolPosition")||"start",u=r.get("symbolRotate"),l=(u||0)*Math.PI/180||0,c=r.get("symbolPatternSize")||2,h=r.isAnimationEnabled(),f={dataIndex:e,layout:n,itemModel:r,symbolType:t.getItemVisual(e,"symbol")||"circle",style:t.getItemVisual(e,"style"),symbolClip:s,symbolRepeat:a,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:c,rotation:l,animationModel:h?r:null,hoverScale:h&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};v7e(r,a,n,i,f),m7e(t,e,n,a,s,f.boundingLength,f.pxSign,c,i,f),y7e(r,f.symbolScale,l,i,f);var d=f.symbolSize,p=Tf(r.get("symbolOffset"),d);return _7e(r,d,n,a,s,p,o,f.valueLineWidth,f.boundingLength,f.repeatCutLength,i,f),f}function v7e(t,e,r,i,n){var a=i.valueDim,s=t.get("symbolBoundingData"),o=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),u=o.toGlobalCoord(o.dataToCoord(0)),l=1-+(r[a.wh]<=0),c;if(Te(s)){var h=[w6(o,s[0])-u,w6(o,s[1])-u];h[1]<h[0]&&h.reverse(),c=h[l]}else s!=null?c=w6(o,s)-u:e?c=i.coordSysExtent[a.index][l]-u:c=r[a.wh];n.boundingLength=c,e&&(n.repeatCutLength=r[a.wh]);var f=a.xy==="x",d=o.inverse;n.pxSign=f&&!d||!f&&d?c>=0?1:-1:c>0?1:-1}function w6(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function m7e(t,e,r,i,n,a,s,o,u,l){var c=u.valueDim,h=u.categoryDim,f=Math.abs(r[h.wh]),d=t.getItemVisual(e,"symbolSize"),p;Te(d)?p=d.slice():d==null?p=["100%","100%"]:p=[d,d],p[h.index]=je(p[h.index],f),p[c.index]=je(p[c.index],i?f:Math.abs(a)),l.symbolSize=p;var g=l.symbolScale=[p[0]/o,p[1]/o];g[c.index]*=(u.isHorizontal?-1:1)*s}function y7e(t,e,r,i,n){var a=t.get(p7e)||0;a&&(A6.attr({scaleX:e[0],scaleY:e[1],rotation:r}),A6.updateTransform(),a/=A6.getLineScale(),a*=e[i.valueDim.index]),n.valueLineWidth=a||0}function _7e(t,e,r,i,n,a,s,o,u,l,c,h){var f=c.categoryDim,d=c.valueDim,p=h.pxSign,g=Math.max(e[d.index]+o,0),v=g;if(i){var m=Math.abs(u),y=dn(t.get("symbolMargin"),"15%")+"",_=!1;y.lastIndexOf("!")===y.length-1&&(_=!0,y=y.slice(0,y.length-1));var x=je(y,e[d.index]),b=Math.max(g+x*2,0),C=_?0:x*2,E=hZ(i),A=E?i:Vz((m+C)/b),S=m-A*g;x=S/2/(_?A:Math.max(A-1,1)),b=g+x*2,C=_?0:x*2,!E&&i!=="fixed"&&(A=l?Vz((Math.abs(l)+C)/b):0),v=A*b-C,h.repeatTimes=A,h.symbolMargin=x}var T=p*(v/2),D=h.pathPosition=[];D[f.index]=r[f.wh]/2,D[d.index]=s==="start"?T:s==="end"?u-T:u/2,a&&(D[0]+=a[0],D[1]+=a[1]);var F=h.bundlePosition=[];F[f.index]=r[f.xy],F[d.index]=r[d.xy];var B=h.barRectShape=Ce({},r);B[d.wh]=p*Math.max(Math.abs(r[d.wh]),Math.abs(D[d.index]+T)),B[f.wh]=r[f.wh];var O=h.clipShape={};O[f.xy]=-r[f.xy],O[f.wh]=c.ecSize[f.wh],O[d.xy]=0,O[d.wh]=r[d.wh]}function ate(t){var e=t.symbolPatternSize,r=vi(t.symbolType,-e/2,-e/2,e,e);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function ste(t,e,r,i){var n=t.__pictorialBundle,a=r.symbolSize,s=r.valueLineWidth,o=r.pathPosition,u=e.valueDim,l=r.repeatTimes||0,c=0,h=a[e.valueDim.index]+s+r.symbolMargin*2;for(MF(t,function(g){g.__pictorialAnimationIndex=c,g.__pictorialRepeatTimes=l,c<l?Qd(g,null,p(c),r,i):Qd(g,null,{scaleX:0,scaleY:0},r,i,function(){n.remove(g)}),c++});c<l;c++){var f=ate(r);f.__pictorialAnimationIndex=c,f.__pictorialRepeatTimes=l,n.add(f);var d=p(c);Qd(f,{x:d.x,y:d.y,scaleX:0,scaleY:0},{scaleX:d.scaleX,scaleY:d.scaleY,rotation:d.rotation},r,i)}function p(g){var v=o.slice(),m=r.pxSign,y=g;return(r.symbolRepeatDirection==="start"?m>0:m<0)&&(y=l-1-g),v[u.index]=h*(y-l/2+.5)+o[u.index],{x:v[0],y:v[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function ote(t,e,r,i){var n=t.__pictorialBundle,a=t.__pictorialMainPath;a?Qd(a,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,i):(a=t.__pictorialMainPath=ate(r),n.add(a),Qd(a,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,i))}function ute(t,e,r){var i=Ce({},e.barRectShape),n=t.__pictorialBarRect;n?Qd(n,null,{shape:i},e,r):(n=t.__pictorialBarRect=new Gt({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),n.disableMorphing=!0,t.add(n))}function lte(t,e,r,i){if(r.symbolClip){var n=t.__pictorialClipPath,a=Ce({},r.clipShape),s=e.valueDim,o=r.animationModel,u=r.dataIndex;if(n)er(n,{shape:a},o,u);else{a[s.wh]=0,n=new Gt({shape:a}),t.__pictorialBundle.setClipPath(n),t.__pictorialClipPath=n;var l={};l[s.wh]=r.clipShape[s.wh],Sf[i?"updateProps":"initProps"](n,{shape:l},o,u)}}}function Hz(t,e){var r=t.getItemModel(e);return r.getAnimationDelayParams=x7e,r.isAnimationEnabled=b7e,r}function x7e(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function b7e(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Gz(t,e,r,i){var n=new dt,a=new dt;return n.add(a),n.__pictorialBundle=a,a.x=r.bundlePosition[0],a.y=r.bundlePosition[1],r.symbolRepeat?ste(n,e,r):ote(n,e,r),ute(n,r,i),lte(n,e,r,i),n.__pictorialShapeStr=cte(t,r),n.__pictorialSymbolMeta=r,n}function C7e(t,e,r){var i=r.animationModel,n=r.dataIndex,a=t.__pictorialBundle;er(a,{x:r.bundlePosition[0],y:r.bundlePosition[1]},i,n),r.symbolRepeat?ste(t,e,r,!0):ote(t,e,r,!0),ute(t,r,!0),lte(t,e,r,!0)}function Uz(t,e,r,i){var n=i.__pictorialBarRect;n&&n.removeTextContent();var a=[];MF(i,function(s){a.push(s)}),i.__pictorialMainPath&&a.push(i.__pictorialMainPath),i.__pictorialClipPath&&(r=null),G(a,function(s){Nc(s,{scaleX:0,scaleY:0},r,e,function(){i.parent&&i.parent.remove(i)})}),t.setItemGraphicEl(e,null)}function cte(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function MF(t,e,r){G(t.__pictorialBundle.children(),function(i){i!==t.__pictorialBarRect&&e.call(r,i)})}function Qd(t,e,r,i,n,a){e&&t.attr(e),i.symbolClip&&!n?r&&t.attr(r):r&&Sf[n?"updateProps":"initProps"](t,r,i.animationModel,i.dataIndex,a)}function jz(t,e,r){var i=r.dataIndex,n=r.itemModel,a=n.getModel("emphasis"),s=a.getModel("itemStyle").getItemStyle(),o=n.getModel(["blur","itemStyle"]).getItemStyle(),u=n.getModel(["select","itemStyle"]).getItemStyle(),l=n.getShallow("cursor"),c=a.get("focus"),h=a.get("blurScope"),f=a.get("scale");MF(t,function(g){if(g instanceof en){var v=g.style;g.useStyle(Ce({image:v.image,x:v.x,y:v.y,width:v.width,height:v.height},r.style))}else g.useStyle(r.style);var m=g.ensureState("emphasis");m.style=s,f&&(m.scaleX=g.scaleX*1.1,m.scaleY=g.scaleY*1.1),g.ensureState("blur").style=o,g.ensureState("select").style=u,l&&(g.cursor=l),g.z2=r.z2});var d=e.valueDim.posDesc[+(r.boundingLength>0)],p=t.__pictorialBarRect;p.ignoreClip=!0,In(p,Ki(n),{labelFetcher:e.seriesModel,labelDataIndex:i,defaultText:Dp(e.seriesModel.getData(),i),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:d}),Zr(t,c,h,a.get("disabled"))}function Vz(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}var E7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return e.prototype.getInitialData=function(r){return r.stack=null,t.prototype.getInitialData.apply(this,arguments)},e.type="series.pictorialBar",e.dependencies=["grid"],e.defaultOption=Wc(U2.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),e}(U2);function S7e(t){t.registerChartView(g7e),t.registerSeriesModel(E7e),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,mt(VJ,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,$J("pictorialBar"))}var T7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._layers=[],r}return e.prototype.render=function(r,i,n){var a=r.getData(),s=this,o=this.group,u=r.getLayerSeries(),l=a.getLayout("layoutInfo"),c=l.rect,h=l.boundaryGap;o.x=0,o.y=c.y+h[0];function f(v){return v.name}var d=new vl(this._layersSeries||[],u,f,f),p=[];d.add(Je(g,this,"add")).update(Je(g,this,"update")).remove(Je(g,this,"remove")).execute();function g(v,m,y){var _=s._layers;if(v==="remove"){o.remove(_[m]);return}for(var x=[],b=[],C,E=u[m].indices,A=0;A<E.length;A++){var S=a.getItemLayout(E[A]),T=S.x,D=S.y0,F=S.y;x.push(T,D),b.push(T,D+F),C=a.getItemVisual(E[A],"style")}var B,O=a.getItemLayout(E[0]),M=r.getModel("label"),R=M.get("margin"),z=r.getModel("emphasis");if(v==="add"){var k=p[m]=new dt;B=new OQ({shape:{points:x,stackedOnPoints:b,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),k.add(B),o.add(k),r.isAnimationEnabled()&&B.setClipPath(A7e(B.getBoundingRect(),r,function(){B.removeClipPath()}))}else{var k=_[y];B=k.childAt(0),o.add(k),p[m]=k,er(B,{shape:{points:x,stackedOnPoints:b}},r),bo(B)}In(B,Ki(r),{labelDataIndex:E[A-1],defaultText:a.getName(E[A-1]),inheritColor:C.fill},{normal:{verticalAlign:"middle"}}),B.setTextConfig({position:null,local:!0});var U=B.getTextContent();U&&(U.x=O.x-R,U.y=O.y0+O.y/2),B.useStyle(C),a.setItemGraphicEl(m,B),Fn(B,r),Zr(B,z.get("focus"),z.get("blurScope"),z.get("disabled"))}this._layersSeries=u,this._layers=p},e.type="themeRiver",e}(Wt);function A7e(t,e,r){var i=new Gt({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return Nr(i,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},e,r),i}var D6=2,w7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new Hm(Je(this.getData,this),Je(this.getRawData,this))},e.prototype.fixData=function(r){var i=r.length,n={},a=B8(r,function(f){return n.hasOwnProperty(f[0]+"")||(n[f[0]+""]=-1),f[2]}),s=[];a.buckets.each(function(f,d){s.push({name:d,dataList:f})});for(var o=s.length,u=0;u<o;++u){for(var l=s[u].name,c=0;c<s[u].dataList.length;++c){var h=s[u].dataList[c][0]+"";n[h]=u}for(var h in n)n.hasOwnProperty(h)&&n[h]!==u&&(n[h]=u,r[i]=[h,0,l],i++)}return r},e.prototype.getInitialData=function(r,i){for(var n=this.getReferringComponents("singleAxis",wi).models[0],a=n.get("type"),s=sr(r.data,function(p){return p[2]!==void 0}),o=this.fixData(s||[]),u=[],l=this.nameMap=nt(),c=0,h=0;h<o.length;++h)u.push(o[h][D6]),l.get(o[h][D6])||(l.set(o[h][D6],c),c++);var f=xg(o,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:R3(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,d=new Xr(f,this);return d.initData(o),d},e.prototype.getLayerSeries=function(){for(var r=this.getData(),i=r.count(),n=[],a=0;a<i;++a)n[a]=a;var s=r.mapDimension("single"),o=B8(n,function(l){return r.get("name",l)}),u=[];return o.buckets.each(function(l,c){l.sort(function(h,f){return r.get(s,h)-r.get(s,f)}),u.push({name:c,indices:l})}),u},e.prototype.getAxisTooltipData=function(r,i,n){Te(r)||(r=r?[r]:[]);for(var a=this.getData(),s=this.getLayerSeries(),o=[],u=s.length,l,c=0;c<u;++c){for(var h=Number.MAX_VALUE,f=-1,d=s[c].indices.length,p=0;p<d;++p){var g=a.get(r[0],s[c].indices[p]),v=Math.abs(g-i);v<=h&&(l=g,h=v,f=s[c].indices[p])}o.push(f)}return{dataIndices:o,nestestValue:l}},e.prototype.formatTooltip=function(r,i,n){var a=this.getData(),s=a.getName(r),o=a.get(a.mapDimension("value"),r);return Ji("nameValue",{name:s,value:o})},e.type="series.themeRiver",e.dependencies=["singleAxis"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},e}(Kt);function D7e(t,e){t.eachSeriesByType("themeRiver",function(r){var i=r.getData(),n=r.coordinateSystem,a={},s=n.getRect();a.rect=s;var o=r.get("boundaryGap"),u=n.getAxis();if(a.boundaryGap=o,u.orient==="horizontal"){o[0]=je(o[0],s.height),o[1]=je(o[1],s.height);var l=s.height-o[0]-o[1];$z(i,r,l)}else{o[0]=je(o[0],s.width),o[1]=je(o[1],s.width);var c=s.width-o[0]-o[1];$z(i,r,c)}i.setLayout("layoutInfo",a)})}function $z(t,e,r){if(t.count())for(var i=e.coordinateSystem,n=e.getLayerSeries(),a=t.mapDimension("single"),s=t.mapDimension("value"),o=Ie(n,function(v){return Ie(v.indices,function(m){var y=i.dataToPoint(t.get(a,m));return y[1]=t.get(s,m),y})}),u=F7e(o),l=u.y0,c=r/u.max,h=n.length,f=n[0].indices.length,d,p=0;p<f;++p){d=l[p]*c,t.setItemLayout(n[0].indices[p],{layerIndex:0,x:o[0][p][0],y0:d,y:o[0][p][1]*c});for(var g=1;g<h;++g)d+=o[g-1][p][1]*c,t.setItemLayout(n[g].indices[p],{layerIndex:g,x:o[g][p][0],y0:d,y:o[g][p][1]*c})}}function F7e(t){for(var e=t.length,r=t[0].length,i=[],n=[],a=0,s=0;s<r;++s){for(var o=0,u=0;u<e;++u)o+=t[u][s][1];o>a&&(a=o),i.push(o)}for(var l=0;l<r;++l)n[l]=(a-i[l])/2;a=0;for(var c=0;c<r;++c){var h=i[c]+n[c];h>a&&(a=h)}return{y0:n,max:a}}function I7e(t){t.registerChartView(T7e),t.registerSeriesModel(w7e),t.registerLayout(D7e),t.registerProcessor(zm("themeRiver"))}var B7e=2,M7e=4,Wz=function(t){ce(e,t);function e(r,i,n,a){var s=t.call(this)||this;s.z2=B7e,s.textConfig={inside:!0},pt(s).seriesIndex=i.seriesIndex;var o=new zt({z2:M7e,silent:r.getModel().get(["label","silent"])});return s.setTextContent(o),s.updateData(!0,r,i,n,a),s}return e.prototype.updateData=function(r,i,n,a,s){this.node=i,i.piece=this,n=n||this._seriesModel,a=a||this._ecModel;var o=this;pt(o).dataIndex=i.dataIndex;var u=i.getModel(),l=u.getModel("emphasis"),c=i.getLayout(),h=Ce({},c);h.label=null;var f=i.getVisual("style");f.lineJoin="bevel";var d=i.getVisual("decal");d&&(f.decal=wp(d,s));var p=mh(u.getModel("itemStyle"),h,!0);Ce(h,p),G(fa,function(y){var _=o.ensureState(y),x=u.getModel([y,"itemStyle"]);_.style=x.getItemStyle();var b=mh(x,h);b&&(_.shape=b)}),r?(o.setShape(h),o.shape.r=c.r0,Nr(o,{shape:{r:c.r}},n,i.dataIndex)):(er(o,{shape:h},n),bo(o)),o.useStyle(f),this._updateLabel(n);var g=u.getShallow("cursor");g&&o.attr("cursor",g),this._seriesModel=n||this._seriesModel,this._ecModel=a||this._ecModel;var v=l.get("focus"),m=v==="relative"?qh(i.getAncestorsIndices(),i.getDescendantIndices()):v==="ancestor"?i.getAncestorsIndices():v==="descendant"?i.getDescendantIndices():v;Zr(this,m,l.get("blurScope"),l.get("disabled"))},e.prototype._updateLabel=function(r){var i=this,n=this.node.getModel(),a=n.getModel("label"),s=this.node.getLayout(),o=s.endAngle-s.startAngle,u=(s.startAngle+s.endAngle)/2,l=Math.cos(u),c=Math.sin(u),h=this,f=h.getTextContent(),d=this.node.dataIndex,p=a.get("minAngle")/180*Math.PI,g=a.get("show")&&!(p!=null&&Math.abs(o)<p);f.ignore=!g,G(I2,function(m){var y=m==="normal"?n.getModel("label"):n.getModel([m,"label"]),_=m==="normal",x=_?f:f.ensureState(m),b=r.getFormattedLabel(d,m);_&&(b=b||i.node.name),x.style=pr(y,{},null,m!=="normal",!0),b&&(x.style.text=b);var C=y.get("show");C!=null&&!_&&(x.ignore=!C);var E=v(y,"position"),A=_?h:h.states[m],S=A.style.fill;A.textConfig={outsideFill:y.get("color")==="inherit"?S:null,inside:E!=="outside"};var T,D=v(y,"distance")||0,F=v(y,"align"),B=v(y,"rotate"),O=Math.PI*.5,M=Math.PI*1.5,R=Qa(B==="tangential"?Math.PI/2-u:u),z=R>O&&!D2(R-O)&&R<M;E==="outside"?(T=s.r+D,F=z?"right":"left"):!F||F==="center"?(o===2*Math.PI&&s.r0===0?T=0:T=(s.r+s.r0)/2,F="center"):F==="left"?(T=s.r0+D,F=z?"right":"left"):F==="right"&&(T=s.r-D,F=z?"left":"right"),x.style.align=F,x.style.verticalAlign=v(y,"verticalAlign")||"middle",x.x=T*l+s.cx,x.y=T*c+s.cy;var k=0;B==="radial"?k=Qa(-u)+(z?Math.PI:0):B==="tangential"?k=Qa(Math.PI/2-u)+(z?Math.PI:0):Zt(B)&&(k=B*Math.PI/180),x.rotation=Qa(k)});function v(m,y){var _=m.get(y);return _??a.get(y)}f.dirtyStyle()},e}(da),Mw="sunburstRootToNode",Yz="sunburstHighlight",P7e="sunburstUnhighlight";function L7e(t){t.registerAction({type:Mw,update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"sunburst",query:e},i);function i(n,a){var s=V2(e,[Mw],n);if(s){var o=n.getViewRoot();o&&(e.direction=vF(o,s.node)?"rollUp":"drillDown"),n.resetViewRoot(s.node)}}}),t.registerAction({type:Yz,update:"none"},function(e,r,i){e=Ce({},e),r.eachComponent({mainType:"series",subType:"sunburst",query:e},n);function n(a){var s=V2(e,[Yz],a);s&&(e.dataIndex=s.node.dataIndex)}i.dispatchAction(Ce(e,{type:"highlight"}))}),t.registerAction({type:P7e,update:"updateView"},function(e,r,i){e=Ce({},e),i.dispatchAction(Ce(e,{type:"downplay"}))})}var O7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n,a){var s=this;this.seriesModel=r,this.api=n,this.ecModel=i;var o=r.getData(),u=o.tree.root,l=r.getViewRoot(),c=this.group,h=r.get("renderLabelForZeroData"),f=[];l.eachNode(function(y){f.push(y)});var d=this._oldChildren||[];p(f,d),m(u,l),this._initEvents(),this._oldChildren=f;function p(y,_){if(y.length===0&&_.length===0)return;new vl(_,y,x,x).add(b).update(b).remove(mt(b,null)).execute();function x(C){return C.getId()}function b(C,E){var A=C==null?null:y[C],S=E==null?null:_[E];g(A,S)}}function g(y,_){if(!h&&y&&!y.getValue()&&(y=null),y!==u&&_!==u){if(_&&_.piece)y?(_.piece.updateData(!1,y,r,i,n),o.setItemGraphicEl(y.dataIndex,_.piece)):v(_);else if(y){var x=new Wz(y,r,i,n);c.add(x),o.setItemGraphicEl(y.dataIndex,x)}}}function v(y){y&&y.piece&&(c.remove(y.piece),y.piece=null)}function m(y,_){_.depth>0?(s.virtualPiece?s.virtualPiece.updateData(!1,y,r,i,n):(s.virtualPiece=new Wz(y,r,i,n),c.add(s.virtualPiece)),_.piece.off("click"),s.virtualPiece.on("click",function(x){s._rootToNode(_.parentNode)})):s.virtualPiece&&(c.remove(s.virtualPiece),s.virtualPiece=null)}},e.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(i){var n=!1,a=r.seriesModel.getViewRoot();a.eachNode(function(s){if(!n&&s.piece&&s.piece===i.target){var o=s.getModel().get("nodeClick");if(o==="rootToNode")r._rootToNode(s);else if(o==="link"){var u=s.getModel(),l=u.get("link");if(l){var c=u.get("target",!0)||"_blank";D3(l,c)}}n=!0}})})},e.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:Mw,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},e.prototype.containPoint=function(r,i){var n=i.getData(),a=n.getItemLayout(0);if(a){var s=r[0]-a.cx,o=r[1]-a.cy,u=Math.sqrt(s*s+o*o);return u<=a.r&&u>=a.r0}},e.type="sunburst",e}(Wt),R7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.ignoreStyleOnData=!0,r}return e.prototype.getInitialData=function(r,i){var n={name:r.name,children:r.data};hte(n);var a=this._levelModels=Ie(r.levels||[],function(u){return new Xt(u,this,i)},this),s=gF.createTree(n,this,o);function o(u){u.wrapMethod("getItemModel",function(l,c){var h=s.getNodeByDataIndex(c),f=a[h.depth];return f&&(l.parentModel=f),l})}return s.data},e.prototype.optionUpdated=function(){this.resetViewRoot()},e.prototype.getDataParams=function(r){var i=t.prototype.getDataParams.apply(this,arguments),n=this.getData().tree.getNodeByDataIndex(r);return i.treePathInfo=Zb(n,this),i},e.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},e.prototype.getViewRoot=function(){return this._viewRoot},e.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var i=this.getRawData().tree.root;(!r||r!==i&&!i.contains(r))&&(this._viewRoot=i)},e.prototype.enableAriaDecal=function(){gee(this)},e.type="series.sunburst",e.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},e}(Kt);function hte(t){var e=0;G(t.children,function(i){hte(i);var n=i.value;Te(n)&&(n=n[0]),e+=n});var r=t.value;Te(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=e),r<0&&(r=0),Te(t.value)?t.value[0]=r:t.value=r}var qz=Math.PI/180;function N7e(t,e,r){e.eachSeriesByType(t,function(i){var n=i.get("center"),a=i.get("radius");Te(a)||(a=[0,a]),Te(n)||(n=[n,n]);var s=r.getWidth(),o=r.getHeight(),u=Math.min(s,o),l=je(n[0],s),c=je(n[1],o),h=je(a[0],u/2),f=je(a[1],u/2),d=-i.get("startAngle")*qz,p=i.get("minAngle")*qz,g=i.getData().tree.root,v=i.getViewRoot(),m=v.depth,y=i.get("sort");y!=null&&fte(v,y);var _=0;G(v.children,function(R){!isNaN(R.getValue())&&_++});var x=v.getValue(),b=Math.PI/(x||_)*2,C=v.depth>0,E=v.height-(C?-1:1),A=(f-h)/(E||1),S=i.get("clockwise"),T=i.get("stillShowZeroSum"),D=S?1:-1,F=function(R,z){if(R){var k=z;if(R!==g){var U=R.getValue(),V=x===0&&T?b:U*b;V<p&&(V=p),k=z+D*V;var j=R.depth-m-(C?-1:1),Y=h+A*j,te=h+A*(j+1),re=i.getLevelModel(R);if(re){var de=re.get("r0",!0),Oe=re.get("r",!0),he=re.get("radius",!0);he!=null&&(de=he[0],Oe=he[1]),de!=null&&(Y=je(de,u/2)),Oe!=null&&(te=je(Oe,u/2))}R.setLayout({angle:V,startAngle:z,endAngle:k,clockwise:S,cx:l,cy:c,r0:Y,r:te})}if(R.children&&R.children.length){var le=0;G(R.children,function(pe){le+=F(pe,z+le)})}return k-z}};if(C){var B=h,O=h+A,M=Math.PI*2;g.setLayout({angle:M,startAngle:d,endAngle:d+M,clockwise:S,cx:l,cy:c,r0:B,r:O})}F(v,d)})}function fte(t,e){var r=t.children||[];t.children=k7e(r,e),r.length&&G(t.children,function(i){fte(i,e)})}function k7e(t,e){if(ot(e)){var r=Ie(t,function(n,a){var s=n.getValue();return{params:{depth:n.depth,height:n.height,dataIndex:n.dataIndex,getValue:function(){return s}},index:a}});return r.sort(function(n,a){return e(n.params,a.params)}),Ie(r,function(n){return t[n.index]})}else{var i=e==="asc";return t.sort(function(n,a){var s=(n.getValue()-a.getValue())*(i?1:-1);return s===0?(n.dataIndex-a.dataIndex)*(i?-1:1):s})}}function z7e(t){var e={};function r(i,n,a){for(var s=i;s&&s.depth>1;)s=s.parentNode;var o=n.getColorFromPalette(s.name||s.dataIndex+"",e);return i.depth>1&&Xe(o)&&(o=Ep(o,(i.depth-1)/(a-1)*.5)),o}t.eachSeriesByType("sunburst",function(i){var n=i.getData(),a=n.tree;a.eachNode(function(s){var o=s.getModel(),u=o.getModel("itemStyle").getItemStyle();u.fill||(u.fill=r(s,i,a.root.height));var l=n.ensureUniqueItemVisual(s.dataIndex,"style");Ce(l,u)})})}function H7e(t){t.registerChartView(O7e),t.registerSeriesModel(R7e),t.registerLayout(mt(N7e,"sunburst")),t.registerProcessor(mt(zm,"sunburst")),t.registerVisual(z7e),L7e(t)}var Xz={color:"fill",borderColor:"stroke"},G7e={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},nl=Yt(),U7e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},e.prototype.getInitialData=function(r,i){return Au(null,this)},e.prototype.getDataParams=function(r,i,n){var a=t.prototype.getDataParams.call(this,r,i);return n&&(a.info=nl(n).info),a},e.type="series.custom",e.dependencies=["grid","polar","geo","singleAxis","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},e}(Kt);function j7e(t,e){return e=e||[0,0],Ie(["x","y"],function(r,i){var n=this.getAxis(r),a=e[i],s=t[i]/2;return n.type==="category"?n.getBandWidth():Math.abs(n.dataToCoord(a-s)-n.dataToCoord(a+s))},this)}function V7e(t){var e=t.master.getRect();return{coordSys:{type:"cartesian2d",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(r){return t.dataToPoint(r)},size:Je(j7e,t)}}}function $7e(t,e){return e=e||[0,0],Ie([0,1],function(r){var i=e[r],n=t[r]/2,a=[],s=[];return a[r]=i-n,s[r]=i+n,a[1-r]=s[1-r]=e[1-r],Math.abs(this.dataToPoint(a)[r]-this.dataToPoint(s)[r])},this)}function W7e(t){var e=t.getBoundingRect();return{coordSys:{type:"geo",x:e.x,y:e.y,width:e.width,height:e.height,zoom:t.getZoom()},api:{coord:function(r){return t.dataToPoint(r)},size:Je($7e,t)}}}function Y7e(t,e){var r=this.getAxis(),i=e instanceof Array?e[0]:e,n=(t instanceof Array?t[0]:t)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(i-n)-r.dataToCoord(i+n))}function q7e(t){var e=t.getRect();return{coordSys:{type:"singleAxis",x:e.x,y:e.y,width:e.width,height:e.height},api:{coord:function(r){return t.dataToPoint(r)},size:Je(Y7e,t)}}}function X7e(t,e){return e=e||[0,0],Ie(["Radius","Angle"],function(r,i){var n="get"+r+"Axis",a=this[n](),s=e[i],o=t[i]/2,u=a.type==="category"?a.getBandWidth():Math.abs(a.dataToCoord(s-o)-a.dataToCoord(s+o));return r==="Angle"&&(u=u*Math.PI/180),u},this)}function Z7e(t){var e=t.getRadiusAxis(),r=t.getAngleAxis(),i=e.getExtent();return i[0]>i[1]&&i.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:i[1],r0:i[0]},api:{coord:function(n){var a=e.dataToRadius(n[0]),s=r.dataToAngle(n[1]),o=t.coordToPoint([a,s]);return o.push(a,s*Math.PI/180),o},size:Je(X7e,t)}}}function K7e(t){var e=t.getRect(),r=t.getRangeInfo();return{coordSys:{type:"calendar",x:e.x,y:e.y,width:e.width,height:e.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(i,n){return t.dataToPoint(i,n)}}}}function dte(t,e,r,i){return t&&(t.legacy||t.legacy!==!1&&!r&&!i&&e!=="tspan"&&(e==="text"||tt(t,"text")))}function pte(t,e,r){var i=t,n,a,s;if(e==="text")s=i;else{s={},tt(i,"text")&&(s.text=i.text),tt(i,"rich")&&(s.rich=i.rich),tt(i,"textFill")&&(s.fill=i.textFill),tt(i,"textStroke")&&(s.stroke=i.textStroke),tt(i,"fontFamily")&&(s.fontFamily=i.fontFamily),tt(i,"fontSize")&&(s.fontSize=i.fontSize),tt(i,"fontStyle")&&(s.fontStyle=i.fontStyle),tt(i,"fontWeight")&&(s.fontWeight=i.fontWeight),a={type:"text",style:s,silent:!0},n={};var o=tt(i,"textPosition");r?n.position=o?i.textPosition:"inside":o&&(n.position=i.textPosition),tt(i,"textPosition")&&(n.position=i.textPosition),tt(i,"textOffset")&&(n.offset=i.textOffset),tt(i,"textRotation")&&(n.rotation=i.textRotation),tt(i,"textDistance")&&(n.distance=i.textDistance)}return Zz(s,t),G(s.rich,function(u){Zz(u,u)}),{textConfig:n,textContent:a}}function Zz(t,e){e&&(e.font=e.textFont||e.font,tt(e,"textStrokeWidth")&&(t.lineWidth=e.textStrokeWidth),tt(e,"textAlign")&&(t.align=e.textAlign),tt(e,"textVerticalAlign")&&(t.verticalAlign=e.textVerticalAlign),tt(e,"textLineHeight")&&(t.lineHeight=e.textLineHeight),tt(e,"textWidth")&&(t.width=e.textWidth),tt(e,"textHeight")&&(t.height=e.textHeight),tt(e,"textBackgroundColor")&&(t.backgroundColor=e.textBackgroundColor),tt(e,"textPadding")&&(t.padding=e.textPadding),tt(e,"textBorderColor")&&(t.borderColor=e.textBorderColor),tt(e,"textBorderWidth")&&(t.borderWidth=e.textBorderWidth),tt(e,"textBorderRadius")&&(t.borderRadius=e.textBorderRadius),tt(e,"textBoxShadowColor")&&(t.shadowColor=e.textBoxShadowColor),tt(e,"textBoxShadowBlur")&&(t.shadowBlur=e.textBoxShadowBlur),tt(e,"textBoxShadowOffsetX")&&(t.shadowOffsetX=e.textBoxShadowOffsetX),tt(e,"textBoxShadowOffsetY")&&(t.shadowOffsetY=e.textBoxShadowOffsetY))}function Kz(t,e,r){var i=t;i.textPosition=i.textPosition||r.position||"inside",r.offset!=null&&(i.textOffset=r.offset),r.rotation!=null&&(i.textRotation=r.rotation),r.distance!=null&&(i.textDistance=r.distance);var n=i.textPosition.indexOf("inside")>=0,a=t.fill||"#000";Jz(i,e);var s=i.textFill==null;return n?s&&(i.textFill=r.insideFill||"#fff",!i.textStroke&&r.insideStroke&&(i.textStroke=r.insideStroke),!i.textStroke&&(i.textStroke=a),i.textStrokeWidth==null&&(i.textStrokeWidth=2)):(s&&(i.textFill=t.fill||r.outsideFill||"#000"),!i.textStroke&&r.outsideStroke&&(i.textStroke=r.outsideStroke)),i.text=e.text,i.rich=e.rich,G(e.rich,function(o){Jz(o,o)}),i}function Jz(t,e){e&&(tt(e,"fill")&&(t.textFill=e.fill),tt(e,"stroke")&&(t.textStroke=e.fill),tt(e,"lineWidth")&&(t.textStrokeWidth=e.lineWidth),tt(e,"font")&&(t.font=e.font),tt(e,"fontStyle")&&(t.fontStyle=e.fontStyle),tt(e,"fontWeight")&&(t.fontWeight=e.fontWeight),tt(e,"fontSize")&&(t.fontSize=e.fontSize),tt(e,"fontFamily")&&(t.fontFamily=e.fontFamily),tt(e,"align")&&(t.textAlign=e.align),tt(e,"verticalAlign")&&(t.textVerticalAlign=e.verticalAlign),tt(e,"lineHeight")&&(t.textLineHeight=e.lineHeight),tt(e,"width")&&(t.textWidth=e.width),tt(e,"height")&&(t.textHeight=e.height),tt(e,"backgroundColor")&&(t.textBackgroundColor=e.backgroundColor),tt(e,"padding")&&(t.textPadding=e.padding),tt(e,"borderColor")&&(t.textBorderColor=e.borderColor),tt(e,"borderWidth")&&(t.textBorderWidth=e.borderWidth),tt(e,"borderRadius")&&(t.textBorderRadius=e.borderRadius),tt(e,"shadowColor")&&(t.textBoxShadowColor=e.shadowColor),tt(e,"shadowBlur")&&(t.textBoxShadowBlur=e.shadowBlur),tt(e,"shadowOffsetX")&&(t.textBoxShadowOffsetX=e.shadowOffsetX),tt(e,"shadowOffsetY")&&(t.textBoxShadowOffsetY=e.shadowOffsetY),tt(e,"textShadowColor")&&(t.textShadowColor=e.textShadowColor),tt(e,"textShadowBlur")&&(t.textShadowBlur=e.textShadowBlur),tt(e,"textShadowOffsetX")&&(t.textShadowOffsetX=e.textShadowOffsetX),tt(e,"textShadowOffsetY")&&(t.textShadowOffsetY=e.textShadowOffsetY))}var gte={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},Qz=kt(gte);_o(yu,function(t,e){return t[e]=1,t},{});yu.join(", ");var X3=["","style","shape","extra"],Bp=Yt();function PF(t,e,r,i,n){var a=t+"Animation",s=cg(t,i,n)||{},o=Bp(e).userDuring;return s.duration>0&&(s.during=o?Je(r9e,{el:e,userDuring:o}):null,s.setToFinal=!0,s.scope=t),Ce(s,r[a]),s}function Jx(t,e,r,i){i=i||{};var n=i.dataIndex,a=i.isInit,s=i.clearStyle,o=r.isAnimationEnabled(),u=Bp(t),l=e.style;u.userDuring=e.during;var c={},h={};if(n9e(t,e,h),tH("shape",e,h),tH("extra",e,h),!a&&o&&(i9e(t,e,c),eH("shape",t,e,c),eH("extra",t,e,c),a9e(t,e,l,c)),h.style=l,J7e(t,h,s),e9e(t,e),o)if(a){var f={};G(X3,function(p){var g=p?e[p]:e;g&&g.enterFrom&&(p&&(f[p]=f[p]||{}),Ce(p?f[p]:f,g.enterFrom))});var d=PF("enter",t,e,r,n);d.duration>0&&t.animateFrom(f,d)}else Q7e(t,e,n||0,r,c);vte(t,e),l?t.dirty():t.markRedraw()}function vte(t,e){for(var r=Bp(t).leaveToProps,i=0;i<X3.length;i++){var n=X3[i],a=n?e[n]:e;a&&a.leaveTo&&(r||(r=Bp(t).leaveToProps={}),n&&(r[n]=r[n]||{}),Ce(n?r[n]:r,a.leaveTo))}}function Qb(t,e,r,i){if(t){var n=t.parent,a=Bp(t).leaveToProps;if(a){var s=PF("update",t,e,r,0);s.done=function(){n.remove(t)},t.animateTo(a,s)}else n.remove(t)}}function Rh(t){return t==="all"}function J7e(t,e,r){var i=e.style;if(!t.isGroup&&i){if(r){t.useStyle({});for(var n=t.animators,a=0;a<n.length;a++){var s=n[a];s.targetName==="style"&&s.changeTarget(t.style)}}t.setStyle(i)}e&&(e.style=null,e&&t.attr(e),e.style=i)}function Q7e(t,e,r,i,n){if(n){var a=PF("update",t,e,i,r);a.duration>0&&t.animateFrom(n,a)}}function e9e(t,e){tt(e,"silent")&&(t.silent=e.silent),tt(e,"ignore")&&(t.ignore=e.ignore),t instanceof zs&&tt(e,"invisible")&&(t.invisible=e.invisible),t instanceof Pt&&tt(e,"autoBatch")&&(t.autoBatch=e.autoBatch)}var Ro={},t9e={setTransform:function(t,e){return Ro.el[t]=e,this},getTransform:function(t){return Ro.el[t]},setShape:function(t,e){var r=Ro.el,i=r.shape||(r.shape={});return i[t]=e,r.dirtyShape&&r.dirtyShape(),this},getShape:function(t){var e=Ro.el.shape;if(e)return e[t]},setStyle:function(t,e){var r=Ro.el,i=r.style;return i&&(i[t]=e,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(t){var e=Ro.el.style;if(e)return e[t]},setExtra:function(t,e){var r=Ro.el.extra||(Ro.el.extra={});return r[t]=e,this},getExtra:function(t){var e=Ro.el.extra;if(e)return e[t]}};function r9e(){var t=this,e=t.el;if(e){var r=Bp(e).userDuring,i=t.userDuring;if(r!==i){t.el=t.userDuring=null;return}Ro.el=e,i(t9e)}}function eH(t,e,r,i){var n=r[t];if(n){var a=e[t],s;if(a){var o=r.transition,u=n.transition;if(u)if(!s&&(s=i[t]={}),Rh(u))Ce(s,a);else for(var l=mr(u),c=0;c<l.length;c++){var h=l[c],f=a[h];s[h]=f}else if(Rh(o)||wt(o,t)>=0){!s&&(s=i[t]={});for(var d=kt(a),c=0;c<d.length;c++){var h=d[c],f=a[h];s9e(n[h],f)&&(s[h]=f)}}}}}function tH(t,e,r){var i=e[t];if(i)for(var n=r[t]={},a=kt(i),s=0;s<a.length;s++){var o=a[s];n[o]=O1(i[o])}}function i9e(t,e,r){for(var i=e.transition,n=Rh(i)?yu:mr(i||[]),a=0;a<n.length;a++){var s=n[a];if(!(s==="style"||s==="shape"||s==="extra")){var o=t[s];r[s]=o}}}function n9e(t,e,r){for(var i=0;i<Qz.length;i++){var n=Qz[i],a=gte[n],s=e[n];s&&(r[a[0]]=s[0],r[a[1]]=s[1])}for(var i=0;i<yu.length;i++){var o=yu[i];e[o]!=null&&(r[o]=e[o])}}function a9e(t,e,r,i){if(r){var n=t.style,a;if(n){var s=r.transition,o=e.transition;if(s&&!Rh(s)){var u=mr(s);!a&&(a=i.style={});for(var l=0;l<u.length;l++){var c=u[l],h=n[c];a[c]=h}}else if(t.getAnimationStyleProps&&(Rh(o)||Rh(s)||wt(o,"style")>=0)){var f=t.getAnimationStyleProps(),d=f?f.style:null;if(d){!a&&(a=i.style={});for(var p=kt(r),l=0;l<p.length;l++){var c=p[l];if(d[c]){var h=n[c];a[c]=h}}}}}}}function s9e(t,e){return Gn(t)?t!==e:t!=null&&isFinite(t)}var mte=Yt(),o9e=["percent","easing","shape","style","extra"];function yte(t){t.stopAnimation("keyframe"),t.attr(mte(t))}function Z3(t,e,r){if(!(!r.isAnimationEnabled()||!e)){if(Te(e)){G(e,function(o){Z3(t,o,r)});return}var i=e.keyframes,n=e.duration;if(r&&n==null){var a=cg("enter",r,0);n=a&&a.duration}if(!(!i||!n)){var s=mte(t);G(X3,function(o){if(!(o&&!t[o])){var u;i.sort(function(l,c){return l.percent-c.percent}),G(i,function(l){var c=t.animators,h=o?l[o]:l;if(h){var f=kt(h);if(o||(f=sr(f,function(g){return wt(o9e,g)<0})),!!f.length){u||(u=t.animate(o,e.loop,!0),u.scope="keyframe");for(var d=0;d<c.length;d++)c[d]!==u&&c[d].targetName===u.targetName&&c[d].stopTracks(f);o&&(s[o]=s[o]||{});var p=o?s[o]:s;G(f,function(g){p[g]=((o?t[o]:t)||{})[g]}),u.whenWithKeys(n*l.percent,h,f,l.easing)}}}),u&&u.delay(e.delay||0).duration(n).start(e.easing)}})}}}var al="emphasis",bc="normal",LF="blur",OF="select",Hc=[bc,al,LF,OF],F6={normal:["itemStyle"],emphasis:[al,"itemStyle"],blur:[LF,"itemStyle"],select:[OF,"itemStyle"]},I6={normal:["label"],emphasis:[al,"label"],blur:[LF,"label"],select:[OF,"label"]},u9e=["x","y"],l9e="e\0\0",ps={normal:{},emphasis:{},blur:{},select:{}},c9e={cartesian2d:V7e,geo:W7e,single:q7e,polar:Z7e,calendar:K7e};function Pw(t){return t instanceof Pt}function Lw(t){return t instanceof zs}function h9e(t,e){e.copyTransform(t),Lw(e)&&Lw(t)&&(e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel,e.invisible=t.invisible,e.ignore=t.ignore,Pw(e)&&Pw(t)&&e.setShape(t.shape))}var f9e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n,a){this._progressiveEls=null;var s=this._data,o=r.getData(),u=this.group,l=rH(r,o,i,n);s||u.removeAll(),o.diff(s).add(function(h){B6(n,null,h,l(h,a),r,u,o)}).remove(function(h){var f=s.getItemGraphicEl(h);f&&Qb(f,nl(f).option,r)}).update(function(h,f){var d=s.getItemGraphicEl(f);B6(n,d,h,l(h,a),r,u,o)}).execute();var c=r.get("clip",!0)?Nm(r.coordinateSystem,!1,r):null;c?u.setClipPath(c):u.removeClipPath(),this._data=o},e.prototype.incrementalPrepareRender=function(r,i,n){this.group.removeAll(),this._data=null},e.prototype.incrementalRender=function(r,i,n,a,s){var o=i.getData(),u=rH(i,o,n,a),l=this._progressiveEls=[];function c(d){d.isGroup||(d.incremental=!0,d.ensureState("emphasis").hoverLayer=!0)}for(var h=r.start;h<r.end;h++){var f=B6(null,null,h,u(h,s),i,this.group,o);f&&(f.traverse(c),l.push(f))}},e.prototype.eachRendered=function(r){$c(this._progressiveEls||this.group,r)},e.prototype.filterForExposedEvent=function(r,i,n,a){var s=i.element;if(s==null||n.name===s)return!0;for(;(n=n.__hostTarget||n.parent)&&n!==this.group;)if(n.name===s)return!0;return!1},e.type="custom",e}(Wt);function RF(t){var e=t.type,r;if(e==="path"){var i=t.shape,n=i.width!=null&&i.height!=null?{x:i.x||0,y:i.y||0,width:i.width,height:i.height}:null,a=bte(i);r=Fb(a,null,n,i.layout||"center"),nl(r).customPathData=a}else if(e==="image")r=new en({}),nl(r).customImagePath=t.style.image;else if(e==="text")r=new zt({});else if(e==="group")r=new dt;else{if(e==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var s=m9(e);if(!s){var o="";ar(o)}r=new s}return nl(r).customGraphicType=e,r.name=t.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function NF(t,e,r,i,n,a,s){yte(e);var o=n&&n.normal.cfg;o&&e.setTextConfig(o),i&&i.transition==null&&(i.transition=u9e);var u=i&&i.style;if(u){if(e.type==="text"){var l=u;tt(l,"textFill")&&(l.fill=l.textFill),tt(l,"textStroke")&&(l.stroke=l.textStroke)}var c=void 0,h=Pw(e)?u.decal:null;t&&h&&(h.dirty=!0,c=wp(h,t)),u.__decalPattern=c}if(Lw(e)&&u){var c=u.__decalPattern;c&&(u.decal=c)}Jx(e,i,a,{dataIndex:r,isInit:s,clearStyle:!0}),Z3(e,i.keyframeAnimation,a)}function _te(t,e,r,i,n){var a=e.isGroup?null:e,s=n&&n[t].cfg;if(a){var o=a.ensureState(t);if(i===!1){var u=a.getState(t);u&&(u.style=null)}else o.style=i||null;s&&(o.textConfig=s),Qh(a)}}function d9e(t,e,r){if(!t.isGroup){var i=t,n=r.currentZ,a=r.currentZLevel;i.z=n,i.zlevel=a;var s=e.z2;s!=null&&(i.z2=s||0);for(var o=0;o<Hc.length;o++)p9e(i,e,Hc[o])}}function p9e(t,e,r){var i=r===bc,n=i?e:K3(e,r),a=n?n.z2:null,s;a!=null&&(s=i?t:t.ensureState(r),s.z2=a||0)}function rH(t,e,r,i){var n=t.get("renderItem"),a=t.coordinateSystem,s={};a&&(s=a.prepareCustoms?a.prepareCustoms(a):c9e[a.type](a));for(var o=st({getWidth:i.getWidth,getHeight:i.getHeight,getZr:i.getZr,getDevicePixelRatio:i.getDevicePixelRatio,value:x,style:C,ordinalRawValue:b,styleEmphasis:E,visual:T,barLayout:D,currentSeriesIndices:F,font:B},s.api||{}),u={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:s.coordSys,dataInsideLength:e.count(),encode:g9e(t.getData())},l,c,h={},f={},d={},p={},g=0;g<Hc.length;g++){var v=Hc[g];d[v]=t.getModel(F6[v]),p[v]=t.getModel(I6[v])}function m(O){return O===l?c||(c=e.getItemModel(O)):e.getItemModel(O)}function y(O,M){return e.hasItemOption?O===l?h[M]||(h[M]=m(O).getModel(F6[M])):m(O).getModel(F6[M]):d[M]}function _(O,M){return e.hasItemOption?O===l?f[M]||(f[M]=m(O).getModel(I6[M])):m(O).getModel(I6[M]):p[M]}return function(O,M){return l=O,c=null,h={},f={},n&&n(st({dataIndexInside:O,dataIndex:e.getRawIndex(O),actionType:M?M.type:null},u),o)};function x(O,M){return M==null&&(M=l),e.getStore().get(e.getDimensionIndex(O||0),M)}function b(O,M){M==null&&(M=l),O=O||0;var R=e.getDimensionInfo(O);if(!R){var z=e.getDimensionIndex(O);return z>=0?e.getStore().get(z,M):void 0}var k=e.get(R.name,M),U=R&&R.ordinalMeta;return U?U.categories[k]:k}function C(O,M){M==null&&(M=l);var R=e.getItemVisual(M,"style"),z=R&&R.fill,k=R&&R.opacity,U=y(M,bc).getItemStyle();z!=null&&(U.fill=z),k!=null&&(U.opacity=k);var V={inheritColor:Xe(z)?z:"#000"},j=_(M,bc),Y=pr(j,null,V,!1,!0);Y.text=j.getShallow("show")?gt(t.getFormattedLabel(M,bc),Dp(e,M)):null;var te=T3(j,V,!1);return S(O,U),U=Kz(U,Y,te),O&&A(U,O),U.legacy=!0,U}function E(O,M){M==null&&(M=l);var R=y(M,al).getItemStyle(),z=_(M,al),k=pr(z,null,null,!0,!0);k.text=z.getShallow("show")?su(t.getFormattedLabel(M,al),t.getFormattedLabel(M,bc),Dp(e,M)):null;var U=T3(z,null,!0);return S(O,R),R=Kz(R,k,U),O&&A(R,O),R.legacy=!0,R}function A(O,M){for(var R in M)tt(M,R)&&(O[R]=M[R])}function S(O,M){O&&(O.textFill&&(M.textFill=O.textFill),O.textPosition&&(M.textPosition=O.textPosition))}function T(O,M){if(M==null&&(M=l),tt(Xz,O)){var R=e.getItemVisual(M,"style");return R?R[Xz[O]]:null}if(tt(G7e,O))return e.getItemVisual(M,O)}function D(O){if(a.type==="cartesian2d"){var M=a.getBaseAxis();return oEe(st({axis:M},O))}}function F(){return r.getCurrentSeriesIndices()}function B(O){return y9(O,r)}}function g9e(t){var e={};return G(t.dimensions,function(r){var i=t.getDimensionInfo(r);if(!i.isExtraCoord){var n=i.coordDim,a=e[n]=e[n]||[];a[i.coordDimIndex]=t.getDimensionIndex(r)}}),e}function B6(t,e,r,i,n,a,s){if(!i){a.remove(e);return}var o=kF(t,e,r,i,n,a);return o&&s.setItemGraphicEl(r,o),o&&Zr(o,i.focus,i.blurScope,i.emphasisDisabled),o}function kF(t,e,r,i,n,a){var s=-1,o=e;e&&xte(e,i,n)&&(s=wt(a.childrenRef(),e),e=null);var u=!e,l=e;l?l.clearStates():(l=RF(i),o&&h9e(o,l)),i.morph===!1?l.disableMorphing=!0:l.disableMorphing&&(l.disableMorphing=!1),ps.normal.cfg=ps.normal.conOpt=ps.emphasis.cfg=ps.emphasis.conOpt=ps.blur.cfg=ps.blur.conOpt=ps.select.cfg=ps.select.conOpt=null,ps.isLegacy=!1,m9e(l,r,i,n,u,ps),v9e(l,r,i,n,u),NF(t,l,r,i,ps,n,u),tt(i,"info")&&(nl(l).info=i.info);for(var c=0;c<Hc.length;c++){var h=Hc[c];if(h!==bc){var f=K3(i,h),d=zF(i,f,h);_te(h,l,f,d,ps)}}return d9e(l,i,n),i.type==="group"&&y9e(t,l,r,i,n),s>=0?a.replaceAt(l,s):a.add(l),l}function xte(t,e,r){var i=nl(t),n=e.type,a=e.shape,s=e.style;return r.isUniversalTransitionEnabled()||n!=null&&n!==i.customGraphicType||n==="path"&&C9e(a)&&bte(a)!==i.customPathData||n==="image"&&tt(s,"image")&&s.image!==i.customImagePath}function v9e(t,e,r,i,n){var a=r.clipPath;if(a===!1)t&&t.getClipPath()&&t.removeClipPath();else if(a){var s=t.getClipPath();s&&xte(s,a,i)&&(s=null),s||(s=RF(a),t.setClipPath(s)),NF(null,s,e,a,null,i,n)}}function m9e(t,e,r,i,n,a){if(!t.isGroup){iH(r,null,a),iH(r,al,a);var s=a.normal.conOpt,o=a.emphasis.conOpt,u=a.blur.conOpt,l=a.select.conOpt;if(s!=null||o!=null||l!=null||u!=null){var c=t.getTextContent();if(s===!1)c&&t.removeTextContent();else{s=a.normal.conOpt=s||{type:"text"},c?c.clearStates():(c=RF(s),t.setTextContent(c)),NF(null,c,e,s,null,i,n);for(var h=s&&s.style,f=0;f<Hc.length;f++){var d=Hc[f];if(d!==bc){var p=a[d].conOpt;_te(d,c,p,zF(s,p,d),null)}}h?c.dirty():c.markRedraw()}}}}function iH(t,e,r){var i=e?K3(t,e):t,n=e?zF(t,i,al):t.style,a=t.type,s=i?i.textConfig:null,o=t.textContent,u=o?e?K3(o,e):o:null;if(n&&(r.isLegacy||dte(n,a,!!s,!!u))){r.isLegacy=!0;var l=pte(n,a,!e);!s&&l.textConfig&&(s=l.textConfig),!u&&l.textContent&&(u=l.textContent)}if(!e&&u){var c=u;!c.type&&(c.type="text")}var h=e?r[e]:r.normal;h.cfg=s,h.conOpt=u}function K3(t,e){return e?t?t[e]:null:t}function zF(t,e,r){var i=e&&e.style;return i==null&&r===al&&t&&(i=t.styleEmphasis),i}function y9e(t,e,r,i,n){var a=i.children,s=a?a.length:0,o=i.$mergeChildren,u=o==="byName"||i.diffChildrenByName,l=o===!1;if(!(!s&&!u&&!l)){if(u){x9e({api:t,oldChildren:e.children()||[],newChildren:a||[],dataIndex:r,seriesModel:n,group:e});return}l&&e.removeAll();for(var c=0;c<s;c++){var h=a[c],f=e.childAt(c);h?(h.ignore==null&&(h.ignore=!1),kF(t,f,r,h,n,e)):f.ignore=!0}for(var d=e.childCount()-1;d>=c;d--){var p=e.childAt(d);_9e(e,p,n)}}}function _9e(t,e,r){e&&Qb(e,nl(t).option,r)}function x9e(t){new vl(t.oldChildren,t.newChildren,nH,nH,t).add(aH).update(aH).remove(b9e).execute()}function nH(t,e){var r=t&&t.name;return r??l9e+e}function aH(t,e){var r=this.context,i=t!=null?r.newChildren[t]:null,n=e!=null?r.oldChildren[e]:null;kF(r.api,n,r.dataIndex,i,r.seriesModel,r.group)}function b9e(t){var e=this.context,r=e.oldChildren[t];r&&Qb(r,nl(r).option,e.seriesModel)}function bte(t){return t&&(t.pathData||t.d)}function C9e(t){return t&&(tt(t,"pathData")||tt(t,"d"))}function E9e(t){t.registerChartView(f9e),t.registerSeriesModel(U7e)}var ah=Yt(),sH=ht,M6=Je,HF=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(e,r,i,n){var a=r.get("value"),s=r.get("status");if(this._axisModel=e,this._axisPointerModel=r,this._api=i,!(!n&&this._lastValue===a&&this._lastStatus===s)){this._lastValue=a,this._lastStatus=s;var o=this._group,u=this._handle;if(!s||s==="hide"){o&&o.hide(),u&&u.hide();return}o&&o.show(),u&&u.show();var l={};this.makeElOption(l,a,e,r,i);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var h=this._moveAnimation=this.determineAnimation(e,r);if(!o)o=this._group=new dt,this.createPointerEl(o,l,e,r),this.createLabelEl(o,l,e,r),i.getZr().add(o);else{var f=mt(oH,r,h);this.updatePointerEl(o,l,f),this.updateLabelEl(o,l,f,r)}lH(o,r,!0),this._renderHandle(a)}},t.prototype.remove=function(e){this.clear(e)},t.prototype.dispose=function(e){this.clear(e)},t.prototype.determineAnimation=function(e,r){var i=r.get("animation"),n=e.axis,a=n.type==="category",s=r.get("snap");if(!s&&!a)return!1;if(i==="auto"||i==null){var o=this.animationThreshold;if(a&&n.getBandWidth()>o)return!0;if(s){var u=oF(e).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/u>o}return!1}return i===!0},t.prototype.makeElOption=function(e,r,i,n,a){},t.prototype.createPointerEl=function(e,r,i,n){var a=r.pointer;if(a){var s=ah(e).pointerEl=new Sf[a.type](sH(r.pointer));e.add(s)}},t.prototype.createLabelEl=function(e,r,i,n){if(r.label){var a=ah(e).labelEl=new zt(sH(r.label));e.add(a),uH(a,n)}},t.prototype.updatePointerEl=function(e,r,i){var n=ah(e).pointerEl;n&&r.pointer&&(n.setStyle(r.pointer.style),i(n,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(e,r,i,n){var a=ah(e).labelEl;a&&(a.setStyle(r.label.style),i(a,{x:r.label.x,y:r.label.y}),uH(a,n))},t.prototype._renderHandle=function(e){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,i=this._api.getZr(),n=this._handle,a=r.getModel("handle"),s=r.get("status");if(!a.get("show")||!s||s==="hide"){n&&i.remove(n),this._handle=null;return}var o;this._handle||(o=!0,n=this._handle=Bm(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(l){fl(l.event)},onmousedown:M6(this._onHandleDragMove,this,0,0),drift:M6(this._onHandleDragMove,this),ondragend:M6(this._onHandleDragEnd,this)}),i.add(n)),lH(n,r,!1),n.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=a.get("size");Te(u)||(u=[u,u]),n.scaleX=u[0]/2,n.scaleY=u[1]/2,yg(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,o)}},t.prototype._moveHandleToValue=function(e,r){oH(this._axisPointerModel,!r&&this._moveAnimation,this._handle,P6(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(e,r){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(P6(i),[e,r],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(P6(n)),ah(i).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var e=this._handle;if(e){var r=this._payloadInfo,i=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:i.axis.dim,axisIndex:i.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var e=this._handle;if(e){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(e){this._lastValue=null,this._lastStatus=null;var r=e.getZr(),i=this._group,n=this._handle;r&&i&&(this._lastGraphicKey=null,i&&r.remove(i),n&&r.remove(n),this._group=null,this._handle=null,this._payloadInfo=null),R2(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(e,r,i){return i=i||0,{x:e[i],y:e[1-i],width:r[i],height:r[1-i]}},t}();function oH(t,e,r,i){Cte(ah(r).lastProp,i)||(ah(r).lastProp=i,e?er(r,i,t):(r.stopAnimation(),r.attr(i)))}function Cte(t,e){if(lt(t)&&lt(e)){var r=!0;return G(e,function(i,n){r=r&&Cte(t[n],i)}),!!r}else return t===e}function uH(t,e){t[e.get(["label","show"])?"show":"hide"]()}function P6(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function lH(t,e,r){var i=e.get("z"),n=e.get("zlevel");t&&t.traverse(function(a){a.type!=="group"&&(i!=null&&(a.z=i),n!=null&&(a.zlevel=n),a.silent=r)})}function GF(t){var e=t.get("type"),r=t.getModel(e+"Style"),i;return e==="line"?(i=r.getLineStyle(),i.fill=null):e==="shadow"&&(i=r.getAreaStyle(),i.stroke=null),i}function Ete(t,e,r,i,n){var a=r.get("value"),s=Ste(a,e.axis,e.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),o=r.getModel("label"),u=dg(o.get("padding")||0),l=o.getFont(),c=Sm(s,l),h=n.position,f=c.width+u[1]+u[3],d=c.height+u[0]+u[2],p=n.align;p==="right"&&(h[0]-=f),p==="center"&&(h[0]-=f/2);var g=n.verticalAlign;g==="bottom"&&(h[1]-=d),g==="middle"&&(h[1]-=d/2),S9e(h,f,d,i);var v=o.get("backgroundColor");(!v||v==="auto")&&(v=e.get(["axisLine","lineStyle","color"])),t.label={x:h[0],y:h[1],style:pr(o,{text:s,font:l,fill:o.getTextColor(),padding:u,backgroundColor:v}),z2:10}}function S9e(t,e,r,i){var n=i.getWidth(),a=i.getHeight();t[0]=Math.min(t[0]+e,n)-e,t[1]=Math.min(t[1]+r,a)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function Ste(t,e,r,i,n){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:n.precision}),s=n.formatter;if(s){var o={value:Y9(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};G(i,function(u){var l=r.getSeriesByIndex(u.seriesIndex),c=u.dataIndexInside,h=l&&l.getDataParams(c);h&&o.seriesData.push(h)}),Xe(s)?a=s.replace("{value}",a):ot(s)&&(a=s(o))}return a}function UF(t,e,r){var i=Oa();return bf(i,i,r.rotation),mu(i,i,r.position),po([t.dataToCoord(e),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],i)}function Tte(t,e,r,i,n,a){var s=la.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=n.get(["label","margin"]),Ete(e,i,n,a,{position:UF(i.axis,t,r),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function jF(t,e,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:e[r],y2:e[1-r]}}function Ate(t,e,r){return r=r||0,{x:t[r],y:t[1-r],width:e[r],height:e[1-r]}}function cH(t,e,r,i,n,a){return{cx:t,cy:e,r0:r,r:i,startAngle:n,endAngle:a,clockwise:!0}}var T9e=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,i,n,a,s){var o=n.axis,u=o.grid,l=a.get("type"),c=hH(u,o).getOtherAxis(o).getGlobalExtent(),h=o.toGlobalCoord(o.dataToCoord(i,!0));if(l&&l!=="none"){var f=GF(a),d=A9e[l](o,h,c);d.style=f,r.graphicKey=d.type,r.pointer=d}var p=pw(u.model,n);Tte(i,r,p,n,a,s)},e.prototype.getHandleTransform=function(r,i,n){var a=pw(i.axis.grid.model,i,{labelInside:!1});a.labelMargin=n.get(["handle","margin"]);var s=UF(i.axis,r,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,i,n,a){var s=n.axis,o=s.grid,u=s.getGlobalExtent(!0),l=hH(o,s).getOtherAxis(s).getGlobalExtent(),c=s.dim==="x"?0:1,h=[r.x,r.y];h[c]+=i[c],h[c]=Math.min(u[1],h[c]),h[c]=Math.max(u[0],h[c]);var f=(l[1]+l[0])/2,d=[f,f];d[c]=h[c];var p=[{verticalAlign:"middle"},{align:"center"}];return{x:h[0],y:h[1],rotation:r.rotation,cursorPoint:d,tooltipOption:p[c]}},e}(HF);function hH(t,e){var r={};return r[e.dim+"AxisIndex"]=e.index,t.getCartesian(r)}var A9e={line:function(t,e,r){var i=jF([e,r[0]],[e,r[1]],fH(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,r){var i=Math.max(1,t.getBandWidth()),n=r[1]-r[0];return{type:"Rect",shape:Ate([e-i/2,r[0]],[i,n],fH(t))}}};function fH(t){return t.dim==="x"?0:1}var w9e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(Dt),Qu=Yt(),D9e=G;function wte(t,e,r){if(!Lt.node){var i=e.getZr();Qu(i).records||(Qu(i).records={}),F9e(i,e);var n=Qu(i).records[t]||(Qu(i).records[t]={});n.handler=r}}function F9e(t,e){if(Qu(t).initialized)return;Qu(t).initialized=!0,r("click",mt(dH,"click")),r("mousemove",mt(dH,"mousemove")),r("globalout",B9e);function r(i,n){t.on(i,function(a){var s=M9e(e);D9e(Qu(t).records,function(o){o&&n(o,a,s.dispatchAction)}),I9e(s.pendings,e)})}}function I9e(t,e){var r=t.showTip.length,i=t.hideTip.length,n;r?n=t.showTip[r-1]:i&&(n=t.hideTip[i-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function B9e(t,e,r){t.handler("leave",null,r)}function dH(t,e,r,i){e.handler(t,r,i)}function M9e(t){var e={showTip:[],hideTip:[]},r=function(i){var n=e[i.type];n?n.push(i):(i.dispatchAction=r,t.dispatchAction(i))};return{dispatchAction:r,pendings:e}}function Ow(t,e){if(!Lt.node){var r=e.getZr(),i=(Qu(r).records||{})[t];i&&(Qu(r).records[t]=null)}}var P9e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=i.getComponent("tooltip"),s=r.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";wte("axisPointer",n,function(o,u,l){s!=="none"&&(o==="leave"||s.indexOf(o)>=0)&&l({type:"updateAxisPointer",currTrigger:o,x:u&&u.offsetX,y:u&&u.offsetY})})},e.prototype.remove=function(r,i){Ow("axisPointer",i)},e.prototype.dispose=function(r,i){Ow("axisPointer",i)},e.type="axisPointer",e}(_r);function Dte(t,e){var r=[],i=t.seriesIndex,n;if(i==null||!(n=e.getSeriesByIndex(i)))return{point:[]};var a=n.getData(),s=Kh(a,t);if(s==null||s<0||Te(s))return{point:[]};var o=a.getItemGraphicEl(s),u=n.coordinateSystem;if(n.getTooltipPosition)r=n.getTooltipPosition(s)||[];else if(u&&u.dataToPoint)if(t.isStacked){var l=u.getBaseAxis(),c=u.getOtherAxis(l),h=c.dim,f=l.dim,d=h==="x"||h==="radius"?1:0,p=a.mapDimension(f),g=[];g[d]=a.get(p,s),g[1-d]=a.get(a.getCalculationInfo("stackResultDimension"),s),r=u.dataToPoint(g)||[]}else r=u.dataToPoint(a.getValues(Ie(u.dimensions,function(m){return a.mapDimension(m)}),s))||[];else if(o){var v=o.getBoundingRect().clone();v.applyTransform(o.transform),r=[v.x+v.width/2,v.y+v.height/2]}return{point:r,el:o}}var pH=Yt();function L9e(t,e,r){var i=t.currTrigger,n=[t.x,t.y],a=t,s=t.dispatchAction||Je(r.dispatchAction,r),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){Qx(n)&&(n=Dte({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var u=Qx(n),l=a.axesInfo,c=o.axesInfo,h=i==="leave"||Qx(n),f={},d={},p={list:[],map:{}},g={showPointer:mt(R9e,d),showTooltip:mt(N9e,p)};G(o.coordSysMap,function(m,y){var _=u||m.containPoint(n);G(o.coordSysAxesInfo[y],function(x,b){var C=x.axis,E=G9e(l,x);if(!h&&_&&(!l||E)){var A=E&&E.value;A==null&&!u&&(A=C.pointToData(n)),A!=null&&gH(x,A,g,!1,f)}})});var v={};return G(c,function(m,y){var _=m.linkGroup;_&&!d[y]&&G(_.axesInfo,function(x,b){var C=d[b];if(x!==m&&C){var E=C.value;_.mapper&&(E=m.axis.scale.parse(_.mapper(E,vH(x),vH(m)))),v[m.key]=E}})}),G(v,function(m,y){gH(c[y],m,g,!0,f)}),k9e(d,c,f),z9e(p,n,t,s),H9e(c,s,r),f}}function gH(t,e,r,i,n){var a=t.axis;if(!(a.scale.isBlank()||!a.containData(e))){if(!t.involveSeries){r.showPointer(t,e);return}var s=O9e(e,t),o=s.payloadBatch,u=s.snapToValue;o[0]&&n.seriesIndex==null&&Ce(n,o[0]),!i&&t.snap&&a.containData(u)&&u!=null&&(e=u),r.showPointer(t,e,o),r.showTooltip(t,s,u)}}function O9e(t,e){var r=e.axis,i=r.dim,n=t,a=[],s=Number.MAX_VALUE,o=-1;return G(e.seriesModels,function(u,l){var c=u.getData().mapDimensionsAll(i),h,f;if(u.getAxisTooltipData){var d=u.getAxisTooltipData(c,t,r);f=d.dataIndices,h=d.nestestValue}else{if(f=u.getData().indicesOfNearest(c[0],t,r.type==="category"?.5:null),!f.length)return;h=u.getData().get(c[0],f[0])}if(!(h==null||!isFinite(h))){var p=t-h,g=Math.abs(p);g<=s&&((g<s||p>=0&&o<0)&&(s=g,o=p,n=h,a.length=0),G(f,function(v){a.push({seriesIndex:u.seriesIndex,dataIndexInside:v,dataIndex:u.getData().getRawIndex(v)})}))}}),{payloadBatch:a,snapToValue:n}}function R9e(t,e,r,i){t[e.key]={value:r,payloadBatch:i}}function N9e(t,e,r,i){var n=r.payloadBatch,a=e.axis,s=a.model,o=e.axisPointerModel;if(!(!e.triggerTooltip||!n.length)){var u=e.coordSys.model,l=j2(u),c=t.map[l];c||(c=t.map[l]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:o.get(["label","precision"]),formatter:o.get(["label","formatter"])},seriesDataIndices:n.slice()})}}function k9e(t,e,r){var i=r.axesInfo=[];G(e,function(n,a){var s=n.axisPointerModel.option,o=t[a];o?(!n.useHandle&&(s.status="show"),s.value=o.value,s.seriesDataIndices=(o.payloadBatch||[]).slice()):!n.useHandle&&(s.status="hide"),s.status==="show"&&i.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:s.value})})}function z9e(t,e,r,i){if(Qx(e)||!t.list.length){i({type:"hideTip"});return}var n=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:t.list})}function H9e(t,e,r){var i=r.getZr(),n="axisPointerLastHighlights",a=pH(i)[n]||{},s=pH(i)[n]={};G(t,function(l,c){var h=l.axisPointerModel.option;h.status==="show"&&l.triggerEmphasis&&G(h.seriesDataIndices,function(f){var d=f.seriesIndex+" | "+f.dataIndex;s[d]=f})});var o=[],u=[];G(a,function(l,c){!s[c]&&u.push(l)}),G(s,function(l,c){!a[c]&&o.push(l)}),u.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:u}),o.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:o})}function G9e(t,e){for(var r=0;r<(t||[]).length;r++){var i=t[r];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function vH(t){var e=t.axis.model,r={},i=r.axisDim=t.axis.dim;return r.axisIndex=r[i+"AxisIndex"]=e.componentIndex,r.axisName=r[i+"AxisName"]=e.name,r.axisId=r[i+"AxisId"]=e.id,r}function Qx(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function jm(t){Df.registerAxisPointerClass("CartesianAxisPointer",T9e),t.registerComponentModel(w9e),t.registerComponentView(P9e),t.registerPreprocessor(function(e){if(e){(!e.axisPointer||e.axisPointer.length===0)&&(e.axisPointer={});var r=e.axisPointer.link;r&&!Te(r)&&(e.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(e,r){e.getComponent("axisPointer").coordSysAxesInfo=Q6e(e,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},L9e)}function U9e(t){ft(tee),ft(jm)}var j9e=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,i,n,a,s){var o=n.axis;o.dim==="angle"&&(this.animationThreshold=Math.PI/18);var u=o.polar,l=u.getOtherAxis(o),c=l.getExtent(),h=o.dataToCoord(i),f=a.get("type");if(f&&f!=="none"){var d=GF(a),p=$9e[f](o,u,h,c);p.style=d,r.graphicKey=p.type,r.pointer=p}var g=a.get(["label","margin"]),v=V9e(i,n,a,u,g);Ete(r,n,a,s,v)},e}(HF);function V9e(t,e,r,i,n){var a=e.axis,s=a.dataToCoord(t),o=i.getAngleAxis().getExtent()[0];o=o/180*Math.PI;var u=i.getRadiusAxis().getExtent(),l,c,h;if(a.dim==="radius"){var f=Oa();bf(f,f,o),mu(f,f,[i.cx,i.cy]),l=po([s,-n],f);var d=e.getModel("axisLabel").get("rotate")||0,p=la.innerTextLayout(o,d*Math.PI/180,-1);c=p.textAlign,h=p.textVerticalAlign}else{var g=u[1];l=i.coordToPoint([g+n,s]);var v=i.cx,m=i.cy;c=Math.abs(l[0]-v)/g<.3?"center":l[0]>v?"left":"right",h=Math.abs(l[1]-m)/g<.3?"middle":l[1]>m?"top":"bottom"}return{position:l,align:c,verticalAlign:h}}var $9e={line:function(t,e,r,i){return t.dim==="angle"?{type:"Line",shape:jF(e.coordToPoint([i[0],r]),e.coordToPoint([i[1],r]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r}}},shadow:function(t,e,r,i){var n=Math.max(1,t.getBandWidth()),a=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:cH(e.cx,e.cy,i[0],i[1],(-r-n/2)*a,(-r+n/2)*a)}:{type:"Sector",shape:cH(e.cx,e.cy,r-n/2,r+n/2,0,Math.PI*2)}}},W9e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.findAxisModel=function(r){var i,n=this.ecModel;return n.eachComponent(r,function(a){a.getCoordSysModel()===this&&(i=a)},this),i},e.type="polar",e.dependencies=["radiusAxis","angleAxis"],e.defaultOption={z:0,center:["50%","50%"],radius:"80%"},e}(Dt),VF=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",wi).models[0]},e.type="polarAxis",e}(Dt);yi(VF,Cg);var Y9e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="angleAxis",e}(VF),q9e=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="radiusAxis",e}(VF),$F=function(t){ce(e,t);function e(r,i){return t.call(this,"radius",r,i)||this}return e.prototype.pointToData=function(r,i){return this.polar.pointToData(r,i)[this.dim==="radius"?0:1]},e}(_a);$F.prototype.dataToRadius=_a.prototype.dataToCoord;$F.prototype.radiusToData=_a.prototype.coordToData;var X9e=Yt(),WF=function(t){ce(e,t);function e(r,i){return t.call(this,"angle",r,i||[0,360])||this}return e.prototype.pointToData=function(r,i){return this.polar.pointToData(r,i)[this.dim==="radius"?0:1]},e.prototype.calculateCategoryInterval=function(){var r=this,i=r.getLabelModel(),n=r.scale,a=n.getExtent(),s=n.count();if(a[1]-a[0]<1)return 0;var o=a[0],u=r.dataToCoord(o+1)-r.dataToCoord(o),l=Math.abs(u),c=Sm(o==null?"":o+"",i.getFont(),"center","top"),h=Math.max(c.height,7),f=h/l;isNaN(f)&&(f=1/0);var d=Math.max(0,Math.floor(f)),p=X9e(r.model),g=p.lastAutoInterval,v=p.lastTickCount;return g!=null&&v!=null&&Math.abs(g-d)<=1&&Math.abs(v-s)<=1&&g>d?d=g:(p.lastTickCount=s,p.lastAutoInterval=d),d},e}(_a);WF.prototype.dataToAngle=_a.prototype.dataToCoord;WF.prototype.angleToData=_a.prototype.coordToData;var Fte=["radius","angle"],Z9e=function(){function t(e){this.dimensions=Fte,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new $F,this._angleAxis=new WF,this.axisPointerEnabled=!0,this.name=e||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(e){var r=this.pointToCoord(e);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},t.prototype.containData=function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},t.prototype.getAxis=function(e){var r="_"+e+"Axis";return this[r]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(e){var r=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===e&&r.push(i),n.scale.type===e&&r.push(n),r},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(e){var r=this._angleAxis;return e===r?this._radiusAxis:r},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(e){var r=e!=null&&e!=="auto"?this.getAxis(e):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},t.prototype.dataToPoint=function(e,r){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],r),this._angleAxis.dataToAngle(e[1],r)])},t.prototype.pointToData=function(e,r){var i=this.pointToCoord(e);return[this._radiusAxis.radiusToData(i[0],r),this._angleAxis.angleToData(i[1],r)]},t.prototype.pointToCoord=function(e){var r=e[0]-this.cx,i=e[1]-this.cy,n=this.getAngleAxis(),a=n.getExtent(),s=Math.min(a[0],a[1]),o=Math.max(a[0],a[1]);n.inverse?s=o-360:o=s+360;var u=Math.sqrt(r*r+i*i);r/=u,i/=u;for(var l=Math.atan2(-i,r)/Math.PI*180,c=l<s?1:-1;l<s||l>o;)l+=c*360;return[u,l]},t.prototype.coordToPoint=function(e){var r=e[0],i=e[1]/180*Math.PI,n=Math.cos(i)*r+this.cx,a=-Math.sin(i)*r+this.cy;return[n,a]},t.prototype.getArea=function(){var e=this.getAngleAxis(),r=this.getRadiusAxis(),i=r.getExtent().slice();i[0]>i[1]&&i.reverse();var n=e.getExtent(),a=Math.PI/180,s=1e-4;return{cx:this.cx,cy:this.cy,r0:i[0],r:i[1],startAngle:-n[0]*a,endAngle:-n[1]*a,clockwise:e.inverse,contain:function(o,u){var l=o-this.cx,c=u-this.cy,h=l*l+c*c,f=this.r,d=this.r0;return f!==d&&h-s<=f*f&&h+s>=d*d}}},t.prototype.convertToPixel=function(e,r,i){var n=mH(r);return n===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var n=mH(r);return n===this?this.pointToData(i):null},t}();function mH(t){var e=t.seriesModel,r=t.polarModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function K9e(t,e,r){var i=e.get("center"),n=r.getWidth(),a=r.getHeight();t.cx=je(i[0],n),t.cy=je(i[1],a);var s=t.getRadiusAxis(),o=Math.min(n,a)/2,u=e.get("radius");u==null?u=[0,"100%"]:Te(u)||(u=[0,u]);var l=[je(u[0],o),je(u[1],o)];s.inverse?s.setExtent(l[1],l[0]):s.setExtent(l[0],l[1])}function J9e(t,e){var r=this,i=r.getAngleAxis(),n=r.getRadiusAxis();if(i.scale.setExtent(1/0,-1/0),n.scale.setExtent(1/0,-1/0),t.eachSeries(function(o){if(o.coordinateSystem===r){var u=o.getData();G(k3(u,"radius"),function(l){n.scale.unionExtentFromData(u,l)}),G(k3(u,"angle"),function(l){i.scale.unionExtentFromData(u,l)})}}),tf(i.scale,i.model),tf(n.scale,n.model),i.type==="category"&&!i.onBand){var a=i.getExtent(),s=360/i.scale.count();i.inverse?a[1]+=s:a[1]-=s,i.setExtent(a[0],a[1])}}function Q9e(t){return t.mainType==="angleAxis"}function yH(t,e){var r;if(t.type=e.get("type"),t.scale=Lm(e),t.onBand=e.get("boundaryGap")&&t.type==="category",t.inverse=e.get("inverse"),Q9e(e)){t.inverse=t.inverse!==e.get("clockwise");var i=e.get("startAngle"),n=(r=e.get("endAngle"))!==null&&r!==void 0?r:i+(t.inverse?-360:360);t.setExtent(i,n)}e.axis=t,t.model=e}var eFe={dimensions:Fte,create:function(t,e){var r=[];return t.eachComponent("polar",function(i,n){var a=new Z9e(n+"");a.update=J9e;var s=a.getRadiusAxis(),o=a.getAngleAxis(),u=i.findAxisModel("radiusAxis"),l=i.findAxisModel("angleAxis");yH(s,u),yH(o,l),K9e(a,i,e),r.push(a),i.coordinateSystem=a,a.model=i}),t.eachSeries(function(i){if(i.get("coordinateSystem")==="polar"){var n=i.getReferringComponents("polar",wi).models[0];i.coordinateSystem=n.coordinateSystem}}),r}},tFe=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function N_(t,e,r){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],r]),n=t.coordToPoint([e[1],r]);return{x1:i[0],y1:i[1],x2:n[0],y2:n[1]}}function k_(t){var e=t.getRadiusAxis();return e.inverse?0:1}function _H(t){var e=t[0],r=t[t.length-1];e&&r&&Math.abs(Math.abs(e.coord-r.coord)-360)<1e-4&&t.pop()}var rFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,i){if(this.group.removeAll(),!!r.get("show")){var n=r.axis,a=n.polar,s=a.getRadiusAxis().getExtent(),o=n.getTicksCoords(),u=n.getMinorTicksCoords(),l=Ie(n.getViewLabels(),function(c){c=ht(c);var h=n.scale,f=h.type==="ordinal"?h.getRawOrdinalNumber(c.tickValue):c.tickValue;return c.coord=n.dataToCoord(f),c});_H(l),_H(o),G(tFe,function(c){r.get([c,"show"])&&(!n.scale.isBlank()||c==="axisLine")&&iFe[c](this.group,r,a,o,u,s,l)},this)}},e.type="angleAxis",e}(Df),iFe={axisLine:function(t,e,r,i,n,a){var s=e.getModel(["axisLine","lineStyle"]),o=r.getAngleAxis(),u=Math.PI/180,l=o.getExtent(),c=k_(r),h=c?0:1,f,d=Math.abs(l[1]-l[0])===360?"Circle":"Arc";a[h]===0?f=new Sf[d]({shape:{cx:r.cx,cy:r.cy,r:a[c],startAngle:-l[0]*u,endAngle:-l[1]*u,clockwise:o.inverse},style:s.getLineStyle(),z2:1,silent:!0}):f=new wm({shape:{cx:r.cx,cy:r.cy,r:a[c],r0:a[h]},style:s.getLineStyle(),z2:1,silent:!0}),f.style.fill=null,t.add(f)},axisTick:function(t,e,r,i,n,a){var s=e.getModel("axisTick"),o=(s.get("inside")?-1:1)*s.get("length"),u=a[k_(r)],l=Ie(i,function(c){return new Ui({shape:N_(r,[u,u+o],c.coord)})});t.add(As(l,{style:st(s.getModel("lineStyle").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,e,r,i,n,a){if(n.length){for(var s=e.getModel("axisTick"),o=e.getModel("minorTick"),u=(s.get("inside")?-1:1)*o.get("length"),l=a[k_(r)],c=[],h=0;h<n.length;h++)for(var f=0;f<n[h].length;f++)c.push(new Ui({shape:N_(r,[l,l+u],n[h][f].coord)}));t.add(As(c,{style:st(o.getModel("lineStyle").getLineStyle(),st(s.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,e,r,i,n,a,s){var o=e.getCategories(!0),u=e.getModel("axisLabel"),l=u.get("margin"),c=e.get("triggerEvent");G(s,function(h,f){var d=u,p=h.tickValue,g=a[k_(r)],v=r.coordToPoint([g+l,h.coord]),m=r.cx,y=r.cy,_=Math.abs(v[0]-m)/g<.3?"center":v[0]>m?"left":"right",x=Math.abs(v[1]-y)/g<.3?"middle":v[1]>y?"top":"bottom";if(o&&o[p]){var b=o[p];lt(b)&&b.textStyle&&(d=new Xt(b.textStyle,u,u.ecModel))}var C=new zt({silent:la.isLabelSilent(e),style:pr(d,{x:v[0],y:v[1],fill:d.getTextColor()||e.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:_,verticalAlign:x})});if(t.add(C),c){var E=la.makeAxisEventDataBase(e);E.targetType="axisLabel",E.value=h.rawLabel,pt(C).eventData=E}},this)},splitLine:function(t,e,r,i,n,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),u=o.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=0;h<i.length;h++){var f=l++%u.length;c[f]=c[f]||[],c[f].push(new Ui({shape:N_(r,a,i[h].coord)}))}for(var h=0;h<c.length;h++)t.add(As(c[h],{style:st({stroke:u[h%u.length]},o.getLineStyle()),silent:!0,z:e.get("z")}))},minorSplitLine:function(t,e,r,i,n,a){if(n.length){for(var s=e.getModel("minorSplitLine"),o=s.getModel("lineStyle"),u=[],l=0;l<n.length;l++)for(var c=0;c<n[l].length;c++)u.push(new Ui({shape:N_(r,a,n[l][c].coord)}));t.add(As(u,{style:o.getLineStyle(),silent:!0,z:e.get("z")}))}},splitArea:function(t,e,r,i,n,a){if(i.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),u=o.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=Math.PI/180,f=-i[0].coord*h,d=Math.min(a[0],a[1]),p=Math.max(a[0],a[1]),g=e.get("clockwise"),v=1,m=i.length;v<=m;v++){var y=v===m?i[0].coord:i[v].coord,_=l++%u.length;c[_]=c[_]||[],c[_].push(new da({shape:{cx:r.cx,cy:r.cy,r0:d,r:p,startAngle:f,endAngle:-y*h,clockwise:g},silent:!0})),f=-y*h}for(var v=0;v<c.length;v++)t.add(As(c[v],{style:st({fill:u[v%u.length]},o.getAreaStyle()),silent:!0}))}}},nFe=["axisLine","axisTickLabel","axisName"],aFe=["splitLine","splitArea","minorSplitLine"],sFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="PolarAxisPointer",r}return e.prototype.render=function(r,i){if(this.group.removeAll(),!!r.get("show")){var n=this._axisGroup,a=this._axisGroup=new dt;this.group.add(a);var s=r.axis,o=s.polar,u=o.getAngleAxis(),l=s.getTicksCoords(),c=s.getMinorTicksCoords(),h=u.getExtent()[0],f=s.getExtent(),d=uFe(o,r,h),p=new la(r,d);G(nFe,p.add,p),a.add(p.getGroup()),Im(n,a,r),G(aFe,function(g){r.get([g,"show"])&&!s.scale.isBlank()&&oFe[g](this.group,r,o,h,f,l,c)},this)}},e.type="radiusAxis",e}(Df),oFe={splitLine:function(t,e,r,i,n,a){var s=e.getModel("splitLine"),o=s.getModel("lineStyle"),u=o.get("color"),l=0,c=r.getAngleAxis(),h=Math.PI/180,f=c.getExtent(),d=Math.abs(f[1]-f[0])===360?"Circle":"Arc";u=u instanceof Array?u:[u];for(var p=[],g=0;g<a.length;g++){var v=l++%u.length;p[v]=p[v]||[],p[v].push(new Sf[d]({shape:{cx:r.cx,cy:r.cy,r:Math.max(a[g].coord,0),startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:c.inverse}}))}for(var g=0;g<p.length;g++)t.add(As(p[g],{style:st({stroke:u[g%u.length],fill:null},o.getLineStyle()),silent:!0}))},minorSplitLine:function(t,e,r,i,n,a,s){if(s.length){for(var o=e.getModel("minorSplitLine"),u=o.getModel("lineStyle"),l=[],c=0;c<s.length;c++)for(var h=0;h<s[c].length;h++)l.push(new Dl({shape:{cx:r.cx,cy:r.cy,r:s[c][h].coord}}));t.add(As(l,{style:st({fill:null},u.getLineStyle()),silent:!0}))}},splitArea:function(t,e,r,i,n,a){if(a.length){var s=e.getModel("splitArea"),o=s.getModel("areaStyle"),u=o.get("color"),l=0;u=u instanceof Array?u:[u];for(var c=[],h=a[0].coord,f=1;f<a.length;f++){var d=l++%u.length;c[d]=c[d]||[],c[d].push(new da({shape:{cx:r.cx,cy:r.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),h=a[f].coord}for(var f=0;f<c.length;f++)t.add(As(c[f],{style:st({fill:u[f%u.length]},o.getAreaStyle()),silent:!0}))}}};function uFe(t,e,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1}}function Ite(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Bte(t,e){return e.dim+t.model.componentIndex}function lFe(t,e,r){var i={},n=cFe(sr(e.getSeriesByType(t),function(a){return!e.isSeriesFiltered(a)&&a.coordinateSystem&&a.coordinateSystem.type==="polar"}));e.eachSeriesByType(t,function(a){if(a.coordinateSystem.type==="polar"){var s=a.getData(),o=a.coordinateSystem,u=o.getBaseAxis(),l=Bte(o,u),c=Ite(a),h=n[l][c],f=h.offset,d=h.width,p=o.getOtherAxis(u),g=a.coordinateSystem.cx,v=a.coordinateSystem.cy,m=a.get("barMinHeight")||0,y=a.get("barMinAngle")||0;i[c]=i[c]||[];for(var _=s.mapDimension(p.dim),x=s.mapDimension(u.dim),b=ml(s,_),C=u.dim!=="radius"||!a.get("roundCap",!0),E=p.model,A=E.get("startValue"),S=p.dataToCoord(A||0),T=0,D=s.count();T<D;T++){var F=s.get(_,T),B=s.get(x,T),O=F>=0?"p":"n",M=S;b&&(i[c][B]||(i[c][B]={p:S,n:S}),M=i[c][B][O]);var R=void 0,z=void 0,k=void 0,U=void 0;if(p.dim==="radius"){var V=p.dataToCoord(F)-S,j=u.dataToCoord(B);Math.abs(V)<m&&(V=(V<0?-1:1)*m),R=M,z=M+V,k=j-f,U=k-d,b&&(i[c][B][O]=z)}else{var Y=p.dataToCoord(F,C)-S,te=u.dataToCoord(B);Math.abs(Y)<y&&(Y=(Y<0?-1:1)*y),R=te+f,z=R+d,k=M,U=M+Y,b&&(i[c][B][O]=U)}s.setItemLayout(T,{cx:g,cy:v,r0:R,r:z,startAngle:-k*Math.PI/180,endAngle:-U*Math.PI/180,clockwise:k>=U})}}})}function cFe(t){var e={};G(t,function(i,n){var a=i.getData(),s=i.coordinateSystem,o=s.getBaseAxis(),u=Bte(s,o),l=o.getExtent(),c=o.type==="category"?o.getBandWidth():Math.abs(l[1]-l[0])/a.count(),h=e[u]||{bandWidth:c,remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;e[u]=h;var d=Ite(i);f[d]||h.autoWidthCount++,f[d]=f[d]||{width:0,maxWidth:0};var p=je(i.get("barWidth"),c),g=je(i.get("barMaxWidth"),c),v=i.get("barGap"),m=i.get("barCategoryGap");p&&!f[d].width&&(p=Math.min(h.remainedWidth,p),f[d].width=p,h.remainedWidth-=p),g&&(f[d].maxWidth=g),v!=null&&(h.gap=v),m!=null&&(h.categoryGap=m)});var r={};return G(e,function(i,n){r[n]={};var a=i.stacks,s=i.bandWidth,o=je(i.categoryGap,s),u=je(i.gap,1),l=i.remainedWidth,c=i.autoWidthCount,h=(l-o)/(c+(c-1)*u);h=Math.max(h,0),G(a,function(g,v){var m=g.maxWidth;m&&m<h&&(m=Math.min(m,l),g.width&&(m=Math.min(m,g.width)),l-=m,g.width=m,c--)}),h=(l-o)/(c+(c-1)*u),h=Math.max(h,0);var f=0,d;G(a,function(g,v){g.width||(g.width=h),d=g,f+=g.width*(1+u)}),d&&(f-=d.width*u);var p=-f/2;G(a,function(g,v){r[n][v]=r[n][v]||{offset:p,width:g.width},p+=g.width*(1+u)})}),r}var hFe={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},fFe={splitNumber:5},dFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="polar",e}(_r);function pFe(t){ft(jm),Df.registerAxisPointerClass("PolarAxisPointer",j9e),t.registerCoordinateSystem("polar",eFe),t.registerComponentModel(W9e),t.registerComponentView(dFe),Fp(t,"angle",Y9e,hFe),Fp(t,"radius",q9e,fFe),t.registerComponentView(rFe),t.registerComponentView(sFe),t.registerLayout(mt(lFe,"bar"))}function Rw(t,e){e=e||{};var r=t.coordinateSystem,i=t.axis,n={},a=i.position,s=i.orient,o=r.getRect(),u=[o.x,o.x+o.width,o.y,o.y+o.height],l={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};n.position=[s==="vertical"?l.vertical[a]:u[0],s==="horizontal"?l.horizontal[a]:u[3]];var c={horizontal:0,vertical:1};n.rotation=Math.PI/2*c[s];var h={top:-1,bottom:1,right:1,left:-1};n.labelDirection=n.tickDirection=n.nameDirection=h[a],t.get(["axisTick","inside"])&&(n.tickDirection=-n.tickDirection),dn(e.labelInside,t.get(["axisLabel","inside"]))&&(n.labelDirection=-n.labelDirection);var f=e.rotate;return f==null&&(f=t.get(["axisLabel","rotate"])),n.labelRotation=a==="top"?-f:f,n.z2=1,n}var gFe=["axisLine","axisTickLabel","axisName"],vFe=["splitArea","splitLine"],mFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.axisPointerClass="SingleAxisPointer",r}return e.prototype.render=function(r,i,n,a){var s=this.group;s.removeAll();var o=this._axisGroup;this._axisGroup=new dt;var u=Rw(r),l=new la(r,u);G(gFe,l.add,l),s.add(this._axisGroup),s.add(l.getGroup()),G(vFe,function(c){r.get([c,"show"])&&yFe[c](this,this.group,this._axisGroup,r)},this),Im(o,this._axisGroup,r),t.prototype.render.call(this,r,i,n,a)},e.prototype.remove=function(){JQ(this)},e.type="singleAxis",e}(Df),yFe={splitLine:function(t,e,r,i){var n=i.axis;if(!n.scale.isBlank()){var a=i.getModel("splitLine"),s=a.getModel("lineStyle"),o=s.get("color");o=o instanceof Array?o:[o];for(var u=s.get("width"),l=i.coordinateSystem.getRect(),c=n.isHorizontal(),h=[],f=0,d=n.getTicksCoords({tickModel:a}),p=[],g=[],v=0;v<d.length;++v){var m=n.toGlobalCoord(d[v].coord);c?(p[0]=m,p[1]=l.y,g[0]=m,g[1]=l.y+l.height):(p[0]=l.x,p[1]=m,g[0]=l.x+l.width,g[1]=m);var y=new Ui({shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},silent:!0});Tp(y.shape,u);var _=f++%o.length;h[_]=h[_]||[],h[_].push(y)}for(var x=s.getLineStyle(["color"]),v=0;v<h.length;++v)e.add(As(h[v],{style:st({stroke:o[v%o.length]},x),silent:!0}))}},splitArea:function(t,e,r,i){KQ(t,r,i,i)}},e5=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.getCoordSysModel=function(){return this},e.type="singleAxis",e.layoutMode="box",e.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},e}(Dt);yi(e5,Cg.prototype);var _Fe=function(t){ce(e,t);function e(r,i,n,a,s){var o=t.call(this,r,i,n)||this;return o.type=a||"value",o.position=s||"bottom",o}return e.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},e.prototype.pointToData=function(r,i){return this.coordinateSystem.pointToData(r)[0]},e}(_a),Mte=["single"],xFe=function(){function t(e,r,i){this.type="single",this.dimension="single",this.dimensions=Mte,this.axisPointerEnabled=!0,this.model=e,this._init(e,r,i)}return t.prototype._init=function(e,r,i){var n=this.dimension,a=new _Fe(n,Lm(e),[0,0],e.get("type"),e.get("position")),s=a.type==="category";a.onBand=s&&e.get("boundaryGap"),a.inverse=e.get("inverse"),a.orient=e.get("orient"),e.axis=a,a.model=e,a.coordinateSystem=this,this._axis=a},t.prototype.update=function(e,r){e.eachSeries(function(i){if(i.coordinateSystem===this){var n=i.getData();G(n.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(n,a)},this),tf(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(e,r){this._rect=ai({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var e=this._rect,r=this._axis,i=r.isHorizontal(),n=i?[0,e.width]:[0,e.height],a=r.inverse?1:0;r.setExtent(n[a],n[1-a]),this._updateAxisTransform(r,i?e.x:e.y)},t.prototype._updateAxisTransform=function(e,r){var i=e.getExtent(),n=i[0]+i[1],a=e.isHorizontal();e.toGlobalCoord=a?function(s){return s+r}:function(s){return n-s+r},e.toLocalCoord=a?function(s){return s-r}:function(s){return n-s+r}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(e){var r=this.getRect(),i=this.getAxis(),n=i.orient;return n==="horizontal"?i.contain(i.toLocalCoord(e[0]))&&e[1]>=r.y&&e[1]<=r.y+r.height:i.contain(i.toLocalCoord(e[1]))&&e[0]>=r.y&&e[0]<=r.y+r.height},t.prototype.pointToData=function(e){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(e[r.orient==="horizontal"?0:1]))]},t.prototype.dataToPoint=function(e){var r=this.getAxis(),i=this.getRect(),n=[],a=r.orient==="horizontal"?0:1;return e instanceof Array&&(e=e[0]),n[a]=r.toGlobalCoord(r.dataToCoord(+e)),n[1-a]=a===0?i.y+i.height/2:i.x+i.width/2,n},t.prototype.convertToPixel=function(e,r,i){var n=xH(r);return n===this?this.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var n=xH(r);return n===this?this.pointToData(i):null},t}();function xH(t){var e=t.seriesModel,r=t.singleAxisModel;return r&&r.coordinateSystem||e&&e.coordinateSystem}function bFe(t,e){var r=[];return t.eachComponent("singleAxis",function(i,n){var a=new xFe(i,t,e);a.name="single_"+n,a.resize(i,e),i.coordinateSystem=a,r.push(a)}),t.eachSeries(function(i){if(i.get("coordinateSystem")==="singleAxis"){var n=i.getReferringComponents("singleAxis",wi).models[0];i.coordinateSystem=n&&n.coordinateSystem}}),r}var CFe={create:bFe,dimensions:Mte},bH=["x","y"],EFe=["width","height"],SFe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.makeElOption=function(r,i,n,a,s){var o=n.axis,u=o.coordinateSystem,l=L6(u,1-J3(o)),c=u.dataToPoint(i)[0],h=a.get("type");if(h&&h!=="none"){var f=GF(a),d=TFe[h](o,c,l);d.style=f,r.graphicKey=d.type,r.pointer=d}var p=Rw(n);Tte(i,r,p,n,a,s)},e.prototype.getHandleTransform=function(r,i,n){var a=Rw(i,{labelInside:!1});a.labelMargin=n.get(["handle","margin"]);var s=UF(i.axis,r,a);return{x:s[0],y:s[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(r,i,n,a){var s=n.axis,o=s.coordinateSystem,u=J3(s),l=L6(o,u),c=[r.x,r.y];c[u]+=i[u],c[u]=Math.min(l[1],c[u]),c[u]=Math.max(l[0],c[u]);var h=L6(o,1-u),f=(h[1]+h[0])/2,d=[f,f];return d[u]=c[u],{x:c[0],y:c[1],rotation:r.rotation,cursorPoint:d,tooltipOption:{verticalAlign:"middle"}}},e}(HF),TFe={line:function(t,e,r){var i=jF([e,r[0]],[e,r[1]],J3(t));return{type:"Line",subPixelOptimize:!0,shape:i}},shadow:function(t,e,r){var i=t.getBandWidth(),n=r[1]-r[0];return{type:"Rect",shape:Ate([e-i/2,r[0]],[i,n],J3(t))}}};function J3(t){return t.isHorizontal()?0:1}function L6(t,e){var r=t.getRect();return[r[bH[e]],r[bH[e]]+r[EFe[e]]]}var AFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="single",e}(_r);function wFe(t){ft(jm),Df.registerAxisPointerClass("SingleAxisPointer",SFe),t.registerComponentView(AFe),t.registerComponentView(mFe),t.registerComponentModel(e5),Fp(t,"single",e5,e5.defaultOption),t.registerCoordinateSystem("single",CFe)}var DFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,i,n){var a=pg(r);t.prototype.init.apply(this,arguments),CH(r,a)},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),CH(this.option,r)},e.prototype.getCellSize=function(){return this.option.cellSize},e.type="calendar",e.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},e}(Dt);function CH(t,e){var r=t.cellSize,i;Te(r)?i=r:i=t.cellSize=[r,r],i.length===1&&(i[1]=i[0]);var n=Ie([0,1],function(a){return i4e(e,a)&&(i[a]="auto"),i[a]!=null&&i[a]!=="auto"});kc(t,e,{type:"box",ignoreSize:n})}var FFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){var a=this.group;a.removeAll();var s=r.coordinateSystem,o=s.getRangeInfo(),u=s.getOrient(),l=i.getLocaleModel();this._renderDayRect(r,o,a),this._renderLines(r,o,u,a),this._renderYearText(r,o,u,a),this._renderMonthText(r,l,u,a),this._renderWeekText(r,l,o,u,a)},e.prototype._renderDayRect=function(r,i,n){for(var a=r.coordinateSystem,s=r.getModel("itemStyle").getItemStyle(),o=a.getCellWidth(),u=a.getCellHeight(),l=i.start.time;l<=i.end.time;l=a.getNextNDay(l,1).time){var c=a.dataToRect([l],!1).tl,h=new Gt({shape:{x:c[0],y:c[1],width:o,height:u},cursor:"default",style:s});n.add(h)}},e.prototype._renderLines=function(r,i,n,a){var s=this,o=r.coordinateSystem,u=r.getModel(["splitLine","lineStyle"]).getLineStyle(),l=r.get(["splitLine","show"]),c=u.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=i.start,f=0;h.time<=i.end.time;f++){p(h.formatedDate),f===0&&(h=o.getDateInfo(i.start.y+"-"+i.start.m));var d=h.date;d.setMonth(d.getMonth()+1),h=o.getDateInfo(d)}p(o.getNextNDay(i.end.time,1).formatedDate);function p(g){s._firstDayOfMonth.push(o.getDateInfo(g)),s._firstDayPoints.push(o.dataToRect([g],!1).tl);var v=s._getLinePointsOfOneWeek(r,g,n);s._tlpoints.push(v[0]),s._blpoints.push(v[v.length-1]),l&&s._drawSplitline(v,u,a)}l&&this._drawSplitline(s._getEdgesPoints(s._tlpoints,c,n),u,a),l&&this._drawSplitline(s._getEdgesPoints(s._blpoints,c,n),u,a)},e.prototype._getEdgesPoints=function(r,i,n){var a=[r[0].slice(),r[r.length-1].slice()],s=n==="horizontal"?0:1;return a[0][s]=a[0][s]-i/2,a[1][s]=a[1][s]+i/2,a},e.prototype._drawSplitline=function(r,i,n){var a=new ya({z2:20,shape:{points:r},style:i});n.add(a)},e.prototype._getLinePointsOfOneWeek=function(r,i,n){for(var a=r.coordinateSystem,s=a.getDateInfo(i),o=[],u=0;u<7;u++){var l=a.getNextNDay(s.time,u),c=a.dataToRect([l.time],!1);o[2*l.day]=c.tl,o[2*l.day+1]=c[n==="horizontal"?"bl":"tr"]}return o},e.prototype._formatterLabel=function(r,i){return Xe(r)&&r?e4e(r,i):ot(r)?r(i):i.nameMap},e.prototype._yearTextPositionControl=function(r,i,n,a,s){var o=i[0],u=i[1],l=["center","bottom"];a==="bottom"?(u+=s,l=["center","top"]):a==="left"?o-=s:a==="right"?(o+=s,l=["center","top"]):u-=s;var c=0;return(a==="left"||a==="right")&&(c=Math.PI/2),{rotation:c,x:o,y:u,style:{align:l[0],verticalAlign:l[1]}}},e.prototype._renderYearText=function(r,i,n,a){var s=r.getModel("yearLabel");if(s.get("show")){var o=s.get("margin"),u=s.get("position");u||(u=n!=="horizontal"?"top":"left");var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],c=(l[0][0]+l[1][0])/2,h=(l[0][1]+l[1][1])/2,f=n==="horizontal"?0:1,d={top:[c,l[f][1]],bottom:[c,l[1-f][1]],left:[l[1-f][0],h],right:[l[f][0],h]},p=i.start.y;+i.end.y>+i.start.y&&(p=p+"-"+i.end.y);var g=s.get("formatter"),v={start:i.start.y,end:i.end.y,nameMap:p},m=this._formatterLabel(g,v),y=new zt({z2:30,style:pr(s,{text:m}),silent:s.get("silent")});y.attr(this._yearTextPositionControl(y,d[u],n,u,o)),a.add(y)}},e.prototype._monthTextPositionControl=function(r,i,n,a,s){var o="left",u="top",l=r[0],c=r[1];return n==="horizontal"?(c=c+s,i&&(o="center"),a==="start"&&(u="bottom")):(l=l+s,i&&(u="middle"),a==="start"&&(o="right")),{x:l,y:c,align:o,verticalAlign:u}},e.prototype._renderMonthText=function(r,i,n,a){var s=r.getModel("monthLabel");if(s.get("show")){var o=s.get("nameMap"),u=s.get("margin"),l=s.get("position"),c=s.get("align"),h=[this._tlpoints,this._blpoints];(!o||Xe(o))&&(o&&(i=j8(o)||i),o=i.get(["time","monthAbbr"])||[]);var f=l==="start"?0:1,d=n==="horizontal"?0:1;u=l==="start"?-u:u;for(var p=c==="center",g=s.get("silent"),v=0;v<h[f].length-1;v++){var m=h[f][v].slice(),y=this._firstDayOfMonth[v];if(p){var _=this._firstDayPoints[v];m[d]=(_[d]+h[0][v+1][d])/2}var x=s.get("formatter"),b=o[+y.m-1],C={yyyy:y.y,yy:(y.y+"").slice(2),MM:y.m,M:+y.m,nameMap:b},E=this._formatterLabel(x,C),A=new zt({z2:30,style:Ce(pr(s,{text:E}),this._monthTextPositionControl(m,p,n,l,u)),silent:g});a.add(A)}}},e.prototype._weekTextPositionControl=function(r,i,n,a,s){var o="center",u="middle",l=r[0],c=r[1],h=n==="start";return i==="horizontal"?(l=l+a+(h?1:-1)*s[0]/2,o=h?"right":"left"):(c=c+a+(h?1:-1)*s[1]/2,u=h?"bottom":"top"),{x:l,y:c,align:o,verticalAlign:u}},e.prototype._renderWeekText=function(r,i,n,a,s){var o=r.getModel("dayLabel");if(o.get("show")){var u=r.coordinateSystem,l=o.get("position"),c=o.get("nameMap"),h=o.get("margin"),f=u.getFirstDayOfWeek();if(!c||Xe(c)){c&&(i=j8(c)||i);var d=i.get(["time","dayOfWeekShort"]);c=d||Ie(i.get(["time","dayOfWeekAbbr"]),function(C){return C[0]})}var p=u.getNextNDay(n.end.time,7-n.lweek).time,g=[u.getCellWidth(),u.getCellHeight()];h=je(h,Math.min(g[1],g[0])),l==="start"&&(p=u.getNextNDay(n.start.time,-(7+n.fweek)).time,h=-h);for(var v=o.get("silent"),m=0;m<7;m++){var y=u.getNextNDay(p,m),_=u.dataToRect([y.time],!1).center,x=m;x=Math.abs((m+f)%7);var b=new zt({z2:30,style:Ce(pr(o,{text:c[x]}),this._weekTextPositionControl(_,a,l,h,g)),silent:v});s.add(b)}}},e.type="calendar",e}(_r),O6=864e5,IFe=function(){function t(e,r,i){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=e}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(e){e=ks(e);var r=e.getFullYear(),i=e.getMonth()+1,n=i<10?"0"+i:""+i,a=e.getDate(),s=a<10?"0"+a:""+a,o=e.getDay();return o=Math.abs((o+7-this.getFirstDayOfWeek())%7),{y:r+"",m:n,d:s,day:o,time:e.getTime(),formatedDate:r+"-"+n+"-"+s,date:e}},t.prototype.getNextNDay=function(e,r){return r=r||0,r===0?this.getDateInfo(e):(e=new Date(this.getDateInfo(e).time),e.setDate(e.getDate()+r),this.getDateInfo(e))},t.prototype.update=function(e,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,n=["width","height"],a=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),o=this._orient==="horizontal"?[i,7]:[7,i];G([0,1],function(h){c(a,h)&&(s[n[h]]=a[h]*o[h])});var u={width:r.getWidth(),height:r.getHeight()},l=this._rect=ai(s,u);G([0,1],function(h){c(a,h)||(a[h]=l[n[h]]/o[h])});function c(h,f){return h[f]!=null&&h[f]!=="auto"}this._sw=a[0],this._sh=a[1]},t.prototype.dataToPoint=function(e,r){Te(e)&&(e=e[0]),r==null&&(r=!0);var i=this.getDateInfo(e),n=this._rangeInfo,a=i.formatedDate;if(r&&!(i.time>=n.start.time&&i.time<n.end.time+O6))return[NaN,NaN];var s=i.day,o=this._getRangeInfo([n.start.time,a]).nthWeek;return this._orient==="vertical"?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]:[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},t.prototype.pointToData=function(e){var r=this.pointToDate(e);return r&&r.time},t.prototype.dataToRect=function(e,r){var i=this.dataToPoint(e,r);return{contentShape:{x:i[0]-(this._sw-this._lineWidth)/2,y:i[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:i,tl:[i[0]-this._sw/2,i[1]-this._sh/2],tr:[i[0]+this._sw/2,i[1]-this._sh/2],br:[i[0]+this._sw/2,i[1]+this._sh/2],bl:[i[0]-this._sw/2,i[1]+this._sh/2]}},t.prototype.pointToDate=function(e){var r=Math.floor((e[0]-this._rect.x)/this._sw)+1,i=Math.floor((e[1]-this._rect.y)/this._sh)+1,n=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(i,r-1,n):this._getDateByWeeksAndDay(r,i-1,n)},t.prototype.convertToPixel=function(e,r,i){var n=EH(r);return n===this?n.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var n=EH(r);return n===this?n.pointToData(i):null},t.prototype.containPoint=function(e){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var e=this._model.get("range"),r;if(Te(e)&&e.length===1&&(e=e[0]),Te(e))r=e;else{var i=e.toString();if(/^\d{4}$/.test(i)&&(r=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)){var n=this.getDateInfo(i),a=n.date;a.setMonth(a.getMonth()+1);var s=this.getNextNDay(a,-1);r=[n.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(r=[i,i])}if(!r)return e;var o=this._getRangeInfo(r);return o.start.time>o.end.time&&r.reverse(),r},t.prototype._getRangeInfo=function(e){var r=[this.getDateInfo(e[0]),this.getDateInfo(e[1])],i;r[0].time>r[1].time&&(i=!0,r.reverse());var n=Math.floor(r[1].time/O6)-Math.floor(r[0].time/O6)+1,a=new Date(r[0].time),s=a.getDate(),o=r[1].date.getDate();a.setDate(s+n-1);var u=a.getDate();if(u!==o)for(var l=a.getTime()-r[1].time>0?1:-1;(u=a.getDate())!==o&&(a.getTime()-r[1].time)*l>0;)n-=l,a.setDate(u-l);var c=Math.floor((n+r[0].day+6)/7),h=i?-c+1:c-1;return i&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:n,weeks:c,nthWeek:h,fweek:r[0].day,lweek:r[1].day}},t.prototype._getDateByWeeksAndDay=function(e,r,i){var n=this._getRangeInfo(i);if(e>n.weeks||e===0&&r<n.fweek||e===n.weeks&&r>n.lweek)return null;var a=(e-1)*7-n.fweek+r,s=new Date(n.start.time);return s.setDate(+n.start.d+a),this.getDateInfo(s)},t.create=function(e,r){var i=[];return e.eachComponent("calendar",function(n){var a=new t(n);i.push(a),n.coordinateSystem=a}),e.eachSeries(function(n){n.get("coordinateSystem")==="calendar"&&(n.coordinateSystem=i[n.get("calendarIndex")||0])}),i},t.dimensions=["time","value"],t}();function EH(t){var e=t.calendarModel,r=t.seriesModel,i=e?e.coordinateSystem:r?r.coordinateSystem:null;return i}function BFe(t){t.registerComponentModel(DFe),t.registerComponentView(FFe),t.registerCoordinateSystem("calendar",IFe)}function MFe(t,e){var r=t.existing;if(e.id=t.keyInfo.id,!e.type&&r&&(e.type=r.type),e.parentId==null){var i=e.parentOption;i?e.parentId=i.id:r&&(e.parentId=r.parentId)}e.parentOption=null}function SH(t,e){var r;return G(e,function(i){t[i]!=null&&t[i]!=="auto"&&(r=!0)}),r}function PFe(t,e,r){var i=Ce({},r),n=t[e],a=r.$action||"merge";a==="merge"?n?(et(n,i,!0),kc(n,i,{ignoreSize:!0}),_K(r,n),z_(r,n),z_(r,n,"shape"),z_(r,n,"style"),z_(r,n,"extra"),r.clipPath=n.clipPath):t[e]=i:a==="replace"?t[e]=i:a==="remove"&&n&&(t[e]=null)}var Pte=["transition","enterFrom","leaveTo"],LFe=Pte.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function z_(t,e,r){if(r&&(!t[r]&&e[r]&&(t[r]={}),t=t[r],e=e[r]),!(!t||!e))for(var i=r?Pte:LFe,n=0;n<i.length;n++){var a=i[n];t[a]==null&&e[a]!=null&&(t[a]=e[a])}}function OFe(t,e){if(t&&(t.hv=e.hv=[SH(e,["left","right"]),SH(e,["top","bottom"])],t.type==="group")){var r=t,i=e;r.width==null&&(r.width=i.width=0),r.height==null&&(r.height=i.height=0)}}var RFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.preventAutoZ=!0,r}return e.prototype.mergeOption=function(r,i){var n=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,r,i),this.option.elements=n},e.prototype.optionUpdated=function(r,i){var n=this.option,a=(i?n:r).elements,s=n.elements=i?[]:n.elements,o=[];this._flatten(a,o,null);var u=vZ(s,o,"normalMerge"),l=this._elOptionsToUpdate=[];G(u,function(c,h){var f=c.newOption;f&&(l.push(f),MFe(c,f),PFe(s,h,f),OFe(s[h],f))},this),n.elements=sr(s,function(c){return c&&delete c.$action,c!=null})},e.prototype._flatten=function(r,i,n){G(r,function(a){if(a){n&&(a.parentOption=n),i.push(a);var s=a.children;s&&s.length&&this._flatten(s,i,a),delete a.children}},this)},e.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},e.type="graphic",e.defaultOption={elements:[]},e}(Dt),TH={path:null,compoundPath:null,group:dt,image:en,text:zt},bs=Yt(),NFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){this._elMap=nt()},e.prototype.render=function(r,i,n){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,n)},e.prototype._updateElements=function(r){var i=r.useElOptionsToUpdate();if(i){var n=this._elMap,a=this.group,s=r.get("z"),o=r.get("zlevel");G(i,function(u){var l=Oi(u.id,null),c=l!=null?n.get(l):null,h=Oi(u.parentId,null),f=h!=null?n.get(h):a,d=u.type,p=u.style;d==="text"&&p&&u.hv&&u.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var g=u.textContent,v=u.textConfig;if(p&&dte(p,d,!!v,!!g)){var m=pte(p,d,!0);!v&&m.textConfig&&(v=u.textConfig=m.textConfig),!g&&m.textContent&&(g=m.textContent)}var y=kFe(u),_=u.$action||"merge",x=_==="merge",b=_==="replace";if(x){var C=!c,E=c;C?E=AH(l,f,u.type,n):(E&&(bs(E).isNew=!1),yte(E)),E&&(Jx(E,y,r,{isInit:C}),wH(E,u,s,o))}else if(b){t5(c,u,n,r);var A=AH(l,f,u.type,n);A&&(Jx(A,y,r,{isInit:!0}),wH(A,u,s,o))}else _==="remove"&&(vte(c,u),t5(c,u,n,r));var S=n.get(l);if(S&&g)if(x){var T=S.getTextContent();T?T.attr(g):S.setTextContent(new zt(g))}else b&&S.setTextContent(new zt(g));if(S){var D=u.clipPath;if(D){var F=D.type,B=void 0,C=!1;if(x){var O=S.getClipPath();C=!O||bs(O).type!==F,B=C?Nw(F):O}else b&&(C=!0,B=Nw(F));S.setClipPath(B),Jx(B,D,r,{isInit:C}),Z3(B,D.keyframeAnimation,r)}var M=bs(S);S.setTextConfig(v),M.option=u,zFe(S,r,u),Ef({el:S,componentModel:r,itemName:S.name,itemTooltipOption:u.tooltip}),Z3(S,u.keyframeAnimation,r)}})}},e.prototype._relocate=function(r,i){for(var n=r.option.elements,a=this.group,s=this._elMap,o=i.getWidth(),u=i.getHeight(),l=["x","y"],c=0;c<n.length;c++){var h=n[c],f=Oi(h.id,null),d=f!=null?s.get(f):null;if(!(!d||!d.isGroup)){var p=d.parent,g=p===a,v=bs(d),m=bs(p);v.width=je(v.option.width,g?o:m.width)||0,v.height=je(v.option.height,g?u:m.height)||0}}for(var c=n.length-1;c>=0;c--){var h=n[c],f=Oi(h.id,null),d=f!=null?s.get(f):null;if(d){var p=d.parent,m=bs(p),y=p===a?{width:o,height:u}:{width:m.width,height:m.height},_={},x=Nb(d,h,y,null,{hv:h.hv,boundingMode:h.bounding},_);if(!bs(d).isNew&&x){for(var b=h.transition,C={},E=0;E<l.length;E++){var A=l[E],S=_[A];b&&(Rh(b)||wt(b,A)>=0)?C[A]=S:d[A]=S}er(d,C,r,0)}else d.attr(_)}}},e.prototype._clear=function(){var r=this,i=this._elMap;i.each(function(n){t5(n,bs(n).option,i,r._lastGraphicModel)}),this._elMap=nt()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(_r);function Nw(t){var e=tt(TH,t)?TH[t]:m9(t),r=new e({});return bs(r).type=t,r}function AH(t,e,r,i){var n=Nw(r);return e.add(n),i.set(t,n),bs(n).id=t,bs(n).isNew=!0,n}function t5(t,e,r,i){var n=t&&t.parent;n&&(t.type==="group"&&t.traverse(function(a){t5(a,e,r,i)}),Qb(t,e,i),r.removeKey(bs(t).id))}function wH(t,e,r,i){t.isGroup||G([["cursor",zs.prototype.cursor],["zlevel",i||0],["z",r||0],["z2",0]],function(n){var a=n[0];tt(e,a)?t[a]=gt(e[a],n[1]):t[a]==null&&(t[a]=n[1])}),G(kt(e),function(n){if(n.indexOf("on")===0){var a=e[n];t[n]=ot(a)?a:null}}),tt(e,"draggable")&&(t.draggable=e.draggable),e.name!=null&&(t.name=e.name),e.id!=null&&(t.id=e.id)}function kFe(t){return t=Ce({},t),G(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(yK),function(e){delete t[e]}),t}function zFe(t,e,r){var i=pt(t).eventData;!t.silent&&!t.ignore&&!i&&(i=pt(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),i&&(i.info=r.info)}function HFe(t){t.registerComponentModel(RFe),t.registerComponentView(NFe),t.registerPreprocessor(function(e){var r=e.graphic;Te(r)?!r[0]||!r[0].elements?e.graphic=[{elements:r}]:e.graphic=[e.graphic[0]]:r&&!r.elements&&(e.graphic=[{elements:[r]}])})}var DH=["x","y","radius","angle","single"],GFe=["cartesian2d","polar","singleAxis"];function UFe(t){var e=t.get("coordinateSystem");return wt(GFe,e)>=0}function Cc(t){return t+"Axis"}function jFe(t,e){var r=nt(),i=[],n=nt();t.eachComponent({mainType:"dataZoom",query:e},function(c){n.get(c.uid)||o(c)});var a;do a=!1,t.eachComponent("dataZoom",s);while(a);function s(c){!n.get(c.uid)&&u(c)&&(o(c),a=!0)}function o(c){n.set(c.uid,!0),i.push(c),l(c)}function u(c){var h=!1;return c.eachTargetAxis(function(f,d){var p=r.get(f);p&&p[d]&&(h=!0)}),h}function l(c){c.eachTargetAxis(function(h,f){(r.get(h)||r.set(h,[]))[f]=!0})}return i}function Lte(t){var e=t.ecModel,r={infoList:[],infoMap:nt()};return t.eachTargetAxis(function(i,n){var a=e.getComponent(Cc(i),n);if(a){var s=a.getCoordSysModel();if(s){var o=s.uid,u=r.infoMap.get(o);u||(u={model:s,axisModels:[]},r.infoList.push(u),r.infoMap.set(o,u)),u.axisModels.push(a)}}}),r}var R6=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(e){this.indexMap[e]||(this.indexList.push(e),this.indexMap[e]=!0)},t}(),X2=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return e.prototype.init=function(r,i,n){var a=FH(r);this.settledOption=a,this.mergeDefaultAndTheme(r,n),this._doInit(a)},e.prototype.mergeOption=function(r){var i=FH(r);et(this.option,r,!0),et(this.settledOption,i,!0),this._doInit(i)},e.prototype._doInit=function(r){var i=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var n=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a,s){this._rangePropMode[s]==="value"&&(i[a[0]]=n[a[0]]=null)},this),this._resetTarget()},e.prototype._resetTarget=function(){var r=this.get("orient",!0),i=this._targetAxisInfoMap=nt(),n=this._fillSpecifiedTargetAxis(i);n?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(i,this._orient)),this._noTarget=!0,i.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},e.prototype._fillSpecifiedTargetAxis=function(r){var i=!1;return G(DH,function(n){var a=this.getReferringComponents(Cc(n),jxe);if(a.specified){i=!0;var s=new R6;G(a.models,function(o){s.add(o.componentIndex)}),r.set(n,s)}},this),i},e.prototype._fillAutoTargetAxisByOrient=function(r,i){var n=this.ecModel,a=!0;if(a){var s=i==="vertical"?"y":"x",o=n.findComponents({mainType:s+"Axis"});u(o,s)}if(a){var o=n.findComponents({mainType:"singleAxis",filter:function(c){return c.get("orient",!0)===i}});u(o,"single")}function u(l,c){var h=l[0];if(h){var f=new R6;if(f.add(h.componentIndex),r.set(c,f),a=!1,c==="x"||c==="y"){var d=h.getReferringComponents("grid",wi).models[0];d&&G(l,function(p){h.componentIndex!==p.componentIndex&&d===p.getReferringComponents("grid",wi).models[0]&&f.add(p.componentIndex)})}}}a&&G(DH,function(l){if(a){var c=n.findComponents({mainType:Cc(l),filter:function(f){return f.get("type",!0)==="category"}});if(c[0]){var h=new R6;h.add(c[0].componentIndex),r.set(l,h),a=!1}}},this)},e.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(i){!r&&(r=i)},this),r==="y"?"vertical":"horizontal"},e.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var i=this.ecModel.option;this.option.throttle=i.animation&&i.animationDurationUpdate>0?100:20}},e.prototype._updateRangeUse=function(r){var i=this._rangePropMode,n=this.get("rangeMode");G([["start","startValue"],["end","endValue"]],function(a,s){var o=r[a[0]]!=null,u=r[a[1]]!=null;o&&!u?i[s]="percent":!o&&u?i[s]="value":n?i[s]=n[s]:o&&(i[s]="percent")})},e.prototype.noTarget=function(){return this._noTarget},e.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(i,n){r==null&&(r=this.ecModel.getComponent(Cc(i),n))},this),r},e.prototype.eachTargetAxis=function(r,i){this._targetAxisInfoMap.each(function(n,a){G(n.indexList,function(s){r.call(i,a,s)})})},e.prototype.getAxisProxy=function(r,i){var n=this.getAxisModel(r,i);if(n)return n.__dzAxisProxy},e.prototype.getAxisModel=function(r,i){var n=this._targetAxisInfoMap.get(r);if(n&&n.indexMap[i])return this.ecModel.getComponent(Cc(r),i)},e.prototype.setRawRange=function(r){var i=this.option,n=this.settledOption;G([["start","startValue"],["end","endValue"]],function(a){(r[a[0]]!=null||r[a[1]]!=null)&&(i[a[0]]=n[a[0]]=r[a[0]],i[a[1]]=n[a[1]]=r[a[1]])},this),this._updateRangeUse(r)},e.prototype.setCalculatedRange=function(r){var i=this.option;G(["start","startValue","end","endValue"],function(n){i[n]=r[n]})},e.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},e.prototype.getValueRange=function(r,i){if(r==null&&i==null){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(r,i).getDataValueWindow()},e.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var i,n=this._targetAxisInfoMap.keys(),a=0;a<n.length;a++)for(var s=n[a],o=this._targetAxisInfoMap.get(s),u=0;u<o.indexList.length;u++){var l=this.getAxisProxy(s,o.indexList[u]);if(l.hostedBy(this))return l;i||(i=l)}return i},e.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},e.prototype.getOrient=function(){return this._orient},e.type="dataZoom",e.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],e.defaultOption={z:4,filterMode:"filter",start:0,end:100},e}(Dt);function FH(t){var e={};return G(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(e[r]=t[r])}),e}var VFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(X2),YF=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n,a){this.dataZoomModel=r,this.ecModel=i,this.api=n},e.type="dataZoom",e}(_r),$Fe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.select",e}(YF),Ed=G,IH=Ds,WFe=function(){function t(e,r,i,n){this._dimName=e,this._axisIndex=r,this.ecModel=n,this._dataZoomModel=i}return t.prototype.hostedBy=function(e){return this._dataZoomModel===e},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var e=[];return this.ecModel.eachSeries(function(r){if(UFe(r)){var i=Cc(this._dimName),n=r.getReferringComponents(i,wi).models[0];n&&this._axisIndex===n.componentIndex&&e.push(r)}},this),e},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return ht(this._minMaxSpan)},t.prototype.calculateDataWindow=function(e){var r=this._dataExtent,i=this.getAxisModel(),n=i.axis.scale,a=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],u=[],l;Ed(["start","end"],function(f,d){var p=e[f],g=e[f+"Value"];a[d]==="percent"?(p==null&&(p=s[d]),g=n.parse(nr(p,s,r))):(l=!0,g=g==null?r[d]:n.parse(g),p=nr(g,r,s)),u[d]=g==null||isNaN(g)?r[d]:g,o[d]=p==null||isNaN(p)?s[d]:p}),IH(u),IH(o);var c=this._minMaxSpan;l?h(u,o,r,s,!1):h(o,u,s,r,!0);function h(f,d,p,g,v){var m=v?"Span":"ValueSpan";Ff(0,f,p,"all",c["min"+m],c["max"+m]);for(var y=0;y<2;y++)d[y]=nr(f[y],p,g,!0),v&&(d[y]=n.parse(d[y]))}return{valueWindow:u,percentWindow:o}},t.prototype.reset=function(e){if(e===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=YFe(this,this._dimName,r),this._updateMinMaxSpan();var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(e,r){if(e!==this._dataZoomModel)return;var i=this._dimName,n=this.getTargetSeriesModels(),a=e.get("filterMode"),s=this._valueWindow;if(a==="none")return;Ed(n,function(u){var l=u.getData(),c=l.mapDimensionsAll(i);if(c.length){if(a==="weakFilter"){var h=l.getStore(),f=Ie(c,function(d){return l.getDimensionIndex(d)},l);l.filterSelf(function(d){for(var p,g,v,m=0;m<c.length;m++){var y=h.get(f[m],d),_=!isNaN(y),x=y<s[0],b=y>s[1];if(_&&!x&&!b)return!0;_&&(v=!0),x&&(p=!0),b&&(g=!0)}return v&&p&&g})}else Ed(c,function(d){if(a==="empty")u.setData(l=l.map(d,function(g){return o(g)?g:NaN}));else{var p={};p[d]=s,l.selectRange(p)}});Ed(c,function(d){l.setApproximateExtent(s,d)})}});function o(u){return u>=s[0]&&u<=s[1]}},t.prototype._updateMinMaxSpan=function(){var e=this._minMaxSpan={},r=this._dataZoomModel,i=this._dataExtent;Ed(["min","max"],function(n){var a=r.get(n+"Span"),s=r.get(n+"ValueSpan");s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s!=null?a=nr(i[0]+s,i,[0,100],!0):a!=null&&(s=nr(a,[0,100],i,!0)-i[0]),e[n+"Span"]=a,e[n+"ValueSpan"]=s},this)},t.prototype._setAxisModel=function(){var e=this.getAxisModel(),r=this._percentWindow,i=this._valueWindow;if(r){var n=uZ(i,[0,500]);n=Math.min(n,20);var a=e.axis.scale.rawExtentInfo;r[0]!==0&&a.setDeterminedMinMax("min",+i[0].toFixed(n)),r[1]!==100&&a.setDeterminedMinMax("max",+i[1].toFixed(n)),a.freeze()}},t}();function YFe(t,e,r){var i=[1/0,-1/0];Ed(r,function(s){FEe(i,s.getData(),e)});var n=t.getAxisModel(),a=XJ(n.axis.scale,n,i).calculate();return[a.min,a.max]}var qFe={getTargetSeries:function(t){function e(n){t.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(s,o){var u=t.getComponent(Cc(s),o);n(s,o,u,a)})})}e(function(n,a,s,o){s.__dzAxisProxy=null});var r=[];e(function(n,a,s,o){s.__dzAxisProxy||(s.__dzAxisProxy=new WFe(n,a,o,t),r.push(s.__dzAxisProxy))});var i=nt();return G(r,function(n){G(n.getTargetSeriesModels(),function(a){i.set(a.uid,a)})}),i},overallReset:function(t,e){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(i,n){r.getAxisProxy(i,n).reset(r)}),r.eachTargetAxis(function(i,n){r.getAxisProxy(i,n).filterData(r,e)})}),t.eachComponent("dataZoom",function(r){var i=r.findRepresentativeAxisProxy();if(i){var n=i.getDataPercentWindow(),a=i.getDataValueWindow();r.setCalculatedRange({start:n[0],end:n[1],startValue:a[0],endValue:a[1]})}})}};function XFe(t){t.registerAction("dataZoom",function(e,r){var i=jFe(r,e);G(i,function(n){n.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})}var BH=!1;function qF(t){BH||(BH=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,qFe),XFe(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function ZFe(t){t.registerComponentModel(VFe),t.registerComponentView($Fe),qF(t)}var Es=function(){function t(){}return t}(),Ote={};function Sd(t,e){Ote[t]=e}function Rte(t){return Ote[t]}var KFe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;G(this.option.feature,function(i,n){var a=Rte(n);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(r)),et(i,a.defaultOption))})},e.type="toolbox",e.layoutMode={type:"box",ignoreSize:!0},e.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},e}(Dt);function JFe(t,e,r){var i=e.getBoxLayoutParams(),n=e.get("padding"),a={width:r.getWidth(),height:r.getHeight()},s=ai(i,a,n);Lh(e.get("orient"),t,e.get("itemGap"),s.width,s.height),Nb(t,i,a,n)}function Nte(t,e){var r=dg(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new Gt({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1}),t}var QFe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,i,n,a){var s=this.group;if(s.removeAll(),!r.get("show"))return;var o=+r.get("itemSize"),u=r.get("orient")==="vertical",l=r.get("feature")||{},c=this._features||(this._features={}),h=[];G(l,function(p,g){h.push(g)}),new vl(this._featureNames||[],h).add(f).update(f).remove(mt(f,null)).execute(),this._featureNames=h;function f(p,g){var v=h[p],m=h[g],y=l[v],_=new Xt(y,r,r.ecModel),x;if(a&&a.newTitle!=null&&a.featureName===v&&(y.title=a.newTitle),v&&!m){if(eIe(v))x={onclick:_.option.onclick,featureName:v};else{var b=Rte(v);if(!b)return;x=new b}c[v]=x}else if(x=c[m],!x)return;x.uid=fg("toolbox-feature"),x.model=_,x.ecModel=i,x.api=n;var C=x instanceof Es;if(!v&&m){C&&x.dispose&&x.dispose(i,n);return}if(!_.get("show")||C&&x.unusable){C&&x.remove&&x.remove(i,n);return}d(_,x,v),_.setIconStatus=function(E,A){var S=this.option,T=this.iconPaths;S.iconStatus=S.iconStatus||{},S.iconStatus[E]=A,T[E]&&(A==="emphasis"?pl:gl)(T[E])},x instanceof Es&&x.render&&x.render(_,i,n,a)}function d(p,g,v){var m=p.getModel("iconStyle"),y=p.getModel(["emphasis","iconStyle"]),_=g instanceof Es&&g.getIcons?g.getIcons():p.get("icon"),x=p.get("title")||{},b,C;Xe(_)?(b={},b[v]=_):b=_,Xe(x)?(C={},C[v]=x):C=x;var E=p.iconPaths={};G(b,function(A,S){var T=Bm(A,{},{x:-o/2,y:-o/2,width:o,height:o});T.setStyle(m.getItemStyle());var D=T.ensureState("emphasis");D.style=y.getItemStyle();var F=new zt({style:{text:C[S],align:y.get("textAlign"),borderRadius:y.get("textBorderRadius"),padding:y.get("textPadding"),fill:null,font:y9({fontStyle:y.get("textFontStyle"),fontFamily:y.get("textFontFamily"),fontSize:y.get("textFontSize"),fontWeight:y.get("textFontWeight")},i)},ignore:!0});T.setTextContent(F),Ef({el:T,componentModel:r,itemName:S,formatterParamsExtra:{title:C[S]}}),T.__title=C[S],T.on("mouseover",function(){var B=y.getItemStyle(),O=u?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";F.setStyle({fill:y.get("textFill")||B.fill||B.stroke||"#000",backgroundColor:y.get("textBackgroundColor")}),T.setTextConfig({position:y.get("textPosition")||O}),F.ignore=!r.get("showTitle"),n.enterEmphasis(this)}).on("mouseout",function(){p.get(["iconStatus",S])!=="emphasis"&&n.leaveEmphasis(this),F.hide()}),(p.get(["iconStatus",S])==="emphasis"?pl:gl)(T),s.add(T),T.on("click",Je(g.onclick,g,i,n,S)),E[S]=T})}JFe(s,r,n),s.add(Nte(s.getBoundingRect(),r)),u||s.eachChild(function(p){var g=p.__title,v=p.ensureState("emphasis"),m=v.textConfig||(v.textConfig={}),y=p.getTextContent(),_=y&&y.ensureState("emphasis");if(_&&!ot(_)&&g){var x=_.style||(_.style={}),b=Sm(g,zt.makeFont(x)),C=p.x+s.x,E=p.y+s.y+o,A=!1;E+b.height>n.getHeight()&&(m.position="top",A=!0);var S=A?-5-b.height:o+10;C+b.width/2>n.getWidth()?(m.position=["100%",S],x.align="right"):C-b.width/2<0&&(m.position=[0,S],x.align="left")}})},e.prototype.updateView=function(r,i,n,a){G(this._features,function(s){s instanceof Es&&s.updateView&&s.updateView(s.model,i,n,a)})},e.prototype.remove=function(r,i){G(this._features,function(n){n instanceof Es&&n.remove&&n.remove(r,i)}),this.group.removeAll()},e.prototype.dispose=function(r,i){G(this._features,function(n){n instanceof Es&&n.dispose&&n.dispose(r,i)})},e.type="toolbox",e}(_r);function eIe(t){return t.indexOf("my")===0}var tIe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,i){var n=this.model,a=n.get("name")||r.get("title.0.text")||"echarts",s=i.getZr().painter.getType()==="svg",o=s?"svg":n.get("type",!0)||"png",u=i.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:n.get("connectedBackgroundColor"),excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")}),l=Lt.browser;if(typeof MouseEvent=="function"&&(l.newEdge||!l.ie&&!l.edge)){var c=document.createElement("a");c.download=a+"."+o,c.target="_blank",c.href=u;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});c.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||s){var f=u.split(","),d=f[0].indexOf("base64")>-1,p=s?decodeURIComponent(f[1]):f[1];d&&(p=window.atob(p));var g=a+"."+o;if(window.navigator.msSaveOrOpenBlob){for(var v=p.length,m=new Uint8Array(v);v--;)m[v]=p.charCodeAt(v);var y=new Blob([m]);window.navigator.msSaveOrOpenBlob(y,g)}else{var _=document.createElement("iframe");document.body.appendChild(_);var x=_.contentWindow,b=x.document;b.open("image/svg+xml","replace"),b.write(p),b.close(),x.focus(),b.execCommand("SaveAs",!0,g),document.body.removeChild(_)}}else{var C=n.get("lang"),E='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(C&&C[0]||"")+'" /></body>',A=window.open();A.document.write(E),A.document.title=a}},e.getDefaultOption=function(r){var i={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return i},e}(Es),MH="__ec_magicType_stack__",rIe=[["line","bar"],["stack"]],iIe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.getIcons=function(){var r=this.model,i=r.get("icon"),n={};return G(r.get("type"),function(a){i[a]&&(n[a]=i[a])}),n},e.getDefaultOption=function(r){var i={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return i},e.prototype.onclick=function(r,i,n){var a=this.model,s=a.get(["seriesIndex",n]);if(PH[n]){var o={series:[]},u=function(h){var f=h.subType,d=h.id,p=PH[n](f,d,h,a);p&&(st(p,h.option),o.series.push(p));var g=h.coordinateSystem;if(g&&g.type==="cartesian2d"&&(n==="line"||n==="bar")){var v=g.getAxesByScale("ordinal")[0];if(v){var m=v.dim,y=m+"Axis",_=h.getReferringComponents(y,wi).models[0],x=_.componentIndex;o[y]=o[y]||[];for(var b=0;b<=x;b++)o[y][x]=o[y][x]||{};o[y][x].boundaryGap=n==="bar"}}};G(rIe,function(h){wt(h,n)>=0&&G(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(n,"emphasis"),r.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},u);var l,c=n;n==="stack"&&(l=et({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get(["iconStatus",n])!=="emphasis"&&(c="tiled")),i.dispatchAction({type:"changeMagicType",currentType:c,newOption:o,newTitle:l,featureName:"magicType"})}},e}(Es),PH={line:function(t,e,r,i){if(t==="bar")return et({id:e,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","line"])||{},!0)},bar:function(t,e,r,i){if(t==="line")return et({id:e,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},i.get(["option","bar"])||{},!0)},stack:function(t,e,r,i){var n=r.get("stack")===MH;if(t==="line"||t==="bar")return i.setIconStatus("stack",n?"normal":"emphasis"),et({id:e,stack:n?"":MH},i.get(["option","stack"])||{},!0)}};Tu({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)});var eC=new Array(60).join("-"),Mp="	";function nIe(t){var e={},r=[],i=[];return t.eachRawSeries(function(n){var a=n.coordinateSystem;if(a&&(a.type==="cartesian2d"||a.type==="polar")){var s=a.getBaseAxis();if(s.type==="category"){var o=s.dim+"_"+s.index;e[o]||(e[o]={categoryAxis:s,valueAxis:a.getOtherAxis(s),series:[]},i.push({axisDim:s.dim,axisIndex:s.index})),e[o].series.push(n)}else r.push(n)}else r.push(n)}),{seriesGroupByCategoryAxis:e,other:r,meta:i}}function aIe(t){var e=[];return G(t,function(r,i){var n=r.categoryAxis,a=r.valueAxis,s=a.dim,o=[" "].concat(Ie(r.series,function(d){return d.name})),u=[n.model.getCategories()];G(r.series,function(d){var p=d.getRawData();u.push(d.getRawData().mapArray(p.mapDimension(s),function(g){return g}))});for(var l=[o.join(Mp)],c=0;c<u[0].length;c++){for(var h=[],f=0;f<u.length;f++)h.push(u[f][c]);l.push(h.join(Mp))}e.push(l.join(`
`))}),e.join(`

`+eC+`

`)}function sIe(t){return Ie(t,function(e){var r=e.getRawData(),i=[e.name],n=[];return r.each(r.dimensions,function(){for(var a=arguments.length,s=arguments[a-1],o=r.getName(s),u=0;u<a-1;u++)n[u]=arguments[u];i.push((o?o+Mp:"")+n.join(Mp))}),i.join(`
`)}).join(`

`+eC+`

`)}function oIe(t){var e=nIe(t);return{value:sr([aIe(e.seriesGroupByCategoryAxis),sIe(e.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+eC+`

`),meta:e.meta}}function Q3(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function uIe(t){var e=t.slice(0,t.indexOf(`
`));if(e.indexOf(Mp)>=0)return!0}var kw=new RegExp("["+Mp+"]+","g");function lIe(t){for(var e=t.split(/\n+/g),r=Q3(e.shift()).split(kw),i=[],n=Ie(r,function(u){return{name:u,data:[]}}),a=0;a<e.length;a++){var s=Q3(e[a]).split(kw);i.push(s.shift());for(var o=0;o<s.length;o++)n[o]&&(n[o].data[a]=s[o])}return{series:n,categories:i}}function cIe(t){for(var e=t.split(/\n+/g),r=Q3(e.shift()),i=[],n=0;n<e.length;n++){var a=Q3(e[n]);if(a){var s=a.split(kw),o="",u=void 0,l=!1;isNaN(s[0])?(l=!0,o=s[0],s=s.slice(1),i[n]={name:o,value:[]},u=i[n].value):u=i[n]=[];for(var c=0;c<s.length;c++)u.push(+s[c]);u.length===1&&(l?i[n].value=u[0]:i[n]=u[0])}}return{name:r,data:i}}function hIe(t,e){var r=t.split(new RegExp(`
*`+eC+`
*`,"g")),i={series:[]};return G(r,function(n,a){if(uIe(n)){var s=lIe(n),o=e[a],u=o.axisDim+"Axis";o&&(i[u]=i[u]||[],i[u][o.axisIndex]={data:s.categories},i.series=i.series.concat(s.series))}else{var s=cIe(n);i.series.push(s)}}),i}var fIe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,i){setTimeout(function(){i.dispatchAction({type:"hideTip"})});var n=i.getDom(),a=this.model;this._dom&&n.removeChild(this._dom);var s=document.createElement("div");s.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",s.style.backgroundColor=a.get("backgroundColor")||"#fff";var o=document.createElement("h4"),u=a.get("lang")||[];o.innerHTML=u[0]||a.get("title"),o.style.cssText="margin:10px 20px",o.style.color=a.get("textColor");var l=document.createElement("div"),c=document.createElement("textarea");l.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),d=oIe(r);if(ot(h)){var p=h(i.getOption());Xe(p)?l.innerHTML=p:Cp(p)&&l.appendChild(p)}else{c.readOnly=a.get("readOnly");var g=c.style;g.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",g.color=a.get("textColor"),g.borderColor=a.get("textareaBorderColor"),g.backgroundColor=a.get("textareaColor"),c.value=d.value,l.appendChild(c)}var v=d.meta,m=document.createElement("div");m.style.cssText="position:absolute;bottom:5px;left:0;right:0";var y="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_=document.createElement("div"),x=document.createElement("div");y+=";background-color:"+a.get("buttonColor"),y+=";color:"+a.get("buttonTextColor");var b=this;function C(){n.removeChild(s),b._dom=null}g8(_,"click",C),g8(x,"click",function(){if(f==null&&h!=null||f!=null&&h==null){C();return}var E;try{ot(f)?E=f(l,i.getOption()):E=hIe(c.value,v)}catch(A){throw C(),new Error("Data view format error "+A)}E&&i.dispatchAction({type:"changeDataView",newOption:E}),C()}),_.innerHTML=u[1],x.innerHTML=u[2],x.style.cssText=_.style.cssText=y,!a.get("readOnly")&&m.appendChild(x),m.appendChild(_),s.appendChild(o),s.appendChild(l),s.appendChild(m),l.style.height=n.clientHeight-80+"px",n.appendChild(s),this._dom=s},e.prototype.remove=function(r,i){this._dom&&i.getDom().removeChild(this._dom)},e.prototype.dispose=function(r,i){this.remove(r,i)},e.getDefaultOption=function(r){var i={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return i},e}(Es);function dIe(t,e){return Ie(t,function(r,i){var n=e&&e[i];if(lt(n)&&!Te(n)){var a=lt(r)&&!Te(r);a||(r={value:r});var s=n.name!=null&&r.name==null;return r=st(r,n),s&&delete r.name,r}else return r})}Tu({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,e){var r=[];G(t.newOption.series,function(i){var n=e.getSeriesByName(i.name)[0];if(!n)r.push(Ce({type:"scatter"},i));else{var a=n.get("data");r.push({name:i.name,data:dIe(i.data,a)})}}),e.mergeOption(st({series:r},t.newOption))});var kte=G,zte=Yt();function pIe(t,e){var r=XF(t);kte(e,function(i,n){for(var a=r.length-1;a>=0;a--){var s=r[a];if(s[n])break}if(a<0){var o=t.queryComponents({mainType:"dataZoom",subType:"select",id:n})[0];if(o){var u=o.getPercentRange();r[0][n]={dataZoomId:n,start:u[0],end:u[1]}}}}),r.push(e)}function gIe(t){var e=XF(t),r=e[e.length-1];e.length>1&&e.pop();var i={};return kte(r,function(n,a){for(var s=e.length-1;s>=0;s--)if(n=e[s][a],n){i[a]=n;break}}),i}function vIe(t){zte(t).snapshots=null}function mIe(t){return XF(t).length}function XF(t){var e=zte(t);return e.snapshots||(e.snapshots=[{}]),e.snapshots}var yIe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onclick=function(r,i){vIe(r),i.dispatchAction({type:"restore",from:this.uid})},e.getDefaultOption=function(r){var i={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return i},e}(Es);Tu({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var _Ie=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],ZF=function(){function t(e,r,i){var n=this;this._targetInfoList=[];var a=LH(r,e);G(xIe,function(s,o){(!i||!i.include||wt(i.include,o)>=0)&&s(a,n._targetInfoList)})}return t.prototype.setOutputRanges=function(e,r){return this.matchOutputRanges(e,r,function(i,n,a){if((i.coordRanges||(i.coordRanges=[])).push(n),!i.coordRange){i.coordRange=n;var s=N6[i.brushType](0,a,n);i.__rangeOffset={offset:kH[i.brushType](s.values,i.range,[1,1]),xyMinMax:s.xyMinMax}}}),e},t.prototype.matchOutputRanges=function(e,r,i){G(e,function(n){var a=this.findTargetInfo(n,r);a&&a!==!0&&G(a.coordSyses,function(s){var o=N6[n.brushType](1,s,n.range,!0);i(n,o.values,s,r)})},this)},t.prototype.setInputRanges=function(e,r){G(e,function(i){var n=this.findTargetInfo(i,r);if(i.range=i.range||[],n&&n!==!0){i.panelId=n.panelId;var a=N6[i.brushType](0,n.coordSys,i.coordRange),s=i.__rangeOffset;i.range=s?kH[i.brushType](a.values,s.offset,bIe(a.xyMinMax,s.xyMinMax)):a.values}},this)},t.prototype.makePanelOpts=function(e,r){return Ie(this._targetInfoList,function(i){var n=i.getPanelRect();return{panelId:i.panelId,defaultBrushType:r?r(i):null,clipPath:Yee(n),isTargetByCursor:Xee(n,e,i.coordSysModel),getLinearBrushOtherExtent:qee(n)}})},t.prototype.controlSeries=function(e,r,i){var n=this.findTargetInfo(e,i);return n===!0||n&&wt(n.coordSyses,r.coordinateSystem)>=0},t.prototype.findTargetInfo=function(e,r){for(var i=this._targetInfoList,n=LH(r,e),a=0;a<i.length;a++){var s=i[a],o=e.panelId;if(o){if(s.panelId===o)return s}else for(var u=0;u<OH.length;u++)if(OH[u](n,s))return s}return!0},t}();function zw(t){return t[0]>t[1]&&t.reverse(),t}function LH(t,e){return N1(t,e,{includeMainTypes:_Ie})}var xIe={grid:function(t,e){var r=t.xAxisModels,i=t.yAxisModels,n=t.gridModels,a=nt(),s={},o={};!r&&!i&&!n||(G(r,function(u){var l=u.axis.grid.model;a.set(l.id,l),s[l.id]=!0}),G(i,function(u){var l=u.axis.grid.model;a.set(l.id,l),o[l.id]=!0}),G(n,function(u){a.set(u.id,u),s[u.id]=!0,o[u.id]=!0}),a.each(function(u){var l=u.coordinateSystem,c=[];G(l.getCartesians(),function(h,f){(wt(r,h.getAxis("x").model)>=0||wt(i,h.getAxis("y").model)>=0)&&c.push(h)}),e.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:c[0],coordSyses:c,getPanelRect:RH.grid,xAxisDeclared:s[u.id],yAxisDeclared:o[u.id]})}))},geo:function(t,e){G(t.geoModels,function(r){var i=r.coordinateSystem;e.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:i,coordSyses:[i],getPanelRect:RH.geo})})}},OH=[function(t,e){var r=t.xAxisModel,i=t.yAxisModel,n=t.gridModel;return!n&&r&&(n=r.axis.grid.model),!n&&i&&(n=i.axis.grid.model),n&&n===e.gridModel},function(t,e){var r=t.geoModel;return r&&r===e.geoModel}],RH={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Ph(t)),e}},N6={lineX:mt(NH,0),lineY:mt(NH,1),rect:function(t,e,r,i){var n=t?e.pointToData([r[0][0],r[1][0]],i):e.dataToPoint([r[0][0],r[1][0]],i),a=t?e.pointToData([r[0][1],r[1][1]],i):e.dataToPoint([r[0][1],r[1][1]],i),s=[zw([n[0],a[0]]),zw([n[1],a[1]])];return{values:s,xyMinMax:s}},polygon:function(t,e,r,i){var n=[[1/0,-1/0],[1/0,-1/0]],a=Ie(r,function(s){var o=t?e.pointToData(s,i):e.dataToPoint(s,i);return n[0][0]=Math.min(n[0][0],o[0]),n[1][0]=Math.min(n[1][0],o[1]),n[0][1]=Math.max(n[0][1],o[0]),n[1][1]=Math.max(n[1][1],o[1]),o});return{values:a,xyMinMax:n}}};function NH(t,e,r,i){var n=r.getAxis(["x","y"][t]),a=zw(Ie([0,1],function(o){return e?n.coordToData(n.toLocalCoord(i[o]),!0):n.toGlobalCoord(n.dataToCoord(i[o]))})),s=[];return s[t]=a,s[1-t]=[NaN,NaN],{values:a,xyMinMax:s}}var kH={lineX:mt(zH,0),lineY:mt(zH,1),rect:function(t,e,r){return[[t[0][0]-r[0]*e[0][0],t[0][1]-r[0]*e[0][1]],[t[1][0]-r[1]*e[1][0],t[1][1]-r[1]*e[1][1]]]},polygon:function(t,e,r){return Ie(t,function(i,n){return[i[0]-r[0]*e[n][0],i[1]-r[1]*e[n][1]]})}};function zH(t,e,r,i){return[e[0]-i[t]*r[0],e[1]-i[t]*r[1]]}function bIe(t,e){var r=HH(t),i=HH(e),n=[r[0]/i[0],r[1]/i[1]];return isNaN(n[0])&&(n[0]=1),isNaN(n[1])&&(n[1]=1),n}function HH(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var Hw=G,CIe=kxe("toolbox-dataZoom_"),EIe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,i,n,a){this._brushController||(this._brushController=new EF(n.getZr()),this._brushController.on("brush",Je(this._onBrush,this)).mount()),AIe(r,i,this,a,n),TIe(r,i)},e.prototype.onclick=function(r,i,n){SIe[n].call(this)},e.prototype.remove=function(r,i){this._brushController&&this._brushController.unmount()},e.prototype.dispose=function(r,i){this._brushController&&this._brushController.dispose()},e.prototype._onBrush=function(r){var i=r.areas;if(!r.isEnd||!i.length)return;var n={},a=this.ecModel;this._brushController.updateCovers([]);var s=new ZF(KF(this.model),a,{include:["grid"]});s.matchOutputRanges(i,a,function(l,c,h){if(h.type==="cartesian2d"){var f=l.brushType;f==="rect"?(o("x",h,c[0]),o("y",h,c[1])):o({lineX:"x",lineY:"y"}[f],h,c)}}),pIe(a,n),this._dispatchZoomAction(n);function o(l,c,h){var f=c.getAxis(l),d=f.model,p=u(l,d,a),g=p.findRepresentativeAxisProxy(d).getMinMaxSpan();(g.minValueSpan!=null||g.maxValueSpan!=null)&&(h=Ff(0,h.slice(),f.scale.getExtent(),0,g.minValueSpan,g.maxValueSpan)),p&&(n[p.id]={dataZoomId:p.id,startValue:h[0],endValue:h[1]})}function u(l,c,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(d){var p=d.getAxisModel(l,c.componentIndex);p&&(f=d)}),f}},e.prototype._dispatchZoomAction=function(r){var i=[];Hw(r,function(n,a){i.push(ht(n))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},e.getDefaultOption=function(r){var i={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return i},e}(Es),SIe={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(gIe(this.ecModel))}};function KF(t){var e={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return e.xAxisIndex==null&&e.xAxisId==null&&(e.xAxisIndex="all"),e.yAxisIndex==null&&e.yAxisId==null&&(e.yAxisIndex="all"),e}function TIe(t,e){t.setIconStatus("back",mIe(e)>1?"emphasis":"normal")}function AIe(t,e,r,i,n){var a=r._isZoomActive;i&&i.type==="takeGlobalCursor"&&(a=i.key==="dataZoomSelect"?i.dataZoomSelectActive:!1),r._isZoomActive=a,t.setIconStatus("zoom",a?"emphasis":"normal");var s=new ZF(KF(t),e,{include:["grid"]}),o=s.makePanelOpts(n,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(o).enableBrush(a&&o.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}l4e("dataZoom",function(t){var e=t.getComponent("toolbox",0),r=["feature","dataZoom"];if(!e||e.get(r)==null)return;var i=e.getModel(r),n=[],a=KF(i),s=N1(t,a);Hw(s.xAxisModels,function(u){return o(u,"xAxis","xAxisIndex")}),Hw(s.yAxisModels,function(u){return o(u,"yAxis","yAxisIndex")});function o(u,l,c){var h=u.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:i.get("filterMode",!0)||"filter",id:CIe+l+h};f[c]=h,n.push(f)}return n});function wIe(t){t.registerComponentModel(KFe),t.registerComponentView(QFe),Sd("saveAsImage",tIe),Sd("magicType",iIe),Sd("dataView",fIe),Sd("dataZoom",EIe),Sd("restore",yIe),ft(ZFe)}var DIe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(Dt);function Hte(t){var e=t.get("confine");return e!=null?!!e:t.get("renderMode")==="richText"}function Gte(t){if(Lt.domSupported){for(var e=document.documentElement.style,r=0,i=t.length;r<i;r++)if(t[r]in e)return t[r]}}var Ute=Gte(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),FIe=Gte(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function jte(t,e){if(!t)return e;e=vK(e,!0);var r=t.indexOf(e);return t=r===-1?e:"-"+t.slice(0,r)+"-"+e,t.toLowerCase()}function IIe(t,e){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?r[e]:null}var BIe=jte(FIe,"transition"),JF=jte(Ute,"transform"),MIe="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Lt.transform3dSupported?"will-change:transform;":"");function PIe(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function LIe(t,e,r){if(!Xe(r)||r==="inside")return"";var i=t.get("backgroundColor"),n=t.get("borderWidth");e=ef(e);var a=PIe(r),s=Math.max(Math.round(n)*1.5,6),o="",u=JF+":",l;wt(["left","right"],a)>-1?(o+="top:50%",u+="translateY(-50%) rotate("+(l=a==="left"?-225:-45)+"deg)"):(o+="left:50%",u+="translateX(-50%) rotate("+(l=a==="top"?225:45)+"deg)");var c=l*Math.PI/180,h=s+n,f=h*Math.abs(Math.cos(c))+h*Math.abs(Math.sin(c)),d=Math.round(((f-Math.SQRT2*n)/2+Math.SQRT2*n-(f-h)/2)*100)/100;o+=";"+a+":-"+d+"px";var p=e+" solid "+n+"px;",g=["position:absolute;width:"+s+"px;height:"+s+"px;z-index:-1;",o+";"+u+";","border-bottom:"+p,"border-right:"+p,"background-color:"+i+";"];return'<div style="'+g.join("")+'"></div>'}function OIe(t,e){var r="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+r,n="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+r,n+=Lt.transformSupported?","+JF+i:",left"+i+",top"+i),BIe+":"+n}function GH(t,e,r){var i=t.toFixed(0)+"px",n=e.toFixed(0)+"px";if(!Lt.transformSupported)return r?"top:"+n+";left:"+i+";":[["top",n],["left",i]];var a=Lt.transform3dSupported,s="translate"+(a?"3d":"")+"("+i+","+n+(a?",0":"")+")";return r?"top:0;left:0;"+JF+":"+s+";":[["top",0],["left",0],[Ute,s]]}function RIe(t){var e=[],r=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont());var n=gt(t.get("lineHeight"),Math.round(r*3/2));r&&e.push("line-height:"+n+"px");var a=t.get("textShadowColor"),s=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,u=t.get("textShadowOffsetY")||0;return a&&s&&e.push("text-shadow:"+o+"px "+u+"px "+s+"px "+a),G(["decoration","align"],function(l){var c=t.get(l);c&&e.push("text-"+l+":"+c)}),e.join(";")}function NIe(t,e,r){var i=[],n=t.get("transitionDuration"),a=t.get("backgroundColor"),s=t.get("shadowBlur"),o=t.get("shadowColor"),u=t.get("shadowOffsetX"),l=t.get("shadowOffsetY"),c=t.getModel("textStyle"),h=ZK(t,"html"),f=u+"px "+l+"px "+s+"px "+o;return i.push("box-shadow:"+f),e&&n&&i.push(OIe(n,r)),a&&i.push("background-color:"+a),G(["width","color","radius"],function(d){var p="border-"+d,g=vK(p),v=t.get(g);v!=null&&i.push(p+":"+v+(d==="color"?"":"px"))}),i.push(RIe(c)),h!=null&&i.push("padding:"+dg(h).join("px ")+"px"),i.join(";")+";"}function UH(t,e,r,i,n){var a=e&&e.painter;if(r){var s=a&&a.getViewportRoot();s&&p_e(t,s,r,i,n)}else{t[0]=i,t[1]=n;var o=a&&a.getViewportRootOffset();o&&(t[0]+=o.offsetLeft,t[1]+=o.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var kIe=function(){function t(e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Lt.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var n=this._zr=e.getZr(),a=r.appendTo,s=a&&(Xe(a)?document.querySelector(a):Cp(a)?a:ot(a)&&a(e.getDom()));UH(this._styleCoord,n,s,e.getWidth()/2,e.getHeight()/2),(s||e.getDom()).appendChild(i),this._api=e,this._container=s;var o=this;i.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},i.onmousemove=function(u){if(u=u||window.event,!o._enterable){var l=n.handler,c=n.painter.getViewportRoot();ys(c,u,!0),l.dispatch("mousemove",u)}},i.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)}}return t.prototype.update=function(e){if(!this._container){var r=this._api.getDom(),i=IIe(r,"position"),n=r.style;n.position!=="absolute"&&i!=="absolute"&&(n.position="relative")}var a=e.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=e.get("className")||""},t.prototype.show=function(e,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el,n=i.style,a=this._styleCoord;i.innerHTML?n.cssText=MIe+NIe(e,!this._firstShow,this._longHide)+GH(a[0],a[1],!0)+("border-color:"+ef(r)+";")+(e.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):n.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(e,r,i,n,a){var s=this.el;if(e==null){s.innerHTML="";return}var o="";if(Xe(a)&&i.get("trigger")==="item"&&!Hte(i)&&(o=LIe(i,n,a)),Xe(e))s.innerHTML=e+o;else if(e){s.innerHTML="",Te(e)||(e=[e]);for(var u=0;u<e.length;u++)Cp(e[u])&&e[u].parentNode!==s&&s.appendChild(e[u]);if(o&&s.childNodes.length){var l=document.createElement("div");l.innerHTML=o,s.appendChild(l)}}},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el;return e?[e.offsetWidth,e.offsetHeight]:[0,0]},t.prototype.moveTo=function(e,r){if(this.el){var i=this._styleCoord;if(UH(i,this._zr,this._container,e,r),i[0]!=null&&i[1]!=null){var n=this.el.style,a=GH(i[0],i[1]);G(a,function(s){n[s[0]]=s[1]})}}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var e=this,r=this.el.style;r.visibility="hidden",r.opacity="0",Lt.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return e._longHide=!0},500)},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Je(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var e=this.el.parentNode;e&&e.removeChild(this.el),this.el=this._container=null},t}(),zIe=function(){function t(e){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=e.getZr(),VH(this._styleCoord,this._zr,e.getWidth()/2,e.getHeight()/2)}return t.prototype.update=function(e){var r=e.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(e,r,i,n,a){var s=this;lt(e)&&ar(""),this.el&&this._zr.remove(this.el);var o=i.getModel("textStyle");this.el=new zt({style:{rich:r.richTextStyles,text:e,lineHeight:22,borderWidth:1,borderColor:n,textShadowColor:o.get("textShadowColor"),fill:i.get(["textStyle","color"]),padding:ZK(i,"richText"),verticalAlign:"top",align:"left"},z:i.get("z")}),G(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(l){s.el.style[l]=i.get(l)}),G(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(l){s.el.style[l]=o.get(l)||0}),this._zr.add(this.el);var u=this;this.el.on("mouseover",function(){u._enterable&&(clearTimeout(u._hideTimeout),u._show=!0),u._inContent=!0}),this.el.on("mouseout",function(){u._enterable&&u._show&&u.hideLater(u._hideDelay),u._inContent=!1})},t.prototype.setEnterable=function(e){this._enterable=e},t.prototype.getSize=function(){var e=this.el,r=this.el.getBoundingRect(),i=jH(e.style);return[r.width+i.left+i.right,r.height+i.top+i.bottom]},t.prototype.moveTo=function(e,r){var i=this.el;if(i){var n=this._styleCoord;VH(n,this._zr,e,r),e=n[0],r=n[1];var a=i.style,s=ic(a.borderWidth||0),o=jH(a);i.x=e+s+o.left,i.y=r+s+o.top,i.markRedraw()}},t.prototype._moveIfResized=function(){var e=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(e*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(e){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(Je(this.hide,this),e)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function ic(t){return Math.max(0,t)}function jH(t){var e=ic(t.shadowBlur||0),r=ic(t.shadowOffsetX||0),i=ic(t.shadowOffsetY||0);return{left:ic(e-r),right:ic(e+r),top:ic(e-i),bottom:ic(e+i)}}function VH(t,e,r,i){t[0]=r,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var HIe=new Gt({shape:{x:-1,y:-1,width:2,height:2}}),GIe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,i){if(!(Lt.node||!i.getDom())){var n=r.getComponent("tooltip"),a=this._renderMode=$xe(n.get("renderMode"));this._tooltipContent=a==="richText"?new zIe(i):new kIe(i,{appendTo:n.get("appendToBody",!0)?"body":n.get("appendTo",!0)})}},e.prototype.render=function(r,i,n){if(!(Lt.node||!n.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=i,this._api=n;var a=this._tooltipContent;a.update(r),a.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?yg(this,"_updatePosition",50,"fixRate"):R2(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var r=this._tooltipModel,i=r.get("triggerOn");wte("itemTooltip",this._api,Je(function(n,a,s){i!=="none"&&(i.indexOf(n)>=0?this._tryShow(a,s):n==="leave"&&this._hide(s))},this))},e.prototype._keepShow=function(){var r=this._tooltipModel,i=this._ecModel,n=this._api,a=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&a!=="none"&&a!=="click"){var s=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!n.isDisposed()&&s.manuallyShowTip(r,i,n,{x:s._lastX,y:s._lastY,dataByCoordSys:s._lastDataByCoordSys})})}},e.prototype.manuallyShowTip=function(r,i,n,a){if(!(a.from===this.uid||Lt.node||!n.getDom())){var s=$H(a,n);this._ticket="";var o=a.dataByCoordSys,u=$Ie(a,i,n);if(u){var l=u.el.getBoundingRect().clone();l.applyTransform(u.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:u.el,position:a.position,positionDefault:"bottom"},s)}else if(a.tooltip&&a.x!=null&&a.y!=null){var c=HIe;c.x=a.x,c.y=a.y,c.update(),pt(c).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:c},s)}else if(o)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:o,tooltipOption:a.tooltipOption},s);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(r,i,n,a))return;var h=Dte(a,i),f=h.point[0],d=h.point[1];f!=null&&d!=null&&this._tryShow({offsetX:f,offsetY:d,target:h.el,position:a.position,positionDefault:"bottom"},s)}else a.x!=null&&a.y!=null&&(n.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:n.getZr().findHover(a.x,a.y).target},s))}},e.prototype.manuallyHideTip=function(r,i,n,a){var s=this._tooltipContent;this._tooltipModel&&s.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide($H(a,n))},e.prototype._manuallyAxisShowTip=function(r,i,n,a){var s=a.seriesIndex,o=a.dataIndex,u=i.getComponent("axisPointer").coordSysAxesInfo;if(!(s==null||o==null||u==null)){var l=i.getSeriesByIndex(s);if(l){var c=l.getData(),h=Bv([c.getItemModel(o),l,(l.coordinateSystem||{}).model],this._tooltipModel);if(h.get("trigger")==="axis")return n.dispatchAction({type:"updateAxisPointer",seriesIndex:s,dataIndex:o,position:a.position}),!0}}},e.prototype._tryShow=function(r,i){var n=r.target,a=this._tooltipModel;if(a){this._lastX=r.offsetX,this._lastY=r.offsetY;var s=r.dataByCoordSys;if(s&&s.length)this._showAxisTooltip(s,r);else if(n){var o=pt(n);if(o.ssrType==="legend")return;this._lastDataByCoordSys=null;var u,l;ph(n,function(c){if(pt(c).dataIndex!=null)return u=c,!0;if(pt(c).tooltipConfig!=null)return l=c,!0},!0),u?this._showSeriesItemTooltip(r,u,i):l?this._showComponentItemTooltip(r,l,i):this._hide(i)}else this._lastDataByCoordSys=null,this._hide(i)}},e.prototype._showOrMove=function(r,i){var n=r.get("showDelay");i=Je(i,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(i,n):i()},e.prototype._showAxisTooltip=function(r,i){var n=this._ecModel,a=this._tooltipModel,s=[i.offsetX,i.offsetY],o=Bv([i.tooltipOption],a),u=this._renderMode,l=[],c=Ji("section",{blocks:[],noHeader:!0}),h=[],f=new CS;G(r,function(y){G(y.dataByAxis,function(_){var x=n.getComponent(_.axisDim+"Axis",_.axisIndex),b=_.value;if(!(!x||b==null)){var C=Ste(b,x.axis,n,_.seriesDataIndices,_.valueLabelOpt),E=Ji("section",{header:C,noHeader:!oo(C),sortBlocks:!0,blocks:[]});c.blocks.push(E),G(_.seriesDataIndices,function(A){var S=n.getSeriesByIndex(A.seriesIndex),T=A.dataIndexInside,D=S.getDataParams(T);if(!(D.dataIndex<0)){D.axisDim=_.axisDim,D.axisIndex=_.axisIndex,D.axisType=_.axisType,D.axisId=_.axisId,D.axisValue=Y9(x.axis,{value:b}),D.axisValueLabel=C,D.marker=f.makeTooltipMarker("item",ef(D.color),u);var F=BR(S.formatTooltip(T,!0,null)),B=F.frag;if(B){var O=Bv([S],a).get("valueFormatter");E.blocks.push(O?Ce({valueFormatter:O},B):B)}F.text&&h.push(F.text),l.push(D)}})}})}),c.blocks.reverse(),h.reverse();var d=i.position,p=o.get("order"),g=NR(c,f,u,p,n.get("useUTC"),o.get("textStyle"));g&&h.unshift(g);var v=u==="richText"?`

`:"<br/>",m=h.join(v);this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(r,l)?this._updatePosition(o,d,s[0],s[1],this._tooltipContent,l):this._showTooltipContent(o,m,l,Math.random()+"",s[0],s[1],d,null,f)})},e.prototype._showSeriesItemTooltip=function(r,i,n){var a=this._ecModel,s=pt(i),o=s.seriesIndex,u=a.getSeriesByIndex(o),l=s.dataModel||u,c=s.dataIndex,h=s.dataType,f=l.getData(h),d=this._renderMode,p=r.positionDefault,g=Bv([f.getItemModel(c),l,u&&(u.coordinateSystem||{}).model],this._tooltipModel,p?{position:p}:null),v=g.get("trigger");if(!(v!=null&&v!=="item")){var m=l.getDataParams(c,h),y=new CS;m.marker=y.makeTooltipMarker("item",ef(m.color),d);var _=BR(l.formatTooltip(c,!1,h)),x=g.get("order"),b=g.get("valueFormatter"),C=_.frag,E=C?NR(b?Ce({valueFormatter:b},C):C,y,d,x,a.get("useUTC"),g.get("textStyle")):_.text,A="item_"+l.name+"_"+c;this._showOrMove(g,function(){this._showTooltipContent(g,E,m,A,r.offsetX,r.offsetY,r.position,r.target,y)}),n({type:"showTip",dataIndexInside:c,dataIndex:f.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(r,i,n){var a=this._renderMode==="html",s=pt(i),o=s.tooltipConfig,u=o.option||{},l=u.encodeHTMLContent;if(Xe(u)){var c=u;u={content:c,formatter:c},l=!0}l&&a&&u.content&&(u=ht(u),u.content=Ai(u.content));var h=[u],f=this._ecModel.getComponent(s.componentMainType,s.componentIndex);f&&h.push(f),h.push({formatter:u.content});var d=r.positionDefault,p=Bv(h,this._tooltipModel,d?{position:d}:null),g=p.get("content"),v=Math.random()+"",m=new CS;this._showOrMove(p,function(){var y=ht(p.get("formatterParams")||{});this._showTooltipContent(p,g,y,v,r.offsetX,r.offsetY,r.position,i,m)}),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(r,i,n,a,s,o,u,l,c){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var h=this._tooltipContent;h.setEnterable(r.get("enterable"));var f=r.get("formatter");u=u||r.get("position");var d=i,p=this._getNearestPoint([s,o],n,r.get("trigger"),r.get("borderColor")),g=p.color;if(f)if(Xe(f)){var v=r.ecModel.get("useUTC"),m=Te(n)?n[0]:n,y=m&&m.axisType&&m.axisType.indexOf("time")>=0;d=f,y&&(d=Mb(m.axisValue,d,v)),d=S9(d,n,!0)}else if(ot(f)){var _=Je(function(x,b){x===this._ticket&&(h.setContent(b,c,r,g,u),this._updatePosition(r,u,s,o,h,n,l))},this);this._ticket=a,d=f(n,a,_)}else d=f;h.setContent(d,c,r,g,u),h.show(r,g),this._updatePosition(r,u,s,o,h,n,l)}},e.prototype._getNearestPoint=function(r,i,n,a){if(n==="axis"||Te(i))return{color:a||(this._renderMode==="html"?"#fff":"none")};if(!Te(i))return{color:a||i.color||i.borderColor}},e.prototype._updatePosition=function(r,i,n,a,s,o,u){var l=this._api.getWidth(),c=this._api.getHeight();i=i||r.get("position");var h=s.getSize(),f=r.get("align"),d=r.get("verticalAlign"),p=u&&u.getBoundingRect().clone();if(u&&p.applyTransform(u.transform),ot(i)&&(i=i([n,a],o,s.el,p,{viewSize:[l,c],contentSize:h.slice()})),Te(i))n=je(i[0],l),a=je(i[1],c);else if(lt(i)){var g=i;g.width=h[0],g.height=h[1];var v=ai(g,{width:l,height:c});n=v.x,a=v.y,f=null,d=null}else if(Xe(i)&&u){var m=VIe(i,p,h,r.get("borderWidth"));n=m[0],a=m[1]}else{var m=UIe(n,a,s,l,c,f?null:20,d?null:20);n=m[0],a=m[1]}if(f&&(n-=WH(f)?h[0]/2:f==="right"?h[0]:0),d&&(a-=WH(d)?h[1]/2:d==="bottom"?h[1]:0),Hte(r)){var m=jIe(n,a,s,l,c);n=m[0],a=m[1]}s.moveTo(n,a)},e.prototype._updateContentNotChangedOnAxis=function(r,i){var n=this._lastDataByCoordSys,a=this._cbParamsList,s=!!n&&n.length===r.length;return s&&G(n,function(o,u){var l=o.dataByAxis||[],c=r[u]||{},h=c.dataByAxis||[];s=s&&l.length===h.length,s&&G(l,function(f,d){var p=h[d]||{},g=f.seriesDataIndices||[],v=p.seriesDataIndices||[];s=s&&f.value===p.value&&f.axisType===p.axisType&&f.axisId===p.axisId&&g.length===v.length,s&&G(g,function(m,y){var _=v[y];s=s&&m.seriesIndex===_.seriesIndex&&m.dataIndex===_.dataIndex}),a&&G(f.seriesDataIndices,function(m){var y=m.seriesIndex,_=i[y],x=a[y];_&&x&&x.data!==_.data&&(s=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=i,!!s},e.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},e.prototype.dispose=function(r,i){Lt.node||!i.getDom()||(R2(this,"_updatePosition"),this._tooltipContent.dispose(),Ow("itemTooltip",i))},e.type="tooltip",e}(_r);function Bv(t,e,r){var i=e.ecModel,n;r?(n=new Xt(r,i,i),n=new Xt(e.option,n,i)):n=e;for(var a=t.length-1;a>=0;a--){var s=t[a];s&&(s instanceof Xt&&(s=s.get("tooltip",!0)),Xe(s)&&(s={formatter:s}),s&&(n=new Xt(s,n,i)))}return n}function $H(t,e){return t.dispatchAction||Je(e.dispatchAction,e)}function UIe(t,e,r,i,n,a,s){var o=r.getSize(),u=o[0],l=o[1];return a!=null&&(t+u+a+2>i?t-=u+a:t+=a),s!=null&&(e+l+s>n?e-=l+s:e+=s),[t,e]}function jIe(t,e,r,i,n){var a=r.getSize(),s=a[0],o=a[1];return t=Math.min(t+s,i)-s,e=Math.min(e+o,n)-o,t=Math.max(t,0),e=Math.max(e,0),[t,e]}function VIe(t,e,r,i){var n=r[0],a=r[1],s=Math.ceil(Math.SQRT2*i)+8,o=0,u=0,l=e.width,c=e.height;switch(t){case"inside":o=e.x+l/2-n/2,u=e.y+c/2-a/2;break;case"top":o=e.x+l/2-n/2,u=e.y-a-s;break;case"bottom":o=e.x+l/2-n/2,u=e.y+c+s;break;case"left":o=e.x-n-s,u=e.y+c/2-a/2;break;case"right":o=e.x+l+s,u=e.y+c/2-a/2}return[o,u]}function WH(t){return t==="center"||t==="middle"}function $Ie(t,e,r){var i=a9(t).queryOptionMap,n=i.keys()[0];if(!(!n||n==="series")){var a=Tm(e,n,i.get(n),{useDefault:!1,enableAll:!1,enableNone:!1}),s=a.models[0];if(s){var o=r.getViewOfComponentModel(s),u;if(o.group.traverse(function(l){var c=pt(l).tooltipConfig;if(c&&c.name===t.name)return u=l,!0}),u)return{componentMainType:n,componentIndex:s.componentIndex,el:u}}}}function WIe(t){ft(jm),t.registerComponentModel(DIe),t.registerComponentView(GIe),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},gi),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},gi)}var YIe=["rect","polygon","keep","clear"];function qIe(t,e){var r=mr(t?t.brush:[]);if(r.length){var i=[];G(r,function(u){var l=u.hasOwnProperty("toolbox")?u.toolbox:[];l instanceof Array&&(i=i.concat(l))});var n=t&&t.toolbox;Te(n)&&(n=n[0]),n||(n={feature:{}},t.toolbox=[n]);var a=n.feature||(n.feature={}),s=a.brush||(a.brush={}),o=s.type||(s.type=[]);o.push.apply(o,i),XIe(o),e&&!o.length&&o.push.apply(o,YIe)}}function XIe(t){var e={};G(t,function(r){e[r]=1}),t.length=0,G(e,function(r,i){t.push(i)})}var YH=G;function qH(t){if(t){for(var e in t)if(t.hasOwnProperty(e))return!0}}function Gw(t,e,r){var i={};return YH(e,function(a){var s=i[a]=n();YH(t[a],function(o,u){if(qi.isValidType(u)){var l={type:u,visual:o};r&&r(l,a),s[u]=new qi(l),u==="opacity"&&(l=ht(l),l.type="colorAlpha",s.__hidden.__alphaForOpacity=new qi(l))}})}),i;function n(){var a=function(){};a.prototype.__hidden=a.prototype;var s=new a;return s}}function Vte(t,e,r){var i;G(r,function(n){e.hasOwnProperty(n)&&qH(e[n])&&(i=!0)}),i&&G(r,function(n){e.hasOwnProperty(n)&&qH(e[n])?t[n]=ht(e[n]):delete t[n]})}function ZIe(t,e,r,i,n,a){var s={};G(t,function(h){var f=qi.prepareVisualTypes(e[h]);s[h]=f});var o;function u(h){return O9(r,o,h)}function l(h,f){sJ(r,o,h,f)}r.each(c);function c(h,f){o=h;var d=r.getRawDataItem(o);if(!(d&&d.visualMap===!1))for(var p=i.call(n,h),g=e[p],v=s[p],m=0,y=v.length;m<y;m++){var _=v[m];g[_]&&g[_].applyVisual(h,u,l)}}}function KIe(t,e,r,i){var n={};return G(t,function(a){var s=qi.prepareVisualTypes(e[a]);n[a]=s}),{progress:function(s,o){var u;i!=null&&(u=o.getDimensionIndex(i));function l(b){return O9(o,h,b)}function c(b,C){sJ(o,h,b,C)}for(var h,f=o.getStore();(h=s.next())!=null;){var d=o.getRawDataItem(h);if(!(d&&d.visualMap===!1))for(var p=i!=null?f.get(u,h):h,g=r(p),v=e[g],m=n[g],y=0,_=m.length;y<_;y++){var x=m[y];v[x]&&v[x].applyVisual(p,l,c)}}}}}function JIe(t){var e=t.brushType,r={point:function(i){return XH[e].point(i,r,t)},rect:function(i){return XH[e].rect(i,r,t)}};return r}var XH={lineX:ZH(0),lineY:ZH(1),rect:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,e,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,e,r){return t&&r.boundingRect.contain(t[0],t[1])&&ih(r.range,t[0],t[1])},rect:function(t,e,r){var i=r.range;if(!t||i.length<=1)return!1;var n=t.x,a=t.y,s=t.width,o=t.height,u=i[0];if(ih(i,n,a)||ih(i,n+s,a)||ih(i,n,a+o)||ih(i,n+s,a+o)||Et.create(t).contain(u[0],u[1])||n1(n,a,n+s,a,i)||n1(n,a,n,a+o,i)||n1(n+s,a,n+s,a+o,i)||n1(n,a+o,n+s,a+o,i))return!0}}};function ZH(t){var e=["x","y"],r=["width","height"];return{point:function(i,n,a){if(i){var s=a.range,o=i[t];return Mv(o,s)}},rect:function(i,n,a){if(i){var s=a.range,o=[i[e[t]],i[e[t]]+i[r[t]]];return o[1]<o[0]&&o.reverse(),Mv(o[0],s)||Mv(o[1],s)||Mv(s[0],o)||Mv(s[1],o)}}}}function Mv(t,e){return e[0]<=t&&t<=e[1]}var KH=["inBrush","outOfBrush"],k6="__ecBrushSelect",Uw="__ecInBrushSelectEvent";function $te(t){t.eachComponent({mainType:"brush"},function(e){var r=e.brushTargetManager=new ZF(e.option,t);r.setInputRanges(e.areas,t)})}function QIe(t,e,r){var i=[],n,a;t.eachComponent({mainType:"brush"},function(s){r&&r.type==="takeGlobalCursor"&&s.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),$te(t),t.eachComponent({mainType:"brush"},function(s,o){var u={brushId:s.id,brushIndex:o,brushName:s.name,areas:ht(s.areas),selected:[]};i.push(u);var l=s.option,c=l.brushLink,h=[],f=[],d=[],p=!1;o||(n=l.throttleType,a=l.throttleDelay);var g=Ie(s.areas,function(b){var C=iBe[b.brushType],E=st({boundingRect:C?C(b):void 0},b);return E.selectors=JIe(E),E}),v=Gw(s.option,KH,function(b){b.mappingMethod="fixed"});Te(c)&&G(c,function(b){h[b]=1});function m(b){return c==="all"||!!h[b]}function y(b){return!!b.length}t.eachSeries(function(b,C){var E=d[C]=[];b.subType==="parallel"?_(b,C):x(b,C,E)});function _(b,C){var E=b.coordinateSystem;p=p||E.hasAxisBrushed(),m(C)&&E.eachActiveState(b.getData(),function(A,S){A==="active"&&(f[S]=1)})}function x(b,C,E){if(!(!b.brushSelector||rBe(s,C))&&(G(g,function(S){s.brushTargetManager.controlSeries(S,b,t)&&E.push(S),p=p||y(E)}),m(C)&&y(E))){var A=b.getData();A.each(function(S){JH(b,E,A,S)&&(f[S]=1)})}}t.eachSeries(function(b,C){var E={seriesId:b.id,seriesIndex:C,seriesName:b.name,dataIndex:[]};u.selected.push(E);var A=d[C],S=b.getData(),T=m(C)?function(D){return f[D]?(E.dataIndex.push(S.getRawIndex(D)),"inBrush"):"outOfBrush"}:function(D){return JH(b,A,S,D)?(E.dataIndex.push(S.getRawIndex(D)),"inBrush"):"outOfBrush"};(m(C)?p:y(A))&&ZIe(KH,v,S,T)})}),eBe(e,n,a,i,r)}function eBe(t,e,r,i,n){if(n){var a=t.getZr();if(!a[Uw]){a[k6]||(a[k6]=tBe);var s=yg(a,k6,r,e);s(t,i)}}}function tBe(t,e){if(!t.isDisposed()){var r=t.getZr();r[Uw]=!0,t.dispatchAction({type:"brushSelect",batch:e}),r[Uw]=!1}}function JH(t,e,r,i){for(var n=0,a=e.length;n<a;n++){var s=e[n];if(t.brushSelector(i,r,s.selectors,s))return!0}}function rBe(t,e){var r=t.option.seriesIndex;return r!=null&&r!=="all"&&(Te(r)?wt(r,e)<0:e!==r)}var iBe={rect:function(t){return QH(t.range)},polygon:function(t){for(var e,r=t.range,i=0,n=r.length;i<n;i++){e=e||[[1/0,-1/0],[1/0,-1/0]];var a=r[i];a[0]<e[0][0]&&(e[0][0]=a[0]),a[0]>e[0][1]&&(e[0][1]=a[0]),a[1]<e[1][0]&&(e[1][0]=a[1]),a[1]>e[1][1]&&(e[1][1]=a[1])}return e&&QH(e)}};function QH(t){return new Et(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var nBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,i){this.ecModel=r,this.api=i,this.model,(this._brushController=new EF(i.getZr())).on("brush",Je(this._onBrush,this)).mount()},e.prototype.render=function(r,i,n,a){this.model=r,this._updateController(r,i,n,a)},e.prototype.updateTransform=function(r,i,n,a){$te(i),this._updateController(r,i,n,a)},e.prototype.updateVisual=function(r,i,n,a){this.updateTransform(r,i,n,a)},e.prototype.updateView=function(r,i,n,a){this._updateController(r,i,n,a)},e.prototype._updateController=function(r,i,n,a){(!a||a.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(n)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},e.prototype.dispose=function(){this._brushController.dispose()},e.prototype._onBrush=function(r){var i=this.model.id,n=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:i,areas:ht(n),$from:i}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:i,areas:ht(n),$from:i})},e.type="brush",e}(_r),aBe="#ddd",sBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.areas=[],r.brushOption={},r}return e.prototype.optionUpdated=function(r,i){var n=this.option;!i&&Vte(n,r,["inBrush","outOfBrush"]);var a=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:aBe},a.hasOwnProperty("liftZ")||(a.liftZ=5)},e.prototype.setAreas=function(r){r&&(this.areas=Ie(r,function(i){return eG(this.option,i)},this))},e.prototype.setBrushOption=function(r){this.brushOption=eG(this.option,r),this.brushType=this.brushOption.brushType},e.type="brush",e.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],e.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},e}(Dt);function eG(t,e){return et({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Xt(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}var oBe=["rect","polygon","lineX","lineY","keep","clear"],uBe=function(t){ce(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.render=function(r,i,n){var a,s,o;i.eachComponent({mainType:"brush"},function(u){a=u.brushType,s=u.brushOption.brushMode||"single",o=o||!!u.areas.length}),this._brushType=a,this._brushMode=s,G(r.get("type",!0),function(u){r.setIconStatus(u,(u==="keep"?s==="multiple":u==="clear"?o:u===a)?"emphasis":"normal")})},e.prototype.updateView=function(r,i,n){this.render(r,i,n)},e.prototype.getIcons=function(){var r=this.model,i=r.get("icon",!0),n={};return G(r.get("type",!0),function(a){i[a]&&(n[a]=i[a])}),n},e.prototype.onclick=function(r,i,n){var a=this._brushType,s=this._brushMode;n==="clear"?(i.dispatchAction({type:"axisAreaSelect",intervals:[]}),i.dispatchAction({type:"brush",command:"clear",areas:[]})):i.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:n==="keep"?a:a===n?!1:n,brushMode:n==="keep"?s==="multiple"?"single":"multiple":s}})},e.getDefaultOption=function(r){var i={show:!0,type:oBe.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return i},e}(Es);function lBe(t){t.registerComponentView(nBe),t.registerComponentModel(sBe),t.registerPreprocessor(qIe),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,QIe),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(e,r){r.eachComponent({mainType:"brush",query:e},function(i){i.setAreas(e.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},gi),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},gi),Sd("brush",uBe)}var cBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(Dt),hBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.render=function(r,i,n){if(this.group.removeAll(),!!r.get("show")){var a=this.group,s=r.getModel("textStyle"),o=r.getModel("subtextStyle"),u=r.get("textAlign"),l=gt(r.get("textBaseline"),r.get("textVerticalAlign")),c=new zt({style:pr(s,{text:r.get("text"),fill:s.getTextColor()},{disableBox:!0}),z2:10}),h=c.getBoundingRect(),f=r.get("subtext"),d=new zt({style:pr(o,{text:f,fill:o.getTextColor(),y:h.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),p=r.get("link"),g=r.get("sublink"),v=r.get("triggerEvent",!0);c.silent=!p&&!v,d.silent=!g&&!v,p&&c.on("click",function(){D3(p,"_"+r.get("target"))}),g&&d.on("click",function(){D3(g,"_"+r.get("subtarget"))}),pt(c).eventData=pt(d).eventData=v?{componentType:"title",componentIndex:r.componentIndex}:null,a.add(c),f&&a.add(d);var m=a.getBoundingRect(),y=r.getBoxLayoutParams();y.width=m.width,y.height=m.height;var _=ai(y,{width:n.getWidth(),height:n.getHeight()},r.get("padding"));u||(u=r.get("left")||r.get("right"),u==="middle"&&(u="center"),u==="right"?_.x+=_.width:u==="center"&&(_.x+=_.width/2)),l||(l=r.get("top")||r.get("bottom"),l==="center"&&(l="middle"),l==="bottom"?_.y+=_.height:l==="middle"&&(_.y+=_.height/2),l=l||"top"),a.x=_.x,a.y=_.y,a.markRedraw();var x={align:u,verticalAlign:l};c.setStyle(x),d.setStyle(x),m=a.getBoundingRect();var b=_.margin,C=r.getItemStyle(["color","opacity"]);C.fill=r.get("backgroundColor");var E=new Gt({shape:{x:m.x-b[3],y:m.y-b[0],width:m.width+b[1]+b[3],height:m.height+b[0]+b[2],r:r.get("borderRadius")},style:C,subPixelOptimize:!0,silent:!0});a.add(E)}},e.type="title",e}(_r);function fBe(t){t.registerComponentModel(cBe),t.registerComponentView(hBe)}var tG=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode="box",r}return e.prototype.init=function(r,i,n){this.mergeDefaultAndTheme(r,n),this._initData()},e.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this._initData()},e.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var i=this._data.count();this.option.loop?r=(r%i+i)%i:(r>=i&&(r=i-1),r<0&&(r=0)),this.option.currentIndex=r},e.prototype.getCurrentIndex=function(){return this.option.currentIndex},e.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},e.prototype.setPlayState=function(r){this.option.autoPlay=!!r},e.prototype.getPlayState=function(){return!!this.option.autoPlay},e.prototype._initData=function(){var r=this.option,i=r.data||[],n=r.axisType,a=this._names=[],s;n==="category"?(s=[],G(i,function(l,c){var h=Oi(ug(l),""),f;lt(l)?(f=ht(l),f.value=c):f=c,s.push(f),a.push(h)})):s=i;var o={category:"ordinal",time:"time",value:"number"}[n]||"number",u=this._data=new Xr([{name:"value",type:o}],this);u.initData(s,a)},e.prototype.getData=function(){return this._data},e.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},e.type="timeline",e.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},e}(Dt),Wte=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="timeline.slider",e.defaultOption=Wc(tG.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),e}(tG);yi(Wte,zb.prototype);var dBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="timeline",e}(_r),pBe=function(t){ce(e,t);function e(r,i,n,a){var s=t.call(this,r,i,n)||this;return s.type=a||"value",s}return e.prototype.getLabelModel=function(){return this.model.getModel("label")},e.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},e}(_a),z6=Math.PI,rG=Yt(),gBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(r,i){this.api=i},e.prototype.render=function(r,i,n){if(this.model=r,this.api=n,this.ecModel=i,this.group.removeAll(),r.get("show",!0)){var a=this._layout(r,n),s=this._createGroup("_mainGroup"),o=this._createGroup("_labelGroup"),u=this._axis=this._createAxis(a,r);r.formatTooltip=function(l){var c=u.scale.getLabel({value:l});return Ji("nameValue",{noName:!0,value:c})},G(["AxisLine","AxisTick","Control","CurrentPointer"],function(l){this["_render"+l](a,s,u,r)},this),this._renderAxisLabel(a,o,u,r),this._position(a,r)}this._doPlayStop(),this._updateTicksStatus()},e.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},e.prototype.dispose=function(){this._clearTimer()},e.prototype._layout=function(r,i){var n=r.get(["label","position"]),a=r.get("orient"),s=mBe(r,i),o;n==null||n==="auto"?o=a==="horizontal"?s.y+s.height/2<i.getHeight()/2?"-":"+":s.x+s.width/2<i.getWidth()/2?"+":"-":Xe(n)?o={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][n]:o=n;var u={horizontal:"center",vertical:o>=0||o==="+"?"left":"right"},l={horizontal:o>=0||o==="+"?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:z6/2},h=a==="vertical"?s.height:s.width,f=r.getModel("controlStyle"),d=f.get("show",!0),p=d?f.get("itemSize"):0,g=d?f.get("itemGap"):0,v=p+g,m=r.get(["label","rotate"])||0;m=m*z6/180;var y,_,x,b=f.get("position",!0),C=d&&f.get("showPlayBtn",!0),E=d&&f.get("showPrevBtn",!0),A=d&&f.get("showNextBtn",!0),S=0,T=h;b==="left"||b==="bottom"?(C&&(y=[0,0],S+=v),E&&(_=[S,0],S+=v),A&&(x=[T-p,0],T-=v)):(C&&(y=[T-p,0],T-=v),E&&(_=[0,0],S+=v),A&&(x=[T-p,0],T-=v));var D=[S,T];return r.get("inverse")&&D.reverse(),{viewRect:s,mainLength:h,orient:a,rotation:c[a],labelRotation:m,labelPosOpt:o,labelAlign:r.get(["label","align"])||u[a],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||l[a],playPosition:y,prevBtnPosition:_,nextBtnPosition:x,axisExtent:D,controlSize:p,controlGap:g}},e.prototype._position=function(r,i){var n=this._mainGroup,a=this._labelGroup,s=r.viewRect;if(r.orient==="vertical"){var o=Oa(),u=s.x,l=s.y+s.height;mu(o,o,[-u,-l]),bf(o,o,-z6/2),mu(o,o,[u,l]),s=s.clone(),s.applyTransform(o)}var c=y(s),h=y(n.getBoundingRect()),f=y(a.getBoundingRect()),d=[n.x,n.y],p=[a.x,a.y];p[0]=d[0]=c[0][0];var g=r.labelPosOpt;if(g==null||Xe(g)){var v=g==="+"?0:1;_(d,h,c,1,v),_(p,f,c,1,1-v)}else{var v=g>=0?0:1;_(d,h,c,1,v),p[1]=d[1]+g}n.setPosition(d),a.setPosition(p),n.rotation=a.rotation=r.rotation,m(n),m(a);function m(x){x.originX=c[0][0]-x.x,x.originY=c[1][0]-x.y}function y(x){return[[x.x,x.x+x.width],[x.y,x.y+x.height]]}function _(x,b,C,E,A){x[E]+=C[E][A]-b[E][A]}},e.prototype._createAxis=function(r,i){var n=i.getData(),a=i.get("axisType"),s=vBe(i,a);s.getTicks=function(){return n.mapArray(["value"],function(l){return{value:l}})};var o=n.getDataExtent("value");s.setExtent(o[0],o[1]),s.calcNiceTicks();var u=new pBe("value",s,r.axisExtent,a);return u.model=i,u},e.prototype._createGroup=function(r){var i=this[r]=new dt;return this.group.add(i),i},e.prototype._renderAxisLine=function(r,i,n,a){var s=n.getExtent();if(a.get(["lineStyle","show"])){var o=new Ui({shape:{x1:s[0],y1:0,x2:s[1],y2:0},style:Ce({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});i.add(o);var u=this._progressLine=new Ui({shape:{x1:s[0],x2:this._currentPointer?this._currentPointer.x:s[0],y1:0,y2:0},style:st({lineCap:"round",lineWidth:o.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});i.add(u)}},e.prototype._renderAxisTick=function(r,i,n,a){var s=this,o=a.getData(),u=n.scale.getTicks();this._tickSymbols=[],G(u,function(l){var c=n.dataToCoord(l.value),h=o.getItemModel(l.value),f=h.getModel("itemStyle"),d=h.getModel(["emphasis","itemStyle"]),p=h.getModel(["progress","itemStyle"]),g={x:c,y:0,onclick:Je(s._changeTimeline,s,l.value)},v=iG(h,f,i,g);v.ensureState("emphasis").style=d.getItemStyle(),v.ensureState("progress").style=p.getItemStyle(),Mh(v);var m=pt(v);h.get("tooltip")?(m.dataIndex=l.value,m.dataModel=a):m.dataIndex=m.dataModel=null,s._tickSymbols.push(v)})},e.prototype._renderAxisLabel=function(r,i,n,a){var s=this,o=n.getLabelModel();if(o.get("show")){var u=a.getData(),l=n.getViewLabels();this._tickLabels=[],G(l,function(c){var h=c.tickValue,f=u.getItemModel(h),d=f.getModel("label"),p=f.getModel(["emphasis","label"]),g=f.getModel(["progress","label"]),v=n.dataToCoord(c.tickValue),m=new zt({x:v,y:0,rotation:r.labelRotation-r.rotation,onclick:Je(s._changeTimeline,s,h),silent:!1,style:pr(d,{text:c.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});m.ensureState("emphasis").style=pr(p),m.ensureState("progress").style=pr(g),i.add(m),Mh(m),rG(m).dataIndex=h,s._tickLabels.push(m)})}},e.prototype._renderControl=function(r,i,n,a){var s=r.controlSize,o=r.rotation,u=a.getModel("controlStyle").getItemStyle(),l=a.getModel(["emphasis","controlStyle"]).getItemStyle(),c=a.getPlayState(),h=a.get("inverse",!0);f(r.nextBtnPosition,"next",Je(this._changeTimeline,this,h?"-":"+")),f(r.prevBtnPosition,"prev",Je(this._changeTimeline,this,h?"+":"-")),f(r.playPosition,c?"stop":"play",Je(this._handlePlayClick,this,!c),!0);function f(d,p,g,v){if(d){var m=xo(gt(a.get(["controlStyle",p+"BtnSize"]),s),s),y=[0,-m/2,m,m],_=yBe(a,p+"Icon",y,{x:d[0],y:d[1],originX:s/2,originY:0,rotation:v?-o:0,rectHover:!0,style:u,onclick:g});_.ensureState("emphasis").style=l,i.add(_),Mh(_)}}},e.prototype._renderCurrentPointer=function(r,i,n,a){var s=a.getData(),o=a.getCurrentIndex(),u=s.getItemModel(o).getModel("checkpointStyle"),l=this,c={onCreate:function(h){h.draggable=!0,h.drift=Je(l._handlePointerDrag,l),h.ondragend=Je(l._handlePointerDragend,l),nG(h,l._progressLine,o,n,a,!0)},onUpdate:function(h){nG(h,l._progressLine,o,n,a)}};this._currentPointer=iG(u,u,this._mainGroup,{},this._currentPointer,c)},e.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},e.prototype._handlePointerDrag=function(r,i,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},e.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},e.prototype._pointerChangeTimeline=function(r,i){var n=this._toAxisCoord(r)[0],a=this._axis,s=Ds(a.getExtent().slice());n>s[1]&&(n=s[1]),n<s[0]&&(n=s[0]),this._currentPointer.x=n,this._currentPointer.markRedraw();var o=this._progressLine;o&&(o.shape.x2=n,o.dirty());var u=this._findNearestTick(n),l=this.model;(i||u!==l.getCurrentIndex()&&l.get("realtime"))&&this._changeTimeline(u)},e.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var i=r.model;r._changeTimeline(i.getCurrentIndex()+(i.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},e.prototype._toAxisCoord=function(r){var i=this._mainGroup.getLocalTransform();return po(r,i,!0)},e.prototype._findNearestTick=function(r){var i=this.model.getData(),n=1/0,a,s=this._axis;return i.each(["value"],function(o,u){var l=s.dataToCoord(o),c=Math.abs(l-r);c<n&&(n=c,a=u)}),a},e.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},e.prototype._changeTimeline=function(r){var i=this.model.getCurrentIndex();r==="+"?r=i+1:r==="-"&&(r=i-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},e.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),i=this._tickSymbols,n=this._tickLabels;if(i)for(var a=0;a<i.length;a++)i&&i[a]&&i[a].toggleState("progress",a<r);if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",rG(n[a]).dataIndex<=r)},e.type="timeline.slider",e}(dBe);function vBe(t,e){if(e=e||t.get("type"),e)switch(e){case"category":return new Wb({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new $9({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new yl}}function mBe(t,e){return ai(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()},t.get("padding"))}function yBe(t,e,r,i){var n=i.style,a=Bm(t.get(["controlStyle",e]),i||{},new Et(r[0],r[1],r[2],r[3]));return n&&a.setStyle(n),a}function iG(t,e,r,i,n,a){var s=e.get("color");if(n)n.setColor(s),r.add(n),a&&a.onUpdate(n);else{var o=t.get("symbol");n=vi(o,-1,-1,2,2,s),n.setStyle("strokeNoScale",!0),r.add(n),a&&a.onCreate(n)}var u=e.getItemStyle(["color"]);n.setStyle(u),i=et({rectHover:!0,z2:100},i,!0);var l=_g(t.get("symbolSize"));i.scaleX=l[0]/2,i.scaleY=l[1]/2;var c=Tf(t.get("symbolOffset"),l);c&&(i.x=(i.x||0)+c[0],i.y=(i.y||0)+c[1]);var h=t.get("symbolRotate");return i.rotation=(h||0)*Math.PI/180||0,n.attr(i),n.updateTransform(),n}function nG(t,e,r,i,n,a){if(!t.dragging){var s=n.getModel("checkpointStyle"),o=i.dataToCoord(n.getData().get("value",r));if(a||!s.get("animation",!0))t.attr({x:o,y:0}),e&&e.attr({shape:{x2:o}});else{var u={duration:s.get("animationDuration",!0),easing:s.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:o,y:0},u),e&&e.animateTo({shape:{x2:o}},u)}}}function _Be(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,r,i){var n=r.getComponent("timeline");return n&&e.currentIndex!=null&&(n.setCurrentIndex(e.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.getPlayState()&&(n.setPlayState(!1),i.dispatchAction({type:"timelinePlayChange",playState:!1,from:e.from}))),r.resetOption("timeline",{replaceMerge:n.get("replaceMerge",!0)}),st({currentIndex:n.option.currentIndex},e)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,r){var i=r.getComponent("timeline");i&&e.playState!=null&&i.setPlayState(e.playState)})}function xBe(t){var e=t&&t.timeline;Te(e)||(e=e?[e]:[]),G(e,function(r){r&&bBe(r)})}function bBe(t){var e=t.type,r={number:"value",time:"time"};if(r[e]&&(t.axisType=r[e],delete t.type),aG(t),sh(t,"controlPosition")){var i=t.controlStyle||(t.controlStyle={});sh(i,"position")||(i.position=t.controlPosition),i.position==="none"&&!sh(i,"show")&&(i.show=!1,delete i.position),delete t.controlPosition}G(t.data||[],function(n){lt(n)&&!Te(n)&&(!sh(n,"value")&&sh(n,"name")&&(n.value=n.name),aG(n))})}function aG(t){var e=t.itemStyle||(t.itemStyle={}),r=e.emphasis||(e.emphasis={}),i=t.label||t.label||{},n=i.normal||(i.normal={}),a={normal:1,emphasis:1};G(i,function(s,o){!a[o]&&!sh(n,o)&&(n[o]=s)}),r.label&&!sh(i,"emphasis")&&(i.emphasis=r.label,delete r.label)}function sh(t,e){return t.hasOwnProperty(e)}function CBe(t){t.registerComponentModel(Wte),t.registerComponentView(gBe),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),_Be(t),t.registerPreprocessor(xBe)}function QF(t,e){if(!t)return!1;for(var r=Te(t)?t:[t],i=0;i<r.length;i++)if(r[i]&&r[i][e])return!0;return!1}function H_(t){Zh(t,"label",["show"])}var G_=Yt(),xl=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.createdBySelf=!1,r}return e.prototype.init=function(r,i,n){this.mergeDefaultAndTheme(r,n),this._mergeOption(r,n,!1,!0)},e.prototype.isAnimationEnabled=function(){if(Lt.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},e.prototype.mergeOption=function(r,i){this._mergeOption(r,i,!1,!1)},e.prototype._mergeOption=function(r,i,n,a){var s=this.mainType;n||i.eachSeries(function(o){var u=o.get(this.mainType,!0),l=G_(o)[s];if(!u||!u.data){G_(o)[s]=null;return}l?l._mergeOption(u,i,!0):(a&&H_(u),G(u.data,function(c){c instanceof Array?(H_(c[0]),H_(c[1])):H_(c)}),l=this.createMarkerModelFromSeries(u,this,i),Ce(l,{mainType:this.mainType,seriesIndex:o.seriesIndex,name:o.name,createdBySelf:!0}),l.__hostSeries=o),G_(o)[s]=l},this)},e.prototype.formatTooltip=function(r,i,n){var a=this.getData(),s=this.getRawValue(r),o=a.getName(r);return Ji("section",{header:this.name,blocks:[Ji("nameValue",{name:o,value:s,noName:!o,noValue:s==null})]})},e.prototype.getData=function(){return this._data},e.prototype.setData=function(r){this._data=r},e.prototype.getDataParams=function(r,i){var n=zb.prototype.getDataParams.call(this,r,i),a=this.__hostSeries;return a&&(n.seriesId=a.id,n.seriesName=a.name,n.seriesType=a.subType),n},e.getMarkerModelFromSeries=function(r,i){return G_(r)[i]},e.type="marker",e.dependencies=["series","grid","polar","geo"],e}(Dt);yi(xl,zb.prototype);var EBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.createMarkerModelFromSeries=function(r,i,n){return new e(r,i,n)},e.type="markPoint",e.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},e}(xl);function jw(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function SBe(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function U_(t,e,r,i,n,a){var s=[],o=ml(e,i),u=o?e.getCalculationInfo("stackResultDimension"):i,l=eI(e,u,t),c=e.indicesOfNearest(u,l)[0];s[n]=e.get(r,c),s[a]=e.get(u,c);var h=e.get(i,c),f=Zo(e.get(i,c));return f=Math.min(f,20),f>=0&&(s[a]=+s[a].toFixed(f)),[s,h]}var H6={min:mt(U_,"min"),max:mt(U_,"max"),average:mt(U_,"average"),median:mt(U_,"median")};function Z2(t,e){if(e){var r=t.getData(),i=t.coordinateSystem,n=i&&i.dimensions;if(!SBe(e)&&!Te(e.coord)&&Te(n)){var a=Yte(e,r,i,t);if(e=ht(e),e.type&&H6[e.type]&&a.baseAxis&&a.valueAxis){var s=wt(n,a.baseAxis.dim),o=wt(n,a.valueAxis.dim),u=H6[e.type](r,a.baseDataDim,a.valueDataDim,s,o);e.coord=u[0],e.value=u[1]}else e.coord=[e.xAxis!=null?e.xAxis:e.radiusAxis,e.yAxis!=null?e.yAxis:e.angleAxis]}if(e.coord==null||!Te(n))e.coord=[];else for(var l=e.coord,c=0;c<2;c++)H6[l[c]]&&(l[c]=eI(r,r.mapDimension(n[c]),l[c]));return e}}function Yte(t,e,r,i){var n={};return t.valueIndex!=null||t.valueDim!=null?(n.valueDataDim=t.valueIndex!=null?e.getDimension(t.valueIndex):t.valueDim,n.valueAxis=r.getAxis(TBe(i,n.valueDataDim)),n.baseAxis=r.getOtherAxis(n.valueAxis),n.baseDataDim=e.mapDimension(n.baseAxis.dim)):(n.baseAxis=i.getBaseAxis(),n.valueAxis=r.getOtherAxis(n.baseAxis),n.baseDataDim=e.mapDimension(n.baseAxis.dim),n.valueDataDim=e.mapDimension(n.valueAxis.dim)),n}function TBe(t,e){var r=t.getData().getDimensionInfo(e);return r&&r.coordDim}function K2(t,e){return t&&t.containData&&e.coord&&!jw(e)?t.containData(e.coord):!0}function ABe(t,e,r){return t&&t.containZone&&e.coord&&r.coord&&!jw(e)&&!jw(r)?t.containZone(e.coord,r.coord):!0}function qte(t,e){return t?function(r,i,n,a){var s=a<2?r.coord&&r.coord[a]:r.value;return Bc(s,e[a])}:function(r,i,n,a){return Bc(r.value,e[a])}}function eI(t,e,r){if(r==="average"){var i=0,n=0;return t.each(e,function(a,s){isNaN(a)||(i+=a,n++)}),i/n}else return r==="median"?t.getMedian(e):t.getDataExtent(e)[r==="max"?1:0]}var G6=Yt(),tI=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.init=function(){this.markerGroupMap=nt()},e.prototype.render=function(r,i,n){var a=this,s=this.markerGroupMap;s.each(function(o){G6(o).keep=!1}),i.eachSeries(function(o){var u=xl.getMarkerModelFromSeries(o,a.type);u&&a.renderSeries(o,u,i,n)}),s.each(function(o){!G6(o).keep&&a.group.remove(o.group)})},e.prototype.markKeep=function(r){G6(r).keep=!0},e.prototype.toggleBlurSeries=function(r,i){var n=this;G(r,function(a){var s=xl.getMarkerModelFromSeries(a,n.type);if(s){var o=s.getData();o.eachItemGraphicEl(function(u){u&&(i?OZ(u):f9(u))})}})},e.type="marker",e}(_r);function sG(t,e,r){var i=e.coordinateSystem;t.each(function(n){var a=t.getItemModel(n),s,o=je(a.get("x"),r.getWidth()),u=je(a.get("y"),r.getHeight());if(!isNaN(o)&&!isNaN(u))s=[o,u];else if(e.getMarkerPosition)s=e.getMarkerPosition(t.getValues(t.dimensions,n));else if(i){var l=t.get(i.dimensions[0],n),c=t.get(i.dimensions[1],n);s=i.dataToPoint([l,c])}isNaN(o)||(s[0]=o),isNaN(u)||(s[1]=u),t.setItemLayout(n,s)})}var wBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.updateTransform=function(r,i,n){i.eachSeries(function(a){var s=xl.getMarkerModelFromSeries(a,"markPoint");s&&(sG(s.getData(),a,n),this.markerGroupMap.get(a.id).updateLayout())},this)},e.prototype.renderSeries=function(r,i,n,a){var s=r.coordinateSystem,o=r.id,u=r.getData(),l=this.markerGroupMap,c=l.get(o)||l.set(o,new Rm),h=DBe(s,r,i);i.setData(h),sG(i.getData(),r,a),h.each(function(f){var d=h.getItemModel(f),p=d.getShallow("symbol"),g=d.getShallow("symbolSize"),v=d.getShallow("symbolRotate"),m=d.getShallow("symbolOffset"),y=d.getShallow("symbolKeepAspect");if(ot(p)||ot(g)||ot(v)||ot(m)){var _=i.getRawValue(f),x=i.getDataParams(f);ot(p)&&(p=p(_,x)),ot(g)&&(g=g(_,x)),ot(v)&&(v=v(_,x)),ot(m)&&(m=m(_,x))}var b=d.getModel("itemStyle").getItemStyle(),C=Mm(u,"color");b.fill||(b.fill=C),h.setItemVisual(f,{symbol:p,symbolSize:g,symbolRotate:v,symbolOffset:m,symbolKeepAspect:y,style:b})}),c.updateData(h),this.group.add(c.group),h.eachItemGraphicEl(function(f){f.traverse(function(d){pt(d).dataModel=i})}),this.markKeep(c),c.group.silent=i.get("silent")||r.get("silent")},e.type="markPoint",e}(tI);function DBe(t,e,r){var i;t?i=Ie(t&&t.dimensions,function(o){var u=e.getData().getDimensionInfo(e.getData().mapDimension(o))||{};return Ce(Ce({},u),{name:o,ordinalMeta:null})}):i=[{name:"value",type:"float"}];var n=new Xr(i,r),a=Ie(r.get("data"),mt(Z2,e));t&&(a=sr(a,mt(K2,t)));var s=qte(!!t,i);return n.initData(a,null,s),n}function FBe(t){t.registerComponentModel(EBe),t.registerComponentView(wBe),t.registerPreprocessor(function(e){QF(e.series,"markPoint")&&(e.markPoint=e.markPoint||{})})}var IBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.createMarkerModelFromSeries=function(r,i,n){return new e(r,i,n)},e.type="markLine",e.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},e}(xl),j_=Yt(),BBe=function(t,e,r,i){var n=t.getData(),a;if(Te(i))a=i;else{var s=i.type;if(s==="min"||s==="max"||s==="average"||s==="median"||i.xAxis!=null||i.yAxis!=null){var o=void 0,u=void 0;if(i.yAxis!=null||i.xAxis!=null)o=e.getAxis(i.yAxis!=null?"y":"x"),u=dn(i.yAxis,i.xAxis);else{var l=Yte(i,n,e,t);o=l.valueAxis;var c=j9(n,l.valueDataDim);u=eI(n,c,s)}var h=o.dim==="x"?0:1,f=1-h,d=ht(i),p={coord:[]};d.type=null,d.coord=[],d.coord[f]=-1/0,p.coord[f]=1/0;var g=r.get("precision");g>=0&&Zt(u)&&(u=+u.toFixed(Math.min(g,20))),d.coord[h]=p.coord[h]=u,a=[d,p,{type:s,valueIndex:i.valueIndex,value:u}]}else a=[]}var v=[Z2(t,a[0]),Z2(t,a[1]),Ce({},a[2])];return v[2].type=v[2].type||null,et(v[2],v[0]),et(v[2],v[1]),v};function e4(t){return!isNaN(t)&&!isFinite(t)}function oG(t,e,r,i){var n=1-t,a=i.dimensions[t];return e4(e[n])&&e4(r[n])&&e[t]===r[t]&&i.getAxis(a).containData(e[t])}function MBe(t,e){if(t.type==="cartesian2d"){var r=e[0].coord,i=e[1].coord;if(r&&i&&(oG(1,r,i,t)||oG(0,r,i,t)))return!0}return K2(t,e[0])&&K2(t,e[1])}function U6(t,e,r,i,n){var a=i.coordinateSystem,s=t.getItemModel(e),o,u=je(s.get("x"),n.getWidth()),l=je(s.get("y"),n.getHeight());if(!isNaN(u)&&!isNaN(l))o=[u,l];else{if(i.getMarkerPosition)o=i.getMarkerPosition(t.getValues(t.dimensions,e));else{var c=a.dimensions,h=t.get(c[0],e),f=t.get(c[1],e);o=a.dataToPoint([h,f])}if(wf(a,"cartesian2d")){var d=a.getAxis("x"),p=a.getAxis("y"),c=a.dimensions;e4(t.get(c[0],e))?o[0]=d.toGlobalCoord(d.getExtent()[r?0:1]):e4(t.get(c[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[r?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}t.setItemLayout(e,o)}var PBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.updateTransform=function(r,i,n){i.eachSeries(function(a){var s=xl.getMarkerModelFromSeries(a,"markLine");if(s){var o=s.getData(),u=j_(s).from,l=j_(s).to;u.each(function(c){U6(u,c,!0,a,n),U6(l,c,!1,a,n)}),o.each(function(c){o.setItemLayout(c,[u.getItemLayout(c),l.getItemLayout(c)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},e.prototype.renderSeries=function(r,i,n,a){var s=r.coordinateSystem,o=r.id,u=r.getData(),l=this.markerGroupMap,c=l.get(o)||l.set(o,new CF);this.group.add(c.group);var h=LBe(s,r,i),f=h.from,d=h.to,p=h.line;j_(i).from=f,j_(i).to=d,i.setData(p);var g=i.get("symbol"),v=i.get("symbolSize"),m=i.get("symbolRotate"),y=i.get("symbolOffset");Te(g)||(g=[g,g]),Te(v)||(v=[v,v]),Te(m)||(m=[m,m]),Te(y)||(y=[y,y]),h.from.each(function(x){_(f,x,!0),_(d,x,!1)}),p.each(function(x){var b=p.getItemModel(x).getModel("lineStyle").getLineStyle();p.setItemLayout(x,[f.getItemLayout(x),d.getItemLayout(x)]),b.stroke==null&&(b.stroke=f.getItemVisual(x,"style").fill),p.setItemVisual(x,{fromSymbolKeepAspect:f.getItemVisual(x,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(x,"symbolOffset"),fromSymbolRotate:f.getItemVisual(x,"symbolRotate"),fromSymbolSize:f.getItemVisual(x,"symbolSize"),fromSymbol:f.getItemVisual(x,"symbol"),toSymbolKeepAspect:d.getItemVisual(x,"symbolKeepAspect"),toSymbolOffset:d.getItemVisual(x,"symbolOffset"),toSymbolRotate:d.getItemVisual(x,"symbolRotate"),toSymbolSize:d.getItemVisual(x,"symbolSize"),toSymbol:d.getItemVisual(x,"symbol"),style:b})}),c.updateData(p),h.line.eachItemGraphicEl(function(x){pt(x).dataModel=i,x.traverse(function(b){pt(b).dataModel=i})});function _(x,b,C){var E=x.getItemModel(b);U6(x,b,C,r,a);var A=E.getModel("itemStyle").getItemStyle();A.fill==null&&(A.fill=Mm(u,"color")),x.setItemVisual(b,{symbolKeepAspect:E.get("symbolKeepAspect"),symbolOffset:gt(E.get("symbolOffset",!0),y[C?0:1]),symbolRotate:gt(E.get("symbolRotate",!0),m[C?0:1]),symbolSize:gt(E.get("symbolSize"),v[C?0:1]),symbol:gt(E.get("symbol",!0),g[C?0:1]),style:A})}this.markKeep(c),c.group.silent=i.get("silent")||r.get("silent")},e.type="markLine",e}(tI);function LBe(t,e,r){var i;t?i=Ie(t&&t.dimensions,function(l){var c=e.getData().getDimensionInfo(e.getData().mapDimension(l))||{};return Ce(Ce({},c),{name:l,ordinalMeta:null})}):i=[{name:"value",type:"float"}];var n=new Xr(i,r),a=new Xr(i,r),s=new Xr([],r),o=Ie(r.get("data"),mt(BBe,e,t,r));t&&(o=sr(o,mt(MBe,t)));var u=qte(!!t,i);return n.initData(Ie(o,function(l){return l[0]}),null,u),a.initData(Ie(o,function(l){return l[1]}),null,u),s.initData(Ie(o,function(l){return l[2]})),s.hasItemOption=!0,{from:n,to:a,line:s}}function OBe(t){t.registerComponentModel(IBe),t.registerComponentView(PBe),t.registerPreprocessor(function(e){QF(e.series,"markLine")&&(e.markLine=e.markLine||{})})}var RBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.createMarkerModelFromSeries=function(r,i,n){return new e(r,i,n)},e.type="markArea",e.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},e}(xl),V_=Yt(),NBe=function(t,e,r,i){var n=i[0],a=i[1];if(!(!n||!a)){var s=Z2(t,n),o=Z2(t,a),u=s.coord,l=o.coord;u[0]=dn(u[0],-1/0),u[1]=dn(u[1],-1/0),l[0]=dn(l[0],1/0),l[1]=dn(l[1],1/0);var c=Y7([{},s,o]);return c.coord=[s.coord,o.coord],c.x0=s.x,c.y0=s.y,c.x1=o.x,c.y1=o.y,c}};function t4(t){return!isNaN(t)&&!isFinite(t)}function uG(t,e,r,i){var n=1-t;return t4(e[n])&&t4(r[n])}function kBe(t,e){var r=e.coord[0],i=e.coord[1],n={coord:r,x:e.x0,y:e.y0},a={coord:i,x:e.x1,y:e.y1};return wf(t,"cartesian2d")?r&&i&&(uG(1,r,i)||uG(0,r,i))?!0:ABe(t,n,a):K2(t,n)||K2(t,a)}function lG(t,e,r,i,n){var a=i.coordinateSystem,s=t.getItemModel(e),o,u=je(s.get(r[0]),n.getWidth()),l=je(s.get(r[1]),n.getHeight());if(!isNaN(u)&&!isNaN(l))o=[u,l];else{if(i.getMarkerPosition){var c=t.getValues(["x0","y0"],e),h=t.getValues(["x1","y1"],e),f=a.clampData(c),d=a.clampData(h),p=[];r[0]==="x0"?p[0]=f[0]>d[0]?h[0]:c[0]:p[0]=f[0]>d[0]?c[0]:h[0],r[1]==="y0"?p[1]=f[1]>d[1]?h[1]:c[1]:p[1]=f[1]>d[1]?c[1]:h[1],o=i.getMarkerPosition(p,r,!0)}else{var g=t.get(r[0],e),v=t.get(r[1],e),m=[g,v];a.clampData&&a.clampData(m,m),o=a.dataToPoint(m,!0)}if(wf(a,"cartesian2d")){var y=a.getAxis("x"),_=a.getAxis("y"),g=t.get(r[0],e),v=t.get(r[1],e);t4(g)?o[0]=y.toGlobalCoord(y.getExtent()[r[0]==="x0"?0:1]):t4(v)&&(o[1]=_.toGlobalCoord(_.getExtent()[r[1]==="y0"?0:1]))}isNaN(u)||(o[0]=u),isNaN(l)||(o[1]=l)}return o}var cG=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],zBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.updateTransform=function(r,i,n){i.eachSeries(function(a){var s=xl.getMarkerModelFromSeries(a,"markArea");if(s){var o=s.getData();o.each(function(u){var l=Ie(cG,function(h){return lG(o,u,h,a,n)});o.setItemLayout(u,l);var c=o.getItemGraphicEl(u);c.setShape("points",l)})}},this)},e.prototype.renderSeries=function(r,i,n,a){var s=r.coordinateSystem,o=r.id,u=r.getData(),l=this.markerGroupMap,c=l.get(o)||l.set(o,{group:new dt});this.group.add(c.group),this.markKeep(c);var h=HBe(s,r,i);i.setData(h),h.each(function(f){var d=Ie(cG,function(A){return lG(h,f,A,r,a)}),p=s.getAxis("x").scale,g=s.getAxis("y").scale,v=p.getExtent(),m=g.getExtent(),y=[p.parse(h.get("x0",f)),p.parse(h.get("x1",f))],_=[g.parse(h.get("y0",f)),g.parse(h.get("y1",f))];Ds(y),Ds(_);var x=!(v[0]>y[1]||v[1]<y[0]||m[0]>_[1]||m[1]<_[0]),b=!x;h.setItemLayout(f,{points:d,allClipped:b});var C=h.getItemModel(f).getModel("itemStyle").getItemStyle(),E=Mm(u,"color");C.fill||(C.fill=E,Xe(C.fill)&&(C.fill=g3(C.fill,.4))),C.stroke||(C.stroke=E),h.setItemVisual(f,"style",C)}),h.diff(V_(c).data).add(function(f){var d=h.getItemLayout(f);if(!d.allClipped){var p=new pa({shape:{points:d.points}});h.setItemGraphicEl(f,p),c.group.add(p)}}).update(function(f,d){var p=V_(c).data.getItemGraphicEl(d),g=h.getItemLayout(f);g.allClipped?p&&c.group.remove(p):(p?er(p,{shape:{points:g.points}},i,f):p=new pa({shape:{points:g.points}}),h.setItemGraphicEl(f,p),c.group.add(p))}).remove(function(f){var d=V_(c).data.getItemGraphicEl(f);c.group.remove(d)}).execute(),h.eachItemGraphicEl(function(f,d){var p=h.getItemModel(d),g=h.getItemVisual(d,"style");f.useStyle(h.getItemVisual(d,"style")),In(f,Ki(p),{labelFetcher:i,labelDataIndex:d,defaultText:h.getName(d)||"",inheritColor:Xe(g.fill)?g3(g.fill,1):"#000"}),Fn(f,p),Zr(f,null,null,p.get(["emphasis","disabled"])),pt(f).dataModel=i}),V_(c).data=h,c.group.silent=i.get("silent")||r.get("silent")},e.type="markArea",e}(tI);function HBe(t,e,r){var i,n,a=["x0","y0","x1","y1"];if(t){var s=Ie(t&&t.dimensions,function(l){var c=e.getData(),h=c.getDimensionInfo(c.mapDimension(l))||{};return Ce(Ce({},h),{name:l,ordinalMeta:null})});n=Ie(a,function(l,c){return{name:l,type:s[c%2].type}}),i=new Xr(n,r)}else n=[{name:"value",type:"float"}],i=new Xr(n,r);var o=Ie(r.get("data"),mt(NBe,e,t,r));t&&(o=sr(o,mt(kBe,t)));var u=t?function(l,c,h,f){var d=l.coord[Math.floor(f/2)][f%2];return Bc(d,n[f])}:function(l,c,h,f){return Bc(l.value,n[f])};return i.initData(o,null,u),i.hasItemOption=!0,i}function GBe(t){t.registerComponentModel(RBe),t.registerComponentView(zBe),t.registerPreprocessor(function(e){QF(e.series,"markArea")&&(e.markArea=e.markArea||{})})}var UBe=function(t,e){if(e==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(e==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},Vw=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.layoutMode={type:"box",ignoreSize:!0},r}return e.prototype.init=function(r,i,n){this.mergeDefaultAndTheme(r,n),r.selected=r.selected||{},this._updateSelector(r)},e.prototype.mergeOption=function(r,i){t.prototype.mergeOption.call(this,r,i),this._updateSelector(r)},e.prototype._updateSelector=function(r){var i=r.selector,n=this.ecModel;i===!0&&(i=r.selector=["all","inverse"]),Te(i)&&G(i,function(a,s){Xe(a)&&(a={type:a}),i[s]=et(a,UBe(n,a.type))})},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var i=!1,n=0;n<r.length;n++){var a=r[n].get("name");if(this.isSelected(a)){this.select(a),i=!0;break}}!i&&this.select(r[0].get("name"))}},e.prototype._updateData=function(r){var i=[],n=[];r.eachRawSeries(function(u){var l=u.name;n.push(l);var c;if(u.legendVisualProvider){var h=u.legendVisualProvider,f=h.getAllNames();r.isSeriesFiltered(u)||(n=n.concat(f)),f.length?i=i.concat(f):c=!0}else c=!0;c&&n9(u)&&i.push(u.name)}),this._availableNames=n;var a=this.get("data")||i,s=nt(),o=Ie(a,function(u){return(Xe(u)||Zt(u))&&(u={name:u}),s.get(u.name)?null:(s.set(u.name,!0),new Xt(u,this,this.ecModel))},this);this._data=sr(o,function(u){return!!u})},e.prototype.getData=function(){return this._data},e.prototype.select=function(r){var i=this.option.selected,n=this.get("selectedMode");if(n==="single"){var a=this._data;G(a,function(s){i[s.get("name")]=!1})}i[r]=!0},e.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},e.prototype.toggleSelected=function(r){var i=this.option.selected;i.hasOwnProperty(r)||(i[r]=!0),this[i[r]?"unSelect":"select"](r)},e.prototype.allSelect=function(){var r=this._data,i=this.option.selected;G(r,function(n){i[n.get("name",!0)]=!0})},e.prototype.inverseSelect=function(){var r=this._data,i=this.option.selected;G(r,function(n){var a=n.get("name",!0);i.hasOwnProperty(a)||(i[a]=!0),i[a]=!i[a]})},e.prototype.isSelected=function(r){var i=this.option.selected;return!(i.hasOwnProperty(r)&&!i[r])&&wt(this._availableNames,r)>=0},e.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(Dt),rd=mt,$w=G,$_=dt,Xte=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!1,r}return e.prototype.init=function(){this.group.add(this._contentGroup=new $_),this.group.add(this._selectorGroup=new $_),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(r,i,n){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var s=r.get("align"),o=r.get("orient");(!s||s==="auto")&&(s=r.get("left")==="right"&&o==="vertical"?"right":"left");var u=r.get("selector",!0),l=r.get("selectorPosition",!0);u&&(!l||l==="auto")&&(l=o==="horizontal"?"end":"start"),this.renderInner(s,r,i,n,u,o,l);var c=r.getBoxLayoutParams(),h={width:n.getWidth(),height:n.getHeight()},f=r.get("padding"),d=ai(c,h,f),p=this.layoutInner(r,s,d,a,u,l),g=ai(st({width:p.width,height:p.height},c),h,f);this.group.x=g.x-p.x,this.group.y=g.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Nte(p,r))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(r,i,n,a,s,o,u){var l=this.getContentGroup(),c=nt(),h=i.get("selectedMode"),f=[];n.eachRawSeries(function(d){!d.get("legendHoverLink")&&f.push(d.id)}),$w(i.getData(),function(d,p){var g=d.get("name");if(!this.newlineDisabled&&(g===""||g===`
`)){var v=new $_;v.newline=!0,l.add(v);return}var m=n.getSeriesByName(g)[0];if(!c.get(g))if(m){var y=m.getData(),_=y.getVisual("legendLineStyle")||{},x=y.getVisual("legendIcon"),b=y.getVisual("style"),C=this._createItem(m,g,p,d,i,r,_,b,x,h,a);C.on("click",rd(hG,g,null,a,f)).on("mouseover",rd(Ww,m.name,null,a,f)).on("mouseout",rd(Yw,m.name,null,a,f)),n.ssr&&C.eachChild(function(E){var A=pt(E);A.seriesIndex=m.seriesIndex,A.dataIndex=p,A.ssrType="legend"}),c.set(g,!0)}else n.eachRawSeries(function(E){if(!c.get(g)&&E.legendVisualProvider){var A=E.legendVisualProvider;if(!A.containName(g))return;var S=A.indexOfName(g),T=A.getItemVisual(S,"style"),D=A.getItemVisual(S,"legendIcon"),F=ua(T.fill);F&&F[3]===0&&(F[3]=.2,T=Ce(Ce({},T),{fill:il(F,"rgba")}));var B=this._createItem(E,g,p,d,i,r,{},T,D,h,a);B.on("click",rd(hG,null,g,a,f)).on("mouseover",rd(Ww,null,g,a,f)).on("mouseout",rd(Yw,null,g,a,f)),n.ssr&&B.eachChild(function(O){var M=pt(O);M.seriesIndex=E.seriesIndex,M.dataIndex=p,M.ssrType="legend"}),c.set(g,!0)}},this)},this),s&&this._createSelector(s,i,a,o,u)},e.prototype._createSelector=function(r,i,n,a,s){var o=this.getSelectorGroup();$w(r,function(l){var c=l.type,h=new zt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:i.id})}});o.add(h);var f=i.getModel("selectorLabel"),d=i.getModel(["emphasis","selectorLabel"]);In(h,{normal:f,emphasis:d},{defaultText:l.title}),Mh(h)})},e.prototype._createItem=function(r,i,n,a,s,o,u,l,c,h,f){var d=r.visualDrawType,p=s.get("itemWidth"),g=s.get("itemHeight"),v=s.isSelected(i),m=a.get("symbolRotate"),y=a.get("symbolKeepAspect"),_=a.get("icon");c=_||c||"roundRect";var x=jBe(c,a,u,l,d,v,f),b=new $_,C=a.getModel("textStyle");if(ot(r.getLegendIcon)&&(!_||_==="inherit"))b.add(r.getLegendIcon({itemWidth:p,itemHeight:g,icon:c,iconRotate:m,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:y}));else{var E=_==="inherit"&&r.getData().getVisual("symbol")?m==="inherit"?r.getData().getVisual("symbolRotate"):m:0;b.add(VBe({itemWidth:p,itemHeight:g,icon:c,iconRotate:E,itemStyle:x.itemStyle,symbolKeepAspect:y}))}var A=o==="left"?p+5:-5,S=o,T=s.get("formatter"),D=i;Xe(T)&&T?D=T.replace("{name}",i??""):ot(T)&&(D=T(i));var F=v?C.getTextColor():a.get("inactiveColor");b.add(new zt({style:pr(C,{text:D,x:A,y:g/2,fill:F,align:S,verticalAlign:"middle"},{inheritColor:F})}));var B=new Gt({shape:b.getBoundingRect(),style:{fill:"transparent"}}),O=a.getModel("tooltip");return O.get("show")&&Ef({el:B,componentModel:s,itemName:i,itemTooltipOption:O.option}),b.add(B),b.eachChild(function(M){M.silent=!0}),B.silent=!h,this.getContentGroup().add(b),Mh(b),b.__legendDataIndex=n,b},e.prototype.layoutInner=function(r,i,n,a,s,o){var u=this.getContentGroup(),l=this.getSelectorGroup();Lh(r.get("orient"),u,r.get("itemGap"),n.width,n.height);var c=u.getBoundingRect(),h=[-c.x,-c.y];if(l.markRedraw(),u.markRedraw(),s){Lh("horizontal",l,r.get("selectorItemGap",!0));var f=l.getBoundingRect(),d=[-f.x,-f.y],p=r.get("selectorButtonGap",!0),g=r.getOrient().index,v=g===0?"width":"height",m=g===0?"height":"width",y=g===0?"y":"x";o==="end"?d[g]+=c[v]+p:h[g]+=f[v]+p,d[1-g]+=c[m]/2-f[m]/2,l.x=d[0],l.y=d[1],u.x=h[0],u.y=h[1];var _={x:0,y:0};return _[v]=c[v]+p+f[v],_[m]=Math.max(c[m],f[m]),_[y]=Math.min(0,f[y]+d[1-g]),_}else return u.x=h[0],u.y=h[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(_r);function jBe(t,e,r,i,n,a,s){function o(v,m){v.lineWidth==="auto"&&(v.lineWidth=m.lineWidth>0?2:0),$w(v,function(y,_){v[_]==="inherit"&&(v[_]=m[_])})}var u=e.getModel("itemStyle"),l=u.getItemStyle(),c=t.lastIndexOf("empty",0)===0?"fill":"stroke",h=u.getShallow("decal");l.decal=!h||h==="inherit"?i.decal:wp(h,s),l.fill==="inherit"&&(l.fill=i[n]),l.stroke==="inherit"&&(l.stroke=i[c]),l.opacity==="inherit"&&(l.opacity=(n==="fill"?i:r).opacity),o(l,i);var f=e.getModel("lineStyle"),d=f.getLineStyle();if(o(d,r),l.fill==="auto"&&(l.fill=i.fill),l.stroke==="auto"&&(l.stroke=i.fill),d.stroke==="auto"&&(d.stroke=i.fill),!a){var p=e.get("inactiveBorderWidth"),g=l[c];l.lineWidth=p==="auto"?i.lineWidth>0&&g?2:0:l.lineWidth,l.fill=e.get("inactiveColor"),l.stroke=e.get("inactiveBorderColor"),d.stroke=f.get("inactiveColor"),d.lineWidth=f.get("inactiveWidth")}return{itemStyle:l,lineStyle:d}}function VBe(t){var e=t.icon||"roundRect",r=vi(e,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),e.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function hG(t,e,r,i){Yw(t,e,r,i),r.dispatchAction({type:"legendToggleSelect",name:t??e}),Ww(t,e,r,i)}function Zte(t){for(var e=t.getZr().storage.getDisplayList(),r,i=0,n=e.length;i<n&&!(r=e[i].states.emphasis);)i++;return r&&r.hoverLayer}function Ww(t,e,r,i){Zte(r)||r.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function Yw(t,e,r,i){Zte(r)||r.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}function $Be(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries(function(r){for(var i=0;i<e.length;i++)if(!e[i].isSelected(r.name))return!1;return!0})}function Pv(t,e,r){var i=t==="allSelect"||t==="inverseSelect",n={},a=[];r.eachComponent({mainType:"legend",query:e},function(o){i?o[t]():o[t](e.name),fG(o,n),a.push(o.componentIndex)});var s={};return r.eachComponent("legend",function(o){G(n,function(u,l){o[u?"select":"unSelect"](l)}),fG(o,s)}),i?{selected:s,legendIndex:a}:{name:e.name,selected:s}}function fG(t,e){var r=e||{};return G(t.getData(),function(i){var n=i.get("name");if(!(n===`
`||n==="")){var a=t.isSelected(n);tt(r,n)?r[n]=r[n]&&a:r[n]=a}}),r}function WBe(t){t.registerAction("legendToggleSelect","legendselectchanged",mt(Pv,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",mt(Pv,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",mt(Pv,"inverseSelect")),t.registerAction("legendSelect","legendselected",mt(Pv,"select")),t.registerAction("legendUnSelect","legendunselected",mt(Pv,"unSelect"))}function Kte(t){t.registerComponentModel(Vw),t.registerComponentView(Xte),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,$Be),t.registerSubTypeDefaulter("legend",function(){return"plain"}),WBe(t)}var YBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},e.prototype.init=function(r,i,n){var a=pg(r);t.prototype.init.call(this,r,i,n),dG(this,r,a)},e.prototype.mergeOption=function(r,i){t.prototype.mergeOption.call(this,r,i),dG(this,this.option,r)},e.type="legend.scroll",e.defaultOption=Wc(Vw.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(Vw);function dG(t,e,r){var i=t.getOrient(),n=[1,1];n[i.index]=0,kc(e,r,{type:"box",ignoreSize:!!n})}var pG=dt,j6=["width","height"],V6=["x","y"],qBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.newlineDisabled=!0,r._currentIndex=0,r}return e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new pG),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new pG)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(r,i,n,a,s,o,u){var l=this;t.prototype.renderInner.call(this,r,i,n,a,s,o,u);var c=this._controllerGroup,h=i.get("pageIconSize",!0),f=Te(h)?h:[h,h];p("pagePrev",0);var d=i.getModel("pageTextStyle");c.add(new zt({name:"pageText",style:{text:"xx/xx",fill:d.getTextColor(),font:d.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),p("pageNext",1);function p(g,v){var m=g+"DataIndex",y=Bm(i.get("pageIcons",!0)[i.getOrient().name][v],{onclick:Je(l._pageGo,l,m,i,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});y.name=g,c.add(y)}},e.prototype.layoutInner=function(r,i,n,a,s,o){var u=this.getSelectorGroup(),l=r.getOrient().index,c=j6[l],h=V6[l],f=j6[1-l],d=V6[1-l];s&&Lh("horizontal",u,r.get("selectorItemGap",!0));var p=r.get("selectorButtonGap",!0),g=u.getBoundingRect(),v=[-g.x,-g.y],m=ht(n);s&&(m[c]=n[c]-g[c]-p);var y=this._layoutContentAndController(r,a,m,l,c,f,d,h);if(s){if(o==="end")v[l]+=y[c]+p;else{var _=g[c]+p;v[l]-=_,y[h]-=_}y[c]+=g[c]+p,v[1-l]+=y[d]+y[f]/2-g[f]/2,y[f]=Math.max(y[f],g[f]),y[d]=Math.min(y[d],g[d]+v[1-l]),u.x=v[0],u.y=v[1],u.markRedraw()}return y},e.prototype._layoutContentAndController=function(r,i,n,a,s,o,u,l){var c=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;Lh(r.get("orient"),c,r.get("itemGap"),a?n.width:null,a?null:n.height),Lh("horizontal",f,r.get("pageButtonItemGap",!0));var d=c.getBoundingRect(),p=f.getBoundingRect(),g=this._showController=d[s]>n[s],v=[-d.x,-d.y];i||(v[a]=c[l]);var m=[0,0],y=[-p.x,-p.y],_=gt(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(g){var x=r.get("pageButtonPosition",!0);x==="end"?y[a]+=n[s]-p[s]:m[a]+=p[s]+_}y[1-a]+=d[o]/2-p[o]/2,c.setPosition(v),h.setPosition(m),f.setPosition(y);var b={x:0,y:0};if(b[s]=g?n[s]:d[s],b[o]=Math.max(d[o],p[o]),b[u]=Math.min(0,p[u]+y[1-a]),h.__rectSize=n[s],g){var C={x:0,y:0};C[s]=Math.max(n[s]-p[s]-_,0),C[o]=b[o],h.setClipPath(new Gt({shape:C})),h.__rectSize=C[s]}else f.eachChild(function(A){A.attr({invisible:!0,silent:!0})});var E=this._getPageInfo(r);return E.pageIndex!=null&&er(c,{x:E.contentPosition[0],y:E.contentPosition[1]},g?r:null),this._updatePageInfoView(r,E),b},e.prototype._pageGo=function(r,i,n){var a=this._getPageInfo(i)[r];a!=null&&n.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:i.id})},e.prototype._updatePageInfoView=function(r,i){var n=this._controllerGroup;G(["pagePrev","pageNext"],function(c){var h=c+"DataIndex",f=i[h]!=null,d=n.childOfName(c);d&&(d.setStyle("fill",f?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),d.cursor=f?"pointer":"default")});var a=n.childOfName("pageText"),s=r.get("pageFormatter"),o=i.pageIndex,u=o!=null?o+1:0,l=i.pageCount;a&&s&&a.setStyle("text",Xe(s)?s.replace("{current}",u==null?"":u+"").replace("{total}",l==null?"":l+""):s({current:u,total:l}))},e.prototype._getPageInfo=function(r){var i=r.get("scrollDataIndex",!0),n=this.getContentGroup(),a=this._containerGroup.__rectSize,s=r.getOrient().index,o=j6[s],u=V6[s],l=this._findTargetItemIndex(i),c=n.children(),h=c[l],f=c.length,d=f?1:0,p={contentPosition:[n.x,n.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return p;var g=x(h);p.contentPosition[s]=-g.s;for(var v=l+1,m=g,y=g,_=null;v<=f;++v)_=x(c[v]),(!_&&y.e>m.s+a||_&&!b(_,m.s))&&(y.i>m.i?m=y:m=_,m&&(p.pageNextDataIndex==null&&(p.pageNextDataIndex=m.i),++p.pageCount)),y=_;for(var v=l-1,m=g,y=g,_=null;v>=-1;--v)_=x(c[v]),(!_||!b(y,_.s))&&m.i<y.i&&(y=m,p.pagePrevDataIndex==null&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=_;return p;function x(C){if(C){var E=C.getBoundingRect(),A=E[u]+C[u];return{s:A,e:A+E[o],i:C.__legendDataIndex}}}function b(C,E){return C.e>=E&&C.s<=E+a}},e.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var i,n=this.getContentGroup(),a;return n.eachChild(function(s,o){var u=s.__legendDataIndex;a==null&&u!=null&&(a=o),u===r&&(i=o)}),i??a},e.type="legend.scroll",e}(Xte);function XBe(t){t.registerAction("legendScroll","legendscroll",function(e,r){var i=e.scrollDataIndex;i!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:e},function(n){n.setScrollDataIndex(i)})})}function ZBe(t){ft(Kte),t.registerComponentModel(YBe),t.registerComponentView(qBe),XBe(t)}function KBe(t){ft(Kte),ft(ZBe)}var JBe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.inside",e.defaultOption=Wc(X2.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),e}(X2),rI=Yt();function QBe(t,e,r){rI(t).coordSysRecordMap.each(function(i){var n=i.dataZoomInfoMap.get(e.uid);n&&(n.getRange=r)})}function eMe(t,e){for(var r=rI(t).coordSysRecordMap,i=r.keys(),n=0;n<i.length;n++){var a=i[n],s=r.get(a),o=s.dataZoomInfoMap;if(o){var u=e.uid,l=o.get(u);l&&(o.removeKey(u),o.keys().length||Jte(r,s))}}}function Jte(t,e){if(e){t.removeKey(e.model.uid);var r=e.controller;r&&r.dispose()}}function tMe(t,e){var r={model:e,containsPoint:mt(iMe,e),dispatchAction:mt(rMe,t),dataZoomInfoMap:null,controller:null},i=r.controller=new Gm(t.getZr());return G(["pan","zoom","scrollMove"],function(n){i.on(n,function(a){var s=[];r.dataZoomInfoMap.each(function(o){if(a.isAvailableBehavior(o.model.option)){var u=(o.getRange||{})[n],l=u&&u(o.dzReferCoordSysInfo,r.model.mainType,r.controller,a);!o.model.get("disabled",!0)&&l&&s.push({dataZoomId:o.model.id,start:l[0],end:l[1]})}}),s.length&&r.dispatchAction(s)})}),r}function rMe(t,e){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:e})}function iMe(t,e,r,i){return t.coordinateSystem.containPoint([r,i])}function nMe(t){var e,r="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return t.each(function(a){var s=a.model,o=s.get("disabled",!0)?!1:s.get("zoomLock",!0)?"move":!0;i[r+o]>i[r+e]&&(e=o),n=n&&s.get("preventDefaultMouseMove",!0)}),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function aMe(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(e,r){var i=rI(r),n=i.coordSysRecordMap||(i.coordSysRecordMap=nt());n.each(function(a){a.dataZoomInfoMap=null}),e.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){var s=Lte(a);G(s.infoList,function(o){var u=o.model.uid,l=n.get(u)||n.set(u,tMe(r,o.model)),c=l.dataZoomInfoMap||(l.dataZoomInfoMap=nt());c.set(a.uid,{dzReferCoordSysInfo:o,model:a,getRange:null})})}),n.each(function(a){var s=a.controller,o,u=a.dataZoomInfoMap;if(u){var l=u.keys()[0];l!=null&&(o=u.get(l))}if(!o){Jte(n,a);return}var c=nMe(u);s.enable(c.controlType,c.opt),s.setPointerChecker(a.containsPoint),yg(a,"dispatchAction",o.model.get("throttle",!0),"fixRate")})})}var sMe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return e.prototype.render=function(r,i,n){if(t.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),QBe(n,r,{pan:Je($6.pan,this),zoom:Je($6.zoom,this),scrollMove:Je($6.scrollMove,this)})},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){eMe(this.api,this.dataZoomModel),this.range=null},e.type="dataZoom.inside",e}(YF),$6={zoom:function(t,e,r,i){var n=this.range,a=n.slice(),s=t.axisModels[0];if(s){var o=W6[e](null,[i.originX,i.originY],s,r,t),u=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(a[1]-a[0])+a[0],l=Math.max(1/i.scale,0);a[0]=(a[0]-u)*l+u,a[1]=(a[1]-u)*l+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ff(0,a,[0,100],0,c.minSpan,c.maxSpan),this.range=a,n[0]!==a[0]||n[1]!==a[1])return a}},pan:gG(function(t,e,r,i,n,a){var s=W6[i]([a.oldX,a.oldY],[a.newX,a.newY],e,n,r);return s.signal*(t[1]-t[0])*s.pixel/s.pixelLength}),scrollMove:gG(function(t,e,r,i,n,a){var s=W6[i]([0,0],[a.scrollDelta,a.scrollDelta],e,n,r);return s.signal*(t[1]-t[0])*a.scrollDelta})};function gG(t){return function(e,r,i,n){var a=this.range,s=a.slice(),o=e.axisModels[0];if(o){var u=t(s,o,e,r,i,n);if(Ff(u,s,[0,100],"all"),this.range=s,a[0]!==s[0]||a[1]!==s[1])return s}}}var W6={grid:function(t,e,r,i,n){var a=r.axis,s={},o=n.model.coordinateSystem.getRect();return t=t||[0,0],a.dim==="x"?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s},polar:function(t,e,r,i,n){var a=r.axis,s={},o=n.model.coordinateSystem,u=o.getRadiusAxis().getExtent(),l=o.getAngleAxis().getExtent();return t=t?o.pointToCoord(t):[0,0],e=o.pointToCoord(e),r.mainType==="radiusAxis"?(s.pixel=e[0]-t[0],s.pixelLength=u[1]-u[0],s.pixelStart=u[0],s.signal=a.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=a.inverse?-1:1),s},singleAxis:function(t,e,r,i,n){var a=r.axis,s=n.model.coordinateSystem.getRect(),o={};return t=t||[0,0],a.orient==="horizontal"?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o}};function Qte(t){qF(t),t.registerComponentModel(JBe),t.registerComponentView(sMe),aMe(t)}var oMe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.type="dataZoom.slider",e.layoutMode="box",e.defaultOption=Wc(X2.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),e}(X2),Lv=Gt,vG=7,uMe=1,Y6=30,lMe=7,Ov="horizontal",mG="vertical",cMe=5,hMe=["line","bar","candlestick","scatter"],fMe={easing:"cubicOut",duration:100,delay:0},dMe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._displayables={},r}return e.prototype.init=function(r,i){this.api=i,this._onBrush=Je(this._onBrush,this),this._onBrushEnd=Je(this._onBrushEnd,this)},e.prototype.render=function(r,i,n,a){if(t.prototype.render.apply(this,arguments),yg(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!a||a.type!=="dataZoom"||a.from!==this.uid)&&this._buildView(),this._updateView()},e.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},e.prototype._clear=function(){R2(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},e.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var i=this._displayables.sliderGroup=new dt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(i),this._positionGroup()},e.prototype._resetLocation=function(){var r=this.dataZoomModel,i=this.api,n=r.get("brushSelect"),a=n?lMe:0,s=this._findCoordRect(),o={width:i.getWidth(),height:i.getHeight()},u=this._orient===Ov?{right:o.width-s.x-s.width,top:o.height-Y6-vG-a,width:s.width,height:Y6}:{right:vG,top:s.y,width:Y6,height:s.height},l=pg(r.option);G(["right","top","width","height"],function(h){l[h]==="ph"&&(l[h]=u[h])});var c=ai(l,o);this._location={x:c.x,y:c.y},this._size=[c.width,c.height],this._orient===mG&&this._size.reverse()},e.prototype._positionGroup=function(){var r=this.group,i=this._location,n=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),s=a&&a.get("inverse"),o=this._displayables.sliderGroup,u=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n===Ov&&!s?{scaleY:u?1:-1,scaleX:1}:n===Ov&&s?{scaleY:u?1:-1,scaleX:-1}:n===mG&&!s?{scaleY:u?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:u?-1:1,scaleX:-1,rotation:Math.PI/2});var l=r.getBoundingRect([o]);r.x=i.x-l.x,r.y=i.y-l.y,r.markRedraw()},e.prototype._getViewExtent=function(){return[0,this._size[0]]},e.prototype._renderBackground=function(){var r=this.dataZoomModel,i=this._size,n=this._displayables.sliderGroup,a=r.get("brushSelect");n.add(new Lv({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var s=new Lv({shape:{x:0,y:0,width:i[0],height:i[1]},style:{fill:"transparent"},z2:0,onclick:Je(this._onClickPanel,this)}),o=this.api.getZr();a?(s.on("mousedown",this._onBrushStart,this),s.cursor="crosshair",o.on("mousemove",this._onBrush),o.on("mouseup",this._onBrushEnd)):(o.off("mousemove",this._onBrush),o.off("mouseup",this._onBrushEnd)),n.add(s)},e.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var i=this._size,n=this._shadowSize||[],a=r.series,s=a.getRawData(),o=a.getShadowDim&&a.getShadowDim(),u=o&&s.getDimensionInfo(o)?a.getShadowDim():r.otherDim;if(u==null)return;var l=this._shadowPolygonPts,c=this._shadowPolylinePts;if(s!==this._shadowData||u!==this._shadowDim||i[0]!==n[0]||i[1]!==n[1]){var h=s.getDataExtent(u),f=(h[1]-h[0])*.3;h=[h[0]-f,h[1]+f];var d=[0,i[1]],p=[0,i[0]],g=[[i[0],0],[0,0]],v=[],m=p[1]/(s.count()-1),y=0,_=Math.round(s.count()/i[0]),x;s.each([u],function(S,T){if(_>0&&T%_){y+=m;return}var D=S==null||isNaN(S)||S==="",F=D?0:nr(S,h,d,!0);D&&!x&&T?(g.push([g[g.length-1][0],0]),v.push([v[v.length-1][0],0])):!D&&x&&(g.push([y,0]),v.push([y,0])),g.push([y,F]),v.push([y,F]),y+=m,x=D}),l=this._shadowPolygonPts=g,c=this._shadowPolylinePts=v}this._shadowData=s,this._shadowDim=u,this._shadowSize=[i[0],i[1]];var b=this.dataZoomModel;function C(S){var T=b.getModel(S?"selectedDataBackground":"dataBackground"),D=new dt,F=new pa({shape:{points:l},segmentIgnoreThreshold:1,style:T.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),B=new ya({shape:{points:c},segmentIgnoreThreshold:1,style:T.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return D.add(F),D.add(B),D}for(var E=0;E<3;E++){var A=C(E===1);this._displayables.sliderGroup.add(A),this._displayables.dataShadowSegs.push(A)}},e.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,i=r.get("showDataShadow");if(i!==!1){var n,a=this.ecModel;return r.eachTargetAxis(function(s,o){var u=r.getAxisProxy(s,o).getTargetSeriesModels();G(u,function(l){if(!n&&!(i!==!0&&wt(hMe,l.get("type"))<0)){var c=a.getComponent(Cc(s),o).axis,h=pMe(s),f,d=l.coordinateSystem;h!=null&&d.getOtherAxis&&(f=d.getOtherAxis(c).inverse),h=l.getData().mapDimension(h),n={thisAxis:c,series:l,thisDim:s,otherDim:h,otherAxisInverse:f}}},this)},this),n}},e.prototype._renderHandle=function(){var r=this.group,i=this._displayables,n=i.handles=[null,null],a=i.handleLabels=[null,null],s=this._displayables.sliderGroup,o=this._size,u=this.dataZoomModel,l=this.api,c=u.get("borderRadius")||0,h=u.get("brushSelect"),f=i.filler=new Lv({silent:h,style:{fill:u.get("fillerColor")},textConfig:{position:"inside"}});s.add(f),s.add(new Lv({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:o[0],height:o[1],r:c},style:{stroke:u.get("dataBackgroundColor")||u.get("borderColor"),lineWidth:uMe,fill:"rgba(0,0,0,0)"}})),G([0,1],function(_){var x=u.get("handleIcon");!B3[x]&&x.indexOf("path://")<0&&x.indexOf("image://")<0&&(x="path://"+x);var b=vi(x,-1,0,2,2,null,!0);b.attr({cursor:yG(this._orient),draggable:!0,drift:Je(this._onDragMove,this,_),ondragend:Je(this._onDragEnd,this),onmouseover:Je(this._showDataInfo,this,!0),onmouseout:Je(this._showDataInfo,this,!1),z2:5});var C=b.getBoundingRect(),E=u.get("handleSize");this._handleHeight=je(E,this._size[1]),this._handleWidth=C.width/C.height*this._handleHeight,b.setStyle(u.getModel("handleStyle").getItemStyle()),b.style.strokeNoScale=!0,b.rectHover=!0,b.ensureState("emphasis").style=u.getModel(["emphasis","handleStyle"]).getItemStyle(),Mh(b);var A=u.get("handleColor");A!=null&&(b.style.fill=A),s.add(n[_]=b);var S=u.getModel("textStyle"),T=u.get("handleLabel")||{},D=T.show||!1;r.add(a[_]=new zt({silent:!0,invisible:!D,style:pr(S,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:S.getTextColor(),font:S.getFont()}),z2:10}))},this);var d=f;if(h){var p=je(u.get("moveHandleSize"),o[1]),g=i.moveHandle=new Gt({style:u.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:o[1]-.5,height:p}}),v=p*.8,m=i.moveHandleIcon=vi(u.get("moveHandleIcon"),-v/2,-v/2,v,v,"#fff",!0);m.silent=!0,m.y=o[1]+p/2-.5,g.ensureState("emphasis").style=u.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var y=Math.min(o[1]/2,Math.max(p,10));d=i.moveZone=new Gt({invisible:!0,shape:{y:o[1]-y,height:p+y}}),d.on("mouseover",function(){l.enterEmphasis(g)}).on("mouseout",function(){l.leaveEmphasis(g)}),s.add(g),s.add(m),s.add(d)}d.attr({draggable:!0,cursor:yG(this._orient),drift:Je(this._onDragMove,this,"all"),ondragstart:Je(this._showDataInfo,this,!0),ondragend:Je(this._onDragEnd,this),onmouseover:Je(this._showDataInfo,this,!0),onmouseout:Je(this._showDataInfo,this,!1)})},e.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),i=this._getViewExtent();this._handleEnds=[nr(r[0],[0,100],i,!0),nr(r[1],[0,100],i,!0)]},e.prototype._updateInterval=function(r,i){var n=this.dataZoomModel,a=this._handleEnds,s=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),u=[0,100];Ff(i,a,s,n.get("zoomLock")?"all":r,o.minSpan!=null?nr(o.minSpan,u,s,!0):null,o.maxSpan!=null?nr(o.maxSpan,u,s,!0):null);var l=this._range,c=this._range=Ds([nr(a[0],s,u,!0),nr(a[1],s,u,!0)]);return!l||l[0]!==c[0]||l[1]!==c[1]},e.prototype._updateView=function(r){var i=this._displayables,n=this._handleEnds,a=Ds(n.slice()),s=this._size;G([0,1],function(d){var p=i.handles[d],g=this._handleHeight;p.attr({scaleX:g/2,scaleY:g/2,x:n[d]+(d?-1:1),y:s[1]/2-g/2})},this),i.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:s[1]});var o={x:a[0],width:a[1]-a[0]};i.moveHandle&&(i.moveHandle.setShape(o),i.moveZone.setShape(o),i.moveZone.getBoundingRect(),i.moveHandleIcon&&i.moveHandleIcon.attr("x",o.x+o.width/2));for(var u=i.dataShadowSegs,l=[0,a[0],a[1],s[0]],c=0;c<u.length;c++){var h=u[c],f=h.getClipPath();f||(f=new Gt,h.setClipPath(f)),f.setShape({x:l[c],y:0,width:l[c+1]-l[c],height:s[1]})}this._updateDataInfo(r)},e.prototype._updateDataInfo=function(r){var i=this.dataZoomModel,n=this._displayables,a=n.handleLabels,s=this._orient,o=["",""];if(i.get("showDetail")){var u=i.findRepresentativeAxisProxy();if(u){var l=u.getAxisModel().axis,c=this._range,h=r?u.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:u.getDataValueWindow();o=[this._formatLabel(h[0],l),this._formatLabel(h[1],l)]}}var f=Ds(this._handleEnds.slice());d.call(this,0),d.call(this,1);function d(p){var g=Ph(n.handles[p].parent,this.group),v=Ib(p===0?"right":"left",g),m=this._handleWidth/2+cMe,y=po([f[p]+(p===0?-m:m),this._size[1]/2],g);a[p].setStyle({x:y[0],y:y[1],verticalAlign:s===Ov?"middle":v,align:s===Ov?v:"center",text:o[p]})}},e.prototype._formatLabel=function(r,i){var n=this.dataZoomModel,a=n.get("labelFormatter"),s=n.get("labelPrecision");(s==null||s==="auto")&&(s=i.getPixelPrecision());var o=r==null||isNaN(r)?"":i.type==="category"||i.type==="time"?i.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(s,20));return ot(a)?a(r,o):Xe(a)?a.replace("{value}",o):o},e.prototype._showDataInfo=function(r){var i=this.dataZoomModel.get("handleLabel")||{},n=i.show||!1,a=this.dataZoomModel.getModel(["emphasis","handleLabel"]),s=a.get("show")||!1,o=r||this._dragging?s:n,u=this._displayables,l=u.handleLabels;l[0].attr("invisible",!o),l[1].attr("invisible",!o),u.moveHandle&&this.api[o?"enterEmphasis":"leaveEmphasis"](u.moveHandle,1)},e.prototype._onDragMove=function(r,i,n,a){this._dragging=!0,fl(a.event);var s=this._displayables.sliderGroup.getLocalTransform(),o=po([i,n],s,!0),u=this._updateInterval(r,o[0]),l=this.dataZoomModel.get("realtime");this._updateView(!l),u&&l&&this._dispatchZoomAction(!0)},e.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},e.prototype._onClickPanel=function(r){var i=this._size,n=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(n[0]<0||n[0]>i[0]||n[1]<0||n[1]>i[1])){var a=this._handleEnds,s=(a[0]+a[1])/2,o=this._updateInterval("all",n[0]-s);this._updateView(),o&&this._dispatchZoomAction(!1)}},e.prototype._onBrushStart=function(r){var i=r.offsetX,n=r.offsetY;this._brushStart=new Ct(i,n),this._brushing=!0,this._brushStartTime=+new Date},e.prototype._onBrushEnd=function(r){if(this._brushing){var i=this._displayables.brushRect;if(this._brushing=!1,!!i){i.attr("ignore",!0);var n=i.shape,a=+new Date;if(!(a-this._brushStartTime<200&&Math.abs(n.width)<5)){var s=this._getViewExtent(),o=[0,100];this._range=Ds([nr(n.x,s,o,!0),nr(n.x+n.width,s,o,!0)]),this._handleEnds=[n.x,n.x+n.width],this._updateView(),this._dispatchZoomAction(!1)}}}},e.prototype._onBrush=function(r){this._brushing&&(fl(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},e.prototype._updateBrushRect=function(r,i){var n=this._displayables,a=this.dataZoomModel,s=n.brushRect;s||(s=n.brushRect=new Lv({silent:!0,style:a.getModel("brushStyle").getItemStyle()}),n.sliderGroup.add(s)),s.attr("ignore",!1);var o=this._brushStart,u=this._displayables.sliderGroup,l=u.transformCoordToLocal(r,i),c=u.transformCoordToLocal(o.x,o.y),h=this._size;l[0]=Math.max(Math.min(h[0],l[0]),0),s.setShape({x:c[0],y:0,width:l[0]-c[0],height:h[1]})},e.prototype._dispatchZoomAction=function(r){var i=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?fMe:null,start:i[0],end:i[1]})},e.prototype._findCoordRect=function(){var r,i=Lte(this.dataZoomModel).infoList;if(!r&&i.length){var n=i[0].model.coordinateSystem;r=n.getRect&&n.getRect()}if(!r){var a=this.api.getWidth(),s=this.api.getHeight();r={x:a*.2,y:s*.2,width:a*.6,height:s*.6}}return r},e.type="dataZoom.slider",e}(YF);function pMe(t){var e={x:"y",y:"x",radius:"angle",angle:"radius"};return e[t]}function yG(t){return t==="vertical"?"ns-resize":"ew-resize"}function ere(t){t.registerComponentModel(oMe),t.registerComponentView(dMe),qF(t)}function gMe(t){ft(Qte),ft(ere)}var tre={get:function(t,e,r){var i=ht((vMe[t]||{})[e]);return r&&Te(i)?i[i.length-1]:i}},vMe={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},_G=qi.mapVisual,mMe=qi.eachVisual,yMe=Te,xG=G,_Me=Ds,xMe=nr,r4=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return e.prototype.init=function(r,i,n){this.mergeDefaultAndTheme(r,n)},e.prototype.optionUpdated=function(r,i){var n=this.option;!i&&Vte(n,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(r){var i=this.stateList;r=Je(r,this),this.controllerVisuals=Gw(this.option.controller,i,r),this.targetVisuals=Gw(this.option.target,i,r)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,i=[];return r==null||r==="all"?this.ecModel.eachSeries(function(n,a){i.push(a)}):i=mr(r),i},e.prototype.eachTargetSeries=function(r,i){G(this.getTargetSeriesIndices(),function(n){var a=this.ecModel.getSeriesByIndex(n);a&&r.call(i,a)},this)},e.prototype.isTargetSeries=function(r){var i=!1;return this.eachTargetSeries(function(n){n===r&&(i=!0)}),i},e.prototype.formatValueText=function(r,i,n){var a=this.option,s=a.precision,o=this.dataBound,u=a.formatter,l;n=n||["<",">"],Te(r)&&(r=r.slice(),l=!0);var c=i?r:l?[h(r[0]),h(r[1])]:h(r);if(Xe(u))return u.replace("{value}",l?c[0]:c).replace("{value2}",l?c[1]:c);if(ot(u))return l?u(r[0],r[1]):u(r);if(l)return r[0]===o[0]?n[0]+" "+c[1]:r[1]===o[1]?n[1]+" "+c[0]:c[0]+" - "+c[1];return c;function h(f){return f===o[0]?"min":f===o[1]?"max":(+f).toFixed(Math.min(s,20))}},e.prototype.resetExtent=function(){var r=this.option,i=_Me([r.min,r.max]);this._dataExtent=i},e.prototype.getDataDimensionIndex=function(r){var i=this.option.dimension;if(i!=null)return r.getDimensionIndex(i);for(var n=r.dimensions,a=n.length-1;a>=0;a--){var s=n[a],o=r.getDimensionInfo(s);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var r=this.ecModel,i=this.option,n={inRange:i.inRange,outOfRange:i.outOfRange},a=i.target||(i.target={}),s=i.controller||(i.controller={});et(a,n),et(s,n);var o=this.isCategory();u.call(this,a),u.call(this,s),l.call(this,a,"inRange","outOfRange"),c.call(this,s);function u(h){yMe(i.color)&&!h.inRange&&(h.inRange={color:i.color.slice().reverse()}),h.inRange=h.inRange||{color:r.get("gradientColor")}}function l(h,f,d){var p=h[f],g=h[d];p&&!g&&(g=h[d]={},xG(p,function(v,m){if(qi.isValidType(m)){var y=tre.get(m,"inactive",o);y!=null&&(g[m]=y,m==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function c(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,d=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,p=this.get("inactiveColor"),g=this.getItemSymbol(),v=g||"roundRect";xG(this.stateList,function(m){var y=this.itemSize,_=h[m];_||(_=h[m]={color:o?p:[p]}),_.symbol==null&&(_.symbol=f&&ht(f)||(o?v:[v])),_.symbolSize==null&&(_.symbolSize=d&&ht(d)||(o?y[0]:[y[0],y[0]])),_.symbol=_G(_.symbol,function(C){return C==="none"?v:C});var x=_.symbolSize;if(x!=null){var b=-1/0;mMe(x,function(C){C>b&&(b=C)}),_.symbolSize=_G(x,function(C){return xMe(C,[0,b],[0,y[0]],!0)})}},this)}},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(r){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(r){return null},e.prototype.getVisualMeta=function(r){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(Dt),bG=[20,140],bMe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.optionUpdated=function(r,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(n){n.mappingMethod="linear",n.dataExtent=this.getExtent()}),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=bG[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=bG[1])},e.prototype._resetRange=function(){var r=this.getExtent(),i=this.option.range;!i||i.auto?(r.auto=1,this.option.range=r):Te(i)&&(i[0]>i[1]&&i.reverse(),i[0]=Math.max(i[0],r[0]),i[1]=Math.min(i[1],r[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),G(this.stateList,function(r){var i=this.option.controller[r].symbolSize;i&&i[0]!==i[1]&&(i[0]=i[1]/3)},this)},e.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},e.prototype.getSelected=function(){var r=this.getExtent(),i=Ds((this.get("range")||[]).slice());return i[0]>r[1]&&(i[0]=r[1]),i[1]>r[1]&&(i[1]=r[1]),i[0]<r[0]&&(i[0]=r[0]),i[1]<r[0]&&(i[1]=r[0]),i},e.prototype.getValueState=function(r){var i=this.option.range,n=this.getExtent();return(i[0]<=n[0]||i[0]<=r)&&(i[1]>=n[1]||r<=i[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(r){var i=[];return this.eachTargetSeries(function(n){var a=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(o,u){r[0]<=o&&o<=r[1]&&a.push(u)},this),i.push({seriesId:n.id,dataIndex:a})},this),i},e.prototype.getVisualMeta=function(r){var i=CG(this,"outOfRange",this.getExtent()),n=CG(this,"inRange",this.option.range.slice()),a=[];function s(d,p){a.push({value:d,color:r(d,p)})}for(var o=0,u=0,l=n.length,c=i.length;u<c&&(!n.length||i[u]<=n[0]);u++)i[u]<n[o]&&s(i[u],"outOfRange");for(var h=1;o<l;o++,h=0)h&&a.length&&s(n[o],"outOfRange"),s(n[o],"inRange");for(var h=1;u<c;u++)(!n.length||n[n.length-1]<i[u])&&(h&&(a.length&&s(a[a.length-1].value,"outOfRange"),h=0),s(i[u],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=Wc(r4.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(r4);function CG(t,e,r){if(r[0]===r[1])return r.slice();for(var i=200,n=(r[1]-r[0])/i,a=r[0],s=[],o=0;o<=i&&a<r[1];o++)s.push(a),a+=n;return s.push(r[1]),s}var rre=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return e.prototype.init=function(r,i){this.ecModel=r,this.api=i},e.prototype.render=function(r,i,n,a){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,i,n,a)},e.prototype.renderBackground=function(r){var i=this.visualMapModel,n=dg(i.get("padding")||0),a=r.getBoundingRect();r.add(new Gt({z2:-1,silent:!0,shape:{x:a.x-n[3],y:a.y-n[0],width:a.width+n[3]+n[1],height:a.height+n[0]+n[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},e.prototype.getControllerVisual=function(r,i,n){n=n||{};var a=n.forceState,s=this.visualMapModel,o={};if(i==="color"){var u=s.get("contentColor");o.color=u}function l(d){return o[d]}function c(d,p){o[d]=p}var h=s.controllerVisuals[a||s.getValueState(r)],f=qi.prepareVisualTypes(h);return G(f,function(d){var p=h[d];n.convertOpacityToAlpha&&d==="opacity"&&(d="colorAlpha",p=h.__alphaForOpacity),qi.dependsOn(d,i)&&p&&p.applyVisual(r,l,c)}),o[i]},e.prototype.positionGroup=function(r){var i=this.visualMapModel,n=this.api;Nb(r,i.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(r,i,n,a){},e.type="visualMap",e}(_r),EG=[["left","right","width"],["top","bottom","height"]];function ire(t,e,r){var i=t.option,n=i.align;if(n!=null&&n!=="auto")return n;for(var a={width:e.getWidth(),height:e.getHeight()},s=i.orient==="horizontal"?1:0,o=EG[s],u=[0,null,10],l={},c=0;c<3;c++)l[EG[1-s][c]]=u[c],l[o[c]]=c===2?r[0]:i[o[c]];var h=[["x","width",3],["y","height",0]][s],f=ai(l,a,i.padding);return o[(f.margin[h[2]]||0)+f[h[0]]+f[h[1]]*.5<a[h[1]]*.5?0:1]}function r5(t,e){return G(t||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var No=nr,CMe=G,SG=Math.min,q6=Math.max,EMe=12,SMe=6,TMe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return e.prototype.init=function(r,i){t.prototype.init.call(this,r,i),this._hoverLinkFromSeriesMouseOver=Je(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Je(this._hideIndicator,this)},e.prototype.doRender=function(r,i,n,a){(!a||a.type!=="selectDataRange"||a.from!==this.uid)&&this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,i=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(i);var n=r.get("text");this._renderEndsText(i,n,0),this._renderEndsText(i,n,1),this._updateView(!0),this.renderBackground(i),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(i)},e.prototype._renderEndsText=function(r,i,n){if(i){var a=i[1-n];a=a!=null?a+"":"";var s=this.visualMapModel,o=s.get("textGap"),u=s.itemSize,l=this._shapes.mainGroup,c=this._applyTransform([u[0]/2,n===0?-o:u[1]+o],l),h=this._applyTransform(n===0?"bottom":"top",l),f=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new zt({style:pr(d,{x:c[0],y:c[1],verticalAlign:f==="horizontal"?"middle":h,align:f==="horizontal"?h:"center",text:a})}))}},e.prototype._renderBar=function(r){var i=this.visualMapModel,n=this._shapes,a=i.itemSize,s=this._orient,o=this._useHandle,u=ire(i,this.api,a),l=n.mainGroup=this._createBarGroup(u),c=new dt;l.add(c),c.add(n.outOfRange=TG()),c.add(n.inRange=TG(null,o?wG(this._orient):null,Je(this._dragHandle,this,"all",!1),Je(this._dragHandle,this,"all",!0))),c.setClipPath(new Gt({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=i.textStyleModel.getTextRect("国"),f=q6(h.width,h.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(i,l,0,a,f,s),this._createHandle(i,l,1,a,f,s)),this._createIndicator(i,l,a,f,s),r.add(l)},e.prototype._createHandle=function(r,i,n,a,s,o){var u=Je(this._dragHandle,this,n,!1),l=Je(this._dragHandle,this,n,!0),c=xo(r.get("handleSize"),a[0]),h=vi(r.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=wG(this._orient);h.attr({cursor:f,draggable:!0,drift:u,ondragend:l,onmousemove:function(m){fl(m.event)}}),h.x=a[0]/2,h.useStyle(r.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),fh(h,!0),i.add(h);var d=this.visualMapModel.textStyleModel,p=new zt({cursor:f,draggable:!0,drift:u,onmousemove:function(m){fl(m.event)},ondragend:l,style:pr(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var g=[c,0],v=this._shapes;v.handleThumbs[n]=h,v.handleLabelPoints[n]=g,v.handleLabels[n]=p},e.prototype._createIndicator=function(r,i,n,a,s){var o=xo(r.get("indicatorSize"),n[0]),u=vi(r.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);u.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var l=r.getModel("indicatorStyle").getItemStyle();if(u instanceof en){var c=u.style;u.useStyle(Ce({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else u.useStyle(l);i.add(u);var h=this.visualMapModel.textStyleModel,f=new zt({silent:!0,invisible:!0,style:pr(h,{x:0,y:0,text:""})});this.group.add(f);var d=[(s==="horizontal"?a/2:SMe)+n[0]/2,0],p=this._shapes;p.indicator=u,p.indicatorLabel=f,p.indicatorLabelPoint=d,this._firstShowIndicator=!0},e.prototype._dragHandle=function(r,i,n,a){if(this._useHandle){if(this._dragging=!i,!i){var s=this._applyTransform([n,a],this._shapes.mainGroup,!0);this._updateInterval(r,s[1]),this._hideIndicator(),this._updateView()}i===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),i?!this._hovering&&this._clearHoverLinkToSeries():AG(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},e.prototype._resetInterval=function(){var r=this.visualMapModel,i=this._dataInterval=r.getSelected(),n=r.getExtent(),a=[0,r.itemSize[1]];this._handleEnds=[No(i[0],n,a,!0),No(i[1],n,a,!0)]},e.prototype._updateInterval=function(r,i){i=i||0;var n=this.visualMapModel,a=this._handleEnds,s=[0,n.itemSize[1]];Ff(i,a,s,r,0);var o=n.getExtent();this._dataInterval=[No(a[0],s,o,!0),No(a[1],s,o,!0)]},e.prototype._updateView=function(r){var i=this.visualMapModel,n=i.getExtent(),a=this._shapes,s=[0,i.itemSize[1]],o=r?s:this._handleEnds,u=this._createBarVisual(this._dataInterval,n,o,"inRange"),l=this._createBarVisual(n,n,s,"outOfRange");a.inRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),a.outOfRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),this._updateHandle(o,u)},e.prototype._createBarVisual=function(r,i,n,a){var s={forceState:a,convertOpacityToAlpha:!0},o=this._makeColorGradient(r,s),u=[this.getControllerVisual(r[0],"symbolSize",s),this.getControllerVisual(r[1],"symbolSize",s)],l=this._createBarPoints(n,u);return{barColor:new Fm(0,0,0,1,o),barPoints:l,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(r,i){var n=100,a=[],s=(r[1]-r[0])/n;a.push({color:this.getControllerVisual(r[0],"color",i),offset:0});for(var o=1;o<n;o++){var u=r[0]+s*o;if(u>r[1])break;a.push({color:this.getControllerVisual(u,"color",i),offset:o/n})}return a.push({color:this.getControllerVisual(r[1],"color",i),offset:1}),a},e.prototype._createBarPoints=function(r,i){var n=this.visualMapModel.itemSize;return[[n[0]-i[0],r[0]],[n[0],r[0]],[n[0],r[1]],[n[0]-i[1],r[1]]]},e.prototype._createBarGroup=function(r){var i=this._orient,n=this.visualMapModel.get("inverse");return new dt(i==="horizontal"&&!n?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:i==="horizontal"&&n?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:i==="vertical"&&!n?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},e.prototype._updateHandle=function(r,i){if(this._useHandle){var n=this._shapes,a=this.visualMapModel,s=n.handleThumbs,o=n.handleLabels,u=a.itemSize,l=a.getExtent(),c=this._applyTransform("left",n.mainGroup);CMe([0,1],function(h){var f=s[h];f.setStyle("fill",i.handlesColor[h]),f.y=r[h];var d=No(r[h],[0,u[1]],l,!0),p=this.getControllerVisual(d,"symbolSize");f.scaleX=f.scaleY=p/u[0],f.x=u[0]-p/2;var g=po(n.handleLabelPoints[h],Ph(f,this.group));if(this._orient==="horizontal"){var v=c==="left"||c==="top"?(u[0]-p)/2:(u[0]-p)/-2;g[1]+=v}o[h].setStyle({x:g[0],y:g[1],text:a.formatValueText(this._dataInterval[h]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",n.mainGroup):"center"})},this)}},e.prototype._showIndicator=function(r,i,n,a){var s=this.visualMapModel,o=s.getExtent(),u=s.itemSize,l=[0,u[1]],c=this._shapes,h=c.indicator;if(h){h.attr("invisible",!1);var f={convertOpacityToAlpha:!0},d=this.getControllerVisual(r,"color",f),p=this.getControllerVisual(r,"symbolSize"),g=No(r,o,l,!0),v=u[0]-p/2,m={x:h.x,y:h.y};h.y=g,h.x=v;var y=po(c.indicatorLabelPoint,Ph(h,this.group)),_=c.indicatorLabel;_.attr("invisible",!1);var x=this._applyTransform("left",c.mainGroup),b=this._orient,C=b==="horizontal";_.setStyle({text:(n||"")+s.formatValueText(i),verticalAlign:C?x:"middle",align:C?"center":x});var E={x:v,y:g,style:{fill:d}},A={style:{x:y[0],y:y[1]}};if(s.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};h.x=m.x,h.y=m.y,h.animateTo(E,S),_.animateTo(A,S)}else h.attr(E),_.attr(A);this._firstShowIndicator=!1;var T=this._shapes.handleLabels;if(T)for(var D=0;D<T.length;D++)this.api.enterBlur(T[D])}},e.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(i){if(r._hovering=!0,!r._dragging){var n=r.visualMapModel.itemSize,a=r._applyTransform([i.offsetX,i.offsetY],r._shapes.mainGroup,!0,!0);a[1]=SG(q6(0,a[1]),n[1]),r._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=n[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},e.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(r,i){var n=this.visualMapModel,a=n.itemSize;if(n.option.hoverLink){var s=[0,a[1]],o=n.getExtent();r=SG(q6(s[0],r),s[1]);var u=AMe(n,o,s),l=[r-u,r+u],c=No(r,s,o,!0),h=[No(l[0],s,o,!0),No(l[1],s,o,!0)];l[0]<s[0]&&(h[0]=-1/0),l[1]>s[1]&&(h[1]=1/0),i&&(h[0]===-1/0?this._showIndicator(c,h[1],"< ",u):h[1]===1/0?this._showIndicator(c,h[0],"> ",u):this._showIndicator(c,c,"≈ ",u));var f=this._hoverLinkDataIndices,d=[];(i||AG(n))&&(d=this._hoverLinkDataIndices=n.findTargetDataIndices(h));var p=Gxe(f,d);this._dispatchHighDown("downplay",r5(p[0],n)),this._dispatchHighDown("highlight",r5(p[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(r){var i;if(ph(r.target,function(u){var l=pt(u);if(l.dataIndex!=null)return i=l,!0},!0),!!i){var n=this.ecModel.getSeriesByIndex(i.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(n)){var s=n.getData(i.dataType),o=s.getStore().get(a.getDataDimensionIndex(s),i.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},e.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var i=this._shapes.handleLabels;if(i)for(var n=0;n<i.length;n++)this.api.leaveBlur(i[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",r5(r,this.visualMapModel)),r.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(r,i,n,a){var s=Ph(i,a?null:this.group);return Te(r)?po(r,s,n):Ib(r,s,n)},e.prototype._dispatchHighDown=function(r,i){i&&i.length&&this.api.dispatchAction({type:r,batch:i})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(rre);function TG(t,e,r,i){return new pa({shape:{points:t},draggable:!!r,cursor:e,drift:r,onmousemove:function(n){fl(n.event)},ondragend:i})}function AMe(t,e,r){var i=EMe/2,n=t.get("hoverLinkDataSize");return n&&(i=No(n,e,r,!0)/2),i}function AG(t){var e=t.get("hoverLinkOnHandle");return!!(e??t.get("realtime"))}function wG(t){return t==="vertical"?"ns-resize":"ew-resize"}var wMe={type:"selectDataRange",event:"dataRangeSelected",update:"update"},DMe=function(t,e){e.eachComponent({mainType:"visualMap",query:t},function(r){r.setSelected(t.selected)})},FMe=[{createOnAllSeries:!0,reset:function(t,e){var r=[];return e.eachComponent("visualMap",function(i){var n=t.pipelineContext;!i.isTargetSeries(t)||n&&n.large||r.push(KIe(i.stateList,i.targetVisuals,Je(i.getValueState,i),i.getDataDimensionIndex(t.getData())))}),r}},{createOnAllSeries:!0,reset:function(t,e){var r=t.getData(),i=[];e.eachComponent("visualMap",function(n){if(n.isTargetSeries(t)){var a=n.getVisualMeta(Je(IMe,null,t,n))||{stops:[],outerColors:[]},s=n.getDataDimensionIndex(r);s>=0&&(a.dimension=s,i.push(a))}}),t.getData().setVisual("visualMeta",i)}}];function IMe(t,e,r,i){for(var n=e.targetVisuals[i],a=qi.prepareVisualTypes(n),s={color:Mm(t.getData(),"color")},o=0,u=a.length;o<u;o++){var l=a[o],c=n[l==="opacity"?"__alphaForOpacity":l];c&&c.applyVisual(r,h,f)}return s.color;function h(d){return s[d]}function f(d,p){s[d]=p}}var DG=G;function BMe(t){var e=t&&t.visualMap;Te(e)||(e=e?[e]:[]),DG(e,function(r){if(r){id(r,"splitList")&&!id(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var i=r.pieces;i&&Te(i)&&DG(i,function(n){lt(n)&&(id(n,"start")&&!id(n,"min")&&(n.min=n.start),id(n,"end")&&!id(n,"max")&&(n.max=n.end))})}})}function id(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var FG=!1;function nre(t){FG||(FG=!0,t.registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"}),t.registerAction(wMe,DMe),G(FMe,function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)}),t.registerPreprocessor(BMe))}function are(t){t.registerComponentModel(bMe),t.registerComponentView(TMe),nre(t)}var MMe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r._pieceList=[],r}return e.prototype.optionUpdated=function(r,i){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],PMe[this._mode].call(this,this._pieceList),this._resetSelected(r,i);var a=this.option.categories;this.resetVisual(function(s,o){n==="categories"?(s.mappingMethod="category",s.categories=ht(a)):(s.dataExtent=this.getExtent(),s.mappingMethod="piecewise",s.pieceList=Ie(this._pieceList,function(u){return u=ht(u),o!=="inRange"&&(u.visual=null),u}))})},e.prototype.completeVisualOption=function(){var r=this.option,i={},n=qi.listVisualTypes(),a=this.isCategory();G(r.pieces,function(o){G(n,function(u){o.hasOwnProperty(u)&&(i[u]=1)})}),G(i,function(o,u){var l=!1;G(this.stateList,function(c){l=l||s(r,c,u)||s(r.target,c,u)},this),!l&&G(this.stateList,function(c){(r[c]||(r[c]={}))[u]=tre.get(u,c==="inRange"?"active":"inactive",a)})},this);function s(o,u,l){return o&&o[u]&&o[u].hasOwnProperty(l)}t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(r,i){var n=this.option,a=this._pieceList,s=(i?n:r).selected||{};if(n.selected=s,G(a,function(u,l){var c=this.getSelectedMapKey(u);s.hasOwnProperty(c)||(s[c]=!0)},this),n.selectedMode==="single"){var o=!1;G(a,function(u,l){var c=this.getSelectedMapKey(u);s[c]&&(o?s[c]=!1:o=!0)},this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(r){this.option.selected=ht(r)},e.prototype.getValueState=function(r){var i=qi.findPieceIndex(r,this._pieceList);return i!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[i])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(r){var i=[],n=this._pieceList;return this.eachTargetSeries(function(a){var s=[],o=a.getData();o.each(this.getDataDimensionIndex(o),function(u,l){var c=qi.findPieceIndex(u,n);c===r&&s.push(l)},this),i.push({seriesId:a.id,dataIndex:s})},this),i},e.prototype.getRepresentValue=function(r){var i;if(this.isCategory())i=r.value;else if(r.value!=null)i=r.value;else{var n=r.interval||[];i=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return i},e.prototype.getVisualMeta=function(r){if(this.isCategory())return;var i=[],n=["",""],a=this;function s(c,h){var f=a.getRepresentValue({interval:c});h||(h=a.getValueState(f));var d=r(f,h);c[0]===-1/0?n[0]=d:c[1]===1/0?n[1]=d:i.push({value:c[0],color:d},{value:c[1],color:d})}var o=this._pieceList.slice();if(!o.length)o.push({interval:[-1/0,1/0]});else{var u=o[0].interval[0];u!==-1/0&&o.unshift({interval:[-1/0,u]}),u=o[o.length-1].interval[1],u!==1/0&&o.push({interval:[u,1/0]})}var l=-1/0;return G(o,function(c){var h=c.interval;h&&(h[0]>l&&s([l,h[0]],"outOfRange"),s(h.slice()),l=h[1])},this),{stops:i,outerColors:n}},e.type="visualMap.piecewise",e.defaultOption=Wc(r4.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(r4),PMe={splitNumber:function(t){var e=this.option,r=Math.min(e.precision,20),i=this.getExtent(),n=e.splitNumber;n=Math.max(parseInt(n,10),1),e.splitNumber=n;for(var a=(i[1]-i[0])/n;+a.toFixed(r)!==a&&r<5;)r++;e.precision=r,a=+a.toFixed(r),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,o=i[0];s<n;o+=a,s++){var u=s===n-1?i[1]:o+a;t.push({interval:[o,u],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),EO(t),G(t,function(l,c){l.index=c,l.text=this.formatValueText(l.interval)},this)},categories:function(t){var e=this.option;G(e.categories,function(r){t.push({text:this.formatValueText(r,!0),value:r})},this),IG(e,t)},pieces:function(t){var e=this.option;G(e.pieces,function(r,i){lt(r)||(r={value:r});var n={text:"",index:i};if(r.label!=null&&(n.text=r.label),r.hasOwnProperty("value")){var a=n.value=r.value;n.interval=[a,a],n.close=[1,1]}else{for(var s=n.interval=[],o=n.close=[0,0],u=[1,0,1],l=[-1/0,1/0],c=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&s[h]==null;d++)s[h]=r[f[d]],o[h]=u[d],c[h]=d===2;s[h]==null&&(s[h]=l[h])}c[0]&&s[1]===1/0&&(o[0]=0),c[1]&&s[0]===-1/0&&(o[1]=0),s[0]===s[1]&&o[0]&&o[1]&&(n.value=s[0])}n.visual=qi.retrieveVisuals(r),t.push(n)},this),IG(e,t),EO(t),G(t,function(r){var i=r.close,n=[["<","≤"][i[1]],[">","≥"][i[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,n)},this)}};function IG(t,e){var r=t.inverse;(t.orient==="vertical"?!r:r)&&e.reverse()}var LMe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=e.type,r}return e.prototype.doRender=function(){var r=this.group;r.removeAll();var i=this.visualMapModel,n=i.get("textGap"),a=i.textStyleModel,s=a.getFont(),o=a.getTextColor(),u=this._getItemAlign(),l=i.itemSize,c=this._getViewData(),h=c.endsText,f=dn(i.get("showLabel",!0),!h),d=!i.get("selectedMode");h&&this._renderEndsText(r,h[0],l,f,u),G(c.viewPieceList,function(p){var g=p.piece,v=new dt;v.onclick=Je(this._onItemClick,this,g),this._enableHoverLink(v,p.indexInModelPieceList);var m=i.getRepresentValue(g);if(this._createItemSymbol(v,m,[0,0,l[0],l[1]],d),f){var y=this.visualMapModel.getValueState(m);v.add(new zt({style:{x:u==="right"?-n:l[0]+n,y:l[1]/2,text:g.text,verticalAlign:"middle",align:u,font:s,fill:o,opacity:y==="outOfRange"?.5:1},silent:d}))}r.add(v)},this),h&&this._renderEndsText(r,h[1],l,f,u),Lh(i.get("orient"),r,i.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},e.prototype._enableHoverLink=function(r,i){var n=this;r.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(s){var o=n.visualMapModel;o.option.hoverLink&&n.api.dispatchAction({type:s,batch:r5(o.findTargetDataIndices(i),o)})}},e.prototype._getItemAlign=function(){var r=this.visualMapModel,i=r.option;if(i.orient==="vertical")return ire(r,this.api,r.itemSize);var n=i.align;return(!n||n==="auto")&&(n="left"),n},e.prototype._renderEndsText=function(r,i,n,a,s){if(i){var o=new dt,u=this.visualMapModel.textStyleModel;o.add(new zt({style:pr(u,{x:a?s==="right"?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:a?s:"center",text:i})})),r.add(o)}},e.prototype._getViewData=function(){var r=this.visualMapModel,i=Ie(r.getPieceList(),function(o,u){return{piece:o,indexInModelPieceList:u}}),n=r.get("text"),a=r.get("orient"),s=r.get("inverse");return(a==="horizontal"?s:!s)?i.reverse():n&&(n=n.slice().reverse()),{viewPieceList:i,endsText:n}},e.prototype._createItemSymbol=function(r,i,n,a){var s=vi(this.getControllerVisual(i,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(i,"color"));s.silent=a,r.add(s)},e.prototype._onItemClick=function(r){var i=this.visualMapModel,n=i.option,a=n.selectedMode;if(a){var s=ht(n.selected),o=i.getSelectedMapKey(r);a==="single"||a===!0?(s[o]=!0,G(s,function(u,l){s[l]=l===o})):s[o]=!s[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:s})}},e.type="visualMap.piecewise",e}(rre);function sre(t){t.registerComponentModel(MMe),t.registerComponentView(LMe),nre(t)}function OMe(t){ft(are),ft(sre)}var RMe={label:{enabled:!0},decal:{show:!1}},BG=Yt(),NMe={};function kMe(t,e){var r=t.getModel("aria");if(!r.get("enabled"))return;var i=ht(RMe);et(i.label,t.getLocaleModel().get("aria"),!1),et(r.option,i,!1),n(),a();function n(){var l=r.getModel("decal"),c=l.get("show");if(c){var h=nt();t.eachSeries(function(f){if(!f.isColorBySeries()){var d=h.get(f.type);d||(d={},h.set(f.type,d)),BG(f).scope=d}}),t.eachRawSeries(function(f){if(t.isSeriesFiltered(f))return;if(ot(f.enableAriaDecal)){f.enableAriaDecal();return}var d=f.getData();if(f.isColorBySeries()){var y=W8(f.ecModel,f.name,NMe,t.getSeriesCount()),_=d.getVisual("decal");d.setVisual("decal",x(_,y))}else{var p=f.getRawData(),g={},v=BG(f).scope;d.each(function(b){var C=d.getRawIndex(b);g[C]=b});var m=p.count();p.each(function(b){var C=g[b],E=p.getName(b)||b+"",A=W8(f.ecModel,E,v,m),S=d.getItemVisual(C,"decal");d.setItemVisual(C,"decal",x(S,A))})}function x(b,C){var E=b?Ce(Ce({},C),b):C;return E.dirty=!0,E}})}}function a(){var l=e.getZr().dom;if(l){var c=t.getLocaleModel().get("aria"),h=r.getModel("label");if(h.option=st(h.option,c),!!h.get("enabled")){if(l.setAttribute("role","img"),h.get("description")){l.setAttribute("aria-label",h.get("description"));return}var f=t.getSeriesCount(),d=h.get(["data","maxCount"])||10,p=h.get(["series","maxCount"])||10,g=Math.min(f,p),v;if(!(f<1)){var m=o();if(m){var y=h.get(["general","withTitle"]);v=s(y,{title:m})}else v=h.get(["general","withoutTitle"]);var _=[],x=f>1?h.get(["series","multiple","prefix"]):h.get(["series","single","prefix"]);v+=s(x,{seriesCount:f}),t.eachSeries(function(A,S){if(S<g){var T=void 0,D=A.get("name"),F=D?"withName":"withoutName";T=f>1?h.get(["series","multiple",F]):h.get(["series","single",F]),T=s(T,{seriesId:A.seriesIndex,seriesName:A.get("name"),seriesType:u(A.subType)});var B=A.getData();if(B.count()>d){var O=h.get(["data","partialData"]);T+=s(O,{displayCnt:d})}else T+=h.get(["data","allData"]);for(var M=h.get(["data","separator","middle"]),R=h.get(["data","separator","end"]),z=h.get(["data","excludeDimensionId"]),k=[],U=0;U<B.count();U++)if(U<d){var V=B.getName(U),j=z?sr(B.getValues(U),function(te,re){return wt(z,re)===-1}):B.getValues(U),Y=h.get(["data",V?"withName":"withoutName"]);k.push(s(Y,{name:V,value:j.join(M)}))}T+=k.join(M)+R,_.push(T)}});var b=h.getModel(["series","multiple","separator"]),C=b.get("middle"),E=b.get("end");v+=_.join(C)+E,l.setAttribute("aria-label",v)}}}}function s(l,c){if(!Xe(l))return l;var h=l;return G(c,function(f,d){h=h.replace(new RegExp("\\{\\s*"+d+"\\s*\\}","g"),f)}),h}function o(){var l=t.get("title");return l&&l.length&&(l=l[0]),l&&l.text}function u(l){var c=t.getLocaleModel().get(["series","typeNames"]);return c[l]||c.chart}}function zMe(t){if(!(!t||!t.aria)){var e=t.aria;e.show!=null&&(e.enabled=e.show),e.label=e.label||{},G(["description","general","series","data"],function(r){e[r]!=null&&(e.label[r]=e[r])})}}function HMe(t){t.registerPreprocessor(zMe),t.registerVisual(t.PRIORITY.VISUAL.ARIA,kMe)}var MG={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},GMe=function(){function t(e){var r=this._condVal=Xe(e)?new RegExp(e):a_e(e)?e:null;if(r==null){var i="";ar(i)}}return t.prototype.evaluate=function(e){var r=typeof e;return Xe(r)?this._condVal.test(e):Zt(r)?this._condVal.test(e+""):!1},t}(),UMe=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),jMe=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(!e[r].evaluate())return!1;return!0},t}(),VMe=function(){function t(){}return t.prototype.evaluate=function(){for(var e=this.children,r=0;r<e.length;r++)if(e[r].evaluate())return!0;return!1},t}(),$Me=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),WMe=function(){function t(){}return t.prototype.evaluate=function(){for(var e=!!this.valueParser,r=this.getValue,i=r(this.valueGetterParam),n=e?this.valueParser(i):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(e?n:i))return!1;return!0},t}();function iI(t,e){if(t===!0||t===!1){var r=new UMe;return r.value=t,r}var i="";return ore(t)||ar(i),t.and?PG("and",t,e):t.or?PG("or",t,e):t.not?YMe(t,e):qMe(t,e)}function PG(t,e,r){var i=e[t],n="";Te(i)||ar(n),i.length||ar(n);var a=t==="and"?new jMe:new VMe;return a.children=Ie(i,function(s){return iI(s,r)}),a.children.length||ar(n),a}function YMe(t,e){var r=t.not,i="";ore(r)||ar(i);var n=new $Me;return n.child=iI(r,e),n.child||ar(i),n}function qMe(t,e){for(var r="",i=e.prepareGetValue(t),n=[],a=kt(t),s=t.parser,o=s?NK(s):null,u=0;u<a.length;u++){var l=a[u];if(!(l==="parser"||e.valueGetterAttrMap.get(l))){var c=tt(MG,l)?MG[l]:l,h=t[l],f=o?o(h):h,d=V4e(c,f)||c==="reg"&&new GMe(f);d||ar(r),n.push(d)}}n.length||ar(r);var p=new WMe;return p.valueGetterParam=i,p.valueParser=o,p.getValue=e.getValue,p.subCondList=n,p}function ore(t){return lt(t)&&!Gn(t)}var XMe=function(){function t(e,r){this._cond=iI(e,r)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function ZMe(t,e){return new XMe(t,e)}var KMe={type:"echarts:filter",transform:function(t){for(var e=t.upstream,r,i=ZMe(t.config,{valueGetterAttrMap:nt({dimension:!0}),prepareGetValue:function(o){var u="",l=o.dimension;tt(o,"dimension")||ar(u);var c=e.getDimensionInfo(l);return c||ar(u),{dimIdx:c.index}},getValue:function(o){return e.retrieveValueFromItem(r,o.dimIdx)}}),n=[],a=0,s=e.count();a<s;a++)r=e.getRawDataItem(a),i.evaluate()&&n.push(r);return{data:n}}},JMe={type:"echarts:sort",transform:function(t){var e=t.upstream,r=t.config,i="",n=mr(r);n.length||ar(i);var a=[];G(n,function(c){var h=c.dimension,f=c.order,d=c.parser,p=c.incomparable;if(h==null&&ar(i),f!=="asc"&&f!=="desc"&&ar(i),p&&p!=="min"&&p!=="max"){var g="";ar(g)}if(f!=="asc"&&f!=="desc"){var v="";ar(v)}var m=e.getDimensionInfo(h);m||ar(i);var y=d?NK(d):null;d&&!y&&ar(i),a.push({dimIdx:m.index,parser:y,comparator:new zK(f,p)})});var s=e.sourceFormat;s!==Un&&s!==Vs&&ar(i);for(var o=[],u=0,l=e.count();u<l;u++)o.push(e.getRawDataItem(u));return o.sort(function(c,h){for(var f=0;f<a.length;f++){var d=a[f],p=e.retrieveValueFromItem(c,d.dimIdx),g=e.retrieveValueFromItem(h,d.dimIdx);d.parser&&(p=d.parser(p),g=d.parser(g));var v=d.comparator.evaluate(p,g);if(v!==0)return v}return 0}),{data:o}}};function QMe(t){t.registerTransform(KMe),t.registerTransform(JMe)}var ePe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.prototype.init=function(r,i,n){t.prototype.init.call(this,r,i,n),this._sourceManager=new jK(this),OR(this)},e.prototype.mergeOption=function(r,i){t.prototype.mergeOption.call(this,r,i),OR(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:uu},e}(Dt),tPe=function(t){ce(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return e.type="dataset",e}(_r);function ure(t){t.registerComponentModel(ePe),t.registerComponentView(tPe)}var Mo=_u.CMD;function Pd(t,e){return Math.abs(t-e)<1e-5}function qw(t){var e=t.data,r=t.len(),i=[],n,a=0,s=0,o=0,u=0;function l(B,O){n&&n.length>2&&i.push(n),n=[B,O]}function c(B,O,M,R){Pd(B,M)&&Pd(O,R)||n.push(B,O,M,R,M,R)}function h(B,O,M,R,z,k){var U=Math.abs(O-B),V=Math.tan(U/4)*4/3,j=O<B?-1:1,Y=Math.cos(B),te=Math.sin(B),re=Math.cos(O),de=Math.sin(O),Oe=Y*z+M,he=te*k+R,le=re*z+M,pe=de*k+R,xe=z*V*j,be=k*V*j;n.push(Oe-xe*te,he+be*Y,le+xe*de,pe-be*re,le,pe)}for(var f,d,p,g,v=0;v<r;){var m=e[v++],y=v===1;switch(y&&(a=e[v],s=e[v+1],o=a,u=s,(m===Mo.L||m===Mo.C||m===Mo.Q)&&(n=[o,u])),m){case Mo.M:a=o=e[v++],s=u=e[v++],l(o,u);break;case Mo.L:f=e[v++],d=e[v++],c(a,s,f,d),a=f,s=d;break;case Mo.C:n.push(e[v++],e[v++],e[v++],e[v++],a=e[v++],s=e[v++]);break;case Mo.Q:f=e[v++],d=e[v++],p=e[v++],g=e[v++],n.push(a+2/3*(f-a),s+2/3*(d-s),p+2/3*(f-p),g+2/3*(d-g),p,g),a=p,s=g;break;case Mo.A:var _=e[v++],x=e[v++],b=e[v++],C=e[v++],E=e[v++],A=e[v++]+E;v+=1;var S=!e[v++];f=Math.cos(E)*b+_,d=Math.sin(E)*C+x,y?(o=f,u=d,l(o,u)):c(a,s,f,d),a=Math.cos(A)*b+_,s=Math.sin(A)*C+x;for(var T=(S?-1:1)*Math.PI/2,D=E;S?D>A:D<A;D+=T){var F=S?Math.max(D+T,A):Math.min(D+T,A);h(D,F,_,x,b,C)}break;case Mo.R:o=a=e[v++],u=s=e[v++],f=o+e[v++],d=u+e[v++],l(f,u),c(f,u,f,d),c(f,d,o,d),c(o,d,o,u),c(o,u,f,u);break;case Mo.Z:n&&c(a,s,o,u),a=o,s=u;break}}return n&&n.length>2&&i.push(n),i}function Xw(t,e,r,i,n,a,s,o,u,l){if(Pd(t,r)&&Pd(e,i)&&Pd(n,s)&&Pd(a,o)){u.push(s,o);return}var c=2/l,h=c*c,f=s-t,d=o-e,p=Math.sqrt(f*f+d*d);f/=p,d/=p;var g=r-t,v=i-e,m=n-s,y=a-o,_=g*g+v*v,x=m*m+y*y;if(_<h&&x<h){u.push(s,o);return}var b=f*g+d*v,C=-f*m-d*y,E=_-b*b,A=x-C*C;if(E<h&&b>=0&&A<h&&C>=0){u.push(s,o);return}var S=[],T=[];Rc(t,r,n,s,.5,S),Rc(e,i,a,o,.5,T),Xw(S[0],T[0],S[1],T[1],S[2],T[2],S[3],T[3],u,l),Xw(S[4],T[4],S[5],T[5],S[6],T[6],S[7],T[7],u,l)}function rPe(t,e){var r=qw(t),i=[];e=e||1;for(var n=0;n<r.length;n++){var a=r[n],s=[],o=a[0],u=a[1];s.push(o,u);for(var l=2;l<a.length;){var c=a[l++],h=a[l++],f=a[l++],d=a[l++],p=a[l++],g=a[l++];Xw(o,u,c,h,f,d,p,g,s,e),o=p,u=g}i.push(s)}return i}function lre(t,e,r){var i=t[e],n=t[1-e],a=Math.abs(i/n),s=Math.ceil(Math.sqrt(a*r)),o=Math.floor(r/s);o===0&&(o=1,s=r);for(var u=[],l=0;l<s;l++)u.push(o);var c=s*o,h=r-c;if(h>0)for(var l=0;l<h;l++)u[l%s]+=1;return u}function LG(t,e,r){for(var i=t.r0,n=t.r,a=t.startAngle,s=t.endAngle,o=Math.abs(s-a),u=o*n,l=n-i,c=u>Math.abs(l),h=lre([u,l],c?0:1,e),f=(c?o:l)/h.length,d=0;d<h.length;d++)for(var p=(c?l:o)/h[d],g=0;g<h[d];g++){var v={};c?(v.startAngle=a+f*d,v.endAngle=a+f*(d+1),v.r0=i+p*g,v.r=i+p*(g+1)):(v.startAngle=a+p*g,v.endAngle=a+p*(g+1),v.r0=i+f*d,v.r=i+f*(d+1)),v.clockwise=t.clockwise,v.cx=t.cx,v.cy=t.cy,r.push(v)}}function iPe(t,e,r){for(var i=t.width,n=t.height,a=i>n,s=lre([i,n],a?0:1,e),o=a?"width":"height",u=a?"height":"width",l=a?"x":"y",c=a?"y":"x",h=t[o]/s.length,f=0;f<s.length;f++)for(var d=t[u]/s[f],p=0;p<s[f];p++){var g={};g[l]=f*h,g[c]=p*d,g[o]=h,g[u]=d,g.x+=t.x,g.y+=t.y,r.push(g)}}function OG(t,e,r,i){return t*i-r*e}function nPe(t,e,r,i,n,a,s,o){var u=r-t,l=i-e,c=s-n,h=o-a,f=OG(c,h,u,l);if(Math.abs(f)<1e-6)return null;var d=t-n,p=e-a,g=OG(d,p,c,h)/f;return g<0||g>1?null:new Ct(g*u+t,g*l+e)}function aPe(t,e,r){var i=new Ct;Ct.sub(i,r,e),i.normalize();var n=new Ct;Ct.sub(n,t,e);var a=n.dot(i);return a}function nd(t,e){var r=t[t.length-1];r&&r[0]===e[0]&&r[1]===e[1]||t.push(e)}function sPe(t,e,r){for(var i=t.length,n=[],a=0;a<i;a++){var s=t[a],o=t[(a+1)%i],u=nPe(s[0],s[1],o[0],o[1],e.x,e.y,r.x,r.y);u&&n.push({projPt:aPe(u,e,r),pt:u,idx:a})}if(n.length<2)return[{points:t},{points:t}];n.sort(function(v,m){return v.projPt-m.projPt});var l=n[0],c=n[n.length-1];if(c.idx<l.idx){var h=l;l=c,c=h}for(var f=[l.pt.x,l.pt.y],d=[c.pt.x,c.pt.y],p=[f],g=[d],a=l.idx+1;a<=c.idx;a++)nd(p,t[a].slice());nd(p,d),nd(p,f);for(var a=c.idx+1;a<=l.idx+i;a++)nd(g,t[a%i].slice());return nd(g,f),nd(g,d),[{points:p},{points:g}]}function RG(t){var e=t.points,r=[],i=[];Sb(e,r,i);var n=new Et(r[0],r[1],i[0]-r[0],i[1]-r[1]),a=n.width,s=n.height,o=n.x,u=n.y,l=new Ct,c=new Ct;return a>s?(l.x=c.x=o+a/2,l.y=u,c.y=u+s):(l.y=c.y=u+s/2,l.x=o,c.x=o+a),sPe(e,l,c)}function i4(t,e,r,i){if(r===1)i.push(e);else{var n=Math.floor(r/2),a=t(e);i4(t,a[0],n,i),i4(t,a[1],r-n,i)}return i}function oPe(t,e){for(var r=[],i=0;i<e;i++)r.push(p9(t));return r}function uPe(t,e){e.setStyle(t.style),e.z=t.z,e.z2=t.z2,e.zlevel=t.zlevel}function lPe(t){for(var e=[],r=0;r<t.length;)e.push([t[r++],t[r++]]);return e}function cPe(t,e){var r=[],i=t.shape,n;switch(t.type){case"rect":iPe(i,e,r),n=Gt;break;case"sector":LG(i,e,r),n=da;break;case"circle":LG({r0:0,r:i.r,startAngle:0,endAngle:Math.PI*2,cx:i.cx,cy:i.cy},e,r),n=da;break;default:var a=t.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,o=Ie(rPe(t.getUpdatedPathProxy(),s),function(m){return lPe(m)}),u=o.length;if(u===0)i4(RG,{points:o[0]},e,r);else if(u===e)for(var l=0;l<u;l++)r.push({points:o[l]});else{var c=0,h=Ie(o,function(m){var y=[],_=[];Sb(m,y,_);var x=(_[1]-y[1])*(_[0]-y[0]);return c+=x,{poly:m,area:x}});h.sort(function(m,y){return y.area-m.area});for(var f=e,l=0;l<u;l++){var d=h[l];if(f<=0)break;var p=l===u-1?f:Math.ceil(d.area/c*e);p<0||(i4(RG,{points:d.poly},p,r),f-=p)}}n=pa;break}if(!n)return oPe(t,e);for(var g=[],l=0;l<r.length;l++){var v=new n;v.setShape(r[l]),uPe(t,v),g.push(v)}return g}function hPe(t,e){var r=t.length,i=e.length;if(r===i)return[t,e];for(var n=[],a=[],s=r<i?t:e,o=Math.min(r,i),u=Math.abs(i-r)/6,l=(o-2)/6,c=Math.ceil(u/l)+1,h=[s[0],s[1]],f=u,d=2;d<o;){var p=s[d-2],g=s[d-1],v=s[d++],m=s[d++],y=s[d++],_=s[d++],x=s[d++],b=s[d++];if(f<=0){h.push(v,m,y,_,x,b);continue}for(var C=Math.min(f,c-1)+1,E=1;E<=C;E++){var A=E/C;Rc(p,v,y,x,A,n),Rc(g,m,_,b,A,a),p=n[3],g=a[3],h.push(n[1],a[1],n[2],a[2],p,g),v=n[5],m=a[5],y=n[6],_=a[6]}f-=C-1}return s===t?[h,e]:[t,h]}function NG(t,e){for(var r=t.length,i=t[r-2],n=t[r-1],a=[],s=0;s<e.length;)a[s++]=i,a[s++]=n;return a}function fPe(t,e){for(var r,i,n,a=[],s=[],o=0;o<Math.max(t.length,e.length);o++){var u=t[o],l=e[o],c=void 0,h=void 0;u?l?(r=hPe(u,l),c=r[0],h=r[1],i=c,n=h):(h=NG(n||u,u),c=u):(c=NG(i||l,l),h=l),a.push(c),s.push(h)}return[a,s]}function kG(t){for(var e=0,r=0,i=0,n=t.length,a=0,s=n-2;a<n;s=a,a+=2){var o=t[s],u=t[s+1],l=t[a],c=t[a+1],h=o*c-l*u;e+=h,r+=(o+l)*h,i+=(u+c)*h}return e===0?[t[0]||0,t[1]||0]:[r/e/3,i/e/3,e]}function dPe(t,e,r,i){for(var n=(t.length-2)/6,a=1/0,s=0,o=t.length,u=o-2,l=0;l<n;l++){for(var c=l*6,h=0,f=0;f<o;f+=2){var d=f===0?c:(c+f-2)%u+2,p=t[d]-r[0],g=t[d+1]-r[1],v=e[f]-i[0],m=e[f+1]-i[1],y=v-p,_=m-g;h+=y*y+_*_}h<a&&(a=h,s=l)}return s}function pPe(t){for(var e=[],r=t.length,i=0;i<r;i+=2)e[i]=t[r-i-2],e[i+1]=t[r-i-1];return e}function gPe(t,e,r,i){for(var n=[],a,s=0;s<t.length;s++){var o=t[s],u=e[s],l=kG(o),c=kG(u);a==null&&(a=l[2]<0!=c[2]<0);var h=[],f=[],d=0,p=1/0,g=[],v=o.length;a&&(o=pPe(o));for(var m=dPe(o,u,l,c)*6,y=v-2,_=0;_<y;_+=2){var x=(m+_)%y+2;h[_+2]=o[x]-l[0],h[_+3]=o[x+1]-l[1]}h[0]=o[m]-l[0],h[1]=o[m+1]-l[1];for(var b=i/r,C=-i/2;C<=i/2;C+=b){for(var E=Math.sin(C),A=Math.cos(C),S=0,_=0;_<o.length;_+=2){var T=h[_],D=h[_+1],F=u[_]-c[0],B=u[_+1]-c[1],O=F*A-B*E,M=F*E+B*A;g[_]=O,g[_+1]=M;var R=O-T,z=M-D;S+=R*R+z*z}if(S<p){p=S,d=C;for(var k=0;k<g.length;k++)f[k]=g[k]}}n.push({from:h,to:f,fromCp:l,toCp:c,rotation:-d})}return n}function n4(t){return t.__isCombineMorphing}var cre="__mOriginal_";function a4(t,e,r){var i=cre+e,n=t[i]||t[e];t[i]||(t[i]=t[e]);var a=r.replace,s=r.after,o=r.before;t[e]=function(){var u=arguments,l;return o&&o.apply(this,u),a?l=a.apply(this,u):l=n.apply(this,u),s&&s.apply(this,u),l}}function Y1(t,e){var r=cre+e;t[r]&&(t[e]=t[r],t[r]=null)}function zG(t,e){for(var r=0;r<t.length;r++)for(var i=t[r],n=0;n<i.length;){var a=i[n],s=i[n+1];i[n++]=e[0]*a+e[2]*s+e[4],i[n++]=e[1]*a+e[3]*s+e[5]}}function hre(t,e){var r=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),n=fPe(qw(r),qw(i)),a=n[0],s=n[1],o=t.getComputedTransform(),u=e.getComputedTransform();function l(){this.transform=null}o&&zG(a,o),u&&zG(s,u),a4(e,"updateTransform",{replace:l}),e.transform=null;var c=gPe(a,s,10,Math.PI),h=[];a4(e,"buildPath",{replace:function(f){for(var d=e.__morphT,p=1-d,g=[],v=0;v<c.length;v++){var m=c[v],y=m.from,_=m.to,x=m.rotation*d,b=m.fromCp,C=m.toCp,E=Math.sin(x),A=Math.cos(x);Nx(g,b,C,d);for(var S=0;S<y.length;S+=2){var T=y[S],D=y[S+1],F=_[S],B=_[S+1],O=T*p+F*d,M=D*p+B*d;h[S]=O*A-M*E+g[0],h[S+1]=O*E+M*A+g[1]}var R=h[0],z=h[1];f.moveTo(R,z);for(var S=2;S<y.length;){var F=h[S++],B=h[S++],k=h[S++],U=h[S++],V=h[S++],j=h[S++];R===F&&z===B&&k===V&&U===j?f.lineTo(V,j):f.bezierCurveTo(F,B,k,U,V,j),R=V,z=j}}}})}function nI(t,e,r){if(!t||!e)return e;var i=r.done,n=r.during;hre(t,e),e.__morphT=0;function a(){Y1(e,"buildPath"),Y1(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape()}return e.animateTo({__morphT:1},st({during:function(s){e.dirtyShape(),n&&n(s)},done:function(){a(),i&&i()}},r)),e}function vPe(t,e,r,i,n,a){var s=16;t=n===r?0:Math.round(32767*(t-r)/(n-r)),e=a===i?0:Math.round(32767*(e-i)/(a-i));for(var o=0,u,l=(1<<s)/2;l>0;l/=2){var c=0,h=0;(t&l)>0&&(c=1),(e&l)>0&&(h=1),o+=l*l*(3*c^h),h===0&&(c===1&&(t=l-1-t,e=l-1-e),u=t,t=e,e=u)}return o}function s4(t){var e=1/0,r=1/0,i=-1/0,n=-1/0,a=Ie(t,function(o){var u=o.getBoundingRect(),l=o.getComputedTransform(),c=u.x+u.width/2+(l?l[4]:0),h=u.y+u.height/2+(l?l[5]:0);return e=Math.min(c,e),r=Math.min(h,r),i=Math.max(c,i),n=Math.max(h,n),[c,h]}),s=Ie(a,function(o,u){return{cp:o,z:vPe(o[0],o[1],e,r,i,n),path:t[u]}});return s.sort(function(o,u){return o.z-u.z}).map(function(o){return o.path})}function fre(t){return cPe(t.path,t.count)}function Zw(){return{fromIndividuals:[],toIndividuals:[],count:0}}function mPe(t,e,r){var i=[];function n(b){for(var C=0;C<b.length;C++){var E=b[C];n4(E)?n(E.childrenRef()):E instanceof Pt&&i.push(E)}}n(t);var a=i.length;if(!a)return Zw();var s=r.dividePath||fre,o=s({path:e,count:a});if(o.length!==a)return console.error("Invalid morphing: unmatched splitted path"),Zw();i=s4(i),o=s4(o);for(var u=r.done,l=r.during,c=r.individualDelay,h=new Ju,f=0;f<a;f++){var d=i[f],p=o[f];p.parent=e,p.copyTransform(h),c||hre(d,p)}e.__isCombineMorphing=!0,e.childrenRef=function(){return o};function g(b){for(var C=0;C<o.length;C++)o[C].addSelfToZr(b)}a4(e,"addSelfToZr",{after:function(b){g(b)}}),a4(e,"removeSelfFromZr",{after:function(b){for(var C=0;C<o.length;C++)o[C].removeSelfFromZr(b)}});function v(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,Y1(e,"addSelfToZr"),Y1(e,"removeSelfFromZr")}var m=o.length;if(c)for(var y=m,_=function(){y--,y===0&&(v(),u&&u())},f=0;f<m;f++){var x=c?st({delay:(r.delay||0)+c(f,m,i[f],o[f]),done:_},r):r;nI(i[f],o[f],x)}else e.__morphT=0,e.animateTo({__morphT:1},st({during:function(b){for(var C=0;C<m;C++){var E=o[C];E.__morphT=e.__morphT,E.dirtyShape()}l&&l(b)},done:function(){v();for(var b=0;b<t.length;b++)Y1(t[b],"updateTransform");u&&u()}},r));return e.__zr&&g(e.__zr),{fromIndividuals:i,toIndividuals:o,count:m}}function yPe(t,e,r){var i=e.length,n=[],a=r.dividePath||fre;function s(d){for(var p=0;p<d.length;p++){var g=d[p];n4(g)?s(g.childrenRef()):g instanceof Pt&&n.push(g)}}if(n4(t)){s(t.childrenRef());var o=n.length;if(o<i)for(var u=0,l=o;l<i;l++)n.push(p9(n[u++%o]));n.length=i}else{n=a({path:t,count:i});for(var c=t.getComputedTransform(),l=0;l<n.length;l++)n[l].setLocalTransform(c);if(n.length!==i)return console.error("Invalid morphing: unmatched splitted path"),Zw()}n=s4(n),e=s4(e);for(var h=r.individualDelay,l=0;l<i;l++){var f=h?st({delay:(r.delay||0)+h(l,i,n[l],e[l])},r):r;nI(n[l],e[l],f)}return{fromIndividuals:n,toIndividuals:e,count:e.length}}function HG(t){return Te(t[0])}function GG(t,e){for(var r=[],i=t.length,n=0;n<i;n++)r.push({one:t[n],many:[]});for(var n=0;n<e.length;n++){var a=e[n].length,s=void 0;for(s=0;s<a;s++)r[s%i].many.push(e[n][s])}for(var o=0,n=i-1;n>=0;n--)if(!r[n].many.length){var u=r[o].many;if(u.length<=1)if(o)o=0;else return r;var a=u.length,l=Math.ceil(a/2);r[n].many=u.slice(l,a),r[o].many=u.slice(0,l),o++}return r}var _Pe={clone:function(t){for(var e=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var n=p9(t.path);n.setStyle("opacity",r),e.push(n)}return e},split:null};function X6(t,e,r,i,n,a){if(!t.length||!e.length)return;var s=cg("update",i,n);if(!(s&&s.duration>0))return;var o=i.getModel("universalTransition").get("delay"),u=Object.assign({setToFinal:!0},s),l,c;HG(t)&&(l=t,c=e),HG(e)&&(l=e,c=t);function h(m,y,_,x,b){var C=m.many,E=m.one;if(C.length===1&&!b){var A=y?C[0]:E,S=y?E:C[0];if(n4(A))h({many:[A],one:S},!0,_,x,!0);else{var T=o?st({delay:o(_,x)},u):u;nI(A,S,T),a(A,S,A,S,T)}}else for(var D=st({dividePath:_Pe[r],individualDelay:o&&function(z,k,U,V){return o(z+_,x)}},u),F=y?mPe(C,E,D):yPe(E,C,D),B=F.fromIndividuals,O=F.toIndividuals,M=B.length,R=0;R<M;R++){var T=o?st({delay:o(R,M)},u):u;a(B[R],O[R],y?C[R]:m.one,y?m.one:C[R],T)}}for(var f=l?l===t:t.length>e.length,d=l?GG(c,l):GG(f?e:t,[f?t:e]),p=0,g=0;g<d.length;g++)p+=d[g].many.length;for(var v=0,g=0;g<d.length;g++)h(d[g],f,v,p),v+=d[g].many.length}function K0(t){if(!t)return[];if(Te(t)){for(var e=[],r=0;r<t.length;r++)e.push(K0(t[r]));return e}var i=[];return t.traverse(function(n){n instanceof Pt&&!n.disableMorphing&&!n.invisible&&!n.ignore&&i.push(n)}),i}var dre=1e4,xPe=0,UG=1,jG=2,bPe=Yt();function CPe(t,e){for(var r=t.dimensions,i=0;i<r.length;i++){var n=t.getDimensionInfo(r[i]);if(n&&n.otherDims[e]===0)return r[i]}}function EPe(t,e,r){var i=t.getDimensionInfo(r),n=i&&i.ordinalMeta;if(i){var a=t.get(i.name,e);return n&&n.categories[a]||a+""}}function VG(t,e,r,i){var n=i?"itemChildGroupId":"itemGroupId",a=CPe(t,n);if(a){var s=EPe(t,e,a);return s}var o=t.getRawDataItem(e),u=i?"childGroupId":"groupId";if(o&&o[u])return o[u]+"";if(!i)return r||t.getId(e)}function $G(t){var e=[];return G(t,function(r){var i=r.data,n=r.dataGroupId;if(!(i.count()>dre))for(var a=i.getIndices(),s=0;s<a.length;s++)e.push({data:i,groupId:VG(i,s,n,!1),childGroupId:VG(i,s,n,!0),divide:r.divide,dataIndex:s})}),e}function Z6(t,e,r){t.traverse(function(i){i instanceof Pt&&Nr(i,{style:{opacity:0}},e,{dataIndex:r,isFrom:!0})})}function K6(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function ad(t){t.stopAnimation(),t.isGroup&&t.traverse(function(e){e.stopAnimation()})}function SPe(t,e,r){var i=cg("update",r,e);i&&t.traverse(function(n){if(n instanceof zs){var a=w3e(n);a&&n.animateFrom({style:a},i)}})}function TPe(t,e){var r=t.length;if(r!==e.length)return!1;for(var i=0;i<r;i++){var n=t[i],a=e[i];if(n.data.getId(n.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}function pre(t,e,r){var i=$G(t),n=$G(e);function a(_,x,b,C,E){(b||_)&&x.animateFrom({style:b&&b!==_?Ce(Ce({},b.style),_.style):_.style},E)}var s=!1,o=xPe,u=nt(),l=nt();i.forEach(function(_){_.groupId&&u.set(_.groupId,!0),_.childGroupId&&l.set(_.childGroupId,!0)});for(var c=0;c<n.length;c++){var h=n[c].groupId;if(l.get(h)){o=UG;break}var f=n[c].childGroupId;if(f&&u.get(f)){o=jG;break}}function d(_,x){return function(b){var C=b.data,E=b.dataIndex;return x?C.getId(E):_?o===UG?b.childGroupId:b.groupId:o===jG?b.childGroupId:b.groupId}}var p=TPe(i,n),g={};if(!p)for(var c=0;c<n.length;c++){var v=n[c],m=v.data.getItemGraphicEl(v.dataIndex);m&&(g[m.id]=!0)}function y(_,x){var b=i[x],C=n[_],E=C.data.hostModel,A=b.data.getItemGraphicEl(b.dataIndex),S=C.data.getItemGraphicEl(C.dataIndex);if(A===S){S&&SPe(S,C.dataIndex,E);return}A&&g[A.id]||S&&(ad(S),A?(ad(A),K6(A),s=!0,X6(K0(A),K0(S),C.divide,E,_,a)):Z6(S,E,_))}new vl(i,n,d(!0,p),d(!1,p),null,"multiple").update(y).updateManyToOne(function(_,x){var b=n[_],C=b.data,E=C.hostModel,A=C.getItemGraphicEl(b.dataIndex),S=sr(Ie(x,function(T){return i[T].data.getItemGraphicEl(i[T].dataIndex)}),function(T){return T&&T!==A&&!g[T.id]});A&&(ad(A),S.length?(G(S,function(T){ad(T),K6(T)}),s=!0,X6(K0(S),K0(A),b.divide,E,_,a)):Z6(A,E,b.dataIndex))}).updateOneToMany(function(_,x){var b=i[x],C=b.data.getItemGraphicEl(b.dataIndex);if(!(C&&g[C.id])){var E=sr(Ie(_,function(S){return n[S].data.getItemGraphicEl(n[S].dataIndex)}),function(S){return S&&S!==C}),A=n[_[0]].data.hostModel;E.length&&(G(E,function(S){return ad(S)}),C?(ad(C),K6(C),s=!0,X6(K0(C),K0(E),b.divide,A,_[0],a)):G(E,function(S){return Z6(S,A,_[0])}))}}).updateManyToMany(function(_,x){new vl(x,_,function(b){return i[b].data.getId(i[b].dataIndex)},function(b){return n[b].data.getId(n[b].dataIndex)}).update(function(b,C){y(_[b],x[C])}).execute()}).execute(),s&&G(e,function(_){var x=_.data,b=x.hostModel,C=b&&r.getViewOfSeriesModel(b),E=cg("update",b,0);C&&b.isAnimationEnabled()&&E&&E.duration>0&&C.group.traverse(function(A){A instanceof Pt&&!A.animators.length&&A.animateFrom({style:{opacity:0}},E)})})}function WG(t){var e=t.getModel("universalTransition").get("seriesKey");return e||t.id}function YG(t){return Te(t)?t.sort().join(","):t}function lc(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function APe(t,e){var r=nt(),i=nt(),n=nt();return G(t.oldSeries,function(a,s){var o=t.oldDataGroupIds[s],u=t.oldData[s],l=WG(a),c=YG(l);i.set(c,{dataGroupId:o,data:u}),Te(l)&&G(l,function(h){n.set(h,{key:c,dataGroupId:o,data:u})})}),G(e.updatedSeries,function(a){if(a.isUniversalTransitionEnabled()&&a.isAnimationEnabled()){var s=a.get("dataGroupId"),o=a.getData(),u=WG(a),l=YG(u),c=i.get(l);if(c)r.set(l,{oldSeries:[{dataGroupId:c.dataGroupId,divide:lc(c.data),data:c.data}],newSeries:[{dataGroupId:s,divide:lc(o),data:o}]});else if(Te(u)){var h=[];G(u,function(p){var g=i.get(p);g.data&&h.push({dataGroupId:g.dataGroupId,divide:lc(g.data),data:g.data})}),h.length&&r.set(l,{oldSeries:h,newSeries:[{dataGroupId:s,data:o,divide:lc(o)}]})}else{var f=n.get(u);if(f){var d=r.get(f.key);d||(d={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:lc(f.data)}],newSeries:[]},r.set(f.key,d)),d.newSeries.push({dataGroupId:s,data:o,divide:lc(o)})}}}}),r}function qG(t,e){for(var r=0;r<t.length;r++){var i=e.seriesIndex!=null&&e.seriesIndex===t[r].seriesIndex||e.seriesId!=null&&e.seriesId===t[r].id;if(i)return r}}function wPe(t,e,r,i){var n=[],a=[];G(mr(t.from),function(s){var o=qG(e.oldSeries,s);o>=0&&n.push({dataGroupId:e.oldDataGroupIds[o],data:e.oldData[o],divide:lc(e.oldData[o]),groupIdDim:s.dimension})}),G(mr(t.to),function(s){var o=qG(r.updatedSeries,s);if(o>=0){var u=r.updatedSeries[o].getData();a.push({dataGroupId:e.oldDataGroupIds[o],data:u,divide:lc(u),groupIdDim:s.dimension})}}),n.length>0&&a.length>0&&pre(n,a,i)}function DPe(t){t.registerUpdateLifecycle("series:beforeupdate",function(e,r,i){G(mr(i.seriesTransition),function(n){G(mr(n.to),function(a){for(var s=i.updatedSeries,o=0;o<s.length;o++)(a.seriesIndex!=null&&a.seriesIndex===s[o].seriesIndex||a.seriesId!=null&&a.seriesId===s[o].id)&&(s[o][Xx]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(e,r,i){var n=bPe(r);if(n.oldSeries&&i.updatedSeries&&i.optionChanged){var a=i.seriesTransition;if(a)G(mr(a),function(d){wPe(d,n,i,r)});else{var s=APe(n,i);G(s.keys(),function(d){var p=s.get(d);pre(p.oldSeries,p.newSeries,r)})}G(i.updatedSeries,function(d){d[Xx]&&(d[Xx]=!1)})}for(var o=e.getSeries(),u=n.oldSeries=[],l=n.oldDataGroupIds=[],c=n.oldData=[],h=0;h<o.length;h++){var f=o[h].getData();f.count()<dre&&(u.push(o[h]),l.push(o[h].get("dataGroupId")),c.push(f))}})}ft([IQ,ure]);ft(pQ);function XG(t,e,r){typeof e=="object"&&(r=e,e=null);var i=this,n;if(!(t instanceof Function)){n=[];for(var a in t)t.hasOwnProperty(a)&&n.push(a)}var s=function(u){if(i.apply(this,arguments),t instanceof Function?ZG(this,t.call(this,u)):FPe(this,t,n),this.constructor===s)for(var l=s.__initializers__,c=0;c<l.length;c++)l[c].apply(this,arguments)};s.__super__=i,i.__initializers__?s.__initializers__=i.__initializers__.slice():s.__initializers__=[],e&&s.__initializers__.push(e);var o=function(){};return o.prototype=i.prototype,s.prototype=new o,s.prototype.constructor=s,ZG(s.prototype,r),s.extend=i.extend,s.derive=i.extend,s}function ZG(t,e){if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])}function FPe(t,e,r){for(var i=0;i<r.length;i++){var n=r[i];t[n]=e[n]}}const IPe={extend:XG,derive:XG};function BPe(t,e){this.action=t,this.context=e}var aI={trigger:function(t){if(this.hasOwnProperty("__handlers__")&&this.__handlers__.hasOwnProperty(t)){var e=this.__handlers__[t],r=e.length,i=-1,n=arguments;switch(n.length){case 1:for(;++i<r;)e[i].action.call(e[i].context);return;case 2:for(;++i<r;)e[i].action.call(e[i].context,n[1]);return;case 3:for(;++i<r;)e[i].action.call(e[i].context,n[1],n[2]);return;case 4:for(;++i<r;)e[i].action.call(e[i].context,n[1],n[2],n[3]);return;case 5:for(;++i<r;)e[i].action.call(e[i].context,n[1],n[2],n[3],n[4]);return;default:for(;++i<r;)e[i].action.apply(e[i].context,Array.prototype.slice.call(n,1));return}}},on:function(t,e,r){if(!(!t||!e)){var i=this.__handlers__||(this.__handlers__={});if(!i[t])i[t]=[];else if(this.has(t,e))return;var n=new BPe(e,r||this);return i[t].push(n),this}},once:function(t,e,r){if(!t||!e)return;var i=this;function n(){i.off(t,n),e.apply(this,arguments)}return this.on(t,n,r)},before:function(t,e,r){if(!(!t||!e))return t="before"+t,this.on(t,e,r)},after:function(t,e,r){if(!(!t||!e))return t="after"+t,this.on(t,e,r)},success:function(t,e){return this.once("success",t,e)},error:function(t,e){return this.once("error",t,e)},off:function(t,e){var r=this.__handlers__||(this.__handlers__={});if(!e){r[t]=[];return}if(r[t]){for(var i=r[t],n=[],a=0;a<i.length;a++)e&&i[a].action!==e&&n.push(i[a]);r[t]=n}return this},has:function(t,e){var r=this.__handlers__;if(!r||!r[t])return!1;for(var i=r[t],n=0;n<i.length;n++)if(i[n].action===e)return!0}},MPe=0,PPe=Array.prototype,LPe=PPe.forEach,pi={genGUID:function(){return++MPe},relative2absolute:function(t,e){if(!e||t.match(/^\//))return t;for(var r=t.split("/"),i=e.split("/"),n=r[0];n==="."||n==="..";)n===".."&&i.pop(),r.shift(),n=r[0];return i.join("/")+"/"+r.join("/")},extend:function(t,e){if(e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t},defaults:function(t,e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t},extendWithPropList:function(t,e,r){if(e)for(var i=0;i<r.length;i++){var n=r[i];t[n]=e[n]}return t},defaultsWithPropList:function(t,e,r){if(e)for(var i=0;i<r.length;i++){var n=r[i];t[n]==null&&(t[n]=e[n])}return t},each:function(t,e,r){if(t&&e)if(t.forEach&&t.forEach===LPe)t.forEach(e,r);else if(t.length===+t.length)for(var i=0,n=t.length;i<n;i++)e.call(r,t[i],i,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(r,t[a],a,t)},isObject:function(t){return t===Object(t)},isArray:function(t){return Array.isArray(t)},isArrayLike:function(t){return t?t.length===+t.length:!1},clone:function(t){if(pi.isObject(t)){if(pi.isArray(t))return t.slice();if(pi.isArrayLike(t)){for(var e=new t.constructor(t.length),r=0;r<t.length;r++)e[r]=t[r];return e}else return pi.extend({},t)}else return t}},vn=function(){this.__uid__=pi.genGUID()};vn.__initializers__=[function(t){pi.extend(this,t)}];pi.extend(vn,IPe);pi.extend(vn.prototype,aI);var KG=["OES_texture_float","OES_texture_half_float","OES_texture_float_linear","OES_texture_half_float_linear","OES_standard_derivatives","OES_vertex_array_object","OES_element_index_uint","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","EXT_texture_filter_anisotropic","EXT_shader_texture_lod","WEBGL_draw_buffers","EXT_frag_depth","EXT_sRGB","ANGLE_instanced_arrays"],JG=["MAX_TEXTURE_SIZE","MAX_CUBE_MAP_TEXTURE_SIZE"];function OPe(t){for(var e={},r={},i=0;i<KG.length;i++){var n=KG[i];s(n)}for(var i=0;i<JG.length;i++){var a=JG[i];r[a]=t.getParameter(t[a])}this.getExtension=function(o){return o in e||s(o),e[o]},this.getParameter=function(o){return r[o]};function s(o){if(t.getExtension){var u=t.getExtension(o);u||(u=t.getExtension("MOZ_"+o)),u||(u=t.getExtension("WEBKIT_"+o)),e[o]=u}}}const Re={DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CW:2304,CCW:2305,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_2D:3553,TEXTURE_CUBE_MAP:34067,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FRAMEBUFFER:36160,RENDERBUFFER:36161,DEPTH_STENCIL:34041,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306};function RPe(t){var e=new XMLHttpRequest;e.open("get",t.url),e.responseType=t.responseType||"text",t.onprogress&&(e.onprogress=function(r){if(r.lengthComputable){var i=r.loaded/r.total;t.onprogress(i,r.loaded,r.total)}else t.onprogress(null)}),e.onload=function(r){e.status>=400?t.onerror&&t.onerror():t.onload&&t.onload(e.response)},t.onerror&&(e.onerror=t.onerror),e.send(null)}const NPe={get:RPe};var J6,ur={};ur.supportWebGL=function(){if(J6==null)try{var t=document.createElement("canvas"),e=t.getContext("webgl")||t.getContext("experimental-webgl");if(!e)throw new Error}catch{J6=!1}return J6};ur.Int8Array=typeof Int8Array>"u"?Array:Int8Array;ur.Uint8Array=typeof Uint8Array>"u"?Array:Uint8Array;ur.Uint16Array=typeof Uint16Array>"u"?Array:Uint16Array;ur.Uint32Array=typeof Uint32Array>"u"?Array:Uint32Array;ur.Int16Array=typeof Int16Array>"u"?Array:Int16Array;ur.Float32Array=typeof Float32Array>"u"?Array:Float32Array;ur.Float64Array=typeof Float64Array>"u"?Array:Float64Array;var yh={};typeof window<"u"?yh=window:typeof global<"u"&&(yh=global);ur.requestAnimationFrame=yh.requestAnimationFrame||yh.msRequestAnimationFrame||yh.mozRequestAnimationFrame||yh.webkitRequestAnimationFrame||function(t){setTimeout(t,16)};ur.createCanvas=function(){return document.createElement("canvas")};ur.createImage=function(){return new yh.Image};ur.request={get:NPe.get};ur.addEventListener=function(t,e,r,i){t.addEventListener(e,r,i)};ur.removeEventListener=function(t,e,r){t.removeEventListener(e,r)};var Qi=function(){this.head=null,this.tail=null,this._length=0};Qi.prototype.insert=function(t){var e=new Qi.Entry(t);return this.insertEntry(e),e};Qi.prototype.insertAt=function(t,e){if(!(t<0)){for(var r=this.head,i=0;r&&i!=t;)r=r.next,i++;if(r){var n=new Qi.Entry(e),a=r.prev;a?(a.next=n,n.prev=a):this.head=n,n.next=r,r.prev=n}else this.insert(e)}};Qi.prototype.insertBeforeEntry=function(t,e){var r=new Qi.Entry(t),i=e.prev;i?(i.next=r,r.prev=i):this.head=r,r.next=e,e.prev=r,this._length++};Qi.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,this.tail=t):this.head=this.tail=t,this._length++};Qi.prototype.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._length--};Qi.prototype.removeAt=function(t){if(!(t<0)){for(var e=this.head,r=0;e&&r!=t;)e=e.next,r++;if(e)return this.remove(e),e.value}};Qi.prototype.getHead=function(){if(this.head)return this.head.value};Qi.prototype.getTail=function(){if(this.tail)return this.tail.value};Qi.prototype.getAt=function(t){if(!(t<0)){for(var e=this.head,r=0;e&&r!=t;)e=e.next,r++;return e.value}};Qi.prototype.indexOf=function(t){for(var e=this.head,r=0;e;){if(e.value===t)return r;e=e.next,r++}};Qi.prototype.length=function(){return this._length};Qi.prototype.isEmpty=function(){return this._length===0};Qi.prototype.forEach=function(t,e){for(var r=this.head,i=0,n=typeof e<"u";r;)n?t.call(e,r.value,i):t(r.value,i),r=r.next,i++};Qi.prototype.clear=function(){this.tail=this.head=null,this._length=0};Qi.Entry=function(t){this.value=t,this.next=null,this.prev=null};var If=function(t){this._list=new Qi,this._map={},this._maxSize=t||10};If.prototype.setMaxSize=function(t){this._maxSize=t};If.prototype.put=function(t,e){if(!this._map.hasOwnProperty(t)){var r=this._list.length();if(r>=this._maxSize&&r>0){var i=this._list.head;this._list.remove(i),delete this._map[i.key]}var n=this._list.insert(e);n.key=t,this._map[t]=n}};If.prototype.get=function(t){var e=this._map[t];if(this._map.hasOwnProperty(t))return e!==this._list.tail&&(this._list.remove(e),this._list.insertEntry(e)),e.value};If.prototype.remove=function(t){var e=this._map[t];typeof e<"u"&&(delete this._map[t],this._list.remove(e))};If.prototype.clear=function(){this._list.clear(),this._map={}};var qr={},QG={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function go(t){return t=Math.round(t),t<0?0:t>255?255:t}function kPe(t){return t=Math.round(t),t<0?0:t>360?360:t}function J2(t){return t<0?0:t>1?1:t}function Q6(t){return t.length&&t.charAt(t.length-1)==="%"?go(parseFloat(t)/100*255):go(parseInt(t,10))}function Pp(t){return t.length&&t.charAt(t.length-1)==="%"?J2(parseFloat(t)/100):J2(parseFloat(t))}function eT(t,e,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(e-t)*r*6:r*2<1?e:r*3<2?t+(e-t)*(2/3-r)*6:t}function Ec(t,e,r){return t+(e-t)*r}function to(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t}function Kw(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var gre=new If(20),W_=null;function sd(t,e){W_&&Kw(W_,e),W_=gre.put(t,W_||e.slice())}qr.parse=function(t,e){if(t){e=e||[];var r=gre.get(t);if(r)return Kw(e,r);t=t+"";var i=t.replace(/ /g,"").toLowerCase();if(i in QG)return Kw(e,QG[i]),sd(t,e),e;if(i.charAt(0)==="#"){if(i.length===4){var n=parseInt(i.substr(1),16);if(!(n>=0&&n<=4095)){to(e,0,0,0,1);return}return to(e,(n&3840)>>4|(n&3840)>>8,n&240|(n&240)>>4,n&15|(n&15)<<4,1),sd(t,e),e}else if(i.length===7){var n=parseInt(i.substr(1),16);if(!(n>=0&&n<=16777215)){to(e,0,0,0,1);return}return to(e,(n&16711680)>>16,(n&65280)>>8,n&255,1),sd(t,e),e}return}var a=i.indexOf("("),s=i.indexOf(")");if(a!==-1&&s+1===i.length){var o=i.substr(0,a),u=i.substr(a+1,s-(a+1)).split(","),l=1;switch(o){case"rgba":if(u.length!==4){to(e,0,0,0,1);return}l=Pp(u.pop());case"rgb":if(u.length!==3){to(e,0,0,0,1);return}return to(e,Q6(u[0]),Q6(u[1]),Q6(u[2]),l),sd(t,e),e;case"hsla":if(u.length!==4){to(e,0,0,0,1);return}return u[3]=Pp(u[3]),Jw(u,e),sd(t,e),e;case"hsl":if(u.length!==3){to(e,0,0,0,1);return}return Jw(u,e),sd(t,e),e;default:return}}to(e,0,0,0,1)}};qr.parseToFloat=function(t,e){if(e=qr.parse(t,e),!!e)return e[0]/=255,e[1]/=255,e[2]/=255,e};function Jw(t,e){var r=(parseFloat(t[0])%360+360)%360/360,i=Pp(t[1]),n=Pp(t[2]),a=n<=.5?n*(i+1):n+i-n*i,s=n*2-a;return e=e||[],to(e,go(eT(s,a,r+1/3)*255),go(eT(s,a,r)*255),go(eT(s,a,r-1/3)*255),1),t.length===4&&(e[3]=t[3]),e}function zPe(t){if(t){var e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(e,r,i),a=Math.max(e,r,i),s=a-n,o=(a+n)/2,u,l;if(s===0)u=0,l=0;else{o<.5?l=s/(a+n):l=s/(2-a-n);var c=((a-e)/6+s/2)/s,h=((a-r)/6+s/2)/s,f=((a-i)/6+s/2)/s;e===a?u=f-h:r===a?u=1/3+c-f:i===a&&(u=2/3+h-c),u<0&&(u+=1),u>1&&(u-=1)}var d=[u*360,l,o];return t[3]!=null&&d.push(t[3]),d}}qr.lift=function(t,e){var r=qr.parse(t);if(r){for(var i=0;i<3;i++)e<0?r[i]=r[i]*(1-e)|0:r[i]=(255-r[i])*e+r[i]|0;return qr.stringify(r,r.length===4?"rgba":"rgb")}};qr.toHex=function(t){var e=qr.parse(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)};qr.fastLerp=function(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){r=r||[];var i=t*(e.length-1),n=Math.floor(i),a=Math.ceil(i),s=e[n],o=e[a],u=i-n;return r[0]=go(Ec(s[0],o[0],u)),r[1]=go(Ec(s[1],o[1],u)),r[2]=go(Ec(s[2],o[2],u)),r[3]=J2(Ec(s[3],o[3],u)),r}};qr.fastMapToColor=qr.fastLerp;qr.lerp=function(t,e,r){if(!(!(e&&e.length)||!(t>=0&&t<=1))){var i=t*(e.length-1),n=Math.floor(i),a=Math.ceil(i),s=qr.parse(e[n]),o=qr.parse(e[a]),u=i-n,l=qr.stringify([go(Ec(s[0],o[0],u)),go(Ec(s[1],o[1],u)),go(Ec(s[2],o[2],u)),J2(Ec(s[3],o[3],u))],"rgba");return r?{color:l,leftIndex:n,rightIndex:a,value:i}:l}};qr.mapToColor=qr.lerp;qr.modifyHSL=function(t,e,r,i){if(t=qr.parse(t),t)return t=zPe(t),e!=null&&(t[0]=kPe(e)),r!=null&&(t[1]=Pp(r)),i!=null&&(t[2]=Pp(i)),qr.stringify(Jw(t),"rgba")};qr.modifyAlpha=function(t,e){if(t=qr.parse(t),t&&e!=null)return t[3]=J2(e),qr.stringify(t,"rgba")};qr.stringify=function(t,e){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(e==="rgba"||e==="hsva"||e==="hsla")&&(r+=","+t[3]),e+"("+r+")"}};var HPe=qr.parseToFloat,tT={};function eU(t){var e=Object.keys(t);e.sort();for(var r=[],i=0;i<e.length;i++){var n=e[i],a=t[n];a===null?r.push(n):r.push(n+" "+a.toString())}return r.join(`
`)}function GPe(t,e,r){r.sort();for(var i=[],n=0;n<r.length;n++){var a=r[n];i.push(a)}var s=eU(t)+`
`+eU(e)+`
`+i.join(`
`);if(tT[s])return tT[s];var o=pi.genGUID();return tT[s]=o,o}var Ms=vn.extend(function(){return{name:"",depthTest:!0,depthMask:!0,transparent:!1,blend:null,autoUpdateTextureStatus:!0,uniforms:{},vertexDefines:{},fragmentDefines:{},_textureStatus:{},_enabledUniforms:null}},function(){this.name||(this.name="MATERIAL_"+this.__uid__),this.shader&&this.attachShader(this.shader,!0)},{precision:"highp",setUniform:function(t,e){e===void 0&&console.warn('Uniform value "'+t+'" is undefined');var r=this.uniforms[t];r&&(typeof e=="string"&&(e=HPe(e)||e),r.value=e,this.autoUpdateTextureStatus&&r.type==="t"&&(e?this.enableTexture(t):this.disableTexture(t)))},setUniforms:function(t){for(var e in t){var r=t[e];this.setUniform(e,r)}},isUniformEnabled:function(t){return this._enabledUniforms.indexOf(t)>=0},getEnabledUniforms:function(){return this._enabledUniforms},getTextureUniforms:function(){return this._textureUniforms},set:function(t,e){if(typeof t=="object")for(var r in t){var i=t[r];this.setUniform(r,i)}else this.setUniform(t,e)},get:function(t){var e=this.uniforms[t];if(e)return e.value},attachShader:function(t,e){var r=this.uniforms;this.uniforms=t.createUniforms(),this.shader=t;var i=this.uniforms;this._enabledUniforms=Object.keys(i),this._enabledUniforms.sort(),this._textureUniforms=this._enabledUniforms.filter(function(l){var c=this.uniforms[l].type;return c==="t"||c==="tv"},this);var n=this.vertexDefines,a=this.fragmentDefines;if(this.vertexDefines=pi.clone(t.vertexDefines),this.fragmentDefines=pi.clone(t.fragmentDefines),e){for(var s in r)i[s]&&(i[s].value=r[s].value);pi.defaults(this.vertexDefines,n),pi.defaults(this.fragmentDefines,a)}var o={};for(var u in t.textures)o[u]={shaderType:t.textures[u].shaderType,type:t.textures[u].type,enabled:e&&this._textureStatus[u]?this._textureStatus[u].enabled:!1};this._textureStatus=o,this._programKey=""},clone:function(){var t=new this.constructor({name:this.name,shader:this.shader});for(var e in this.uniforms)t.uniforms[e].value=this.uniforms[e].value;return t.depthTest=this.depthTest,t.depthMask=this.depthMask,t.transparent=this.transparent,t.blend=this.blend,t.vertexDefines=pi.clone(this.vertexDefines),t.fragmentDefines=pi.clone(this.fragmentDefines),t.enableTexture(this.getEnabledTextures()),t.precision=this.precision,t},define:function(t,e,r){var i=this.vertexDefines,n=this.fragmentDefines;t!=="vertex"&&t!=="fragment"&&t!=="both"&&arguments.length<3&&(r=e,e=t,t="both"),r=r??null,(t==="vertex"||t==="both")&&i[e]!==r&&(i[e]=r,this._programKey=""),(t==="fragment"||t==="both")&&n[e]!==r&&(n[e]=r,t!=="both"&&(this._programKey=""))},undefine:function(t,e){t!=="vertex"&&t!=="fragment"&&t!=="both"&&arguments.length<2&&(e=t,t="both"),(t==="vertex"||t==="both")&&this.isDefined("vertex",e)&&(delete this.vertexDefines[e],this._programKey=""),(t==="fragment"||t==="both")&&this.isDefined("fragment",e)&&(delete this.fragmentDefines[e],t!=="both"&&(this._programKey=""))},isDefined:function(t,e){switch(t){case"vertex":return this.vertexDefines[e]!==void 0;case"fragment":return this.fragmentDefines[e]!==void 0}},getDefine:function(t,e){switch(t){case"vertex":return this.vertexDefines[e];case"fragment":return this.fragmentDefines[e]}},enableTexture:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)this.enableTexture(t[e]);return}var r=this._textureStatus[t];if(r){var i=r.enabled;i||(r.enabled=!0,this._programKey="")}},enableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!0;this._programKey=""},disableTexture:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)this.disableTexture(t[e]);return}var r=this._textureStatus[t];if(r){var i=!r.enabled;i||(r.enabled=!1,this._programKey="")}},disableTexturesAll:function(){var t=this._textureStatus;for(var e in t)t[e].enabled=!1;this._programKey=""},isTextureEnabled:function(t){var e=this._textureStatus;return!!e[t]&&e[t].enabled},getEnabledTextures:function(){var t=[],e=this._textureStatus;for(var r in e)e[r].enabled&&t.push(r);return t},dirtyDefines:function(){this._programKey=""},getProgramKey:function(){return this._programKey||(this._programKey=GPe(this.vertexDefines,this.fragmentDefines,this.getEnabledTextures())),this._programKey}}),i5=1e-6,mn=Array,Ld=Math.random,Ve={};Ve.create=function(){var t=new mn(2);return t[0]=0,t[1]=0,t};Ve.clone=function(t){var e=new mn(2);return e[0]=t[0],e[1]=t[1],e};Ve.fromValues=function(t,e){var r=new mn(2);return r[0]=t,r[1]=e,r};Ve.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t};Ve.set=function(t,e,r){return t[0]=e,t[1]=r,t};Ve.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t};Ve.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t};Ve.sub=Ve.subtract;Ve.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t};Ve.mul=Ve.multiply;Ve.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t};Ve.div=Ve.divide;Ve.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t};Ve.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t};Ve.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t};Ve.scaleAndAdd=function(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t};Ve.distance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1];return Math.sqrt(r*r+i*i)};Ve.dist=Ve.distance;Ve.squaredDistance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1];return r*r+i*i};Ve.sqrDist=Ve.squaredDistance;Ve.length=function(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)};Ve.len=Ve.length;Ve.squaredLength=function(t){var e=t[0],r=t[1];return e*e+r*r};Ve.sqrLen=Ve.squaredLength;Ve.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t};Ve.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t};Ve.normalize=function(t,e){var r=e[0],i=e[1],n=r*r+i*i;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t};Ve.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]};Ve.cross=function(t,e,r){var i=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=i,t};Ve.lerp=function(t,e,r,i){var n=e[0],a=e[1];return t[0]=n+i*(r[0]-n),t[1]=a+i*(r[1]-a),t};Ve.random=function(t,e){e=e||1;var r=GLMAT_RANDOM()*2*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t};Ve.transformMat2=function(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[2]*n,t[1]=r[1]*i+r[3]*n,t};Ve.transformMat2d=function(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[2]*n+r[4],t[1]=r[1]*i+r[3]*n+r[5],t};Ve.transformMat3=function(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[3]*n+r[6],t[1]=r[1]*i+r[4]*n+r[7],t};Ve.transformMat4=function(t,e,r){var i=e[0],n=e[1];return t[0]=r[0]*i+r[4]*n+r[12],t[1]=r[1]*i+r[5]*n+r[13],t};Ve.forEach=function(){var t=Ve.create();return function(e,r,i,n,a,s){var o,u;for(r||(r=2),i||(i=0),n?u=Math.min(n*r+i,e.length):u=e.length,o=i;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],a(t,t,s),e[o]=t[0],e[o+1]=t[1];return e}}();var Tt=function(t,e){t=t||0,e=e||0,this.array=Ve.fromValues(t,e),this._dirty=!0};Tt.prototype={constructor:Tt,add:function(t){return Ve.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e){return this.array[0]=t,this.array[1]=e,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this._dirty=!0,this},clone:function(){return new Tt(this.x,this.y)},copy:function(t){return Ve.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return Ve.cross(t.array,this.array,e.array),t._dirty=!0,this},dist:function(t){return Ve.dist(this.array,t.array)},distance:function(t){return Ve.distance(this.array,t.array)},div:function(t){return Ve.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return Ve.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return Ve.dot(this.array,t.array)},len:function(){return Ve.len(this.array)},length:function(){return Ve.length(this.array)},lerp:function(t,e,r){return Ve.lerp(this.array,t.array,e.array,r),this._dirty=!0,this},min:function(t){return Ve.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return Ve.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return Ve.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return Ve.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return Ve.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Ve.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return Ve.random(this.array,t),this._dirty=!0,this},scale:function(t){return Ve.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return Ve.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return Ve.sqrDist(this.array,t.array)},squaredDistance:function(t){return Ve.squaredDistance(this.array,t.array)},sqrLen:function(){return Ve.sqrLen(this.array)},squaredLength:function(){return Ve.squaredLength(this.array)},sub:function(t){return Ve.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return Ve.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat2:function(t){return Ve.transformMat2(this.array,this.array,t.array),this._dirty=!0,this},transformMat2d:function(t){return Ve.transformMat2d(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return Ve.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return Ve.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};if(Object.defineProperty){var tU=Tt.prototype;Object.defineProperty(tU,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Object.defineProperty(tU,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}})}Tt.add=function(t,e,r){return Ve.add(t.array,e.array,r.array),t._dirty=!0,t};Tt.set=function(t,e,r){return Ve.set(t.array,e,r),t._dirty=!0,t};Tt.copy=function(t,e){return Ve.copy(t.array,e.array),t._dirty=!0,t};Tt.cross=function(t,e,r){return Ve.cross(t.array,e.array,r.array),t._dirty=!0,t};Tt.dist=function(t,e){return Ve.distance(t.array,e.array)};Tt.distance=Tt.dist;Tt.div=function(t,e,r){return Ve.divide(t.array,e.array,r.array),t._dirty=!0,t};Tt.divide=Tt.div;Tt.dot=function(t,e){return Ve.dot(t.array,e.array)};Tt.len=function(t){return Ve.length(t.array)};Tt.lerp=function(t,e,r,i){return Ve.lerp(t.array,e.array,r.array,i),t._dirty=!0,t};Tt.min=function(t,e,r){return Ve.min(t.array,e.array,r.array),t._dirty=!0,t};Tt.max=function(t,e,r){return Ve.max(t.array,e.array,r.array),t._dirty=!0,t};Tt.mul=function(t,e,r){return Ve.multiply(t.array,e.array,r.array),t._dirty=!0,t};Tt.multiply=Tt.mul;Tt.negate=function(t,e){return Ve.negate(t.array,e.array),t._dirty=!0,t};Tt.normalize=function(t,e){return Ve.normalize(t.array,e.array),t._dirty=!0,t};Tt.random=function(t,e){return Ve.random(t.array,e),t._dirty=!0,t};Tt.scale=function(t,e,r){return Ve.scale(t.array,e.array,r),t._dirty=!0,t};Tt.scaleAndAdd=function(t,e,r,i){return Ve.scaleAndAdd(t.array,e.array,r.array,i),t._dirty=!0,t};Tt.sqrDist=function(t,e){return Ve.sqrDist(t.array,e.array)};Tt.squaredDistance=Tt.sqrDist;Tt.sqrLen=function(t){return Ve.sqrLen(t.array)};Tt.squaredLength=Tt.sqrLen;Tt.sub=function(t,e,r){return Ve.subtract(t.array,e.array,r.array),t._dirty=!0,t};Tt.subtract=Tt.sub;Tt.transformMat2=function(t,e,r){return Ve.transformMat2(t.array,e.array,r.array),t._dirty=!0,t};Tt.transformMat2d=function(t,e,r){return Ve.transformMat2d(t.array,e.array,r.array),t._dirty=!0,t};Tt.transformMat3=function(t,e,r){return Ve.transformMat3(t.array,e.array,r.array),t._dirty=!0,t};Tt.transformMat4=function(t,e,r){return Ve.transformMat4(t.array,e.array,r.array),t._dirty=!0,t};var rU=1,iU=2,rT=3,nU={};function UPe(t){for(var e=t.split(`
`),r=0,i=e.length;r<i;r++)e[r]=r+1+": "+e[r];return e.join(`
`)}function aU(t,e,r){if(!t.getShaderParameter(e,t.COMPILE_STATUS))return[t.getShaderInfoLog(e),UPe(r)].join(`
`)}var sU=new ur.Float32Array(16),jPe=vn.extend({uniformSemantics:{},attributes:{}},function(){this._locations={},this._textureSlot=0,this._program=null},{bind:function(t){this._textureSlot=0,t.gl.useProgram(this._program)},hasUniform:function(t){var e=this._locations[t];return e!=null},useTextureSlot:function(t,e,r){e&&(t.gl.activeTexture(t.gl.TEXTURE0+r),e.isRenderable()?e.bind(t):e.unbind(t))},currentTextureSlot:function(){return this._textureSlot},resetTextureSlot:function(t){this._textureSlot=t||0},takeCurrentTextureSlot:function(t,e){var r=this._textureSlot;return this.useTextureSlot(t,e,r),this._textureSlot++,r},setUniform:function(t,e,r,i){var n=this._locations,a=n[r];if(a==null)return!1;switch(e){case"m4":if(!(i instanceof Float32Array)){for(var s=0;s<i.length;s++)sU[s]=i[s];i=sU}t.uniformMatrix4fv(a,!1,i);break;case"2i":t.uniform2i(a,i[0],i[1]);break;case"2f":t.uniform2f(a,i[0],i[1]);break;case"3i":t.uniform3i(a,i[0],i[1],i[2]);break;case"3f":t.uniform3f(a,i[0],i[1],i[2]);break;case"4i":t.uniform4i(a,i[0],i[1],i[2],i[3]);break;case"4f":t.uniform4f(a,i[0],i[1],i[2],i[3]);break;case"1i":t.uniform1i(a,i);break;case"1f":t.uniform1f(a,i);break;case"1fv":t.uniform1fv(a,i);break;case"1iv":t.uniform1iv(a,i);break;case"2iv":t.uniform2iv(a,i);break;case"2fv":t.uniform2fv(a,i);break;case"3iv":t.uniform3iv(a,i);break;case"3fv":t.uniform3fv(a,i);break;case"4iv":t.uniform4iv(a,i);break;case"4fv":t.uniform4fv(a,i);break;case"m2":case"m2v":t.uniformMatrix2fv(a,!1,i);break;case"m3":case"m3v":t.uniformMatrix3fv(a,!1,i);break;case"m4v":if(Array.isArray(i)&&Array.isArray(i[0])){for(var o=new ur.Float32Array(i.length*16),u=0,s=0;s<i.length;s++)for(var l=i[s],c=0;c<16;c++)o[u++]=l[c];t.uniformMatrix4fv(a,!1,o)}else t.uniformMatrix4fv(a,!1,i);break}return!0},setUniformOfSemantic:function(t,e,r){var i=this.uniformSemantics[e];return i?this.setUniform(t,i.type,i.symbol,r):!1},enableAttributes:function(t,e,r){var i=t.gl,n=this._program,a=this._locations,s;r?s=r.__enabledAttributeList:s=nU[t.__uid__],s||(r?s=r.__enabledAttributeList=[]:s=nU[t.__uid__]=[]);for(var o=[],u=0;u<e.length;u++){var l=e[u];if(!this.attributes[l]){o[u]=-1;continue}var c=a[l];if(c==null){if(c=i.getAttribLocation(n,l),c===-1){o[u]=-1;continue}a[l]=c}o[u]=c,s[c]?s[c]=iU:s[c]=rU}for(var u=0;u<s.length;u++)switch(s[u]){case rU:i.enableVertexAttribArray(u),s[u]=rT;break;case iU:s[u]=rT;break;case rT:i.disableVertexAttribArray(u),s[u]=0;break}return o},getAttribLocation:function(t,e){var r=this._locations,i=r[e];return i==null&&(i=t.getAttribLocation(this._program,e),r[e]=i),i},buildProgram:function(t,e,r,i){var n=t.createShader(t.VERTEX_SHADER),a=t.createProgram();t.shaderSource(n,r),t.compileShader(n);var s=t.createShader(t.FRAGMENT_SHADER);t.shaderSource(s,i),t.compileShader(s);var o=aU(t,n,r);if(o||(o=aU(t,s,i),o))return o;if(t.attachShader(a,n),t.attachShader(a,s),e.attributeSemantics.POSITION)t.bindAttribLocation(a,0,e.attributeSemantics.POSITION.symbol);else{var u=Object.keys(this.attributes);t.bindAttribLocation(a,0,u[0])}if(t.linkProgram(a),t.deleteShader(n),t.deleteShader(s),this._program=a,this.vertexCode=r,this.fragmentCode=i,!t.getProgramParameter(a,t.LINK_STATUS))return`Could not link program
`+t.getProgramInfoLog(a);for(var l=0;l<e.uniforms.length;l++){var c=e.uniforms[l];this._locations[c]=t.getUniformLocation(a,c)}}}),VPe=/for\s*?\(int\s*?_idx_\s*\=\s*([\w-]+)\;\s*_idx_\s*<\s*([\w-]+);\s*_idx_\s*\+\+\s*\)\s*\{\{([\s\S]+?)(?=\}\})\}\}/g;function oU(t,e,r){function i(s,o,u,l){var c="";isNaN(o)&&(o in e?o=e[o]:o=n[o]),isNaN(u)&&(u in e?u=e[u]:u=n[u]);for(var h=parseInt(o);h<parseInt(u);h++)c+="{"+l.replace(/float\s*\(\s*_idx_\s*\)/g,h.toFixed(1)).replace(/_idx_/g,h)+"}";return c}var n={};for(var a in r)n[a+"_COUNT"]=r[a];return t.replace(VPe,i)}function iT(t,e,r){var i=[];if(e)for(var n in e){var a=e[n];a>0&&i.push("#define "+n.toUpperCase()+"_COUNT "+a)}if(r)for(var s=0;s<r.length;s++){var o=r[s];i.push("#define "+o.toUpperCase()+"_ENABLED")}for(var o in t){var u=t[o];u===null?i.push("#define "+o):i.push("#define "+o+" "+u.toString())}return i.join(`
`)}function $Pe(t){for(var e=[],r=0;r<t.length;r++)e.push("#extension GL_"+t[r]+" : enable");return e.join(`
`)}function WPe(t){return["precision",t,"float"].join(" ")+`;
`+["precision",t,"int"].join(" ")+`;
`+["precision",t,"sampler2D"].join(" ")+`;
`}function vre(t){this._renderer=t,this._cache={}}vre.prototype.getProgram=function(t,e,r){var i=this._cache,n=t.isSkinnedMesh&&t.isSkinnedMesh(),a=t.isInstancedMesh&&t.isInstancedMesh(),s="s"+e.shader.shaderID+"m"+e.getProgramKey();r&&(s+="se"+r.getProgramKey(t.lightGroup)),n&&(s+=",sk"+t.joints.length),a&&(s+=",is");var x=i[s];if(x)return x;var o=r?r.getLightsNumbers(t.lightGroup):{},u=this._renderer,l=u.gl,c=e.getEnabledTextures(),h="";if(n){var f={SKINNING:null,JOINT_COUNT:t.joints.length};t.joints.length>u.getMaxJointNumber()&&(f.USE_SKIN_MATRICES_TEXTURE=null),h+=`
`+iT(f)+`
`}a&&(h+=`
#define INSTANCING
`);var d=h+iT(e.vertexDefines,o,c),p=h+iT(e.fragmentDefines,o,c),g=d+`
`+e.shader.vertex,v=["OES_standard_derivatives","EXT_shader_texture_lod"].filter(function(C){return u.getGLExtension(C)!=null});v.indexOf("EXT_shader_texture_lod")>=0&&(p+=`
#define SUPPORT_TEXTURE_LOD`),v.indexOf("OES_standard_derivatives")>=0&&(p+=`
#define SUPPORT_STANDARD_DERIVATIVES`);var m=$Pe(v)+`
`+WPe(e.precision)+`
`+p+`
`+e.shader.fragment,y=oU(g,e.vertexDefines,o),_=oU(m,e.fragmentDefines,o),x=new jPe;x.uniformSemantics=e.shader.uniformSemantics,x.attributes=e.shader.attributes;var b=x.buildProgram(l,e.shader,y,_);return x.__error=b,i[s]=x,x};var uU=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g,YPe=/attribute\s+(float|int|vec2|vec3|vec4)\s+([\s\S]*?);/g,lU=/#define\s+(\w+)?(\s+[\d-.]+)?\s*;?\s*\n/g,qPe={bool:"1i",int:"1i",sampler2D:"t",samplerCube:"t",float:"1f",vec2:"2f",vec3:"3f",vec4:"4f",ivec2:"2i",ivec3:"3i",ivec4:"4i",mat2:"m2",mat3:"m3",mat4:"m4"};function Nu(t){for(var e=[],r=0;r<t;r++)e[r]=0;return e}var cU={bool:function(){return!0},int:function(){return 0},float:function(){return 0},sampler2D:function(){return null},samplerCube:function(){return null},vec2:function(){return Nu(2)},vec3:function(){return Nu(3)},vec4:function(){return Nu(4)},ivec2:function(){return Nu(2)},ivec3:function(){return Nu(3)},ivec4:function(){return Nu(4)},mat2:function(){return Nu(4)},mat3:function(){return Nu(9)},mat4:function(){return Nu(16)},array:function(){return[]}},Qw=["POSITION","NORMAL","BINORMAL","TANGENT","TEXCOORD","TEXCOORD_0","TEXCOORD_1","COLOR","JOINT","WEIGHT"],mre=["SKIN_MATRIX","VIEWPORT_SIZE","VIEWPORT","DEVICEPIXELRATIO","WINDOW_SIZE","NEAR","FAR","TIME"],yre=["WORLD","VIEW","PROJECTION","WORLDVIEW","VIEWPROJECTION","WORLDVIEWPROJECTION","WORLDINVERSE","VIEWINVERSE","PROJECTIONINVERSE","WORLDVIEWINVERSE","VIEWPROJECTIONINVERSE","WORLDVIEWPROJECTIONINVERSE","WORLDTRANSPOSE","VIEWTRANSPOSE","PROJECTIONTRANSPOSE","WORLDVIEWTRANSPOSE","VIEWPROJECTIONTRANSPOSE","WORLDVIEWPROJECTIONTRANSPOSE","WORLDINVERSETRANSPOSE","VIEWINVERSETRANSPOSE","PROJECTIONINVERSETRANSPOSE","WORLDVIEWINVERSETRANSPOSE","VIEWPROJECTIONINVERSETRANSPOSE","WORLDVIEWPROJECTIONINVERSETRANSPOSE"],XPe={vec4:4,vec3:3,vec2:2,float:1},nT={},_re={};function ZPe(t,e){var r="vertex:"+t+"fragment:"+e;if(nT[r])return nT[r];var i=pi.genGUID();return nT[r]=i,_re[i]={vertex:t,fragment:e},i}function hU(t){return t.replace(/[ \t]*\/\/.*\n/g,"").replace(/[ \t]*\/\*[\s\S]*?\*\//g,"")}function od(){console.error("Wrong uniform/attributes syntax")}function fU(t,e){for(var r=/[,=\(\):]/,i=e.replace(/:\s*\[\s*(.*)\s*\]/g,"="+t+"($1)").replace(/\s+/g,"").split(/(?=[,=\(\):])/g),n=[],a=0;a<i.length;a++)i[a].match(r)?n.push(i[a].charAt(0),i[a].slice(1)):n.push(i[a]);i=n;var s=0,o=1,u=2,l=3,c=4,h=5,f=s,d={},p=null,g;v(i[0]);function v(_){_||od();var x=_.match(/\[(.*?)\]/);g=_.replace(/\[(.*?)\]/,""),d[g]={},x&&(d[g].isArray=!0,d[g].arraySize=x[1])}for(var a=1;a<i.length;a++){var m=i[a];if(m){if(m==="="){if(f!==s&&f!==l){od();break}f=o;continue}else if(m===":"){f=c;continue}else if(m===","){if(f===u){if(!(p instanceof Array)){od();break}p.push(+i[++a])}else f=h;continue}else if(m===")"){d[g].value=new ur.Float32Array(p),p=null,f=h;continue}else if(m==="("){if(f!==u){od();break}if(!(p instanceof Array)){od();break}p.push(+i[++a]);continue}else if(m.indexOf("vec")>=0){if(f!==o&&f!==c){od();break}f=u,p=[];continue}else if(f===o){t==="bool"?d[g].value=m==="true":d[g].value=parseFloat(m),p=null;continue}else if(f===c){var y=m;Qw.indexOf(y)>=0||mre.indexOf(y)>=0||yre.indexOf(y)>=0?d[g].semantic=y:y==="ignore"||y==="unconfigurable"?d[g].ignore=!0:t==="bool"?d[g].value=y==="true":d[g].value=parseFloat(y);continue}v(m),f=s}}return d}function qe(t,e){typeof t=="object"&&(e=t.fragment,t=t.vertex),t=hU(t),e=hU(e),this._shaderID=ZPe(t,e),this._vertexCode=qe.parseImport(t),this._fragmentCode=qe.parseImport(e),this.attributeSemantics={},this.matrixSemantics={},this.uniformSemantics={},this.matrixSemanticKeys=[],this.uniformTemplates={},this.attributes={},this.textures={},this.vertexDefines={},this.fragmentDefines={},this._parseAttributes(),this._parseUniforms(),this._parseDefines()}qe.prototype={constructor:qe,createUniforms:function(){var t={};for(var e in this.uniformTemplates){var r=this.uniformTemplates[e];t[e]={type:r.type,value:r.value()}}return t},_parseImport:function(){this._vertexCode=qe.parseImport(this.vertex),this._fragmentCode=qe.parseImport(this.fragment)},_addSemanticUniform:function(t,e,r){if(Qw.indexOf(r)>=0)this.attributeSemantics[r]={symbol:t,type:e};else if(yre.indexOf(r)>=0){var i=!1,n=r;r.match(/TRANSPOSE$/)&&(i=!0,n=r.slice(0,-9)),this.matrixSemantics[r]={symbol:t,type:e,isTranspose:i,semanticNoTranspose:n}}else mre.indexOf(r)>=0&&(this.uniformSemantics[r]={symbol:t,type:e})},_addMaterialUniform:function(t,e,r,i,n,a){a[t]={type:r,value:n?cU.array:i||cU[e],semantic:null}},_parseUniforms:function(){var t={},e=this,r="vertex";this._uniformList=[],this._vertexCode=this._vertexCode.replace(uU,n),r="fragment",this._fragmentCode=this._fragmentCode.replace(uU,n),e.matrixSemanticKeys=Object.keys(this.matrixSemantics);function i(a){return a!=null?function(){return a}:null}function n(a,s,o){var u=fU(s,o),l=[];for(var c in u){var h=u[c],f=h.semantic,d=c,p=qPe[s],g=i(u[c].value);u[c].isArray&&(d+="["+u[c].arraySize+"]",p+="v"),l.push(d),e._uniformList.push(c),h.ignore||((s==="sampler2D"||s==="samplerCube")&&(e.textures[c]={shaderType:r,type:s}),f?e._addSemanticUniform(c,p,f):e._addMaterialUniform(c,s,p,g,u[c].isArray,t))}return l.length>0?"uniform "+s+" "+l.join(",")+`;
`:""}this.uniformTemplates=t},_parseAttributes:function(){var t={},e=this;this._vertexCode=this._vertexCode.replace(YPe,r);function r(i,n,a){var s=fU(n,a),o=XPe[n]||1,u=[];for(var l in s){var c=s[l].semantic;if(t[l]={type:"float",size:o,semantic:c||null},c){if(Qw.indexOf(c)<0)throw new Error('Unkown semantic "'+c+'"');e.attributeSemantics[c]={symbol:l,type:n}}u.push(l)}return"attribute "+n+" "+u.join(",")+`;
`}this.attributes=t},_parseDefines:function(){var t=this,e="vertex";this._vertexCode=this._vertexCode.replace(lU,r),e="fragment",this._fragmentCode=this._fragmentCode.replace(lU,r);function r(i,n,a){var s=e==="vertex"?t.vertexDefines:t.fragmentDefines;return s[n]||(a==="false"?s[n]=!1:a==="true"?s[n]=!0:s[n]=a?isNaN(parseFloat(a))?a.trim():parseFloat(a):null),""}},clone:function(){var t=_re[this._shaderID],e=new qe(t.vertex,t.fragment);return e}};Object.defineProperty&&(Object.defineProperty(qe.prototype,"shaderID",{get:function(){return this._shaderID}}),Object.defineProperty(qe.prototype,"vertex",{get:function(){return this._vertexCode}}),Object.defineProperty(qe.prototype,"fragment",{get:function(){return this._fragmentCode}}),Object.defineProperty(qe.prototype,"uniforms",{get:function(){return this._uniformList}}));var KPe=/(@import)\s*([0-9a-zA-Z_\-\.]*)/g;qe.parseImport=function(t){return t=t.replace(KPe,function(n,r,i){var n=qe.source(i);return n?qe.parseImport(n):(console.error('Shader chunk "'+i+'" not existed in library'),"")}),t};var JPe=/(@export)\s*([0-9a-zA-Z_\-\.]*)\s*\n([\s\S]*?)@end/g;qe.import=function(t){t.replace(JPe,function(e,r,i,a){var a=a.replace(/(^[\s\t\xa0\u3000]+)|([\u3000\xa0\s\t]+\x24)/g,"");if(a){for(var s=i.split("."),o=qe.codes,u=0,l;u<s.length-1;)l=s[u++],o[l]||(o[l]={}),o=o[l];l=s[u],o[l]=a}return a})};qe.codes={};qe.source=function(t){for(var e=t.split("."),r=qe.codes,i=0;r&&i<e.length;){var n=e[i++];r=r[n]}return typeof r!="string"?(console.error('Shader "'+t+'" not existed in library'),""):r};const xre=`@export clay.prez.vertex
uniform mat4 WVP : WORLDVIEWPROJECTION;
attribute vec3 pos : POSITION;
attribute vec2 uv : TEXCOORD_0;
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec2 v_Texcoord;
void main()
{
 vec4 P = vec4(pos, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = WVP * P;
 v_Texcoord = uv * uvRepeat + uvOffset;
}
@end
@export clay.prez.fragment
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
varying vec2 v_Texcoord;
void main()
{
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
 gl_FragColor = vec4(0.0,0.0,0.0,1.0);
}
@end`;var ke={};ke.create=function(){var t=new mn(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};ke.clone=function(t){var e=new mn(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e};ke.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};ke.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};ke.transpose=function(t,e){if(t===e){var r=e[1],i=e[2],n=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=i,t[9]=a,t[11]=e[14],t[12]=n,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t};ke.invert=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=r*o-i*s,_=r*u-n*s,x=r*l-a*s,b=i*u-n*o,C=i*l-a*o,E=n*l-a*u,A=c*g-h*p,S=c*v-f*p,T=c*m-d*p,D=h*v-f*g,F=h*m-d*g,B=f*m-d*v,O=y*B-_*F+x*D+b*T-C*S+E*A;return O?(O=1/O,t[0]=(o*B-u*F+l*D)*O,t[1]=(n*F-i*B-a*D)*O,t[2]=(g*E-v*C+m*b)*O,t[3]=(f*C-h*E-d*b)*O,t[4]=(u*T-s*B-l*S)*O,t[5]=(r*B-n*T+a*S)*O,t[6]=(v*x-p*E-m*_)*O,t[7]=(c*E-f*x+d*_)*O,t[8]=(s*F-o*T+l*A)*O,t[9]=(i*T-r*F-a*A)*O,t[10]=(p*C-g*x+m*y)*O,t[11]=(h*x-c*C-d*y)*O,t[12]=(o*S-s*D-u*A)*O,t[13]=(r*D-i*S+n*A)*O,t[14]=(g*_-p*b-v*y)*O,t[15]=(c*b-h*_+f*y)*O,t):null};ke.adjoint=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15];return t[0]=o*(f*m-d*v)-h*(u*m-l*v)+g*(u*d-l*f),t[1]=-(i*(f*m-d*v)-h*(n*m-a*v)+g*(n*d-a*f)),t[2]=i*(u*m-l*v)-o*(n*m-a*v)+g*(n*l-a*u),t[3]=-(i*(u*d-l*f)-o*(n*d-a*f)+h*(n*l-a*u)),t[4]=-(s*(f*m-d*v)-c*(u*m-l*v)+p*(u*d-l*f)),t[5]=r*(f*m-d*v)-c*(n*m-a*v)+p*(n*d-a*f),t[6]=-(r*(u*m-l*v)-s*(n*m-a*v)+p*(n*l-a*u)),t[7]=r*(u*d-l*f)-s*(n*d-a*f)+c*(n*l-a*u),t[8]=s*(h*m-d*g)-c*(o*m-l*g)+p*(o*d-l*h),t[9]=-(r*(h*m-d*g)-c*(i*m-a*g)+p*(i*d-a*h)),t[10]=r*(o*m-l*g)-s*(i*m-a*g)+p*(i*l-a*o),t[11]=-(r*(o*d-l*h)-s*(i*d-a*h)+c*(i*l-a*o)),t[12]=-(s*(h*v-f*g)-c*(o*v-u*g)+p*(o*f-u*h)),t[13]=r*(h*v-f*g)-c*(i*v-n*g)+p*(i*f-n*h),t[14]=-(r*(o*v-u*g)-s*(i*v-n*g)+p*(i*u-n*o)),t[15]=r*(o*f-u*h)-s*(i*f-n*h)+c*(i*u-n*o),t};ke.determinant=function(t){var e=t[0],r=t[1],i=t[2],n=t[3],a=t[4],s=t[5],o=t[6],u=t[7],l=t[8],c=t[9],h=t[10],f=t[11],d=t[12],p=t[13],g=t[14],v=t[15],m=e*s-r*a,y=e*o-i*a,_=e*u-n*a,x=r*o-i*s,b=r*u-n*s,C=i*u-n*o,E=l*p-c*d,A=l*g-h*d,S=l*v-f*d,T=c*g-h*p,D=c*v-f*p,F=h*v-f*g;return m*F-y*D+_*T+x*S-b*A+C*E};ke.multiply=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],d=e[10],p=e[11],g=e[12],v=e[13],m=e[14],y=e[15],_=r[0],x=r[1],b=r[2],C=r[3];return t[0]=_*i+x*o+b*h+C*g,t[1]=_*n+x*u+b*f+C*v,t[2]=_*a+x*l+b*d+C*m,t[3]=_*s+x*c+b*p+C*y,_=r[4],x=r[5],b=r[6],C=r[7],t[4]=_*i+x*o+b*h+C*g,t[5]=_*n+x*u+b*f+C*v,t[6]=_*a+x*l+b*d+C*m,t[7]=_*s+x*c+b*p+C*y,_=r[8],x=r[9],b=r[10],C=r[11],t[8]=_*i+x*o+b*h+C*g,t[9]=_*n+x*u+b*f+C*v,t[10]=_*a+x*l+b*d+C*m,t[11]=_*s+x*c+b*p+C*y,_=r[12],x=r[13],b=r[14],C=r[15],t[12]=_*i+x*o+b*h+C*g,t[13]=_*n+x*u+b*f+C*v,t[14]=_*a+x*l+b*d+C*m,t[15]=_*s+x*c+b*p+C*y,t};ke.multiplyAffine=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[4],o=e[5],u=e[6],l=e[8],c=e[9],h=e[10],f=e[12],d=e[13],p=e[14],g=r[0],v=r[1],m=r[2];return t[0]=g*i+v*s+m*l,t[1]=g*n+v*o+m*c,t[2]=g*a+v*u+m*h,g=r[4],v=r[5],m=r[6],t[4]=g*i+v*s+m*l,t[5]=g*n+v*o+m*c,t[6]=g*a+v*u+m*h,g=r[8],v=r[9],m=r[10],t[8]=g*i+v*s+m*l,t[9]=g*n+v*o+m*c,t[10]=g*a+v*u+m*h,g=r[12],v=r[13],m=r[14],t[12]=g*i+v*s+m*l+f,t[13]=g*n+v*o+m*c+d,t[14]=g*a+v*u+m*h+p,t};ke.mul=ke.multiply;ke.mulAffine=ke.multiplyAffine;ke.translate=function(t,e,r){var i=r[0],n=r[1],a=r[2],s,o,u,l,c,h,f,d,p,g,v,m;return e===t?(t[12]=e[0]*i+e[4]*n+e[8]*a+e[12],t[13]=e[1]*i+e[5]*n+e[9]*a+e[13],t[14]=e[2]*i+e[6]*n+e[10]*a+e[14],t[15]=e[3]*i+e[7]*n+e[11]*a+e[15]):(s=e[0],o=e[1],u=e[2],l=e[3],c=e[4],h=e[5],f=e[6],d=e[7],p=e[8],g=e[9],v=e[10],m=e[11],t[0]=s,t[1]=o,t[2]=u,t[3]=l,t[4]=c,t[5]=h,t[6]=f,t[7]=d,t[8]=p,t[9]=g,t[10]=v,t[11]=m,t[12]=s*i+c*n+p*a+e[12],t[13]=o*i+h*n+g*a+e[13],t[14]=u*i+f*n+v*a+e[14],t[15]=l*i+d*n+m*a+e[15]),t};ke.scale=function(t,e,r){var i=r[0],n=r[1],a=r[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t};ke.rotate=function(t,e,r,i){var n=i[0],a=i[1],s=i[2],o=Math.sqrt(n*n+a*a+s*s),u,l,c,h,f,d,p,g,v,m,y,_,x,b,C,E,A,S,T,D,F,B,O,M;return Math.abs(o)<i5?null:(o=1/o,n*=o,a*=o,s*=o,u=Math.sin(r),l=Math.cos(r),c=1-l,h=e[0],f=e[1],d=e[2],p=e[3],g=e[4],v=e[5],m=e[6],y=e[7],_=e[8],x=e[9],b=e[10],C=e[11],E=n*n*c+l,A=a*n*c+s*u,S=s*n*c-a*u,T=n*a*c-s*u,D=a*a*c+l,F=s*a*c+n*u,B=n*s*c+a*u,O=a*s*c-n*u,M=s*s*c+l,t[0]=h*E+g*A+_*S,t[1]=f*E+v*A+x*S,t[2]=d*E+m*A+b*S,t[3]=p*E+y*A+C*S,t[4]=h*T+g*D+_*F,t[5]=f*T+v*D+x*F,t[6]=d*T+m*D+b*F,t[7]=p*T+y*D+C*F,t[8]=h*B+g*O+_*M,t[9]=f*B+v*O+x*M,t[10]=d*B+m*O+b*M,t[11]=p*B+y*O+C*M,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)};ke.rotateX=function(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[4],s=e[5],o=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*n+l*i,t[5]=s*n+c*i,t[6]=o*n+h*i,t[7]=u*n+f*i,t[8]=l*n-a*i,t[9]=c*n-s*i,t[10]=h*n-o*i,t[11]=f*n-u*i,t};ke.rotateY=function(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n-l*i,t[1]=s*n-c*i,t[2]=o*n-h*i,t[3]=u*n-f*i,t[8]=a*i+l*n,t[9]=s*i+c*n,t[10]=o*i+h*n,t[11]=u*i+f*n,t};ke.rotateZ=function(t,e,r){var i=Math.sin(r),n=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*n+l*i,t[1]=s*n+c*i,t[2]=o*n+h*i,t[3]=u*n+f*i,t[4]=l*n-a*i,t[5]=c*n-s*i,t[6]=h*n-o*i,t[7]=f*n-u*i,t};ke.fromRotationTranslation=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=i+i,u=n+n,l=a+a,c=i*o,h=i*u,f=i*l,d=n*u,p=n*l,g=a*l,v=s*o,m=s*u,y=s*l;return t[0]=1-(d+g),t[1]=h+y,t[2]=f-m,t[3]=0,t[4]=h-y,t[5]=1-(c+g),t[6]=p+v,t[7]=0,t[8]=f+m,t[9]=p-v,t[10]=1-(c+d),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t};ke.fromQuat=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r+r,o=i+i,u=n+n,l=r*s,c=i*s,h=i*o,f=n*s,d=n*o,p=n*u,g=a*s,v=a*o,m=a*u;return t[0]=1-h-p,t[1]=c+m,t[2]=f-v,t[3]=0,t[4]=c-m,t[5]=1-l-p,t[6]=d+g,t[7]=0,t[8]=f+v,t[9]=d-g,t[10]=1-l-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t};ke.frustum=function(t,e,r,i,n,a,s){var o=1/(r-e),u=1/(n-i),l=1/(a-s);return t[0]=a*2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a*2*u,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(n+i)*u,t[10]=(s+a)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*l,t[15]=0,t};ke.perspective=function(t,e,r,i,n){var a=1/Math.tan(e/2),s=1/(i-n);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(n+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*n*i*s,t[15]=0,t};ke.ortho=function(t,e,r,i,n,a,s){var o=1/(e-r),u=1/(i-n),l=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+r)*o,t[13]=(n+i)*u,t[14]=(s+a)*l,t[15]=1,t};ke.lookAt=function(t,e,r,i){var n,a,s,o,u,l,c,h,f,d,p=e[0],g=e[1],v=e[2],m=i[0],y=i[1],_=i[2],x=r[0],b=r[1],C=r[2];return Math.abs(p-x)<i5&&Math.abs(g-b)<i5&&Math.abs(v-C)<i5?ke.identity(t):(c=p-x,h=g-b,f=v-C,d=1/Math.sqrt(c*c+h*h+f*f),c*=d,h*=d,f*=d,n=y*f-_*h,a=_*c-m*f,s=m*h-y*c,d=Math.sqrt(n*n+a*a+s*s),d?(d=1/d,n*=d,a*=d,s*=d):(n=0,a=0,s=0),o=h*s-f*a,u=f*n-c*s,l=c*a-h*n,d=Math.sqrt(o*o+u*u+l*l),d?(d=1/d,o*=d,u*=d,l*=d):(o=0,u=0,l=0),t[0]=n,t[1]=o,t[2]=c,t[3]=0,t[4]=a,t[5]=u,t[6]=h,t[7]=0,t[8]=s,t[9]=l,t[10]=f,t[11]=0,t[12]=-(n*p+a*g+s*v),t[13]=-(o*p+u*g+l*v),t[14]=-(c*p+h*g+f*v),t[15]=1,t)};ke.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))};var oe={};oe.create=function(){var t=new mn(3);return t[0]=0,t[1]=0,t[2]=0,t};oe.clone=function(t){var e=new mn(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e};oe.fromValues=function(t,e,r){var i=new mn(3);return i[0]=t,i[1]=e,i[2]=r,i};oe.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t};oe.set=function(t,e,r,i){return t[0]=e,t[1]=r,t[2]=i,t};oe.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t};oe.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t};oe.sub=oe.subtract;oe.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t};oe.mul=oe.multiply;oe.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t};oe.div=oe.divide;oe.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t};oe.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t};oe.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t};oe.scaleAndAdd=function(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t};oe.distance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(r*r+i*i+n*n)};oe.dist=oe.distance;oe.squaredDistance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2];return r*r+i*i+n*n};oe.sqrDist=oe.squaredDistance;oe.length=function(t){var e=t[0],r=t[1],i=t[2];return Math.sqrt(e*e+r*r+i*i)};oe.len=oe.length;oe.squaredLength=function(t){var e=t[0],r=t[1],i=t[2];return e*e+r*r+i*i};oe.sqrLen=oe.squaredLength;oe.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t};oe.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t};oe.normalize=function(t,e){var r=e[0],i=e[1],n=e[2],a=r*r+i*i+n*n;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t};oe.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]};oe.cross=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[0],o=r[1],u=r[2];return t[0]=n*u-a*o,t[1]=a*s-i*u,t[2]=i*o-n*s,t};oe.lerp=function(t,e,r,i){var n=e[0],a=e[1],s=e[2];return t[0]=n+i*(r[0]-n),t[1]=a+i*(r[1]-a),t[2]=s+i*(r[2]-s),t};oe.random=function(t,e){e=e||1;var r=Ld()*2*Math.PI,i=Ld()*2-1,n=Math.sqrt(1-i*i)*e;return t[0]=Math.cos(r)*n,t[1]=Math.sin(r)*n,t[2]=i*e,t};oe.transformMat4=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[3]*i+r[7]*n+r[11]*a+r[15];return s=s||1,t[0]=(r[0]*i+r[4]*n+r[8]*a+r[12])/s,t[1]=(r[1]*i+r[5]*n+r[9]*a+r[13])/s,t[2]=(r[2]*i+r[6]*n+r[10]*a+r[14])/s,t};oe.transformMat3=function(t,e,r){var i=e[0],n=e[1],a=e[2];return t[0]=i*r[0]+n*r[3]+a*r[6],t[1]=i*r[1]+n*r[4]+a*r[7],t[2]=i*r[2]+n*r[5]+a*r[8],t};oe.transformQuat=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[0],o=r[1],u=r[2],l=r[3],c=l*i+o*a-u*n,h=l*n+u*i-s*a,f=l*a+s*n-o*i,d=-s*i-o*n-u*a;return t[0]=c*l+d*-s+h*-u-f*-o,t[1]=h*l+d*-o+f*-s-c*-u,t[2]=f*l+d*-u+c*-o-h*-s,t};oe.rotateX=function(t,e,r,i){var n=[],a=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],a[0]=n[0],a[1]=n[1]*Math.cos(i)-n[2]*Math.sin(i),a[2]=n[1]*Math.sin(i)+n[2]*Math.cos(i),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t};oe.rotateY=function(t,e,r,i){var n=[],a=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],a[0]=n[2]*Math.sin(i)+n[0]*Math.cos(i),a[1]=n[1],a[2]=n[2]*Math.cos(i)-n[0]*Math.sin(i),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t};oe.rotateZ=function(t,e,r,i){var n=[],a=[];return n[0]=e[0]-r[0],n[1]=e[1]-r[1],n[2]=e[2]-r[2],a[0]=n[0]*Math.cos(i)-n[1]*Math.sin(i),a[1]=n[0]*Math.sin(i)+n[1]*Math.cos(i),a[2]=n[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t};oe.forEach=function(){var t=oe.create();return function(e,r,i,n,a,s){var o,u;for(r||(r=3),i||(i=0),n?u=Math.min(n*r+i,e.length):u=e.length,o=i;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}}();oe.angle=function(t,e){var r=oe.fromValues(t[0],t[1],t[2]),i=oe.fromValues(e[0],e[1],e[2]);oe.normalize(r,r),oe.normalize(i,i);var n=oe.dot(r,i);return n>1?0:Math.acos(n)};qe.import(xre);var zr=ke.create,dU={};function pU(t){return t.material}function QPe(t,e,r){return e.uniforms[r].value}function eLe(t,e,r,i){return r!==i}function tLe(t){return!0}function gU(){}var vU={float:Re.FLOAT,byte:Re.BYTE,ubyte:Re.UNSIGNED_BYTE,short:Re.SHORT,ushort:Re.UNSIGNED_SHORT};function rLe(t,e,r){this.availableAttributes=t,this.availableAttributeSymbols=e,this.indicesBuffer=r,this.vao=null}function iLe(t){var e,r;this.bind=function(i){e||(e=ur.createCanvas(),e.width=e.height=1,e.getContext("2d"));var n=i.gl,a=!r;a&&(r=n.createTexture()),n.bindTexture(n.TEXTURE_2D,r),a&&n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e)},this.unbind=function(i){i.gl.bindTexture(i.gl.TEXTURE_2D,null)},this.isRenderable=function(){return!0}}var Ps=vn.extend(function(){return{canvas:null,_width:100,_height:100,devicePixelRatio:typeof window<"u"&&window.devicePixelRatio||1,clearColor:[0,0,0,0],clearBit:17664,alpha:!0,depth:!0,stencil:!1,antialias:!0,premultipliedAlpha:!0,preserveDrawingBuffer:!1,throwError:!0,gl:null,viewport:{},maxJointNumber:20,__currentFrameBuffer:null,_viewportStack:[],_clearStack:[],_sceneRendering:null}},function(){this.canvas||(this.canvas=ur.createCanvas());var t=this.canvas;try{var e={alpha:this.alpha,depth:this.depth,stencil:this.stencil,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,preserveDrawingBuffer:this.preserveDrawingBuffer};if(this.gl=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),!this.gl)throw new Error;this._glinfo=new OPe(this.gl),this.gl.targetRenderer&&console.error("Already created a renderer"),this.gl.targetRenderer=this,this.resize()}catch(r){throw"Error creating WebGL Context "+r}this._programMgr=new vre(this),this._placeholderTexture=new iLe},{resize:function(t,e){var r=this.canvas,i=this.devicePixelRatio;t!=null?(r.style&&(r.style.width=t+"px",r.style.height=e+"px"),r.width=t*i,r.height=e*i,this._width=t,this._height=e):(this._width=r.width/i,this._height=r.height/i),this.setViewport(0,0,this._width,this._height)},getWidth:function(){return this._width},getHeight:function(){return this._height},getViewportAspect:function(){var t=this.viewport;return t.width/t.height},setDevicePixelRatio:function(t){this.devicePixelRatio=t,this.resize(this._width,this._height)},getDevicePixelRatio:function(){return this.devicePixelRatio},getGLExtension:function(t){return this._glinfo.getExtension(t)},getGLParameter:function(t){return this._glinfo.getParameter(t)},setViewport:function(t,e,r,i,n){if(typeof t=="object"){var a=t;t=a.x,e=a.y,r=a.width,i=a.height,n=a.devicePixelRatio}n=n||this.devicePixelRatio,this.gl.viewport(t*n,e*n,r*n,i*n),this.viewport={x:t,y:e,width:r,height:i,devicePixelRatio:n}},saveViewport:function(){this._viewportStack.push(this.viewport)},restoreViewport:function(){this._viewportStack.length>0&&this.setViewport(this._viewportStack.pop())},saveClear:function(){this._clearStack.push({clearBit:this.clearBit,clearColor:this.clearColor})},restoreClear:function(){if(this._clearStack.length>0){var t=this._clearStack.pop();this.clearColor=t.clearColor,this.clearBit=t.clearBit}},bindSceneRendering:function(t){this._sceneRendering=t},render:function(t,e,r,i){var n=this.gl,a=this.clearColor;if(this.clearBit){n.colorMask(!0,!0,!0,!0),n.depthMask(!0);var s=this.viewport,o=!1,u=s.devicePixelRatio;(s.width!==this._width||s.height!==this._height||u&&u!==this.devicePixelRatio||s.x||s.y)&&(o=!0,n.enable(n.SCISSOR_TEST),n.scissor(s.x*u,s.y*u,s.width*u,s.height*u)),n.clearColor(a[0],a[1],a[2],a[3]),n.clear(this.clearBit),o&&n.disable(n.SCISSOR_TEST)}if(r||t.update(!1),t.updateLights(),e=e||t.getMainCamera(),!e){console.error("Can't find camera in the scene.");return}e.update();var l=t.updateRenderList(e,!0);this._sceneRendering=t;var c=l.opaque,h=l.transparent,f=t.material;t.trigger("beforerender",this,t,e,l),i?(this.renderPreZ(c,t,e),n.depthFunc(n.LEQUAL)):n.depthFunc(n.LESS);for(var d=zr(),p=oe.create(),g=0;g<h.length;g++){var v=h[g];ke.multiplyAffine(d,e.viewMatrix.array,v.worldTransform.array),oe.transformMat4(p,v.position.array,d),v.__depth=p[2]}this.renderPass(c,e,{getMaterial:function(m){return f||m.material},sortCompare:this.opaqueSortCompare}),this.renderPass(h,e,{getMaterial:function(m){return f||m.material},sortCompare:this.transparentSortCompare}),t.trigger("afterrender",this,t,e,l),this._sceneRendering=null},getProgram:function(t,e,r){return e=e||t.material,this._programMgr.getProgram(t,e,r)},validateProgram:function(t){if(t.__error){var e=t.__error;if(dU[t.__uid__])return;if(dU[t.__uid__]=!0,this.throwError)throw new Error(e);this.trigger("error",e)}},updatePrograms:function(t,e,r){var i=r&&r.getMaterial||pU;e=e||null;for(var n=0;n<t.length;n++){var a=t[n],s=i.call(this,a);if(n>0){var o=t[n-1],u=o.joints?o.joints.length:0,l=a.joints?a.joints.length:0;if(l===u&&a.material===o.material&&a.lightGroup===o.lightGroup){a.__program=o.__program;continue}}var c=this._programMgr.getProgram(a,s,e);this.validateProgram(c),a.__program=c}},renderPass:function(t,e,r){this.trigger("beforerenderpass",this,t,e,r),r=r||{},r.getMaterial=r.getMaterial||pU,r.getUniform=r.getUniform||QPe,r.isMaterialChanged=r.isMaterialChanged||eLe,r.beforeRender=r.beforeRender||gU,r.afterRender=r.afterRender||gU;var i=r.ifRender||tLe;this.updatePrograms(t,this._sceneRendering,r),r.sortCompare&&t.sort(r.sortCompare);var n=this.viewport,a=n.devicePixelRatio,s=[n.x*a,n.y*a,n.width*a,n.height*a],o=this.devicePixelRatio,u=this.__currentFrameBuffer?[this.__currentFrameBuffer.getTextureWidth(),this.__currentFrameBuffer.getTextureHeight()]:[this._width*o,this._height*o],l=[s[2],s[3]],c=Date.now();e?(ke.copy(kr.VIEW,e.viewMatrix.array),ke.copy(kr.PROJECTION,e.projectionMatrix.array),ke.copy(kr.VIEWINVERSE,e.worldTransform.array)):(ke.identity(kr.VIEW),ke.identity(kr.PROJECTION),ke.identity(kr.VIEWINVERSE)),ke.multiply(kr.VIEWPROJECTION,kr.PROJECTION,kr.VIEW),ke.invert(kr.PROJECTIONINVERSE,kr.PROJECTION),ke.invert(kr.VIEWPROJECTIONINVERSE,kr.VIEWPROJECTION);for(var h=this.gl,f=this._sceneRendering,d,p,g,v,m,y,_,x,b,C,E,A,S=null,T=0;T<t.length;T++){var D=t[T],F=D.worldTransform!=null,B;if(i(D)){F&&(B=D.isSkinnedMesh&&D.isSkinnedMesh()?D.offsetMatrix?D.offsetMatrix.array:kr.IDENTITY:D.worldTransform.array);var O=D.geometry,M=r.getMaterial.call(this,D),R=D.__program,z=M.shader,k=O.__uid__+"-"+R.__uid__,U=k!==C;C=k,F&&(ke.copy(kr.WORLD,B),ke.multiply(kr.WORLDVIEWPROJECTION,kr.VIEWPROJECTION,B),ke.multiplyAffine(kr.WORLDVIEW,kr.VIEW,B),(z.matrixSemantics.WORLDINVERSE||z.matrixSemantics.WORLDINVERSETRANSPOSE)&&ke.invert(kr.WORLDINVERSE,B),(z.matrixSemantics.WORLDVIEWINVERSE||z.matrixSemantics.WORLDVIEWINVERSETRANSPOSE)&&ke.invert(kr.WORLDVIEWINVERSE,kr.WORLDVIEW),(z.matrixSemantics.WORLDVIEWPROJECTIONINVERSE||z.matrixSemantics.WORLDVIEWPROJECTIONINVERSETRANSPOSE)&&ke.invert(kr.WORLDVIEWPROJECTIONINVERSE,kr.WORLDVIEWPROJECTION)),D.beforeRender&&D.beforeRender(this),r.beforeRender.call(this,D,M,d);var V=R!==p;V?(R.bind(this),R.setUniformOfSemantic(h,"VIEWPORT",s),R.setUniformOfSemantic(h,"WINDOW_SIZE",u),e&&(R.setUniformOfSemantic(h,"NEAR",e.near),R.setUniformOfSemantic(h,"FAR",e.far)),R.setUniformOfSemantic(h,"DEVICEPIXELRATIO",a),R.setUniformOfSemantic(h,"TIME",c),R.setUniformOfSemantic(h,"VIEWPORT_SIZE",l),f&&f.setLightUniforms(R,D.lightGroup,this)):R=p,(V||r.isMaterialChanged(D,g,M,d))&&(M.depthTest!==v&&(M.depthTest?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),v=M.depthTest),M.depthMask!==m&&(h.depthMask(M.depthMask),m=M.depthMask),M.transparent!==b&&(M.transparent?h.enable(h.BLEND):h.disable(h.BLEND),b=M.transparent),M.transparent&&(M.blend?M.blend(h):(h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.SRC_ALPHA,h.ONE_MINUS_SRC_ALPHA,h.ONE,h.ONE_MINUS_SRC_ALPHA))),A=this._bindMaterial(D,M,R,g||null,d||null,p||null,r.getUniform),d=M);var j=z.matrixSemanticKeys;if(F)for(var Y=0;Y<j.length;Y++){var te=j[Y],re=z.matrixSemantics[te],de=kr[te];if(re.isTranspose){var Oe=kr[re.semanticNoTranspose];ke.transpose(de,Oe)}R.setUniform(h,re.type,re.symbol,de)}D.cullFace!==_&&(_=D.cullFace,h.cullFace(_)),D.frontFace!==x&&(x=D.frontFace,h.frontFace(x)),D.culling!==y&&(y=D.culling,y?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE)),this._updateSkeleton(D,R,A),U&&(E=this._bindVAO(S,z,O,R)),this._renderObject(D,E,R),r.afterRender(this,D),D.afterRender&&D.afterRender(this),p=R,g=D}}this.trigger("afterrenderpass",this,t,e,r)},getMaxJointNumber:function(){return this.maxJointNumber},_updateSkeleton:function(t,e,r){var i=this.gl,n=t.skeleton;if(n)if(n.update(),t.joints.length>this.getMaxJointNumber()){var a=n.getSubSkinMatricesTexture(t.__uid__,t.joints);e.useTextureSlot(this,a,r),e.setUniform(i,"1i","skinMatricesTexture",r),e.setUniform(i,"1f","skinMatricesTextureSize",a.width)}else{var s=n.getSubSkinMatrices(t.__uid__,t.joints);e.setUniformOfSemantic(i,"SKIN_MATRIX",s)}},_renderObject:function(t,e,r){var i=this.gl,n=t.geometry,a=t.mode;a==null&&(a=4);var s=null,o=t.isInstancedMesh&&t.isInstancedMesh();if(o&&(s=this.getGLExtension("ANGLE_instanced_arrays"),!s)){console.warn("Device not support ANGLE_instanced_arrays extension");return}var u;if(o&&(u=this._bindInstancedAttributes(t,r,s)),e.indicesBuffer){var l=this.getGLExtension("OES_element_index_uint"),c=l&&n.indices instanceof Uint32Array,h=c?i.UNSIGNED_INT:i.UNSIGNED_SHORT;o?s.drawElementsInstancedANGLE(a,e.indicesBuffer.count,h,0,t.getInstanceCount()):i.drawElements(a,e.indicesBuffer.count,h,0)}else o?s.drawArraysInstancedANGLE(a,0,n.vertexCount,t.getInstanceCount()):i.drawArrays(a,0,n.vertexCount);if(o)for(var f=0;f<u.length;f++)i.disableVertexAttribArray(u[f])},_bindInstancedAttributes:function(t,e,r){for(var i=this.gl,n=t.getInstancedAttributesBuffers(this),a=[],s=0;s<n.length;s++){var o=n[s],u=e.getAttribLocation(i,o.symbol);if(!(u<0)){var l=vU[o.type]||i.FLOAT;i.enableVertexAttribArray(u),i.bindBuffer(i.ARRAY_BUFFER,o.buffer),i.vertexAttribPointer(u,o.size,l,!1,0,0),r.vertexAttribDivisorANGLE(u,o.divisor),a.push(u)}}return a},_bindMaterial:function(t,e,r,i,n,a,s){for(var o=this.gl,u=a===r,l=r.currentTextureSlot(),c=e.getEnabledUniforms(),h=e.getTextureUniforms(),f=this._placeholderTexture,d=0;d<h.length;d++){var p=h[d],g=s(t,e,p),v=e.uniforms[p].type;if(v==="t"&&g)g.__slot=-1;else if(v==="tv")for(var m=0;m<g.length;m++)g[m]&&(g[m].__slot=-1)}f.__slot=-1;for(var d=0;d<c.length;d++){var p=c[d],y=e.uniforms[p],g=s(t,e,p),v=y.type,_=v==="t";if(_&&(!g||!g.isRenderable())&&(g=f),n&&u){var x=s(i,n,p);if(_&&(!x||!x.isRenderable())&&(x=f),x===g){if(_)r.takeCurrentTextureSlot(this,null);else if(v==="tv"&&g)for(var m=0;m<g.length;m++)r.takeCurrentTextureSlot(this,null);continue}}if(g!=null)if(_)if(g.__slot<0){var b=r.currentTextureSlot(),C=r.setUniform(o,"1i",p,b);C&&(r.takeCurrentTextureSlot(this,g),g.__slot=b)}else r.setUniform(o,"1i",p,g.__slot);else if(Array.isArray(g)){if(g.length===0)continue;if(v==="tv"){if(!r.hasUniform(p))continue;for(var E=[],m=0;m<g.length;m++){var A=g[m];if(A.__slot<0){var b=r.currentTextureSlot();E.push(b),r.takeCurrentTextureSlot(this,A),A.__slot=b}else E.push(A.__slot)}r.setUniform(o,"1iv",p,E)}else r.setUniform(o,y.type,p,g)}else r.setUniform(o,y.type,p,g)}var S=r.currentTextureSlot();return r.resetTextureSlot(l),S},_bindVAO:function(t,e,r,i){var n=!r.dynamic,a=this.gl,s=this.__uid__+"-"+i.__uid__,o=r.__vaoCache[s];if(!o){var u=r.getBufferChunks(this);if(!u||!u.length)return;for(var l=u[0],c=l.attributeBuffers,x=l.indicesBuffer,_=[],h=[],f=0;f<c.length;f++){var d=c[f],p=d.name,g=d.semantic,v;if(g){var m=e.attributeSemantics[g];v=m&&m.symbol}else v=p;v&&i.attributes[v]&&(_.push(d),h.push(v))}o=new rLe(_,h,x),n&&(r.__vaoCache[s]=o)}var y=!0;t&&n&&(o.vao==null?o.vao=t.createVertexArrayOES():y=!1,t.bindVertexArrayOES(o.vao));var _=o.availableAttributes,x=o.indicesBuffer;if(y){for(var b=i.enableAttributes(this,o.availableAttributeSymbols,t&&n&&o),f=0;f<_.length;f++){var C=b[f];if(C!==-1){var d=_[f],E=d.buffer,A=d.size,S=vU[d.type]||a.FLOAT;a.bindBuffer(a.ARRAY_BUFFER,E),a.vertexAttribPointer(C,A,S,!1,0,0)}}r.isUseIndices()&&a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,x.buffer)}return o},renderPreZ:function(t,e,r){var i=this.gl,n=this._prezMaterial||new Ms({shader:new qe(qe.source("clay.prez.vertex"),qe.source("clay.prez.fragment"))});this._prezMaterial=n,i.colorMask(!1,!1,!1,!1),i.depthMask(!0),this.renderPass(t,r,{ifRender:function(a){return!a.ignorePreZ},isMaterialChanged:function(a,s){var o=a.material,u=s.material;return o.get("diffuseMap")!==u.get("diffuseMap")||(o.get("alphaCutoff")||0)!==(u.get("alphaCutoff")||0)},getUniform:function(a,s,o){if(o==="alphaMap")return a.material.get("diffuseMap");if(o==="alphaCutoff"){if(a.material.isDefined("fragment","ALPHA_TEST")&&a.material.get("diffuseMap")){var u=a.material.get("alphaCutoff");return u||0}return 0}else return o==="uvRepeat"?a.material.get("uvRepeat"):o==="uvOffset"?a.material.get("uvOffset"):s.get(o)},getMaterial:function(){return n},sort:this.opaqueSortCompare}),i.colorMask(!0,!0,!0,!0),i.depthMask(!0)},disposeScene:function(t){this.disposeNode(t,!0,!0),t.dispose()},disposeNode:function(t,e,r){t.getParent()&&t.getParent().remove(t);var i={};t.traverse(function(n){var a=n.material;if(n.geometry&&e&&n.geometry.dispose(this),r&&a&&!i[a.__uid__]){for(var s=a.getTextureUniforms(),o=0;o<s.length;o++){var u=s[o],l=a.uniforms[u].value,c=a.uniforms[u].type;if(l){if(c==="t")l.dispose&&l.dispose(this);else if(c==="tv")for(var h=0;h<l.length;h++)l[h]&&l[h].dispose&&l[h].dispose(this)}}i[a.__uid__]=!0}n.dispose&&n.dispose(this)},this)},disposeGeometry:function(t){t.dispose(this)},disposeTexture:function(t){t.dispose(this)},disposeFrameBuffer:function(t){t.dispose(this)},dispose:function(){},screenToNDC:function(t,e,r){r||(r=new Tt),e=this._height-e;var i=this.viewport,n=r.array;return n[0]=(t-i.x)/i.width,n[0]=n[0]*2-1,n[1]=(e-i.y)/i.height,n[1]=n[1]*2-1,r}});Ps.opaqueSortCompare=Ps.prototype.opaqueSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.renderOrder-e.renderOrder};Ps.transparentSortCompare=Ps.prototype.transparentSortCompare=function(t,e){return t.renderOrder===e.renderOrder?t.__depth===e.__depth?t.__program===e.__program?t.material===e.material?t.geometry.__uid__-e.geometry.__uid__:t.material.__uid__-e.material.__uid__:t.__program&&e.__program?t.__program.__uid__-e.__program.__uid__:0:t.__depth-e.__depth:t.renderOrder-e.renderOrder};var kr={IDENTITY:zr(),WORLD:zr(),VIEW:zr(),PROJECTION:zr(),WORLDVIEW:zr(),VIEWPROJECTION:zr(),WORLDVIEWPROJECTION:zr(),WORLDINVERSE:zr(),VIEWINVERSE:zr(),PROJECTIONINVERSE:zr(),WORLDVIEWINVERSE:zr(),VIEWPROJECTIONINVERSE:zr(),WORLDVIEWPROJECTIONINVERSE:zr(),WORLDTRANSPOSE:zr(),VIEWTRANSPOSE:zr(),PROJECTIONTRANSPOSE:zr(),WORLDVIEWTRANSPOSE:zr(),VIEWPROJECTIONTRANSPOSE:zr(),WORLDVIEWPROJECTIONTRANSPOSE:zr(),WORLDINVERSETRANSPOSE:zr(),VIEWINVERSETRANSPOSE:zr(),PROJECTIONINVERSETRANSPOSE:zr(),WORLDVIEWINVERSETRANSPOSE:zr(),VIEWPROJECTIONINVERSETRANSPOSE:zr(),WORLDVIEWPROJECTIONINVERSETRANSPOSE:zr()};Ps.COLOR_BUFFER_BIT=Re.COLOR_BUFFER_BIT;Ps.DEPTH_BUFFER_BIT=Re.DEPTH_BUFFER_BIT;Ps.STENCIL_BUFFER_BIT=Re.STENCIL_BUFFER_BIT;var Fe=function(t,e,r){t=t||0,e=e||0,r=r||0,this.array=oe.fromValues(t,e,r),this._dirty=!0};Fe.prototype={constructor:Fe,add:function(t){return oe.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,r){return this.array[0]=t,this.array[1]=e,this.array[2]=r,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this._dirty=!0,this},clone:function(){return new Fe(this.x,this.y,this.z)},copy:function(t){return oe.copy(this.array,t.array),this._dirty=!0,this},cross:function(t,e){return oe.cross(this.array,t.array,e.array),this._dirty=!0,this},dist:function(t){return oe.dist(this.array,t.array)},distance:function(t){return oe.distance(this.array,t.array)},div:function(t){return oe.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return oe.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return oe.dot(this.array,t.array)},len:function(){return oe.len(this.array)},length:function(){return oe.length(this.array)},lerp:function(t,e,r){return oe.lerp(this.array,t.array,e.array,r),this._dirty=!0,this},min:function(t){return oe.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return oe.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return oe.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return oe.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return oe.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return oe.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return oe.random(this.array,t),this._dirty=!0,this},scale:function(t){return oe.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return oe.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return oe.sqrDist(this.array,t.array)},squaredDistance:function(t){return oe.squaredDistance(this.array,t.array)},sqrLen:function(){return oe.sqrLen(this.array)},squaredLength:function(){return oe.squaredLength(this.array)},sub:function(t){return oe.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return oe.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat3:function(t){return oe.transformMat3(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return oe.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return oe.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},applyProjection:function(t){var e=this.array;if(t=t.array,t[15]===0){var r=-1/e[2];e[0]=t[0]*e[0]*r,e[1]=t[5]*e[1]*r,e[2]=(t[10]*e[2]+t[14])*r}else e[0]=t[0]*e[0]+t[12],e[1]=t[5]*e[1]+t[13],e[2]=t[10]*e[2]+t[14];return this._dirty=!0,this},eulerFromQuat:function(t,e){Fe.eulerFromQuat(this,t,e)},eulerFromMat3:function(t,e){Fe.eulerFromMat3(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Y_=Object.defineProperty;if(Y_){var aT=Fe.prototype;Y_(aT,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Y_(aT,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),Y_(aT,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}})}Fe.add=function(t,e,r){return oe.add(t.array,e.array,r.array),t._dirty=!0,t};Fe.set=function(t,e,r,i){oe.set(t.array,e,r,i),t._dirty=!0};Fe.copy=function(t,e){return oe.copy(t.array,e.array),t._dirty=!0,t};Fe.cross=function(t,e,r){return oe.cross(t.array,e.array,r.array),t._dirty=!0,t};Fe.dist=function(t,e){return oe.distance(t.array,e.array)};Fe.distance=Fe.dist;Fe.div=function(t,e,r){return oe.divide(t.array,e.array,r.array),t._dirty=!0,t};Fe.divide=Fe.div;Fe.dot=function(t,e){return oe.dot(t.array,e.array)};Fe.len=function(t){return oe.length(t.array)};Fe.lerp=function(t,e,r,i){return oe.lerp(t.array,e.array,r.array,i),t._dirty=!0,t};Fe.min=function(t,e,r){return oe.min(t.array,e.array,r.array),t._dirty=!0,t};Fe.max=function(t,e,r){return oe.max(t.array,e.array,r.array),t._dirty=!0,t};Fe.mul=function(t,e,r){return oe.multiply(t.array,e.array,r.array),t._dirty=!0,t};Fe.multiply=Fe.mul;Fe.negate=function(t,e){return oe.negate(t.array,e.array),t._dirty=!0,t};Fe.normalize=function(t,e){return oe.normalize(t.array,e.array),t._dirty=!0,t};Fe.random=function(t,e){return oe.random(t.array,e),t._dirty=!0,t};Fe.scale=function(t,e,r){return oe.scale(t.array,e.array,r),t._dirty=!0,t};Fe.scaleAndAdd=function(t,e,r,i){return oe.scaleAndAdd(t.array,e.array,r.array,i),t._dirty=!0,t};Fe.sqrDist=function(t,e){return oe.sqrDist(t.array,e.array)};Fe.squaredDistance=Fe.sqrDist;Fe.sqrLen=function(t){return oe.sqrLen(t.array)};Fe.squaredLength=Fe.sqrLen;Fe.sub=function(t,e,r){return oe.subtract(t.array,e.array,r.array),t._dirty=!0,t};Fe.subtract=Fe.sub;Fe.transformMat3=function(t,e,r){return oe.transformMat3(t.array,e.array,r.array),t._dirty=!0,t};Fe.transformMat4=function(t,e,r){return oe.transformMat4(t.array,e.array,r.array),t._dirty=!0,t};Fe.transformQuat=function(t,e,r){return oe.transformQuat(t.array,e.array,r.array),t._dirty=!0,t};function Ss(t,e,r){return t<e?e:t>r?r:t}var Cr=Math.atan2,Ts=Math.asin,ud=Math.abs;Fe.eulerFromQuat=function(t,e,f){t._dirty=!0,e=e.array;var i=t.array,n=e[0],a=e[1],s=e[2],o=e[3],u=n*n,l=a*a,c=s*s,h=o*o,f=(f||"XYZ").toUpperCase();switch(f){case"XYZ":i[0]=Cr(2*(n*o-a*s),h-u-l+c),i[1]=Ts(Ss(2*(n*s+a*o),-1,1)),i[2]=Cr(2*(s*o-n*a),h+u-l-c);break;case"YXZ":i[0]=Ts(Ss(2*(n*o-a*s),-1,1)),i[1]=Cr(2*(n*s+a*o),h-u-l+c),i[2]=Cr(2*(n*a+s*o),h-u+l-c);break;case"ZXY":i[0]=Ts(Ss(2*(n*o+a*s),-1,1)),i[1]=Cr(2*(a*o-s*n),h-u-l+c),i[2]=Cr(2*(s*o-n*a),h-u+l-c);break;case"ZYX":i[0]=Cr(2*(n*o+s*a),h-u-l+c),i[1]=Ts(Ss(2*(a*o-n*s),-1,1)),i[2]=Cr(2*(n*a+s*o),h+u-l-c);break;case"YZX":i[0]=Cr(2*(n*o-s*a),h-u+l-c),i[1]=Cr(2*(a*o-n*s),h+u-l-c),i[2]=Ts(Ss(2*(n*a+s*o),-1,1));break;case"XZY":i[0]=Cr(2*(n*o+a*s),h-u+l-c),i[1]=Cr(2*(n*s+a*o),h+u-l-c),i[2]=Ts(Ss(2*(s*o-n*a),-1,1));break;default:console.warn("Unkown order: "+f)}return t};Fe.eulerFromMat3=function(t,e,p){var i=e.array,n=i[0],a=i[3],s=i[6],o=i[1],u=i[4],l=i[7],c=i[2],h=i[5],f=i[8],d=t.array,p=(p||"XYZ").toUpperCase();switch(p){case"XYZ":d[1]=Ts(Ss(s,-1,1)),ud(s)<.99999?(d[0]=Cr(-l,f),d[2]=Cr(-a,n)):(d[0]=Cr(h,u),d[2]=0);break;case"YXZ":d[0]=Ts(-Ss(l,-1,1)),ud(l)<.99999?(d[1]=Cr(s,f),d[2]=Cr(o,u)):(d[1]=Cr(-c,n),d[2]=0);break;case"ZXY":d[0]=Ts(Ss(h,-1,1)),ud(h)<.99999?(d[1]=Cr(-c,f),d[2]=Cr(-a,u)):(d[1]=0,d[2]=Cr(o,n));break;case"ZYX":d[1]=Ts(-Ss(c,-1,1)),ud(c)<.99999?(d[0]=Cr(h,f),d[2]=Cr(o,n)):(d[0]=0,d[2]=Cr(-a,u));break;case"YZX":d[2]=Ts(Ss(o,-1,1)),ud(o)<.99999?(d[0]=Cr(-l,u),d[1]=Cr(-c,n)):(d[0]=0,d[1]=Cr(s,f));break;case"XZY":d[2]=Ts(-Ss(a,-1,1)),ud(a)<.99999?(d[0]=Cr(h,u),d[1]=Cr(s,n)):(d[0]=Cr(-l,f),d[1]=0);break;default:console.warn("Unkown order: "+p)}return t._dirty=!0,t};Object.defineProperties(Fe,{POSITIVE_X:{get:function(){return new Fe(1,0,0)}},NEGATIVE_X:{get:function(){return new Fe(-1,0,0)}},POSITIVE_Y:{get:function(){return new Fe(0,1,0)}},NEGATIVE_Y:{get:function(){return new Fe(0,-1,0)}},POSITIVE_Z:{get:function(){return new Fe(0,0,1)}},NEGATIVE_Z:{get:function(){return new Fe(0,0,-1)}},UP:{get:function(){return new Fe(0,1,0)}},ZERO:{get:function(){return new Fe}}});var nLe=1e-5,Nh=function(t,e){this.origin=t||new Fe,this.direction=e||new Fe};Nh.prototype={constructor:Nh,intersectPlane:function(t,e){var r=t.normal.array,i=t.distance,n=this.origin.array,a=this.direction.array,s=oe.dot(r,a);if(s===0)return null;e||(e=new Fe);var o=(oe.dot(r,n)-i)/s;return oe.scaleAndAdd(e.array,n,a,-o),e._dirty=!0,e},mirrorAgainstPlane:function(t){var e=oe.dot(t.normal.array,this.direction.array);oe.scaleAndAdd(this.direction.array,this.direction.array,t.normal.array,-e*2),this.direction._dirty=!0},distanceToPoint:function(){var t=oe.create();return function(e){oe.sub(t,e,this.origin.array);var r=oe.dot(t,this.direction.array);if(r<0)return oe.distance(this.origin.array,e);var i=oe.lenSquared(t);return Math.sqrt(i-r*r)}}(),intersectSphere:function(){var t=oe.create();return function(e,r,i){var n=this.origin.array,a=this.direction.array;e=e.array,oe.sub(t,e,n);var s=oe.dot(t,a),o=oe.squaredLength(t),u=o-s*s,l=r*r;if(!(u>l)){var c=Math.sqrt(l-u),h=s-c,f=s+c;return i||(i=new Fe),h<0?f<0?null:(oe.scaleAndAdd(i.array,n,a,f),i):(oe.scaleAndAdd(i.array,n,a,h),i)}}}(),intersectBoundingBox:function(t,e){var r=this.direction.array,i=this.origin.array,n=t.min.array,a=t.max.array,s=1/r[0],o=1/r[1],u=1/r[2],l,c,h,f,d,p;if(s>=0?(l=(n[0]-i[0])*s,c=(a[0]-i[0])*s):(c=(n[0]-i[0])*s,l=(a[0]-i[0])*s),o>=0?(h=(n[1]-i[1])*o,f=(a[1]-i[1])*o):(f=(n[1]-i[1])*o,h=(a[1]-i[1])*o),l>f||h>c||((h>l||l!==l)&&(l=h),(f<c||c!==c)&&(c=f),u>=0?(d=(n[2]-i[2])*u,p=(a[2]-i[2])*u):(p=(n[2]-i[2])*u,d=(a[2]-i[2])*u),l>p||d>c)||((d>l||l!==l)&&(l=d),(p<c||c!==c)&&(c=p),c<0))return null;var g=l>=0?l:c;return e||(e=new Fe),oe.scaleAndAdd(e.array,i,r,g),e},intersectTriangle:function(){var t=oe.create(),e=oe.create(),r=oe.create(),i=oe.create();return function(n,a,s,o,u,l){var c=this.direction.array,h=this.origin.array;n=n.array,a=a.array,s=s.array,oe.sub(t,a,n),oe.sub(e,s,n),oe.cross(i,e,c);var f=oe.dot(t,i);if(o){if(f>-1e-5)return null}else if(f>-1e-5&&f<nLe)return null;oe.sub(r,h,n);var d=oe.dot(i,r)/f;if(d<0||d>1)return null;oe.cross(i,t,r);var p=oe.dot(c,i)/f;if(p<0||p>1||d+p>1)return null;oe.cross(i,t,e);var g=-oe.dot(r,i)/f;return g<0?null:(u||(u=new Fe),l&&Fe.set(l,1-d-p,d,p),oe.scaleAndAdd(u.array,h,c,g),u)}}(),applyTransform:function(t){Fe.add(this.direction,this.direction,this.origin),Fe.transformMat4(this.origin,this.origin,t),Fe.transformMat4(this.direction,this.direction,t),Fe.sub(this.direction,this.direction,this.origin),Fe.normalize(this.direction,this.direction)},copy:function(t){Fe.copy(this.origin,t.origin),Fe.copy(this.direction,t.direction)},clone:function(){var t=new Nh;return t.copy(this),t}};var Ne={};Ne.create=function(){var t=new mn(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t};Ne.clone=function(t){var e=new mn(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};Ne.fromValues=function(t,e,r,i){var n=new mn(4);return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n};Ne.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};Ne.set=function(t,e,r,i,n){return t[0]=e,t[1]=r,t[2]=i,t[3]=n,t};Ne.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t};Ne.subtract=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t};Ne.sub=Ne.subtract;Ne.multiply=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t};Ne.mul=Ne.multiply;Ne.divide=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t};Ne.div=Ne.divide;Ne.min=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t};Ne.max=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t};Ne.scale=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t};Ne.scaleAndAdd=function(t,e,r,i){return t[0]=e[0]+r[0]*i,t[1]=e[1]+r[1]*i,t[2]=e[2]+r[2]*i,t[3]=e[3]+r[3]*i,t};Ne.distance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+i*i+n*n+a*a)};Ne.dist=Ne.distance;Ne.squaredDistance=function(t,e){var r=e[0]-t[0],i=e[1]-t[1],n=e[2]-t[2],a=e[3]-t[3];return r*r+i*i+n*n+a*a};Ne.sqrDist=Ne.squaredDistance;Ne.length=function(t){var e=t[0],r=t[1],i=t[2],n=t[3];return Math.sqrt(e*e+r*r+i*i+n*n)};Ne.len=Ne.length;Ne.squaredLength=function(t){var e=t[0],r=t[1],i=t[2],n=t[3];return e*e+r*r+i*i+n*n};Ne.sqrLen=Ne.squaredLength;Ne.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t};Ne.inverse=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t};Ne.normalize=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r*r+i*i+n*n+a*a;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s,t[3]=e[3]*s),t};Ne.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]};Ne.lerp=function(t,e,r,i){var n=e[0],a=e[1],s=e[2],o=e[3];return t[0]=n+i*(r[0]-n),t[1]=a+i*(r[1]-a),t[2]=s+i*(r[2]-s),t[3]=o+i*(r[3]-o),t};Ne.random=function(t,e){return e=e||1,t[0]=Ld(),t[1]=Ld(),t[2]=Ld(),t[3]=Ld(),Ne.normalize(t,t),Ne.scale(t,t,e),t};Ne.transformMat4=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3];return t[0]=r[0]*i+r[4]*n+r[8]*a+r[12]*s,t[1]=r[1]*i+r[5]*n+r[9]*a+r[13]*s,t[2]=r[2]*i+r[6]*n+r[10]*a+r[14]*s,t[3]=r[3]*i+r[7]*n+r[11]*a+r[15]*s,t};Ne.transformQuat=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=r[0],o=r[1],u=r[2],l=r[3],c=l*i+o*a-u*n,h=l*n+u*i-s*a,f=l*a+s*n-o*i,d=-s*i-o*n-u*a;return t[0]=c*l+d*-s+h*-u-f*-o,t[1]=h*l+d*-o+f*-s-c*-u,t[2]=f*l+d*-u+c*-o-h*-s,t};Ne.forEach=function(){var t=Ne.create();return function(e,r,i,n,a,s){var o,u;for(r||(r=4),i||(i=0),n?u=Math.min(n*r+i,e.length):u=e.length,o=i;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}();var vt={};vt.create=function(){var t=new mn(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t};vt.fromMat4=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t};vt.clone=function(t){var e=new mn(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e};vt.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t};vt.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t};vt.transpose=function(t,e){if(t===e){var r=e[1],i=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=i,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t};vt.invert=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],c=e[8],h=c*s-o*l,f=-c*a+o*u,d=l*a-s*u,p=r*h+i*f+n*d;return p?(p=1/p,t[0]=h*p,t[1]=(-c*i+n*l)*p,t[2]=(o*i-n*s)*p,t[3]=f*p,t[4]=(c*r-n*u)*p,t[5]=(-o*r+n*a)*p,t[6]=d*p,t[7]=(-l*r+i*u)*p,t[8]=(s*r-i*a)*p,t):null};vt.adjoint=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],c=e[8];return t[0]=s*c-o*l,t[1]=n*l-i*c,t[2]=i*o-n*s,t[3]=o*u-a*c,t[4]=r*c-n*u,t[5]=n*a-r*o,t[6]=a*l-s*u,t[7]=i*u-r*l,t[8]=r*s-i*a,t};vt.determinant=function(t){var e=t[0],r=t[1],i=t[2],n=t[3],a=t[4],s=t[5],o=t[6],u=t[7],l=t[8];return e*(l*a-s*u)+r*(-l*n+s*o)+i*(u*n-a*o)};vt.multiply=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=r[0],d=r[1],p=r[2],g=r[3],v=r[4],m=r[5],y=r[6],_=r[7],x=r[8];return t[0]=f*i+d*s+p*l,t[1]=f*n+d*o+p*c,t[2]=f*a+d*u+p*h,t[3]=g*i+v*s+m*l,t[4]=g*n+v*o+m*c,t[5]=g*a+v*u+m*h,t[6]=y*i+_*s+x*l,t[7]=y*n+_*o+x*c,t[8]=y*a+_*u+x*h,t};vt.mul=vt.multiply;vt.translate=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=r[0],d=r[1];return t[0]=i,t[1]=n,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t[6]=f*i+d*s+l,t[7]=f*n+d*o+c,t[8]=f*a+d*u+h,t};vt.rotate=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=Math.sin(r),d=Math.cos(r);return t[0]=d*i+f*s,t[1]=d*n+f*o,t[2]=d*a+f*u,t[3]=d*s-f*i,t[4]=d*o-f*n,t[5]=d*u-f*a,t[6]=l,t[7]=c,t[8]=h,t};vt.scale=function(t,e,r){var i=r[0],n=r[1];return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t};vt.fromMat2d=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t};vt.fromQuat=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r+r,o=i+i,u=n+n,l=r*s,c=i*s,h=i*o,f=n*s,d=n*o,p=n*u,g=a*s,v=a*o,m=a*u;return t[0]=1-h-p,t[3]=c-m,t[6]=f+v,t[1]=c+m,t[4]=1-l-p,t[7]=d-g,t[2]=f-v,t[5]=d+g,t[8]=1-l-h,t};vt.normalFromMat4=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],d=e[11],p=e[12],g=e[13],v=e[14],m=e[15],y=r*o-i*s,_=r*u-n*s,x=r*l-a*s,b=i*u-n*o,C=i*l-a*o,E=n*l-a*u,A=c*g-h*p,S=c*v-f*p,T=c*m-d*p,D=h*v-f*g,F=h*m-d*g,B=f*m-d*v,O=y*B-_*F+x*D+b*T-C*S+E*A;return O?(O=1/O,t[0]=(o*B-u*F+l*D)*O,t[1]=(u*T-s*B-l*S)*O,t[2]=(s*F-o*T+l*A)*O,t[3]=(n*F-i*B-a*D)*O,t[4]=(r*B-n*T+a*S)*O,t[5]=(i*T-r*F-a*A)*O,t[6]=(g*E-v*C+m*b)*O,t[7]=(v*x-p*E-m*_)*O,t[8]=(p*C-g*x+m*y)*O,t):null};vt.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))};var rt={};rt.create=function(){var t=new mn(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t};rt.rotationTo=function(){var t=oe.create(),e=oe.fromValues(1,0,0),r=oe.fromValues(0,1,0);return function(i,n,a){var s=oe.dot(n,a);return s<-.999999?(oe.cross(t,e,n),oe.length(t)<1e-6&&oe.cross(t,r,n),oe.normalize(t,t),rt.setAxisAngle(i,t,Math.PI),i):s>.999999?(i[0]=0,i[1]=0,i[2]=0,i[3]=1,i):(oe.cross(t,n,a),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1+s,rt.normalize(i,i))}}();rt.setAxes=function(){var t=vt.create();return function(e,r,i,n){return t[0]=i[0],t[3]=i[1],t[6]=i[2],t[1]=n[0],t[4]=n[1],t[7]=n[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],rt.normalize(e,rt.fromMat3(e,t))}}();rt.clone=Ne.clone;rt.fromValues=Ne.fromValues;rt.copy=Ne.copy;rt.set=Ne.set;rt.identity=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t};rt.setAxisAngle=function(t,e,r){r=r*.5;var i=Math.sin(r);return t[0]=i*e[0],t[1]=i*e[1],t[2]=i*e[2],t[3]=Math.cos(r),t};rt.add=Ne.add;rt.multiply=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=r[0],u=r[1],l=r[2],c=r[3];return t[0]=i*c+s*o+n*l-a*u,t[1]=n*c+s*u+a*o-i*l,t[2]=a*c+s*l+i*u-n*o,t[3]=s*c-i*o-n*u-a*l,t};rt.mul=rt.multiply;rt.scale=Ne.scale;rt.rotateX=function(t,e,r){r*=.5;var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u+s*o,t[1]=n*u+a*o,t[2]=a*u-n*o,t[3]=s*u-i*o,t};rt.rotateY=function(t,e,r){r*=.5;var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u-a*o,t[1]=n*u+s*o,t[2]=a*u+i*o,t[3]=s*u-n*o,t};rt.rotateZ=function(t,e,r){r*=.5;var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u+n*o,t[1]=n*u-i*o,t[2]=a*u+s*o,t[3]=s*u-a*o,t};rt.calculateW=function(t,e){var r=e[0],i=e[1],n=e[2];return t[0]=r,t[1]=i,t[2]=n,t[3]=Math.sqrt(Math.abs(1-r*r-i*i-n*n)),t};rt.dot=Ne.dot;rt.lerp=Ne.lerp;rt.slerp=function(t,e,r,i){var n=e[0],a=e[1],s=e[2],o=e[3],u=r[0],l=r[1],c=r[2],h=r[3],f,d,p,g,v;return d=n*u+a*l+s*c+o*h,d<0&&(d=-d,u=-u,l=-l,c=-c,h=-h),1-d>1e-6?(f=Math.acos(d),p=Math.sin(f),g=Math.sin((1-i)*f)/p,v=Math.sin(i*f)/p):(g=1-i,v=i),t[0]=g*n+v*u,t[1]=g*a+v*l,t[2]=g*s+v*c,t[3]=g*o+v*h,t};rt.invert=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r*r+i*i+n*n+a*a,o=s?1/s:0;return t[0]=-r*o,t[1]=-i*o,t[2]=-n*o,t[3]=a*o,t};rt.conjugate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t};rt.length=Ne.length;rt.len=rt.length;rt.squaredLength=Ne.squaredLength;rt.sqrLen=rt.squaredLength;rt.normalize=Ne.normalize;rt.fromMat3=function(t,e){var r=e[0]+e[4]+e[8],i;if(r>0)i=Math.sqrt(r+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{var n=0;e[4]>e[0]&&(n=1),e[8]>e[n*3+n]&&(n=2);var a=(n+1)%3,s=(n+2)%3;i=Math.sqrt(e[n*3+n]-e[a*3+a]-e[s*3+s]+1),t[n]=.5*i,i=.5/i,t[3]=(e[a*3+s]-e[s*3+a])*i,t[a]=(e[a*3+n]+e[n*3+a])*i,t[s]=(e[s*3+n]+e[n*3+s])*i}return t};var Qe=function(){this._axisX=new Fe,this._axisY=new Fe,this._axisZ=new Fe,this.array=ke.create(),this._dirty=!0};Qe.prototype={constructor:Qe,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return ke.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new Qe().copy(this)},copy:function(t){return ke.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return ke.determinant(this.array)},fromQuat:function(t){return ke.fromQuat(this.array,t.array),this._dirty=!0,this},fromRotationTranslation:function(t,e){return ke.fromRotationTranslation(this.array,t.array,e.array),this._dirty=!0,this},fromMat2d:function(t){return Qe.fromMat2d(this,t),this},frustum:function(t,e,r,i,n,a){return ke.frustum(this.array,t,e,r,i,n,a),this._dirty=!0,this},identity:function(){return ke.identity(this.array),this._dirty=!0,this},invert:function(){return ke.invert(this.array,this.array),this._dirty=!0,this},lookAt:function(t,e,r){return ke.lookAt(this.array,t.array,e.array,r.array),this._dirty=!0,this},mul:function(t){return ke.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return ke.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return ke.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return ke.multiply(this.array,t.array,this.array),this._dirty=!0,this},ortho:function(t,e,r,i,n,a){return ke.ortho(this.array,t,e,r,i,n,a),this._dirty=!0,this},perspective:function(t,e,r,i){return ke.perspective(this.array,t,e,r,i),this._dirty=!0,this},rotate:function(t,e){return ke.rotate(this.array,this.array,t,e.array),this._dirty=!0,this},rotateX:function(t){return ke.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return ke.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return ke.rotateZ(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return ke.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return ke.translate(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return ke.transpose(this.array,this.array),this._dirty=!0,this},decomposeMatrix:function(){var t=oe.create(),e=oe.create(),r=oe.create(),i=vt.create();return function(n,a,s){var o=this.array;oe.set(t,o[0],o[1],o[2]),oe.set(e,o[4],o[5],o[6]),oe.set(r,o[8],o[9],o[10]);var u=oe.length(t),l=oe.length(e),c=oe.length(r),h=this.determinant();h<0&&(u=-u),n&&n.set(u,l,c),s.set(o[12],o[13],o[14]),vt.fromMat4(i,o),i[0]/=u,i[1]/=u,i[2]/=u,i[3]/=l,i[4]/=l,i[5]/=l,i[6]/=c,i[7]/=c,i[8]/=c,rt.fromMat3(a.array,i),rt.normalize(a.array,a.array),a._dirty=!0,s._dirty=!0}}(),toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var q_=Object.defineProperty;if(q_){var sT=Qe.prototype;q_(sT,"z",{get:function(){var t=this.array;return this._axisZ.set(t[8],t[9],t[10]),this._axisZ},set:function(t){var e=this.array;t=t.array,e[8]=t[0],e[9]=t[1],e[10]=t[2],this._dirty=!0}}),q_(sT,"y",{get:function(){var t=this.array;return this._axisY.set(t[4],t[5],t[6]),this._axisY},set:function(t){var e=this.array;t=t.array,e[4]=t[0],e[5]=t[1],e[6]=t[2],this._dirty=!0}}),q_(sT,"x",{get:function(){var t=this.array;return this._axisX.set(t[0],t[1],t[2]),this._axisX},set:function(t){var e=this.array;t=t.array,e[0]=t[0],e[1]=t[1],e[2]=t[2],this._dirty=!0}})}Qe.adjoint=function(t,e){return ke.adjoint(t.array,e.array),t._dirty=!0,t};Qe.copy=function(t,e){return ke.copy(t.array,e.array),t._dirty=!0,t};Qe.determinant=function(t){return ke.determinant(t.array)};Qe.identity=function(t){return ke.identity(t.array),t._dirty=!0,t};Qe.ortho=function(t,e,r,i,n,a,s){return ke.ortho(t.array,e,r,i,n,a,s),t._dirty=!0,t};Qe.perspective=function(t,e,r,i,n){return ke.perspective(t.array,e,r,i,n),t._dirty=!0,t};Qe.lookAt=function(t,e,r,i){return ke.lookAt(t.array,e.array,r.array,i.array),t._dirty=!0,t};Qe.invert=function(t,e){return ke.invert(t.array,e.array),t._dirty=!0,t};Qe.mul=function(t,e,r){return ke.mul(t.array,e.array,r.array),t._dirty=!0,t};Qe.multiply=Qe.mul;Qe.fromQuat=function(t,e){return ke.fromQuat(t.array,e.array),t._dirty=!0,t};Qe.fromRotationTranslation=function(t,e,r){return ke.fromRotationTranslation(t.array,e.array,r.array),t._dirty=!0,t};Qe.fromMat2d=function(i,r){i._dirty=!0;var r=r.array,i=i.array;return i[0]=r[0],i[4]=r[2],i[12]=r[4],i[1]=r[1],i[5]=r[3],i[13]=r[5],i};Qe.rotate=function(t,e,r,i){return ke.rotate(t.array,e.array,r,i.array),t._dirty=!0,t};Qe.rotateX=function(t,e,r){return ke.rotateX(t.array,e.array,r),t._dirty=!0,t};Qe.rotateY=function(t,e,r){return ke.rotateY(t.array,e.array,r),t._dirty=!0,t};Qe.rotateZ=function(t,e,r){return ke.rotateZ(t.array,e.array,r),t._dirty=!0,t};Qe.scale=function(t,e,r){return ke.scale(t.array,e.array,r.array),t._dirty=!0,t};Qe.transpose=function(t,e){return ke.transpose(t.array,e.array),t._dirty=!0,t};Qe.translate=function(t,e,r){return ke.translate(t.array,e.array,r.array),t._dirty=!0,t};var gr=function(t,e,r,i){t=t||0,e=e||0,r=r||0,i=i===void 0?1:i,this.array=rt.fromValues(t,e,r,i),this._dirty=!0};gr.prototype={constructor:gr,add:function(t){return rt.add(this.array,this.array,t.array),this._dirty=!0,this},calculateW:function(){return rt.calculateW(this.array,this.array),this._dirty=!0,this},set:function(t,e,r,i){return this.array[0]=t,this.array[1]=e,this.array[2]=r,this.array[3]=i,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new gr(this.x,this.y,this.z,this.w)},conjugate:function(){return rt.conjugate(this.array,this.array),this._dirty=!0,this},copy:function(t){return rt.copy(this.array,t.array),this._dirty=!0,this},dot:function(t){return rt.dot(this.array,t.array)},fromMat3:function(t){return rt.fromMat3(this.array,t.array),this._dirty=!0,this},fromMat4:function(){var t=vt.create();return function(e){return vt.fromMat4(t,e.array),vt.transpose(t,t),rt.fromMat3(this.array,t),this._dirty=!0,this}}(),identity:function(){return rt.identity(this.array),this._dirty=!0,this},invert:function(){return rt.invert(this.array,this.array),this._dirty=!0,this},len:function(){return rt.len(this.array)},length:function(){return rt.length(this.array)},lerp:function(t,e,r){return rt.lerp(this.array,t.array,e.array,r),this._dirty=!0,this},mul:function(t){return rt.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return rt.multiply(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return rt.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return rt.multiply(this.array,t.array,this.array),this._dirty=!0,this},normalize:function(){return rt.normalize(this.array,this.array),this._dirty=!0,this},rotateX:function(t){return rt.rotateX(this.array,this.array,t),this._dirty=!0,this},rotateY:function(t){return rt.rotateY(this.array,this.array,t),this._dirty=!0,this},rotateZ:function(t){return rt.rotateZ(this.array,this.array,t),this._dirty=!0,this},rotationTo:function(t,e){return rt.rotationTo(this.array,t.array,e.array),this._dirty=!0,this},setAxes:function(t,e,r){return rt.setAxes(this.array,t.array,e.array,r.array),this._dirty=!0,this},setAxisAngle:function(t,e){return rt.setAxisAngle(this.array,t.array,e),this._dirty=!0,this},slerp:function(t,e,r){return rt.slerp(this.array,t.array,e.array,r),this._dirty=!0,this},sqrLen:function(){return rt.sqrLen(this.array)},squaredLength:function(){return rt.squaredLength(this.array)},fromEuler:function(t,e){return gr.fromEuler(this,t,e)},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Rv=Object.defineProperty;if(Rv){var X_=gr.prototype;Rv(X_,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Rv(X_,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),Rv(X_,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),Rv(X_,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}gr.add=function(t,e,r){return rt.add(t.array,e.array,r.array),t._dirty=!0,t};gr.set=function(t,e,r,i,n){rt.set(t.array,e,r,i,n),t._dirty=!0};gr.copy=function(t,e){return rt.copy(t.array,e.array),t._dirty=!0,t};gr.calculateW=function(t,e){return rt.calculateW(t.array,e.array),t._dirty=!0,t};gr.conjugate=function(t,e){return rt.conjugate(t.array,e.array),t._dirty=!0,t};gr.identity=function(t){return rt.identity(t.array),t._dirty=!0,t};gr.invert=function(t,e){return rt.invert(t.array,e.array),t._dirty=!0,t};gr.dot=function(t,e){return rt.dot(t.array,e.array)};gr.len=function(t){return rt.length(t.array)};gr.lerp=function(t,e,r,i){return rt.lerp(t.array,e.array,r.array,i),t._dirty=!0,t};gr.slerp=function(t,e,r,i){return rt.slerp(t.array,e.array,r.array,i),t._dirty=!0,t};gr.mul=function(t,e,r){return rt.multiply(t.array,e.array,r.array),t._dirty=!0,t};gr.multiply=gr.mul;gr.rotateX=function(t,e,r){return rt.rotateX(t.array,e.array,r),t._dirty=!0,t};gr.rotateY=function(t,e,r){return rt.rotateY(t.array,e.array,r),t._dirty=!0,t};gr.rotateZ=function(t,e,r){return rt.rotateZ(t.array,e.array,r),t._dirty=!0,t};gr.setAxisAngle=function(t,e,r){return rt.setAxisAngle(t.array,e.array,r),t._dirty=!0,t};gr.normalize=function(t,e){return rt.normalize(t.array,e.array),t._dirty=!0,t};gr.sqrLen=function(t){return rt.sqrLen(t.array)};gr.squaredLength=gr.sqrLen;gr.fromMat3=function(t,e){return rt.fromMat3(t.array,e.array),t._dirty=!0,t};gr.setAxes=function(t,e,r,i){return rt.setAxes(t.array,e.array,r.array,i.array),t._dirty=!0,t};gr.rotationTo=function(t,e,r){return rt.rotationTo(t.array,e.array,r.array),t._dirty=!0,t};gr.fromEuler=function(t,e,c){t._dirty=!0,e=e.array;var i=t.array,n=Math.cos(e[0]/2),a=Math.cos(e[1]/2),s=Math.cos(e[2]/2),o=Math.sin(e[0]/2),u=Math.sin(e[1]/2),l=Math.sin(e[2]/2),c=(c||"XYZ").toUpperCase();switch(c){case"XYZ":i[0]=o*a*s+n*u*l,i[1]=n*u*s-o*a*l,i[2]=n*a*l+o*u*s,i[3]=n*a*s-o*u*l;break;case"YXZ":i[0]=o*a*s+n*u*l,i[1]=n*u*s-o*a*l,i[2]=n*a*l-o*u*s,i[3]=n*a*s+o*u*l;break;case"ZXY":i[0]=o*a*s-n*u*l,i[1]=n*u*s+o*a*l,i[2]=n*a*l+o*u*s,i[3]=n*a*s-o*u*l;break;case"ZYX":i[0]=o*a*s-n*u*l,i[1]=n*u*s+o*a*l,i[2]=n*a*l-o*u*s,i[3]=n*a*s+o*u*l;break;case"YZX":i[0]=o*a*s+n*u*l,i[1]=n*u*s+o*a*l,i[2]=n*a*l-o*u*s,i[3]=n*a*s-o*u*l;break;case"XZY":i[0]=o*a*s-n*u*l,i[1]=n*u*s-o*a*l,i[2]=n*a*l+o*u*s,i[3]=n*a*s+o*u*l;break}};var Wl=oe.set,Z_=oe.copy,cn=function(t,e){this.min=t||new Fe(1/0,1/0,1/0),this.max=e||new Fe(-1/0,-1/0,-1/0),this.vertices=null};cn.prototype={constructor:cn,updateFromVertices:function(t){if(t.length>0){var e=this.min,r=this.max,i=e.array,n=r.array;Z_(i,t[0]),Z_(n,t[0]);for(var a=1;a<t.length;a++){var s=t[a];s[0]<i[0]&&(i[0]=s[0]),s[1]<i[1]&&(i[1]=s[1]),s[2]<i[2]&&(i[2]=s[2]),s[0]>n[0]&&(n[0]=s[0]),s[1]>n[1]&&(n[1]=s[1]),s[2]>n[2]&&(n[2]=s[2])}e._dirty=!0,r._dirty=!0}},union:function(t){var e=this.min,r=this.max;return oe.min(e.array,e.array,t.min.array),oe.max(r.array,r.array,t.max.array),e._dirty=!0,r._dirty=!0,this},intersection:function(t){var e=this.min,r=this.max;return oe.max(e.array,e.array,t.min.array),oe.min(r.array,r.array,t.max.array),e._dirty=!0,r._dirty=!0,this},intersectBoundingBox:function(t){var e=this.min.array,r=this.max.array,i=t.min.array,n=t.max.array;return!(e[0]>n[0]||e[1]>n[1]||e[2]>n[2]||r[0]<i[0]||r[1]<i[1]||r[2]<i[2])},containBoundingBox:function(t){var e=this.min.array,r=this.max.array,i=t.min.array,n=t.max.array;return e[0]<=i[0]&&e[1]<=i[1]&&e[2]<=i[2]&&r[0]>=n[0]&&r[1]>=n[1]&&r[2]>=n[2]},containPoint:function(t){var e=this.min.array,r=this.max.array,i=t.array;return e[0]<=i[0]&&e[1]<=i[1]&&e[2]<=i[2]&&r[0]>=i[0]&&r[1]>=i[1]&&r[2]>=i[2]},isFinite:function(){var t=this.min.array,e=this.max.array;return isFinite(t[0])&&isFinite(t[1])&&isFinite(t[2])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(e[2])},applyTransform:function(t){this.transformFrom(this,t)},transformFrom:function(){var t=oe.create(),e=oe.create(),r=oe.create(),i=oe.create(),n=oe.create(),a=oe.create();return function(s,o){var u=s.min.array,l=s.max.array,c=o.array;return t[0]=c[0]*u[0],t[1]=c[1]*u[0],t[2]=c[2]*u[0],e[0]=c[0]*l[0],e[1]=c[1]*l[0],e[2]=c[2]*l[0],r[0]=c[4]*u[1],r[1]=c[5]*u[1],r[2]=c[6]*u[1],i[0]=c[4]*l[1],i[1]=c[5]*l[1],i[2]=c[6]*l[1],n[0]=c[8]*u[2],n[1]=c[9]*u[2],n[2]=c[10]*u[2],a[0]=c[8]*l[2],a[1]=c[9]*l[2],a[2]=c[10]*l[2],u=this.min.array,l=this.max.array,u[0]=Math.min(t[0],e[0])+Math.min(r[0],i[0])+Math.min(n[0],a[0])+c[12],u[1]=Math.min(t[1],e[1])+Math.min(r[1],i[1])+Math.min(n[1],a[1])+c[13],u[2]=Math.min(t[2],e[2])+Math.min(r[2],i[2])+Math.min(n[2],a[2])+c[14],l[0]=Math.max(t[0],e[0])+Math.max(r[0],i[0])+Math.max(n[0],a[0])+c[12],l[1]=Math.max(t[1],e[1])+Math.max(r[1],i[1])+Math.max(n[1],a[1])+c[13],l[2]=Math.max(t[2],e[2])+Math.max(r[2],i[2])+Math.max(n[2],a[2])+c[14],this.min._dirty=!0,this.max._dirty=!0,this}}(),applyProjection:function(t){var e=this.min.array,r=this.max.array,i=t.array,n=e[0],a=e[1],s=e[2],o=r[0],u=r[1],l=e[2],c=r[0],h=r[1],f=r[2];if(i[15]===1)e[0]=i[0]*n+i[12],e[1]=i[5]*a+i[13],r[2]=i[10]*s+i[14],r[0]=i[0]*c+i[12],r[1]=i[5]*h+i[13],e[2]=i[10]*f+i[14];else{var d=-1/s;e[0]=i[0]*n*d,e[1]=i[5]*a*d,r[2]=(i[10]*s+i[14])*d,d=-1/l,r[0]=i[0]*o*d,r[1]=i[5]*u*d,d=-1/f,e[2]=(i[10]*f+i[14])*d}return this.min._dirty=!0,this.max._dirty=!0,this},updateVertices:function(){var t=this.vertices;if(!t){t=[];for(var e=0;e<8;e++)t[e]=oe.fromValues(0,0,0);this.vertices=t}var r=this.min.array,i=this.max.array;return Wl(t[0],r[0],r[1],r[2]),Wl(t[1],r[0],i[1],r[2]),Wl(t[2],i[0],r[1],r[2]),Wl(t[3],i[0],i[1],r[2]),Wl(t[4],r[0],r[1],i[2]),Wl(t[5],r[0],i[1],i[2]),Wl(t[6],i[0],r[1],i[2]),Wl(t[7],i[0],i[1],i[2]),this},copy:function(t){var e=this.min,r=this.max;return Z_(e.array,t.min.array),Z_(r.array,t.max.array),e._dirty=!0,r._dirty=!0,this},clone:function(){var t=new cn;return t.copy(this),t}};var aLe=0,lu=vn.extend({name:"",position:null,rotation:null,scale:null,worldTransform:null,localTransform:null,autoUpdateLocalTransform:!0,_parent:null,_scene:null,_needsUpdateWorldTransform:!0,_inIterating:!1,__depth:0},function(){this.name||(this.name=(this.type||"NODE")+"_"+aLe++),this.position||(this.position=new Fe),this.rotation||(this.rotation=new gr),this.scale||(this.scale=new Fe(1,1,1)),this.worldTransform=new Qe,this.localTransform=new Qe,this._children=[]},{target:null,invisible:!1,isSkinnedMesh:function(){return!1},isRenderable:function(){return!1},setName:function(t){var e=this._scene;if(e){var r=e._nodeRepository;delete r[this.name],r[t]=this}this.name=t},add:function(t){var e=t._parent;if(e!==this){e&&e.remove(t),t._parent=this,this._children.push(t);var r=this._scene;r&&r!==t.scene&&t.traverse(this._addSelfToScene,this),t._needsUpdateWorldTransform=!0}},remove:function(t){var e=this._children,r=e.indexOf(t);r<0||(e.splice(r,1),t._parent=null,this._scene&&t.traverse(this._removeSelfFromScene,this))},removeAll:function(){for(var t=this._children,e=0;e<t.length;e++)t[e]._parent=null,this._scene&&t[e].traverse(this._removeSelfFromScene,this);this._children=[]},getScene:function(){return this._scene},getParent:function(){return this._parent},_removeSelfFromScene:function(t){t._scene.removeFromScene(t),t._scene=null},_addSelfToScene:function(t){this._scene.addToScene(t),t._scene=this._scene},isAncestor:function(t){for(var e=t._parent;e;){if(e===this)return!0;e=e._parent}return!1},children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},getChildByName:function(t){for(var e=this._children,r=0;r<e.length;r++)if(e[r].name===t)return e[r]},getDescendantByName:function(t){for(var e=this._children,r=0;r<e.length;r++){var i=e[r];if(i.name===t)return i;var n=i.getDescendantByName(t);if(n)return n}},queryNode:function(t){if(t){for(var e=t.split("/"),r=this,i=0;i<e.length;i++){var n=e[i];if(n){for(var a=!1,s=r._children,o=0;o<s.length;o++){var u=s[o];if(u.name===n){r=u,a=!0;break}}if(!a)return}}return r}},getPath:function(t){if(!this._parent)return"/";for(var e=this._parent,r=this.name;e._parent&&(r=e.name+"/"+r,e._parent!=t);)e=e._parent;return!e._parent&&t?null:r},traverse:function(t,e){t.call(e,this);for(var r=this._children,i=0,n=r.length;i<n;i++)r[i].traverse(t,e)},eachChild:function(t,e){for(var r=this._children,i=0,n=r.length;i<n;i++){var a=r[i];t.call(e,a,i)}},setLocalTransform:function(t){ke.copy(this.localTransform.array,t.array),this.decomposeLocalTransform()},decomposeLocalTransform:function(t){var e=t?null:this.scale;this.localTransform.decomposeMatrix(e,this.rotation,this.position)},setWorldTransform:function(t){ke.copy(this.worldTransform.array,t.array),this.decomposeWorldTransform()},decomposeWorldTransform:function(){var t=ke.create();return function(e){var r=this.localTransform,i=this.worldTransform;this._parent?(ke.invert(t,this._parent.worldTransform.array),ke.multiply(r.array,t,i.array)):ke.copy(r.array,i.array);var n=e?null:this.scale;r.decomposeMatrix(n,this.rotation,this.position)}}(),transformNeedsUpdate:function(){return this.position._dirty||this.rotation._dirty||this.scale._dirty},updateLocalTransform:function(){var t=this.position,e=this.rotation,r=this.scale;if(this.transformNeedsUpdate()){var i=this.localTransform.array;ke.fromRotationTranslation(i,e.array,t.array),ke.scale(i,i,r.array),e._dirty=!1,r._dirty=!1,t._dirty=!1,this._needsUpdateWorldTransform=!0}},_updateWorldTransformTopDown:function(){var t=this.localTransform.array,e=this.worldTransform.array;this._parent?ke.multiplyAffine(e,this._parent.worldTransform.array,t):ke.copy(e,t)},updateWorldTransform:function(){for(var t=this;t&&t.getParent()&&t.getParent().transformNeedsUpdate();)t=t.getParent();t.update()},update:function(t){this.autoUpdateLocalTransform?this.updateLocalTransform():t=!0,(t||this._needsUpdateWorldTransform)&&(this._updateWorldTransformTopDown(),t=!0,this._needsUpdateWorldTransform=!1);for(var e=this._children,r=0,i=e.length;r<i;r++)e[r].update(t)},getBoundingBox:function(){function t(n){return!n.invisible&&n.geometry}var e=new cn,r=new Qe,i=new Qe;return function(n,a){return a=a||new cn,this._parent?Qe.invert(i,this._parent.worldTransform):Qe.identity(i),this.traverse(function(s){s.geometry&&s.geometry.boundingBox&&(e.copy(s.geometry.boundingBox),Qe.multiply(r,i,s.worldTransform),e.applyTransform(r),a.union(e))},this,t),a}}(),getWorldPosition:function(t){this.transformNeedsUpdate()&&this.updateWorldTransform();var e=this.worldTransform.array;if(t){var r=t.array;return r[0]=e[12],r[1]=e[13],r[2]=e[14],t}else return new Fe(e[12],e[13],e[14])},clone:function(){var t=new this.constructor,e=this._children;t.setName(this.name),t.position.copy(this.position),t.rotation.copy(this.rotation),t.scale.copy(this.scale);for(var r=0;r<e.length;r++)t.add(e[r].clone());return t},rotateAround:function(){var t=new Fe,e=new Qe;return function(r,i,n){t.copy(this.position).subtract(r);var a=this.localTransform;a.identity(),a.translate(r),a.rotate(n,i),e.fromRotationTranslation(this.rotation,t),a.multiply(e),a.scale(this.scale),this.decomposeLocalTransform(),this._needsUpdateWorldTransform=!0}}(),lookAt:function(){var t=new Qe;return function(e,r){t.lookAt(this.position,e,r||this.localTransform.y).invert(),this.setLocalTransform(t),this.target=e}}()}),ga=lu.extend({material:null,geometry:null,mode:Re.TRIANGLES,_renderInfo:null},{__program:null,lightGroup:0,renderOrder:0,culling:!0,cullFace:Re.BACK,frontFace:Re.CCW,frustumCulling:!0,receiveShadow:!0,castShadow:!0,ignorePicking:!1,ignorePreZ:!1,ignoreGBuffer:!1,isRenderable:function(){return this.geometry&&this.material&&this.material.shader&&!this.invisible&&this.geometry.vertexCount>0},beforeRender:function(t){},afterRender:function(t,e){},getBoundingBox:function(t,e){return e=lu.prototype.getBoundingBox.call(this,t,e),this.geometry&&this.geometry.boundingBox&&e.union(this.geometry.boundingBox),e},clone:function(){var t=["castShadow","receiveShadow","mode","culling","cullFace","frontFace","frustumCulling","renderOrder","lineWidth","ignorePicking","ignorePreZ","ignoreGBuffer"];return function(){var e=lu.prototype.clone.call(this);e.geometry=this.geometry,e.material=this.material;for(var r=0;r<t.length;r++){var i=t[r];e[i]!==this[i]&&(e[i]=this[i])}return e}}()});ga.POINTS=Re.POINTS;ga.LINES=Re.LINES;ga.LINE_LOOP=Re.LINE_LOOP;ga.LINE_STRIP=Re.LINE_STRIP;ga.TRIANGLES=Re.TRIANGLES;ga.TRIANGLE_STRIP=Re.TRIANGLE_STRIP;ga.TRIANGLE_FAN=Re.TRIANGLE_FAN;ga.BACK=Re.BACK;ga.FRONT=Re.FRONT;ga.FRONT_AND_BACK=Re.FRONT_AND_BACK;ga.CW=Re.CW;ga.CCW=Re.CCW;var sI=vn.extend({scene:null,camera:null,renderer:null},function(){this._ray=new Nh,this._ndc=new Tt},{pick:function(t,e,r){var i=this.pickAll(t,e,[],r);return i[0]||null},pickAll:function(t,e,r,i){return this.renderer.screenToNDC(t,e,this._ndc),this.camera.castRay(this._ndc,this._ray),r=r||[],this._intersectNode(this.scene,r,i||!1),r.sort(this._intersectionCompareFunc),r},_intersectNode:function(t,e,r){t instanceof ga&&t.isRenderable()&&(!t.ignorePicking||r)&&(t.mode===Re.TRIANGLES&&t.geometry.isUseIndices()||t.geometry.pickByRay||t.geometry.pick)&&this._intersectRenderable(t,e);for(var i=0;i<t._children.length;i++)this._intersectNode(t._children[i],e,r)},_intersectRenderable:function(){var t=new Fe,e=new Fe,r=new Fe,i=new Nh,n=new Qe;return function(a,s){var o=a.isSkinnedMesh();i.copy(this._ray),Qe.invert(n,a.worldTransform),o||i.applyTransform(n);var u=a.geometry,l=o?a.skeleton.boundingBox:u.boundingBox;if(!(l&&!i.intersectBoundingBox(l))){if(u.pick){u.pick(this._ndc.x,this._ndc.y,this.renderer,this.camera,a,s);return}else if(u.pickByRay){u.pickByRay(i,a,s);return}var c=a.cullFace===Re.BACK&&a.frontFace===Re.CCW||a.cullFace===Re.FRONT&&a.frontFace===Re.CW,h,f=u.indices,d=u.attributes.position,p=u.attributes.weight,g=u.attributes.joint,v,m=[];if(!(!d||!d.value||!f)){if(o){v=a.skeleton.getSubSkinMatrices(a.__uid__,a.joints);for(var y=0;y<a.joints.length;y++){m[y]=m[y]||[];for(var _=0;_<16;_++)m[y][_]=v[y*16+_]}var x=[],b=[],C=[],E=[],A=[],S=u.attributes.skinnedPosition;(!S||!S.value)&&(u.createAttribute("skinnedPosition","f",3),S=u.attributes.skinnedPosition,S.init(u.vertexCount));for(var y=0;y<u.vertexCount;y++){d.get(y,x),p.get(y,b),g.get(y,C),b[3]=1-b[0]-b[1]-b[2],oe.set(E,0,0,0);for(var _=0;_<4;_++)C[_]>=0&&b[_]>1e-4&&(oe.transformMat4(A,x,m[C[_]]),oe.scaleAndAdd(E,E,A,b[_]));S.set(y,E)}}for(var y=0;y<f.length;y+=3){var T=f[y],D=f[y+1],F=f[y+2],B=o?u.attributes.skinnedPosition:d;if(B.get(T,t.array),B.get(D,e.array),B.get(F,r.array),c?h=i.intersectTriangle(t,e,r,a.culling):h=i.intersectTriangle(t,r,e,a.culling),h){var O=new Fe;o?Fe.copy(O,h):Fe.transformMat4(O,h,a.worldTransform),s.push(new sI.Intersection(h,O,a,[T,D,F],y/3,Fe.dist(O,this._ray.origin)))}}}}}}(),_intersectionCompareFunc:function(t,e){return t.distance-e.distance}});sI.Intersection=function(t,e,r,i,n,a){this.point=t,this.pointWorld=e,this.target=r,this.triangle=i,this.triangleIndex=n,this.distance=a};var Nv="__dt__",Lp=function(){this._contextId=0,this._caches=[],this._context={}};Lp.prototype={use:function(t,e){var r=this._caches;r[t]||(r[t]={},e&&(r[t]=e())),this._contextId=t,this._context=r[t]},put:function(t,e){this._context[t]=e},get:function(t){return this._context[t]},dirty:function(t){t=t||"";var e=Nv+t;this.put(e,!0)},dirtyAll:function(t){t=t||"";for(var e=Nv+t,r=this._caches,i=0;i<r.length;i++)r[i]&&(r[i][e]=!0)},fresh:function(t){t=t||"";var e=Nv+t;this.put(e,!1)},freshAll:function(t){t=t||"";for(var e=Nv+t,r=this._caches,i=0;i<r.length;i++)r[i]&&(r[i][e]=!1)},isDirty:function(t){t=t||"";var e=Nv+t,r=this._context;return!r.hasOwnProperty(e)||r[e]===!0},deleteContext:function(t){delete this._caches[t],this._context={}},delete:function(t){delete this._context[t]},clearAll:function(){this._caches={}},getContext:function(){return this._context},eachContext:function(t,e){var r=Object.keys(this._caches);r.forEach(function(i){t&&t.call(e,i)})},miss:function(t){return!this._context.hasOwnProperty(t)}};Lp.prototype.constructor=Lp;var We=vn.extend({width:512,height:512,type:Re.UNSIGNED_BYTE,format:Re.RGBA,wrapS:Re.REPEAT,wrapT:Re.REPEAT,minFilter:Re.LINEAR_MIPMAP_LINEAR,magFilter:Re.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,sRGB:!0,unpackAlignment:4,premultiplyAlpha:!1,dynamic:!1,NPOT:!1,__used:0},function(){this._cache=new Lp},{getWebGLTexture:function(t){var e=t.gl,r=this._cache;return r.use(t.__uid__),r.miss("webgl_texture")&&r.put("webgl_texture",e.createTexture()),this.dynamic?this.update(t):r.isDirty()&&(this.update(t),r.fresh()),r.get("webgl_texture")},bind:function(){},unbind:function(){},dirty:function(){this._cache&&this._cache.dirtyAll()},update:function(t){},updateCommon:function(t){var e=t.gl;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,this.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,this.unpackAlignment),this.format===Re.DEPTH_COMPONENT&&(this.useMipmap=!1);var r=t.getGLExtension("EXT_sRGB");this.format===We.SRGB&&!r&&(this.format=We.RGB),this.format===We.SRGB_ALPHA&&!r&&(this.format=We.RGBA),this.NPOT=!this.isPowerOfTwo()},getAvailableWrapS:function(){return this.NPOT?Re.CLAMP_TO_EDGE:this.wrapS},getAvailableWrapT:function(){return this.NPOT?Re.CLAMP_TO_EDGE:this.wrapT},getAvailableMinFilter:function(){var t=this.minFilter;return this.NPOT||!this.useMipmap?t===Re.NEAREST_MIPMAP_NEAREST||t===Re.NEAREST_MIPMAP_LINEAR?Re.NEAREST:t===Re.LINEAR_MIPMAP_LINEAR||t===Re.LINEAR_MIPMAP_NEAREST?Re.LINEAR:t:t},getAvailableMagFilter:function(){return this.magFilter},nextHighestPowerOfTwo:function(t){--t;for(var e=1;e<32;e<<=1)t=t|t>>e;return t+1},dispose:function(t){var e=this._cache;e.use(t.__uid__);var r=e.get("webgl_texture");r&&t.gl.deleteTexture(r),e.deleteContext(t.__uid__)},isRenderable:function(){},isPowerOfTwo:function(){}});Object.defineProperty(We.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t}});Object.defineProperty(We.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t}});We.BYTE=Re.BYTE;We.UNSIGNED_BYTE=Re.UNSIGNED_BYTE;We.SHORT=Re.SHORT;We.UNSIGNED_SHORT=Re.UNSIGNED_SHORT;We.INT=Re.INT;We.UNSIGNED_INT=Re.UNSIGNED_INT;We.FLOAT=Re.FLOAT;We.HALF_FLOAT=36193;We.UNSIGNED_INT_24_8_WEBGL=34042;We.DEPTH_COMPONENT=Re.DEPTH_COMPONENT;We.DEPTH_STENCIL=Re.DEPTH_STENCIL;We.ALPHA=Re.ALPHA;We.RGB=Re.RGB;We.RGBA=Re.RGBA;We.LUMINANCE=Re.LUMINANCE;We.LUMINANCE_ALPHA=Re.LUMINANCE_ALPHA;We.SRGB=35904;We.SRGB_ALPHA=35906;We.COMPRESSED_RGB_S3TC_DXT1_EXT=33776;We.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777;We.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778;We.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779;We.NEAREST=Re.NEAREST;We.LINEAR=Re.LINEAR;We.NEAREST_MIPMAP_NEAREST=Re.NEAREST_MIPMAP_NEAREST;We.LINEAR_MIPMAP_NEAREST=Re.LINEAR_MIPMAP_NEAREST;We.NEAREST_MIPMAP_LINEAR=Re.NEAREST_MIPMAP_LINEAR;We.LINEAR_MIPMAP_LINEAR=Re.LINEAR_MIPMAP_LINEAR;We.REPEAT=Re.REPEAT;We.CLAMP_TO_EDGE=Re.CLAMP_TO_EDGE;We.MIRRORED_REPEAT=Re.MIRRORED_REPEAT;var Vi=ga.extend({skeleton:null,joints:null},function(){this.joints||(this.joints=[])},{offsetMatrix:null,isInstancedMesh:function(){return!1},isSkinnedMesh:function(){return!!(this.skeleton&&this.joints&&this.joints.length>0)},clone:function(){var t=ga.prototype.clone.call(this);return t.skeleton=this.skeleton,this.joints&&(t.joints=this.joints.slice()),t}});Vi.POINTS=Re.POINTS;Vi.LINES=Re.LINES;Vi.LINE_LOOP=Re.LINE_LOOP;Vi.LINE_STRIP=Re.LINE_STRIP;Vi.TRIANGLES=Re.TRIANGLES;Vi.TRIANGLE_STRIP=Re.TRIANGLE_STRIP;Vi.TRIANGLE_FAN=Re.TRIANGLE_FAN;Vi.BACK=Re.BACK;Vi.FRONT=Re.FRONT;Vi.FRONT_AND_BACK=Re.FRONT_AND_BACK;Vi.CW=Re.CW;Vi.CCW=Re.CCW;var Vm={};Vm.isPowerOfTwo=function(t){return(t&t-1)===0};Vm.nextPowerOfTwo=function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t++,t};Vm.nearestPowerOfTwo=function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))};var mU=Vm.isPowerOfTwo;function yU(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function sLe(t,e){var r=yU(t.width),i=yU(t.height);e=e||document.createElement("canvas"),e.width=r,e.height=i;var n=e.getContext("2d");return n.drawImage(t.image,0,0,r,i),e}var Rt=We.extend(function(){return{image:null,pixels:null,mipmaps:[],convertToPOT:!1}},{textureType:"texture2D",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),this.updateCommon(t);var r=this.format,i=this.type,n=!!(this.convertToPOT&&!this.mipmaps.length&&this.image&&(this.wrapS===We.REPEAT||this.wrapT===We.REPEAT)&&this.NPOT);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,n?this.wrapS:this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,n?this.wrapT:this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n?this.magFilter:this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,n?this.minFilter:this.getAvailableMinFilter());var a=t.getGLExtension("EXT_texture_filter_anisotropic");if(a&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_2D,a.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),i===36193){var s=t.getGLExtension("OES_texture_half_float");s||(i=Re.FLOAT)}if(this.mipmaps.length)for(var o=this.width,u=this.height,l=0;l<this.mipmaps.length;l++){var c=this.mipmaps[l];this._updateTextureData(e,c,l,o,u,r,i,!1),o/=2,u/=2}else this._updateTextureData(e,this,0,this.width,this.height,r,i,n),this.useMipmap&&(!this.NPOT||n)&&e.generateMipmap(e.TEXTURE_2D);e.bindTexture(e.TEXTURE_2D,null)},_updateTextureData:function(t,e,r,i,n,a,s,o){if(e.image){var u=e.image;o&&(this._potCanvas=sLe(this,this._potCanvas),u=this._potCanvas),t.texImage2D(t.TEXTURE_2D,r,a,a,s,u)}else a<=We.COMPRESSED_RGBA_S3TC_DXT5_EXT&&a>=We.COMPRESSED_RGB_S3TC_DXT1_EXT?t.compressedTexImage2D(t.TEXTURE_2D,r,a,i,n,0,e.pixels):t.texImage2D(t.TEXTURE_2D,r,a,i,n,0,a,s,e.pixels)},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_2D,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_2D))},isPowerOfTwo:function(){return mU(this.width)&&mU(this.height)},isRenderable:function(){return this.image?this.image.width>0&&this.image.height>0:!!(this.width&&this.height)},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_2D,null)},load:function(t,e){var r=ur.createImage();e&&(r.crossOrigin=e);var i=this;return r.onload=function(){i.dirty(),i.trigger("success",i)},r.onerror=function(){i.trigger("error",i)},r.src=t,this.image=r,this}});Object.defineProperty(Rt.prototype,"width",{get:function(){return this.image?this.image.width:this._width},set:function(t){this.image?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}});Object.defineProperty(Rt.prototype,"height",{get:function(){return this.image?this.image.height:this._height},set:function(t){this.image?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}});function bre(t){return{byte:ur.Int8Array,ubyte:ur.Uint8Array,short:ur.Int16Array,ushort:ur.Uint16Array}[t]||ur.Float32Array}function oT(t){return"attr_"+t}function Op(t,e,r,i){switch(this.name=t,this.type=e,this.size=r,this.semantic=i||"",this.value=null,r){case 1:this.get=function(n){return this.value[n]},this.set=function(n,a){this.value[n]=a},this.copy=function(n,a){this.value[n]=this.value[n]};break;case 2:this.get=function(n,a){var s=this.value;return a[0]=s[n*2],a[1]=s[n*2+1],a},this.set=function(n,a){var s=this.value;s[n*2]=a[0],s[n*2+1]=a[1]},this.copy=function(n,a){var s=this.value;a*=2,n*=2,s[n]=s[a],s[n+1]=s[a+1]};break;case 3:this.get=function(n,a){var s=n*3,o=this.value;return a[0]=o[s],a[1]=o[s+1],a[2]=o[s+2],a},this.set=function(n,a){var s=n*3,o=this.value;o[s]=a[0],o[s+1]=a[1],o[s+2]=a[2]},this.copy=function(n,a){var s=this.value;a*=3,n*=3,s[n]=s[a],s[n+1]=s[a+1],s[n+2]=s[a+2]};break;case 4:this.get=function(n,a){var s=this.value,o=n*4;return a[0]=s[o],a[1]=s[o+1],a[2]=s[o+2],a[3]=s[o+3],a},this.set=function(n,a){var s=this.value,o=n*4;s[o]=a[0],s[o+1]=a[1],s[o+2]=a[2],s[o+3]=a[3]},this.copy=function(n,a){var s=this.value;a*=4,n*=4,s[n]=s[a],s[n+1]=s[a+1],s[n+2]=s[a+2],s[n+3]=s[a+3]}}}Op.prototype.init=function(t){if(!this.value||this.value.length!==t*this.size){var e=bre(this.type);this.value=new e(t*this.size)}};Op.prototype.fromArray=function(t){var e=bre(this.type),r;if(t[0]&&t[0].length){var i=0,n=this.size;r=new e(t.length*n);for(var a=0;a<t.length;a++)for(var s=0;s<n;s++)r[i++]=t[a][s]}else r=new e(t);this.value=r};Op.prototype.clone=function(t){var e=new Op(this.name,this.type,this.size,this.semantic);return t&&console.warn("todo"),e};function Cre(t,e,r,i,n){this.name=t,this.type=e,this.buffer=r,this.size=i,this.semantic=n,this.symbol="",this.needsRemove=!1}function Ere(t){this.buffer=t,this.count=0}var va=vn.extend(function(){return{attributes:{},indices:null,dynamic:!0,_enabledAttributes:null,__used:0}},function(){this._cache=new Lp,this._attributeList=Object.keys(this.attributes),this.__vaoCache={}},{mainAttribute:"",pick:null,pickByRay:null,dirty:function(){for(var t=this.getEnabledAttributes(),e=0;e<t.length;e++)this.dirtyAttribute(t[e]);this.dirtyIndices(),this._enabledAttributes=null,this._cache.dirty("any")},dirtyIndices:function(){this._cache.dirtyAll("indices")},dirtyAttribute:function(t){this._cache.dirtyAll(oT(t)),this._cache.dirtyAll("attributes")},getTriangleIndices:function(t,e){if(t<this.triangleCount&&t>=0){e||(e=[]);var r=this.indices;return e[0]=r[t*3],e[1]=r[t*3+1],e[2]=r[t*3+2],e}},setTriangleIndices:function(t,e){var r=this.indices;r[t*3]=e[0],r[t*3+1]=e[1],r[t*3+2]=e[2]},isUseIndices:function(){return!!this.indices},initIndicesFromArray:function(t){var e,r=this.vertexCount>65535?ur.Uint32Array:ur.Uint16Array;if(t[0]&&t[0].length){var i=0,n=3;e=new r(t.length*n);for(var a=0;a<t.length;a++)for(var s=0;s<n;s++)e[i++]=t[a][s]}else e=new r(t);this.indices=e},createAttribute:function(t,e,r,i){var n=new Op(t,e,r,i);return this.attributes[t]&&this.removeAttribute(t),this.attributes[t]=n,this._attributeList.push(t),n},removeAttribute:function(t){var e=this._attributeList,r=e.indexOf(t);return r>=0?(e.splice(r,1),delete this.attributes[t],!0):!1},getAttribute:function(t){return this.attributes[t]},getEnabledAttributes:function(){var t=this._enabledAttributes,e=this._attributeList;if(t)return t;for(var r=[],i=this.vertexCount,n=0;n<e.length;n++){var a=e[n],s=this.attributes[a];s.value&&s.value.length===i*s.size&&r.push(a)}return this._enabledAttributes=r,r},getBufferChunks:function(t){var e=this._cache;e.use(t.__uid__);var r=e.isDirty("attributes"),i=e.isDirty("indices");if(r||i){this._updateBuffer(t.gl,r,i);for(var n=this.getEnabledAttributes(),a=0;a<n.length;a++)e.fresh(oT(n[a]));e.fresh("attributes"),e.fresh("indices")}return e.fresh("any"),e.get("chunks")},_updateBuffer:function(t,e,r){var i=this._cache,n=i.get("chunks"),a=!1;n||(n=[],n[0]={attributeBuffers:[],indicesBuffer:null},i.put("chunks",n),a=!0);var s=n[0],o=s.attributeBuffers,u=s.indicesBuffer;if(e||a){var l=this.getEnabledAttributes(),c={};if(!a)for(var h=0;h<o.length;h++)c[o[h].name]=o[h];for(var f=0;f<l.length;f++){var d=l[f],p=this.attributes[d],g;a||(g=c[d]);var v;g?v=g.buffer:v=t.createBuffer(),i.isDirty(oT(d))&&(t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferData(t.ARRAY_BUFFER,p.value,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW)),o[f]=new Cre(d,p.type,v,p.size,p.semantic)}for(var h=f;h<o.length;h++)t.deleteBuffer(o[h].buffer);o.length=f}this.isUseIndices()&&(r||a)&&(u||(u=new Ere(t.createBuffer()),s.indicesBuffer=u),u.count=this.indices.length,t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u.buffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices,this.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW))},dispose:function(t){var e=this._cache;e.use(t.__uid__);var r=e.get("chunks");if(r)for(var i=0;i<r.length;i++){for(var n=r[i],a=0;a<n.attributeBuffers.length;a++){var s=n.attributeBuffers[a];t.gl.deleteBuffer(s.buffer)}n.indicesBuffer&&t.gl.deleteBuffer(n.indicesBuffer.buffer)}if(this.__vaoCache){var o=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&o.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});Object.defineProperty&&(Object.defineProperty(va.prototype,"vertexCount",{enumerable:!1,get:function(){var t=this.attributes[this.mainAttribute];return t||(t=this.attributes[this._attributeList[0]]),!t||!t.value?0:t.value.length/t.size}}),Object.defineProperty(va.prototype,"triangleCount",{enumerable:!1,get:function(){var t=this.indices;return t?t.length/3:0}}));va.STATIC_DRAW=Re.STATIC_DRAW;va.DYNAMIC_DRAW=Re.DYNAMIC_DRAW;va.STREAM_DRAW=Re.STREAM_DRAW;va.AttributeBuffer=Cre;va.IndicesBuffer=Ere;va.Attribute=Op;var Wn=oe.create,ld=oe.add,R0=oe.set,ko=va.Attribute,$t=va.extend(function(){return{attributes:{position:new ko("position","float",3,"POSITION"),texcoord0:new ko("texcoord0","float",2,"TEXCOORD_0"),texcoord1:new ko("texcoord1","float",2,"TEXCOORD_1"),normal:new ko("normal","float",3,"NORMAL"),tangent:new ko("tangent","float",4,"TANGENT"),color:new ko("color","float",4,"COLOR"),weight:new ko("weight","float",3,"WEIGHT"),joint:new ko("joint","float",4,"JOINT"),barycentric:new ko("barycentric","float",3,null)},boundingBox:null}},{mainAttribute:"position",updateBoundingBox:function(){var t=this.boundingBox;t||(t=this.boundingBox=new cn);var e=this.attributes.position.value;if(e&&e.length){var r=t.min,i=t.max,n=r.array,a=i.array;oe.set(n,e[0],e[1],e[2]),oe.set(a,e[0],e[1],e[2]);for(var s=3;s<e.length;){var o=e[s++],u=e[s++],l=e[s++];o<n[0]&&(n[0]=o),u<n[1]&&(n[1]=u),l<n[2]&&(n[2]=l),o>a[0]&&(a[0]=o),u>a[1]&&(a[1]=u),l>a[2]&&(a[2]=l)}r._dirty=!0,i._dirty=!0}},generateVertexNormals:function(){if(this.vertexCount){var t=this.indices,e=this.attributes,r=e.position.value,i=e.normal.value;if(!i||i.length!==r.length)i=e.normal.value=new ur.Float32Array(r.length);else for(var n=0;n<i.length;n++)i[n]=0;for(var a=Wn(),s=Wn(),o=Wn(),u=Wn(),l=Wn(),c=Wn(),h=t?t.length:this.vertexCount,f,d,p,g=0;g<h;){t?(f=t[g++],d=t[g++],p=t[g++]):(f=g++,d=g++,p=g++),R0(a,r[f*3],r[f*3+1],r[f*3+2]),R0(s,r[d*3],r[d*3+1],r[d*3+2]),R0(o,r[p*3],r[p*3+1],r[p*3+2]),oe.sub(u,a,s),oe.sub(l,s,o),oe.cross(c,u,l);for(var n=0;n<3;n++)i[f*3+n]=i[f*3+n]+c[n],i[d*3+n]=i[d*3+n]+c[n],i[p*3+n]=i[p*3+n]+c[n]}for(var n=0;n<i.length;)R0(c,i[n],i[n+1],i[n+2]),oe.normalize(c,c),i[n++]=c[0],i[n++]=c[1],i[n++]=c[2];this.dirty()}},generateFaceNormals:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.indices,e=this.attributes,r=e.position.value,i=e.normal.value,n=Wn(),a=Wn(),s=Wn(),o=Wn(),u=Wn(),l=Wn();i||(i=e.normal.value=new Float32Array(r.length));for(var c=t?t.length:this.vertexCount,h,f,d,p=0;p<c;){t?(h=t[p++],f=t[p++],d=t[p++]):(h=p++,f=p++,d=p++),R0(n,r[h*3],r[h*3+1],r[h*3+2]),R0(a,r[f*3],r[f*3+1],r[f*3+2]),R0(s,r[d*3],r[d*3+1],r[d*3+2]),oe.sub(o,n,a),oe.sub(u,a,s),oe.cross(l,o,u),oe.normalize(l,l);for(var g=0;g<3;g++)i[h*3+g]=l[g],i[f*3+g]=l[g],i[d*3+g]=l[g]}this.dirty()}},generateTangents:function(){if(this.vertexCount){var t=this.vertexCount,e=this.attributes;e.tangent.value||(e.tangent.value=new Float32Array(t*4));var r=e.texcoord0.value,i=e.position.value,n=e.tangent.value,a=e.normal.value;if(!r){console.warn("Geometry without texcoords can't generate tangents.");return}for(var s=[],o=[],u=0;u<t;u++)s[u]=[0,0,0],o[u]=[0,0,0];for(var l=[0,0,0],c=[0,0,0],h=this.indices,f=h?h.length:this.vertexCount,d,p,g,u=0;u<f;){h?(d=h[u++],p=h[u++],g=h[u++]):(d=u++,p=u++,g=u++);var v=r[d*2],m=r[p*2],y=r[g*2],_=r[d*2+1],x=r[p*2+1],b=r[g*2+1],C=i[d*3],E=i[p*3],A=i[g*3],S=i[d*3+1],T=i[p*3+1],D=i[g*3+1],F=i[d*3+2],B=i[p*3+2],O=i[g*3+2],M=E-C,R=A-C,z=T-S,k=D-S,U=B-F,V=O-F,j=m-v,Y=y-v,te=x-_,re=b-_,de=1/(j*re-te*Y);l[0]=(re*M-te*R)*de,l[1]=(re*z-te*k)*de,l[2]=(re*U-te*V)*de,c[0]=(j*R-Y*M)*de,c[1]=(j*k-Y*z)*de,c[2]=(j*V-Y*U)*de,ld(s[d],s[d],l),ld(s[p],s[p],l),ld(s[g],s[g],l),ld(o[d],o[d],c),ld(o[p],o[p],c),ld(o[g],o[g],c)}for(var Oe=Wn(),he=Wn(),le=Wn(),u=0;u<t;u++){le[0]=a[u*3],le[1]=a[u*3+1],le[2]=a[u*3+2];var pe=s[u];oe.scale(Oe,le,oe.dot(le,pe)),oe.sub(Oe,pe,Oe),oe.normalize(Oe,Oe),oe.cross(he,le,pe),n[u*4]=Oe[0],n[u*4+1]=Oe[1],n[u*4+2]=Oe[2],n[u*4+3]=oe.dot(he,o[u])<0?-1:1}this.dirty()}},isUniqueVertex:function(){return this.isUseIndices()?this.vertexCount===this.indices.length:!0},generateUniqueVertex:function(){if(!(!this.vertexCount||!this.indices)){this.indices.length>65535&&(this.indices=new ur.Uint32Array(this.indices));for(var t=this.attributes,e=this.indices,r=this.getEnabledAttributes(),i={},n=0;n<r.length;n++){var a=r[n];i[a]=t[a].value,t[a].init(this.indices.length)}for(var s=0,o=0;o<e.length;o++){for(var u=e[o],n=0;n<r.length;n++)for(var a=r[n],l=t[a].value,c=t[a].size,h=0;h<c;h++)l[s*c+h]=i[a][u*c+h];e[o]=s,s++}this.dirty()}},generateBarycentric:function(){if(this.vertexCount){this.isUniqueVertex()||this.generateUniqueVertex();var t=this.attributes,e=t.barycentric.value,r=this.indices;if(!(e&&e.length===r.length*3)){e=t.barycentric.value=new Float32Array(r.length*3);for(var i=0;i<(r?r.length:this.vertexCount/3);)for(var n=0;n<3;n++){var a=r?r[i++]:i*3+n;e[a*3+n]=1}this.dirty()}}},applyTransform:function(t){var e=this.attributes,r=e.position.value,i=e.normal.value,n=e.tangent.value;t=t.array;var a=ke.create();ke.invert(a,t),ke.transpose(a,a);var s=oe.transformMat4,o=oe.forEach;o(r,3,0,null,s,t),i&&o(i,3,0,null,s,a),n&&o(n,4,0,null,s,a),this.boundingBox&&this.updateBoundingBox()},dispose:function(t){var e=this._cache;e.use(t.__uid__);var r=e.get("chunks");if(r)for(var i=0;i<r.length;i++){for(var n=r[i],a=0;a<n.attributeBuffers.length;a++){var s=n.attributeBuffers[a];t.gl.deleteBuffer(s.buffer)}n.indicesBuffer&&t.gl.deleteBuffer(n.indicesBuffer.buffer)}if(this.__vaoCache){var o=t.getGLExtension("OES_vertex_array_object");for(var u in this.__vaoCache){var l=this.__vaoCache[u].vao;l&&o.deleteVertexArrayOES(l)}}this.__vaoCache={},e.deleteContext(t.__uid__)}});$t.STATIC_DRAW=va.STATIC_DRAW;$t.DYNAMIC_DRAW=va.DYNAMIC_DRAW;$t.STREAM_DRAW=va.STREAM_DRAW;$t.AttributeBuffer=va.AttributeBuffer;$t.IndicesBuffer=va.IndicesBuffer;$t.Attribute=ko;const oLe=`vec3 calcAmbientSHLight(int idx, vec3 N) {
 int offset = 9 * idx;
 return ambientSHLightCoefficients[0]
 + ambientSHLightCoefficients[1] * N.x
 + ambientSHLightCoefficients[2] * N.y
 + ambientSHLightCoefficients[3] * N.z
 + ambientSHLightCoefficients[4] * N.x * N.z
 + ambientSHLightCoefficients[5] * N.z * N.y
 + ambientSHLightCoefficients[6] * N.y * N.x
 + ambientSHLightCoefficients[7] * (3.0 * N.z * N.z - 1.0)
 + ambientSHLightCoefficients[8] * (N.x * N.x - N.y * N.y);
}`;var Js="uniform vec3 ",kv="uniform float ",cd="@export clay.header.",hd="@end",an=":unconfigurable;";const uLe=[cd+"directional_light",Js+"directionalLightDirection[DIRECTIONAL_LIGHT_COUNT]"+an,Js+"directionalLightColor[DIRECTIONAL_LIGHT_COUNT]"+an,hd,cd+"ambient_light",Js+"ambientLightColor[AMBIENT_LIGHT_COUNT]"+an,hd,cd+"ambient_sh_light",Js+"ambientSHLightColor[AMBIENT_SH_LIGHT_COUNT]"+an,Js+"ambientSHLightCoefficients[AMBIENT_SH_LIGHT_COUNT * 9]"+an,oLe,hd,cd+"ambient_cubemap_light",Js+"ambientCubemapLightColor[AMBIENT_CUBEMAP_LIGHT_COUNT]"+an,"uniform samplerCube ambientCubemapLightCubemap[AMBIENT_CUBEMAP_LIGHT_COUNT]"+an,"uniform sampler2D ambientCubemapLightBRDFLookup[AMBIENT_CUBEMAP_LIGHT_COUNT]"+an,hd,cd+"point_light",Js+"pointLightPosition[POINT_LIGHT_COUNT]"+an,kv+"pointLightRange[POINT_LIGHT_COUNT]"+an,Js+"pointLightColor[POINT_LIGHT_COUNT]"+an,hd,cd+"spot_light",Js+"spotLightPosition[SPOT_LIGHT_COUNT]"+an,Js+"spotLightDirection[SPOT_LIGHT_COUNT]"+an,kv+"spotLightRange[SPOT_LIGHT_COUNT]"+an,kv+"spotLightUmbraAngleCosine[SPOT_LIGHT_COUNT]"+an,kv+"spotLightPenumbraAngleCosine[SPOT_LIGHT_COUNT]"+an,kv+"spotLightFalloffFactor[SPOT_LIGHT_COUNT]"+an,Js+"spotLightColor[SPOT_LIGHT_COUNT]"+an,hd].join(`
`);qe.import(uLe);var Co=lu.extend(function(){return{color:[1,1,1],intensity:1,castShadow:!0,shadowResolution:512,group:0}},{type:"",clone:function(){var t=lu.prototype.clone.call(this);return t.color=Array.prototype.slice.call(this.color),t.intensity=this.intensity,t.castShadow=this.castShadow,t.shadowResolution=this.shadowResolution,t}}),q1=function(t,e){this.normal=t||new Fe(0,1,0),this.distance=e||0};q1.prototype={constructor:q1,distanceToPoint:function(t){return oe.dot(t.array,this.normal.array)-this.distance},projectPoint:function(t,e){e||(e=new Fe);var r=this.distanceToPoint(t);return oe.scaleAndAdd(e.array,t.array,this.normal.array,-r),e._dirty=!0,e},normalize:function(){var t=1/oe.len(this.normal.array);oe.scale(this.normal.array,t),this.distance*=t},intersectFrustum:function(t){for(var e=t.vertices,r=this.normal.array,i=oe.dot(e[0].array,r)>this.distance,n=1;n<8;n++)if(oe.dot(e[n].array,r)>this.distance!=i)return!0},intersectLine:function(){var t=oe.create();return function(e,r,i){var n=this.distanceToPoint(e),a=this.distanceToPoint(r);if(n>0&&a>0||n<0&&a<0)return null;var s=this.normal.array,o=this.distance,u=e.array;oe.sub(t,r.array,e.array),oe.normalize(t,t);var l=oe.dot(s,t);if(l===0)return null;i||(i=new Fe);var c=(oe.dot(s,u)-o)/l;return oe.scaleAndAdd(i.array,u,t,-c),i._dirty=!0,i}}(),applyTransform:function(){var t=ke.create(),e=Ne.create(),r=Ne.create();return r[3]=1,function(i){i=i.array,oe.scale(r,this.normal.array,this.distance),Ne.transformMat4(r,r,i),this.distance=oe.dot(r,this.normal.array),ke.invert(t,i),ke.transpose(t,t),e[3]=0,oe.copy(e,this.normal.array),Ne.transformMat4(e,e,t),oe.copy(this.normal.array,e)}}(),copy:function(t){oe.copy(this.normal.array,t.normal.array),this.normal._dirty=!0,this.distance=t.distance},clone:function(){var t=new q1;return t.copy(this),t}};var hi=oe.set,_U=oe.copy,xU=oe.transformMat4,uT=Math.min,lT=Math.max,tC=function(){this.planes=[];for(var t=0;t<6;t++)this.planes.push(new q1);this.boundingBox=new cn,this.vertices=[];for(var t=0;t<8;t++)this.vertices[t]=oe.fromValues(0,0,0)};tC.prototype={setFromProjection:function(t){var e=this.planes,r=t.array,i=r[0],n=r[1],a=r[2],s=r[3],o=r[4],u=r[5],l=r[6],c=r[7],h=r[8],f=r[9],d=r[10],p=r[11],g=r[12],v=r[13],m=r[14],y=r[15];hi(e[0].normal.array,s-i,c-o,p-h),e[0].distance=-(y-g),e[0].normalize(),hi(e[1].normal.array,s+i,c+o,p+h),e[1].distance=-(y+g),e[1].normalize(),hi(e[2].normal.array,s+n,c+u,p+f),e[2].distance=-(y+v),e[2].normalize(),hi(e[3].normal.array,s-n,c-u,p-f),e[3].distance=-(y-v),e[3].normalize(),hi(e[4].normal.array,s-a,c-l,p-d),e[4].distance=-(y-m),e[4].normalize(),hi(e[5].normal.array,s+a,c+l,p+d),e[5].distance=-(y+m),e[5].normalize();var _=this.boundingBox,x=this.vertices;if(y===0){var b=u/i,C=-m/(d-1),E=-m/(d+1),A=-E/u,S=-C/u;_.min.set(-A*b,-A,E),_.max.set(A*b,A,C),hi(x[0],-A*b,-A,E),hi(x[1],-A*b,A,E),hi(x[2],A*b,-A,E),hi(x[3],A*b,A,E),hi(x[4],-S*b,-S,C),hi(x[5],-S*b,S,C),hi(x[6],S*b,-S,C),hi(x[7],S*b,S,C)}else{var T=(-1-g)/i,D=(1-g)/i,F=(1-v)/u,B=(-1-v)/u,O=(-1-m)/d,M=(1-m)/d;_.min.set(Math.min(T,D),Math.min(B,F),Math.min(M,O)),_.max.set(Math.max(D,T),Math.max(F,B),Math.max(O,M));var R=_.min.array,z=_.max.array;hi(x[0],R[0],R[1],R[2]),hi(x[1],R[0],z[1],R[2]),hi(x[2],z[0],R[1],R[2]),hi(x[3],z[0],z[1],R[2]),hi(x[4],R[0],R[1],z[2]),hi(x[5],R[0],z[1],z[2]),hi(x[6],z[0],R[1],z[2]),hi(x[7],z[0],z[1],z[2])}},getTransformedBoundingBox:function(){var t=oe.create();return function(e,r){var i=this.vertices,n=r.array,a=e.min,s=e.max,o=a.array,u=s.array,l=i[0];xU(t,l,n),_U(o,t),_U(u,t);for(var c=1;c<8;c++)l=i[c],xU(t,l,n),o[0]=uT(t[0],o[0]),o[1]=uT(t[1],o[1]),o[2]=uT(t[2],o[2]),u[0]=lT(t[0],u[0]),u[1]=lT(t[1],u[1]),u[2]=lT(t[2],u[2]);return a._dirty=!0,s._dirty=!0,e}}()};var Rp=lu.extend(function(){return{projectionMatrix:new Qe,invProjectionMatrix:new Qe,viewMatrix:new Qe,frustum:new tC}},function(){this.update(!0)},{update:function(t){lu.prototype.update.call(this,t),Qe.invert(this.viewMatrix,this.worldTransform),this.updateProjectionMatrix(),Qe.invert(this.invProjectionMatrix,this.projectionMatrix),this.frustum.setFromProjection(this.projectionMatrix)},setViewMatrix:function(t){Qe.copy(this.viewMatrix,t),Qe.invert(this.worldTransform,t),this.decomposeWorldTransform()},decomposeProjectionMatrix:function(){},setProjectionMatrix:function(t){Qe.copy(this.projectionMatrix,t),Qe.invert(this.invProjectionMatrix,t),this.decomposeProjectionMatrix()},updateProjectionMatrix:function(){},castRay:function(){var t=Ne.create();return function(e,r){var i=r!==void 0?r:new Nh,n=e.array[0],a=e.array[1];return Ne.set(t,n,a,-1,1),Ne.transformMat4(t,t,this.invProjectionMatrix.array),Ne.transformMat4(t,t,this.worldTransform.array),oe.scale(i.origin.array,t,1/t[3]),Ne.set(t,n,a,1,1),Ne.transformMat4(t,t,this.invProjectionMatrix.array),Ne.transformMat4(t,t,this.worldTransform.array),oe.scale(t,t,1/t[3]),oe.sub(i.direction.array,t,i.origin.array),oe.normalize(i.direction.array,i.direction.array),i.direction._dirty=!0,i.origin._dirty=!0,i}}()}),lLe=ke.create(),bU=ke.create(),cT={};function cLe(t){var e=[],r=Object.keys(t);r.sort();for(var i=0;i<r.length;i++){var n=r[i];e.push(n+" "+t[n])}var a=e.join(`
`);if(cT[a])return cT[a];var s=pi.genGUID();return cT[a]=s,s}function rC(){this.opaque=[],this.transparent=[],this._opaqueCount=0,this._transparentCount=0}rC.prototype.startCount=function(){this._opaqueCount=0,this._transparentCount=0};rC.prototype.add=function(t,e){e?this.transparent[this._transparentCount++]=t:this.opaque[this._opaqueCount++]=t};rC.prototype.endCount=function(){this.transparent.length=this._transparentCount,this.opaque.length=this._opaqueCount};var Yc=lu.extend(function(){return{material:null,lights:[],viewBoundingBoxLastFrame:new cn,shadowUniforms:{},_cameraList:[],_lightUniforms:{},_previousLightNumber:{},_lightNumber:{},_lightProgramKeys:{},_nodeRepository:{},_renderLists:new If(20)}},function(){this._scene=this},{addToScene:function(t){t instanceof Rp?(this._cameraList.length>0&&console.warn("Found multiple camera in one scene. Use the fist one."),this._cameraList.push(t)):t instanceof Co&&this.lights.push(t),t.name&&(this._nodeRepository[t.name]=t)},removeFromScene:function(t){var e;t instanceof Rp?(e=this._cameraList.indexOf(t),e>=0&&this._cameraList.splice(e,1)):t instanceof Co&&(e=this.lights.indexOf(t),e>=0&&this.lights.splice(e,1)),t.name&&delete this._nodeRepository[t.name]},getNode:function(t){return this._nodeRepository[t]},setMainCamera:function(t){var e=this._cameraList.indexOf(t);e>=0&&this._cameraList.splice(e,1),this._cameraList.unshift(t)},getMainCamera:function(){return this._cameraList[0]},getLights:function(){return this.lights},updateLights:function(){var t=this.lights;this._previousLightNumber=this._lightNumber;for(var e={},r=0;r<t.length;r++){var i=t[r];if(!i.invisible){var n=i.group;e[n]||(e[n]={}),e[n][i.type]=e[n][i.type]||0,e[n][i.type]++}}this._lightNumber=e;for(var a in e)this._lightProgramKeys[a]=cLe(e[a]);this._updateLightUniforms()},cloneNode:function(t){var e=t.clone(),r={};function i(n,a){r[n.__uid__]=a;for(var s=0;s<n._children.length;s++){var o=n._children[s],u=a._children[s];i(o,u)}}return i(t,e),e.traverse(function(n){n.skeleton&&(n.skeleton=n.skeleton.clone(r)),n.material&&(n.material=n.material.clone())}),e},updateRenderList:function(t,e){var r=t.__uid__,i=this._renderLists.get(r);i||(i=new rC,this._renderLists.put(r,i)),i.startCount(),e&&(this.viewBoundingBoxLastFrame.min.set(1/0,1/0,1/0),this.viewBoundingBoxLastFrame.max.set(-1/0,-1/0,-1/0));var n=this.material&&this.material.transparent||!1;return this._doUpdateRenderList(this,t,n,i,e),i.endCount(),i},getRenderList:function(t){return this._renderLists.get(t.__uid__)},_doUpdateRenderList:function(t,e,r,i,n){if(!t.invisible)for(var a=0;a<t._children.length;a++){var s=t._children[a];if(s.isRenderable()){var o=s.isSkinnedMesh()?lLe:s.worldTransform.array,u=s.geometry;ke.multiplyAffine(bU,e.viewMatrix.array,o),(n&&!u.boundingBox||!this.isFrustumCulled(s,e,bU))&&i.add(s,s.material.transparent||r)}s._children.length>0&&this._doUpdateRenderList(s,e,r,i,n)}},isFrustumCulled:function(){var t=new cn,e=new Qe;return function(r,i,n){var a=r.boundingBox;if(a||(r.skeleton&&r.skeleton.boundingBox?a=r.skeleton.boundingBox:a=r.geometry.boundingBox),!a)return!1;if(e.array=n,t.transformFrom(a,e),r.castShadow&&this.viewBoundingBoxLastFrame.union(t),r.frustumCulling){if(!t.intersectBoundingBox(i.frustum.boundingBox))return!0;e.array=i.projectionMatrix.array,t.max.array[2]>0&&t.min.array[2]<0&&(t.max.array[2]=-1e-20),t.applyProjection(e);var s=t.min.array,o=t.max.array;if(o[0]<-1||s[0]>1||o[1]<-1||s[1]>1||o[2]<-1||s[2]>1)return!0}return!1}}(),_updateLightUniforms:function(){var t=this.lights;t.sort(hLe);var e=this._lightUniforms;for(var r in e)for(var i in e[r])e[r][i].value.length=0;for(var n=0;n<t.length;n++){var a=t[n];if(!a.invisible){var r=a.group;for(var i in a.uniformTemplates){var s=a.uniformTemplates[i],o=s.value(a);if(o!=null){e[r]||(e[r]={}),e[r][i]||(e[r][i]={type:"",value:[]});var u=e[r][i];switch(u.type=s.type+"v",s.type){case"1i":case"1f":case"t":u.value.push(o);break;case"2f":case"3f":case"4f":for(var l=0;l<o.length;l++)u.value.push(o[l]);break;default:console.error("Unkown light uniform type "+s.type)}}}}}},getLightGroups:function(){var t=[];for(var e in this._lightNumber)t.push(e);return t},getNumberChangedLightGroups:function(){var t=[];for(var e in this._lightNumber)this.isLightNumberChanged(e)&&t.push(e);return t},isLightNumberChanged:function(t){var e=this._previousLightNumber,r=this._lightNumber;for(var i in r[t])if(!e[t]||r[t][i]!==e[t][i])return!0;for(var i in e[t])if(!r[t]||r[t][i]!==e[t][i])return!0;return!1},getLightsNumbers:function(t){return this._lightNumber[t]},getProgramKey:function(t){return this._lightProgramKeys[t]},setLightUniforms:function(){function t(e,r,i){for(var n in e){var a=e[n];if(a.type==="tv"){if(!r.hasUniform(n))continue;for(var s=[],o=0;o<a.value.length;o++){var u=a.value[o],l=r.takeCurrentTextureSlot(i,u);s.push(l)}r.setUniform(i.gl,"1iv",n,s)}else r.setUniform(i.gl,a.type,n,a.value)}}return function(e,r,i){t(this._lightUniforms[r],e,i),t(this.shadowUniforms,e,i)}}(),dispose:function(){this.material=null,this._opaqueList=[],this._transparentList=[],this.lights=[],this._lightUniforms={},this._lightNumber={},this._nodeRepository={}}});function hLe(t,e){if(e.castShadow&&!t.castShadow)return!0}var K_=Vm.isPowerOfTwo,fLe=["px","nx","py","ny","pz","nz"],af=We.extend(function(){return{image:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},pixels:{px:null,nx:null,py:null,ny:null,pz:null,nz:null},mipmaps:[]}},{textureType:"textureCube",update:function(t){var e=t.gl;e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),this.updateCommon(t);var r=this.format,i=this.type;e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_S,this.getAvailableWrapS()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_WRAP_T,this.getAvailableWrapT()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,this.getAvailableMagFilter()),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,this.getAvailableMinFilter());var n=t.getGLExtension("EXT_texture_filter_anisotropic");if(n&&this.anisotropic>1&&e.texParameterf(e.TEXTURE_CUBE_MAP,n.TEXTURE_MAX_ANISOTROPY_EXT,this.anisotropic),i===36193){var a=t.getGLExtension("OES_texture_half_float");a||(i=Re.FLOAT)}if(this.mipmaps.length)for(var s=this.width,o=this.height,u=0;u<this.mipmaps.length;u++){var l=this.mipmaps[u];this._updateTextureData(e,l,u,s,o,r,i),s/=2,o/=2}else this._updateTextureData(e,this,0,this.width,this.height,r,i),!this.NPOT&&this.useMipmap&&e.generateMipmap(e.TEXTURE_CUBE_MAP);e.bindTexture(e.TEXTURE_CUBE_MAP,null)},_updateTextureData:function(t,e,r,i,n,a,s){for(var o=0;o<6;o++){var u=fLe[o],l=e.image&&e.image[u];l?t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+o,r,a,a,s,l):t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+o,r,a,i,n,0,a,s,e.pixels&&e.pixels[u])}},generateMipmap:function(t){var e=t.gl;this.useMipmap&&!this.NPOT&&(e.bindTexture(e.TEXTURE_CUBE_MAP,this._cache.get("webgl_texture")),e.generateMipmap(e.TEXTURE_CUBE_MAP))},bind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,this.getWebGLTexture(t))},unbind:function(t){t.gl.bindTexture(t.gl.TEXTURE_CUBE_MAP,null)},isPowerOfTwo:function(){return this.image.px?K_(this.image.px.width)&&K_(this.image.px.height):K_(this.width)&&K_(this.height)},isRenderable:function(){return this.image.px?fd(this.image.px)&&fd(this.image.nx)&&fd(this.image.py)&&fd(this.image.ny)&&fd(this.image.pz)&&fd(this.image.nz):!!(this.width&&this.height)},load:function(t,e){var r=0,i=this;return pi.each(t,function(n,a){var s=ur.createImage();e&&(s.crossOrigin=e),s.onload=function(){r--,r===0&&(i.dirty(),i.trigger("success",i))},s.onerror=function(){r--},r++,s.src=n,i.image[a]=s}),this}});Object.defineProperty(af.prototype,"width",{get:function(){return this.image&&this.image.px?this.image.px.width:this._width},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set width"):(this._width!==t&&this.dirty(),this._width=t)}});Object.defineProperty(af.prototype,"height",{get:function(){return this.image&&this.image.px?this.image.px.height:this._height},set:function(t){this.image&&this.image.px?console.warn("Texture from image can't set height"):(this._height!==t&&this.dirty(),this._height=t)}});function fd(t){return t.width>0&&t.height>0}var Hi=Rp.extend({fov:50,aspect:1,near:.1,far:2e3},{updateProjectionMatrix:function(){var t=this.fov/180*Math.PI;this.projectionMatrix.perspective(t,this.aspect,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array,e=Math.atan(1/t[5])*2;this.fov=e/Math.PI*180,this.aspect=t[5]/t[0],this.near=t[14]/(t[10]-1),this.far=t[14]/(t[10]+1)},clone:function(){var t=Rp.prototype.clone.call(this);return t.fov=this.fov,t.aspect=this.aspect,t.near=this.near,t.far=this.far,t}}),J_="framebuffer",Yu="renderbuffer",CU=Yu+"_width",EU=Yu+"_height",hT=Yu+"_attached",fT="depthtexture_attached",N0=Re.FRAMEBUFFER,zv=Re.RENDERBUFFER,f1=Re.DEPTH_ATTACHMENT,Sre=Re.COLOR_ATTACHMENT0,mi=vn.extend({depthBuffer:!0,viewport:null,_width:0,_height:0,_textures:null,_boundRenderer:null},function(){this._cache=new Lp,this._textures={}},{getTextureWidth:function(){return this._width},getTextureHeight:function(){return this._height},bind:function(t){if(t.__currentFrameBuffer){if(t.__currentFrameBuffer===this)return;console.warn("Renderer already bound with another framebuffer. Unbind it first")}t.__currentFrameBuffer=this;var e=t.gl;e.bindFramebuffer(N0,this._getFrameBufferGL(t)),this._boundRenderer=t;var r=this._cache;r.put("viewport",t.viewport);var i=!1,n,a;for(var s in this._textures){i=!0;var o=this._textures[s];o&&(n=o.texture.width,a=o.texture.height,this._doAttach(t,o.texture,s,o.target))}this._width=n,this._height=a,!i&&this.depthBuffer&&console.error("Must attach texture before bind, or renderbuffer may have incorrect width and height."),this.viewport?t.setViewport(this.viewport):t.setViewport(0,0,n,a,1);var u=r.get("attached_textures");if(u){for(var s in u)if(!this._textures[s]){var l=u[s];this._doDetach(e,s,l)}}if(!r.get(fT)&&this.depthBuffer){r.miss(Yu)&&r.put(Yu,e.createRenderbuffer());var c=r.get(Yu);(n!==r.get(CU)||a!==r.get(EU))&&(e.bindRenderbuffer(zv,c),e.renderbufferStorage(zv,e.DEPTH_COMPONENT16,n,a),r.put(CU,n),r.put(EU,a),e.bindRenderbuffer(zv,null)),r.get(hT)||(e.framebufferRenderbuffer(N0,f1,zv,c),r.put(hT,!0))}},unbind:function(t){t.__currentFrameBuffer=null;var e=t.gl;e.bindFramebuffer(N0,null),this._boundRenderer=null,this._cache.use(t.__uid__);var r=this._cache.get("viewport");r&&t.setViewport(r),this.updateMipmap(t)},updateMipmap:function(t){var e=t.gl;for(var r in this._textures){var i=this._textures[r];if(i){var n=i.texture;if(!n.NPOT&&n.useMipmap&&n.minFilter===We.LINEAR_MIPMAP_LINEAR){var a=n.textureType==="textureCube"?Re.TEXTURE_CUBE_MAP:Re.TEXTURE_2D;e.bindTexture(a,n.getWebGLTexture(t)),e.generateMipmap(a),e.bindTexture(a,null)}}}},checkStatus:function(t){return t.checkFramebufferStatus(N0)},_getFrameBufferGL:function(t){var e=this._cache;return e.use(t.__uid__),e.miss(J_)&&e.put(J_,t.gl.createFramebuffer()),e.get(J_)},attach:function(t,e,r){if(!t.width)throw new Error("The texture attached to color buffer is not a valid.");e=e||Sre,r=r||Re.TEXTURE_2D;var i=this._boundRenderer,n=i&&i.gl,a;if(n){var s=this._cache;s.use(i.__uid__),a=s.get("attached_textures")}var o=this._textures[e];if(!(o&&o.target===r&&o.texture===t&&a&&a[e]!=null)){var u=!0;i&&(u=this._doAttach(i,t,e,r),this.viewport||i.setViewport(0,0,t.width,t.height,1)),u&&(this._textures[e]=this._textures[e]||{},this._textures[e].texture=t,this._textures[e].target=r)}},_doAttach:function(t,e,r,i){var n=t.gl,a=e.getWebGLTexture(t),s=this._cache.get("attached_textures");if(s&&s[r]){var o=s[r];if(o.texture===e&&o.target===i)return}r=+r;var u=!0;if(r===f1||r===Re.DEPTH_STENCIL_ATTACHMENT){var l=t.getGLExtension("WEBGL_depth_texture");if(l||(console.error("Depth texture is not supported by the browser"),u=!1),e.format!==Re.DEPTH_COMPONENT&&e.format!==Re.DEPTH_STENCIL&&(console.error("The texture attached to depth buffer is not a valid."),u=!1),u){var c=this._cache.get(Yu);c&&(n.framebufferRenderbuffer(N0,f1,zv,null),n.deleteRenderbuffer(c),this._cache.put(Yu,!1)),this._cache.put(hT,!1),this._cache.put(fT,!0)}}return n.framebufferTexture2D(N0,r,i,a,0),s||(s={},this._cache.put("attached_textures",s)),s[r]=s[r]||{},s[r].texture=e,s[r].target=i,u},_doDetach:function(t,e,r){t.framebufferTexture2D(N0,e,r,null,0);var i=this._cache.get("attached_textures");i&&i[e]&&(i[e]=null),(e===f1||e===Re.DEPTH_STENCIL_ATTACHMENT)&&this._cache.put(fT,!1)},detach:function(t,e){if(this._textures[t]=null,this._boundRenderer){var r=this._cache;r.use(this._boundRenderer.__uid__),this._doDetach(this._boundRenderer.gl,t,e)}},dispose:function(t){var e=t.gl,r=this._cache;r.use(t.__uid__);var i=r.get(Yu);i&&e.deleteRenderbuffer(i);var n=r.get(J_);n&&e.deleteFramebuffer(n),r.deleteContext(t.__uid__),this._textures={}}});mi.DEPTH_ATTACHMENT=f1;mi.COLOR_ATTACHMENT0=Sre;mi.STENCIL_ATTACHMENT=Re.STENCIL_ATTACHMENT;mi.DEPTH_STENCIL_ATTACHMENT=Re.DEPTH_STENCIL_ATTACHMENT;var dLe=["px","nx","py","ny","pz","nz"],oI=vn.extend(function(){var t={position:new Fe,far:1e3,near:.1,texture:null,shadowMapPass:null},e=t._cameras={px:new Hi({fov:90}),nx:new Hi({fov:90}),py:new Hi({fov:90}),ny:new Hi({fov:90}),pz:new Hi({fov:90}),nz:new Hi({fov:90})};return e.px.lookAt(Fe.POSITIVE_X,Fe.NEGATIVE_Y),e.nx.lookAt(Fe.NEGATIVE_X,Fe.NEGATIVE_Y),e.py.lookAt(Fe.POSITIVE_Y,Fe.POSITIVE_Z),e.ny.lookAt(Fe.NEGATIVE_Y,Fe.NEGATIVE_Z),e.pz.lookAt(Fe.POSITIVE_Z,Fe.NEGATIVE_Y),e.nz.lookAt(Fe.NEGATIVE_Z,Fe.NEGATIVE_Y),t._frameBuffer=new mi,t},{getCamera:function(t){return this._cameras[t]},render:function(t,e,r){var i=t.gl;r||e.update();for(var n=this.texture.width,a=2*Math.atan(n/(n-.5))/Math.PI*180,s=0;s<6;s++){var o=dLe[s],u=this._cameras[o];if(Fe.copy(u.position,this.position),u.far=this.far,u.near=this.near,u.fov=a,this.shadowMapPass){u.update();var l=e.getBoundingBox();l.applyTransform(u.viewMatrix),e.viewBoundingBoxLastFrame.copy(l),this.shadowMapPass.render(t,e,u,!0)}this._frameBuffer.attach(this.texture,i.COLOR_ATTACHMENT0,i.TEXTURE_CUBE_MAP_POSITIVE_X+s),this._frameBuffer.bind(t),t.render(e,u,!0),this._frameBuffer.unbind(t)}},dispose:function(t){this._frameBuffer.dispose(t)}}),iC=$t.extend({dynamic:!1,widthSegments:1,heightSegments:1},function(){this.build()},{build:function(){for(var t=this.heightSegments,e=this.widthSegments,r=this.attributes,i=[],n=[],a=[],s=[],o=0;o<=t;o++)for(var u=o/t,l=0;l<=e;l++){var c=l/e;if(i.push([2*c-1,2*u-1,0]),n&&n.push([c,u]),a&&a.push([0,0,1]),l<e&&o<t){var h=l+o*(e+1);s.push([h,h+1,h+e+1]),s.push([h+e+1,h+1,h+e+2])}}r.position.fromArray(i),r.texcoord0.fromArray(n),r.normal.fromArray(a),this.initIndicesFromArray(s),this.boundingBox=new cn,this.boundingBox.min.set(-1,-1,0),this.boundingBox.max.set(1,1,0)}}),ei=new Qe,Tre=$t.extend({dynamic:!1,widthSegments:1,heightSegments:1,depthSegments:1,inside:!1},function(){this.build()},{build:function(){var t={px:dd("px",this.depthSegments,this.heightSegments),nx:dd("nx",this.depthSegments,this.heightSegments),py:dd("py",this.widthSegments,this.depthSegments),ny:dd("ny",this.widthSegments,this.depthSegments),pz:dd("pz",this.widthSegments,this.heightSegments),nz:dd("nz",this.widthSegments,this.heightSegments)},e=["position","texcoord0","normal"],r=0,i=0;for(var n in t)r+=t[n].vertexCount,i+=t[n].indices.length;for(var a=0;a<e.length;a++)this.attributes[e[a]].init(r);this.indices=new ur.Uint16Array(i);var s=0,o=0;for(var n in t){for(var u=t[n],a=0;a<e.length;a++)for(var l=e[a],c=u.attributes[l].value,h=u.attributes[l].size,f=l==="normal",d=0;d<c.length;d++){var p=c[d];this.inside&&f&&(p=-p),this.attributes[l].value[d+h*o]=p}for(var g=u.indices.length,d=0;d<u.indices.length;d++)this.indices[d+s]=o+u.indices[this.inside?g-d-1:d];s+=u.indices.length,o+=u.vertexCount}this.boundingBox=new cn,this.boundingBox.max.set(1,1,1),this.boundingBox.min.set(-1,-1,-1)}});function dd(t,e,r){ei.identity();var i=new iC({widthSegments:e,heightSegments:r});switch(t){case"px":Qe.translate(ei,ei,Fe.POSITIVE_X),Qe.rotateY(ei,ei,Math.PI/2);break;case"nx":Qe.translate(ei,ei,Fe.NEGATIVE_X),Qe.rotateY(ei,ei,-Math.PI/2);break;case"py":Qe.translate(ei,ei,Fe.POSITIVE_Y),Qe.rotateX(ei,ei,-Math.PI/2);break;case"ny":Qe.translate(ei,ei,Fe.NEGATIVE_Y),Qe.rotateX(ei,ei,Math.PI/2);break;case"pz":Qe.translate(ei,ei,Fe.POSITIVE_Z);break;case"nz":Qe.translate(ei,ei,Fe.NEGATIVE_Z),Qe.rotateY(ei,ei,Math.PI);break}return i.applyTransform(ei),i}const pLe=`@export clay.skybox.vertex
#define SHADER_NAME skybox
uniform mat4 world : WORLD;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
varying vec3 v_WorldPosition;
void main()
{
 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end
@export clay.skybox.fragment
#define PI 3.1415926
uniform mat4 viewInverse : VIEWINVERSE;
#ifdef EQUIRECTANGULAR
uniform sampler2D environmentMap;
#else
uniform samplerCube environmentMap;
#endif
uniform float lod: 0.0;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
@import clay.util.srgb
@import clay.util.ACES
void main()
{
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
#ifdef EQUIRECTANGULAR
 float phi = acos(V.y);
 float theta = atan(-V.x, V.z) + PI * 0.5;
 vec2 uv = vec2(theta / 2.0 / PI, phi / PI);
 vec4 texel = decodeHDR(texture2D(environmentMap, fract(uv)));
#else
 #if defined(LOD) || defined(SUPPORT_TEXTURE_LOD)
 vec4 texel = decodeHDR(textureCubeLodEXT(environmentMap, V, lod));
 #else
 vec4 texel = decodeHDR(textureCube(environmentMap, V));
 #endif
#endif
#ifdef SRGB_DECODE
 texel = sRGBToLinear(texel);
#endif
#ifdef TONEMAPPING
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
#ifdef SRGB_ENCODE
 texel = linearTosRGB(texel);
#endif
 gl_FragColor = encodeHDR(vec4(texel.rgb, 1.0));
}
@end`;qe.import(pLe);var Q2=Vi.extend(function(){var t=new qe({vertex:qe.source("clay.skybox.vertex"),fragment:qe.source("clay.skybox.fragment")}),e=new Ms({shader:t,depthMask:!1});return{scene:null,geometry:new Tre,material:e,environmentMap:null,culling:!1,_dummyCamera:new Hi}},function(){var t=this.scene;t&&this.attachScene(t),this.environmentMap&&this.setEnvironmentMap(this.environmentMap)},{attachScene:function(t){this.scene&&this.detachScene(),t.skybox=this,this.scene=t,t.on("beforerender",this._beforeRenderScene,this)},detachScene:function(){this.scene&&(this.scene.off("beforerender",this._beforeRenderScene),this.scene.skybox=null),this.scene=null},dispose:function(t){this.detachScene(),this.geometry.dispose(t)},setEnvironmentMap:function(t){t.textureType==="texture2D"?(this.material.define("EQUIRECTANGULAR"),t.minFilter=We.LINEAR):this.material.undefine("EQUIRECTANGULAR"),this.material.set("environmentMap",t)},getEnvironmentMap:function(){return this.material.get("environmentMap")},_beforeRenderScene:function(t,e,r){this.renderSkybox(t,r)},renderSkybox:function(t,e){var r=this._dummyCamera;r.aspect=t.getViewportAspect(),r.fov=e.fov||50,r.updateProjectionMatrix(),Qe.invert(r.invProjectionMatrix,r.projectionMatrix),r.worldTransform.copy(e.worldTransform),r.viewMatrix.copy(e.viewMatrix),this.position.copy(e.getWorldPosition()),this.update(),t.gl.disable(t.gl.BLEND),this.material.get("lod")>0?this.material.define("fragment","LOD"):this.material.undefine("fragment","LOD"),t.renderPass([this],r)}}),gLe=542327876,vLe=131072,mLe=512,yLe=4;function uI(t){return t.charCodeAt(0)+(t.charCodeAt(1)<<8)+(t.charCodeAt(2)<<16)+(t.charCodeAt(3)<<24)}var _Le=31,xLe=uI("DXT1"),bLe=uI("DXT3"),CLe=uI("DXT5"),ELe=0,SLe=1,TLe=2,ALe=3,wLe=4,DLe=7,FLe=20,ILe=21,BLe=28,MLe={parse:function(t,e){var r=new Int32Array(t,0,_Le);if(r[ELe]!==gLe||!r(FLe)&yLe)return null;var i=r(ILe),n=r[wLe],a=r[ALe],s=r[BLe]&mLe,o=r[TLe]&vLe,u,l;switch(i){case xLe:u=8,l=We.COMPRESSED_RGB_S3TC_DXT1_EXT;break;case bLe:u=16,l=We.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case CLe:u=16,l=We.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;default:return null}var c=r[SLe]+4,h=s?6:1,f=1;o&&(f=Math.max(1,r[DLe]));for(var d=[],p=0;p<h;p++){var g=n,v=a;d[p]=new Rt({width:g,height:v,format:l});for(var m=[],y=0;y<f;y++){var _=Math.max(4,g)/4*Math.max(4,v)/4*u,x=new Uint8Array(t,c,_);c+=_,g*=.5,v*=.5,m[y]=x}d[p].pixels=m[0],o&&(d[p].mipmaps=m)}if(e)e.width=d[0].width,e.height=d[0].height,e.format=d[0].format,e.pixels=d[0].pixels,e.mipmaps=d[0].mipmaps;else return d[0]}},n5=String.fromCharCode,PLe=8,LLe=32767;function OLe(t,e,r,i){if(t[3]>0){var n=Math.pow(2,t[3]-128-8+i);e[r+0]=t[0]*n,e[r+1]=t[1]*n,e[r+2]=t[2]*n}else e[r+0]=0,e[r+1]=0,e[r+2]=0;return e[r+3]=1,e}function RLe(t,e,r){for(var i="",n=e;n<r;n++)i+=n5(t[n]);return i}function NLe(t,e){e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]}function SU(t,e,r,i){for(var n=0,a=0,s=i;s>0;)if(t[a][0]=e[r++],t[a][1]=e[r++],t[a][2]=e[r++],t[a][3]=e[r++],t[a][0]===1&&t[a][1]===1&&t[a][2]===1){for(var o=t[a][3]<<n>>>0;o>0;o--)NLe(t[a-1],t[a]),a++,s--;n+=8}else a++,s--,n=0;return r}function kLe(t,e,r,i){if(i<PLe|i>LLe)return SU(t,e,r,i);var n=e[r++];if(n!=2)return SU(t,e,r-1,i);if(t[0][1]=e[r++],t[0][2]=e[r++],n=e[r++],(t[0][2]<<8>>>0|n)>>>0!==i)return null;for(var n=0;n<4;n++)for(var a=0;a<i;){var s=e[r++];if(s>128){s=(s&127)>>>0;for(var o=e[r++];s--;)t[a++][n]=o}else for(;s--;)t[a++][n]=e[r++]}return r}var zLe={parseRGBE:function(t,e,r){r==null&&(r=0);var i=new Uint8Array(t),n=i.length;if(RLe(i,0,2)==="#?"){for(var a=2;a<n&&!(n5(i[a])===`
`&&n5(i[a+1])===`
`);a++);if(!(a>=n)){a+=2;for(var s="";a<n;a++){var o=n5(i[a]);if(o===`
`)break;s+=o}var u=s.split(" "),l=parseInt(u[1]),c=parseInt(u[3]);if(!(!c||!l)){for(var h=a+1,f=[],d=0;d<c;d++){f[d]=[];for(var p=0;p<4;p++)f[d][p]=0}for(var g=new Float32Array(c*l*4),v=0,m=0;m<l;m++){var h=kLe(f,i,h,c);if(!h)return null;for(var d=0;d<c;d++)OLe(f[d],g,v,r),v+=4}return e||(e=new Rt),e.width=c,e.height=l,e.pixels=g,e.type=We.FLOAT,e}}}},parseRGBEFromPNG:function(t){}},cu={loadTexture:function(t,e,r,i){var n;if(typeof e=="function"?(r=e,i=r,e={}):e=e||{},typeof t=="string"){if(t.match(/.hdr$/)||e.fileType==="hdr")return n=new Rt({width:0,height:0,sRGB:!1}),cu._fetchTexture(t,function(a){zLe.parseRGBE(a,n,e.exposure),n.dirty(),r&&r(n)},i),n;t.match(/.dds$/)||e.fileType==="dds"?(n=new Rt({width:0,height:0}),cu._fetchTexture(t,function(a){MLe.parse(a,n),n.dirty(),r&&r(n)},i)):(n=new Rt,n.load(t),n.success(r),n.error(i))}else typeof t=="object"&&typeof t.px<"u"&&(n=new af,n.load(t),n.success(r),n.error(i));return n},loadPanorama:function(t,e,r,i,n,a){var s=this;typeof i=="function"?(n=i,a=n,i={}):i=i||{},cu.loadTexture(e,i,function(o){o.flipY=i.flipY||!1,s.panoramaToCubeMap(t,o,r,i),o.dispose(t),n&&n(r)},a)},panoramaToCubeMap:function(t,e,r,i){var n=new oI,a=new Q2({scene:new Yc});return a.setEnvironmentMap(e),i=i||{},i.encodeRGBM&&a.material.define("fragment","RGBM_ENCODE"),r.sRGB=e.sRGB,n.texture=r,n.render(t,a.scene),n.texture=null,n.dispose(t),r},heightToNormal:function(t,e){var r=document.createElement("canvas"),i=r.width=t.width,n=r.height=t.height,a=r.getContext("2d");a.drawImage(t,0,0,i,n),e=e||!1;for(var s=a.getImageData(0,0,i,n),o=a.createImageData(i,n),u=0;u<s.data.length;u+=4){if(e){var l=s.data[u],c=s.data[u+1],h=s.data[u+2],f=Math.abs(l-c)+Math.abs(c-h);if(f>20)return console.warn("Given image is not a height map"),t}var d,p,g,v;u%(i*4)===0?(d=s.data[u],g=s.data[u+4]):u%(i*4)===(i-1)*4?(d=s.data[u-4],g=s.data[u]):(d=s.data[u-4],g=s.data[u+4]),u<i*4?(p=s.data[u],v=s.data[u+i*4]):u>i*(n-1)*4?(p=s.data[u-i*4],v=s.data[u]):(p=s.data[u-i*4],v=s.data[u+i*4]),o.data[u]=d-g+127,o.data[u+1]=p-v+127,o.data[u+2]=255,o.data[u+3]=255}return a.putImageData(o,0,0),r},isHeightImage:function(t,e,r){if(!t||!t.width||!t.height)return!1;var i=document.createElement("canvas"),n=i.getContext("2d"),a=e||32;r=r||20,i.width=i.height=a,n.drawImage(t,0,0,a,a);for(var s=n.getImageData(0,0,a,a),o=0;o<s.data.length;o+=4){var u=s.data[o],l=s.data[o+1],c=s.data[o+2],h=Math.abs(u-l)+Math.abs(l-c);if(h>r)return!1}return!0},_fetchTexture:function(t,e,r){ur.request.get({url:t,responseType:"arraybuffer",onload:e,onerror:r})},createChessboard:function(t,e,r,i){t=t||512,e=e||64,r=r||"black",i=i||"white";var n=Math.ceil(t/e),a=document.createElement("canvas");a.width=t,a.height=t;var s=a.getContext("2d");s.fillStyle=i,s.fillRect(0,0,t,t),s.fillStyle=r;for(var o=0;o<n;o++)for(var u=0;u<n;u++){var l=u%2?o%2:o%2-1;l&&s.fillRect(o*e,u*e,e,e)}var c=new Rt({image:a,anisotropic:8});return c},createBlank:function(t){var e=document.createElement("canvas");e.width=1,e.height=1;var r=e.getContext("2d");r.fillStyle=t,r.fillRect(0,0,1,1);var i=new Rt({image:e});return i}},eD=["mousedown","mouseup","mousemove","mouseover","mouseout","click","dblclick","contextmenu"];function tD(t){return"_on"+t}var rD=function(t){var e=this;this._texture=new Rt({anisotropic:32,flipY:!1,surface:this,dispose:function(r){e.dispose(),Rt.prototype.dispose.call(this,r)}}),eD.forEach(function(r){this[tD(r)]=function(i){i.triangle&&this._meshes.forEach(function(n){this.dispatchEvent(r,n,i.triangle,i.point)},this)}},this),this._meshes=[],t&&this.setECharts(t),this.onupdate=null};rD.prototype={constructor:rD,getTexture:function(){return this._texture},setECharts:function(t){this._chart=t;var e=t.getDom();if(!(e instanceof HTMLCanvasElement))console.error("ECharts must init on canvas if it is used as texture."),e=document.createElement("canvas");else{var r=this,i=t.getZr(),n=i.__oldRefreshImmediately||i.refreshImmediately;i.refreshImmediately=function(){n.call(this),r._texture.dirty(),r.onupdate&&r.onupdate()},i.__oldRefreshImmediately=n}this._texture.image=e,this._texture.dirty(),this.onupdate&&this.onupdate()},dispatchEvent:function(){var t=new Fe,e=new Fe,r=new Fe,i=new Tt,n=new Tt,a=new Tt,s=new Tt,o=new Fe;return function(u,l,c,h){var f=l.geometry,d=f.attributes.position,p=f.attributes.texcoord0,g=Fe.dot,v=Fe.cross;d.get(c[0],t.array),d.get(c[1],e.array),d.get(c[2],r.array),p.get(c[0],i.array),p.get(c[1],n.array),p.get(c[2],a.array),v(o,e,r);var m=g(t,o),y=g(h,o)/m;v(o,r,t);var _=g(h,o)/m;v(o,t,e);var x=g(h,o)/m;Tt.scale(s,i,y),Tt.scaleAndAdd(s,s,n,_),Tt.scaleAndAdd(s,s,a,x);var b=s.x*this._chart.getWidth(),C=s.y*this._chart.getHeight();this._chart.getZr().handler.dispatch(u,{zrX:b,zrY:C})}}(),attachToMesh:function(t){this._meshes.indexOf(t)>=0||(eD.forEach(function(e){t.on(e,this[tD(e)],this)},this),this._meshes.push(t))},detachFromMesh:function(t){var e=this._meshes.indexOf(t);e>=0&&this._meshes.splice(e,1),eD.forEach(function(r){t.off(r,this[tD(r)])},this)},dispose:function(){this._meshes.forEach(function(t){this.detachFromMesh(t)},this)}};var Np=Rp.extend({left:-1,right:1,near:-1,far:1,top:1,bottom:-1},{updateProjectionMatrix:function(){this.projectionMatrix.ortho(this.left,this.right,this.bottom,this.top,this.near,this.far)},decomposeProjectionMatrix:function(){var t=this.projectionMatrix.array;this.left=(-1-t[12])/t[0],this.right=(1-t[12])/t[0],this.top=(1-t[13])/t[5],this.bottom=(-1-t[13])/t[5],this.near=-(-1-t[14])/t[10],this.far=-(1-t[14])/t[10]},clone:function(){var t=Rp.prototype.clone.call(this);return t.left=this.left,t.right=this.right,t.near=this.near,t.far=this.far,t.top=this.top,t.bottom=this.bottom,t}});const HLe=`
@export clay.compositor.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
varying vec2 v_Texcoord;
void main()
{
 v_Texcoord = texcoord;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end`;qe.import(HLe);var GLe=new iC,TU=new Vi({geometry:GLe,frustumCulling:!1}),ULe=new Np,Di=vn.extend(function(){return{fragment:"",outputs:null,material:null,blendWithPrevious:!1,clearColor:!1,clearDepth:!0}},function(){var t=new qe(qe.source("clay.compositor.vertex"),this.fragment),e=new Ms({shader:t});e.enableTexturesAll(),this.material=e},{setUniform:function(t,e){this.material.setUniform(t,e)},getUniform:function(t){var e=this.material.uniforms[t];if(e)return e.value},attachOutput:function(t,e){this.outputs||(this.outputs={}),e=e||Re.COLOR_ATTACHMENT0,this.outputs[e]=t},detachOutput:function(t){for(var e in this.outputs)this.outputs[e]===t&&(this.outputs[e]=null)},bind:function(t,e){if(this.outputs)for(var r in this.outputs){var i=this.outputs[r];i&&e.attach(i,r)}e&&e.bind(t)},unbind:function(t,e){e.unbind(t)},render:function(t,e){var r=t.gl;if(e){this.bind(t,e);var i=t.getGLExtension("EXT_draw_buffers");if(i&&this.outputs){var n=[];for(var a in this.outputs)a=+a,a>=r.COLOR_ATTACHMENT0&&a<=r.COLOR_ATTACHMENT0+8&&n.push(a);i.drawBuffersEXT(n)}}this.trigger("beforerender",this,t);var s=this.clearDepth?r.DEPTH_BUFFER_BIT:0;if(r.depthMask(!0),this.clearColor){s=s|r.COLOR_BUFFER_BIT,r.colorMask(!0,!0,!0,!0);var o=this.clearColor;Array.isArray(o)&&r.clearColor(o[0],o[1],o[2],o[3])}r.clear(s),this.blendWithPrevious?(r.enable(r.BLEND),this.material.transparent=!0):(r.disable(r.BLEND),this.material.transparent=!1),this.renderQuad(t),this.trigger("afterrender",this,t),e&&this.unbind(t,e)},renderQuad:function(t){TU.material=this.material,t.renderPass([TU],ULe)},dispose:function(t){}});const jLe=`#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform sampler2D normalDistribution;
uniform vec2 viewportSize : [512, 256];
const vec3 N = vec3(0.0, 0.0, 1.0);
const float fSampleNumber = float(SAMPLE_NUMBER);
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
float G_Smith(float roughness, float NoV, float NoL) {
 float k = roughness * roughness / 2.0;
 float G1V = NoV / (NoV * (1.0 - k) + k);
 float G1L = NoL / (NoL * (1.0 - k) + k);
 return G1L * G1V;
}
void main() {
 vec2 uv = gl_FragCoord.xy / viewportSize;
 float NoV = uv.x;
 float roughness = uv.y;
 vec3 V;
 V.x = sqrt(1.0 - NoV * NoV);
 V.y = 0.0;
 V.z = NoV;
 float A = 0.0;
 float B = 0.0;
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(L.z, 0.0, 1.0);
 float NoH = clamp(H.z, 0.0, 1.0);
 float VoH = clamp(dot(V, H), 0.0, 1.0);
 if (NoL > 0.0) {
 float G = G_Smith(roughness, NoV, NoL);
 float G_Vis = G * VoH / (NoH * NoV);
 float Fc = pow(1.0 - VoH, 5.0);
 A += (1.0 - Fc) * G_Vis;
 B += Fc * G_Vis;
 }
 }
 gl_FragColor = vec4(vec2(A, B) / fSampleNumber, 0.0, 1.0);
}
`,VLe=`#define SHADER_NAME prefilter
#define SAMPLE_NUMBER 1024
#define PI 3.14159265358979
uniform mat4 viewInverse : VIEWINVERSE;
uniform samplerCube environmentMap;
uniform sampler2D normalDistribution;
uniform float roughness : 0.5;
varying vec2 v_Texcoord;
varying vec3 v_WorldPosition;
@import clay.util.rgbm
vec3 importanceSampleNormal(float i, float roughness, vec3 N) {
 vec3 H = texture2D(normalDistribution, vec2(roughness, i)).rgb;
 vec3 upVector = abs(N.y) > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
void main() {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(v_WorldPosition - eyePos);
 vec3 N = V;
 vec3 prefilteredColor = vec3(0.0);
 float totalWeight = 0.0;
 float fMaxSampleNumber = float(SAMPLE_NUMBER);
 for (int i = 0; i < SAMPLE_NUMBER; i++) {
 vec3 H = importanceSampleNormal(float(i) / fMaxSampleNumber, roughness, N);
 vec3 L = reflect(-V, H);
 float NoL = clamp(dot(N, L), 0.0, 1.0);
 if (NoL > 0.0) {
 prefilteredColor += decodeHDR(textureCube(environmentMap, L)).rgb * NoL;
 totalWeight += NoL;
 }
 }
 gl_FragColor = encodeHDR(vec4(prefilteredColor / totalWeight, 1.0));
}
`;var hu={},dT=["px","nx","py","ny","pz","nz"];hu.prefilterEnvironmentMap=function(t,e,r,i,n){(!n||!i)&&(i=hu.generateNormalDistribution(),n=hu.integrateBRDF(t,i)),r=r||{};var a=r.width||64,s=r.height||64,o=r.type||e.type,u=new af({width:a,height:s,type:o,flipY:!1,mipmaps:[]});u.isPowerOfTwo()||console.warn("Width and height must be power of two to enable mipmap.");var l=Math.min(a,s),c=Math.log(l)/Math.log(2)+1,h=new Ms({shader:new qe({vertex:qe.source("clay.skybox.vertex"),fragment:VLe})});h.set("normalDistribution",i),r.encodeRGBM&&h.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&h.define("fragment","RGBM_DECODE");var f=new Yc,d;if(e.textureType==="texture2D"){var p=new af({width:a,height:s,type:o===We.FLOAT?We.HALF_FLOAT:o});cu.panoramaToCubeMap(t,e,p,{encodeRGBM:r.decodeRGBM}),e=p}d=new Q2({scene:f,material:h}),d.material.set("environmentMap",e);var g=new oI({texture:u});r.encodeRGBM&&(o=u.type=We.UNSIGNED_BYTE);for(var v=new Rt({width:a,height:s,type:o}),m=new mi({depthBuffer:!1}),y=ur[o===We.UNSIGNED_BYTE?"Uint8Array":"Float32Array"],_=0;_<c;_++){u.mipmaps[_]={pixels:{}},d.material.set("roughness",_/(c-1));for(var x=v.width,b=2*Math.atan(x/(x-.5))/Math.PI*180,C=0;C<dT.length;C++){var E=new y(v.width*v.height*4);m.attach(v),m.bind(t);var A=g.getCamera(dT[C]);A.fov=b,t.render(f,A),t.gl.readPixels(0,0,v.width,v.height,We.RGBA,o,E),m.unbind(t),u.mipmaps[_].pixels[dT[C]]=E}v.width/=2,v.height/=2,v.dirty()}return m.dispose(t),v.dispose(t),d.dispose(t),i.dispose(t),{environmentMap:u,brdfLookup:n,normalDistribution:i,maxMipmapLevel:c}};hu.integrateBRDF=function(t,e){e=e||hu.generateNormalDistribution();var r=new mi({depthBuffer:!1}),i=new Di({fragment:jLe}),n=new Rt({width:512,height:256,type:We.HALF_FLOAT,wrapS:We.CLAMP_TO_EDGE,wrapT:We.CLAMP_TO_EDGE,minFilter:We.NEAREST,magFilter:We.NEAREST,useMipmap:!1});return i.setUniform("normalDistribution",e),i.setUniform("viewportSize",[512,256]),i.attachOutput(n),i.render(t,r),r.dispose(t),n};hu.generateNormalDistribution=function(r,i){for(var r=r||256,i=i||1024,n=new Rt({width:r,height:i,type:We.FLOAT,minFilter:We.NEAREST,magFilter:We.NEAREST,wrapS:We.CLAMP_TO_EDGE,wrapT:We.CLAMP_TO_EDGE,useMipmap:!1}),a=new Float32Array(i*r*4),s=[],o=0;o<r;o++){for(var u=o/r,l=u*u,c=0;c<i;c++){var h=(c<<16|c>>>16)>>>0;h=((h&1431655765)<<1|(h&2863311530)>>>1)>>>0,h=((h&858993459)<<2|(h&3435973836)>>>2)>>>0,h=((h&252645135)<<4|(h&4042322160)>>>4)>>>0,h=(((h&16711935)<<8|(h&4278255360)>>>8)>>>0)/4294967296;var f=Math.sqrt((1-h)/(1+(l*l-1)*h));s[c]=f}for(var c=0;c<i;c++){var d=(c*r+o)*4,f=s[c],p=Math.sqrt(1-f*f),g=c/i,v=2*Math.PI*g;a[d]=p*Math.cos(v),a[d+1]=f,a[d+2]=p*Math.sin(v),a[d+3]=1}}return n.pixels=a,n};var $Le=Co.extend({cubemap:null,castShadow:!1,_normalDistribution:null,_brdfLookup:null},{type:"AMBIENT_CUBEMAP_LIGHT",prefilter:function(t,e){if(!t.getGLExtension("EXT_shader_texture_lod")){console.warn("Device not support textureCubeLodEXT");return}this._brdfLookup||(this._normalDistribution=hu.generateNormalDistribution(),this._brdfLookup=hu.integrateBRDF(t,this._normalDistribution));var r=this.cubemap;if(!r.__prefiltered){var i=hu.prefilterEnvironmentMap(t,r,{encodeRGBM:!0,width:e,height:e},this._normalDistribution,this._brdfLookup);this.cubemap=i.environmentMap,this.cubemap.__prefiltered=!0,r.dispose(t)}},getBRDFLookup:function(){return this._brdfLookup},uniformTemplates:{ambientCubemapLightColor:{type:"3f",value:function(t){var e=t.color,r=t.intensity;return[e[0]*r,e[1]*r,e[2]*r]}},ambientCubemapLightCubemap:{type:"t",value:function(t){return t.cubemap}},ambientCubemapLightBRDFLookup:{type:"t",value:function(t){return t._brdfLookup}}}}),WLe=Co.extend({castShadow:!1,coefficients:[]},function(){this._coefficientsTmpArr=new ur.Float32Array(9*3)},{type:"AMBIENT_SH_LIGHT",uniformTemplates:{ambientSHLightColor:{type:"3f",value:function(t){var e=t.color,r=t.intensity;return[e[0]*r,e[1]*r,e[2]*r]}},ambientSHLightCoefficients:{type:"3f",value:function(t){for(var e=t._coefficientsTmpArr,r=0;r<t.coefficients.length;r++)e[r]=t.coefficients[r];return e}}}}),Are={},_h=["px","nx","py","ny","pz","nz"];function YLe(t,e){var r=t[0],i=t[1],n=t[2];return e===0?1:e===1?r:e===2?i:e===3?n:e===4?r*n:e===5?i*n:e===6?r*i:e===7?3*n*n-1:r*r-i*i}var qLe={px:[2,1,0,-1,-1,1],nx:[2,1,0,1,-1,-1],py:[0,2,1,1,-1,-1],ny:[0,2,1,1,1,1],pz:[0,1,2,-1,-1,-1],nz:[0,1,2,1,-1,1]};function XLe(t,e,r,i){for(var n=new ur.Float32Array(27),a=oe.create(),s=oe.create(),o=oe.create(),u=0;u<9;u++){for(var l=oe.create(),c=0;c<_h.length;c++){for(var h=e[_h[c]],f=oe.create(),d=0,p=0,g=qLe[_h[c]],v=0;v<i;v++)for(var m=0;m<r;m++){a[0]=m/(r-1)*2-1,a[1]=v/(i-1)*2-1,a[2]=-1,oe.normalize(a,a),o[0]=a[g[0]]*g[3],o[1]=a[g[1]]*g[4],o[2]=a[g[2]]*g[5],s[0]=h[p++]/255,s[1]=h[p++]/255,s[2]=h[p++]/255;var y=h[p++]/255*8.12;s[0]*=y,s[1]*=y,s[2]*=y,oe.scaleAndAdd(f,f,s,YLe(o,u)*-a[2]),d+=-a[2]}oe.scaleAndAdd(l,l,f,1/d)}n[u*3]=l[0]/6,n[u*3+1]=l[1]/6,n[u*3+2]=l[2]/6}return n}Are.projectEnvironmentMap=function(t,e,r){r=r||{},r.lod=r.lod||0;var i,n=new Yc,a=64;e.textureType==="texture2D"?i=new Q2({scene:n,environmentMap:e}):(a=e.image&&e.image.px?e.image.px.width:e.width,i=new Q2({scene:n,environmentMap:e}));var s=Math.ceil(a/Math.pow(2,r.lod)),o=Math.ceil(a/Math.pow(2,r.lod)),u=new Rt({width:s,height:o}),l=new mi;i.material.define("fragment","RGBM_ENCODE"),r.decodeRGBM&&i.material.define("fragment","RGBM_DECODE"),i.material.set("lod",r.lod);for(var c=new oI({texture:u}),h={},f=0;f<_h.length;f++){h[_h[f]]=new Uint8Array(s*o*4);var d=c.getCamera(_h[f]);d.fov=90,l.attach(u),l.bind(t),t.render(n,d),t.gl.readPixels(0,0,s,o,We.RGBA,We.UNSIGNED_BYTE,h[_h[f]]),l.unbind(t)}return i.dispose(t),l.dispose(t),u.dispose(t),XLe(t,h,s,o)};var jt={firstNotNull:function(){for(var t=0,e=arguments.length;t<e;t++)if(arguments[t]!=null)return arguments[t]},queryDataIndex:function(t,e){if(e.dataIndexInside!=null)return e.dataIndexInside;if(e.dataIndex!=null)return Te(e.dataIndex)?Ie(e.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(e.dataIndex);if(e.name!=null)return Te(e.name)?Ie(e.name,function(r){return t.indexOfName(r)}):t.indexOfName(e.name)}},ZLe=$t.extend({dynamic:!1,widthSegments:40,heightSegments:20,phiStart:0,phiLength:Math.PI*2,thetaStart:0,thetaLength:Math.PI,radius:1},function(){this.build()},{build:function(){var t=this.heightSegments,e=this.widthSegments,r=this.attributes.position,i=this.attributes.texcoord0,n=this.attributes.normal,a=(e+1)*(t+1);r.init(a),i.init(a),n.init(a);var s=a>65535?Uint32Array:Uint16Array,o=this.indices=new s(e*t*6),u,l,c,h,f,d,p,_=this.radius,g=this.phiStart,v=this.phiLength,m=this.thetaStart,y=this.thetaLength,_=this.radius,x=[],b=[],C=0,E=1/_;for(p=0;p<=t;p++)for(d=0;d<=e;d++)h=d/e,f=p/t,u=-_*Math.cos(g+h*v)*Math.sin(m+f*y),l=_*Math.cos(m+f*y),c=_*Math.sin(g+h*v)*Math.sin(m+f*y),x[0]=u,x[1]=l,x[2]=c,b[0]=h,b[1]=f,r.set(C,x),i.set(C,b),x[0]*=E,x[1]*=E,x[2]*=E,n.set(C,x),C++;var A,S,T,D,F=e+1,B=0;for(p=0;p<t;p++)for(d=0;d<e;d++)S=p*F+d,A=p*F+d+1,D=(p+1)*F+d+1,T=(p+1)*F+d,o[B++]=A,o[B++]=S,o[B++]=D,o[B++]=S,o[B++]=T,o[B++]=D;this.boundingBox=new cn,this.boundingBox.max.set(_,_,_),this.boundingBox.min.set(-_,-_,-_)}}),KLe=Co.extend({castShadow:!1},{type:"AMBIENT_LIGHT",uniformTemplates:{ambientLightColor:{type:"3f",value:function(t){var e=t.color,r=t.intensity;return[e[0]*r,e[1]*r,e[2]*r]}}}}),JLe=Co.extend({shadowBias:.001,shadowSlopeScale:2,shadowCascade:1,cascadeSplitLogFactor:.2},{type:"DIRECTIONAL_LIGHT",uniformTemplates:{directionalLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new Fe,t.__dir.copy(t.worldTransform.z).normalize().negate().array}},directionalLightColor:{type:"3f",value:function(t){var e=t.color,r=t.intensity;return[e[0]*r,e[1]*r,e[2]*r]}}},clone:function(){var t=Co.prototype.clone.call(this);return t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}}),QLe=Co.extend({range:100,castShadow:!1},{type:"POINT_LIGHT",uniformTemplates:{pointLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},pointLightRange:{type:"1f",value:function(t){return t.range}},pointLightColor:{type:"3f",value:function(t){var e=t.color,r=t.intensity;return[e[0]*r,e[1]*r,e[2]*r]}}},clone:function(){var t=Co.prototype.clone.call(this);return t.range=this.range,t}}),eOe=Co.extend({range:20,umbraAngle:30,penumbraAngle:45,falloffFactor:2,shadowBias:.001,shadowSlopeScale:2},{type:"SPOT_LIGHT",uniformTemplates:{spotLightPosition:{type:"3f",value:function(t){return t.getWorldPosition().array}},spotLightRange:{type:"1f",value:function(t){return t.range}},spotLightUmbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.umbraAngle*Math.PI/180)}},spotLightPenumbraAngleCosine:{type:"1f",value:function(t){return Math.cos(t.penumbraAngle*Math.PI/180)}},spotLightFalloffFactor:{type:"1f",value:function(t){return t.falloffFactor}},spotLightDirection:{type:"3f",value:function(t){return t.__dir=t.__dir||new Fe,t.__dir.copy(t.worldTransform.z).negate().array}},spotLightColor:{type:"3f",value:function(t){var e=t.color,r=t.intensity;return[e[0]*r,e[1]*r,e[2]*r]}}},clone:function(){var t=Co.prototype.clone.call(this);return t.range=this.range,t.umbraAngle=this.umbraAngle,t.penumbraAngle=this.penumbraAngle,t.falloffFactor=this.falloffFactor,t.shadowBias=this.shadowBias,t.shadowSlopeScale=this.shadowSlopeScale,t}}),rr=function(t,e,r,i){t=t||0,e=e||0,r=r||0,i=i||0,this.array=Ne.fromValues(t,e,r,i),this._dirty=!0};rr.prototype={constructor:rr,add:function(t){return Ne.add(this.array,this.array,t.array),this._dirty=!0,this},set:function(t,e,r,i){return this.array[0]=t,this.array[1]=e,this.array[2]=r,this.array[3]=i,this._dirty=!0,this},setArray:function(t){return this.array[0]=t[0],this.array[1]=t[1],this.array[2]=t[2],this.array[3]=t[3],this._dirty=!0,this},clone:function(){return new rr(this.x,this.y,this.z,this.w)},copy:function(t){return Ne.copy(this.array,t.array),this._dirty=!0,this},dist:function(t){return Ne.dist(this.array,t.array)},distance:function(t){return Ne.distance(this.array,t.array)},div:function(t){return Ne.div(this.array,this.array,t.array),this._dirty=!0,this},divide:function(t){return Ne.divide(this.array,this.array,t.array),this._dirty=!0,this},dot:function(t){return Ne.dot(this.array,t.array)},len:function(){return Ne.len(this.array)},length:function(){return Ne.length(this.array)},lerp:function(t,e,r){return Ne.lerp(this.array,t.array,e.array,r),this._dirty=!0,this},min:function(t){return Ne.min(this.array,this.array,t.array),this._dirty=!0,this},max:function(t){return Ne.max(this.array,this.array,t.array),this._dirty=!0,this},mul:function(t){return Ne.mul(this.array,this.array,t.array),this._dirty=!0,this},multiply:function(t){return Ne.multiply(this.array,this.array,t.array),this._dirty=!0,this},negate:function(){return Ne.negate(this.array,this.array),this._dirty=!0,this},normalize:function(){return Ne.normalize(this.array,this.array),this._dirty=!0,this},random:function(t){return Ne.random(this.array,t),this._dirty=!0,this},scale:function(t){return Ne.scale(this.array,this.array,t),this._dirty=!0,this},scaleAndAdd:function(t,e){return Ne.scaleAndAdd(this.array,this.array,t.array,e),this._dirty=!0,this},sqrDist:function(t){return Ne.sqrDist(this.array,t.array)},squaredDistance:function(t){return Ne.squaredDistance(this.array,t.array)},sqrLen:function(){return Ne.sqrLen(this.array)},squaredLength:function(){return Ne.squaredLength(this.array)},sub:function(t){return Ne.sub(this.array,this.array,t.array),this._dirty=!0,this},subtract:function(t){return Ne.subtract(this.array,this.array,t.array),this._dirty=!0,this},transformMat4:function(t){return Ne.transformMat4(this.array,this.array,t.array),this._dirty=!0,this},transformQuat:function(t){return Ne.transformQuat(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};var Hv=Object.defineProperty;if(Hv){var Q_=rr.prototype;Hv(Q_,"x",{get:function(){return this.array[0]},set:function(t){this.array[0]=t,this._dirty=!0}}),Hv(Q_,"y",{get:function(){return this.array[1]},set:function(t){this.array[1]=t,this._dirty=!0}}),Hv(Q_,"z",{get:function(){return this.array[2]},set:function(t){this.array[2]=t,this._dirty=!0}}),Hv(Q_,"w",{get:function(){return this.array[3]},set:function(t){this.array[3]=t,this._dirty=!0}})}rr.add=function(t,e,r){return Ne.add(t.array,e.array,r.array),t._dirty=!0,t};rr.set=function(t,e,r,i,n){Ne.set(t.array,e,r,i,n),t._dirty=!0};rr.copy=function(t,e){return Ne.copy(t.array,e.array),t._dirty=!0,t};rr.dist=function(t,e){return Ne.distance(t.array,e.array)};rr.distance=rr.dist;rr.div=function(t,e,r){return Ne.divide(t.array,e.array,r.array),t._dirty=!0,t};rr.divide=rr.div;rr.dot=function(t,e){return Ne.dot(t.array,e.array)};rr.len=function(t){return Ne.length(t.array)};rr.lerp=function(t,e,r,i){return Ne.lerp(t.array,e.array,r.array,i),t._dirty=!0,t};rr.min=function(t,e,r){return Ne.min(t.array,e.array,r.array),t._dirty=!0,t};rr.max=function(t,e,r){return Ne.max(t.array,e.array,r.array),t._dirty=!0,t};rr.mul=function(t,e,r){return Ne.multiply(t.array,e.array,r.array),t._dirty=!0,t};rr.multiply=rr.mul;rr.negate=function(t,e){return Ne.negate(t.array,e.array),t._dirty=!0,t};rr.normalize=function(t,e){return Ne.normalize(t.array,e.array),t._dirty=!0,t};rr.random=function(t,e){return Ne.random(t.array,e),t._dirty=!0,t};rr.scale=function(t,e,r){return Ne.scale(t.array,e.array,r),t._dirty=!0,t};rr.scaleAndAdd=function(t,e,r,i){return Ne.scaleAndAdd(t.array,e.array,r.array,i),t._dirty=!0,t};rr.sqrDist=function(t,e){return Ne.sqrDist(t.array,e.array)};rr.squaredDistance=rr.sqrDist;rr.sqrLen=function(t){return Ne.sqrLen(t.array)};rr.squaredLength=rr.sqrLen;rr.sub=function(t,e,r){return Ne.subtract(t.array,e.array,r.array),t._dirty=!0,t};rr.subtract=rr.sub;rr.transformMat4=function(t,e,r){return Ne.transformMat4(t.array,e.array,r.array),t._dirty=!0,t};rr.transformQuat=function(t,e,r){return Ne.transformQuat(t.array,e.array,r.array),t._dirty=!0,t};var ir={};ir.create=function(){var t=new mn(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t};ir.clone=function(t){var e=new mn(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e};ir.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t};ir.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t};ir.transpose=function(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t};ir.invert=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=r*a-n*i;return s?(s=1/s,t[0]=a*s,t[1]=-i*s,t[2]=-n*s,t[3]=r*s,t):null};ir.adjoint=function(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t};ir.determinant=function(t){return t[0]*t[3]-t[2]*t[1]};ir.multiply=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=r[0],u=r[1],l=r[2],c=r[3];return t[0]=i*o+a*u,t[1]=n*o+s*u,t[2]=i*l+a*c,t[3]=n*l+s*c,t};ir.mul=ir.multiply;ir.rotate=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=i*u+a*o,t[1]=n*u+s*o,t[2]=i*-o+a*u,t[3]=n*-o+s*u,t};ir.scale=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=r[0],u=r[1];return t[0]=i*o,t[1]=n*o,t[2]=a*u,t[3]=s*u,t};ir.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))};ir.LDU=function(t,e,r,i){return t[2]=i[2]/i[0],r[0]=i[0],r[1]=i[1],r[3]=i[3]-t[2]*r[1],[t,e,r]};var ca=function(){this.array=ir.create(),this._dirty=!0};ca.prototype={constructor:ca,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return new ca().copy(this)},copy:function(t){return ir.copy(this.array,t.array),this._dirty=!0,this},adjoint:function(){return ir.adjoint(this.array,this.array),this._dirty=!0,this},determinant:function(){return ir.determinant(this.array)},identity:function(){return ir.identity(this.array),this._dirty=!0,this},invert:function(){return ir.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return ir.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return ir.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return ir.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return ir.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return ir.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return ir.scale(this.array,this.array,t.array),this._dirty=!0,this},transpose:function(){return ir.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};ca.adjoint=function(t,e){return ir.adjoint(t.array,e.array),t._dirty=!0,t};ca.copy=function(t,e){return ir.copy(t.array,e.array),t._dirty=!0,t};ca.determinant=function(t){return ir.determinant(t.array)};ca.identity=function(t){return ir.identity(t.array),t._dirty=!0,t};ca.invert=function(t,e){return ir.invert(t.array,e.array),t._dirty=!0,t};ca.mul=function(t,e,r){return ir.mul(t.array,e.array,r.array),t._dirty=!0,t};ca.multiply=ca.mul;ca.rotate=function(t,e,r){return ir.rotate(t.array,e.array,r),t._dirty=!0,t};ca.scale=function(t,e,r){return ir.scale(t.array,e.array,r.array),t._dirty=!0,t};ca.transpose=function(t,e){return ir.transpose(t.array,e.array),t._dirty=!0,t};var dr={};dr.create=function(){var t=new mn(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t};dr.clone=function(t){var e=new mn(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e};dr.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t};dr.identity=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t};dr.invert=function(t,e){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=r*a-i*n;return u?(u=1/u,t[0]=a*u,t[1]=-i*u,t[2]=-n*u,t[3]=r*u,t[4]=(n*o-a*s)*u,t[5]=(i*s-r*o)*u,t):null};dr.determinant=function(t){return t[0]*t[3]-t[1]*t[2]};dr.multiply=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=r[0],c=r[1],h=r[2],f=r[3],d=r[4],p=r[5];return t[0]=i*l+a*c,t[1]=n*l+s*c,t[2]=i*h+a*f,t[3]=n*h+s*f,t[4]=i*d+a*p+o,t[5]=n*d+s*p+u,t};dr.mul=dr.multiply;dr.rotate=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=Math.sin(r),c=Math.cos(r);return t[0]=i*c+a*l,t[1]=n*c+s*l,t[2]=i*-l+a*c,t[3]=n*-l+s*c,t[4]=o,t[5]=u,t};dr.scale=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=r[0],c=r[1];return t[0]=i*l,t[1]=n*l,t[2]=a*c,t[3]=s*c,t[4]=o,t[5]=u,t};dr.translate=function(t,e,r){var i=e[0],n=e[1],a=e[2],s=e[3],o=e[4],u=e[5],l=r[0],c=r[1];return t[0]=i,t[1]=n,t[2]=a,t[3]=s,t[4]=i*l+a*c+o,t[5]=n*l+s*c+u,t};dr.frob=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)};var Ra=function(){this.array=dr.create(),this._dirty=!0};Ra.prototype={constructor:Ra,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},clone:function(){return new Ra().copy(this)},copy:function(t){return dr.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return dr.determinant(this.array)},identity:function(){return dr.identity(this.array),this._dirty=!0,this},invert:function(){return dr.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return dr.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return dr.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return dr.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return dr.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return dr.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return dr.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return dr.translate(this.array,this.array,t.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};Ra.copy=function(t,e){return dr.copy(t.array,e.array),t._dirty=!0,t};Ra.determinant=function(t){return dr.determinant(t.array)};Ra.identity=function(t){return dr.identity(t.array),t._dirty=!0,t};Ra.invert=function(t,e){return dr.invert(t.array,e.array),t._dirty=!0,t};Ra.mul=function(t,e,r){return dr.mul(t.array,e.array,r.array),t._dirty=!0,t};Ra.multiply=Ra.mul;Ra.rotate=function(t,e,r){return dr.rotate(t.array,e.array,r),t._dirty=!0,t};Ra.scale=function(t,e,r){return dr.scale(t.array,e.array,r.array),t._dirty=!0,t};Ra.translate=function(t,e,r){return dr.translate(t.array,e.array,r.array),t._dirty=!0,t};var Ri=function(){this.array=vt.create(),this._dirty=!0};Ri.prototype={constructor:Ri,setArray:function(t){for(var e=0;e<this.array.length;e++)this.array[e]=t[e];return this._dirty=!0,this},adjoint:function(){return vt.adjoint(this.array,this.array),this._dirty=!0,this},clone:function(){return new Ri().copy(this)},copy:function(t){return vt.copy(this.array,t.array),this._dirty=!0,this},determinant:function(){return vt.determinant(this.array)},fromMat2d:function(t){return vt.fromMat2d(this.array,t.array),this._dirty=!0,this},fromMat4:function(t){return vt.fromMat4(this.array,t.array),this._dirty=!0,this},fromQuat:function(t){return vt.fromQuat(this.array,t.array),this._dirty=!0,this},identity:function(){return vt.identity(this.array),this._dirty=!0,this},invert:function(){return vt.invert(this.array,this.array),this._dirty=!0,this},mul:function(t){return vt.mul(this.array,this.array,t.array),this._dirty=!0,this},mulLeft:function(t){return vt.mul(this.array,t.array,this.array),this._dirty=!0,this},multiply:function(t){return vt.multiply(this.array,this.array,t.array),this._dirty=!0,this},multiplyLeft:function(t){return vt.multiply(this.array,t.array,this.array),this._dirty=!0,this},rotate:function(t){return vt.rotate(this.array,this.array,t),this._dirty=!0,this},scale:function(t){return vt.scale(this.array,this.array,t.array),this._dirty=!0,this},translate:function(t){return vt.translate(this.array,this.array,t.array),this._dirty=!0,this},normalFromMat4:function(t){return vt.normalFromMat4(this.array,t.array),this._dirty=!0,this},transpose:function(){return vt.transpose(this.array,this.array),this._dirty=!0,this},toString:function(){return"["+Array.prototype.join.call(this.array,",")+"]"},toArray:function(){return Array.prototype.slice.call(this.array)}};Ri.adjoint=function(t,e){return vt.adjoint(t.array,e.array),t._dirty=!0,t};Ri.copy=function(t,e){return vt.copy(t.array,e.array),t._dirty=!0,t};Ri.determinant=function(t){return vt.determinant(t.array)};Ri.identity=function(t){return vt.identity(t.array),t._dirty=!0,t};Ri.invert=function(t,e){return vt.invert(t.array,e.array),t};Ri.mul=function(t,e,r){return vt.mul(t.array,e.array,r.array),t._dirty=!0,t};Ri.multiply=Ri.mul;Ri.fromMat2d=function(t,e){return vt.fromMat2d(t.array,e.array),t._dirty=!0,t};Ri.fromMat4=function(t,e){return vt.fromMat4(t.array,e.array),t._dirty=!0,t};Ri.fromQuat=function(t,e){return vt.fromQuat(t.array,e.array),t._dirty=!0,t};Ri.normalFromMat4=function(t,e){return vt.normalFromMat4(t.array,e.array),t._dirty=!0,t};Ri.rotate=function(t,e,r){return vt.rotate(t.array,e.array,r),t._dirty=!0,t};Ri.scale=function(t,e,r){return vt.scale(t.array,e.array,r.array),t._dirty=!0,t};Ri.transpose=function(t,e){return vt.transpose(t.array,e.array),t._dirty=!0,t};Ri.translate=function(t,e,r){return vt.translate(t.array,e.array,r.array),t._dirty=!0,t};var tOe={_animators:null,getAnimators:function(){return this._animators=this._animators||[],this._animators},animate:function(t,e){this._animators=this._animators||[];var r=this,i;if(t){for(var n=t.split("."),a=r,s=0,o=n.length;s<o;s++)a&&(a=a[n[s]]);a&&(i=a)}else i=r;if(i==null)throw new Error("Target "+t+" not exists");var u=this._animators,l=new yb(i,e),c=this;return l.during(function(){c.__zr&&c.__zr.refresh()}).done(function(){var h=u.indexOf(l);h>=0&&u.splice(h,1)}),u.push(l),this.__zr&&this.__zr.animation.addAnimator(l),l},stopAnimation:function(t){this._animators=this._animators||[];for(var e=this._animators,r=e.length,i=0;i<r;i++)e[i].stop(t);return e.length=0,this},addAnimatorsToZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.addAnimator(this._animators[e])},removeAnimatorsFromZr:function(t){if(this._animators)for(var e=0;e<this._animators.length;e++)t.animation.removeAnimator(this._animators[e])}};const wre=`
@export clay.util.rand
highp float rand(vec2 uv) {
 const highp float a = 12.9898, b = 78.233, c = 43758.5453;
 highp float dt = dot(uv.xy, vec2(a,b)), sn = mod(dt, 3.141592653589793);
 return fract(sin(sn) * c);
}
@end
@export clay.util.calculate_attenuation
uniform float attenuationFactor : 5.0;
float lightAttenuation(float dist, float range)
{
 float attenuation = 1.0;
 attenuation = dist*dist/(range*range+1.0);
 float att_s = attenuationFactor;
 attenuation = 1.0/(attenuation*att_s+1.0);
 att_s = 1.0/(att_s+1.0);
 attenuation = attenuation - att_s;
 attenuation /= 1.0 - att_s;
 return clamp(attenuation, 0.0, 1.0);
}
@end
@export clay.util.edge_factor
#ifdef SUPPORT_STANDARD_DERIVATIVES
float edgeFactor(float width)
{
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * width, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#else
float edgeFactor(float width)
{
 return 1.0;
}
#endif
@end
@export clay.util.encode_float
vec4 encodeFloat(const in float depth)
{
 const vec4 bitShifts = vec4(256.0*256.0*256.0, 256.0*256.0, 256.0, 1.0);
 const vec4 bit_mask = vec4(0.0, 1.0/256.0, 1.0/256.0, 1.0/256.0);
 vec4 res = fract(depth * bitShifts);
 res -= res.xxyz * bit_mask;
 return res;
}
@end
@export clay.util.decode_float
float decodeFloat(const in vec4 color)
{
 const vec4 bitShifts = vec4(1.0/(256.0*256.0*256.0), 1.0/(256.0*256.0), 1.0/256.0, 1.0);
 return dot(color, bitShifts);
}
@end
@export clay.util.float
@import clay.util.encode_float
@import clay.util.decode_float
@end
@export clay.util.rgbm_decode
vec3 RGBMDecode(vec4 rgbm, float range) {
 return range * rgbm.rgb * rgbm.a;
}
@end
@export clay.util.rgbm_encode
vec4 RGBMEncode(vec3 color, float range) {
 if (dot(color, color) == 0.0) {
 return vec4(0.0);
 }
 vec4 rgbm;
 color /= range;
 rgbm.a = clamp(max(max(color.r, color.g), max(color.b, 1e-6)), 0.0, 1.0);
 rgbm.a = ceil(rgbm.a * 255.0) / 255.0;
 rgbm.rgb = color / rgbm.a;
 return rgbm;
}
@end
@export clay.util.rgbm
@import clay.util.rgbm_decode
@import clay.util.rgbm_encode
vec4 decodeHDR(vec4 color)
{
#if defined(RGBM_DECODE) || defined(RGBM)
 return vec4(RGBMDecode(color, 8.12), 1.0);
#else
 return color;
#endif
}
vec4 encodeHDR(vec4 color)
{
#if defined(RGBM_ENCODE) || defined(RGBM)
 return RGBMEncode(color.xyz, 8.12);
#else
 return color;
#endif
}
@end
@export clay.util.srgb
vec4 sRGBToLinear(in vec4 value) {
 return vec4(mix(pow(value.rgb * 0.9478672986 + vec3(0.0521327014), vec3(2.4)), value.rgb * 0.0773993808, vec3(lessThanEqual(value.rgb, vec3(0.04045)))), value.w);
}
vec4 linearTosRGB(in vec4 value) {
 return vec4(mix(pow(value.rgb, vec3(0.41666)) * 1.055 - vec3(0.055), value.rgb * 12.92, vec3(lessThanEqual(value.rgb, vec3(0.0031308)))), value.w);
}
@end
@export clay.chunk.skinning_header
#ifdef SKINNING
attribute vec3 weight : WEIGHT;
attribute vec4 joint : JOINT;
#ifdef USE_SKIN_MATRICES_TEXTURE
uniform sampler2D skinMatricesTexture : ignore;
uniform float skinMatricesTextureSize: ignore;
mat4 getSkinMatrix(sampler2D tex, float idx) {
 float j = idx * 4.0;
 float x = mod(j, skinMatricesTextureSize);
 float y = floor(j / skinMatricesTextureSize) + 0.5;
 vec2 scale = vec2(skinMatricesTextureSize);
 return mat4(
 texture2D(tex, vec2(x + 0.5, y) / scale),
 texture2D(tex, vec2(x + 1.5, y) / scale),
 texture2D(tex, vec2(x + 2.5, y) / scale),
 texture2D(tex, vec2(x + 3.5, y) / scale)
 );
}
mat4 getSkinMatrix(float idx) {
 return getSkinMatrix(skinMatricesTexture, idx);
}
#else
uniform mat4 skinMatrix[JOINT_COUNT] : SKIN_MATRIX;
mat4 getSkinMatrix(float idx) {
 return skinMatrix[int(idx)];
}
#endif
#endif
@end
@export clay.chunk.skin_matrix
mat4 skinMatrixWS = getSkinMatrix(joint.x) * weight.x;
if (weight.y > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.y) * weight.y;
}
if (weight.z > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.z) * weight.z;
}
float weightW = 1.0-weight.x-weight.y-weight.z;
if (weightW > 1e-4)
{
 skinMatrixWS += getSkinMatrix(joint.w) * weightW;
}
@end
@export clay.chunk.instancing_header
#ifdef INSTANCING
attribute vec4 instanceMat1;
attribute vec4 instanceMat2;
attribute vec4 instanceMat3;
#endif
@end
@export clay.chunk.instancing_matrix
mat4 instanceMat = mat4(
 vec4(instanceMat1.xyz, 0.0),
 vec4(instanceMat2.xyz, 0.0),
 vec4(instanceMat3.xyz, 0.0),
 vec4(instanceMat1.w, instanceMat2.w, instanceMat3.w, 1.0)
);
@end
@export clay.util.parallax_correct
vec3 parallaxCorrect(in vec3 dir, in vec3 pos, in vec3 boxMin, in vec3 boxMax) {
 vec3 first = (boxMax - pos) / dir;
 vec3 second = (boxMin - pos) / dir;
 vec3 further = max(first, second);
 float dist = min(further.x, min(further.y, further.z));
 vec3 fixedPos = pos + dir * dist;
 vec3 boxCenter = (boxMax + boxMin) * 0.5;
 return normalize(fixedPos - boxCenter);
}
@end
@export clay.util.clamp_sample
vec4 clampSample(const in sampler2D texture, const in vec2 coord)
{
#ifdef STEREO
 float eye = step(0.5, coord.x) * 0.5;
 vec2 coordClamped = clamp(coord, vec2(eye, 0.0), vec2(0.5 + eye, 1.0));
#else
 vec2 coordClamped = clamp(coord, vec2(0.0), vec2(1.0));
#endif
 return texture2D(texture, coordClamped);
}
@end
@export clay.util.ACES
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
@end`,rOe=`
@export ecgl.common.transformUniforms
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
uniform mat4 world : WORLD;
@end

@export ecgl.common.attributes
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 normal : NORMAL;
@end

@export ecgl.common.uv.header
uniform vec2 uvRepeat : [1.0, 1.0];
uniform vec2 uvOffset : [0.0, 0.0];
uniform vec2 detailUvRepeat : [1.0, 1.0];
uniform vec2 detailUvOffset : [0.0, 0.0];

varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end

@export ecgl.common.uv.main
v_Texcoord = texcoord * uvRepeat + uvOffset;
v_DetailTexcoord = texcoord * detailUvRepeat + detailUvOffset;
@end

@export ecgl.common.uv.fragmentHeader
varying vec2 v_Texcoord;
varying vec2 v_DetailTexcoord;
@end


@export ecgl.common.albedo.main

 vec4 albedoTexel = vec4(1.0);
#ifdef DIFFUSEMAP_ENABLED
 albedoTexel = texture2D(diffuseMap, v_Texcoord);
 #ifdef SRGB_DECODE
 albedoTexel = sRGBToLinear(albedoTexel);
 #endif
#endif

#ifdef DETAILMAP_ENABLED
 vec4 detailTexel = texture2D(detailMap, v_DetailTexcoord);
 #ifdef SRGB_DECODE
 detailTexel = sRGBToLinear(detailTexel);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, detailTexel.rgb, detailTexel.a);
 albedoTexel.a = detailTexel.a + (1.0 - detailTexel.a) * albedoTexel.a;
#endif

@end

@export ecgl.common.wireframe.vertexHeader

#ifdef WIREFRAME_QUAD
attribute vec4 barycentric;
varying vec4 v_Barycentric;
#elif defined(WIREFRAME_TRIANGLE)
attribute vec3 barycentric;
varying vec3 v_Barycentric;
#endif

@end

@export ecgl.common.wireframe.vertexMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 v_Barycentric = barycentric;
#endif

@end


@export ecgl.common.wireframe.fragmentHeader

uniform float wireframeLineWidth : 1;
uniform vec4 wireframeLineColor: [0, 0, 0, 0.5];

#ifdef WIREFRAME_QUAD
varying vec4 v_Barycentric;
float edgeFactor () {
 vec4 d = fwidth(v_Barycentric);
 vec4 a4 = smoothstep(vec4(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(min(a4.x, a4.y), a4.z), a4.w);
}
#elif defined(WIREFRAME_TRIANGLE)
varying vec3 v_Barycentric;
float edgeFactor () {
 vec3 d = fwidth(v_Barycentric);
 vec3 a3 = smoothstep(vec3(0.0), d * wireframeLineWidth, v_Barycentric);
 return min(min(a3.x, a3.y), a3.z);
}
#endif

@end


@export ecgl.common.wireframe.fragmentMain

#if defined(WIREFRAME_QUAD) || defined(WIREFRAME_TRIANGLE)
 if (wireframeLineWidth > 0.) {
 vec4 lineColor = wireframeLineColor;
#ifdef SRGB_DECODE
 lineColor = sRGBToLinear(lineColor);
#endif

 gl_FragColor.rgb = mix(gl_FragColor.rgb, lineColor.rgb, (1.0 - edgeFactor()) * lineColor.a);
 }
#endif
@end




@export ecgl.common.bumpMap.header

#ifdef BUMPMAP_ENABLED
uniform sampler2D bumpMap;
uniform float bumpScale : 1.0;


vec3 bumpNormal(vec3 surfPos, vec3 surfNormal, vec3 baseNormal)
{
 vec2 dSTdx = dFdx(v_Texcoord);
 vec2 dSTdy = dFdy(v_Texcoord);

 float Hll = bumpScale * texture2D(bumpMap, v_Texcoord).x;
 float dHx = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdx).x - Hll;
 float dHy = bumpScale * texture2D(bumpMap, v_Texcoord + dSTdy).x - Hll;

 vec3 vSigmaX = dFdx(surfPos);
 vec3 vSigmaY = dFdy(surfPos);
 vec3 vN = surfNormal;

 vec3 R1 = cross(vSigmaY, vN);
 vec3 R2 = cross(vN, vSigmaX);

 float fDet = dot(vSigmaX, R1);

 vec3 vGrad = sign(fDet) * (dHx * R1 + dHy * R2);
 return normalize(abs(fDet) * baseNormal - vGrad);

}
#endif

@end

@export ecgl.common.normalMap.vertexHeader

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.vertexMain

#ifdef NORMALMAP_ENABLED
 if (dot(tangent, tangent) > 0.0) {
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
 }
#endif

@end


@export ecgl.common.normalMap.fragmentHeader

#ifdef NORMALMAP_ENABLED
uniform sampler2D normalMap;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@end

@export ecgl.common.normalMap.fragmentMain
#ifdef NORMALMAP_ENABLED
 if (dot(v_Tangent, v_Tangent) > 0.0) {
 vec3 normalTexel = texture2D(normalMap, v_DetailTexcoord).xyz;
 if (dot(normalTexel, normalTexel) > 0.0) { N = normalTexel * 2.0 - 1.0;
 mat3 tbn = mat3(v_Tangent, v_Bitangent, v_Normal);
 N = normalize(tbn * N);
 }
 }
#endif
@end



@export ecgl.common.vertexAnimation.header

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevNormal;
uniform float percent;
#endif

@end

@export ecgl.common.vertexAnimation.main

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 vec3 norm = mix(prevNormal, normal, percent);
#else
 vec3 pos = position;
 vec3 norm = normal;
#endif

@end


@export ecgl.common.ssaoMap.header
#ifdef SSAOMAP_ENABLED
uniform sampler2D ssaoMap;
uniform vec4 viewport : VIEWPORT;
#endif
@end

@export ecgl.common.ssaoMap.main
 float ao = 1.0;
#ifdef SSAOMAP_ENABLED
 ao = texture2D(ssaoMap, (gl_FragCoord.xy - viewport.xy) / viewport.zw).r;
#endif
@end




@export ecgl.common.diffuseLayer.header

#if (LAYER_DIFFUSEMAP_COUNT > 0)
uniform float layerDiffuseIntensity[LAYER_DIFFUSEMAP_COUNT];
uniform sampler2D layerDiffuseMap[LAYER_DIFFUSEMAP_COUNT];
#endif

@end

@export ecgl.common.emissiveLayer.header

#if (LAYER_EMISSIVEMAP_COUNT > 0)
uniform float layerEmissionIntensity[LAYER_EMISSIVEMAP_COUNT];
uniform sampler2D layerEmissiveMap[LAYER_EMISSIVEMAP_COUNT];
#endif

@end

@export ecgl.common.layers.header
@import ecgl.common.diffuseLayer.header
@import ecgl.common.emissiveLayer.header
@end

@export ecgl.common.diffuseLayer.main

#if (LAYER_DIFFUSEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_DIFFUSEMAP_COUNT; _idx_++) {{
 float intensity = layerDiffuseIntensity[_idx_];
 vec4 texel2 = texture2D(layerDiffuseMap[_idx_], v_Texcoord);
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 albedoTexel.rgb = mix(albedoTexel.rgb, texel2.rgb * intensity, texel2.a);
 albedoTexel.a = texel2.a + (1.0 - texel2.a) * albedoTexel.a;
 }}
#endif

@end

@export ecgl.common.emissiveLayer.main

#if (LAYER_EMISSIVEMAP_COUNT > 0)
 for (int _idx_ = 0; _idx_ < LAYER_EMISSIVEMAP_COUNT; _idx_++)
 {{
 vec4 texel2 = texture2D(layerEmissiveMap[_idx_], v_Texcoord) * layerEmissionIntensity[_idx_];
 #ifdef SRGB_DECODE
 texel2 = sRGBToLinear(texel2);
 #endif
 float intensity = layerEmissionIntensity[_idx_];
 gl_FragColor.rgb += texel2.rgb * texel2.a * intensity;
 }}
#endif

@end
`,iOe=`@export ecgl.color.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

@import ecgl.common.uv.header

attribute vec2 texcoord : TEXCOORD_0;
attribute vec3 position: POSITION;

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

#ifdef ATMOSPHERE_ENABLED
attribute vec3 normal: NORMAL;
uniform mat4 worldInverseTranspose : WORLDINVERSETRANSPOSE;
varying vec3 v_Normal;
#endif

void main()
{
#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 @import ecgl.common.uv.main

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef ATMOSPHERE_ENABLED
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end

@export ecgl.color.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
varying vec3 v_Normal;
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.layers.header

@import ecgl.common.uv.fragmentHeader

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain

}
@end`,nOe=`/**
 * http: */

@export ecgl.lambert.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header


@import ecgl.common.attributes

@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif


@import ecgl.common.vertexAnimation.header


varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{
 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main


 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

 @import ecgl.common.wireframe.vertexMain
}

@end


@export ecgl.lambert.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;
uniform sampler2D detailMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color);
#else
 gl_FragColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 gl_FragColor *= sRGBToLinear(v_Color);
 #else
 gl_FragColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 gl_FragColor *= albedoTexel;

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseColor = vec3(0.0, 0.0, 0.0);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 diffuseColor += ambientLightColor[i] * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseColor += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 vec3 lightColor = directionalLightColor[i];

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 diffuseColor += lightColor * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor.rgb *= diffuseColor;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,aOe=`@export ecgl.realistic.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes


@import ecgl.common.wireframe.vertexHeader

#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

#ifdef NORMALMAP_ENABLED
attribute vec4 tangent : TANGENT;
varying vec3 v_Tangent;
varying vec3 v_Bitangent;
#endif

@import ecgl.common.vertexAnimation.header

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

void main()
{

 @import ecgl.common.uv.main

 @import ecgl.common.vertexAnimation.main

 gl_Position = worldViewProjection * vec4(pos, 1.0);

 v_Normal = normalize((worldInverseTranspose * vec4(norm, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif

#ifdef NORMALMAP_ENABLED
 v_Tangent = normalize((worldInverseTranspose * vec4(tangent.xyz, 0.0)).xyz);
 v_Bitangent = normalize(cross(v_Normal, v_Tangent) * tangent.w);
#endif

 @import ecgl.common.wireframe.vertexMain

}

@end



@export ecgl.realistic.fragment

#define LAYER_DIFFUSEMAP_COUNT 0
#define LAYER_EMISSIVEMAP_COUNT 0
#define PI 3.14159265358979
#define ROUGHNESS_CHANEL 0
#define METALNESS_CHANEL 1

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform sampler2D diffuseMap;

uniform sampler2D detailMap;
uniform sampler2D metalnessMap;
uniform sampler2D roughnessMap;

@import ecgl.common.layers.header

uniform float emissionIntensity: 1.0;

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

uniform float metalness : 0.0;
uniform float roughness : 0.5;

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef ATMOSPHERE_ENABLED
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform vec3 glowColor;
uniform float glowPower;
#endif

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
@import clay.header.ambient_cubemap_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.normalMap.fragmentHeader

@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import clay.util.rgbm

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}

float D_Phong(float g, float ndh) {
 float a = pow(8192.0, g);
 return (a + 2.0) / 8.0 * pow(ndh, a);
}

void main()
{
 vec4 albedoColor = color;

 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);
#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 albedoColor *= sRGBToLinear(v_Color);
 #else
 albedoColor *= v_Color;
 #endif
#endif

 @import ecgl.common.albedo.main

 @import ecgl.common.diffuseLayer.main

 albedoColor *= albedoTexel;

 float m = metalness;

#ifdef METALNESSMAP_ENABLED
 float m2 = texture2D(metalnessMap, v_DetailTexcoord)[METALNESS_CHANEL];
 m = clamp(m2 + (m - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 baseColor = albedoColor.rgb;
 albedoColor.rgb = baseColor * (1.0 - m);
 vec3 specFactor = mix(vec3(0.04), baseColor, m);

 float g = 1.0 - roughness;

#ifdef ROUGHNESSMAP_ENABLED
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
#endif

 vec3 N = v_Normal;

#ifdef DOUBLE_SIDED
 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

@import ecgl.common.normalMap.fragmentMain

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 vec3 diffuseTerm = vec3(0.0);
 vec3 specularTerm = vec3(0.0);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 vec3 fresnelTerm = F_Schlick(ndv, specFactor);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += ambientLightColor[_idx_] * ambientFactor * ao;
 }}
#endif

#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 diffuseTerm += calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_] * ao;
 }}
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++)
 {{
 vec3 L = -directionalLightDirection[_idx_];
 vec3 lc = directionalLightColor[_idx_];

 vec3 H = normalize(L + V);
 float ndl = clamp(dot(N, normalize(L)), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[_idx_];
 }
#endif

 vec3 li = lc * ndl * shadowContrib;

 diffuseTerm += li;
 specularTerm += li * fresnelTerm * D_Phong(g, ndh);
 }}
#endif


#ifdef AMBIENT_CUBEMAP_LIGHT_COUNT
 vec3 L = reflect(-V, N);
 L = vec3(L.x, L[NORMAL_UP_AXIS], L[NORMAL_FRONT_AXIS]);
 float rough2 = clamp(1.0 - g, 0.0, 1.0);
 float bias2 = rough2 * 5.0;
 vec2 brdfParam2 = texture2D(ambientCubemapLightBRDFLookup[0], vec2(rough2, ndv)).xy;
 vec3 envWeight2 = specFactor * brdfParam2.x + brdfParam2.y;
 vec3 envTexel2;
 for(int _idx_ = 0; _idx_ < AMBIENT_CUBEMAP_LIGHT_COUNT; _idx_++)
 {{
 envTexel2 = RGBMDecode(textureCubeLodEXT(ambientCubemapLightCubemap[_idx_], L, bias2), 8.12);
 specularTerm += ambientCubemapLightColor[_idx_] * envTexel2 * envWeight2 * ao;
 }}
#endif

 gl_FragColor.rgb = albedoColor.rgb * diffuseTerm + specularTerm;
 gl_FragColor.a = albedoColor.a;

#ifdef ATMOSPHERE_ENABLED
 float atmoIntensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor.rgb += glowColor * atmoIntensity;
#endif

#ifdef SRGB_ENCODE
 gl_FragColor = linearTosRGB(gl_FragColor);
#endif

 @import ecgl.common.emissiveLayer.main

 @import ecgl.common.wireframe.fragmentMain
}

@end`,sOe=`@export ecgl.hatching.vertex

@import ecgl.realistic.vertex

@end


@export ecgl.hatching.fragment

#define NORMAL_UP_AXIS 1
#define NORMAL_FRONT_AXIS 2

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform vec4 color : [0.0, 0.0, 0.0, 1.0];
uniform vec4 paperColor : [1.0, 1.0, 1.0, 1.0];

uniform mat4 viewInverse : VIEWINVERSE;

#ifdef AMBIENT_LIGHT_COUNT
@import clay.header.ambient_light
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
@import clay.header.ambient_sh_light
#endif

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif


@import ecgl.common.ssaoMap.header

@import ecgl.common.bumpMap.header

@import clay.util.srgb

@import ecgl.common.wireframe.fragmentHeader

@import clay.plugin.compute_shadow_map

uniform sampler2D hatch1;
uniform sampler2D hatch2;
uniform sampler2D hatch3;
uniform sampler2D hatch4;
uniform sampler2D hatch5;
uniform sampler2D hatch6;

float shade(in float tone) {
 vec4 c = vec4(1. ,1., 1., 1.);
 float step = 1. / 6.;
 vec2 uv = v_DetailTexcoord;
 if (tone <= step / 2.0) {
 c = mix(vec4(0.), texture2D(hatch6, uv), 12. * tone);
 }
 else if (tone <= step) {
 c = mix(texture2D(hatch6, uv), texture2D(hatch5, uv), 6. * tone);
 }
 if(tone > step && tone <= 2. * step){
 c = mix(texture2D(hatch5, uv), texture2D(hatch4, uv) , 6. * (tone - step));
 }
 if(tone > 2. * step && tone <= 3. * step){
 c = mix(texture2D(hatch4, uv), texture2D(hatch3, uv), 6. * (tone - 2. * step));
 }
 if(tone > 3. * step && tone <= 4. * step){
 c = mix(texture2D(hatch3, uv), texture2D(hatch2, uv), 6. * (tone - 3. * step));
 }
 if(tone > 4. * step && tone <= 5. * step){
 c = mix(texture2D(hatch2, uv), texture2D(hatch1, uv), 6. * (tone - 4. * step));
 }
 if(tone > 5. * step){
 c = mix(texture2D(hatch1, uv), vec4(1.), 6. * (tone - 5. * step));
 }

 return c.r;
}

const vec3 w = vec3(0.2125, 0.7154, 0.0721);

void main()
{
#ifdef SRGB_DECODE
 vec4 inkColor = sRGBToLinear(color);
#else
 vec4 inkColor = color;
#endif

#ifdef VERTEX_COLOR
 #ifdef SRGB_DECODE
 inkColor *= sRGBToLinear(v_Color);
 #else
 inkColor *= v_Color;
 #endif
#endif

 vec3 N = v_Normal;
#ifdef DOUBLE_SIDED
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 N = -N;
 }
#endif

 float tone = 0.0;

 float ambientFactor = 1.0;

#ifdef BUMPMAP_ENABLED
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 ambientFactor = dot(v_Normal, N);
#endif

 vec3 N2 = vec3(N.x, N[NORMAL_UP_AXIS], N[NORMAL_FRONT_AXIS]);

 @import ecgl.common.ssaoMap.main

#ifdef AMBIENT_LIGHT_COUNT
 for(int i = 0; i < AMBIENT_LIGHT_COUNT; i++)
 {
 tone += dot(ambientLightColor[i], w) * ambientFactor * ao;
 }
#endif
#ifdef AMBIENT_SH_LIGHT_COUNT
 for(int _idx_ = 0; _idx_ < AMBIENT_SH_LIGHT_COUNT; _idx_++)
 {{
 tone += dot(calcAmbientSHLight(_idx_, N2) * ambientSHLightColor[_idx_], w) * ao;
 }}
#endif
#ifdef DIRECTIONAL_LIGHT_COUNT
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
#endif
 for(int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++)
 {
 vec3 lightDirection = -directionalLightDirection[i];
 float lightTone = dot(directionalLightColor[i], w);

 float shadowContrib = 1.0;
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 if (shadowEnabled)
 {
 shadowContrib = shadowContribsDir[i];
 }
#endif

 float ndl = dot(N, normalize(lightDirection)) * shadowContrib;

 tone += lightTone * clamp(ndl, 0.0, 1.0);
 }
#endif

 gl_FragColor = mix(inkColor, paperColor, shade(clamp(tone, 0.0, 1.0)));
 }
@end
`,oOe=`@export ecgl.sm.depth.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
uniform float percent : 1.0;
#endif

varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;

void main(){

#ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
#else
 vec3 pos = position;
#endif

 v_ViewPosition = worldViewProjection * vec4(pos, 1.0);
 gl_Position = v_ViewPosition;

 v_Texcoord = texcoord;

}
@end



@export ecgl.sm.depth.fragment

@import clay.sm.depth.fragment

@end`;Object.assign(lu.prototype,tOe);qe.import(wre);qe.import(xre);qe.import(rOe);qe.import(iOe);qe.import(nOe);qe.import(aOe);qe.import(sOe);qe.import(oOe);function uOe(t){return!t||t==="none"}function Dre(t){return t instanceof HTMLCanvasElement||t instanceof HTMLImageElement||t instanceof Image}function lOe(t){return t.getZr&&t.setOption}var cOe=Yc.prototype.addToScene,hOe=Yc.prototype.removeFromScene;Yc.prototype.addToScene=function(t){if(cOe.call(this,t),this.__zr){var e=this.__zr;t.traverse(function(r){r.__zr=e,r.addAnimatorsToZr&&r.addAnimatorsToZr(e)})}};Yc.prototype.removeFromScene=function(t){hOe.call(this,t),t.traverse(function(e){var r=e.__zr;e.__zr=null,r&&e.removeAnimatorsFromZr&&e.removeAnimatorsFromZr(r)})};Ms.prototype.setTextureImage=function(t,e,r,i){if(this.shader){var n=r.getZr(),a=this,s;return a.autoUpdateTextureStatus=!1,a.disableTexture(t),uOe(e)||(s=Z.loadTexture(e,r,i,function(o){a.enableTexture(t),n&&n.refresh()}),a.set(t,s)),s}};var Z={};Z.Renderer=Ps;Z.Node=lu;Z.Mesh=Vi;Z.Shader=qe;Z.Material=Ms;Z.Texture=We;Z.Texture2D=Rt;Z.Geometry=$t;Z.SphereGeometry=ZLe;Z.PlaneGeometry=iC;Z.CubeGeometry=Tre;Z.AmbientLight=KLe;Z.DirectionalLight=JLe;Z.PointLight=QLe;Z.SpotLight=eOe;Z.PerspectiveCamera=Hi;Z.OrthographicCamera=Np;Z.Vector2=Tt;Z.Vector3=Fe;Z.Vector4=rr;Z.Quaternion=gr;Z.Matrix2=ca;Z.Matrix2d=Ra;Z.Matrix3=Ri;Z.Matrix4=Qe;Z.Plane=q1;Z.Ray=Nh;Z.BoundingBox=cn;Z.Frustum=tC;var ex=null;function fOe(){return ex!==null||(ex=cu.createBlank("rgba(255,255,255,0)").image),ex}function AU(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))}function wU(t){if((t.wrapS===We.REPEAT||t.wrapT===We.REPEAT)&&t.image){var e=AU(t.width),r=AU(t.height);if(e!==t.width||r!==t.height){var i=document.createElement("canvas");i.width=e,i.height=r;var n=i.getContext("2d");n.drawImage(t.image,0,0,e,r),t.image=i}}}Z.loadTexture=function(t,e,r,i){typeof r=="function"&&(i=r,r={}),r=r||{};for(var n=Object.keys(r).sort(),a="",s=0;s<n.length;s++)a+=n[s]+"_"+r[n[s]]+"_";var o=e.__textureCache=e.__textureCache||new og(20);if(lOe(t)){var u=t.__textureid__,l=o.get(a+u);if(l)l.texture.surface.setECharts(t),i&&i(l.texture);else{var c=new rD(t);c.onupdate=function(){e.getZr().refresh()},l={texture:c.getTexture()};for(var s=0;s<n.length;s++)l.texture[n[s]]=r[n[s]];u=t.__textureid__||"__ecgl_ec__"+l.texture.__uid__,t.__textureid__=u,o.put(a+u,l),i&&i(l.texture)}return l.texture}else if(Dre(t)){var u=t.__textureid__,l=o.get(a+u);if(!l){l={texture:new Z.Texture2D({image:t})};for(var s=0;s<n.length;s++)l.texture[n[s]]=r[n[s]];u=t.__textureid__||"__ecgl_image__"+l.texture.__uid__,t.__textureid__=u,o.put(a+u,l),wU(l.texture),i&&i(l.texture)}return l.texture}else{var l=o.get(a+t);if(l)l.callbacks?l.callbacks.push(i):i&&i(l.texture);else if(t.match(/.hdr$|^data:application\/octet-stream/)){l={callbacks:[i]};var h=cu.loadTexture(t,{exposure:r.exposure,fileType:"hdr"},function(){h.dirty(),l.callbacks.forEach(function(p){p&&p(h)}),l.callbacks=null});l.texture=h,o.put(a+t,l)}else{for(var h=new Z.Texture2D({image:new Image}),s=0;s<n.length;s++)h[n[s]]=r[n[s]];l={texture:h,callbacks:[i]};var f=h.image;f.onload=function(){h.image=f,wU(h),h.dirty(),l.callbacks.forEach(function(g){g&&g(h)}),l.callbacks=null},f.crossOrigin="Anonymous",f.src=t,h.image=fOe(),o.put(a+t,l)}return l.texture}};Z.createAmbientCubemap=function(t,e,r,i){t=t||{};var n=t.texture,a=jt.firstNotNull(t.exposure,1),s=new $Le({intensity:jt.firstNotNull(t.specularIntensity,1)}),o=new WLe({intensity:jt.firstNotNull(t.diffuseIntensity,1),coefficients:[.844,.712,.691,-.037,.083,.167,.343,.288,.299,-.041,-.021,-.009,-.003,-.041,-.064,-.011,-.007,-.004,-.031,.034,.081,-.06,-.049,-.06,.046,.056,.05]});return s.cubemap=Z.loadTexture(n,r,{exposure:a},function(){s.cubemap.flipY=!1,s.prefilter(e,32),o.coefficients=Are.projectEnvironmentMap(e,s.cubemap,{lod:1}),i&&i()}),{specular:s,diffuse:o}};Z.createBlankTexture=cu.createBlank;Z.isImage=Dre;Z.additiveBlend=function(t){t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)};Z.parseColor=function(t,e){return t instanceof Array?(e||(e=[]),e[0]=t[0],e[1]=t[1],e[2]=t[2],t.length>3?e[3]=t[3]:e[3]=1,e):(e=ua(t||"#000",e)||[0,0,0,0],e[0]/=255,e[1]/=255,e[2]/=255,e)};Z.directionFromAlphaBeta=function(t,e){var r=t/180*Math.PI+Math.PI/2,i=-e/180*Math.PI+Math.PI/2,n=[],a=Math.sin(r);return n[0]=a*Math.cos(i),n[1]=-Math.cos(r),n[2]=a*Math.sin(i),n};Z.getShadowResolution=function(t){var e=1024;switch(t){case"low":e=512;break;case"medium":break;case"high":e=2048;break;case"ultra":e=4096;break}return e};Z.COMMON_SHADERS=["lambert","color","realistic","hatching","shadow"];Z.createShader=function(t){t==="ecgl.shadow"&&(t="ecgl.displayShadow");var e=qe.source(t+".vertex"),r=qe.source(t+".fragment");e||console.error("Vertex shader of '%s' not exits",t),r||console.error("Fragment shader of '%s' not exits",t);var i=new qe(e,r);return i.name=t,i};Z.createMaterial=function(t,e){e instanceof Array||(e=[e]);var r=Z.createShader(t),i=new Ms({shader:r});return e.forEach(function(n){typeof n=="string"&&i.define(n)}),i};Z.setMaterialFromModel=function(t,e,r,i){e.autoUpdateTextureStatus=!1;var n=r.getModel(t+"Material"),a=n.get("detailTexture"),s=jt.firstNotNull(n.get("textureTiling"),1),o=jt.firstNotNull(n.get("textureOffset"),0);typeof s=="number"&&(s=[s,s]),typeof o=="number"&&(o=[o,o]);var u=s[0]>1||s[1]>1?Z.Texture.REPEAT:Z.Texture.CLAMP_TO_EDGE,l={anisotropic:8,wrapS:u,wrapT:u};if(t==="realistic"){var c=n.get("roughness"),h=n.get("metalness");h!=null?isNaN(h)&&(e.setTextureImage("metalnessMap",h,i,l),h=jt.firstNotNull(n.get("metalnessAdjust"),.5)):h=0,c!=null?isNaN(c)&&(e.setTextureImage("roughnessMap",c,i,l),c=jt.firstNotNull(n.get("roughnessAdjust"),.5)):c=.5;var f=n.get("normalTexture");e.setTextureImage("detailMap",a,i,l),e.setTextureImage("normalMap",f,i,l),e.set({roughness:c,metalness:h,detailUvRepeat:s,detailUvOffset:o})}else if(t==="lambert")e.setTextureImage("detailMap",a,i,l),e.set({detailUvRepeat:s,detailUvOffset:o});else if(t==="color")e.setTextureImage("detailMap",a,i,l),e.set({detailUvRepeat:s,detailUvOffset:o});else if(t==="hatching"){var d=n.get("hatchingTextures")||[];d.length<6;for(var p=0;p<6;p++)e.setTextureImage("hatch"+(p+1),d[p],i,{anisotropic:8,wrapS:Z.Texture.REPEAT,wrapT:Z.Texture.REPEAT});e.set({detailUvRepeat:s,detailUvOffset:o})}};Z.updateVertexAnimation=function(t,e,r,i){var n=i.get("animation"),a=i.get("animationDurationUpdate"),s=i.get("animationEasingUpdate"),o=r.shadowDepthMaterial;if(n&&e&&a>0&&e.geometry.vertexCount===r.geometry.vertexCount){r.material.define("vertex","VERTEX_ANIMATION"),r.ignorePreZ=!0,o&&o.define("vertex","VERTEX_ANIMATION");for(var u=0;u<t.length;u++)r.geometry.attributes[t[u][0]].value=e.geometry.attributes[t[u][1]].value;r.geometry.dirty(),r.__percent=0,r.material.set("percent",0),r.stopAnimation(),r.animate().when(a,{__percent:1}).during(function(){r.material.set("percent",r.__percent),o&&o.set("percent",r.__percent)}).done(function(){r.ignorePreZ=!1,r.material.undefine("vertex","VERTEX_ANIMATION"),o&&o.undefine("vertex","VERTEX_ANIMATION")}).start(s)}else r.material.undefine("vertex","VERTEX_ANIMATION"),o&&o.undefine("vertex","VERTEX_ANIMATION")};var wr=function(t,e){this.id=t,this.zr=e;try{this.renderer=new Ps({clearBit:0,devicePixelRatio:e.painter.dpr,preserveDrawingBuffer:!0,premultipliedAlpha:!0}),this.renderer.resize(e.painter.getWidth(),e.painter.getHeight())}catch(i){this.renderer=null,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute; left: 0; top: 0; right: 0; bottom: 0;",this.dom.className="ecgl-nowebgl",this.dom.innerHTML="Sorry, your browser does not support WebGL",console.error(i);return}this.onglobalout=this.onglobalout.bind(this),e.on("globalout",this.onglobalout),this.dom=this.renderer.canvas;var r=this.dom.style;r.position="absolute",r.left="0",r.top="0",this.views=[],this._picking=new sI({renderer:this.renderer}),this._viewsToDispose=[],this._accumulatingId=0,this._zrEventProxy=new Gt({shape:{x:-1,y:-1,width:2,height:2},__isGLToZRProxy:!0}),this._backgroundColor=null,this._disposed=!1};wr.prototype.setUnpainted=function(){};wr.prototype.addView=function(t){if(t.layer!==this){var e=this._viewsToDispose.indexOf(t);e>=0&&this._viewsToDispose.splice(e,1),this.views.push(t),t.layer=this;var r=this.zr;t.scene.traverse(function(i){i.__zr=r,i.addAnimatorsToZr&&i.addAnimatorsToZr(r)})}};function Fre(t){var e=t.__zr;t.__zr=null,e&&t.removeAnimatorsFromZr&&t.removeAnimatorsFromZr(e)}wr.prototype.removeView=function(t){if(t.layer===this){var e=this.views.indexOf(t);e>=0&&(this.views.splice(e,1),t.scene.traverse(Fre,this),t.layer=null,this._viewsToDispose.push(t))}};wr.prototype.removeViewsAll=function(){this.views.forEach(function(t){t.scene.traverse(Fre,this),t.layer=null,this._viewsToDispose.push(t)},this),this.views.length=0};wr.prototype.resize=function(t,e){var r=this.renderer;r.resize(t,e)};wr.prototype.clear=function(){var t=this.renderer.gl,e=this._backgroundColor||[0,0,0,0];t.clearColor(e[0],e[1],e[2],e[3]),t.depthMask(!0),t.colorMask(!0,!0,!0,!0),t.clear(t.DEPTH_BUFFER_BIT|t.COLOR_BUFFER_BIT)};wr.prototype.clearDepth=function(){var t=this.renderer.gl;t.clear(t.DEPTH_BUFFER_BIT)};wr.prototype.clearColor=function(){var t=this.renderer.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)};wr.prototype.needsRefresh=function(){this.zr.refresh()};wr.prototype.refresh=function(t){this._backgroundColor=t?Z.parseColor(t):[0,0,0,0],this.renderer.clearColor=this._backgroundColor;for(var e=0;e<this.views.length;e++)this.views[e].prepareRender(this.renderer);this._doRender(!1),this._trackAndClean();for(var e=0;e<this._viewsToDispose.length;e++)this._viewsToDispose[e].dispose(this.renderer);this._viewsToDispose.length=0,this._startAccumulating()};wr.prototype.renderToCanvas=function(t){this._startAccumulating(!0),t.drawImage(this.dom,0,0,t.canvas.width,t.canvas.height)};wr.prototype._doRender=function(t){this.clear(),this.renderer.saveViewport();for(var e=0;e<this.views.length;e++)this.views[e].render(this.renderer,t);this.renderer.restoreViewport()};wr.prototype._stopAccumulating=function(){this._accumulatingId=0,clearTimeout(this._accumulatingTimeout)};var dOe=1;wr.prototype._startAccumulating=function(t){var e=this;this._stopAccumulating();for(var r=!1,i=0;i<this.views.length;i++)r=this.views[i].needsAccumulate()||r;if(!r)return;function n(a){if(!(!e._accumulatingId||a!==e._accumulatingId)){for(var s=!0,o=0;o<e.views.length;o++)s=e.views[o].isAccumulateFinished()&&r;s||(e._doRender(!0),t?n(a):Xh(function(){n(a)}))}}this._accumulatingId=dOe++,t?n(e._accumulatingId):this._accumulatingTimeout=setTimeout(function(){n(e._accumulatingId)},50)};wr.prototype._trackAndClean=function(){var t=[],e=[];this._textureList&&(o4(this._textureList),o4(this._geometriesList));for(var r=0;r<this.views.length;r++)pOe(this.views[r].scene,t,e);this._textureList&&(u4(this.renderer,this._textureList),u4(this.renderer,this._geometriesList)),this._textureList=t,this._geometriesList=e};function o4(t){for(var e=0;e<t.length;e++)t[e].__used__=0}function u4(t,e){for(var r=0;r<e.length;r++)e[r].__used__||e[r].dispose(t)}function tx(t,e){t.__used__=t.__used__||0,t.__used__++,t.__used__===1&&e.push(t)}function pOe(t,e,r){var i,n;t.traverse(function(s){if(s.isRenderable()){var o=s.geometry,u=s.material;if(u!==i)for(var l=u.getTextureUniforms(),c=0;c<l.length;c++){var h=l[c],f=u.uniforms[h].value;if(f){if(f instanceof We)tx(f,e);else if(f instanceof Array)for(var d=0;d<f.length;d++)f[d]instanceof We&&tx(f[d],e)}}o!==n&&tx(o,r),i=u,n=o}});for(var a=0;a<t.lights.length;a++)t.lights[a].cubemap&&tx(t.lights[a].cubemap,e)}wr.prototype.dispose=function(){this._disposed||(this._stopAccumulating(),this._textureList&&(o4(this._textureList),o4(this._geometriesList),u4(this.renderer,this._textureList),u4(this.renderer,this._geometriesList)),this.zr.off("globalout",this.onglobalout),this._disposed=!0)};wr.prototype.onmousedown=function(t){if(!(t.target&&t.target.__isGLToZRProxy)){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mousedown",t,e),this._dispatchDataEvent("mousedown",t,e)),this._downX=t.offsetX,this._downY=t.offsetY}};wr.prototype.onmousemove=function(t){if(!(t.target&&t.target.__isGLToZRProxy)){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY),r=e&&e.target,i=this._hovered;this._hovered=e,i&&r!==i.target&&(i.relatedTarget=r,this._dispatchEvent("mouseout",t,i),this.zr.setCursorStyle("default")),this._dispatchEvent("mousemove",t,e),e&&(this.zr.setCursorStyle("pointer"),(!i||r!==i.target)&&this._dispatchEvent("mouseover",t,e)),this._dispatchDataEvent("mousemove",t,e)}};wr.prototype.onmouseup=function(t){if(!(t.target&&t.target.__isGLToZRProxy)){t=t.event;var e=this.pickObject(t.offsetX,t.offsetY);e&&(this._dispatchEvent("mouseup",t,e),this._dispatchDataEvent("mouseup",t,e)),this._upX=t.offsetX,this._upY=t.offsetY}};wr.prototype.onclick=wr.prototype.dblclick=function(t){if(!(t.target&&t.target.__isGLToZRProxy)){var e=this._upX-this._downX,r=this._upY-this._downY;if(!(Math.sqrt(e*e+r*r)>20)){t=t.event;var i=this.pickObject(t.offsetX,t.offsetY);i&&(this._dispatchEvent(t.type,t,i),this._dispatchDataEvent(t.type,t,i));var n=this._clickToSetFocusPoint(t);if(n){var a=n.view.setDOFFocusOnPoint(n.distance);a&&this.zr.refresh()}}}};wr.prototype._clickToSetFocusPoint=function(t){for(var e=this.renderer,r=e.viewport,i=this.views.length-1;i>=0;i--){var n=this.views[i];if(n.hasDOF()&&n.containPoint(t.offsetX,t.offsetY)){this._picking.scene=n.scene,this._picking.camera=n.camera,e.viewport=n.viewport;var a=this._picking.pick(t.offsetX,t.offsetY,!0);if(a)return a.view=n,a}}e.viewport=r};wr.prototype.onglobalout=function(t){var e=this._hovered;e&&this._dispatchEvent("mouseout",t,{target:e.target})};wr.prototype.pickObject=function(t,e){for(var r=[],i=this.renderer,n=i.viewport,a=0;a<this.views.length;a++){var s=this.views[a];s.containPoint(t,e)&&(this._picking.scene=s.scene,this._picking.camera=s.camera,i.viewport=s.viewport,this._picking.pickAll(t,e,r))}return i.viewport=n,r.sort(function(o,u){return o.distance-u.distance}),r[0]};wr.prototype._dispatchEvent=function(t,e,r){r||(r={});var i=r.target;for(r.cancelBubble=!1,r.event=e,r.type=t,r.offsetX=e.offsetX,r.offsetY=e.offsetY;i&&(i.trigger(t,r),i=i.getParent(),!r.cancelBubble););this._dispatchToView(t,r)};wr.prototype._dispatchDataEvent=function(t,e,r){var i=r&&r.target,n=i&&i.dataIndex,a=i&&i.seriesIndex,s=i&&i.eventData,o=!1,u=this._zrEventProxy;u.x=e.offsetX,u.y=e.offsetY,u.update();var l={target:u};const c=pt(u);t==="mousemove"&&(n!=null?n!==this._lastDataIndex&&(parseInt(this._lastDataIndex,10)>=0&&(c.dataIndex=this._lastDataIndex,c.seriesIndex=this._lastSeriesIndex,this.zr.handler.dispatchToElement(l,"mouseout",e)),o=!0):s!=null&&s!==this._lastEventData&&(this._lastEventData!=null&&(c.eventData=this._lastEventData,this.zr.handler.dispatchToElement(l,"mouseout",e)),o=!0),this._lastEventData=s,this._lastDataIndex=n,this._lastSeriesIndex=a),c.eventData=s,c.dataIndex=n,c.seriesIndex=a,(s!=null||parseInt(n,10)>=0&&parseInt(a,10)>=0)&&(this.zr.handler.dispatchToElement(l,t,e),o&&this.zr.handler.dispatchToElement(l,"mouseover",e))};wr.prototype._dispatchToView=function(t,e){for(var r=0;r<this.views.length;r++)this.views[r].containPoint(e.offsetX,e.offsetY)&&this.views[r].trigger(t,e)};Object.assign(wr.prototype,aI);var gOe=["bar3D","line3D","map3D","scatter3D","surface","lines3D","scatterGL","scatter3D"];function d1(t,e){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var r=t[e].normal,i=t[e].emphasis;r&&(t[e]=r),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i)}}function vOe(t){d1(t,"itemStyle"),d1(t,"lineStyle"),d1(t,"areaStyle"),d1(t,"label")}function rx(t){t&&(t instanceof Array||(t=[t]),G(t,function(e){if(e.axisLabel){var r=e.axisLabel;Object.assign(r,r.textStyle),r.textStyle=null}}))}function mOe(t){G(t.series,function(e){wt(gOe,e.type)>=0&&(vOe(e),e.coordinateSystem==="mapbox"&&(e.coordinateSystem="mapbox3D",t.mapbox3D=t.mapbox))}),rx(t.xAxis3D),rx(t.yAxis3D),rx(t.zAxis3D),rx(t.grid3D),d1(t.geo3D)}function Ire(t){this._layers={},this._zr=t}Ire.prototype.update=function(t,e){var r=this,i=e.getZr();if(!i.getWidth()||!i.getHeight()){console.warn("Dom has no width or height");return}function n(o){i.setSleepAfterStill(0);var u;o.coordinateSystem&&o.coordinateSystem.model,u=o.get("zlevel");var l=r._layers,c=l[u];if(!c){if(c=l[u]=new wr("gl-"+u,i),i.painter.isSingleCanvas()){c.virtual=!0;var h=new en({z:1e4,style:{image:c.renderer.canvas},silent:!0});c.__hostImage=h,i.add(h)}i.painter.insertLayer(u,c)}return c.__hostImage&&c.__hostImage.setStyle({width:c.renderer.getWidth(),height:c.renderer.getHeight()}),c}function a(o,u){o&&o.traverse(function(l){l.isRenderable&&l.isRenderable()&&(l.ignorePicking=l.$ignorePicking!=null?l.$ignorePicking:u)})}for(var s in this._layers)this._layers[s].removeViewsAll();t.eachComponent(function(o,u){if(o!=="series"){var l=e.getViewOfComponentModel(u),c=u.coordinateSystem;if(l.__ecgl__){var h;if(c){if(!c.viewGL){console.error("Can't find viewGL in coordinateSystem of component "+u.id);return}h=c.viewGL}else{if(!u.viewGL){console.error("Can't find viewGL of component "+u.id);return}h=c.viewGL}var h=c.viewGL,f=n(u);f.addView(h),l.afterRender&&l.afterRender(u,t,e,f),a(l.groupGL,u.get("silent"))}}}),t.eachSeries(function(o){var u=e.getViewOfSeriesModel(o),l=o.coordinateSystem;if(u.__ecgl__){if(l&&!l.viewGL&&!u.viewGL){console.error("Can't find viewGL of series "+u.id);return}var c=l&&l.viewGL||u.viewGL,h=n(o);h.addView(c),u.afterRender&&u.afterRender(o,t,e,h),a(u.groupGL,o.get("silent"))}})};DJ(function(t){var e=t.getZr(),r=e.painter.dispose;e.painter.dispose=function(){typeof this.eachOtherLayer=="function"&&this.eachOtherLayer(function(i){i instanceof wr&&i.dispose()}),r.call(this)},e.painter.getRenderedCanvas=function(i){if(i=i||{},this._singleCanvas)return this._layers[0].dom;var n=document.createElement("canvas"),a=i.pixelRatio||this.dpr;n.width=this.getWidth()*a,n.height=this.getHeight()*a;var s=n.getContext("2d");s.dpr=a,s.clearRect(0,0,n.width,n.height),i.backgroundColor&&(s.fillStyle=i.backgroundColor,s.fillRect(0,0,n.width,n.height));var o=this.storage.getDisplayList(!0),u={},l,c=this;function h(g,v){var m=c._zlevelList;g==null&&(g=-1/0);for(var y,_=0;_<m.length;_++){var x=m[_],b=c._layers[x];if(!b.__builtin__&&x>g&&x<v){y=b;break}}y&&y.renderToCanvas&&(s.save(),y.renderToCanvas(s),s.restore())}for(var f={ctx:s},d=0;d<o.length;d++){var p=o[d];p.zlevel!==l&&(h(l,p.zlevel),l=p.zlevel),this._doPaintEl(p,f,!0,null,u)}return h(l,1/0),n}});FJ(function(t,e){var r=e.getZr(),i=r.__egl=r.__egl||new Ire(r);i.update(t,e)});H9(mOe);const nC={defaultOption:{viewControl:{projection:"perspective",autoRotate:!1,autoRotateDirection:"cw",autoRotateSpeed:10,autoRotateAfterStill:3,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",distance:150,minDistance:40,maxDistance:400,orthographicSize:150,maxOrthographicSize:400,minOrthographicSize:20,center:[0,0,0],alpha:0,beta:0,minAlpha:-90,maxAlpha:90}},setView:function(t){t=t||{},this.option.viewControl=this.option.viewControl||{},t.alpha!=null&&(this.option.viewControl.alpha=t.alpha),t.beta!=null&&(this.option.viewControl.beta=t.beta),t.distance!=null&&(this.option.viewControl.distance=t.distance),t.center!=null&&(this.option.viewControl.center=t.center)}},Sg={defaultOption:{postEffect:{enable:!1,bloom:{enable:!0,intensity:.1},depthOfField:{enable:!1,focalRange:20,focalDistance:50,blurRadius:10,fstop:2.8,quality:"medium"},screenSpaceAmbientOcclusion:{enable:!1,radius:2,quality:"medium",intensity:1},screenSpaceReflection:{enable:!1,quality:"medium",maxRoughness:.8},colorCorrection:{enable:!0,exposure:0,brightness:0,contrast:1,saturation:1,lookupTexture:""},edge:{enable:!1},FXAA:{enable:!1}},temporalSuperSampling:{enable:"auto"}}},Tg={defaultOption:{light:{main:{shadow:!1,shadowQuality:"high",color:"#fff",intensity:1,alpha:0,beta:0},ambient:{color:"#fff",intensity:.2},ambientCubemap:{texture:null,exposure:1,diffuseIntensity:.5,specularIntensity:.5}}}};var aC=Dt.extend({type:"grid3D",dependencies:["xAxis3D","yAxis3D","zAxis3D"],defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",boxWidth:100,boxHeight:100,boxDepth:100,axisPointer:{show:!0,lineStyle:{color:"rgba(0, 0, 0, 0.8)",width:1},label:{show:!0,formatter:null,margin:8,textStyle:{fontSize:14,color:"#fff",backgroundColor:"rgba(0,0,0,0.5)",padding:3,borderRadius:3}}},axisLine:{show:!0,lineStyle:{color:"#333",width:2,type:"solid"}},axisTick:{show:!0,inside:!1,length:3,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}},light:{main:{alpha:30,beta:40},ambient:{intensity:.4}},viewControl:{alpha:20,beta:40,autoRotate:!1,distance:200,minDistance:40,maxDistance:400}}});et(aC.prototype,nC);et(aC.prototype,Sg);et(aC.prototype,Tg);var Gv=jt.firstNotNull,DU={left:0,middle:1,right:2};function FU(t){return t instanceof Array||(t=[t,t]),t}var $m=vn.extend(function(){return{zr:null,viewGL:null,_center:new Fe,minDistance:.5,maxDistance:1.5,maxOrthographicSize:300,minOrthographicSize:30,minAlpha:-90,maxAlpha:90,minBeta:-1/0,maxBeta:1/0,autoRotateAfterStill:0,autoRotateDirection:"cw",autoRotateSpeed:60,damping:.8,rotateSensitivity:1,zoomSensitivity:1,panSensitivity:1,panMouseButton:"middle",rotateMouseButton:"left",_mode:"rotate",_camera:null,_needsUpdate:!1,_rotating:!1,_phi:0,_theta:0,_mouseX:0,_mouseY:0,_rotateVelocity:new Tt,_panVelocity:new Tt,_distance:500,_zoomSpeed:0,_stillTimeout:0,_animators:[]}},function(){["_mouseDownHandler","_mouseWheelHandler","_mouseMoveHandler","_mouseUpHandler","_pinchHandler","_contextMenuHandler","_update"].forEach(function(t){this[t]=this[t].bind(this)},this)},{init:function(){var t=this.zr;t&&(t.on("mousedown",this._mouseDownHandler),t.on("globalout",this._mouseUpHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("pinch",this._pinchHandler),t.animation.on("frame",this._update),t.dom.addEventListener("contextmenu",this._contextMenuHandler))},dispose:function(){var t=this.zr;t&&(t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("pinch",this._pinchHandler),t.off("globalout",this._mouseUpHandler),t.dom.removeEventListener("contextmenu",this._contextMenuHandler),t.animation.off("frame",this._update)),this.stopAllAnimation()},getDistance:function(){return this._distance},setDistance:function(t){this._distance=t,this._needsUpdate=!0},getOrthographicSize:function(){return this._orthoSize},setOrthographicSize:function(t){this._orthoSize=t,this._needsUpdate=!0},getAlpha:function(){return this._theta/Math.PI*180},getBeta:function(){return-this._phi/Math.PI*180},getCenter:function(){return this._center.toArray()},setAlpha:function(t){t=Math.max(Math.min(this.maxAlpha,t),this.minAlpha),this._theta=t/180*Math.PI,this._needsUpdate=!0},setBeta:function(t){t=Math.max(Math.min(this.maxBeta,t),this.minBeta),this._phi=-t/180*Math.PI,this._needsUpdate=!0},setCenter:function(t){this._center.setArray(t)},setViewGL:function(t){this.viewGL=t},getCamera:function(){return this.viewGL.camera},setFromViewControlModel:function(t,e){e=e||{};var r=e.baseDistance||0,i=e.baseOrthoSize||1,n=t.get("projection");n!=="perspective"&&n!=="orthographic"&&n!=="isometric"&&(n="perspective"),this._projection=n,this.viewGL.setProjection(n);var a=t.get("distance")+r,s=t.get("orthographicSize")+i;[["damping",.8],["autoRotate",!1],["autoRotateAfterStill",3],["autoRotateDirection","cw"],["autoRotateSpeed",10],["minDistance",30],["maxDistance",400],["minOrthographicSize",30],["maxOrthographicSize",300],["minAlpha",-90],["maxAlpha",90],["minBeta",-1/0],["maxBeta",1/0],["rotateSensitivity",1],["zoomSensitivity",1],["panSensitivity",1],["panMouseButton","left"],["rotateMouseButton","middle"]].forEach(function(f){this[f[0]]=Gv(t.get(f[0]),f[1])},this),this.minDistance+=r,this.maxDistance+=r,this.minOrthographicSize+=i,this.maxOrthographicSize+=i;var o=t.ecModel,u={};["animation","animationDurationUpdate","animationEasingUpdate"].forEach(function(f){u[f]=Gv(t.get(f),o&&o.get(f))});var l=Gv(e.alpha,t.get("alpha"))||0,c=Gv(e.beta,t.get("beta"))||0,h=Gv(e.center,t.get("center"))||[0,0,0];u.animation&&u.animationDurationUpdate>0&&this._notFirst?this.animateTo({alpha:l,beta:c,center:h,distance:a,orthographicSize:s,easing:u.animationEasingUpdate,duration:u.animationDurationUpdate}):(this.setDistance(a),this.setAlpha(l),this.setBeta(c),this.setCenter(h),this.setOrthographicSize(s)),this._notFirst=!0,this._validateProperties()},_validateProperties:function(){},animateTo:function(t){var e=this.zr,r=this,i={},n={};return t.distance!=null&&(i.distance=this.getDistance(),n.distance=t.distance),t.orthographicSize!=null&&(i.orthographicSize=this.getOrthographicSize(),n.orthographicSize=t.orthographicSize),t.alpha!=null&&(i.alpha=this.getAlpha(),n.alpha=t.alpha),t.beta!=null&&(i.beta=this.getBeta(),n.beta=t.beta),t.center!=null&&(i.center=this.getCenter(),n.center=t.center),this._addAnimator(e.animation.animate(i).when(t.duration||1e3,n).during(function(){i.alpha!=null&&r.setAlpha(i.alpha),i.beta!=null&&r.setBeta(i.beta),i.distance!=null&&r.setDistance(i.distance),i.center!=null&&r.setCenter(i.center),i.orthographicSize!=null&&r.setOrthographicSize(i.orthographicSize),r._needsUpdate=!0})).start(t.easing||"linear")},stopAllAnimation:function(){for(var t=0;t<this._animators.length;t++)this._animators[t].stop();this._animators.length=0},update:function(){this._needsUpdate=!0,this._update(20)},_isAnimating:function(){return this._animators.length>0},_update:function(t){if(this._rotating){var e=(this.autoRotateDirection==="cw"?1:-1)*this.autoRotateSpeed/180*Math.PI;this._phi-=e*t/1e3,this._needsUpdate=!0}else this._rotateVelocity.len()>0&&(this._needsUpdate=!0);(Math.abs(this._zoomSpeed)>.1||this._panVelocity.len()>0)&&(this._needsUpdate=!0),this._needsUpdate&&(t=Math.min(t,50),this._updateDistanceOrSize(t),this._updatePan(t),this._updateRotate(t),this._updateTransform(),this.getCamera().update(),this.zr&&this.zr.refresh(),this.trigger("update"),this._needsUpdate=!1)},_updateRotate:function(t){var e=this._rotateVelocity;this._phi=e.y*t/20+this._phi,this._theta=e.x*t/20+this._theta,this.setAlpha(this.getAlpha()),this.setBeta(this.getBeta()),this._vectorDamping(e,Math.pow(this.damping,t/16))},_updateDistanceOrSize:function(t){this._projection==="perspective"?this._setDistance(this._distance+this._zoomSpeed*t/20):this._setOrthoSize(this._orthoSize+this._zoomSpeed*t/20),this._zoomSpeed*=Math.pow(this.damping,t/16)},_setDistance:function(t){this._distance=Math.max(Math.min(t,this.maxDistance),this.minDistance)},_setOrthoSize:function(t){this._orthoSize=Math.max(Math.min(t,this.maxOrthographicSize),this.minOrthographicSize);var e=this.getCamera(),r=this._orthoSize,i=r/this.viewGL.viewport.height*this.viewGL.viewport.width;e.left=-i/2,e.right=i/2,e.top=r/2,e.bottom=-r/2},_updatePan:function(t){var e=this._panVelocity,r=this._distance,i=this.getCamera(),n=i.worldTransform.y,a=i.worldTransform.x;this._center.scaleAndAdd(a,-e.x*r/200).scaleAndAdd(n,-e.y*r/200),this._vectorDamping(e,0)},_updateTransform:function(){var t=this.getCamera(),e=new Fe,r=this._theta+Math.PI/2,i=this._phi+Math.PI/2,n=Math.sin(r);e.x=n*Math.cos(i),e.y=-Math.cos(r),e.z=n*Math.sin(i),t.position.copy(this._center).scaleAndAdd(e,this._distance),t.rotation.identity().rotateY(-this._phi).rotateX(-this._theta)},_startCountingStill:function(){clearTimeout(this._stillTimeout);var t=this.autoRotateAfterStill,e=this;!isNaN(t)&&t>0&&(this._stillTimeout=setTimeout(function(){e._rotating=!0},t*1e3))},_vectorDamping:function(t,e){var r=t.len();r=r*e,r<1e-4&&(r=0),t.normalize().scale(r)},_decomposeTransform:function(){if(this.getCamera()){this.getCamera().updateWorldTransform();var t=this.getCamera().worldTransform.z,e=Math.asin(t.y),r=Math.atan2(t.x,t.z);this._theta=e,this._phi=-r,this.setBeta(this.getBeta()),this.setAlpha(this.getAlpha()),this.getCamera().aspect?this._setDistance(this.getCamera().position.dist(this._center)):this._setOrthoSize(this.getCamera().top-this.getCamera().bottom)}},_mouseDownHandler:function(t){if(!t.target&&!this._isAnimating()){var e=t.offsetX,r=t.offsetY;this.viewGL&&!this.viewGL.containPoint(e,r)||(this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler),t.event.targetTouches?t.event.targetTouches.length===1&&(this._mode="rotate"):t.event.button===DU[this.rotateMouseButton]?this._mode="rotate":t.event.button===DU[this.panMouseButton]?this._mode="pan":this._mode="",this._rotateVelocity.set(0,0),this._rotating=!1,this.autoRotate&&this._startCountingStill(),this._mouseX=t.offsetX,this._mouseY=t.offsetY)}},_mouseMoveHandler:function(t){if(!(t.target&&t.target.__isGLToZRProxy)&&!this._isAnimating()){var e=FU(this.panSensitivity),r=FU(this.rotateSensitivity);this._mode==="rotate"?(this._rotateVelocity.y=(t.offsetX-this._mouseX)/this.zr.getHeight()*2*r[0],this._rotateVelocity.x=(t.offsetY-this._mouseY)/this.zr.getWidth()*2*r[1]):this._mode==="pan"&&(this._panVelocity.x=(t.offsetX-this._mouseX)/this.zr.getWidth()*e[0]*400,this._panVelocity.y=(-t.offsetY+this._mouseY)/this.zr.getHeight()*e[1]*400),this._mouseX=t.offsetX,this._mouseY=t.offsetY,t.event.preventDefault()}},_mouseWheelHandler:function(t){if(!this._isAnimating()){var e=t.event.wheelDelta||-t.event.detail;this._zoomHandler(t,e)}},_pinchHandler:function(t){this._isAnimating()||(this._zoomHandler(t,t.pinchScale>1?1:-1),this._mode="")},_zoomHandler:function(t,e){if(e!==0){var r=t.offsetX,i=t.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(r,i))){var n;this._projection==="perspective"?n=Math.max(Math.max(Math.min(this._distance-this.minDistance,this.maxDistance-this._distance))/20,.5):n=Math.max(Math.max(Math.min(this._orthoSize-this.minOrthographicSize,this.maxOrthographicSize-this._orthoSize))/20,.5),this._zoomSpeed=(e>0?-1:1)*n*this.zoomSensitivity,this._rotating=!1,this.autoRotate&&this._mode==="rotate"&&this._startCountingStill(),t.event.preventDefault()}}},_mouseUpHandler:function(){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_isRightMouseButtonUsed:function(){return this.rotateMouseButton==="right"||this.panMouseButton==="right"},_contextMenuHandler:function(t){this._isRightMouseButtonUsed()&&t.preventDefault()},_addAnimator:function(t){var e=this._animators;return e.push(t),t.done(function(){var r=e.indexOf(t);r>=0&&e.splice(r,1)}),t}});Object.defineProperty($m.prototype,"autoRotate",{get:function(t){return this._autoRotate},set:function(t){this._autoRotate=t,this._rotating=t}});const Wm={convertToDynamicArray:function(t){t&&this.resetOffset();var e=this.attributes;for(var r in e)t||!e[r].value?e[r].value=[]:e[r].value=Array.prototype.slice.call(e[r].value);t||!this.indices?this.indices=[]:this.indices=Array.prototype.slice.call(this.indices)},convertToTypedArray:function(){var t=this.attributes;for(var e in t)t[e].value&&t[e].value.length>0?t[e].value=new Float32Array(t[e].value):t[e].value=null;this.indices&&this.indices.length>0&&(this.indices=this.vertexCount>65535?new Uint32Array(this.indices):new Uint16Array(this.indices)),this.dirty()}},_i={vec2:Ve,vec3:oe,vec4:Ne,mat3:vt,mat4:ke};var pT=_i.vec3,IU=[[0,0],[1,1]],qc=$t.extend(function(){return{segmentScale:1,dynamic:!0,useNativeLine:!0,attributes:{position:new $t.Attribute("position","float",3,"POSITION"),positionPrev:new $t.Attribute("positionPrev","float",3),positionNext:new $t.Attribute("positionNext","float",3),prevPositionPrev:new $t.Attribute("prevPositionPrev","float",3),prevPosition:new $t.Attribute("prevPosition","float",3),prevPositionNext:new $t.Attribute("prevPositionNext","float",3),offset:new $t.Attribute("offset","float",1),color:new $t.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.positionPrev.init(t),e.positionNext.init(t),e.offset.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(t===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(t*3):new Uint16Array(t*3))},_getCubicCurveApproxStep:function(t,e,r,i){var n=pT.dist(t,e)+pT.dist(r,e)+pT.dist(i,r),a=1/(n+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(t,e,r,i){var n=this._getCubicCurveApproxStep(t,e,r,i),a=Math.ceil(1/n);return this.useNativeLine?a*2:a*2+2},getCubicCurveTriangleCount:function(t,e,r,i){var n=this._getCubicCurveApproxStep(t,e,r,i),a=Math.ceil(1/n);return this.useNativeLine?0:a*2},getLineVertexCount:function(){return this.getPolylineVertexCount(IU)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(IU)},getPolylineVertexCount:function(t){var e;if(typeof t=="number")e=t;else{var r=typeof t[0]!="number";e=r?t.length:t.length/3}return this.useNativeLine?(e-1)*2:(e-1)*2+2},getPolylineTriangleCount:function(t){var e;if(typeof t=="number")e=t;else{var r=typeof t[0]!="number";e=r?t.length:t.length/3}return this.useNativeLine?0:Math.max(e-1,0)*2},addCubicCurve:function(t,e,r,i,n,a){a==null&&(a=1);for(var s=t[0],o=t[1],u=t[2],l=e[0],c=e[1],h=e[2],f=r[0],d=r[1],p=r[2],g=i[0],v=i[1],m=i[2],y=this._getCubicCurveApproxStep(t,e,r,i),_=y*y,x=_*y,b=3*y,C=3*_,E=6*_,A=6*x,S=s-l*2+f,T=o-c*2+d,D=u-h*2+p,F=(l-f)*3-s+g,B=(c-d)*3-o+v,O=(h-p)*3-u+m,M=s,R=o,z=u,k=(l-s)*b+S*C+F*x,U=(c-o)*b+T*C+B*x,V=(h-u)*b+D*C+O*x,j=S*E+F*A,Y=T*E+B*A,te=D*E+O*A,re=F*A,de=B*A,Oe=O*A,he=0,le=0,pe=Math.ceil(1/y),xe=new Float32Array((pe+1)*3),xe=[],be=0,le=0;le<pe+1;le++)xe[be++]=M,xe[be++]=R,xe[be++]=z,M+=k,R+=U,z+=V,k+=j,U+=Y,V+=te,j+=re,Y+=de,te+=Oe,he+=y,he>1&&(M=k>0?Math.min(M,g):Math.max(M,g),R=U>0?Math.min(R,v):Math.max(R,v),z=V>0?Math.min(z,m):Math.max(z,m));return this.addPolyline(xe,n,a)},addLine:function(t,e,r,i){return this.addPolyline([t,e],r,i)},addPolyline:function(t,e,r,i,n){if(t.length){var a=typeof t[0]!="number";if(n==null&&(n=a?t.length:t.length/3),!(n<2)){i==null&&(i=0),r==null&&(r=1),this._itemVertexOffsets.push(this._vertexOffset);var a=typeof t[0]!="number",s=a?typeof e[0]!="number":e.length/4===n,o=this.attributes.position,u=this.attributes.positionPrev,l=this.attributes.positionNext,c=this.attributes.color,h=this.attributes.offset,f=this.indices,d=this._vertexOffset,p,g;r=Math.max(r,.01);for(var v=i;v<n;v++){if(a)p=t[v],s?g=e[v]:g=e;else{var m=v*3;if(p=p||[],p[0]=t[m],p[1]=t[m+1],p[2]=t[m+2],s){var y=v*4;g=g||[],g[0]=e[y],g[1]=e[y+1],g[2]=e[y+2],g[3]=e[y+3]}else g=e}if(this.useNativeLine?v>1&&(o.copy(d,d-1),c.copy(d,d-1),d++):(v<n-1&&(u.set(d+2,p),u.set(d+3,p)),v>0&&(l.set(d-2,p),l.set(d-1,p)),o.set(d,p),o.set(d+1,p),c.set(d,g),c.set(d+1,g),h.set(d,r/2),h.set(d+1,-r/2),d+=2),this.useNativeLine)c.set(d,g),o.set(d,p),d++;else if(v>0){var _=this._triangleOffset*3,f=this.indices;f[_]=d-4,f[_+1]=d-3,f[_+2]=d-2,f[_+3]=d-3,f[_+4]=d-1,f[_+5]=d-2,this._triangleOffset+=2}}if(!this.useNativeLine){var x=this._vertexOffset,b=this._vertexOffset+n*2;u.copy(x,x+2),u.copy(x+1,x+3),l.copy(b-1,b-3),l.copy(b-2,b-4)}return this._vertexOffset=d,this._vertexOffset}}},setItemColor:function(t,e){for(var r=this._itemVertexOffsets[t],i=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,n=r;n<i;n++)this.attributes.color.set(n,e);this.dirty("color")},currentTriangleOffset:function(){return this._triangleOffset},currentVertexOffset:function(){return this._vertexOffset}});st(qc.prototype,Wm);function l4(t,e,r,i,n,a,s){this._zr=t,this._x=0,this._y=0,this._rowHeight=0,this.width=i,this.height=n,this.offsetX=e,this.offsetY=r,this.dpr=s,this.gap=a}l4.prototype={constructor:l4,clear:function(){this._x=0,this._y=0,this._rowHeight=0},add:function(t,e,r){var i=t.getBoundingRect();e==null&&(e=i.width),r==null&&(r=i.height),e*=this.dpr,r*=this.dpr,this._fitElement(t,e,r);var n=this._x,a=this._y,s=this.width*this.dpr,o=this.height*this.dpr,u=this.gap;if(n+e+u>s&&(n=this._x=0,a+=this._rowHeight+u,this._y=a,this._rowHeight=0),this._x+=e+u,this._rowHeight=Math.max(this._rowHeight,r),a+r+u>o)return null;t.x+=this.offsetX*this.dpr+n,t.y+=this.offsetY*this.dpr+a,this._zr.add(t);var l=[this.offsetX/this.width,this.offsetY/this.height],c=[[n/s+l[0],a/o+l[1]],[(n+e)/s+l[0],(a+r)/o+l[1]]];return c},_fitElement:function(t,e,r){var i=t.getBoundingRect(),n=e/i.width,a=r/i.height;t.x=-i.x*n,t.y=-i.y*a,t.scaleX=n,t.scaleY=a,t.update()}};function c4(t){t=t||{},t.width=t.width||512,t.height=t.height||512,t.devicePixelRatio=t.devicePixelRatio||1,t.gap=t.gap==null?2:t.gap;var e=document.createElement("canvas");e.width=t.width*t.devicePixelRatio,e.height=t.height*t.devicePixelRatio,this._canvas=e,this._texture=new Rt({image:e,flipY:!1});var r=this;this._zr=F8(e);var i=this._zr.refreshImmediately;this._zr.refreshImmediately=function(){i.call(this),r._texture.dirty(),r.onupdate&&r.onupdate()},this._dpr=t.devicePixelRatio,this._coords={},this.onupdate=t.onupdate,this._gap=t.gap,this._textureAtlasNodes=[new l4(this._zr,0,0,t.width,t.height,this._gap,this._dpr)],this._nodeWidth=t.width,this._nodeHeight=t.height,this._currentNodeIdx=0}c4.prototype={clear:function(){for(var t=0;t<this._textureAtlasNodes.length;t++)this._textureAtlasNodes[t].clear();this._currentNodeIdx=0,this._zr.clear(),this._coords={}},getWidth:function(){return this._width},getHeight:function(){return this._height},getTexture:function(){return this._texture},getDevicePixelRatio:function(){return this._dpr},getZr:function(){return this._zr},_getCurrentNode:function(){return this._textureAtlasNodes[this._currentNodeIdx]},_expand:function(){if(this._currentNodeIdx++,this._textureAtlasNodes[this._currentNodeIdx])return this._textureAtlasNodes[this._currentNodeIdx];var t=4096/this._dpr,e=this._textureAtlasNodes,r=e.length,i=r*this._nodeWidth%t,n=Math.floor(r*this._nodeWidth/t)*this._nodeHeight;if(!(n>=t)){var a=(i+this._nodeWidth)*this._dpr,s=(n+this._nodeHeight)*this._dpr;try{this._zr.resize({width:a,height:s})}catch{this._canvas.width=a,this._canvas.height=s}var o=new l4(this._zr,i,n,this._nodeWidth,this._nodeHeight,this._gap,this._dpr);return this._textureAtlasNodes.push(o),o}},add:function(t,e,r){if(this._coords[t.id])return this._coords[t.id];var i=this._getCurrentNode().add(t,e,r);if(!i){var n=this._expand();if(!n)return;i=n.add(t,e,r)}return this._coords[t.id]=i,i},getCoordsScale:function(){var t=this._dpr;return[this._nodeWidth/this._canvas.width*t,this._nodeHeight/this._canvas.height*t]},getCoords:function(t){return this._coords[t]},dispose:function(){this._zr.dispose()}};function Gc(){}Gc.prototype={constructor:Gc,setScene:function(t){this._scene=t,this._skybox&&this._skybox.attachScene(this._scene)},initLight:function(t){this._lightRoot=t,this.mainLight=new Z.DirectionalLight({shadowBias:.005}),this.ambientLight=new Z.AmbientLight,t.add(this.mainLight),t.add(this.ambientLight)},dispose:function(){this._lightRoot&&(this._lightRoot.remove(this.mainLight),this._lightRoot.remove(this.ambientLight))},updateLight:function(t){var e=this.mainLight,r=this.ambientLight,i=t.getModel("light"),n=i.getModel("main"),a=i.getModel("ambient");e.intensity=n.get("intensity"),r.intensity=a.get("intensity"),e.color=Z.parseColor(n.get("color")).slice(0,3),r.color=Z.parseColor(a.get("color")).slice(0,3);var s=n.get("alpha")||0,o=n.get("beta")||0;e.position.setArray(Z.directionFromAlphaBeta(s,o)),e.lookAt(Z.Vector3.ZERO),e.castShadow=n.get("shadow"),e.shadowResolution=Z.getShadowResolution(n.get("shadowQuality"))},updateAmbientCubemap:function(t,e,r){var i=e.getModel("light.ambientCubemap"),n=i.get("texture");if(n){this._cubemapLightsCache=this._cubemapLightsCache||{};var a=this._cubemapLightsCache[n];if(!a){var s=this;a=this._cubemapLightsCache[n]=Z.createAmbientCubemap(i.option,t,r,function(){s._isSkyboxFromAmbientCubemap&&s._skybox.setEnvironmentMap(a.specular.cubemap),r.getZr().refresh()})}this._lightRoot.add(a.diffuse),this._lightRoot.add(a.specular),this._currentCubemapLights=a}else this._currentCubemapLights&&(this._lightRoot.remove(this._currentCubemapLights.diffuse),this._lightRoot.remove(this._currentCubemapLights.specular),this._currentCubemapLights=null)},updateSkybox:function(t,e,r){var i=e.get("environment"),n=this;function a(){return n._skybox=n._skybox||new Q2,n._skybox}var s=a();if(i&&i!=="none")if(i==="auto")if(this._isSkyboxFromAmbientCubemap=!0,this._currentCubemapLights){var o=this._currentCubemapLights.specular.cubemap;s.setEnvironmentMap(o),this._scene&&s.attachScene(this._scene),s.material.set("lod",3)}else this._skybox&&this._skybox.detachScene();else if(typeof i=="object"&&i.colorStops||typeof i=="string"&&ua(i)){this._isSkyboxFromAmbientCubemap=!1;var u=new Z.Texture2D({anisotropic:8,flipY:!1});s.setEnvironmentMap(u);var l=u.image=document.createElement("canvas");l.width=l.height=16;var c=l.getContext("2d"),h=new Gt({shape:{x:0,y:0,width:16,height:16},style:{fill:i}});Gb(c,h),s.attachScene(this._scene)}else{this._isSkyboxFromAmbientCubemap=!1;var u=Z.loadTexture(i,r,{anisotropic:8,flipY:!1});s.setEnvironmentMap(u),s.attachScene(this._scene)}else this._skybox&&this._skybox.detachScene(this._scene),this._skybox=null;var f=e.coordinateSystem;if(this._skybox)if(f&&f.viewGL&&i!=="auto"&&!(i.match&&i.match(/.hdr$/))){var d=f.viewGL.isLinearSpace()?"define":"undefine";this._skybox.material[d]("fragment","SRGB_DECODE")}else this._skybox.material.undefine("fragment","SRGB_DECODE")}};var k0=_i.vec3,Bre=$t.extend(function(){return{segmentScale:1,useNativeLine:!0,attributes:{position:new $t.Attribute("position","float",3,"POSITION"),normal:new $t.Attribute("normal","float",3,"NORMAL"),color:new $t.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setQuadCount:function(t){var e=this.attributes,r=this.getQuadVertexCount()*t,i=this.getQuadTriangleCount()*t;this.vertexCount!==r&&(e.position.init(r),e.normal.init(r),e.color.init(r)),this.triangleCount!==i&&(this.indices=r>65535?new Uint32Array(i*3):new Uint16Array(i*3))},getQuadVertexCount:function(){return 4},getQuadTriangleCount:function(){return 2},addQuad:function(){var t=k0.create(),e=k0.create(),r=k0.create(),i=[0,3,1,3,2,1];return function(n,a){var s=this.attributes.position,o=this.attributes.normal,u=this.attributes.color;k0.sub(t,n[1],n[0]),k0.sub(e,n[2],n[1]),k0.cross(r,t,e),k0.normalize(r,r);for(var l=0;l<4;l++)s.set(this._vertexOffset+l,n[l]),u.set(this._vertexOffset+l,a),o.set(this._vertexOffset+l,r);for(var c=this._faceOffset*3,l=0;l<6;l++)this.indices[c+l]=i[l]+this._vertexOffset;this._vertexOffset+=4,this._faceOffset+=2}}()});st(Bre.prototype,Wm);var iD=jt.firstNotNull,yOe={x:0,y:2,z:1};function _Oe(t,e,r,i){var n=[0,0,0],a=i<0?r.getExtentMin():r.getExtentMax();n[yOe[r.dim]]=a,t.position.setArray(n),t.rotation.identity(),e.distance=-Math.abs(a),e.normal.set(0,0,0),r.dim==="x"?(t.rotation.rotateY(i*Math.PI/2),e.normal.x=-i):r.dim==="z"?(t.rotation.rotateX(-i*Math.PI/2),e.normal.y=-i):(i>0&&t.rotation.rotateY(Math.PI),e.normal.z=-i)}function sC(t,e,r){this.rootNode=new Z.Node;var i=new Z.Mesh({geometry:new qc({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:1}),n=new Z.Mesh({geometry:new Bre,material:r,castShadow:!1,culling:!1,ignorePicking:!0,$ignorePicking:!0,renderOrder:0});this.rootNode.add(n),this.rootNode.add(i),this.faceInfo=t,this.plane=new Z.Plane,this.linesMesh=i,this.quadsMesh=n}sC.prototype.update=function(t,e,r){var i=t.coordinateSystem,n=[i.getAxis(this.faceInfo[0]),i.getAxis(this.faceInfo[1])],a=this.linesMesh.geometry,s=this.quadsMesh.geometry;a.convertToDynamicArray(!0),s.convertToDynamicArray(!0),this._updateSplitLines(a,n,t,r),this._udpateSplitAreas(s,n,t,r),a.convertToTypedArray(),s.convertToTypedArray();var o=i.getAxis(this.faceInfo[2]);_Oe(this.rootNode,this.plane,o,this.faceInfo[3])};sC.prototype._updateSplitLines=function(t,e,r,i){var n=i.getDevicePixelRatio();e.forEach(function(a,s){var o=a.model,u=e[1-s].getExtent();if(!a.scale.isBlank()){var l=o.getModel("splitLine",r.getModel("splitLine"));if(l.get("show")){var c=l.getModel("lineStyle"),h=c.get("color"),f=iD(c.get("opacity"),1),d=iD(c.get("width"),1);h=Te(h)?h:[h];for(var p=a.getTicksCoords({tickModel:l}),g=0,v=0;v<p.length;v++){var m=p[v].coord,y=Z.parseColor(h[g%h.length]);y[3]*=f;var _=[0,0,0],x=[0,0,0];_[s]=x[s]=m,_[1-s]=u[0],x[1-s]=u[1],t.addLine(_,x,y,d*n),g++}}}})};sC.prototype._udpateSplitAreas=function(t,e,r,i){e.forEach(function(n,a){var s=n.model,o=e[1-a].getExtent();if(!n.scale.isBlank()){var u=s.getModel("splitArea",r.getModel("splitArea"));if(u.get("show")){var l=u.getModel("areaStyle"),c=l.get("color"),h=iD(l.get("opacity"),1);c=Te(c)?c:[c];for(var f=n.getTicksCoords({tickModel:u,clamp:!0}),d=0,p=[0,0,0],g=[0,0,0],v=0;v<f.length;v++){var m=f[v].coord,y=[0,0,0],_=[0,0,0];if(y[a]=_[a]=m,y[1-a]=o[0],_[1-a]=o[1],v===0){p=y,g=_;continue}var x=Z.parseColor(c[d%c.length]);x[3]*=h,t.addQuad([p,y,_,g],x),p=y,g=_,d++}}}})};var BU=[0,1,2,0,2,3],Mre=$t.extend(function(){return{attributes:{position:new $t.Attribute("position","float",3,"POSITION"),texcoord:new $t.Attribute("texcoord","float",2,"TEXCOORD_0"),offset:new $t.Attribute("offset","float",2),color:new $t.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setSpriteCount:function(t){this._spriteCount=t;var e=t*4,r=t*2;this.vertexCount!==e&&(this.attributes.position.init(e),this.attributes.offset.init(e),this.attributes.color.init(e)),this.triangleCount!==r&&(this.indices=e>65535?new Uint32Array(r*3):new Uint16Array(r*3))},setSpriteAlign:function(t,e,r,i,n){r==null&&(r="left"),i==null&&(i="top");var a,s,o,u;switch(n=n||0,r){case"left":a=n,o=e[0]+n;break;case"center":case"middle":a=-e[0]/2,o=e[0]/2;break;case"right":a=-e[0]-n,o=-n;break}switch(i){case"bottom":s=n,u=e[1]+n;break;case"middle":s=-e[1]/2,u=e[1]/2;break;case"top":s=-e[1]-n,u=-n;break}var l=t*4,c=this.attributes.offset;c.set(l,[a,u]),c.set(l+1,[o,u]),c.set(l+2,[o,s]),c.set(l+3,[a,s])},addSprite:function(t,e,r,i,n,a){var s=this._vertexOffset;this.setSprite(this._vertexOffset/4,t,e,r,i,n,a);for(var o=0;o<BU.length;o++)this.indices[this._faceOffset*3+o]=BU[o]+s;return this._faceOffset+=2,this._vertexOffset+=4,s/4},setSprite:function(t,e,r,i,n,a,s){for(var o=t*4,u=this.attributes,l=0;l<4;l++)u.position.set(o+l,e);var c=u.texcoord;c.set(o,[i[0][0],i[0][1]]),c.set(o+1,[i[1][0],i[0][1]]),c.set(o+2,[i[1][0],i[1][1]]),c.set(o+3,[i[0][0],i[1][1]]),this.setSpriteAlign(t,r,n,a,s)}});st(Mre.prototype,Wm);const xOe=`@export ecgl.labels.vertex

attribute vec3 position: POSITION;
attribute vec2 texcoord: TEXCOORD_0;
attribute vec2 offset;
#ifdef VERTEX_COLOR
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec2 v_Texcoord;

void main()
{
 vec4 proj = worldViewProjection * vec4(position, 1.0);

 vec2 screen = (proj.xy / abs(proj.w) + 1.0) * 0.5 * viewport.zw;

 screen += offset;

 proj.xy = (screen / viewport.zw - 0.5) * 2.0 * abs(proj.w);
 gl_Position = proj;
#ifdef VERTEX_COLOR
 v_Color = a_Color;
#endif
 v_Texcoord = texcoord;
}
@end


@export ecgl.labels.fragment

uniform vec3 color : [1.0, 1.0, 1.0];
uniform float alpha : 1.0;
uniform sampler2D textureAtlas;
uniform vec2 uvScale: [1.0, 1.0];

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif
varying float v_Miter;

varying vec2 v_Texcoord;

void main()
{
 gl_FragColor = vec4(color, alpha) * texture2D(textureAtlas, v_Texcoord * uvScale);
#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
#endif
}

@end`;Z.Shader.import(xOe);const lI=Z.Mesh.extend(function(){var t=new Mre({dynamic:!0}),e=new Z.Material({shader:Z.createShader("ecgl.labels"),transparent:!0,depthMask:!1});return{geometry:t,material:e,culling:!1,castShadow:!1,ignorePicking:!0}});var z0=jt.firstNotNull,H0={x:0,y:2,z:1};function cI(t,e){var r=new Z.Mesh({geometry:new qc({useNativeLine:!1}),material:e,castShadow:!1,ignorePicking:!0,renderOrder:2}),i=new lI;i.material.depthMask=!1;var n=new Z.Node;n.add(r),n.add(i),this.rootNode=n,this.dim=t,this.linesMesh=r,this.labelsMesh=i,this.axisLineCoords=null,this.labelElements=[]}var gT={x:"y",y:"x",z:"y"};cI.prototype.update=function(t,e,r){var i=t.coordinateSystem,n=i.getAxis(this.dim),a=this.linesMesh.geometry,s=this.labelsMesh.geometry;a.convertToDynamicArray(!0),s.convertToDynamicArray(!0);var o=n.model,u=n.getExtent(),D=r.getDevicePixelRatio(),l=o.getModel("axisLine",t.getModel("axisLine")),c=o.getModel("axisTick",t.getModel("axisTick")),h=o.getModel("axisLabel",t.getModel("axisLabel")),f=l.get("lineStyle.color");if(l.get("show")){var d=l.getModel("lineStyle"),p=[0,0,0],g=[0,0,0],v=H0[n.dim];p[v]=u[0],g[v]=u[1],this.axisLineCoords=[p,g];var m=Z.parseColor(f),y=z0(d.get("width"),1),_=z0(d.get("opacity"),1);m[3]*=_,a.addLine(p,g,m,y*D)}if(c.get("show")){var x=c.getModel("lineStyle"),b=Z.parseColor(z0(x.get("color"),f)),y=z0(x.get("width"),1);b[3]*=z0(x.get("opacity"),1);for(var C=n.getTicksCoords(),E=c.get("length"),A=0;A<C.length;A++){var S=C[A].coord,p=[0,0,0],g=[0,0,0],v=H0[n.dim],T=H0[gT[n.dim]];p[v]=g[v]=S,g[T]=E,a.addLine(p,g,b,y*D)}}this.labelElements=[];var D=r.getDevicePixelRatio();if(h.get("show"))for(var C=n.getTicksCoords(),F=o.get("data"),B=h.get("margin"),O=n.getViewLabels(),A=0;A<O.length;A++){var M=O[A].tickValue,R=O[A].formattedLabel,z=O[A].rawLabel,S=n.dataToCoord(M),k=[0,0,0],v=H0[n.dim],T=H0[gT[n.dim]];k[v]=k[v]=S,k[T]=B;var U=h;F&&F[M]&&F[M].textStyle&&(U=new Xt(F[M].textStyle,h,o.ecModel));var V=z0(U.get("color"),f),j=new zt({style:pr(U,{text:R,fill:typeof V=="function"?V(n.type==="category"?z:n.type==="value"?M+"":M,A):V,verticalAlign:"top",align:"left"})}),Y=e.add(j),te=j.getBoundingRect();s.addSprite(k,[te.width*D,te.height*D],Y),this.labelElements.push(j)}if(o.get("name")){var re=o.getModel("nameTextStyle"),k=[0,0,0],v=H0[n.dim],T=H0[gT[n.dim]],de=z0(re.get("color"),f),Oe=re.get("borderColor"),y=re.get("borderWidth");k[v]=k[v]=(u[0]+u[1])/2,k[T]=o.get("nameGap");var j=new zt({style:pr(re,{text:o.get("name"),fill:de,stroke:Oe,lineWidth:y})}),Y=e.add(j),te=j.getBoundingRect();s.addSprite(k,[te.width*D,te.height*D],Y),j.__idx=this.labelElements.length,this.nameLabelElement=j}this.labelsMesh.material.set("textureAtlas",e.getTexture()),this.labelsMesh.material.set("uvScale",e.getCoordsScale()),a.convertToTypedArray(),s.convertToTypedArray()};cI.prototype.setSpriteAlign=function(t,e,r){for(var i=r.getDevicePixelRatio(),n=this.labelsMesh.geometry,a=0;a<this.labelElements.length;a++){var s=this.labelElements[a],o=s.getBoundingRect();n.setSpriteAlign(a,[o.width*i,o.height*i],t,e)}var u=this.nameLabelElement;if(u){var o=u.getBoundingRect();n.setSpriteAlign(u.__idx,[o.width*i,o.height*i],t,e),n.dirty()}this.textAlign=t,this.textVerticalAlign=e};const oC=`@export ecgl.lines3D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec3 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

void main()
{
 gl_Position = worldViewProjection * vec4(position, 1.0);
 v_Color = a_Color;
}

@end

@export ecgl.lines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif
}
@end



@export ecgl.lines3D.clipNear

vec4 clipNear(vec4 p1, vec4 p2) {
 float n = (p1.w - near) / (p1.w - p2.w);
 return vec4(mix(p1.xy, p2.xy, n), -near, near);
}

@end

@export ecgl.lines3D.expandLine
#ifdef VERTEX_ANIMATION
 vec4 prevProj = worldViewProjection * vec4(mix(prevPositionPrev, positionPrev, percent), 1.0);
 vec4 currProj = worldViewProjection * vec4(mix(prevPosition, position, percent), 1.0);
 vec4 nextProj = worldViewProjection * vec4(mix(prevPositionNext, positionNext, percent), 1.0);
#else
 vec4 prevProj = worldViewProjection * vec4(positionPrev, 1.0);
 vec4 currProj = worldViewProjection * vec4(position, 1.0);
 vec4 nextProj = worldViewProjection * vec4(positionNext, 1.0);
#endif

 if (currProj.w < 0.0) {
 if (nextProj.w > 0.0) {
 currProj = clipNear(currProj, nextProj);
 }
 else if (prevProj.w > 0.0) {
 currProj = clipNear(currProj, prevProj);
 }
 }

 vec2 prevScreen = (prevProj.xy / abs(prevProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 currScreen = (currProj.xy / abs(currProj.w) + 1.0) * 0.5 * viewport.zw;
 vec2 nextScreen = (nextProj.xy / abs(nextProj.w) + 1.0) * 0.5 * viewport.zw;

 vec2 dir;
 float len = offset;
 if (position == positionPrev) {
 dir = normalize(nextScreen - currScreen);
 }
 else if (position == positionNext) {
 dir = normalize(currScreen - prevScreen);
 }
 else {
 vec2 dirA = normalize(currScreen - prevScreen);
 vec2 dirB = normalize(nextScreen - currScreen);

 vec2 tanget = normalize(dirA + dirB);

 float miter = 1.0 / max(dot(tanget, dirA), 0.5);
 len *= miter;
 dir = tanget;
 }

 dir = vec2(-dir.y, dir.x) * len;
 currScreen += dir;

 currProj.xy = (currScreen / viewport.zw - 0.5) * 2.0 * abs(currProj.w);
@end


@export ecgl.meshLines3D.vertex

attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute vec4 a_Color : COLOR;

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute vec3 prevPositionPrev;
attribute vec3 prevPositionNext;
uniform float percent : 1.0;
#endif

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

varying vec4 v_Color;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain
}
@end


@export ecgl.meshLines3D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain
}

@end`;var MU=jt.firstNotNull;Z.Shader.import(oC);var G0={x:0,y:2,z:1};const bOe=_r.extend({type:"grid3D",__ecgl__:!0,init:function(t,e){var r=[["y","z","x",-1,"left"],["y","z","x",1,"right"],["x","y","z",-1,"bottom"],["x","y","z",1,"top"],["x","z","y",-1,"far"],["x","z","y",1,"near"]],i=["x","y","z"],n=new Z.Material({shader:Z.createShader("ecgl.color"),depthMask:!1,transparent:!0}),a=new Z.Material({shader:Z.createShader("ecgl.meshLines3D"),depthMask:!1,transparent:!0});n.define("fragment","DOUBLE_SIDED"),n.define("both","VERTEX_COLOR"),this.groupGL=new Z.Node,this._control=new $m({zr:e.getZr()}),this._control.init(),this._faces=r.map(function(o){var u=new sC(o,a,n);return this.groupGL.add(u.rootNode),u},this),this._axes=i.map(function(o){var u=new cI(o,a);return this.groupGL.add(u.rootNode),u},this);var s=e.getDevicePixelRatio();this._axisLabelSurface=new c4({width:256,height:256,devicePixelRatio:s}),this._axisLabelSurface.onupdate=function(){e.getZr().refresh()},this._axisPointerLineMesh=new Z.Mesh({geometry:new qc({useNativeLine:!1}),material:a,castShadow:!1,ignorePicking:!0,renderOrder:3}),this.groupGL.add(this._axisPointerLineMesh),this._axisPointerLabelsSurface=new c4({width:128,height:128,devicePixelRatio:s}),this._axisPointerLabelsMesh=new lI({ignorePicking:!0,renderOrder:4,castShadow:!1}),this._axisPointerLabelsMesh.material.set("textureAtlas",this._axisPointerLabelsSurface.getTexture()),this.groupGL.add(this._axisPointerLabelsMesh),this._lightRoot=new Z.Node,this._sceneHelper=new Gc,this._sceneHelper.initLight(this._lightRoot)},render:function(t,e,r){this._model=t,this._api=r;var i=t.coordinateSystem;i.viewGL.add(this._lightRoot),t.get("show")?i.viewGL.add(this.groupGL):i.viewGL.remove(this.groupGL);var n=this._control;n.setViewGL(i.viewGL);var a=t.getModel("viewControl");n.setFromViewControlModel(a,0),this._axisLabelSurface.clear(),n.off("update"),t.get("show")&&(this._faces.forEach(function(s){s.update(t,e,r)},this),this._axes.forEach(function(s){s.update(t,this._axisLabelSurface,r)},this)),n.on("update",this._onCameraChange.bind(this,t,r),this),this._sceneHelper.setScene(i.viewGL.scene),this._sceneHelper.updateLight(t),i.viewGL.setPostEffect(t.getModel("postEffect"),r),i.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._initMouseHandler(t)},afterRender:function(t,e,r,i){var n=i.renderer;this._sceneHelper.updateAmbientCubemap(n,t,r),this._sceneHelper.updateSkybox(n,t,r)},showAxisPointer:function(t,e,r,i){this._doShowAxisPointer(),this._updateAxisPointer(i.value)},hideAxisPointer:function(t,e,r,i){this._doHideAxisPointer()},_initMouseHandler:function(t){var e=t.coordinateSystem,r=e.viewGL;t.get("show")&&t.get("axisPointer.show")?r.on("mousemove",this._updateAxisPointerOnMousePosition,this):r.off("mousemove",this._updateAxisPointerOnMousePosition)},_updateAxisPointerOnMousePosition:function(t){if(!t.target){for(var e=this._model,r=e.coordinateSystem,i=r.viewGL,n=i.castRay(t.offsetX,t.offsetY,new Z.Ray),a,s=0;s<this._faces.length;s++){var o=this._faces[s];if(!o.rootNode.invisible){o.plane.normal.dot(i.camera.worldTransform.z)<0&&o.plane.normal.negate();var u=n.intersectPlane(o.plane);if(u){var l=r.getAxis(o.faceInfo[0]),c=r.getAxis(o.faceInfo[1]),h=G0[o.faceInfo[0]],f=G0[o.faceInfo[1]];l.contain(u.array[h])&&c.contain(u.array[f])&&(a=u)}}}if(a){var d=r.pointToData(a.array,[],!0);this._updateAxisPointer(d),this._doShowAxisPointer()}else this._doHideAxisPointer()}},_onCameraChange:function(t,e){t.get("show")&&(this._updateFaceVisibility(),this._updateAxisLinePosition());var r=this._control;e.dispatchAction({type:"grid3DChangeCamera",alpha:r.getAlpha(),beta:r.getBeta(),distance:r.getDistance(),center:r.getCenter(),from:this.uid,grid3DId:t.id})},_updateFaceVisibility:function(){var t=this._control.getCamera(),e=new Z.Vector3;t.update();for(var r=0;r<this._faces.length/2;r++){for(var i=[],n=0;n<2;n++){var a=this._faces[r*2+n];a.rootNode.getWorldPosition(e),e.transformMat4(t.viewMatrix),i[n]=e.z}var s=i[0]>i[1]?0:1,o=this._faces[r*2+s],u=this._faces[r*2+1-s];o.rootNode.invisible=!0,u.rootNode.invisible=!1}},_updateAxisLinePosition:function(){var t=this._model.coordinateSystem,e=t.getAxis("x"),r=t.getAxis("y"),i=t.getAxis("z"),n=i.getExtentMax(),a=i.getExtentMin(),s=e.getExtentMin(),o=e.getExtentMax(),u=r.getExtentMax(),l=r.getExtentMin(),c=this._axes[0].rootNode,h=this._axes[1].rootNode,f=this._axes[2].rootNode,d=this._faces,p=d[4].rootNode.invisible?l:u,g=d[2].rootNode.invisible?n:a,v=d[0].rootNode.invisible?s:o,m=d[2].rootNode.invisible?n:a,y=d[0].rootNode.invisible?o:s,_=d[4].rootNode.invisible?l:u;c.rotation.identity(),h.rotation.identity(),f.rotation.identity(),d[4].rootNode.invisible&&(this._axes[0].flipped=!0,c.rotation.rotateX(Math.PI)),d[0].rootNode.invisible&&(this._axes[1].flipped=!0,h.rotation.rotateZ(Math.PI)),d[4].rootNode.invisible&&(this._axes[2].flipped=!0,f.rotation.rotateY(Math.PI)),c.position.set(0,g,p),h.position.set(v,m,0),f.position.set(y,0,_),c.update(),h.update(),f.update(),this._updateAxisLabelAlign()},_updateAxisLabelAlign:function(){var t=this._control.getCamera(),e=[new Z.Vector4,new Z.Vector4],r=new Z.Vector4;this.groupGL.getWorldPosition(r),r.w=1,r.transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),r.x/=r.w,r.y/=r.w,this._axes.forEach(function(i){var n=i.axisLineCoords;i.labelsMesh.geometry;for(var a=0;a<e.length;a++)e[a].setArray(n[a]),e[a].w=1,e[a].transformMat4(i.rootNode.worldTransform).transformMat4(t.viewMatrix).transformMat4(t.projectionMatrix),e[a].x/=e[a].w,e[a].y/=e[a].w;var s=e[1].x-e[0].x,o=e[1].y-e[0].y,u=(e[1].x+e[0].x)/2,l=(e[1].y+e[0].y)/2,c,h;Math.abs(o/s)<.5?(c="center",h=l>r.y?"bottom":"top"):(h="middle",c=u>r.x?"left":"right"),i.setSpriteAlign(c,h,this._api)},this)},_doShowAxisPointer:function(){this._axisPointerLineMesh.invisible&&(this._axisPointerLineMesh.invisible=!1,this._axisPointerLabelsMesh.invisible=!1,this._api.getZr().refresh())},_doHideAxisPointer:function(){this._axisPointerLineMesh.invisible||(this._axisPointerLineMesh.invisible=!0,this._axisPointerLabelsMesh.invisible=!0,this._api.getZr().refresh())},_updateAxisPointer:function(t){var e=this._model.coordinateSystem,r=e.dataToPoint(t),i=this._axisPointerLineMesh,n=i.geometry,a=this._model.getModel("axisPointer"),s=this._api.getDevicePixelRatio();n.convertToDynamicArray(!0);function o(A){return jt.firstNotNull(A.model.get("axisPointer.show"),a.get("show"))}function u(A){var S=A.model.getModel("axisPointer",a),T=S.getModel("lineStyle"),D=Z.parseColor(T.get("color")),F=MU(T.get("width"),1),B=MU(T.get("opacity"),1);return D[3]*=B,{color:D,lineWidth:F}}for(var l=0;l<this._faces.length;l++){var c=this._faces[l];if(!c.rootNode.invisible){for(var h=c.faceInfo,f=h[3]<0?e.getAxis(h[2]).getExtentMin():e.getAxis(h[2]).getExtentMax(),d=G0[h[2]],p=0;p<2;p++){var g=h[p],v=h[1-p],m=e.getAxis(g),y=e.getAxis(v);if(o(m)){var _=[0,0,0],x=[0,0,0],b=G0[g],C=G0[v];_[b]=x[b]=r[b],_[d]=x[d]=f,_[C]=y.getExtentMin(),x[C]=y.getExtentMax();var E=u(m);n.addLine(_,x,E.color,E.lineWidth*s)}}if(o(e.getAxis(h[2]))){var _=r.slice(),x=r.slice();x[d]=f;var E=u(e.getAxis(h[2]));n.addLine(_,x,E.color,E.lineWidth*s)}}}n.convertToTypedArray(),this._updateAxisPointerLabelsMesh(t),this._api.getZr().refresh()},_updateAxisPointerLabelsMesh:function(t){var e=this._model,r=this._axisPointerLabelsMesh,i=this._axisPointerLabelsSurface,n=e.coordinateSystem,a=e.getModel("axisPointer");r.geometry.convertToDynamicArray(!0),i.clear();var s={x:"y",y:"x",z:"y"};this._axes.forEach(function(o,u){var l=n.getAxis(o.dim),c=l.model,h=c.getModel("axisPointer",a),f=h.getModel("label"),d=h.get("lineStyle.color");if(!(!f.get("show")||!h.get("show"))){var p=t[u],g=f.get("formatter"),v=l.scale.getLabel({value:p});if(g!=null)v=g(v,t);else if(l.scale.type==="interval"||l.scale.type==="log"){var m=r9(l.scale.getTicks()[0]);v=p.toFixed(m+2)}var y=f.get("color"),_=new zt({style:pr(f,{text:v,fill:y||d,align:"left",verticalAlign:"top"})}),x=i.add(_),b=_.getBoundingRect(),C=this._api.getDevicePixelRatio(),E=o.rootNode.position.toArray(),A=G0[s[o.dim]];E[A]+=(o.flipped?-1:1)*f.get("margin"),E[G0[o.dim]]=l.dataToCoord(t[u]),r.geometry.addSprite(E,[b.width*C,b.height*C],x,o.textAlign,o.textVerticalAlign)}},this),i.getZr().refreshImmediately(),r.material.set("uvScale",i.getCoordsScale()),r.geometry.convertToTypedArray()},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._axisLabelSurface.dispose(),this._axisPointerLabelsSurface.dispose()}});function em(t){sF.call(this,t),this.type="cartesian3D",this.dimensions=["x","y","z"],this.size=[0,0,0]}em.prototype={constructor:em,model:null,containPoint:function(t){return this.getAxis("x").contain(t[0])&&this.getAxis("y").contain(t[2])&&this.getAxis("z").contain(t[1])},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])&&this.getAxis("z").containData(t[2])},dataToPoint:function(t,e,r){return e=e||[],e[0]=this.getAxis("x").dataToCoord(t[0],r),e[2]=this.getAxis("y").dataToCoord(t[1],r),e[1]=this.getAxis("z").dataToCoord(t[2],r),e},pointToData:function(t,e,r){return e=e||[],e[0]=this.getAxis("x").coordToData(t[0],r),e[1]=this.getAxis("y").coordToData(t[2],r),e[2]=this.getAxis("z").coordToData(t[1],r),e}};q7(em,sF);function h4(t,e,r){_a.call(this,t,e,r)}h4.prototype={constructor:h4,getExtentMin:function(){var t=this._extent;return Math.min(t[0],t[1])},getExtentMax:function(){var t=this._extent;return Math.max(t[0],t[1])},calculateCategoryInterval:function(){return Math.floor(this.scale.count()/8)}};q7(h4,_a);var f4=function(){this._pool={},this._allocatedTextures=[]};f4.prototype={constructor:f4,get:function(t){var e=PU(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var r=this._pool[e];if(!r.length){var i=new Rt(t);return this._allocatedTextures.push(i),i}return r.pop()},put:function(t){var e=PU(t);this._pool.hasOwnProperty(e)||(this._pool[e]=[]);var r=this._pool[e];r.push(t)},clear:function(t){for(var e=0;e<this._allocatedTextures.length;e++)this._allocatedTextures[e].dispose(t);this._pool={},this._allocatedTextures=[]}};var Pre={width:512,height:512,type:Re.UNSIGNED_BYTE,format:Re.RGBA,wrapS:Re.CLAMP_TO_EDGE,wrapT:Re.CLAMP_TO_EDGE,minFilter:Re.LINEAR_MIPMAP_LINEAR,magFilter:Re.LINEAR,useMipmap:!0,anisotropic:1,flipY:!0,unpackAlignment:4,premultiplyAlpha:!1},vT=Object.keys(Pre);function PU(t){pi.defaultsWithPropList(t,Pre,vT),COe(t);for(var e="",r=0;r<vT.length;r++){var i=vT[r],n=t[i].toString();e+=n}return e}function COe(t){var e=EOe(t.width,t.height);t.format===Re.DEPTH_COMPONENT&&(t.useMipmap=!1),(!e||!t.useMipmap)&&(t.minFilter==Re.NEAREST_MIPMAP_NEAREST||t.minFilter==Re.NEAREST_MIPMAP_LINEAR?t.minFilter=Re.NEAREST:(t.minFilter==Re.LINEAR_MIPMAP_LINEAR||t.minFilter==Re.LINEAR_MIPMAP_NEAREST)&&(t.minFilter=Re.LINEAR)),e||(t.wrapS=Re.CLAMP_TO_EDGE,t.wrapT=Re.CLAMP_TO_EDGE)}function EOe(t,e){return(t&t-1)===0&&(e&e-1)===0}const SOe=`@export clay.sm.depth.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
attribute vec3 position : POSITION;
attribute vec2 texcoord : TEXCOORD_0;
uniform vec2 uvRepeat = vec2(1.0, 1.0);
uniform vec2 uvOffset = vec2(0.0, 0.0);
@import clay.chunk.skinning_header
@import clay.chunk.instancing_header
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
void main(){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 v_ViewPosition = worldViewProjection * P;
 gl_Position = v_ViewPosition;
 v_Texcoord = texcoord * uvRepeat + uvOffset;
}
@end
@export clay.sm.depth.fragment
varying vec4 v_ViewPosition;
varying vec2 v_Texcoord;
uniform float bias : 0.001;
uniform float slopeScale : 1.0;
uniform sampler2D alphaMap;
uniform float alphaCutoff: 0.0;
@import clay.util.encode_float
void main(){
 float depth = v_ViewPosition.z / v_ViewPosition.w;
 if (alphaCutoff > 0.0) {
 if (texture2D(alphaMap, v_Texcoord).a <= alphaCutoff) {
 discard;
 }
 }
#ifdef USE_VSM
 depth = depth * 0.5 + 0.5;
 float moment1 = depth;
 float moment2 = depth * depth;
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 moment2 += 0.25*(dx*dx+dy*dy);
 #endif
 gl_FragColor = vec4(moment1, moment2, 0.0, 1.0);
#else
 #ifdef SUPPORT_STANDARD_DERIVATIVES
 float dx = dFdx(depth);
 float dy = dFdy(depth);
 depth += sqrt(dx*dx + dy*dy) * slopeScale + bias;
 #else
 depth += bias;
 #endif
 gl_FragColor = encodeFloat(depth * 0.5 + 0.5);
#endif
}
@end
@export clay.sm.debug_depth
uniform sampler2D depthMap;
varying vec2 v_Texcoord;
@import clay.util.decode_float
void main() {
 vec4 tex = texture2D(depthMap, v_Texcoord);
#ifdef USE_VSM
 gl_FragColor = vec4(tex.rgb, 1.0);
#else
 float depth = decodeFloat(tex);
 gl_FragColor = vec4(depth, depth, depth, 1.0);
#endif
}
@end
@export clay.sm.distance.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 world : WORLD;
attribute vec3 position : POSITION;
@import clay.chunk.skinning_header
varying vec3 v_WorldPosition;
void main (){
 vec4 P = vec4(position, 1.0);
#ifdef SKINNING
 @import clay.chunk.skin_matrix
 P = skinMatrixWS * P;
#endif
#ifdef INSTANCING
 @import clay.chunk.instancing_matrix
 P = instanceMat * P;
#endif
 gl_Position = worldViewProjection * P;
 v_WorldPosition = (world * P).xyz;
}
@end
@export clay.sm.distance.fragment
uniform vec3 lightPosition;
uniform float range : 100;
varying vec3 v_WorldPosition;
@import clay.util.encode_float
void main(){
 float dist = distance(lightPosition, v_WorldPosition);
#ifdef USE_VSM
 gl_FragColor = vec4(dist, dist * dist, 0.0, 0.0);
#else
 dist = dist / range;
 gl_FragColor = encodeFloat(dist);
#endif
}
@end
@export clay.plugin.shadow_map_common
@import clay.util.decode_float
float tapShadowMap(sampler2D map, vec2 uv, float z){
 vec4 tex = texture2D(map, uv);
 return step(z, decodeFloat(tex) * 2.0 - 1.0);
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize, vec2 scale) {
 float shadowContrib = tapShadowMap(map, uv, z);
 vec2 offset = vec2(1.0 / textureSize) * scale;
#ifdef PCF_KERNEL_SIZE
 for (int _idx_ = 0; _idx_ < PCF_KERNEL_SIZE; _idx_++) {{
 shadowContrib += tapShadowMap(map, uv + offset * pcfKernel[_idx_], z);
 }}
 return shadowContrib / float(PCF_KERNEL_SIZE + 1);
#else
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, 0.0), z);
 shadowContrib += tapShadowMap(map, uv+vec2(-offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(offset.x, -offset.y), z);
 shadowContrib += tapShadowMap(map, uv+vec2(0.0, -offset.y), z);
 return shadowContrib / 9.0;
#endif
}
float pcf(sampler2D map, vec2 uv, float z, float textureSize) {
 return pcf(map, uv, z, textureSize, vec2(1.0));
}
float chebyshevUpperBound(vec2 moments, float z){
 float p = 0.0;
 z = z * 0.5 + 0.5;
 if (z <= moments.x) {
 p = 1.0;
 }
 float variance = moments.y - moments.x * moments.x;
 variance = max(variance, 0.0000001);
 float mD = moments.x - z;
 float pMax = variance / (variance + mD * mD);
 pMax = clamp((pMax-0.4)/(1.0-0.4), 0.0, 1.0);
 return max(p, pMax);
}
float computeShadowContrib(
 sampler2D map, mat4 lightVPM, vec3 position, float textureSize, vec2 scale, vec2 offset
) {
 vec4 posInLightSpace = lightVPM * vec4(position, 1.0);
 posInLightSpace.xyz /= posInLightSpace.w;
 float z = posInLightSpace.z;
 if(all(greaterThan(posInLightSpace.xyz, vec3(-0.99, -0.99, -1.0))) &&
 all(lessThan(posInLightSpace.xyz, vec3(0.99, 0.99, 1.0)))){
 vec2 uv = (posInLightSpace.xy+1.0) / 2.0;
 #ifdef USE_VSM
 vec2 moments = texture2D(map, uv * scale + offset).xy;
 return chebyshevUpperBound(moments, z);
 #else
 return pcf(map, uv * scale + offset, z, textureSize, scale);
 #endif
 }
 return 1.0;
}
float computeShadowContrib(sampler2D map, mat4 lightVPM, vec3 position, float textureSize) {
 return computeShadowContrib(map, lightVPM, position, textureSize, vec2(1.0), vec2(0.0));
}
float computeShadowContribOmni(samplerCube map, vec3 direction, float range)
{
 float dist = length(direction);
 vec4 shadowTex = textureCube(map, direction);
#ifdef USE_VSM
 vec2 moments = shadowTex.xy;
 float variance = moments.y - moments.x * moments.x;
 float mD = moments.x - dist;
 float p = variance / (variance + mD * mD);
 if(moments.x + 0.001 < dist){
 return clamp(p, 0.0, 1.0);
 }else{
 return 1.0;
 }
#else
 return step(dist, (decodeFloat(shadowTex) + 0.0002) * range);
#endif
}
@end
@export clay.plugin.compute_shadow_map
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT) || defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT) || defined(POINT_LIGHT_SHADOWMAP_COUNT)
#ifdef SPOT_LIGHT_SHADOWMAP_COUNT
uniform sampler2D spotLightShadowMaps[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 spotLightMatrices[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float spotLightShadowMapSizes[SPOT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#ifdef DIRECTIONAL_LIGHT_SHADOWMAP_COUNT
#if defined(SHADOW_CASCADE)
uniform sampler2D directionalLightShadowMaps[1]:unconfigurable;
uniform mat4 directionalLightMatrices[SHADOW_CASCADE]:unconfigurable;
uniform float directionalLightShadowMapSizes[1]:unconfigurable;
uniform float shadowCascadeClipsNear[SHADOW_CASCADE]:unconfigurable;
uniform float shadowCascadeClipsFar[SHADOW_CASCADE]:unconfigurable;
#else
uniform sampler2D directionalLightShadowMaps[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform mat4 directionalLightMatrices[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
uniform float directionalLightShadowMapSizes[DIRECTIONAL_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
#endif
#ifdef POINT_LIGHT_SHADOWMAP_COUNT
uniform samplerCube pointLightShadowMaps[POINT_LIGHT_SHADOWMAP_COUNT]:unconfigurable;
#endif
uniform bool shadowEnabled : true;
#ifdef PCF_KERNEL_SIZE
uniform vec2 pcfKernel[PCF_KERNEL_SIZE];
#endif
@import clay.plugin.shadow_map_common
#if defined(SPOT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfSpotLights(vec3 position, inout float shadowContribs[SPOT_LIGHT_COUNT] ) {
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < SPOT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 spotLightShadowMaps[_idx_], spotLightMatrices[_idx_], position,
 spotLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = SPOT_LIGHT_SHADOWMAP_COUNT; _idx_ < SPOT_LIGHT_COUNT; _idx_++){{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#if defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
#ifdef SHADOW_CASCADE
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float depth = (2.0 * gl_FragCoord.z - gl_DepthRange.near - gl_DepthRange.far)
 / (gl_DepthRange.far - gl_DepthRange.near);
 float shadowContrib;
 shadowContribs[0] = 1.0;
 for (int _idx_ = 0; _idx_ < SHADOW_CASCADE; _idx_++) {{
 if (
 depth >= shadowCascadeClipsNear[_idx_] &&
 depth <= shadowCascadeClipsFar[_idx_]
 ) {
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[0], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[0],
 vec2(1.0 / float(SHADOW_CASCADE), 1.0),
 vec2(float(_idx_) / float(SHADOW_CASCADE), 0.0)
 );
 shadowContribs[0] = shadowContrib;
 }
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#else
void computeShadowOfDirectionalLights(vec3 position, inout float shadowContribs[DIRECTIONAL_LIGHT_COUNT]){
 float shadowContrib;
 for(int _idx_ = 0; _idx_ < DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 shadowContrib = computeShadowContrib(
 directionalLightShadowMaps[_idx_], directionalLightMatrices[_idx_], position,
 directionalLightShadowMapSizes[_idx_]
 );
 shadowContribs[_idx_] = shadowContrib;
 }}
 for(int _idx_ = DIRECTIONAL_LIGHT_SHADOWMAP_COUNT; _idx_ < DIRECTIONAL_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
#if defined(POINT_LIGHT_SHADOWMAP_COUNT)
void computeShadowOfPointLights(vec3 position, inout float shadowContribs[POINT_LIGHT_COUNT] ){
 vec3 lightPosition;
 vec3 direction;
 for(int _idx_ = 0; _idx_ < POINT_LIGHT_SHADOWMAP_COUNT; _idx_++) {{
 lightPosition = pointLightPosition[_idx_];
 direction = position - lightPosition;
 shadowContribs[_idx_] = computeShadowContribOmni(pointLightShadowMaps[_idx_], direction, pointLightRange[_idx_]);
 }}
 for(int _idx_ = POINT_LIGHT_SHADOWMAP_COUNT; _idx_ < POINT_LIGHT_COUNT; _idx_++) {{
 shadowContribs[_idx_] = 1.0;
 }}
}
#endif
#endif
@end`;var Yl=["px","nx","py","ny","pz","nz"];qe.import(SOe);function mT(t,e,r){if(r==="alphaMap")return t.material.get("diffuseMap");if(r==="alphaCutoff"){if(t.material.isDefined("fragment","ALPHA_TEST")&&t.material.get("diffuseMap")){var i=t.material.get("alphaCutoff");return i||0}return 0}else return r==="uvRepeat"?t.material.get("uvRepeat"):r==="uvOffset"?t.material.get("uvOffset"):e.get(r)}function LU(t,e){var r=t.material,i=e.material;return r.get("diffuseMap")!==i.get("diffuseMap")||(r.get("alphaCutoff")||0)!==(i.get("alphaCutoff")||0)}var jo=vn.extend(function(){return{softShadow:jo.PCF,shadowBlur:1,lightFrustumBias:"auto",kernelPCF:new Float32Array([1,0,1,1,-1,1,0,1,-1,0,-1,-1,1,-1,0,-1]),precision:"highp",_lastRenderNotCastShadow:!1,_frameBuffer:new mi,_textures:{},_shadowMapNumber:{POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},_depthMaterials:{},_distanceMaterials:{},_receivers:[],_lightsCastShadow:[],_lightCameras:{},_lightMaterials:{},_texturePool:new f4}},function(){this._gaussianPassH=new Di({fragment:qe.source("clay.compositor.gaussian_blur")}),this._gaussianPassV=new Di({fragment:qe.source("clay.compositor.gaussian_blur")}),this._gaussianPassH.setUniform("blurSize",this.shadowBlur),this._gaussianPassH.setUniform("blurDir",0),this._gaussianPassV.setUniform("blurSize",this.shadowBlur),this._gaussianPassV.setUniform("blurDir",1),this._outputDepthPass=new Di({fragment:qe.source("clay.sm.debug_depth")})},{render:function(t,e,r,i){r||(r=e.getMainCamera()),this.trigger("beforerender",this,t,e,r),this._renderShadowPass(t,e,r,i),this.trigger("afterrender",this,t,e,r)},renderDebug:function(t,e){t.saveClear();var r=t.viewport,i=0,n=0,a=e||r.width/4,s=a;this.softShadow===jo.VSM?this._outputDepthPass.material.define("fragment","USE_VSM"):this._outputDepthPass.material.undefine("fragment","USE_VSM");for(var o in this._textures){var u=this._textures[o];t.setViewport(i,n,a*u.width/u.height,s),this._outputDepthPass.setUniform("depthMap",u),this._outputDepthPass.render(t),i+=a*u.width/u.height}t.setViewport(r),t.restoreClear()},_updateReceivers:function(t,e){if(e.receiveShadow?(this._receivers.push(e),e.material.set("shadowEnabled",1),e.material.set("pcfKernel",this.kernelPCF)):e.material.set("shadowEnabled",0),this.softShadow===jo.VSM)e.material.define("fragment","USE_VSM"),e.material.undefine("fragment","PCF_KERNEL_SIZE");else{e.material.undefine("fragment","USE_VSM");var r=this.kernelPCF;r&&r.length?e.material.define("fragment","PCF_KERNEL_SIZE",r.length/2):e.material.undefine("fragment","PCF_KERNEL_SIZE")}},_update:function(t,e){var r=this;e.traverse(function(a){a.isRenderable()&&r._updateReceivers(t,a)});for(var i=0;i<e.lights.length;i++){var n=e.lights[i];n.castShadow&&!n.invisible&&this._lightsCastShadow.push(n)}},_renderShadowPass:function(t,e,r,i){for(var n in this._shadowMapNumber)this._shadowMapNumber[n]=0;this._lightsCastShadow.length=0,this._receivers.length=0;var a=t.gl;if(i||e.update(),r&&r.update(),e.updateLights(),this._update(t,e),!this._lightsCastShadow.length&&this._lastRenderNotCastShadow)return;this._lastRenderNotCastShadow=this._lightsCastShadow===0,a.enable(a.DEPTH_TEST),a.depthMask(!0),a.disable(a.BLEND),a.clearColor(1,1,1,1);for(var s=[],o=[],u=[],l=[],c=[],h=[],f,d=0;d<this._lightsCastShadow.length;d++){var p=this._lightsCastShadow[d];if(p.type==="DIRECTIONAL_LIGHT"){if(f){console.warn("Only one direectional light supported with shadow cascade");continue}if(p.shadowCascade>4){console.warn("Support at most 4 cascade");continue}p.shadowCascade>1&&(f=p),this.renderDirectionalLightShadow(t,e,r,p,c,l,u)}else p.type==="SPOT_LIGHT"?this.renderSpotLightShadow(t,e,p,o,s):p.type==="POINT_LIGHT"&&this.renderPointLightShadow(t,e,p,h);this._shadowMapNumber[p.type]++}for(var g in this._shadowMapNumber)for(var v=this._shadowMapNumber[g],m=g+"_SHADOWMAP_COUNT",d=0;d<this._receivers.length;d++){var y=this._receivers[d],_=y.material;_.fragmentDefines[m]!==v&&(v>0?_.define("fragment",m,v):_.isDefined("fragment",m)&&_.undefine("fragment",m))}for(var d=0;d<this._receivers.length;d++){var y=this._receivers[d],_=y.material;f?_.define("fragment","SHADOW_CASCADE",f.shadowCascade):_.undefine("fragment","SHADOW_CASCADE")}var x=e.shadowUniforms;function b(T){return T.height}if(u.length>0){var C=u.map(b);if(x.directionalLightShadowMaps={value:u,type:"tv"},x.directionalLightMatrices={value:l,type:"m4v"},x.directionalLightShadowMapSizes={value:C,type:"1fv"},f){var E=c.slice(),A=c.slice();E.pop(),A.shift(),E.reverse(),A.reverse(),l.reverse(),x.shadowCascadeClipsNear={value:E,type:"1fv"},x.shadowCascadeClipsFar={value:A,type:"1fv"}}}if(s.length>0){var S=s.map(b),x=e.shadowUniforms;x.spotLightShadowMaps={value:s,type:"tv"},x.spotLightMatrices={value:o,type:"m4v"},x.spotLightShadowMapSizes={value:S,type:"1fv"}}h.length>0&&(x.pointLightShadowMaps={value:h,type:"tv"})},renderDirectionalLightShadow:function(){var t=new tC,e=new Qe,r=new cn,i=new Qe,n=new Qe,a=new Qe,s=new Qe;return function(o,u,l,c,h,f,d){var p=this._getDepthMaterial(c),g={getMaterial:function(te){return te.shadowDepthMaterial||p},isMaterialChanged:LU,getUniform:mT,ifRender:function(te){return te.castShadow},sortCompare:Ps.opaqueSortCompare};if(!u.viewBoundingBoxLastFrame.isFinite()){var v=u.getBoundingBox();u.viewBoundingBoxLastFrame.copy(v).applyTransform(l.viewMatrix)}var m=Math.min(-u.viewBoundingBoxLastFrame.min.z,l.far),y=Math.max(-u.viewBoundingBoxLastFrame.max.z,l.near),_=this._getDirectionalLightCamera(c,u,l),x=a.array;s.copy(_.projectionMatrix),ke.invert(n.array,_.worldTransform.array),ke.multiply(n.array,n.array,l.worldTransform.array),ke.multiply(x,s.array,n.array);for(var b=[],C=l instanceof Hi,E=(l.near+l.far)/(l.near-l.far),A=2*l.near*l.far/(l.near-l.far),S=0;S<=c.shadowCascade;S++){var T=y*Math.pow(m/y,S/c.shadowCascade),D=y+(m-y)*S/c.shadowCascade,F=T*c.cascadeSplitLogFactor+D*(1-c.cascadeSplitLogFactor);b.push(F),h.push(-(-F*E+A)/-F)}var B=this._getTexture(c,c.shadowCascade);d.push(B);var O=o.viewport,M=o.gl;this._frameBuffer.attach(B),this._frameBuffer.bind(o),M.clear(M.COLOR_BUFFER_BIT|M.DEPTH_BUFFER_BIT);for(var S=0;S<c.shadowCascade;S++){var R=b[S],z=b[S+1];C?ke.perspective(e.array,l.fov/180*Math.PI,l.aspect,R,z):ke.ortho(e.array,l.left,l.right,l.bottom,l.top,R,z),t.setFromProjection(e),t.getTransformedBoundingBox(r,n),r.applyProjection(s);var k=r.min.array,U=r.max.array;k[0]=Math.max(k[0],-1),k[1]=Math.max(k[1],-1),U[0]=Math.min(U[0],1),U[1]=Math.min(U[1],1),i.ortho(k[0],U[0],k[1],U[1],1,-1),_.projectionMatrix.multiplyLeft(i);var V=c.shadowResolution||512;o.setViewport((c.shadowCascade-S-1)*V,0,V,V,1);var j=u.updateRenderList(_);o.renderPass(j.opaque,_,g),this.softShadow===jo.VSM&&this._gaussianFilter(o,B,B.width);var Y=new Qe;Y.copy(_.viewMatrix).multiplyLeft(_.projectionMatrix),f.push(Y.array),_.projectionMatrix.copy(s)}this._frameBuffer.unbind(o),o.setViewport(O)}}(),renderSpotLightShadow:function(t,e,r,i,n){var a=this._getTexture(r),s=this._getSpotLightCamera(r),o=t.gl;this._frameBuffer.attach(a),this._frameBuffer.bind(t),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT);var u=this._getDepthMaterial(r),l={getMaterial:function(f){return f.shadowDepthMaterial||u},isMaterialChanged:LU,getUniform:mT,ifRender:function(f){return f.castShadow},sortCompare:Ps.opaqueSortCompare},c=e.updateRenderList(s);t.renderPass(c.opaque,s,l),this._frameBuffer.unbind(t),this.softShadow===jo.VSM&&this._gaussianFilter(t,a,a.width);var h=new Qe;h.copy(s.worldTransform).invert().multiplyLeft(s.projectionMatrix),n.push(a),i.push(h.array)},renderPointLightShadow:function(t,e,r,i){var n=this._getTexture(r),a=t.gl;i.push(n);var s=this._getDepthMaterial(r),o={getMaterial:function(y){return y.shadowDepthMaterial||s},getUniform:mT,sortCompare:Ps.opaqueSortCompare},u={px:[],py:[],pz:[],nx:[],ny:[],nz:[]},l=new cn,c=r.getWorldPosition().array,h=new cn,f=r.range;h.min.setArray(c),h.max.setArray(c);var d=new Fe(f,f,f);h.max.add(d),h.min.sub(d);var p={px:!1,py:!1,pz:!1,nx:!1,ny:!1,nz:!1};e.traverse(function(y){if(y.isRenderable()&&y.castShadow){var _=y.geometry;if(!_.boundingBox){for(var x=0;x<Yl.length;x++)u[Yl[x]].push(y);return}if(l.transformFrom(_.boundingBox,y.worldTransform),!l.intersectBoundingBox(h))return;l.updateVertices();for(var x=0;x<Yl.length;x++)p[Yl[x]]=!1;for(var x=0;x<8;x++){var b=l.vertices[x],C=b[0]-c[0],E=b[1]-c[1],A=b[2]-c[2],S=Math.abs(C),T=Math.abs(E),D=Math.abs(A);S>T?S>D?p[C>0?"px":"nx"]=!0:p[A>0?"pz":"nz"]=!0:T>D?p[E>0?"py":"ny"]=!0:p[A>0?"pz":"nz"]=!0}for(var x=0;x<Yl.length;x++)p[Yl[x]]&&u[Yl[x]].push(y)}});for(var g=0;g<6;g++){var v=Yl[g],m=this._getPointLightCamera(r,v);this._frameBuffer.attach(n,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+g),this._frameBuffer.bind(t),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),t.renderPass(u[v],m,o)}this._frameBuffer.unbind(t)},_getDepthMaterial:function(t){var e=this._lightMaterials[t.__uid__],r=t.type==="POINT_LIGHT";if(!e){var i=r?"clay.sm.distance.":"clay.sm.depth.";e=new Ms({precision:this.precision,shader:new qe(qe.source(i+"vertex"),qe.source(i+"fragment"))}),this._lightMaterials[t.__uid__]=e}return t.shadowSlopeScale!=null&&e.setUniform("slopeScale",t.shadowSlopeScale),t.shadowBias!=null&&e.setUniform("bias",t.shadowBias),this.softShadow===jo.VSM?e.define("fragment","USE_VSM"):e.undefine("fragment","USE_VSM"),r&&(e.set("lightPosition",t.getWorldPosition().array),e.set("range",t.range)),e},_gaussianFilter:function(t,e,r){var i={width:r,height:r,type:We.FLOAT},n=this._texturePool.get(i);this._frameBuffer.attach(n),this._frameBuffer.bind(t),this._gaussianPassH.setUniform("texture",e),this._gaussianPassH.setUniform("textureWidth",r),this._gaussianPassH.render(t),this._frameBuffer.attach(e),this._gaussianPassV.setUniform("texture",n),this._gaussianPassV.setUniform("textureHeight",r),this._gaussianPassV.render(t),this._frameBuffer.unbind(t),this._texturePool.put(n)},_getTexture:function(t,e){var r=t.__uid__,i=this._textures[r],n=t.shadowResolution||512;return e=e||1,i||(t.type==="POINT_LIGHT"?i=new af:i=new Rt,i.width=n*e,i.height=n,this.softShadow===jo.VSM?(i.type=We.FLOAT,i.anisotropic=4):(i.minFilter=Re.NEAREST,i.magFilter=Re.NEAREST,i.useMipmap=!1),this._textures[r]=i),i},_getPointLightCamera:function(t,e){this._lightCameras.point||(this._lightCameras.point={px:new Hi,nx:new Hi,py:new Hi,ny:new Hi,pz:new Hi,nz:new Hi});var r=this._lightCameras.point[e];switch(r.far=t.range,r.fov=90,r.position.set(0,0,0),e){case"px":r.lookAt(Fe.POSITIVE_X,Fe.NEGATIVE_Y);break;case"nx":r.lookAt(Fe.NEGATIVE_X,Fe.NEGATIVE_Y);break;case"py":r.lookAt(Fe.POSITIVE_Y,Fe.POSITIVE_Z);break;case"ny":r.lookAt(Fe.NEGATIVE_Y,Fe.NEGATIVE_Z);break;case"pz":r.lookAt(Fe.POSITIVE_Z,Fe.NEGATIVE_Y);break;case"nz":r.lookAt(Fe.NEGATIVE_Z,Fe.NEGATIVE_Y);break}return t.getWorldPosition(r.position),r.update(),r},_getDirectionalLightCamera:function(){var t=new Qe,e=new cn,r=new cn;return function(i,n,a){this._lightCameras.directional||(this._lightCameras.directional=new Np);var s=this._lightCameras.directional;e.copy(n.viewBoundingBoxLastFrame),e.intersection(a.frustum.boundingBox),s.position.copy(e.min).add(e.max).scale(.5).transformMat4(a.worldTransform),s.rotation.copy(i.rotation),s.scale.copy(i.scale),s.updateWorldTransform(),Qe.invert(t,s.worldTransform),Qe.multiply(t,t,a.worldTransform),r.copy(e).applyTransform(t);var o=r.min.array,u=r.max.array;return s.position.set((o[0]+u[0])/2,(o[1]+u[1])/2,u[2]).transformMat4(s.worldTransform),s.near=0,s.far=-o[2]+u[2],isNaN(this.lightFrustumBias)?s.far*=4:s.far+=this.lightFrustumBias,s.left=o[0],s.right=u[0],s.top=u[1],s.bottom=o[1],s.update(!0),s}}(),_getSpotLightCamera:function(t){this._lightCameras.spot||(this._lightCameras.spot=new Hi);var e=this._lightCameras.spot;return e.fov=t.penumbraAngle*2,e.far=t.range,e.worldTransform.copy(t.worldTransform),e.updateProjectionMatrix(),ke.invert(e.viewMatrix.array,e.worldTransform.array),e},dispose:function(t){var e=t.gl||t;this._frameBuffer&&this._frameBuffer.dispose(e);for(var r in this._textures)this._textures[r].dispose(e);this._texturePool.clear(t.gl),this._depthMaterials={},this._distanceMaterials={},this._textures={},this._lightCameras={},this._shadowMapNumber={POINT_LIGHT:0,DIRECTIONAL_LIGHT:0,SPOT_LIGHT:0},this._meshMaterials={};for(var i=0;i<this._receivers.length;i++){var n=this._receivers[i];if(n.material){var a=n.material;a.undefine("fragment","POINT_LIGHT_SHADOW_COUNT"),a.undefine("fragment","DIRECTIONAL_LIGHT_SHADOW_COUNT"),a.undefine("fragment","AMBIENT_LIGHT_SHADOW_COUNT"),a.set("shadowEnabled",0)}}this._receivers=[],this._lightsCastShadow=[]}});jo.VSM=1;jo.PCF=2;var tm=vn.extend(function(){return{name:"",inputLinks:{},outputLinks:{},_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},{updateParameter:function(t,e){var r=this.outputs[t],i=r.parameters,n=r._parametersCopy;if(n||(n=r._parametersCopy={}),i)for(var a in i)a!=="width"&&a!=="height"&&(n[a]=i[a]);var s,o;return i.width instanceof Function?s=i.width.call(this,e):s=i.width,i.height instanceof Function?o=i.height.call(this,e):o=i.height,(n.width!==s||n.height!==o)&&this._outputTextures[t]&&this._outputTextures[t].dispose(e.gl),n.width=s,n.height=o,n},setParameter:function(t,e){},getParameter:function(t){},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},render:function(){},getOutput:function(t,e){if(e==null)return e=t,this._outputTextures[e];var r=this.outputs[e];if(r)return this._rendered?r.outputLastFrame?this._prevOutputTextures[e]:this._outputTextures[e]:this._rendering?(this._prevOutputTextures[e]||(this._prevOutputTextures[e]=this._compositor.allocateTexture(r.parameters||{})),this._prevOutputTextures[e]):(this.render(t),this._outputTextures[e])},removeReference:function(t){if(this._outputReferences[t]--,this._outputReferences[t]===0){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},link:function(t,e,r){this.inputLinks[t]={node:e,pin:r},e.outputLinks[r]||(e.outputLinks[r]=[]),e.outputLinks[r].push({node:this,pin:t}),this.pass.material.enableTexture(t)},clear:function(){this.inputLinks={},this.outputLinks={}},updateReference:function(t){if(!this._rendering){this._rendering=!0;for(var e in this.inputLinks){var r=this.inputLinks[e];r.node.updateReference(r.pin)}this._rendering=!1}t&&this._outputReferences[t]++},beforeFrame:function(){this._rendered=!1;for(var t in this.outputLinks)this._outputReferences[t]=0},afterFrame:function(){for(var t in this.outputLinks)if(this._outputReferences[t]>0){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}}}),OU=vn.extend(function(){return{nodes:[]}},{dirty:function(){this._dirty=!0},addNode:function(t){this.nodes.indexOf(t)>=0||(this.nodes.push(t),this._dirty=!0)},removeNode:function(t){typeof t=="string"&&(t=this.getNodeByName(t));var e=this.nodes.indexOf(t);e>=0&&(this.nodes.splice(e,1),this._dirty=!0)},getNodeByName:function(t){for(var e=0;e<this.nodes.length;e++)if(this.nodes[e].name===t)return this.nodes[e]},update:function(){for(var t=0;t<this.nodes.length;t++)this.nodes[t].clear();for(var t=0;t<this.nodes.length;t++){var e=this.nodes[t];if(e.inputs){for(var r in e.inputs)if(e.inputs[r]){if(e.pass&&!e.pass.material.isUniformEnabled(r)){console.warn("Pin "+e.name+"."+r+" not used.");continue}var i=e.inputs[r],n=this.findPin(i);n?e.link(r,n.node,n.pin):console.warn(typeof i=="string"?"Node "+i+" not exist":"Pin of "+i.node+"."+i.pin+" not exist")}}}},findPin:function(t){var e;if((typeof t=="string"||t instanceof tm)&&(t={node:t}),typeof t.node=="string")for(var r=0;r<this.nodes.length;r++){var i=this.nodes[r];i.name===t.node&&(e=i)}else e=t.node;if(e){var n=t.pin;if(n||e.outputs&&(n=Object.keys(e.outputs)[0]),e.outputs[n])return{node:e,pin:n}}}}),TOe=OU.extend(function(){return{_outputs:[],_texturePool:new f4,_frameBuffer:new mi({depthBuffer:!1})}},{addNode:function(t){OU.prototype.addNode.call(this,t),t._compositor=this},render:function(t,e){if(this._dirty){this.update(),this._dirty=!1,this._outputs.length=0;for(var r=0;r<this.nodes.length;r++)this.nodes[r].outputs||this._outputs.push(this.nodes[r])}for(var r=0;r<this.nodes.length;r++)this.nodes[r].beforeFrame();for(var r=0;r<this._outputs.length;r++)this._outputs[r].updateReference();for(var r=0;r<this._outputs.length;r++)this._outputs[r].render(t,e);for(var r=0;r<this.nodes.length;r++)this.nodes[r].afterFrame()},allocateTexture:function(t){return this._texturePool.get(t)},releaseTexture:function(t){this._texturePool.put(t)},getFrameBuffer:function(){return this._frameBuffer},dispose:function(t){this._texturePool.clear(t)}}),AOe=tm.extend({name:"scene",scene:null,camera:null,autoUpdateScene:!0,preZ:!1},function(){this.frameBuffer=new mi},{render:function(t){this._rendering=!0;var e=t.gl;this.trigger("beforerender");var r;if(!this.outputs)r=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ);else{var i=this.frameBuffer;for(var n in this.outputs){var a=this.updateParameter(n,t),s=this.outputs[n],o=this._compositor.allocateTexture(a);this._outputTextures[n]=o;var u=s.attachment||e.COLOR_ATTACHMENT0;typeof u=="string"&&(u=e[u]),i.attach(o,u)}i.bind(t);var l=t.getGLExtension("EXT_draw_buffers");if(l){var c=[];for(var u in this.outputs)u=parseInt(u),u>=e.COLOR_ATTACHMENT0&&u<=e.COLOR_ATTACHMENT0+8&&c.push(u);l.drawBuffersEXT(c)}t.saveClear(),t.clearBit=Re.DEPTH_BUFFER_BIT|Re.COLOR_BUFFER_BIT,r=t.render(this.scene,this.camera,!this.autoUpdateScene,this.preZ),t.restoreClear(),i.unbind(t)}this.trigger("afterrender",r),this._rendering=!1,this._rendered=!0}}),wOe=tm.extend(function(){return{texture:null,outputs:{color:{}}}},function(){},{getOutput:function(t,e){return this.texture},beforeFrame:function(){},afterFrame:function(){}}),DOe=tm.extend(function(){return{name:"",inputs:{},outputs:null,shader:"",inputLinks:{},outputLinks:{},pass:null,_prevOutputTextures:{},_outputTextures:{},_outputReferences:{},_rendering:!1,_rendered:!1,_compositor:null}},function(){var t=new Di({fragment:this.shader});this.pass=t},{render:function(t,e){this.trigger("beforerender",t),this._rendering=!0;var r=t.gl;for(var i in this.inputLinks){var n=this.inputLinks[i],a=n.node.getOutput(t,n.pin);this.pass.setUniform(i,a)}if(!this.outputs)this.pass.outputs=null,this._compositor.getFrameBuffer().unbind(t),this.pass.render(t,e);else{this.pass.outputs={};var s={};for(var o in this.outputs){var u=this.updateParameter(o,t);isNaN(u.width)&&this.updateParameter(o,t);var l=this.outputs[o],c=this._compositor.allocateTexture(u);this._outputTextures[o]=c;var h=l.attachment||r.COLOR_ATTACHMENT0;typeof h=="string"&&(h=r[h]),s[h]=c}this._compositor.getFrameBuffer().bind(t);for(var h in s)this._compositor.getFrameBuffer().attach(s[h],h);this.pass.render(t),this._compositor.getFrameBuffer().updateMipmap(t)}for(var i in this.inputLinks){var n=this.inputLinks[i];n.node.removeReference(n.pin)}this._rendering=!1,this._rendered=!0,this.trigger("afterrender",t)},updateParameter:function(t,e){var r=this.outputs[t],i=r.parameters,n=r._parametersCopy;if(n||(n=r._parametersCopy={}),i)for(var a in i)a!=="width"&&a!=="height"&&(n[a]=i[a]);var s,o;return typeof i.width=="function"?s=i.width.call(this,e):s=i.width,typeof i.height=="function"?o=i.height.call(this,e):o=i.height,s=Math.ceil(s),o=Math.ceil(o),(n.width!==s||n.height!==o)&&this._outputTextures[t]&&this._outputTextures[t].dispose(e),n.width=s,n.height=o,n},setParameter:function(t,e){this.pass.setUniform(t,e)},getParameter:function(t){return this.pass.getUniform(t)},setParameters:function(t){for(var e in t)this.setParameter(e,t[e])},define:function(t,e){this.pass.material.define("fragment",t,e)},undefine:function(t){this.pass.material.undefine("fragment",t)},removeReference:function(t){if(this._outputReferences[t]--,this._outputReferences[t]===0){var e=this.outputs[t];e.keepLastFrame?(this._prevOutputTextures[t]&&this._compositor.releaseTexture(this._prevOutputTextures[t]),this._prevOutputTextures[t]=this._outputTextures[t]):this._compositor.releaseTexture(this._outputTextures[t])}},clear:function(){tm.prototype.clear.call(this),this.pass.material.disableTexturesAll()}});const FOe=`@export clay.compositor.coloradjust
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float exposure : 0.0;
uniform float gamma : 1.0;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = clamp(tex.rgb + vec3(brightness), 0.0, 1.0);
 color = clamp( (color-vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 color = clamp( color * pow(2.0, exposure), 0.0, 1.0);
 color = clamp( pow(color, vec3(gamma)), 0.0, 1.0);
 float luminance = dot( color, w );
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.brightness
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float brightness : 0.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = tex.rgb + vec3(brightness);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.contrast
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float contrast : 1.0;
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord);
 vec3 color = (tex.rgb-vec3(0.5))*contrast+vec3(0.5);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.exposure
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float exposure : 0.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb * pow(2.0, exposure);
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.gamma
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float gamma : 1.0;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = pow(tex.rgb, vec3(gamma));
 gl_FragColor = vec4(color, tex.a);
}
@end
@export clay.compositor.saturation
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float saturation : 1.0;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 vec3 color = tex.rgb;
 float luminance = dot(color, w);
 color = mix(vec3(luminance), color, saturation);
 gl_FragColor = vec4(color, tex.a);
}
@end`,Lre=`@export clay.compositor.kernel.gaussian_9
float gaussianKernel[9];
gaussianKernel[0] = 0.07;
gaussianKernel[1] = 0.09;
gaussianKernel[2] = 0.12;
gaussianKernel[3] = 0.14;
gaussianKernel[4] = 0.16;
gaussianKernel[5] = 0.14;
gaussianKernel[6] = 0.12;
gaussianKernel[7] = 0.09;
gaussianKernel[8] = 0.07;
@end
@export clay.compositor.kernel.gaussian_13
float gaussianKernel[13];
gaussianKernel[0] = 0.02;
gaussianKernel[1] = 0.03;
gaussianKernel[2] = 0.06;
gaussianKernel[3] = 0.08;
gaussianKernel[4] = 0.11;
gaussianKernel[5] = 0.13;
gaussianKernel[6] = 0.14;
gaussianKernel[7] = 0.13;
gaussianKernel[8] = 0.11;
gaussianKernel[9] = 0.08;
gaussianKernel[10] = 0.06;
gaussianKernel[11] = 0.03;
gaussianKernel[12] = 0.02;
@end
@export clay.compositor.gaussian_blur
#define SHADER_NAME gaussian_blur
uniform sampler2D texture;varying vec2 v_Texcoord;
uniform float blurSize : 2.0;
uniform vec2 textureSize : [512.0, 512.0];
uniform float blurDir : 0.0;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main (void)
{
 @import clay.compositor.kernel.gaussian_9
 vec2 off = blurSize / textureSize;
 off *= vec2(1.0 - blurDir, blurDir);
 vec4 sum = vec4(0.0);
 float weightAll = 0.0;
 for (int i = 0; i < 9; i++) {
 float w = gaussianKernel[i];
 vec4 texel = decodeHDR(clampSample(texture, v_Texcoord + float(i - 4) * off));
 sum += texel * w;
 weightAll += w;
 }
 gl_FragColor = encodeHDR(sum / max(weightAll, 0.01));
}
@end
`,IOe=`@export clay.compositor.hdr.log_lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 float luminance = dot(tex.rgb, w);
 luminance = log(luminance + 0.001);
 gl_FragColor = encodeHDR(vec4(vec3(luminance), 1.0));
}
@end
@export clay.compositor.hdr.lum_adaption
varying vec2 v_Texcoord;
uniform sampler2D adaptedLum;
uniform sampler2D currentLum;
uniform float frameTime : 0.02;
@import clay.util.rgbm
void main()
{
 float fAdaptedLum = decodeHDR(texture2D(adaptedLum, vec2(0.5, 0.5))).r;
 float fCurrentLum = exp(encodeHDR(texture2D(currentLum, vec2(0.5, 0.5))).r);
 fAdaptedLum += (fCurrentLum - fAdaptedLum) * (1.0 - pow(0.98, 30.0 * frameTime));
 gl_FragColor = encodeHDR(vec4(vec3(fAdaptedLum), 1.0));
}
@end
@export clay.compositor.lum
varying vec2 v_Texcoord;
uniform sampler2D texture;
const vec3 w = vec3(0.2125, 0.7154, 0.0721);
void main()
{
 vec4 tex = texture2D( texture, v_Texcoord );
 float luminance = dot(tex.rgb, w);
 gl_FragColor = vec4(vec3(luminance), 1.0);
}
@end`,Ore=`
@export clay.compositor.lut
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform sampler2D lookup;
void main()
{
 vec4 tex = texture2D(texture, v_Texcoord);
 float blueColor = tex.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * tex.g);
 vec4 newColor1 = texture2D(lookup, texPos1);
 vec4 newColor2 = texture2D(lookup, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 gl_FragColor = vec4(newColor.rgb, tex.w);
}
@end`,BOe=`@export clay.compositor.vignette
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
uniform float darkness: 1;
uniform float offset: 1;
@import clay.util.rgbm
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = texel.rgb;
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(offset);
 gl_FragColor = encodeHDR(vec4(mix(texel.rgb, vec3(1.0 - darkness), dot(uv, uv)), texel.a));
}
@end`,Rre=`@export clay.compositor.output
#define OUTPUT_ALPHA
varying vec2 v_Texcoord;
uniform sampler2D texture;
@import clay.util.rgbm
void main()
{
 vec4 tex = decodeHDR(texture2D(texture, v_Texcoord));
 gl_FragColor.rgb = tex.rgb;
#ifdef OUTPUT_ALPHA
 gl_FragColor.a = tex.a;
#else
 gl_FragColor.a = 1.0;
#endif
 gl_FragColor = encodeHDR(gl_FragColor);
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,Nre=`@export clay.compositor.bright
uniform sampler2D texture;
uniform float threshold : 1;
uniform float scale : 1.0;
uniform vec2 textureSize: [512, 512];
varying vec2 v_Texcoord;
const vec3 lumWeight = vec3(0.2125, 0.7154, 0.0721);
@import clay.util.rgbm
vec4 median(vec4 a, vec4 b, vec4 c)
{
 return a + b + c - min(min(a, b), c) - max(max(a, b), c);
}
void main()
{
 vec4 texel = decodeHDR(texture2D(texture, v_Texcoord));
#ifdef ANTI_FLICKER
 vec3 d = 1.0 / textureSize.xyx * vec3(1.0, 1.0, 0.0);
 vec4 s1 = decodeHDR(texture2D(texture, v_Texcoord - d.xz));
 vec4 s2 = decodeHDR(texture2D(texture, v_Texcoord + d.xz));
 vec4 s3 = decodeHDR(texture2D(texture, v_Texcoord - d.zy));
 vec4 s4 = decodeHDR(texture2D(texture, v_Texcoord + d.zy));
 texel = median(median(texel, s1, s2), s3, s4);
#endif
 float lum = dot(texel.rgb , lumWeight);
 vec4 color;
 if (lum > threshold && texel.a > 0.0)
 {
 color = vec4(texel.rgb * scale, texel.a * scale);
 }
 else
 {
 color = vec4(0.0);
 }
 gl_FragColor = encodeHDR(color);
}
@end
`,kre=`@export clay.compositor.downsample
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
varying vec2 v_Texcoord;
@import clay.util.rgbm
float brightness(vec3 c)
{
 return max(max(c.r, c.g), c.b);
}
@import clay.util.clamp_sample
void main()
{
 vec4 d = vec4(-1.0, -1.0, 1.0, 1.0) / textureSize.xyxy;
#ifdef ANTI_FLICKER
 vec3 s1 = decodeHDR(clampSample(texture, v_Texcoord + d.xy)).rgb;
 vec3 s2 = decodeHDR(clampSample(texture, v_Texcoord + d.zy)).rgb;
 vec3 s3 = decodeHDR(clampSample(texture, v_Texcoord + d.xw)).rgb;
 vec3 s4 = decodeHDR(clampSample(texture, v_Texcoord + d.zw)).rgb;
 float s1w = 1.0 / (brightness(s1) + 1.0);
 float s2w = 1.0 / (brightness(s2) + 1.0);
 float s3w = 1.0 / (brightness(s3) + 1.0);
 float s4w = 1.0 / (brightness(s4) + 1.0);
 float oneDivideSum = 1.0 / (s1w + s2w + s3w + s4w);
 vec4 color = vec4(
 (s1 * s1w + s2 * s2w + s3 * s3w + s4 * s4w) * oneDivideSum,
 1.0
 );
#else
 vec4 color = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 color += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 color *= 0.25;
#endif
 gl_FragColor = encodeHDR(color);
}
@end`,zre=`
@export clay.compositor.upsample
#define HIGH_QUALITY
uniform sampler2D texture;
uniform vec2 textureSize : [512, 512];
uniform float sampleScale: 0.5;
varying vec2 v_Texcoord;
@import clay.util.rgbm
@import clay.util.clamp_sample
void main()
{
#ifdef HIGH_QUALITY
 vec4 d = vec4(1.0, 1.0, -1.0, 0.0) / textureSize.xyxy * sampleScale;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord - d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord - d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord - d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord )) * 4.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.wy)) * 2.0;
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 gl_FragColor = encodeHDR(s / 16.0);
#else
 vec4 d = vec4(-1.0, -1.0, +1.0, +1.0) / textureSize.xyxy;
 vec4 s;
 s = decodeHDR(clampSample(texture, v_Texcoord + d.xy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zy));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.xw));
 s += decodeHDR(clampSample(texture, v_Texcoord + d.zw));
 gl_FragColor = encodeHDR(s / 4.0);
#endif
}
@end`,Hre=`@export clay.compositor.hdr.composite
#define TONEMAPPING
uniform sampler2D texture;
#ifdef BLOOM_ENABLED
uniform sampler2D bloom;
#endif
#ifdef LENSFLARE_ENABLED
uniform sampler2D lensflare;
uniform sampler2D lensdirt;
#endif
#ifdef LUM_ENABLED
uniform sampler2D lum;
#endif
#ifdef LUT_ENABLED
uniform sampler2D lut;
#endif
#ifdef COLOR_CORRECTION
uniform float brightness : 0.0;
uniform float contrast : 1.0;
uniform float saturation : 1.0;
#endif
#ifdef VIGNETTE
uniform float vignetteDarkness: 1.0;
uniform float vignetteOffset: 1.0;
#endif
uniform float exposure : 1.0;
uniform float bloomIntensity : 0.25;
uniform float lensflareIntensity : 1;
varying vec2 v_Texcoord;
@import clay.util.srgb
vec3 ACESToneMapping(vec3 color)
{
 const float A = 2.51;
 const float B = 0.03;
 const float C = 2.43;
 const float D = 0.59;
 const float E = 0.14;
 return (color * (A * color + B)) / (color * (C * color + D) + E);
}
float eyeAdaption(float fLum)
{
 return mix(0.2, fLum, 0.5);
}
#ifdef LUT_ENABLED
vec3 lutTransform(vec3 color) {
 float blueColor = color.b * 63.0;
 vec2 quad1;
 quad1.y = floor(floor(blueColor) / 8.0);
 quad1.x = floor(blueColor) - (quad1.y * 8.0);
 vec2 quad2;
 quad2.y = floor(ceil(blueColor) / 8.0);
 quad2.x = ceil(blueColor) - (quad2.y * 8.0);
 vec2 texPos1;
 texPos1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec2 texPos2;
 texPos2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.r);
 texPos2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * color.g);
 vec4 newColor1 = texture2D(lut, texPos1);
 vec4 newColor2 = texture2D(lut, texPos2);
 vec4 newColor = mix(newColor1, newColor2, fract(blueColor));
 return newColor.rgb;
}
#endif
@import clay.util.rgbm
void main()
{
 vec4 texel = vec4(0.0);
 vec4 originalTexel = vec4(0.0);
#ifdef TEXTURE_ENABLED
 texel = decodeHDR(texture2D(texture, v_Texcoord));
 originalTexel = texel;
#endif
#ifdef BLOOM_ENABLED
 vec4 bloomTexel = decodeHDR(texture2D(bloom, v_Texcoord));
 texel.rgb += bloomTexel.rgb * bloomIntensity;
 texel.a += bloomTexel.a * bloomIntensity;
#endif
#ifdef LENSFLARE_ENABLED
 texel += decodeHDR(texture2D(lensflare, v_Texcoord)) * texture2D(lensdirt, v_Texcoord) * lensflareIntensity;
#endif
 texel.a = min(texel.a, 1.0);
#ifdef LUM_ENABLED
 float fLum = texture2D(lum, vec2(0.5, 0.5)).r;
 float adaptedLumDest = 3.0 / (max(0.1, 1.0 + 10.0*eyeAdaption(fLum)));
 float exposureBias = adaptedLumDest * exposure;
#else
 float exposureBias = exposure;
#endif
#ifdef TONEMAPPING
 texel.rgb *= exposureBias;
 texel.rgb = ACESToneMapping(texel.rgb);
#endif
 texel = linearTosRGB(texel);
#ifdef LUT_ENABLED
 texel.rgb = lutTransform(clamp(texel.rgb,vec3(0.0),vec3(1.0)));
#endif
#ifdef COLOR_CORRECTION
 texel.rgb = clamp(texel.rgb + vec3(brightness), 0.0, 1.0);
 texel.rgb = clamp((texel.rgb - vec3(0.5))*contrast+vec3(0.5), 0.0, 1.0);
 float lum = dot(texel.rgb, vec3(0.2125, 0.7154, 0.0721));
 texel.rgb = mix(vec3(lum), texel.rgb, saturation);
#endif
#ifdef VIGNETTE
 vec2 uv = (v_Texcoord - vec2(0.5)) * vec2(vignetteOffset);
 texel.rgb = mix(texel.rgb, vec3(1.0 - vignetteDarkness), dot(uv, uv));
#endif
 gl_FragColor = encodeHDR(texel);
#ifdef DEBUG
 #if DEBUG == 1
 gl_FragColor = encodeHDR(decodeHDR(texture2D(texture, v_Texcoord)));
 #elif DEBUG == 2
 gl_FragColor = encodeHDR(decodeHDR(texture2D(bloom, v_Texcoord)) * bloomIntensity);
 #elif DEBUG == 3
 gl_FragColor = encodeHDR(decodeHDR(texture2D(lensflare, v_Texcoord) * lensflareIntensity));
 #endif
#endif
 if (originalTexel.a <= 0.01 && gl_FragColor.a > 1e-5) {
 gl_FragColor.a = dot(gl_FragColor.rgb, vec3(0.2125, 0.7154, 0.0721));
 }
#ifdef PREMULTIPLY_ALPHA
 gl_FragColor.rgb *= gl_FragColor.a;
#endif
}
@end`,MOe=`@export clay.compositor.lensflare
#define SAMPLE_NUMBER 8
uniform sampler2D texture;
uniform sampler2D lenscolor;
uniform vec2 textureSize : [512, 512];
uniform float dispersal : 0.3;
uniform float haloWidth : 0.4;
uniform float distortion : 1.0;
varying vec2 v_Texcoord;
@import clay.util.rgbm
vec4 textureDistorted(
 in vec2 texcoord,
 in vec2 direction,
 in vec3 distortion
) {
 return vec4(
 decodeHDR(texture2D(texture, texcoord + direction * distortion.r)).r,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.g)).g,
 decodeHDR(texture2D(texture, texcoord + direction * distortion.b)).b,
 1.0
 );
}
void main()
{
 vec2 texcoord = -v_Texcoord + vec2(1.0); vec2 textureOffset = 1.0 / textureSize;
 vec2 ghostVec = (vec2(0.5) - texcoord) * dispersal;
 vec2 haloVec = normalize(ghostVec) * haloWidth;
 vec3 distortion = vec3(-textureOffset.x * distortion, 0.0, textureOffset.x * distortion);
 vec4 result = vec4(0.0);
 for (int i = 0; i < SAMPLE_NUMBER; i++)
 {
 vec2 offset = fract(texcoord + ghostVec * float(i));
 float weight = length(vec2(0.5) - offset) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 }
 result *= texture2D(lenscolor, vec2(length(vec2(0.5) - texcoord)) / length(vec2(0.5)));
 float weight = length(vec2(0.5) - fract(texcoord + haloVec)) / length(vec2(0.5));
 weight = pow(1.0 - weight, 10.0);
 vec2 offset = fract(texcoord + haloVec);
 result += textureDistorted(offset, normalize(ghostVec), distortion) * weight;
 gl_FragColor = result;
}
@end`,Gre=`@export clay.compositor.blend
#define SHADER_NAME blend
#ifdef TEXTURE1_ENABLED
uniform sampler2D texture1;
uniform float weight1 : 1.0;
#endif
#ifdef TEXTURE2_ENABLED
uniform sampler2D texture2;
uniform float weight2 : 1.0;
#endif
#ifdef TEXTURE3_ENABLED
uniform sampler2D texture3;
uniform float weight3 : 1.0;
#endif
#ifdef TEXTURE4_ENABLED
uniform sampler2D texture4;
uniform float weight4 : 1.0;
#endif
#ifdef TEXTURE5_ENABLED
uniform sampler2D texture5;
uniform float weight5 : 1.0;
#endif
#ifdef TEXTURE6_ENABLED
uniform sampler2D texture6;
uniform float weight6 : 1.0;
#endif
varying vec2 v_Texcoord;
@import clay.util.rgbm
void main()
{
 vec4 tex = vec4(0.0);
#ifdef TEXTURE1_ENABLED
 tex += decodeHDR(texture2D(texture1, v_Texcoord)) * weight1;
#endif
#ifdef TEXTURE2_ENABLED
 tex += decodeHDR(texture2D(texture2, v_Texcoord)) * weight2;
#endif
#ifdef TEXTURE3_ENABLED
 tex += decodeHDR(texture2D(texture3, v_Texcoord)) * weight3;
#endif
#ifdef TEXTURE4_ENABLED
 tex += decodeHDR(texture2D(texture4, v_Texcoord)) * weight4;
#endif
#ifdef TEXTURE5_ENABLED
 tex += decodeHDR(texture2D(texture5, v_Texcoord)) * weight5;
#endif
#ifdef TEXTURE6_ENABLED
 tex += decodeHDR(texture2D(texture6, v_Texcoord)) * weight6;
#endif
 gl_FragColor = encodeHDR(tex);
}
@end`,Ure=`@export clay.compositor.fxaa
uniform sampler2D texture;
uniform vec4 viewport : VIEWPORT;
varying vec2 v_Texcoord;
#define FXAA_REDUCE_MIN (1.0/128.0)
#define FXAA_REDUCE_MUL (1.0/8.0)
#define FXAA_SPAN_MAX 8.0
@import clay.util.rgbm
void main()
{
 vec2 resolution = 1.0 / viewport.zw;
 vec3 rgbNW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbNE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, -1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSW = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( -1.0, 1.0 ) ) * resolution ) ).xyz;
 vec3 rgbSE = decodeHDR( texture2D( texture, ( gl_FragCoord.xy + vec2( 1.0, 1.0 ) ) * resolution ) ).xyz;
 vec4 rgbaM = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution ) );
 vec3 rgbM = rgbaM.xyz;
 float opacity = rgbaM.w;
 vec3 luma = vec3( 0.299, 0.587, 0.114 );
 float lumaNW = dot( rgbNW, luma );
 float lumaNE = dot( rgbNE, luma );
 float lumaSW = dot( rgbSW, luma );
 float lumaSE = dot( rgbSE, luma );
 float lumaM = dot( rgbM, luma );
 float lumaMin = min( lumaM, min( min( lumaNW, lumaNE ), min( lumaSW, lumaSE ) ) );
 float lumaMax = max( lumaM, max( max( lumaNW, lumaNE) , max( lumaSW, lumaSE ) ) );
 vec2 dir;
 dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
 dir.y = ((lumaNW + lumaSW) - (lumaNE + lumaSE));
 float dirReduce = max( ( lumaNW + lumaNE + lumaSW + lumaSE ) * ( 0.25 * FXAA_REDUCE_MUL ), FXAA_REDUCE_MIN );
 float rcpDirMin = 1.0 / ( min( abs( dir.x ), abs( dir.y ) ) + dirReduce );
 dir = min( vec2( FXAA_SPAN_MAX, FXAA_SPAN_MAX),
 max( vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
 dir * rcpDirMin)) * resolution;
 vec3 rgbA = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 1.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * ( 2.0 / 3.0 - 0.5 ) ) ).xyz;
 rgbA *= 0.5;
 vec3 rgbB = decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * -0.5 ) ).xyz;
 rgbB += decodeHDR( texture2D( texture, gl_FragCoord.xy * resolution + dir * 0.5 ) ).xyz;
 rgbB *= 0.25;
 rgbB += rgbA * 0.5;
 float lumaB = dot( rgbB, luma );
 if ( ( lumaB < lumaMin ) || ( lumaB > lumaMax ) )
 {
 gl_FragColor = vec4( rgbA, opacity );
 }
 else {
 gl_FragColor = vec4( rgbB, opacity );
 }
}
@end`;function POe(t){t.import(FOe),t.import(Lre),t.import(IOe),t.import(Ore),t.import(BOe),t.import(Rre),t.import(Nre),t.import(kre),t.import(zre),t.import(Hre),t.import(MOe),t.import(Gre),t.import(Ure)}POe(qe);var LOe=/^#source\((.*?)\)/;function OOe(t,e){var r=new TOe;e=e||{};var i={textures:{},parameters:{}},n=function(o,u){for(var l=0;l<t.nodes.length;l++){var c=t.nodes[l],h=ROe(c,i,e);h&&r.addNode(h)}};for(var a in t.parameters){var s=t.parameters[a];i.parameters[a]=hI(s)}return zOe(t,i,e,function(o){i.textures=o,n()}),r}function ROe(t,e,r){var i=t.type||"filter",n,a,s;if(i==="filter"){var o=t.shader.trim(),u=LOe.exec(o);if(u?n=qe.source(u[1].trim()):o.charAt(0)==="#"&&(n=e.shaders[o.substr(1)]),n||(n=o),!n)return}if(t.inputs){a={};for(var l in t.inputs)typeof t.inputs[l]=="string"?a[l]=t.inputs[l]:a[l]={node:t.inputs[l].node,pin:t.inputs[l].pin}}if(t.outputs){s={};for(var l in t.outputs){var c=t.outputs[l];s[l]={},c.attachment!=null&&(s[l].attachment=c.attachment),c.keepLastFrame!=null&&(s[l].keepLastFrame=c.keepLastFrame),c.outputLastFrame!=null&&(s[l].outputLastFrame=c.outputLastFrame),c.parameters&&(s[l].parameters=hI(c.parameters))}}var h;if(i==="scene"?h=new AOe({name:t.name,scene:r.scene,camera:r.camera,outputs:s}):i==="texture"?h=new wOe({name:t.name,outputs:s}):h=new DOe({name:t.name,shader:n,inputs:a,outputs:s}),h){if(t.parameters)for(var l in t.parameters){var f=t.parameters[l];typeof f=="string"?(f=f.trim(),f.charAt(0)==="#"?f=e.textures[f.substr(1)]:h.on("beforerender",HOe(l,jre(f)))):typeof f=="function"&&h.on("beforerender",f),h.setParameter(l,f)}if(t.defines&&h.pass)for(var l in t.defines){var f=t.defines[l];h.pass.material.define("fragment",l,f)}}return h}function NOe(t,e){return t}function kOe(t,e){return e}function hI(t){var e={};if(!t)return e;["type","minFilter","magFilter","wrapS","wrapT","flipY","useMipmap"].forEach(function(i){var n=t[i];n!=null&&(typeof n=="string"&&(n=We[n]),e[i]=n)});var r=t.scale||1;return["width","height"].forEach(function(i){if(t[i]!=null){var n=t[i];typeof n=="string"?(n=n.trim(),e[i]=GOe(i,jre(n),r)):e[i]=n}}),e.width||(e.width=NOe),e.height||(e.height=kOe),t.useMipmap!=null&&(e.useMipmap=t.useMipmap),e}function zOe(t,e,r,i){if(!t.textures){i({});return}var n={},a=0,s=!1,o=r.textureRootPath;pi.each(t.textures,function(u,l){var c,h=u.path,f=hI(u.parameters);if(Array.isArray(h)&&h.length===6)o&&(h=h.map(function(d){return pi.relative2absolute(d,o)})),c=new af(f);else if(typeof h=="string")o&&(h=pi.relative2absolute(h,o)),c=new Rt(f);else return;c.load(h),a++,c.once("success",function(){n[l]=c,a--,a===0&&(i(n),s=!0)})}),a===0&&!s&&i(n)}function HOe(t,e){return function(r){var i=r.getDevicePixelRatio(),n=r.getWidth(),a=r.getHeight(),s=e(n,a,i);this.setParameter(t,s)}}function GOe(t,e,r){return r=r||1,function(i){var n=i.getDevicePixelRatio(),a=i.getWidth()*r,s=i.getHeight()*r;return e(a,s,n)}}function jre(t){var e=/^expr\((.*)\)$/.exec(t);if(e)try{var r=new Function("width","height","dpr","return "+e[1]);return r(1,1),r}catch{throw new Error("Invalid expression.")}}function kp(t,e){for(var r=0,i=1/e,n=t;n>0;)r=r+i*(n%e),n=Math.floor(n/e),i=i/e;return r}const UOe=`@export ecgl.ssao.estimate

uniform sampler2D depthTex;

uniform sampler2D normalTex;

uniform sampler2D noiseTex;

uniform vec2 depthTexSize;

uniform vec2 noiseTexSize;

uniform mat4 projection;

uniform mat4 projectionInv;

uniform mat4 viewInverseTranspose;

uniform vec3 kernel[KERNEL_SIZE];

uniform float radius : 1;

uniform float power : 1;

uniform float bias: 1e-2;

uniform float intensity: 1.0;

varying vec2 v_Texcoord;

float ssaoEstimator(in vec3 originPos, in mat3 kernelBasis) {
 float occlusion = 0.0;

 for (int i = 0; i < KERNEL_SIZE; i++) {
 vec3 samplePos = kernel[i];
#ifdef NORMALTEX_ENABLED
 samplePos = kernelBasis * samplePos;
#endif
 samplePos = samplePos * radius + originPos;

 vec4 texCoord = projection * vec4(samplePos, 1.0);
 texCoord.xy /= texCoord.w;

 vec4 depthTexel = texture2D(depthTex, texCoord.xy * 0.5 + 0.5);

 float sampleDepth = depthTexel.r * 2.0 - 1.0;
 if (projection[3][3] == 0.0) {
 sampleDepth = projection[3][2] / (sampleDepth * projection[2][3] - projection[2][2]);
 }
 else {
 sampleDepth = (sampleDepth - projection[3][2]) / projection[2][2];
 }
 
 float rangeCheck = smoothstep(0.0, 1.0, radius / abs(originPos.z - sampleDepth));
 occlusion += rangeCheck * step(samplePos.z, sampleDepth - bias);
 }
#ifdef NORMALTEX_ENABLED
 occlusion = 1.0 - occlusion / float(KERNEL_SIZE);
#else
 occlusion = 1.0 - clamp((occlusion / float(KERNEL_SIZE) - 0.6) * 2.5, 0.0, 1.0);
#endif
 return pow(occlusion, power);
}

void main()
{

 vec4 depthTexel = texture2D(depthTex, v_Texcoord);

#ifdef NORMALTEX_ENABLED
 vec4 tex = texture2D(normalTex, v_Texcoord);
 if (dot(tex.rgb, tex.rgb) == 0.0) {
 gl_FragColor = vec4(1.0);
 return;
 }
 vec3 N = tex.rgb * 2.0 - 1.0;
 N = (viewInverseTranspose * vec4(N, 0.0)).xyz;

 vec2 noiseTexCoord = depthTexSize / vec2(noiseTexSize) * v_Texcoord;
 vec3 rvec = texture2D(noiseTex, noiseTexCoord).rgb * 2.0 - 1.0;
 vec3 T = normalize(rvec - N * dot(rvec, N));
 vec3 BT = normalize(cross(N, T));
 mat3 kernelBasis = mat3(T, BT, N);
#else
 if (depthTexel.r > 0.99999) {
 gl_FragColor = vec4(1.0);
 return;
 }
 mat3 kernelBasis;
#endif

 float z = depthTexel.r * 2.0 - 1.0;

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * projectedPos;

 vec3 position = p4.xyz / p4.w;

 float ao = ssaoEstimator(position, kernelBasis);
 ao = clamp(1.0 - (1.0 - ao) * intensity, 0.0, 1.0);
 gl_FragColor = vec4(vec3(ao), 1.0);
}

@end


@export ecgl.ssao.blur
#define SHADER_NAME SSAO_BLUR

uniform sampler2D ssaoTexture;

#ifdef NORMALTEX_ENABLED
uniform sampler2D normalTex;
#endif

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

uniform int direction: 0.0;

#ifdef DEPTHTEX_ENABLED
uniform sampler2D depthTex;
uniform mat4 projection;
uniform float depthRange : 0.5;

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(depthTex, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}
#endif

void main()
{
 float kernel[5];
 kernel[0] = 0.122581;
 kernel[1] = 0.233062;
 kernel[2] = 0.288713;
 kernel[3] = 0.233062;
 kernel[4] = 0.122581;

 vec2 off = vec2(0.0);
 if (direction == 0) {
 off[0] = blurSize / textureSize.x;
 }
 else {
 off[1] = blurSize / textureSize.y;
 }

 vec2 coord = v_Texcoord;

 float sum = 0.0;
 float weightAll = 0.0;

#ifdef NORMALTEX_ENABLED
 vec3 centerNormal = texture2D(normalTex, v_Texcoord).rgb * 2.0 - 1.0;
#endif
#if defined(DEPTHTEX_ENABLED)
 float centerDepth = getLinearDepth(v_Texcoord);
#endif

 for (int i = 0; i < 5; i++) {
 vec2 coord = clamp(v_Texcoord + vec2(float(i) - 2.0) * off, vec2(0.0), vec2(1.0));

 float w = kernel[i];
#ifdef NORMALTEX_ENABLED
 vec3 normal = texture2D(normalTex, coord).rgb * 2.0 - 1.0;
 w *= clamp(dot(normal, centerNormal), 0.0, 1.0);
#endif
#ifdef DEPTHTEX_ENABLED
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(centerDepth - d) / depthRange, 0.0, 1.0));
#endif

 weightAll += w;
 sum += texture2D(ssaoTexture, coord).r * w;
 }

 gl_FragColor = vec4(vec3(sum / weightAll), 1.0);
}

@end
`;qe.import(UOe);function Vre(t){for(var e=new Uint8Array(t*t*4),r=0,i=new Fe,n=0;n<t;n++)for(var a=0;a<t;a++)i.set(Math.random()*2-1,Math.random()*2-1,0).normalize(),e[r++]=(i.x*.5+.5)*255,e[r++]=(i.y*.5+.5)*255,e[r++]=0,e[r++]=255;return e}function RU(t){return new Rt({pixels:Vre(t),wrapS:We.REPEAT,wrapT:We.REPEAT,width:t,height:t})}function jOe(t,e,r){var i=new Float32Array(t*3);e=e||0;for(var n=0;n<t;n++){var a=kp(n+e,2)*(r?1:2)*Math.PI,s=kp(n+e,3)*Math.PI,o=Math.random(),u=Math.cos(a)*Math.sin(s)*o,l=Math.cos(s)*o,c=Math.sin(a)*Math.sin(s)*o;i[n*3]=u,i[n*3+1]=l,i[n*3+2]=c}return i}function Fl(t){t=t||{},this._ssaoPass=new Di({fragment:qe.source("ecgl.ssao.estimate")}),this._blurPass=new Di({fragment:qe.source("ecgl.ssao.blur")}),this._framebuffer=new mi({depthBuffer:!1}),this._ssaoTexture=new Rt,this._blurTexture=new Rt,this._blurTexture2=new Rt,this._depthTex=t.depthTexture,this._normalTex=t.normalTexture,this.setNoiseSize(4),this.setKernelSize(t.kernelSize||12),t.radius!=null&&this.setParameter("radius",t.radius),t.power!=null&&this.setParameter("power",t.power),this._normalTex||(this._ssaoPass.material.disableTexture("normalTex"),this._blurPass.material.disableTexture("normalTex")),this._depthTex||this._blurPass.material.disableTexture("depthTex"),this._blurPass.material.setUniform("normalTex",this._normalTex),this._blurPass.material.setUniform("depthTex",this._depthTex)}Fl.prototype.setDepthTexture=function(t){this._depthTex=t};Fl.prototype.setNormalTexture=function(t){this._normalTex=t,this._ssaoPass.material[t?"enableTexture":"disableTexture"]("normalTex"),this.setKernelSize(this._kernelSize)};Fl.prototype.update=function(t,e,r){var i=t.getWidth(),n=t.getHeight(),a=this._ssaoPass,s=this._blurPass;a.setUniform("kernel",this._kernels[r%this._kernels.length]),a.setUniform("depthTex",this._depthTex),this._normalTex!=null&&a.setUniform("normalTex",this._normalTex),a.setUniform("depthTexSize",[this._depthTex.width,this._depthTex.height]);var o=new Qe;Qe.transpose(o,e.worldTransform),a.setUniform("projection",e.projectionMatrix.array),a.setUniform("projectionInv",e.invProjectionMatrix.array),a.setUniform("viewInverseTranspose",o.array);var u=this._ssaoTexture,l=this._blurTexture,c=this._blurTexture2;u.width=i/2,u.height=n/2,l.width=i,l.height=n,c.width=i,c.height=n,this._framebuffer.attach(u),this._framebuffer.bind(t),t.gl.clearColor(1,1,1,1),t.gl.clear(t.gl.COLOR_BUFFER_BIT),a.render(t),s.setUniform("textureSize",[i/2,n/2]),s.setUniform("projection",e.projectionMatrix.array),this._framebuffer.attach(l),s.setUniform("direction",0),s.setUniform("ssaoTexture",u),s.render(t),this._framebuffer.attach(c),s.setUniform("textureSize",[i,n]),s.setUniform("direction",1),s.setUniform("ssaoTexture",l),s.render(t),this._framebuffer.unbind(t);var h=t.clearColor;t.gl.clearColor(h[0],h[1],h[2],h[3])};Fl.prototype.getTargetTexture=function(){return this._blurTexture2};Fl.prototype.setParameter=function(t,e){t==="noiseTexSize"?this.setNoiseSize(e):t==="kernelSize"?this.setKernelSize(e):t==="intensity"?this._ssaoPass.material.set("intensity",e):this._ssaoPass.setUniform(t,e)};Fl.prototype.setKernelSize=function(t){this._kernelSize=t,this._ssaoPass.material.define("fragment","KERNEL_SIZE",t),this._kernels=this._kernels||[];for(var e=0;e<30;e++)this._kernels[e]=jOe(t,e*t,!!this._normalTex)};Fl.prototype.setNoiseSize=function(t){var e=this._ssaoPass.getUniform("noiseTex");e?(e.data=Vre(t),e.width=e.height=t,e.dirty()):(e=RU(t),this._ssaoPass.setUniform("noiseTex",RU(t))),this._ssaoPass.setUniform("noiseTexSize",[t,t])};Fl.prototype.dispose=function(t){this._blurTexture.dispose(t),this._ssaoTexture.dispose(t),this._blurTexture2.dispose(t)};const VOe=`@export ecgl.ssr.main

#define SHADER_NAME SSR
#define MAX_ITERATION 20;
#define SAMPLE_PER_FRAME 5;
#define TOTAL_SAMPLES 128;

uniform sampler2D sourceTexture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform sampler2D gBufferTexture3;
uniform samplerCube specularCubemap;
uniform float specularIntensity: 1;

uniform mat4 projection;
uniform mat4 projectionInv;
uniform mat4 toViewSpace;
uniform mat4 toWorldSpace;

uniform float maxRayDistance: 200;

uniform float pixelStride: 16;
uniform float pixelStrideZCutoff: 50; 
uniform float screenEdgeFadeStart: 0.9; 
uniform float eyeFadeStart : 0.2; uniform float eyeFadeEnd: 0.8; 
uniform float minGlossiness: 0.2; uniform float zThicknessThreshold: 1;

uniform float nearZ;
uniform vec2 viewportSize : VIEWPORT_SIZE;

uniform float jitterOffset: 0;

varying vec2 v_Texcoord;

#ifdef DEPTH_DECODE
@import clay.util.decode_float
#endif

#ifdef PHYSICALLY_CORRECT
uniform sampler2D normalDistribution;
uniform float sampleOffset: 0;
uniform vec2 normalDistributionSize;

vec3 transformNormal(vec3 H, vec3 N) {
 vec3 upVector = N.y > 0.999 ? vec3(1.0, 0.0, 0.0) : vec3(0.0, 1.0, 0.0);
 vec3 tangentX = normalize(cross(N, upVector));
 vec3 tangentZ = cross(N, tangentX);
 return normalize(tangentX * H.x + N * H.y + tangentZ * H.z);
}
vec3 importanceSampleNormalGGX(float i, float roughness, vec3 N) {
 float p = fract((i + sampleOffset) / float(TOTAL_SAMPLES));
 vec3 H = texture2D(normalDistribution,vec2(roughness, p)).rgb;
 return transformNormal(H, N);
}
float G_Smith(float g, float ndv, float ndl) {
 float roughness = 1.0 - g;
 float k = roughness * roughness / 2.0;
 float G1V = ndv / (ndv * (1.0 - k) + k);
 float G1L = ndl / (ndl * (1.0 - k) + k);
 return G1L * G1V;
}
vec3 F_Schlick(float ndv, vec3 spec) {
 return spec + (1.0 - spec) * pow(1.0 - ndv, 5.0);
}
#endif

float fetchDepth(sampler2D depthTexture, vec2 uv)
{
 vec4 depthTexel = texture2D(depthTexture, uv);
 return depthTexel.r * 2.0 - 1.0;
}

float linearDepth(float depth)
{
 if (projection[3][3] == 0.0) {
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
 }
 else {
 return (depth - projection[3][2]) / projection[2][2];
 }
}

bool rayIntersectDepth(float rayZNear, float rayZFar, vec2 hitPixel)
{
 if (rayZFar > rayZNear)
 {
 float t = rayZFar; rayZFar = rayZNear; rayZNear = t;
 }
 float cameraZ = linearDepth(fetchDepth(gBufferTexture2, hitPixel));
 return rayZFar <= cameraZ && rayZNear >= cameraZ - zThicknessThreshold;
}


bool traceScreenSpaceRay(
 vec3 rayOrigin, vec3 rayDir, float jitter,
 out vec2 hitPixel, out vec3 hitPoint, out float iterationCount
)
{
 float rayLength = ((rayOrigin.z + rayDir.z * maxRayDistance) > -nearZ)
 ? (-nearZ - rayOrigin.z) / rayDir.z : maxRayDistance;

 vec3 rayEnd = rayOrigin + rayDir * rayLength;

 vec4 H0 = projection * vec4(rayOrigin, 1.0);
 vec4 H1 = projection * vec4(rayEnd, 1.0);

 float k0 = 1.0 / H0.w, k1 = 1.0 / H1.w;

 vec3 Q0 = rayOrigin * k0, Q1 = rayEnd * k1;

 vec2 P0 = (H0.xy * k0 * 0.5 + 0.5) * viewportSize;
 vec2 P1 = (H1.xy * k1 * 0.5 + 0.5) * viewportSize;

 P1 += dot(P1 - P0, P1 - P0) < 0.0001 ? 0.01 : 0.0;
 vec2 delta = P1 - P0;

 bool permute = false;
 if (abs(delta.x) < abs(delta.y)) {
 permute = true;
 delta = delta.yx;
 P0 = P0.yx;
 P1 = P1.yx;
 }
 float stepDir = sign(delta.x);
 float invdx = stepDir / delta.x;

 vec3 dQ = (Q1 - Q0) * invdx;
 float dk = (k1 - k0) * invdx;

 vec2 dP = vec2(stepDir, delta.y * invdx);

 float strideScaler = 1.0 - min(1.0, -rayOrigin.z / pixelStrideZCutoff);
 float pixStride = 1.0 + strideScaler * pixelStride;

 dP *= pixStride; dQ *= pixStride; dk *= pixStride;

 vec4 pqk = vec4(P0, Q0.z, k0);
 vec4 dPQK = vec4(dP, dQ.z, dk);

 pqk += dPQK * jitter;
 float rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);
 float rayZNear;

 bool intersect = false;

 vec2 texelSize = 1.0 / viewportSize;

 iterationCount = 0.0;

 for (int i = 0; i < MAX_ITERATION; i++)
 {
 pqk += dPQK;

 rayZNear = rayZFar;
 rayZFar = (dPQK.z * 0.5 + pqk.z) / (dPQK.w * 0.5 + pqk.w);

 hitPixel = permute ? pqk.yx : pqk.xy;
 hitPixel *= texelSize;

 intersect = rayIntersectDepth(rayZNear, rayZFar, hitPixel);

 iterationCount += 1.0;

 dPQK *= 1.2;

 if (intersect) {
 break;
 }
 }

 Q0.xy += dQ.xy * iterationCount;
 Q0.z = pqk.z;
 hitPoint = Q0 / pqk.w;

 return intersect;
}

float calculateAlpha(
 float iterationCount, float reflectivity,
 vec2 hitPixel, vec3 hitPoint, float dist, vec3 rayDir
)
{
 float alpha = clamp(reflectivity, 0.0, 1.0);
 alpha *= 1.0 - (iterationCount / float(MAX_ITERATION));
 vec2 hitPixelNDC = hitPixel * 2.0 - 1.0;
 float maxDimension = min(1.0, max(abs(hitPixelNDC.x), abs(hitPixelNDC.y)));
 alpha *= 1.0 - max(0.0, maxDimension - screenEdgeFadeStart) / (1.0 - screenEdgeFadeStart);

 float _eyeFadeStart = eyeFadeStart;
 float _eyeFadeEnd = eyeFadeEnd;
 if (_eyeFadeStart > _eyeFadeEnd) {
 float tmp = _eyeFadeEnd;
 _eyeFadeEnd = _eyeFadeStart;
 _eyeFadeStart = tmp;
 }

 float eyeDir = clamp(rayDir.z, _eyeFadeStart, _eyeFadeEnd);
 alpha *= 1.0 - (eyeDir - _eyeFadeStart) / (_eyeFadeEnd - _eyeFadeStart);

 alpha *= 1.0 - clamp(dist / maxRayDistance, 0.0, 1.0);

 return alpha;
}

@import clay.util.rand

@import clay.util.rgbm

void main()
{
 vec4 normalAndGloss = texture2D(gBufferTexture1, v_Texcoord);

 if (dot(normalAndGloss.rgb, vec3(1.0)) == 0.0) {
 discard;
 }

 float g = normalAndGloss.a;
#if !defined(PHYSICALLY_CORRECT)
 if (g <= minGlossiness) {
 discard;
 }
#endif

 float reflectivity = (g - minGlossiness) / (1.0 - minGlossiness);

 vec3 N = normalize(normalAndGloss.rgb * 2.0 - 1.0);
 N = normalize((toViewSpace * vec4(N, 0.0)).xyz);

 vec4 projectedPos = vec4(v_Texcoord * 2.0 - 1.0, fetchDepth(gBufferTexture2, v_Texcoord), 1.0);
 vec4 pos = projectionInv * projectedPos;
 vec3 rayOrigin = pos.xyz / pos.w;
 vec3 V = -normalize(rayOrigin);

 float ndv = clamp(dot(N, V), 0.0, 1.0);
 float iterationCount;
 float jitter = rand(fract(v_Texcoord + jitterOffset));

#ifdef PHYSICALLY_CORRECT
 vec4 color = vec4(vec3(0.0), 1.0);
 vec4 albedoMetalness = texture2D(gBufferTexture3, v_Texcoord);
 vec3 albedo = albedoMetalness.rgb;
 float m = albedoMetalness.a;
 vec3 diffuseColor = albedo * (1.0 - m);
 vec3 spec = mix(vec3(0.04), albedo, m);

 float jitter2 = rand(fract(v_Texcoord)) * float(TOTAL_SAMPLES);

 for (int i = 0; i < SAMPLE_PER_FRAME; i++) {
 vec3 H = importanceSampleNormalGGX(float(i) + jitter2, 1.0 - g, N);
 vec3 rayDir = normalize(reflect(-V, H));
#else
 vec3 rayDir = normalize(reflect(-V, N));
#endif
 vec2 hitPixel;
 vec3 hitPoint;

 bool intersect = traceScreenSpaceRay(rayOrigin, rayDir, jitter, hitPixel, hitPoint, iterationCount);

 float dist = distance(rayOrigin, hitPoint);

 vec3 hitNormal = texture2D(gBufferTexture1, hitPixel).rgb * 2.0 - 1.0;
 hitNormal = normalize((toViewSpace * vec4(hitNormal, 0.0)).xyz);
#ifdef PHYSICALLY_CORRECT
 float ndl = clamp(dot(N, rayDir), 0.0, 1.0);
 float vdh = clamp(dot(V, H), 0.0, 1.0);
 float ndh = clamp(dot(N, H), 0.0, 1.0);
 vec3 litTexel = vec3(0.0);
 if (dot(hitNormal, rayDir) < 0.0 && intersect) {
 litTexel = texture2D(sourceTexture, hitPixel).rgb;
 litTexel *= pow(clamp(1.0 - dist / 200.0, 0.0, 1.0), 3.0);

 }
 else {
 #ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 litTexel = RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, 0.0), 8.12).rgb * specularIntensity;
#endif
 }
 color.rgb += ndl * litTexel * (
 F_Schlick(ndl, spec) * G_Smith(g, ndv, ndl) * vdh / (ndh * ndv + 0.001)
 );
 }
 color.rgb /= float(SAMPLE_PER_FRAME);
#else
 #if !defined(SPECULARCUBEMAP_ENABLED)
 if (dot(hitNormal, rayDir) >= 0.0) {
 discard;
 }
 if (!intersect) {
 discard;
 }
#endif
 float alpha = clamp(calculateAlpha(iterationCount, reflectivity, hitPixel, hitPoint, dist, rayDir), 0.0, 1.0);
 vec4 color = texture2D(sourceTexture, hitPixel);
 color.rgb *= alpha;

#ifdef SPECULARCUBEMAP_ENABLED
 vec3 rayDirW = normalize(toWorldSpace * vec4(rayDir, 0.0)).rgb;
 alpha = alpha * (intersect ? 1.0 : 0.0);
 float bias = (1.0 -g) * 5.0;
 color.rgb += (1.0 - alpha)
 * RGBMDecode(textureCubeLodEXT(specularCubemap, rayDirW, bias), 8.12).rgb
 * specularIntensity;
#endif

#endif

 gl_FragColor = encodeHDR(color);
}
@end

@export ecgl.ssr.blur

uniform sampler2D texture;
uniform sampler2D gBufferTexture1;
uniform sampler2D gBufferTexture2;
uniform mat4 projection;
uniform float depthRange : 0.05;

varying vec2 v_Texcoord;

uniform vec2 textureSize;
uniform float blurSize : 1.0;

#ifdef BLEND
 #ifdef SSAOTEX_ENABLED
uniform sampler2D ssaoTex;
 #endif
uniform sampler2D sourceTexture;
#endif

float getLinearDepth(vec2 coord)
{
 float depth = texture2D(gBufferTexture2, coord).r * 2.0 - 1.0;
 return projection[3][2] / (depth * projection[2][3] - projection[2][2]);
}

@import clay.util.rgbm


void main()
{
 @import clay.compositor.kernel.gaussian_9

 vec4 centerNTexel = texture2D(gBufferTexture1, v_Texcoord);
 float g = centerNTexel.a;
 float maxBlurSize = clamp(1.0 - g, 0.0, 1.0) * blurSize;
#ifdef VERTICAL
 vec2 off = vec2(0.0, maxBlurSize / textureSize.y);
#else
 vec2 off = vec2(maxBlurSize / textureSize.x, 0.0);
#endif

 vec2 coord = v_Texcoord;

 vec4 sum = vec4(0.0);
 float weightAll = 0.0;

 vec3 cN = centerNTexel.rgb * 2.0 - 1.0;
 float cD = getLinearDepth(v_Texcoord);
 for (int i = 0; i < 9; i++) {
 vec2 coord = clamp((float(i) - 4.0) * off + v_Texcoord, vec2(0.0), vec2(1.0));
 float w = gaussianKernel[i]
 * clamp(dot(cN, texture2D(gBufferTexture1, coord).rgb * 2.0 - 1.0), 0.0, 1.0);
 float d = getLinearDepth(coord);
 w *= (1.0 - smoothstep(abs(cD - d) / depthRange, 0.0, 1.0));

 weightAll += w;
 sum += decodeHDR(texture2D(texture, coord)) * w;
 }

#ifdef BLEND
 float aoFactor = 1.0;
 #ifdef SSAOTEX_ENABLED
 aoFactor = texture2D(ssaoTex, v_Texcoord).r;
 #endif
 gl_FragColor = encodeHDR(
 sum / weightAll * aoFactor + decodeHDR(texture2D(sourceTexture, v_Texcoord))
 );
#else
 gl_FragColor = encodeHDR(sum / weightAll);
#endif
}

@end`;qe.import(VOe);function Il(t){t=t||{},this._ssrPass=new Di({fragment:qe.source("ecgl.ssr.main"),clearColor:[0,0,0,0]}),this._blurPass1=new Di({fragment:qe.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blurPass2=new Di({fragment:qe.source("ecgl.ssr.blur"),clearColor:[0,0,0,0]}),this._blendPass=new Di({fragment:qe.source("clay.compositor.blend")}),this._blendPass.material.disableTexturesAll(),this._blendPass.material.enableTexture(["texture1","texture2"]),this._ssrPass.setUniform("gBufferTexture1",t.normalTexture),this._ssrPass.setUniform("gBufferTexture2",t.depthTexture),this._blurPass1.setUniform("gBufferTexture1",t.normalTexture),this._blurPass1.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.setUniform("gBufferTexture1",t.normalTexture),this._blurPass2.setUniform("gBufferTexture2",t.depthTexture),this._blurPass2.material.define("fragment","VERTICAL"),this._blurPass2.material.define("fragment","BLEND"),this._ssrTexture=new Rt({type:We.HALF_FLOAT}),this._texture2=new Rt({type:We.HALF_FLOAT}),this._texture3=new Rt({type:We.HALF_FLOAT}),this._prevTexture=new Rt({type:We.HALF_FLOAT}),this._currentTexture=new Rt({type:We.HALF_FLOAT}),this._frameBuffer=new mi({depthBuffer:!1}),this._normalDistribution=null,this._totalSamples=256,this._samplePerFrame=4,this._ssrPass.material.define("fragment","SAMPLE_PER_FRAME",this._samplePerFrame),this._ssrPass.material.define("fragment","TOTAL_SAMPLES",this._totalSamples),this._downScale=1}Il.prototype.setAmbientCubemap=function(t,e){this._ssrPass.material.set("specularCubemap",t),this._ssrPass.material.set("specularIntensity",e);var r=t&&e;this._ssrPass.material[r?"enableTexture":"disableTexture"]("specularCubemap")};Il.prototype.update=function(t,e,r,i){var n=t.getWidth(),a=t.getHeight(),s=this._ssrTexture,o=this._texture2,u=this._texture3;s.width=this._prevTexture.width=this._currentTexture.width=n/this._downScale,s.height=this._prevTexture.height=this._currentTexture.height=a/this._downScale,o.width=u.width=n,o.height=u.height=a;var l=this._frameBuffer,c=this._ssrPass,h=this._blurPass1,f=this._blurPass2,d=this._blendPass,p=new Qe,g=new Qe;Qe.transpose(p,e.worldTransform),Qe.transpose(g,e.viewMatrix),c.setUniform("sourceTexture",r),c.setUniform("projection",e.projectionMatrix.array),c.setUniform("projectionInv",e.invProjectionMatrix.array),c.setUniform("toViewSpace",p.array),c.setUniform("toWorldSpace",g.array),c.setUniform("nearZ",e.near);var v=i/this._totalSamples*this._samplePerFrame;if(c.setUniform("jitterOffset",v),c.setUniform("sampleOffset",i*this._samplePerFrame),h.setUniform("textureSize",[s.width,s.height]),f.setUniform("textureSize",[n,a]),f.setUniform("sourceTexture",r),h.setUniform("projection",e.projectionMatrix.array),f.setUniform("projection",e.projectionMatrix.array),l.attach(s),l.bind(t),c.render(t),this._physicallyCorrect&&(l.attach(this._currentTexture),d.setUniform("texture1",this._prevTexture),d.setUniform("texture2",s),d.material.set({weight1:i>=1?.95:0,weight2:i>=1?.05:1}),d.render(t)),l.attach(o),h.setUniform("texture",this._physicallyCorrect?this._currentTexture:s),h.render(t),l.attach(u),f.setUniform("texture",o),f.render(t),l.unbind(t),this._physicallyCorrect){var m=this._prevTexture;this._prevTexture=this._currentTexture,this._currentTexture=m}};Il.prototype.getTargetTexture=function(){return this._texture3};Il.prototype.setParameter=function(t,e){t==="maxIteration"?this._ssrPass.material.define("fragment","MAX_ITERATION",e):this._ssrPass.setUniform(t,e)};Il.prototype.setPhysicallyCorrect=function(t){t?(this._normalDistribution||(this._normalDistribution=hu.generateNormalDistribution(64,this._totalSamples)),this._ssrPass.material.define("fragment","PHYSICALLY_CORRECT"),this._ssrPass.material.set("normalDistribution",this._normalDistribution),this._ssrPass.material.set("normalDistributionSize",[64,this._totalSamples])):this._ssrPass.material.undefine("fragment","PHYSICALLY_CORRECT"),this._physicallyCorrect=t};Il.prototype.setSSAOTexture=function(t){var e=this._blurPass2;t?(e.material.enableTexture("ssaoTex"),e.material.set("ssaoTex",t)):e.material.disableTexture("ssaoTex")};Il.prototype.isFinished=function(t){return this._physicallyCorrect?t>this._totalSamples/this._samplePerFrame:!0};Il.prototype.dispose=function(t){this._ssrTexture.dispose(t),this._texture2.dispose(t),this._texture3.dispose(t),this._prevTexture.dispose(t),this._currentTexture.dispose(t),this._frameBuffer.dispose(t)};const NU=[0,0,-.321585265978,-.154972575841,.458126042375,.188473391593,.842080129861,.527766490688,.147304551086,-.659453822776,-.331943915203,-.940619700594,.0479226680259,.54812163202,.701581552186,-.709825561388,-.295436780218,.940589268233,-.901489676764,.237713156085,.973570876096,-.109899459384,-.866792314779,-.451805525005,.330975007087,.800048655954,-.344275183665,.381779221166,-.386139432542,-.437418421534,-.576478634965,-.0148463392551,.385798197415,-.262426961053,-.666302061145,.682427250835,-.628010632582,-.732836215494,.10163141741,-.987658134403,.711995289051,-.320024291314,.0296005138058,.950296523438,.0130612307608,-.351024443122,-.879596633704,-.10478487883,.435712737232,.504254490347,.779203817497,.206477676721,.388264289969,-.896736162545,-.153106280781,-.629203242522,-.245517550697,.657969239148,.126830499058,.26862328493,-.634888119007,-.302301223431,.617074219636,.779817204925],$Oe=`@export ecgl.normal.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

@import ecgl.common.normalMap.vertexHeader

@import ecgl.common.vertexAnimation.header

void main()
{

 @import ecgl.common.vertexAnimation.main

 @import ecgl.common.uv.main

 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);
 v_WorldPosition = (world * vec4(pos, 1.0)).xyz;

 @import ecgl.common.normalMap.vertexMain

 gl_Position = worldViewProjection * vec4(pos, 1.0);

}


@end


@export ecgl.normal.fragment

#define ROUGHNESS_CHANEL 0

uniform bool useBumpMap;
uniform bool useRoughnessMap;
uniform bool doubleSide;
uniform float roughness;

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform mat4 viewInverse : VIEWINVERSE;

@import ecgl.common.normalMap.fragmentHeader
@import ecgl.common.bumpMap.header

uniform sampler2D roughnessMap;

void main()
{
 vec3 N = v_Normal;
 
 bool flipNormal = false;
 if (doubleSide) {
 vec3 eyePos = viewInverse[3].xyz;
 vec3 V = normalize(eyePos - v_WorldPosition);

 if (dot(N, V) < 0.0) {
 flipNormal = true;
 }
 }

 @import ecgl.common.normalMap.fragmentMain

 if (useBumpMap) {
 N = bumpNormal(v_WorldPosition, v_Normal, N);
 }

 float g = 1.0 - roughness;

 if (useRoughnessMap) {
 float g2 = 1.0 - texture2D(roughnessMap, v_DetailTexcoord)[ROUGHNESS_CHANEL];
 g = clamp(g2 + (g - 0.5) * 2.0, 0.0, 1.0);
 }

 if (flipNormal) {
 N = -N;
 }

 gl_FragColor.rgb = (N.xyz + 1.0) * 0.5;
 gl_FragColor.a = g;
}
@end`;qe.import($Oe);function yT(t,e,r,i,n){var a=t.gl;e.setUniform(a,"1i",r,n),a.activeTexture(a.TEXTURE0+n),i.isRenderable()?i.bind(t):i.unbind(t)}function WOe(t,e,r,i,n){var a,s,o,u,l=t.gl;return function(c,h,f){if(!(u&&u.material===c.material)){var d=c.material,p=c.__program,g=d.get("roughness");g==null&&(g=1);var v=d.get("normalMap")||e,m=d.get("roughnessMap"),y=d.get("bumpMap"),_=d.get("uvRepeat"),x=d.get("uvOffset"),b=d.get("detailUvRepeat"),C=d.get("detailUvOffset"),E=!!y&&d.isTextureEnabled("bumpMap"),A=!!m&&d.isTextureEnabled("roughnessMap"),S=d.isDefined("fragment","DOUBLE_SIDED");y=y||r,m=m||i,f!==h?(h.set("normalMap",v),h.set("bumpMap",y),h.set("roughnessMap",m),h.set("useBumpMap",E),h.set("useRoughnessMap",A),h.set("doubleSide",S),_!=null&&h.set("uvRepeat",_),x!=null&&h.set("uvOffset",x),b!=null&&h.set("detailUvRepeat",b),C!=null&&h.set("detailUvOffset",C),h.set("roughness",g)):(p.setUniform(l,"1f","roughness",g),a!==v&&yT(t,p,"normalMap",v,0),s!==y&&y&&yT(t,p,"bumpMap",y,1),o!==m&&m&&yT(t,p,"roughnessMap",m,2),_!=null&&p.setUniform(l,"2f","uvRepeat",_),x!=null&&p.setUniform(l,"2f","uvOffset",x),b!=null&&p.setUniform(l,"2f","detailUvRepeat",b),C!=null&&p.setUniform(l,"2f","detailUvOffset",C),p.setUniform(l,"1i","useBumpMap",+E),p.setUniform(l,"1i","useRoughnessMap",+A),p.setUniform(l,"1i","doubleSide",+S)),a=v,s=y,o=m,u=c}}}function Ag(t){this._depthTex=new Rt({format:We.DEPTH_COMPONENT,type:We.UNSIGNED_INT}),this._normalTex=new Rt({type:We.HALF_FLOAT}),this._framebuffer=new mi,this._framebuffer.attach(this._normalTex),this._framebuffer.attach(this._depthTex,mi.DEPTH_ATTACHMENT),this._normalMaterial=new Ms({shader:new qe(qe.source("ecgl.normal.vertex"),qe.source("ecgl.normal.fragment"))}),this._normalMaterial.enableTexture(["normalMap","bumpMap","roughnessMap"]),this._defaultNormalMap=cu.createBlank("#000"),this._defaultBumpMap=cu.createBlank("#000"),this._defaultRoughessMap=cu.createBlank("#000"),this._debugPass=new Di({fragment:qe.source("clay.compositor.output")}),this._debugPass.setUniform("texture",this._normalTex),this._debugPass.material.undefine("fragment","OUTPUT_ALPHA")}Ag.prototype.getDepthTexture=function(){return this._depthTex};Ag.prototype.getNormalTexture=function(){return this._normalTex};Ag.prototype.update=function(t,e,r){var i=t.getWidth(),n=t.getHeight(),a=this._depthTex,s=this._normalTex,o=this._normalMaterial;a.width=i,a.height=n,s.width=i,s.height=n;var u=e.getRenderList(r).opaque;this._framebuffer.bind(t),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT|t.gl.DEPTH_BUFFER_BIT),t.gl.disable(t.gl.BLEND),t.renderPass(u,r,{getMaterial:function(){return o},ifRender:function(l){return l.renderNormal},beforeRender:WOe(t,this._defaultNormalMap,this._defaultBumpMap,this._defaultRoughessMap,this._normalMaterial),sort:t.opaqueSortCompare}),this._framebuffer.unbind(t)};Ag.prototype.renderDebug=function(t){this._debugPass.render(t)};Ag.prototype.dispose=function(t){this._depthTex.dispose(t),this._normalTex.dispose(t)};function Ym(t){t=t||{},this._edgePass=new Di({fragment:qe.source("ecgl.edge")}),this._edgePass.setUniform("normalTexture",t.normalTexture),this._edgePass.setUniform("depthTexture",t.depthTexture),this._targetTexture=new Rt({type:We.HALF_FLOAT}),this._frameBuffer=new mi,this._frameBuffer.attach(this._targetTexture)}Ym.prototype.update=function(t,e,r,i){var n=t.getWidth(),a=t.getHeight(),s=this._targetTexture;s.width=n,s.height=a;var o=this._frameBuffer;o.bind(t),this._edgePass.setUniform("projectionInv",e.invProjectionMatrix.array),this._edgePass.setUniform("textureSize",[n,a]),this._edgePass.setUniform("texture",r),this._edgePass.render(t),o.unbind(t)};Ym.prototype.getTargetTexture=function(){return this._targetTexture};Ym.prototype.setParameter=function(t,e){this._edgePass.setUniform(t,e)};Ym.prototype.dispose=function(t){this._targetTexture.dispose(t),this._frameBuffer.dispose(t)};const YOe={nodes:[{name:"source",type:"texture",outputs:{color:{}}},{name:"source_half",shader:"#source(clay.compositor.downsample)",inputs:{texture:"source"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bright",shader:"#source(clay.compositor.bright)",inputs:{texture:"source_half"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{threshold:2,scale:4,textureSize:"expr([width * 1.0 / 2, height / 2])"}},{name:"bright_downsample_4",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 2, height / 2] )"}},{name:"bright_downsample_8",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 4, height / 4] )"}},{name:"bright_downsample_16",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 8, height / 8] )"}},{name:"bright_downsample_32",shader:"#source(clay.compositor.downsample)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 32)",height:"expr(height * 1.0 / 32)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0 / 16, height / 16] )"}},{name:"bright_upsample_16_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_32"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 32, height / 32] )"}},{name:"bright_upsample_16_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_16_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 16)",height:"expr(height * 1.0 / 16)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_16"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 16, height * 1.0 / 16] )"}},{name:"bright_upsample_8_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_8_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_8_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_8_blur_v",texture2:"bright_upsample_16_blur_v"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 8)",height:"expr(height * 1.0 / 8)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_4_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_8"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 8, height * 1.0 / 8] )"}},{name:"bright_upsample_4_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_4_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_4_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_4_blur_v",texture2:"bright_upsample_8_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 4)",height:"expr(height * 1.0 / 4)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_2_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_downsample_4"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 4, height * 1.0 / 4] )"}},{name:"bright_upsample_2_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_2_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_2_blend",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_2_blur_v",texture2:"bright_upsample_4_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0 / 2)",height:"expr(height * 1.0 / 2)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"bright_upsample_full_blur_h",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:0,textureSize:"expr( [width * 1.0 / 2, height * 1.0 / 2] )"}},{name:"bright_upsample_full_blur_v",shader:"#source(clay.compositor.gaussian_blur)",inputs:{texture:"bright_upsample_full_blur_h"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{blurSize:1,blurDir:1,textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"bloom_composite",shader:"#source(clay.compositor.blend)",inputs:{texture1:"bright_upsample_full_blur_v",texture2:"bright_upsample_2_blend"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{weight1:.3,weight2:.7}},{name:"coc",shader:"#source(ecgl.dof.coc)",outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{focalDist:50,focalRange:30}},{name:"dof_far_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"}},{name:"dof_near_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"source",coc:"coc"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_NEARFIELD:null}},{name:"dof_coc_blur",shader:"#source(ecgl.dof.diskBlur)",inputs:{texture:"coc"},outputs:{color:{parameters:{minFilter:"NEAREST",magFilter:"NEAREST",width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},parameters:{textureSize:"expr( [width * 1.0, height * 1.0] )"},defines:{BLUR_COC:null}},{name:"dof_composite",shader:"#source(ecgl.dof.composite)",inputs:{original:"source",blurred:"dof_far_blur",nearfield:"dof_near_blur",coc:"coc",nearcoc:"dof_coc_blur"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)",type:"HALF_FLOAT"}}}},{name:"composite",shader:"#source(clay.compositor.hdr.composite)",inputs:{texture:"source",bloom:"bloom_composite"},outputs:{color:{parameters:{width:"expr(width * 1.0)",height:"expr(height * 1.0)"}}},defines:{}},{name:"FXAA",shader:"#source(clay.compositor.fxaa)",inputs:{texture:"composite"}}]},qOe=`@export ecgl.dof.coc

uniform sampler2D depth;

uniform float zNear: 0.1;
uniform float zFar: 2000;

uniform float focalDistance: 3;
uniform float focalRange: 1;
uniform float focalLength: 30;
uniform float fstop: 2.8;

varying vec2 v_Texcoord;

@import clay.util.encode_float

void main()
{
 float z = texture2D(depth, v_Texcoord).r * 2.0 - 1.0;

 float dist = 2.0 * zNear * zFar / (zFar + zNear - z * (zFar - zNear));

 float aperture = focalLength / fstop;

 float coc;

 float uppper = focalDistance + focalRange;
 float lower = focalDistance - focalRange;
 if (dist <= uppper && dist >= lower) {
 coc = 0.5;
 }
 else {
 float focalAdjusted = dist > uppper ? uppper : lower;

 coc = abs(aperture * (focalLength * (dist - focalAdjusted)) / (dist * (focalAdjusted - focalLength)));
 coc = clamp(coc, 0.0, 2.0) / 2.00001;

 if (dist < lower) {
 coc = -coc;
 }
 coc = coc * 0.5 + 0.5;
 }

 gl_FragColor = encodeFloat(coc);
}
@end


@export ecgl.dof.composite

#define DEBUG 0

uniform sampler2D original;
uniform sampler2D blurred;
uniform sampler2D nearfield;
uniform sampler2D coc;
uniform sampler2D nearcoc;
varying vec2 v_Texcoord;

@import clay.util.rgbm
@import clay.util.float

void main()
{
 vec4 blurredColor = texture2D(blurred, v_Texcoord);
 vec4 originalColor = texture2D(original, v_Texcoord);

 float fCoc = decodeFloat(texture2D(coc, v_Texcoord));

 fCoc = abs(fCoc * 2.0 - 1.0);

 float weight = smoothstep(0.0, 1.0, fCoc);
 
#ifdef NEARFIELD_ENABLED
 vec4 nearfieldColor = texture2D(nearfield, v_Texcoord);
 float fNearCoc = decodeFloat(texture2D(nearcoc, v_Texcoord));
 fNearCoc = abs(fNearCoc * 2.0 - 1.0);

 gl_FragColor = encodeHDR(
 mix(
 nearfieldColor, mix(originalColor, blurredColor, weight),
 pow(1.0 - fNearCoc, 4.0)
 )
 );
#else
 gl_FragColor = encodeHDR(mix(originalColor, blurredColor, weight));
#endif

}

@end



@export ecgl.dof.diskBlur

#define POISSON_KERNEL_SIZE 16;

uniform sampler2D texture;
uniform sampler2D coc;
varying vec2 v_Texcoord;

uniform float blurRadius : 10.0;
uniform vec2 textureSize : [512.0, 512.0];

uniform vec2 poissonKernel[POISSON_KERNEL_SIZE];

uniform float percent;

float nrand(const in vec2 n) {
 return fract(sin(dot(n.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

@import clay.util.rgbm
@import clay.util.float


void main()
{
 vec2 offset = blurRadius / textureSize;

 float rnd = 6.28318 * nrand(v_Texcoord + 0.07 * percent );
 float cosa = cos(rnd);
 float sina = sin(rnd);
 vec4 basis = vec4(cosa, -sina, sina, cosa);

#if !defined(BLUR_NEARFIELD) && !defined(BLUR_COC)
 offset *= abs(decodeFloat(texture2D(coc, v_Texcoord)) * 2.0 - 1.0);
#endif

#ifdef BLUR_COC
 float cocSum = 0.0;
#else
 vec4 color = vec4(0.0);
#endif


 float weightSum = 0.0;

 for (int i = 0; i < POISSON_KERNEL_SIZE; i++) {
 vec2 ofs = poissonKernel[i];

 ofs = vec2(dot(ofs, basis.xy), dot(ofs, basis.zw));

 vec2 uv = v_Texcoord + ofs * offset;
 vec4 texel = texture2D(texture, uv);

 float w = 1.0;
#ifdef BLUR_COC
 float fCoc = decodeFloat(texel) * 2.0 - 1.0;
 cocSum += clamp(fCoc, -1.0, 0.0) * w;
#else
 texel = texel;
 #if !defined(BLUR_NEARFIELD)
 float fCoc = decodeFloat(texture2D(coc, uv)) * 2.0 - 1.0;
 w *= abs(fCoc);
 #endif
 texel.rgb *= texel.a;
 color += texel * w;
#endif

 weightSum += w;
 }

#ifdef BLUR_COC
 gl_FragColor = encodeFloat(clamp(cocSum / weightSum, -1.0, 0.0) * 0.5 + 0.5);
#else
 color /= weightSum;
 color.rgb /= (color.a + 0.0001);
 gl_FragColor = color;
#endif
}

@end`,XOe=`@export ecgl.edge

uniform sampler2D texture;

uniform sampler2D normalTexture;
uniform sampler2D depthTexture;

uniform mat4 projectionInv;

uniform vec2 textureSize;

uniform vec4 edgeColor: [0,0,0,0.8];

varying vec2 v_Texcoord;

vec3 packColor(vec2 coord) {
 float z = texture2D(depthTexture, coord).r * 2.0 - 1.0;
 vec4 p = vec4(v_Texcoord * 2.0 - 1.0, z, 1.0);
 vec4 p4 = projectionInv * p;

 return vec3(
 texture2D(normalTexture, coord).rg,
 -p4.z / p4.w / 5.0
 );
}

void main() {
 vec2 cc = v_Texcoord;
 vec3 center = packColor(cc);

 float size = clamp(1.0 - (center.z - 10.0) / 100.0, 0.0, 1.0) * 0.5;
 float dx = size / textureSize.x;
 float dy = size / textureSize.y;

 vec2 coord;
 vec3 topLeft = packColor(cc+vec2(-dx, -dy));
 vec3 top = packColor(cc+vec2(0.0, -dy));
 vec3 topRight = packColor(cc+vec2(dx, -dy));
 vec3 left = packColor(cc+vec2(-dx, 0.0));
 vec3 right = packColor(cc+vec2(dx, 0.0));
 vec3 bottomLeft = packColor(cc+vec2(-dx, dy));
 vec3 bottom = packColor(cc+vec2(0.0, dy));
 vec3 bottomRight = packColor(cc+vec2(dx, dy));

 vec3 v = -topLeft-2.0*top-topRight+bottomLeft+2.0*bottom+bottomRight;
 vec3 h = -bottomLeft-2.0*left-topLeft+bottomRight+2.0*right+topRight;

 float edge = sqrt(dot(h, h) + dot(v, v));

 edge = smoothstep(0.8, 1.0, edge);

 gl_FragColor = mix(texture2D(texture, v_Texcoord), vec4(edgeColor.rgb, 1.0), edgeColor.a * edge);
}
@end`;qe.import(Lre);qe.import(Ore);qe.import(Rre);qe.import(Nre);qe.import(kre);qe.import(zre);qe.import(Hre);qe.import(Gre);qe.import(Ure);qe.import(qOe);qe.import(XOe);function $re(t,e){return{color:{parameters:{width:t,height:e}}}}var fI=["composite","FXAA"];function Jt(){this._width,this._height,this._dpr,this._sourceTexture=new Rt({type:We.HALF_FLOAT}),this._depthTexture=new Rt({format:We.DEPTH_COMPONENT,type:We.UNSIGNED_INT}),this._framebuffer=new mi,this._framebuffer.attach(this._sourceTexture),this._framebuffer.attach(this._depthTexture,mi.DEPTH_ATTACHMENT),this._normalPass=new Ag,this._compositor=OOe(YOe);var t=this._compositor.getNodeByName("source");t.texture=this._sourceTexture;var e=this._compositor.getNodeByName("coc");this._sourceNode=t,this._cocNode=e,this._compositeNode=this._compositor.getNodeByName("composite"),this._fxaaNode=this._compositor.getNodeByName("FXAA"),this._dofBlurNodes=["dof_far_blur","dof_near_blur","dof_coc_blur"].map(function(i){return this._compositor.getNodeByName(i)},this),this._dofBlurKernel=0,this._dofBlurKernelSize=new Float32Array(0),this._finalNodesChain=fI.map(function(i){return this._compositor.getNodeByName(i)},this);var r={normalTexture:this._normalPass.getNormalTexture(),depthTexture:this._normalPass.getDepthTexture()};this._ssaoPass=new Fl(r),this._ssrPass=new Il(r),this._edgePass=new Ym(r)}Jt.prototype.resize=function(i,n,r){r=r||1;var i=i*r,n=n*r,a=this._sourceTexture,s=this._depthTexture;a.width=i,a.height=n,s.width=i,s.height=n;var o={getWidth:function(){return i},getHeight:function(){return n},getDevicePixelRatio:function(){return r}};function u(l,c){if(typeof l[c]=="function"){var h=l[c].__original||l[c];l[c]=function(f){return h.call(this,o)},l[c].__original=h}}this._compositor.nodes.forEach(function(l){for(var c in l.outputs){var h=l.outputs[c].parameters;h&&(u(h,"width"),u(h,"height"))}for(var f in l.parameters)u(l.parameters,f)}),this._width=i,this._height=n,this._dpr=r};Jt.prototype.getWidth=function(){return this._width};Jt.prototype.getHeight=function(){return this._height};Jt.prototype._ifRenderNormalPass=function(){return this._enableSSAO||this._enableEdge||this._enableSSR};Jt.prototype._getPrevNode=function(t){for(var e=fI.indexOf(t.name)-1,r=this._finalNodesChain[e];r&&!this._compositor.getNodeByName(r.name);)e-=1,r=this._finalNodesChain[e];return r};Jt.prototype._getNextNode=function(t){for(var e=fI.indexOf(t.name)+1,r=this._finalNodesChain[e];r&&!this._compositor.getNodeByName(r.name);)e+=1,r=this._finalNodesChain[e];return r};Jt.prototype._addChainNode=function(t){var e=this._getPrevNode(t),r=this._getNextNode(t);e&&(t.inputs.texture=e.name,r?(t.outputs=$re(this.getWidth.bind(this),this.getHeight.bind(this)),r.inputs.texture=t.name):t.outputs=null,this._compositor.addNode(t))};Jt.prototype._removeChainNode=function(t){var e=this._getPrevNode(t),r=this._getNextNode(t);e&&(r?(e.outputs=$re(this.getWidth.bind(this),this.getHeight.bind(this)),r.inputs.texture=e.name):e.outputs=null,this._compositor.removeNode(t))};Jt.prototype.updateNormal=function(t,e,r,i){this._ifRenderNormalPass()&&this._normalPass.update(t,e,r)};Jt.prototype.updateSSAO=function(t,e,r,i){this._ssaoPass.update(t,r,i)};Jt.prototype.enableSSAO=function(){this._enableSSAO=!0};Jt.prototype.disableSSAO=function(){this._enableSSAO=!1};Jt.prototype.enableSSR=function(){this._enableSSR=!0};Jt.prototype.disableSSR=function(){this._enableSSR=!1};Jt.prototype.getSSAOTexture=function(){return this._ssaoPass.getTargetTexture()};Jt.prototype.getSourceFrameBuffer=function(){return this._framebuffer};Jt.prototype.getSourceTexture=function(){return this._sourceTexture};Jt.prototype.disableFXAA=function(){this._removeChainNode(this._fxaaNode)};Jt.prototype.enableFXAA=function(){this._addChainNode(this._fxaaNode)};Jt.prototype.enableBloom=function(){this._compositeNode.inputs.bloom="bloom_composite",this._compositor.dirty()};Jt.prototype.disableBloom=function(){this._compositeNode.inputs.bloom=null,this._compositor.dirty()};Jt.prototype.enableDOF=function(){this._compositeNode.inputs.texture="dof_composite",this._compositor.dirty()};Jt.prototype.disableDOF=function(){this._compositeNode.inputs.texture="source",this._compositor.dirty()};Jt.prototype.enableColorCorrection=function(){this._compositeNode.define("COLOR_CORRECTION"),this._enableColorCorrection=!0};Jt.prototype.disableColorCorrection=function(){this._compositeNode.undefine("COLOR_CORRECTION"),this._enableColorCorrection=!1};Jt.prototype.enableEdge=function(){this._enableEdge=!0};Jt.prototype.disableEdge=function(){this._enableEdge=!1};Jt.prototype.setBloomIntensity=function(t){this._compositeNode.setParameter("bloomIntensity",t)};Jt.prototype.setSSAOParameter=function(t,e){switch(t){case"quality":var r={low:6,medium:12,high:32,ultra:62}[e]||12;this._ssaoPass.setParameter("kernelSize",r);break;case"radius":this._ssaoPass.setParameter(t,e),this._ssaoPass.setParameter("bias",e/200);break;case"intensity":this._ssaoPass.setParameter(t,e);break}};Jt.prototype.setDOFParameter=function(t,e){switch(t){case"focalDistance":case"focalRange":case"fstop":this._cocNode.setParameter(t,e);break;case"blurRadius":for(var r=0;r<this._dofBlurNodes.length;r++)this._dofBlurNodes[r].setParameter("blurRadius",e);break;case"quality":var i={low:4,medium:8,high:16,ultra:32}[e]||8;this._dofBlurKernelSize=i;for(var r=0;r<this._dofBlurNodes.length;r++)this._dofBlurNodes[r].pass.material.define("POISSON_KERNEL_SIZE",i);this._dofBlurKernel=new Float32Array(i*2);break}};Jt.prototype.setSSRParameter=function(t,e){if(e!=null)switch(t){case"quality":var r={low:10,medium:15,high:30,ultra:80}[e]||20,i={low:32,medium:16,high:8,ultra:4}[e]||16;this._ssrPass.setParameter("maxIteration",r),this._ssrPass.setParameter("pixelStride",i);break;case"maxRoughness":this._ssrPass.setParameter("minGlossiness",Math.max(Math.min(1-e,1),0));break;case"physical":this.setPhysicallyCorrectSSR(e);break;default:console.warn("Unkown SSR parameter "+t)}};Jt.prototype.setPhysicallyCorrectSSR=function(t){this._ssrPass.setPhysicallyCorrect(t)};Jt.prototype.setEdgeColor=function(t){var e=Z.parseColor(t);this._edgePass.setParameter("edgeColor",e)};Jt.prototype.setExposure=function(t){this._compositeNode.setParameter("exposure",Math.pow(2,t))};Jt.prototype.setColorLookupTexture=function(t,e){this._compositeNode.pass.material.setTextureImage("lut",this._enableColorCorrection?t:"none",e,{minFilter:Z.Texture.NEAREST,magFilter:Z.Texture.NEAREST,flipY:!1})};Jt.prototype.setColorCorrection=function(t,e){this._compositeNode.setParameter(t,e)};Jt.prototype.isSSREnabled=function(){return this._enableSSR};Jt.prototype.composite=function(t,e,r,i,n){var a=this._sourceTexture,s=a;this._enableEdge&&(this._edgePass.update(t,r,a,n),a=s=this._edgePass.getTargetTexture()),this._enableSSR&&(this._ssrPass.update(t,r,a,n),s=this._ssrPass.getTargetTexture(),this._ssrPass.setSSAOTexture(this._enableSSAO?this._ssaoPass.getTargetTexture():null)),this._sourceNode.texture=s,this._cocNode.setParameter("depth",this._depthTexture);for(var o=this._dofBlurKernel,u=this._dofBlurKernelSize,l=Math.floor(NU.length/2/u),c=n%l,h=0;h<u*2;h++)o[h]=NU[h+c*u*2];for(var h=0;h<this._dofBlurNodes.length;h++)this._dofBlurNodes[h].setParameter("percent",n/30),this._dofBlurNodes[h].setParameter("poissonKernel",o);this._cocNode.setParameter("zNear",r.near),this._cocNode.setParameter("zFar",r.far),this._compositor.render(t,i)};Jt.prototype.dispose=function(t){this._sourceTexture.dispose(t),this._depthTexture.dispose(t),this._framebuffer.dispose(t),this._compositor.dispose(t),this._normalPass.dispose(t),this._ssaoPass.dispose(t)};function nD(t){for(var e=[],r=0;r<30;r++)e.push([kp(r,2),kp(r,3)]);this._haltonSequence=e,this._frame=0,this._sourceTex=new Rt,this._sourceFb=new mi,this._sourceFb.attach(this._sourceTex),this._prevFrameTex=new Rt,this._outputTex=new Rt;var i=this._blendPass=new Di({fragment:qe.source("clay.compositor.blend")});i.material.disableTexturesAll(),i.material.enableTexture(["texture1","texture2"]),this._blendFb=new mi({depthBuffer:!1}),this._outputPass=new Di({fragment:qe.source("clay.compositor.output"),blendWithPrevious:!0}),this._outputPass.material.define("fragment","OUTPUT_ALPHA"),this._outputPass.material.blend=function(n){n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA)}}nD.prototype={constructor:nD,jitterProjection:function(t,e){var r=t.viewport,i=r.devicePixelRatio||t.getDevicePixelRatio(),n=r.width*i,a=r.height*i,s=this._haltonSequence[this._frame%this._haltonSequence.length],o=new Qe;o.array[12]=(s[0]*2-1)/n,o.array[13]=(s[1]*2-1)/a,Qe.mul(e.projectionMatrix,o,e.projectionMatrix),Qe.invert(e.invProjectionMatrix,e.projectionMatrix)},resetFrame:function(){this._frame=0},getFrame:function(){return this._frame},getSourceFrameBuffer:function(){return this._sourceFb},getOutputTexture:function(){return this._outputTex},resize:function(t,e){this._prevFrameTex.width=t,this._prevFrameTex.height=e,this._outputTex.width=t,this._outputTex.height=e,this._sourceTex.width=t,this._sourceTex.height=e,this._prevFrameTex.dirty(),this._outputTex.dirty(),this._sourceTex.dirty()},isFinished:function(){return this._frame>=this._haltonSequence.length},render:function(t,e,r){var i=this._blendPass;this._frame===0?(i.setUniform("weight1",0),i.setUniform("weight2",1)):(i.setUniform("weight1",.9),i.setUniform("weight2",.1)),i.setUniform("texture1",this._prevFrameTex),i.setUniform("texture2",e||this._sourceTex),this._blendFb.attach(this._outputTex),this._blendFb.bind(t),i.render(t),this._blendFb.unbind(t),r||(this._outputPass.setUniform("texture",this._outputTex),this._outputPass.render(t));var n=this._prevFrameTex;this._prevFrameTex=this._outputTex,this._outputTex=n,this._frame++},dispose:function(t){this._sourceFb.dispose(t),this._blendFb.dispose(t),this._prevFrameTex.dispose(t),this._outputTex.dispose(t),this._sourceTex.dispose(t),this._outputPass.dispose(t),this._blendPass.dispose(t)}};function yr(t){t=t||"perspective",this.layer=null,this.scene=new Yc,this.rootNode=this.scene,this.viewport={x:0,y:0,width:0,height:0},this.setProjection(t),this._compositor=new Jt,this._temporalSS=new nD,this._shadowMapPass=new jo;for(var e=[],r=0,i=0;i<30;i++){for(var n=[],a=0;a<6;a++)n.push(kp(r,2)*4-2),n.push(kp(r,3)*4-2),r++;e.push(n)}this._pcfKernels=e,this.scene.on("beforerender",function(s,o,u){this.needsTemporalSS()&&this._temporalSS.jitterProjection(s,u)},this)}yr.prototype.setProjection=function(t){var e=this.camera;e&&e.update(),t==="perspective"?this.camera instanceof Hi||(this.camera=new Hi,e&&this.camera.setLocalTransform(e.localTransform)):this.camera instanceof Np||(this.camera=new Np,e&&this.camera.setLocalTransform(e.localTransform)),this.camera.near=.1,this.camera.far=2e3};yr.prototype.setViewport=function(t,e,r,i,n){this.camera instanceof Hi&&(this.camera.aspect=r/i),n=n||1,this.viewport.x=t,this.viewport.y=e,this.viewport.width=r,this.viewport.height=i,this.viewport.devicePixelRatio=n,this._compositor.resize(r*n,i*n),this._temporalSS.resize(r*n,i*n)};yr.prototype.containPoint=function(t,e){var r=this.viewport,i=this.layer.renderer.getHeight();return e=i-e,t>=r.x&&e>=r.y&&t<=r.x+r.width&&e<=r.y+r.height};var kU=new Tt;yr.prototype.castRay=function(t,e,r){var i=this.layer.renderer,n=i.viewport;return i.viewport=this.viewport,i.screenToNDC(t,e,kU),this.camera.castRay(kU,r),i.viewport=n,r};yr.prototype.prepareRender=function(){this.scene.update(),this.camera.update(),this.scene.updateLights();var t=this.scene.updateRenderList(this.camera);this._needsSortProgressively=!1;for(var e=0;e<t.transparent.length;e++){var r=t.transparent[e],i=r.geometry;i.needsSortVerticesProgressively&&i.needsSortVerticesProgressively()&&(this._needsSortProgressively=!0),i.needsSortTrianglesProgressively&&i.needsSortTrianglesProgressively()&&(this._needsSortProgressively=!0)}this._frame=0,this._temporalSS.resetFrame()};yr.prototype.render=function(t,e){this._doRender(t,e,this._frame),this._frame++};yr.prototype.needsAccumulate=function(){return this.needsTemporalSS()||this._needsSortProgressively};yr.prototype.needsTemporalSS=function(){var t=this._enableTemporalSS;return t==="auto"&&(t=this._enablePostEffect),t};yr.prototype.hasDOF=function(){return this._enableDOF};yr.prototype.isAccumulateFinished=function(){return this.needsTemporalSS()?this._temporalSS.isFinished():this._frame>30};yr.prototype._doRender=function(t,e,r){var i=this.scene,n=this.camera;r=r||0,this._updateTransparent(t,i,n,r),e||(this._shadowMapPass.kernelPCF=this._pcfKernels[0],this._shadowMapPass.render(t,i,n,!0)),this._updateShadowPCFKernel(r);var a=t.clearColor;if(t.gl.clearColor(a[0],a[1],a[2],a[3]),this._enablePostEffect&&(this.needsTemporalSS()&&this._temporalSS.jitterProjection(t,n),this._compositor.updateNormal(t,i,n,this._temporalSS.getFrame())),this._updateSSAO(t,i,n,this._temporalSS.getFrame()),this._enablePostEffect){var s=this._compositor.getSourceFrameBuffer();s.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),t.render(i,n,!0,!0),s.unbind(t),this.needsTemporalSS()&&e?(this._compositor.composite(t,i,n,this._temporalSS.getSourceFrameBuffer(),this._temporalSS.getFrame()),t.setViewport(this.viewport),this._temporalSS.render(t)):(t.setViewport(this.viewport),this._compositor.composite(t,i,n,null,0))}else if(this.needsTemporalSS()&&e){var s=this._temporalSS.getSourceFrameBuffer();s.bind(t),t.saveClear(),t.clearBit=t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT,t.render(i,n,!0,!0),t.restoreClear(),s.unbind(t),t.setViewport(this.viewport),this._temporalSS.render(t)}else t.setViewport(this.viewport),t.render(i,n,!0,!0)};yr.prototype._updateTransparent=function(t,e,r,i){for(var n=new Fe,a=new Qe,s=r.getWorldPosition(),o=e.getRenderList(r).transparent,u=0;u<o.length;u++){var l=o[u],c=l.geometry;Qe.invert(a,l.worldTransform),Fe.transformMat4(n,s,a),c.needsSortTriangles&&c.needsSortTriangles()&&c.doSortTriangles(n,i),c.needsSortVertices&&c.needsSortVertices()&&c.doSortVertices(n,i)}};yr.prototype._updateSSAO=function(t,e,r){var i=this._enableSSAO&&this._enablePostEffect;i&&this._compositor.updateSSAO(t,e,r,this._temporalSS.getFrame());for(var n=e.getRenderList(r),a=0;a<n.opaque.length;a++){var s=n.opaque[a];s.renderNormal&&s.material[i?"enableTexture":"disableTexture"]("ssaoMap"),i&&s.material.set("ssaoMap",this._compositor.getSSAOTexture())}};yr.prototype._updateShadowPCFKernel=function(t){for(var e=this._pcfKernels[t%this._pcfKernels.length],r=this.scene.getRenderList(this.camera),i=r.opaque,n=0;n<i.length;n++)i[n].receiveShadow&&(i[n].material.set("pcfKernel",e),i[n].material.define("fragment","PCF_KERNEL_SIZE",e.length/2))};yr.prototype.dispose=function(t){this._compositor.dispose(t.gl),this._temporalSS.dispose(t.gl),this._shadowMapPass.dispose(t)};yr.prototype.setPostEffect=function(t,e){var r=this._compositor;this._enablePostEffect=t.get("enable");var i=t.getModel("bloom"),n=t.getModel("edge"),a=t.getModel("DOF",t.getModel("depthOfField")),s=t.getModel("SSAO",t.getModel("screenSpaceAmbientOcclusion")),o=t.getModel("SSR",t.getModel("screenSpaceReflection")),u=t.getModel("FXAA"),l=t.getModel("colorCorrection");i.get("enable")?r.enableBloom():r.disableBloom(),a.get("enable")?r.enableDOF():r.disableDOF(),o.get("enable")?r.enableSSR():r.disableSSR(),l.get("enable")?r.enableColorCorrection():r.disableColorCorrection(),n.get("enable")?r.enableEdge():r.disableEdge(),u.get("enable")?r.enableFXAA():r.disableFXAA(),this._enableDOF=a.get("enable"),this._enableSSAO=s.get("enable"),this._enableSSAO?r.enableSSAO():r.disableSSAO(),r.setBloomIntensity(i.get("intensity")),r.setEdgeColor(n.get("color")),r.setColorLookupTexture(l.get("lookupTexture"),e),r.setExposure(l.get("exposure")),["radius","quality","intensity"].forEach(function(c){r.setSSAOParameter(c,s.get(c))}),["quality","maxRoughness","physical"].forEach(function(c){r.setSSRParameter(c,o.get(c))}),["quality","focalDistance","focalRange","blurRadius","fstop"].forEach(function(c){r.setDOFParameter(c,a.get(c))}),["brightness","contrast","saturation"].forEach(function(c){r.setColorCorrection(c,l.get(c))})};yr.prototype.setDOFFocusOnPoint=function(t){if(this._enablePostEffect)return t>this.camera.far||t<this.camera.near?void 0:(this._compositor.setDOFParameter("focalDistance",t),!0)};yr.prototype.setTemporalSuperSampling=function(t){this._enableTemporalSS=t.get("enable")};yr.prototype.isLinearSpace=function(){return this._enablePostEffect};yr.prototype.setRootNode=function(t){if(this.rootNode!==t){for(var e=this.rootNode.children(),r=0;r<e.length;r++)t.add(e[r]);t!==this.scene&&this.scene.add(t),this.rootNode=t}};yr.prototype.add=function(t){this.rootNode.add(t)};yr.prototype.remove=function(t){this.rootNode.remove(t)};yr.prototype.removeAll=function(t){this.rootNode.removeAll(t)};Object.assign(yr.prototype,aI);function ZOe(t,e){var r=t.getBoxLayoutParams(),i=ai(r,{width:e.getWidth(),height:e.getHeight()});i.y=e.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,e.getDevicePixelRatio());var n=t.get("boxWidth"),a=t.get("boxHeight"),s=t.get("boxDepth");this.getAxis("x").setExtent(-n/2,n/2),this.getAxis("y").setExtent(s/2,-s/2),this.getAxis("z").setExtent(-a/2,a/2),this.size=[n,a,s]}function KOe(t,e){var r={};function i(n,a){r[n]=r[n]||[1/0,-1/0],r[n][0]=Math.min(a[0],r[n][0]),r[n][1]=Math.max(a[1],r[n][1])}t.eachSeries(function(n){if(n.coordinateSystem===this){var a=n.getData();["x","y","z"].forEach(function(s){a.mapDimensionsAll(s,!0).forEach(function(o){i(s,a.getDataExtent(o,!0))})})}},this),["xAxis3D","yAxis3D","zAxis3D"].forEach(function(n){t.eachComponent(n,function(a){var s=n.charAt(0),o=a.getReferringComponents("grid3D").models[0],u=o.coordinateSystem;if(u===this){var l=u.getAxis(s);if(!l){var c=Z9(r[s]||[1/0,-1/0],a);l=new h4(s,c),l.type=a.get("type");var h=l.type==="category";l.onBand=h&&a.get("boundaryGap"),l.inverse=a.get("inverse"),a.axis=l,l.model=a,l.getLabelModel=function(){return a.getModel("axisLabel",o.getModel("axisLabel"))},l.getTickModel=function(){return a.getModel("axisTick",o.getModel("axisTick"))},u.addAxis(l)}}},this)},this),this.resize(this.model,e)}var JOe={dimensions:em.prototype.dimensions,create:function(t,e){var r=[];t.eachComponent("grid3D",function(a){a.__viewGL=a.__viewGL||new yr;var s=new em;s.model=a,s.viewGL=a.__viewGL,a.coordinateSystem=s,r.push(s),s.resize=ZOe,s.update=KOe});var i=["xAxis3D","yAxis3D","zAxis3D"];function n(a,s){return i.map(function(o){var u=a.getReferringComponents(o).models[0];return u==null&&(u=s.getComponent(o)),u})}return t.eachSeries(function(a){if(a.get("coordinateSystem")==="cartesian3D"){var s=a.getReferringComponents("grid3D").models[0];if(s==null){var o=n(a,t),s=o[0].getCoordSysModel();o.forEach(function(c){c.getCoordSysModel()})}var u=s.coordinateSystem;a.coordinateSystem=u}}),r}},Wre=Dt.extend({type:"cartesian3DAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid3D",index:this.option.gridIndex,id:this.option.gridId})[0]}});BEe(Wre);var Yre={show:!0,grid3DIndex:0,inverse:!1,name:"",nameLocation:"middle",nameTextStyle:{fontSize:16},nameGap:20,axisPointer:{},axisLine:{},axisTick:{},axisLabel:{},splitArea:{}},QOe=et({boundaryGap:!0,axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"},axisPointer:{label:{show:!1}}},Yre),dI=et({boundaryGap:[0,0],splitNumber:5,axisPointer:{label:{}}},Yre),eRe=st({scale:!0,min:"dataMin",max:"dataMax"},dI),qre=st({logBase:10},dI);qre.scale=!0;const tRe={categoryAxis3D:QOe,valueAxis3D:dI,timeAxis3D:eRe,logAxis3D:qre};var rRe=["value","category","time","log"];function iRe(t,e,r,i,n){rRe.forEach(function(a){var s=r.extend({type:e+"Axis3D."+a,__ordinalMeta:null,mergeDefaultAndTheme:function(o,u){var l=u.getTheme();et(o,l.get(a+"Axis3D")),et(o,this.getDefaultOption()),o.type=i(e,o)},optionUpdated:function(){var o=this.option;o.type==="category"&&(this.__ordinalMeta=N3.createByAxisModel(this))},getCategories:function(){if(this.option.type==="category")return this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:et(ht(tRe[a+"Axis3D"]),n||{},!0)});t.registerComponentModel(s)}),t.registerSubTypeDefaulter(e+"Axis3D",mt(i,e))}function nRe(t,e){return e.type||(e.data?"category":"value")}function aRe(t){t.registerComponentModel(aC),t.registerComponentView(bOe),t.registerCoordinateSystem("grid3D",JOe),["x","y","z"].forEach(function(e){iRe(t,e,Wre,nRe,{name:e.toUpperCase()});const r=t.ComponentView.extend({type:e+"Axis3D"});t.registerComponentView(r)}),t.registerAction({type:"grid3DChangeCamera",event:"grid3dcamerachanged",update:"series:updateCamera"},function(e,r){r.eachComponent({mainType:"grid3D",query:e},function(i){i.setView(e)})}),t.registerAction({type:"grid3DShowAxisPointer",event:"grid3dshowaxispointer",update:"grid3D:showAxisPointer"},function(e,r){}),t.registerAction({type:"grid3DHideAxisPointer",event:"grid3dhideaxispointer",update:"grid3D:hideAxisPointer"},function(e,r){})}ft(aRe);const wg={defaultOption:{shading:null,realisticMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},lambertMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},colorMaterial:{textureTiling:1,textureOffset:0,detailTexture:null},hatchingMaterial:{textureTiling:1,textureOffset:0,paperColor:"#fff"}}},Xre={getFilledRegions:function(t,e){var r=(t||[]).slice(),i;if(typeof e=="string"?(e=nw(e),i=e&&e.geoJson):e&&e.features&&(i=e),!i)return[];for(var n={},a=i.features,s=0;s<r.length;s++)n[r[s].name]=r[s];for(var s=0;s<a.length;s++){var o=a[s].properties.name;n[o]||r.push({name:o})}return r},defaultOption:{show:!0,zlevel:-10,map:"",left:0,top:0,width:"100%",height:"100%",boxWidth:100,boxHeight:10,boxDepth:"auto",regionHeight:3,environment:"auto",groundPlane:{show:!1,color:"#aaa"},shading:"lambert",light:{main:{alpha:40,beta:30}},viewControl:{alpha:40,beta:0,distance:100,orthographicSize:60,minAlpha:5,minBeta:-80,maxBeta:80},label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}};var Dg=Dt.extend({type:"geo3D",layoutMode:"box",coordinateSystem:null,optionUpdated:function(){var t=this.option;t.regions=this.getFilledRegions(t.regions,t.map);var e=Pm(t.data||[],{coordDimensions:["value"],encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),r=new Xr(e,this);r.initData(t.regions);var i={};r.each(function(n){var a=r.getName(n),s=r.getItemModel(n);i[a]=s}),this._regionModelMap=i,this._data=r},getData:function(){return this._data},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new Xt(null,this)},getRegionPolygonCoords:function(t){var e=this.getData().getName(t),r=this.coordinateSystem.getRegion(e);return r?r.geometries:[]},getFormattedLabel:function(t,e){var r=this._data.getName(t),i=this.getRegionModel(t),n=i.get(e==="normal"?["label","formatter"]:["emphasis","label","formatter"]);n==null&&(n=i.get(["label","formatter"]));var a={name:r};if(typeof n=="function")return a.status=e,n(a);if(typeof n=="string"){var s=a.seriesName;return n.replace("{a}",s??"")}else return r},defaultOption:{regions:[]}});et(Dg.prototype,Xre);et(Dg.prototype,nC);et(Dg.prototype,Sg);et(Dg.prototype,Tg);et(Dg.prototype,wg);function Zre(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,a=Kre(t,0,n,r,!0),s=[];if(!a)return s;var o,u,l,c,h,f,d;if(i&&(a=cRe(t,e,a,r)),t.length>80*r){o=l=t[0],u=c=t[1];for(var p=r;p<n;p+=r)h=t[p],f=t[p+1],h<o&&(o=h),f<u&&(u=f),h>l&&(l=h),f>c&&(c=f);d=Math.max(l-o,c-u)}return im(a,s,r,o,u,d),s}function Kre(t,e,r,i,n){var a,s;if(n===oD(t,e,r,i)>0)for(a=e;a<r;a+=i)s=zU(a,t[a],t[a+1],s);else for(a=r-i;a>=e;a-=i)s=zU(a,t[a],t[a+1],s);return s&&xh(s,s.next)&&(am(s),s=s.next),s}function rm(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&(xh(r,r.next)||na(r.prev,r,r.next)===0)){if(am(r),r=e=r.prev,r===r.next)return null;i=!0}else r=r.next;while(i||r!==e);return e}function im(t,e,r,i,n,a,s){if(t){!s&&a&&pRe(t,i,n,a);for(var o=t,u,l;t.prev!==t.next;){if(u=t.prev,l=t.next,a?oRe(t,i,n,a):sRe(t)){e.push(u.i/r),e.push(t.i/r),e.push(l.i/r),am(t),t=l.next,o=l.next;continue}if(t=l,t===o){s?s===1?(t=uRe(t,e,r),im(t,e,r,i,n,a,2)):s===2&&lRe(t,e,r,i,n,a):im(rm(t),e,r,i,n,a,1);break}}}}function sRe(t){var e=t.prev,r=t,i=t.next;if(na(e,r,i)>=0)return!1;for(var n=t.next.next;n!==t.prev;){if(d4(e.x,e.y,r.x,r.y,i.x,i.y,n.x,n.y)&&na(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function oRe(t,e,r,i){var n=t.prev,a=t,s=t.next;if(na(n,a,s)>=0)return!1;for(var o=n.x<a.x?n.x<s.x?n.x:s.x:a.x<s.x?a.x:s.x,u=n.y<a.y?n.y<s.y?n.y:s.y:a.y<s.y?a.y:s.y,l=n.x>a.x?n.x>s.x?n.x:s.x:a.x>s.x?a.x:s.x,c=n.y>a.y?n.y>s.y?n.y:s.y:a.y>s.y?a.y:s.y,h=aD(o,u,e,r,i),f=aD(l,c,e,r,i),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&d4(n.x,n.y,a.x,a.y,s.x,s.y,d.x,d.y)&&na(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&d4(n.x,n.y,a.x,a.y,s.x,s.y,d.x,d.y)&&na(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function uRe(t,e,r){var i=t;do{var n=i.prev,a=i.next.next;!xh(n,a)&&Jre(n,i,i.next,a)&&nm(n,a)&&nm(a,n)&&(e.push(n.i/r),e.push(i.i/r),e.push(a.i/r),am(i),am(i.next),i=t=a),i=i.next}while(i!==t);return i}function lRe(t,e,r,i,n,a){var s=t;do{for(var o=s.next.next;o!==s.prev;){if(s.i!==o.i&&mRe(s,o)){var u=Qre(s,o);s=rm(s,s.next),u=rm(u,u.next),im(s,e,r,i,n,a),im(u,e,r,i,n,a);return}o=o.next}s=s.next}while(s!==t)}function cRe(t,e,r,i){var n=[],a,s,o,u,l;for(a=0,s=e.length;a<s;a++)o=e[a]*i,u=a<s-1?e[a+1]*i:t.length,l=Kre(t,o,u,i,!1),l===l.next&&(l.steiner=!0),n.push(vRe(l));for(n.sort(hRe),a=0;a<n.length;a++)fRe(n[a],r),r=rm(r,r.next);return r}function hRe(t,e){return t.x-e.x}function fRe(t,e){if(e=dRe(t,e),e){var r=Qre(e,t);rm(r,r.next)}}function dRe(t,e){var r=e,i=t.x,n=t.y,a=-1/0,s;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var o=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=i&&o>a){if(a=o,o===i){if(n===r.y)return r;if(n===r.next.y)return r.next}s=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!s)return null;if(i===a)return s.prev;var u=s,l=s.x,c=s.y,h=1/0,f;for(r=s.next;r!==u;)i>=r.x&&r.x>=l&&i!==r.x&&d4(n<c?i:a,n,l,c,n<c?a:i,n,r.x,r.y)&&(f=Math.abs(n-r.y)/(i-r.x),(f<h||f===h&&r.x>s.x)&&nm(r,t)&&(s=r,h=f)),r=r.next;return s}function pRe(t,e,r,i){var n=t;do n.z===null&&(n.z=aD(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,gRe(n)}function gRe(t){var e,r,i,n,a,s,o,u,l=1;do{for(r=t,t=null,a=null,s=0;r;){for(s++,i=r,o=0,e=0;e<l&&(o++,i=i.nextZ,!!i);e++);for(u=l;o>0||u>0&&i;)o!==0&&(u===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,o--):(n=i,i=i.nextZ,u--),a?a.nextZ=n:t=n,n.prevZ=a,a=n;r=i}a.nextZ=null,l*=2}while(s>1);return t}function aD(t,e,r,i,n){return t=32767*(t-r)/n,e=32767*(e-i)/n,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function vRe(t){var e=t,r=t;do e.x<r.x&&(r=e),e=e.next;while(e!==t);return r}function d4(t,e,r,i,n,a,s,o){return(n-s)*(e-o)-(t-s)*(a-o)>=0&&(t-s)*(i-o)-(r-s)*(e-o)>=0&&(r-s)*(a-o)-(n-s)*(i-o)>=0}function mRe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!yRe(t,e)&&nm(t,e)&&nm(e,t)&&_Re(t,e)}function na(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function xh(t,e){return t.x===e.x&&t.y===e.y}function Jre(t,e,r,i){return xh(t,e)&&xh(r,i)||xh(t,i)&&xh(r,e)?!0:na(t,e,r)>0!=na(t,e,i)>0&&na(r,i,t)>0!=na(r,i,e)>0}function yRe(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Jre(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function nm(t,e){return na(t.prev,t,t.next)<0?na(t,e,t.next)>=0&&na(t,t.prev,e)>=0:na(t,e,t.prev)<0||na(t,t.next,e)<0}function _Re(t,e){var r=t,i=!1,n=(t.x+e.x)/2,a=(t.y+e.y)/2;do r.y>a!=r.next.y>a&&r.next.y!==r.y&&n<(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function Qre(t,e){var r=new sD(t.i,t.x,t.y),i=new sD(e.i,e.x,e.y),n=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,a.next=i,i.prev=a,i}function zU(t,e,r,i){var n=new sD(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function am(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function sD(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Zre.deviation=function(t,e,r,i){var n=e&&e.length,a=n?e[0]*r:t.length,s=Math.abs(oD(t,0,a,r));if(n)for(var o=0,u=e.length;o<u;o++){var l=e[o]*r,c=o<u-1?e[o+1]*r:t.length;s-=Math.abs(oD(t,l,c,r))}var h=0;for(o=0;o<i.length;o+=3){var f=i[o]*r,d=i[o+1]*r,p=i[o+2]*r;h+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return s===0&&h===0?0:Math.abs((h-s)/s)};function oD(t,e,r,i){for(var n=0,a=e,s=r-i;a<r;a+=i)n+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return n}function _T(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function eie(t,e,r,i,n){var a=r,s=t[e];_T(t,e,i);for(var o=r;o<i;o++)n(t[o],s)<0&&(_T(t,o,a),a++);return _T(t,i,a),a}function p4(t,e,r,i){if(r<i){var n=Math.floor((r+i)/2),a=eie(t,n,r,i,e);p4(t,e,r,a-1),p4(t,e,a+1,i)}}function zp(){this._parts=[]}zp.prototype.step=function(t,e,r){var i=t.length;if(r===0){this._parts=[],this._sorted=!1;var n=Math.floor(i/2);this._parts.push({pivot:n,left:0,right:i-1}),this._currentSortPartIdx=0}if(!this._sorted){var a=this._parts;if(a.length===0)return this._sorted=!0,!0;if(a.length<512){for(var s=0;s<a.length;s++)a[s].pivot=eie(t,a[s].pivot,a[s].left,a[s].right,e);for(var o=[],s=0;s<a.length;s++){var u=a[s].left,l=a[s].pivot-1;l>u&&o.push({pivot:Math.floor((l+u)/2),left:u,right:l});var u=a[s].pivot+1,l=a[s].right;l>u&&o.push({pivot:Math.floor((l+u)/2),left:u,right:l})}a=this._parts=o}else for(var s=0;s<Math.floor(a.length/10);s++){var c=a.length-1-this._currentSortPartIdx;if(p4(t,e,a[c].left,a[c].right),this._currentSortPartIdx++,this._currentSortPartIdx===a.length)return this._sorted=!0,!0}return!1}};zp.sort=p4;var ep=_i.vec3,HU=ep.create(),GU=ep.create(),UU=ep.create();const pI={needsSortTriangles:function(){return this.indices&&this.sortTriangles},needsSortTrianglesProgressively:function(){return this.needsSortTriangles()&&this.triangleCount>=2e4},doSortTriangles:function(t,e){var r=this.indices;if(e===0){var i=this.attributes.position,t=t.array;(!this._triangleZList||this._triangleZList.length!==this.triangleCount)&&(this._triangleZList=new Float32Array(this.triangleCount),this._sortedTriangleIndices=new Uint32Array(this.triangleCount),this._indicesTmp=new r.constructor(r.length),this._triangleZListTmp=new Float32Array(this.triangleCount));for(var n=0,a,s=0;s<r.length;){i.get(r[s++],HU),i.get(r[s++],GU),i.get(r[s++],UU);var o=ep.sqrDist(HU,t),u=ep.sqrDist(GU,t),l=ep.sqrDist(UU,t),c=Math.min(o,u);c=Math.min(c,l),s===3?(a=c,c=0):c=c-a,this._triangleZList[n++]=c}}for(var h=this._sortedTriangleIndices,s=0;s<h.length;s++)h[s]=s;if(this.triangleCount<2e4)e===0&&this._simpleSort(!0);else for(var s=0;s<3;s++)this._progressiveQuickSort(e*3+s);for(var f=this._indicesTmp,d=this._triangleZListTmp,p=this._triangleZList,s=0;s<this.triangleCount;s++){var g=h[s]*3,v=s*3;f[v++]=r[g++],f[v++]=r[g++],f[v]=r[g],d[s]=p[h[s]]}var m=this._indicesTmp;this._indicesTmp=this.indices,this.indices=m;var m=this._triangleZListTmp;this._triangleZListTmp=this._triangleZList,this._triangleZList=m,this.dirtyIndices()},_simpleSort:function(t){var e=this._triangleZList,r=this._sortedTriangleIndices;function i(n,a){return e[a]-e[n]}t?Array.prototype.sort.call(r,i):zp.sort(r,i,0,r.length-1)},_progressiveQuickSort:function(t){var e=this._triangleZList,r=this._sortedTriangleIndices;this._quickSort=this._quickSort||new zp,this._quickSort.step(r,function(i,n){return e[n]-e[i]},t)}};function xRe(t){const e=t.getVisual("style");if(e){const r=t.getVisual("drawType");return e[r]}}function bRe(t){return t.getVisual("style").opacity}function Xi(t,e){const r=t.getItemVisual(e,"style");if(r){const i=t.getVisual("drawType");return r[i]}}function $i(t,e){const r=t.getItemVisual(e,"style");return r&&r.opacity}var tie=1,rie=2;function Bl(t,e,r){this._labelsMesh=new lI,this._labelTextureSurface=new c4({width:512,height:512,devicePixelRatio:r.getDevicePixelRatio(),onupdate:function(){r.getZr().refresh()}}),this._api=r,this._labelsMesh.material.set("textureAtlas",this._labelTextureSurface.getTexture())}Bl.prototype.getLabelPosition=function(t,e,r){return[0,0,0]};Bl.prototype.getLabelDistance=function(t,e,r){return 0};Bl.prototype.getMesh=function(){return this._labelsMesh};Bl.prototype.updateData=function(t,e,r){e==null&&(e=0),r==null&&(r=t.count()),(!this._labelsVisibilitiesBits||this._labelsVisibilitiesBits.length!==r-e)&&(this._labelsVisibilitiesBits=new Uint8Array(r-e));for(var i=["label","show"],n=["emphasis","label","show"],a=e;a<r;a++){var s=t.getItemModel(a),o=s.get(i),u=s.get(n);u==null&&(u=o);var l=(o?tie:0)|(u?rie:0);this._labelsVisibilitiesBits[a-e]=l}this._start=e,this._end=r,this._data=t};Bl.prototype.updateLabels=function(t){if(this._data){t=t||[];for(var e=t.length>0,r={},i=0;i<t.length;i++)r[t[i]]=!0;this._labelsMesh.geometry.convertToDynamicArray(!0),this._labelTextureSurface.clear();for(var n=["label"],a=["emphasis","label"],s=this._data.hostModel,o=this._data,u=s.getModel(n),l=s.getModel(a,u),c={left:"right",right:"left",top:"center",bottom:"center"},h={left:"middle",right:"middle",top:"bottom",bottom:"top"},f=this._start;f<this._end;f++){var d=!1;e&&r[f]&&(d=!0);var p=this._labelsVisibilitiesBits[f-this._start]&(d?rie:tie);if(p){var g=o.getItemModel(f),v=g.getModel(d?a:n,d?l:u),m=v.get("distance")||0,y=v.get("position"),_=this._api.getDevicePixelRatio(),x=s.getFormattedLabel(f,d?"emphasis":"normal");if(x==null||x==="")return;var b=new zt({style:pr(v,{text:x,fill:v.get("color")||Xi(o,f)||"#000",align:"left",verticalAlign:"top",opacity:jt.firstNotNull(v.get("opacity"),$i(o,f),1)})}),C=b.getBoundingRect(),E=1.2;C.height*=E;var A=this._labelTextureSurface.add(b),S=c[y]||"center",T=h[y]||"bottom";this._labelsMesh.geometry.addSprite(this.getLabelPosition(f,y,m),[C.width*_,C.height*_],A,S,T,this.getLabelDistance(f,y,m)*_)}}this._labelsMesh.material.set("uvScale",this._labelTextureSurface.getCoordsScale()),this._labelTextureSurface.getZr().refreshImmediately(),this._labelsMesh.geometry.convertToTypedArray(),this._labelsMesh.geometry.dirty()}};Bl.prototype.dispose=function(){this._labelTextureSurface.dispose()};var Ta=_i.vec3;Z.Shader.import(oC);function Hp(t){this.rootNode=new Z.Node,this._triangulationResults={},this._shadersMap=Z.COMMON_SHADERS.filter(function(r){return r!=="shadow"}).reduce(function(r,i){return r[i]=Z.createShader("ecgl."+i),r},{}),this._linesShader=Z.createShader("ecgl.meshLines3D");var e={};Z.COMMON_SHADERS.forEach(function(r){e[r]=new Z.Material({shader:Z.createShader("ecgl."+r)})}),this._groundMaterials=e,this._groundMesh=new Z.Mesh({geometry:new Z.PlaneGeometry({dynamic:!0}),castShadow:!1,renderNormal:!0,$ignorePicking:!0}),this._groundMesh.rotation.rotateX(-Math.PI/2),this._labelsBuilder=new Bl(512,512,t),this._labelsBuilder.getMesh().renderOrder=100,this._labelsBuilder.getMesh().material.depthTest=!1,this.rootNode.add(this._labelsBuilder.getMesh()),this._initMeshes(),this._api=t}Hp.prototype={constructor:Hp,extrudeY:!0,update:function(t,e,r,i,n){var a=t.getData();i==null&&(i=0),n==null&&(n=a.count()),this._startIndex=i,this._endIndex=n-1,this._triangulation(t,i,n);var s=this._getShader(t.get("shading"));this._prepareMesh(t,s,r,i,n),this.rootNode.updateWorldTransform(),this._updateRegionMesh(t,r,i,n);var o=t.coordinateSystem;o.type==="geo3D"&&this._updateGroundPlane(t,o,r);var u=this;this._labelsBuilder.updateData(a,i,n),this._labelsBuilder.getLabelPosition=function(l,c,h){var f=a.getName(l),d,p=h;if(o.type==="geo3D"){var g=o.getRegion(f);if(!g)return[NaN,NaN,NaN];d=g.getCenter();var v=o.dataToPoint([d[0],d[1],p]);return v}else var m=u._triangulationResults[l-u._startIndex],d=u.extrudeY?[(m.max[0]+m.min[0])/2,m.max[1]+p,(m.max[2]+m.min[2])/2]:[(m.max[0]+m.min[0])/2,(m.max[1]+m.min[1])/2,m.max[2]+p]},this._data=a,this._labelsBuilder.updateLabels(),this._updateDebugWireframe(t),this._lastHoverDataIndex=0},_initMeshes:function(){var t=this;function e(){var n=new Z.Mesh({name:"Polygon",material:new Z.Material({shader:t._shadersMap.lambert}),geometry:new Z.Geometry({sortTriangles:!0,dynamic:!0}),culling:!1,ignorePicking:!0,renderNormal:!0});return Object.assign(n.geometry,pI),n}var r=e(),i=new Z.Mesh({material:new Z.Material({shader:this._linesShader}),castShadow:!1,ignorePicking:!0,$ignorePicking:!0,geometry:new qc({useNativeLine:!1})});this.rootNode.add(r),this.rootNode.add(i),r.material.define("both","VERTEX_COLOR"),r.material.define("fragment","DOUBLE_SIDED"),this._polygonMesh=r,this._linesMesh=i,this.rootNode.add(this._groundMesh)},_getShader:function(t){var e=this._shadersMap[t];return e||(e=this._shadersMap.lambert),e.__shading=t,e},_prepareMesh:function(t,e,r,i,n){for(var a=0,s=0,o=0,u=0,l=i;l<n;l++){var c=this._getRegionPolygonInfo(l),h=this._getRegionLinesInfo(l,t,this._linesMesh.geometry);a+=c.vertexCount,s+=c.triangleCount,o+=h.vertexCount,u+=h.triangleCount}var f=this._polygonMesh,d=f.geometry;["position","normal","texcoord0","color"].forEach(function(p){d.attributes[p].init(a)}),d.indices=a>65535?new Uint32Array(s*3):new Uint16Array(s*3),f.material.shader!==e&&f.material.attachShader(e,!0),Z.setMaterialFromModel(e.__shading,f.material,t,r),o>0&&(this._linesMesh.geometry.resetOffset(),this._linesMesh.geometry.setVertexCount(o),this._linesMesh.geometry.setTriangleCount(u)),this._dataIndexOfVertex=new Uint32Array(a),this._vertexRangeOfDataIndex=new Uint32Array((n-i)*2)},_updateRegionMesh:function(t,e,r,i){for(var n=t.getData(),a=0,s=0,o=!1,C=this._polygonMesh,u=this._linesMesh,l=r;l<i;l++){var c=t.getRegionModel(l),h=c.getModel("itemStyle"),f=jt.firstNotNull(Xi(n,l),h.get("color"),"#fff"),d=jt.firstNotNull($i(n,l),h.get("opacity"),1),p=Z.parseColor(f),g=Z.parseColor(h.get("borderColor"));p[3]*=d,g[3]*=d;var v=p[3]<.99;C.material.set("color",[1,1,1,1]),o=o||v;for(var m=jt.firstNotNull(c.get("height",!0),t.get("regionHeight")),y=this._updatePolygonGeometry(t,C.geometry,l,m,a,s,p),_=a;_<y.vertexOffset;_++)this._dataIndexOfVertex[_]=l;this._vertexRangeOfDataIndex[(l-r)*2]=a,this._vertexRangeOfDataIndex[(l-r)*2+1]=y.vertexOffset,a=y.vertexOffset,s=y.triangleOffset;var x=h.get("borderWidth"),b=x>0;b&&(x*=e.getDevicePixelRatio(),this._updateLinesGeometry(u.geometry,t,l,m,x,t.coordinateSystem.transform)),u.invisible=!b,u.material.set({color:g})}var C=this._polygonMesh;C.material.transparent=o,C.material.depthMask=!o,C.geometry.updateBoundingBox(),C.frontFace=this.extrudeY?Z.Mesh.CCW:Z.Mesh.CW,C.material.get("normalMap")&&C.geometry.generateTangents(),C.seriesIndex=t.seriesIndex,C.on("mousemove",this._onmousemove,this),C.on("mouseout",this._onmouseout,this)},_updateDebugWireframe:function(t){var e=t.getModel("debug.wireframe");if(e.get("show")){var r=Z.parseColor(e.get("lineStyle.color")||"rgba(0,0,0,0.5)"),i=jt.firstNotNull(e.get("lineStyle.width"),1),n=this._polygonMesh;n.geometry.generateBarycentric(),n.material.define("both","WIREFRAME_TRIANGLE"),n.material.set("wireframeLineColor",r),n.material.set("wireframeLineWidth",i)}},_onmousemove:function(t){var e=this._dataIndexOfVertex[t.triangle[0]];e==null&&(e=-1),e!==this._lastHoverDataIndex&&(this.downplay(this._lastHoverDataIndex),this.highlight(e),this._labelsBuilder.updateLabels([e])),this._lastHoverDataIndex=e,this._polygonMesh.dataIndex=e},_onmouseout:function(t){t.target&&(this.downplay(this._lastHoverDataIndex),this._lastHoverDataIndex=-1,this._polygonMesh.dataIndex=-1),this._labelsBuilder.updateLabels([])},_updateGroundPlane:function(t,e,r){var i=t.getModel("groundPlane",t);if(this._groundMesh.invisible=!i.get("show",!0),!this._groundMesh.invisible){var n=t.get("shading"),a=this._groundMaterials[n];a||(a=this._groundMaterials.lambert),Z.setMaterialFromModel(n,a,i,r),a.get("normalMap")&&this._groundMesh.geometry.generateTangents(),this._groundMesh.material=a,this._groundMesh.material.set("color",Z.parseColor(i.get("color"))),this._groundMesh.scale.set(e.size[0],e.size[2],1)}},_triangulation:function(t,e,r){this._triangulationResults=[];for(var i=[1/0,1/0,1/0],n=[-1/0,-1/0,-1/0],a=t.coordinateSystem,s=e;s<r;s++){for(var o=[],u=t.getRegionPolygonCoords(s),l=0;l<u.length;l++){var c=u[l].exterior,h=u[l].interiors,f=[],d=[];if(!(c.length<3)){for(var p=0,g=0;g<c.length;g++){var v=c[g];f[p++]=v[0],f[p++]=v[1]}for(var g=0;g<h.length;g++)if(!(h[g].length<3)){for(var m=f.length/2,y=0;y<h[g].length;y++){var v=h[g][y];f.push(v[0]),f.push(v[1])}d.push(m)}for(var _=Zre(f,d),x=new Float64Array(f.length/2*3),b=[],C=[1/0,1/0,1/0],E=[-1/0,-1/0,-1/0],A=0,g=0;g<f.length;)Ta.set(b,f[g++],0,f[g++]),a&&a.transform&&Ta.transformMat4(b,b,a.transform),Ta.min(C,C,b),Ta.max(E,E,b),x[A++]=b[0],x[A++]=b[1],x[A++]=b[2];Ta.min(i,i,C),Ta.max(n,n,E),o.push({points:x,indices:_,min:C,max:E})}}this._triangulationResults.push(o)}this._geoBoundingBox=[i,n]},_getRegionPolygonInfo:function(t){for(var e=this._triangulationResults[t-this._startIndex],r=0,i=0,n=0;n<e.length;n++)r+=e[n].points.length/3,i+=e[n].indices.length/3;var a=r*2+r*4,s=i*2+r*2;return{vertexCount:a,triangleCount:s}},_updatePolygonGeometry:function(t,e,r,i,n,a,s){var o=t.get("projectUVOnGround"),u=e.attributes.position,l=e.attributes.normal,c=e.attributes.texcoord0,h=e.attributes.color,f=this._triangulationResults[r-this._startIndex],d=h.value&&s,p=e.indices,g=this.extrudeY?1:2,v=this.extrudeY?2:1,m=[this.rootNode.worldTransform.x.len(),this.rootNode.worldTransform.y.len(),this.rootNode.worldTransform.z.len()],y=Ta.mul([],this._geoBoundingBox[0],m),_=Ta.mul([],this._geoBoundingBox[1],m),x=Math.max(_[0]-y[0],_[2]-y[2]);function b(le,pe,xe){for(var be=le.points,q=be.length,J=[],se=[],ve=0;ve<q;ve+=3)J[0]=be[ve],J[g]=pe,J[v]=be[ve+2],se[0]=(be[ve]*m[0]-y[0])/x,se[1]=(be[ve+2]*m[v]-y[2])/x,u.set(n,J),d&&h.set(n,s),c.set(n++,se)}function C(le,pe,xe){var be=n;b(le,pe);for(var q=le.indices.length,J=0;J<q;J++)p[a*3+J]=le.indices[J]+be;a+=le.indices.length/3}for(var E=this.extrudeY?[0,1,0]:[0,0,1],A=Ta.negate([],E),S=0;S<f.length;S++){var T=n,D=f[S];C(D,0),C(D,i);for(var F=D.points.length/3,B=0;B<F;B++)l.set(T+B,A),l.set(T+B+F,E);for(var O=[0,3,1,1,3,2],M=[[],[],[],[]],R=[],z=[],k=[],U=[],V=0,B=0;B<F;B++){for(var j=(B+1)%F,Y=(D.points[j*3]-D.points[B*3])*m[0],te=(D.points[j*3+2]-D.points[B*3+2])*m[v],re=Math.sqrt(Y*Y+te*te),de=0;de<4;de++){var Oe=de===0||de===3,he=(Oe?B:j)*3;M[de][0]=D.points[he],M[de][g]=de>1?i:0,M[de][v]=D.points[he+2],u.set(n+de,M[de]),o?(U[0]=(D.points[he]*m[0]-y[0])/x,U[1]=(D.points[he+2]*m[v]-y[v])/x):(U[0]=(Oe?V:V+re)/x,U[1]=(M[de][g]*m[g]-y[g])/x),c.set(n+de,U)}Ta.sub(R,M[1],M[0]),Ta.sub(z,M[3],M[0]),Ta.cross(k,R,z),Ta.normalize(k,k);for(var de=0;de<4;de++)l.set(n+de,k),d&&h.set(n+de,s);for(var de=0;de<6;de++)p[a*3+de]=O[de]+n;n+=4,a+=2,V+=re}}return e.dirty(),{vertexOffset:n,triangleOffset:a}},_getRegionLinesInfo:function(t,e,r){var i=0,n=0,a=e.getRegionModel(t),s=a.getModel("itemStyle"),o=s.get("borderWidth");if(o>0){var u=e.getRegionPolygonCoords(t);u.forEach(function(l){var c=l.exterior,h=l.interiors;i+=r.getPolylineVertexCount(c),n+=r.getPolylineTriangleCount(c);for(var f=0;f<h.length;f++)i+=r.getPolylineVertexCount(h[f]),n+=r.getPolylineTriangleCount(h[f])},this)}return{vertexCount:i,triangleCount:n}},_updateLinesGeometry:function(t,e,r,i,n,a){function s(l){for(var c=new Float64Array(l.length*3),h=0,f=[],d=0;d<l.length;d++)f[0]=l[d][0],f[1]=i+.1,f[2]=l[d][1],a&&Ta.transformMat4(f,f,a),c[h++]=f[0],c[h++]=f[1],c[h++]=f[2];return c}var o=[1,1,1,1],u=e.getRegionPolygonCoords(r);u.forEach(function(l){var c=l.exterior,h=l.interiors;t.addPolyline(s(c),o,n);for(var f=0;f<h.length;f++)t.addPolyline(s(h[f]),o,n)})},highlight:function(t){var e=this._data;if(e){var r=e.getItemModel(t),i=r.getModel(["emphasis","itemStyle"]),n=i.get("color"),a=jt.firstNotNull(i.get("opacity"),$i(e,t),1);if(n==null){var s=Xi(e,t);n=Ep(s,-.4)}a==null&&(a=$i(e,t));var o=Z.parseColor(n);o[3]*=a,this._setColorOfDataIndex(e,t,o)}},downplay:function(t){var e=this._data;if(e){var r=e.getItemModel(t),i=jt.firstNotNull(Xi(e,t),r.get(["itemStyle","color"]),"#fff"),n=jt.firstNotNull($i(e,t),r.get(["itemStyle","opacity"]),1),a=Z.parseColor(i);a[3]*=n,this._setColorOfDataIndex(e,t,a)}},dispose:function(){this._labelsBuilder.dispose()},_setColorOfDataIndex:function(t,e,r){if(!(e<this._startIndex&&e>this._endIndex)){e-=this._startIndex;for(var i=this._vertexRangeOfDataIndex[e*2];i<this._vertexRangeOfDataIndex[e*2+1];i++)this._polygonMesh.geometry.attributes.color.set(i,r);this._polygonMesh.geometry.dirty(),this._api.getZr().refresh()}}};const CRe=_r.extend({type:"geo3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new Hp(e),this.groupGL=new Z.Node,this._lightRoot=new Z.Node,this._sceneHelper=new Gc(this._lightRoot),this._sceneHelper.initLight(this._lightRoot),this._control=new $m({zr:e.getZr()}),this._control.init()},render:function(t,e,r){this.groupGL.add(this._geo3DBuilder.rootNode);var i=t.coordinateSystem;if(!(!i||!i.viewGL)){i.viewGL.add(this._lightRoot),t.get("show")?i.viewGL.add(this.groupGL):i.viewGL.remove(this.groupGL);var n=this._control;n.setViewGL(i.viewGL);var a=t.getModel("viewControl");n.setFromViewControlModel(a,0),this._sceneHelper.setScene(i.viewGL.scene),this._sceneHelper.updateLight(t),i.viewGL.setPostEffect(t.getModel("postEffect"),r),i.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._geo3DBuilder.update(t,e,r,0,t.getData().count());var s=i.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(o){o.material&&o.material[s]("fragment","SRGB_DECODE")}),n.off("update"),n.on("update",function(){r.dispatchAction({type:"geo3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),center:n.getCenter(),from:this.uid,geo3DId:t.id})}),n.update()}},afterRender:function(t,e,r,i){var n=i.renderer;this._sceneHelper.updateAmbientCubemap(n,t,r),this._sceneHelper.updateSkybox(n,t,r)},dispose:function(){this._control.dispose(),this._geo3DBuilder.dispose()}});var ERe={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]};function SRe(t,e){if(t==="world"){var r=ERe[e.name];if(r){var i=[r[0],r[1]];e.setCenter(i)}}}var TRe=_i.vec3,Od=_i.mat4,ARe=[see,SRe];function g4(t,e,r,i,n){this.name=t,this.map=e,this.regionHeight=0,this.regions=[],this._nameCoordMap={},this.loadGeoJson(r,i,n),this.transform=Od.identity(new Float64Array(16)),this.invTransform=Od.identity(new Float64Array(16)),this.extrudeY=!0,this.altitudeAxis}g4.prototype={constructor:g4,type:"geo3D",dimensions:["lng","lat","alt"],containPoint:function(){},loadGeoJson:function(t,e,r){var i=ow||ow;try{this.regions=t?i(t):[]}catch(l){throw`Invalid geoJson format
`+l}e=e||{},r=r||{};for(var n=this.regions,a={},s=0;s<n.length;s++){var o=n[s].name;o=r[o]||o,n[s].name=o,a[o]=n[s],this.addGeoCoord(o,n[s].getCenter());var u=e[o];u&&n[s].transformTo(u.left,u.top,u.width,u.height)}this._regionsMap=a,this._geoRect=null,ARe.forEach(function(l){l(this)},this)},getGeoBoundingRect:function(){if(this._geoRect)return this._geoRect;for(var t,e=this.regions,r=0;r<e.length;r++){var i=e[r].getBoundingRect();t=t||i.clone(),t.union(i)}return this._geoRect=t||new Et(0,0,0,0)},addGeoCoord:function(t,e){this._nameCoordMap[t]=e},getRegion:function(t){return this._regionsMap[t]},getRegionByCoord:function(t){for(var e=this.regions,r=0;r<e.length;r++)if(e[r].contain(t))return e[r]},setSize:function(t,e,r){this.size=[t,e,r];var i=this.getGeoBoundingRect(),n=t/i.width,a=-r/i.height,s=-t/2-i.x*n,o=r/2-i.y*a,u=this.extrudeY?[s,0,o]:[s,o,0],l=this.extrudeY?[n,1,a]:[n,a,1],c=this.transform;Od.identity(c),Od.translate(c,c,u),Od.scale(c,c,l),Od.invert(this.invTransform,c)},dataToPoint:function(t,e){e=e||[];var r=this.extrudeY?1:2,i=this.extrudeY?2:1,n=t[2];return isNaN(n)&&(n=0),e[0]=t[0],e[i]=t[1],this.altitudeAxis?e[r]=this.altitudeAxis.dataToCoord(n):e[r]=0,e[r]+=this.regionHeight,TRe.transformMat4(e,e,this.transform),e},pointToData:function(t,e){}};function wRe(t,e){var r=t.getBoxLayoutParams(),i=ai(r,{width:e.getWidth(),height:e.getHeight()});i.y=e.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,e.getDevicePixelRatio());var n=this.getGeoBoundingRect(),a=n.width/n.height*(t.get("aspectScale")||.75),s=t.get("boxWidth"),o=t.get("boxDepth"),u=t.get("boxHeight");u==null&&(u=5),isNaN(s)&&isNaN(o)&&(s=100),isNaN(o)?o=s/a:isNaN(s)&&(s=o/a),this.setSize(s,u,o),this.regionHeight=t.get("regionHeight"),this.altitudeAxis&&this.altitudeAxis.setExtent(0,Math.max(u-this.regionHeight,0))}function DRe(t,e){var r=[1/0,-1/0];if(t.eachSeries(function(n){if(n.coordinateSystem===this&&n.type!=="series.map3D"){var a=n.getData(),s=n.coordDimToDataDim("alt"),o=s&&s[0];if(o){var u=a.getDataExtent(o,!0);r[0]=Math.min(r[0],u[0]),r[1]=Math.max(r[1],u[1])}}},this),r&&isFinite(r[1]-r[0])){var i=Z9(r,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new _a("altitude",i),this.resize(this.model,e)}}var jU=0,gI={dimensions:g4.prototype.dimensions,create:function(t,e){var r=[];if(!nw)throw new Error("geo3D component depends on geo component");function i(n,a){var s=gI.createGeo3D(n);n.__viewGL=n.__viewGL||new yr,s.viewGL=n.__viewGL,n.coordinateSystem=s,s.model=n,r.push(s),s.resize=wRe,s.resize(n,e),s.update=DRe}return t.eachComponent("geo3D",function(n,a){i(n)}),t.eachSeriesByType("map3D",function(n,a){var s=n.get("coordinateSystem");s==null&&(s="geo3D"),s==="geo3D"&&i(n)}),t.eachSeries(function(n){if(n.get("coordinateSystem")==="geo3D"){if(n.type==="series.map3D")return;var a=n.getReferringComponents("geo3D").models[0];if(a||(a=t.getComponent("geo3D")),!a)throw new Error('geo "'+jt.firstNotNull(n.get("geo3DIndex"),n.get("geo3DId"),0)+'" not found');n.coordinateSystem=a.coordinateSystem}}),r},createGeo3D:function(t){var e=t.get("map"),r;return typeof e=="string"?(r=e,e=nw(e)):e&&e.features&&(e={geoJson:e}),r==null&&(r="GEO_ANONYMOUS_"+jU++),new g4(r+jU++,r,e&&e.geoJson,e&&e.specialAreas,t.get("nameMap"))}};function iie(t){t.registerComponentModel(Dg),t.registerComponentView(CRe),t.registerAction({type:"geo3DChangeCamera",event:"geo3dcamerachanged",update:"series:updateCamera"},function(e,r){r.eachComponent({mainType:"geo3D",query:e},function(i){i.setView(e)})}),t.registerCoordinateSystem("geo3D",gI)}ft(iie);function VU(t,e){t.id=t.id||t.name||e+""}var sf=Dt.extend({type:"globe",layoutMode:"box",coordinateSystem:null,init:function(){sf.superApply(this,"init",arguments),G(this.option.layers,function(t,e){et(t,this.defaultLayerOption),VU(t,e)},this)},mergeOption:function(t){var e=this.option.layers;this.option.layers=null,sf.superApply(this,"mergeOption",arguments);function r(s){return _o(s,function(o,u,l){return VU(u,l),o[u.id]=u,o},{})}if(e&&e.length){var i=r(t.layers),n=r(e);for(var a in i)n[a]?et(n[a],i[a],!0):e.push(t.layers[a]);this.option.layers=e}G(this.option.layers,function(s){et(s,this.defaultLayerOption)},this)},optionUpdated:function(){this.updateDisplacementHash()},defaultLayerOption:{show:!0,type:"overlay"},defaultOption:{show:!0,zlevel:-10,left:0,top:0,width:"100%",height:"100%",environment:"auto",baseColor:"#fff",baseTexture:"",heightTexture:"",displacementTexture:"",displacementScale:0,displacementQuality:"medium",globeRadius:100,globeOuterRadius:150,shading:"lambert",light:{main:{time:""}},atmosphere:{show:!1,offset:5,color:"#ffffff",glowPower:6,innerGlowPower:2},viewControl:{autoRotate:!0,panSensitivity:0,targetCoord:null},layers:[]},setDisplacementData:function(t,e,r){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=r},getDisplacementTexture:function(){return this.get("displacementTexture")||this.get("heightTexture")},getDisplacemenScale:function(){var t=this.getDisplacementTexture(),e=this.get("displacementScale");return(!t||t==="none")&&(e=0),e},hasDisplacement:function(){return this.getDisplacemenScale()>0},_displacementChanged:!0,_displacementScale:0,updateDisplacementHash:function(){var t=this.getDisplacementTexture(),e=this.getDisplacemenScale();this._displacementChanged=this._displacementTexture!==t||this._displacementScale!==e,this._displacementTexture=t,this._displacementScale=e},isDisplacementChanged:function(){return this._displacementChanged}});et(sf.prototype,nC);et(sf.prototype,Sg);et(sf.prototype,Tg);et(sf.prototype,wg);var nie=Math.PI,Ls=Math.sin,sl=Math.cos,aie=Math.tan,sie=Math.asin,oie=Math.atan2,of=nie/180,FRe=1e3*60*60*24,IRe=2440588,BRe=2451545;function MRe(t){return t.valueOf()/FRe-.5+IRe}function PRe(t){return MRe(t)-BRe}var v4=of*23.4397;function LRe(t,e){return oie(Ls(t)*sl(v4)-aie(e)*Ls(v4),sl(t))}function ORe(t,e){return sie(Ls(e)*sl(v4)+sl(e)*Ls(v4)*Ls(t))}function RRe(t,e,r){return oie(Ls(t),sl(t)*Ls(e)-aie(r)*sl(e))}function NRe(t,e,r){return sie(Ls(e)*Ls(r)+sl(e)*sl(r)*sl(t))}function kRe(t,e){return of*(280.16+360.9856235*t)-e}function zRe(t){return of*(357.5291+.98560028*t)}function HRe(t){var e=of*(1.9148*Ls(t)+.02*Ls(2*t)+3e-4*Ls(3*t)),r=of*102.9372;return t+e+r+nie}function GRe(t){var e=zRe(t),r=HRe(e);return{dec:ORe(r,0),ra:LRe(r,0)}}var uie={};uie.getPosition=function(t,e,r){var i=of*-r,n=of*e,a=PRe(t),s=GRe(a),o=kRe(a,i)-s.ra;return{azimuth:RRe(o,n,s.dec),altitude:NRe(o,n,s.dec)}};const URe=`@export ecgl.atmosphere.vertex
attribute vec3 position: POSITION;
attribute vec3 normal : NORMAL;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform mat4 normalMatrix : WORLDINVERSETRANSPOSE;

varying vec3 v_Normal;

void main() {
 v_Normal = normalize((normalMatrix * vec4(normal, 0.0)).xyz);
 gl_Position = worldViewProjection * vec4(position, 1.0);
}
@end


@export ecgl.atmosphere.fragment
uniform mat4 viewTranspose: VIEWTRANSPOSE;
uniform float glowPower;
uniform vec3 glowColor;

varying vec3 v_Normal;

void main() {
 float intensity = pow(1.0 - dot(v_Normal, (viewTranspose * vec4(0.0, 0.0, 1.0, 0.0)).xyz), glowPower);
 gl_FragColor = vec4(glowColor, intensity * intensity);
}
@end`;Z.Shader.import(wre);Z.Shader.import(URe);const jRe=_r.extend({type:"globe",__ecgl__:!0,_displacementScale:0,init:function(t,e){this.groupGL=new Z.Node,this._sphereGeometry=new Z.SphereGeometry({widthSegments:200,heightSegments:100,dynamic:!0}),this._overlayGeometry=new Z.SphereGeometry({widthSegments:80,heightSegments:40}),this._planeGeometry=new Z.PlaneGeometry,this._earthMesh=new Z.Mesh({renderNormal:!0}),this._atmosphereMesh=new Z.Mesh,this._atmosphereGeometry=new Z.SphereGeometry({widthSegments:80,heightSegments:40}),this._atmosphereMaterial=new Z.Material({shader:new Z.Shader(Z.Shader.source("ecgl.atmosphere.vertex"),Z.Shader.source("ecgl.atmosphere.fragment")),transparent:!0}),this._atmosphereMesh.geometry=this._atmosphereGeometry,this._atmosphereMesh.material=this._atmosphereMaterial,this._atmosphereMesh.frontFace=Z.Mesh.CW,this._lightRoot=new Z.Node,this._sceneHelper=new Gc,this._sceneHelper.initLight(this._lightRoot),this.groupGL.add(this._atmosphereMesh),this.groupGL.add(this._earthMesh),this._control=new $m({zr:e.getZr()}),this._control.init(),this._layerMeshes={}},render:function(t,e,r){var i=t.coordinateSystem,n=t.get("shading");i.viewGL.add(this._lightRoot),t.get("show")?i.viewGL.add(this.groupGL):i.viewGL.remove(this.groupGL),this._sceneHelper.setScene(i.viewGL.scene),i.viewGL.setPostEffect(t.getModel("postEffect"),r),i.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var a=this._earthMesh;a.geometry=this._sphereGeometry;var s="ecgl."+n;(!a.material||a.material.shader.name!==s)&&(a.material=Z.createMaterial(s)),Z.setMaterialFromModel(n,a.material,t,r),["roughnessMap","metalnessMap","detailMap","normalMap"].forEach(function(h){var f=a.material.get(h);f&&(f.flipY=!1)}),a.material.set("color",Z.parseColor(t.get("baseColor")));var o=i.radius*.99;if(a.scale.set(o,o,o),t.get("atmosphere.show")){a.material.define("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!1,this._atmosphereMaterial.setUniforms({glowPower:t.get("atmosphere.glowPower")||6,glowColor:t.get("atmosphere.color")||"#ffffff"}),a.material.setUniforms({glowPower:t.get("atmosphere.innerGlowPower")||2,glowColor:t.get("atmosphere.color")||"#ffffff"});var u=t.get("atmosphere.offset")||5;this._atmosphereMesh.scale.set(o+u,o+u,o+u)}else a.material.undefine("both","ATMOSPHERE_ENABLED"),this._atmosphereMesh.invisible=!0;var l=a.material.setTextureImage("diffuseMap",t.get("baseTexture"),r,{flipY:!1,anisotropic:8});l&&l.surface&&l.surface.attachToMesh(a);var c=a.material.setTextureImage("bumpMap",t.get("heightTexture"),r,{flipY:!1,anisotropic:8});c&&c.surface&&c.surface.attachToMesh(a),a.material[t.get("postEffect.enable")?"define":"undefine"]("fragment","SRGB_DECODE"),this._updateLight(t,r),this._displaceVertices(t,r),this._updateViewControl(t,r),this._updateLayers(t,r)},afterRender:function(t,e,r,i){var n=i.renderer;this._sceneHelper.updateAmbientCubemap(n,t,r),this._sceneHelper.updateSkybox(n,t,r)},_updateLayers:function(t,e){var r=t.coordinateSystem,i=t.get("layers"),n=r.radius,a=[],s=[],o=[],u=[];G(i,function(d){var p=new Xt(d),g=p.get("type"),v=Z.loadTexture(p.get("texture"),e,{flipY:!1,anisotropic:8});if(v.surface&&v.surface.attachToMesh(this._earthMesh),g==="blend"){var m=p.get("blendTo"),y=jt.firstNotNull(p.get("intensity"),1);m==="emission"?(o.push(v),u.push(y)):(a.push(v),s.push(y))}else{var _=p.get("id"),x=this._layerMeshes[_];x||(x=this._layerMeshes[_]=new Z.Mesh({geometry:this._overlayGeometry,castShadow:!1,ignorePicking:!0}));var b=p.get("shading");b==="lambert"?(x.material=x.__lambertMaterial||new Z.Material({autoUpdateTextureStatus:!1,shader:Z.createShader("ecgl.lambert"),transparent:!0,depthMask:!1}),x.__lambertMaterial=x.material):(x.material=x.__colorMaterial||new Z.Material({autoUpdateTextureStatus:!1,shader:Z.createShader("ecgl.color"),transparent:!0,depthMask:!1}),x.__colorMaterial=x.material),x.material.enableTexture("diffuseMap");var C=p.get("distance"),E=n+(C??r.radius/100);x.scale.set(E,E,E),n=E;var A=this._blankTexture||(this._blankTexture=Z.createBlankTexture("rgba(255, 255, 255, 0)"));x.material.set("diffuseMap",A),Z.loadTexture(p.get("texture"),e,{flipY:!1,anisotropic:8},function(S){S.surface&&S.surface.attachToMesh(x),x.material.set("diffuseMap",S),e.getZr().refresh()}),p.get("show")?this.groupGL.add(x):this.groupGL.remove(x)}},this);var l=this._earthMesh.material;l.define("fragment","LAYER_DIFFUSEMAP_COUNT",a.length),l.define("fragment","LAYER_EMISSIVEMAP_COUNT",o.length),l.set("layerDiffuseMap",a),l.set("layerDiffuseIntensity",s),l.set("layerEmissiveMap",o),l.set("layerEmissionIntensity",u);var c=t.getModel("debug.wireframe");if(c.get("show")){l.define("both","WIREFRAME_TRIANGLE");var h=Z.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)"),f=jt.firstNotNull(c.get("lineStyle.width"),1);l.set("wireframeLineWidth",f),l.set("wireframeLineColor",h)}else l.undefine("both","WIREFRAME_TRIANGLE")},_updateViewControl:function(t,e){var r=t.coordinateSystem,i=t.getModel("viewControl");r.viewGL.camera;var n=this;function a(){return{type:"globeChangeCamera",alpha:s.getAlpha(),beta:s.getBeta(),distance:s.getDistance()-r.radius,center:s.getCenter(),from:n.uid,globeId:t.id}}var s=this._control;s.setViewGL(r.viewGL);var o=i.get("targetCoord"),u,l;o!=null&&(l=o[0]+90,u=o[1]),s.setFromViewControlModel(i,{baseDistance:r.radius,alpha:u,beta:l}),s.off("update"),s.on("update",function(){e.dispatchAction(a())})},_displaceVertices:function(t,e){var r=t.get("displacementQuality"),i=t.get("debug.wireframe.show"),n=t.coordinateSystem;if(!(!t.isDisplacementChanged()&&r===this._displacementQuality&&i===this._showDebugWireframe)){this._displacementQuality=r,this._showDebugWireframe=i;var a=this._sphereGeometry,s={low:100,medium:200,high:400,ultra:800}[r]||200,o=s/2;(a.widthSegments!==s||i)&&(a.widthSegments=s,a.heightSegments=o,a.build()),this._doDisplaceVertices(a,n),i&&a.generateBarycentric()}},_doDisplaceVertices:function(t,e){var r=t.attributes.position.value,i=t.attributes.texcoord0.value,n=t.__originalPosition;(!n||n.length!==r.length)&&(n=new Float32Array(r.length),n.set(r),t.__originalPosition=n);for(var a=e.displacementWidth,s=e.displacementHeight,o=e.displacementData,u=0;u<t.vertexCount;u++){var l=u*3,c=u*2,h=n[l+1],f=n[l+2],d=n[l+3],p=i[c++],g=i[c++],v=Math.round(p*(a-1)),m=Math.round(g*(s-1)),y=m*a+v,_=o?o[y]:0;r[l+1]=h+h*_,r[l+2]=f+f*_,r[l+3]=d+d*_}t.generateVertexNormals(),t.dirty(),t.updateBoundingBox()},_updateLight:function(t,e){var r=this._earthMesh;this._sceneHelper.updateLight(t);var i=this._sceneHelper.mainLight,n=t.get("light.main.time")||new Date,a=uie.getPosition(ks(n),0,0),s=Math.cos(a.altitude);i.position.y=-s*Math.cos(a.azimuth),i.position.x=Math.sin(a.altitude),i.position.z=s*Math.sin(a.azimuth),i.lookAt(r.getWorldPosition())},dispose:function(t,e){this.groupGL.removeAll(),this._control.dispose()}});var VRe=_i.vec3;function m4(t){this.radius=t,this.viewGL=null,this.altitudeAxis,this.displacementData=null,this.displacementWidth,this.displacementHeight}m4.prototype={constructor:m4,dimensions:["lng","lat","alt"],type:"globe",containPoint:function(){},setDisplacementData:function(t,e,r){this.displacementData=t,this.displacementWidth=e,this.displacementHeight=r},_getDisplacementScale:function(t,e){var r=(t+180)/360*(this.displacementWidth-1),i=(90-e)/180*(this.displacementHeight-1),n=Math.round(r)+Math.round(i)*this.displacementWidth;return this.displacementData[n]},dataToPoint:function(t,e){var r=t[0],i=t[1],n=t[2]||0,a=this.radius;this.displacementData&&(a*=1+this._getDisplacementScale(r,i)),this.altitudeAxis&&(a+=this.altitudeAxis.dataToCoord(n)),r=r*Math.PI/180,i=i*Math.PI/180;var s=Math.cos(i)*a;return e=e||[],e[0]=-s*Math.cos(r+Math.PI),e[1]=Math.sin(i)*a,e[2]=s*Math.sin(r+Math.PI),e},pointToData:function(t,e){var r=t[0],i=t[1],n=t[2],a=VRe.len(t);r/=a,i/=a,n/=a;var s=Math.asin(i),o=Math.atan2(n,-r);o<0&&(o=Math.PI*2+o);var u=s*180/Math.PI,l=o*180/Math.PI-180;return e=e||[],e[0]=l,e[1]=u,e[2]=a-this.radius,this.altitudeAxis&&(e[2]=this.altitudeAxis.coordToData(e[2])),e}};function $Re(t,e){var r=document.createElement("canvas"),i=r.getContext("2d"),n=t.width,a=t.height;r.width=n,r.height=a,i.drawImage(t,0,0,n,a);for(var s=i.getImageData(0,0,n,a).data,o=new Float32Array(s.length/4),u=0;u<s.length/4;u++){var l=s[u*4];o[u]=l/255*e}return{data:o,width:n,height:a}}function WRe(t,e){var r=t.getBoxLayoutParams(),i=ai(r,{width:e.getWidth(),height:e.getHeight()});i.y=e.getHeight()-i.y-i.height,this.viewGL.setViewport(i.x,i.y,i.width,i.height,e.getDevicePixelRatio()),this.radius=t.get("globeRadius");var n=t.get("globeOuterRadius");this.altitudeAxis&&this.altitudeAxis.setExtent(0,n-this.radius)}function YRe(t,e){var r=[1/0,-1/0];if(t.eachSeries(function(n){if(n.coordinateSystem===this){var a=n.getData(),s=n.coordDimToDataDim("alt"),o=s&&s[0];if(o){var u=a.getDataExtent(o,!0);r[0]=Math.min(r[0],u[0]),r[1]=Math.max(r[1],u[1])}}},this),r&&isFinite(r[1]-r[0])){var i=Z9(r,{type:"value",min:"dataMin",max:"dataMax"});this.altitudeAxis=new _a("altitude",i),this.resize(this.model,e)}}var qRe={dimensions:m4.prototype.dimensions,create:function(t,e){var r=[];return t.eachComponent("globe",function(i){i.__viewGL=i.__viewGL||new yr;var n=new m4;n.viewGL=i.__viewGL,i.coordinateSystem=n,n.model=i,r.push(n),n.resize=WRe,n.resize(i,e),n.update=YRe}),t.eachSeries(function(i){if(i.get("coordinateSystem")==="globe"){var n=i.getReferringComponents("globe").models[0];if(n||(n=t.getComponent("globe")),!n)throw new Error('globe "'+jt.firstNotNull(i.get("globe3DIndex"),i.get("globe3DId"),0)+'" not found');var a=n.coordinateSystem;i.coordinateSystem=a}}),t.eachComponent("globe",function(i,n){var a=i.coordinateSystem,s=i.getDisplacementTexture(),o=i.getDisplacemenScale();if(i.isDisplacementChanged()){if(i.hasDisplacement()){var u=!0;Z.loadTexture(s,e,function(l){var c=l.image,h=$Re(c,o);i.setDisplacementData(h.data,h.width,h.height),u||e.dispatchAction({type:"globeUpdateDisplacment"})}),u=!1}else a.setDisplacementData(null,0,0);a.setDisplacementData(i.displacementData,i.displacementWidth,i.displacementHeight)}}),r}};function XRe(t){t.registerComponentModel(sf),t.registerComponentView(jRe),t.registerCoordinateSystem("globe",qRe),t.registerAction({type:"globeChangeCamera",event:"globecamerachanged",update:"series:updateCamera"},function(e,r){r.eachComponent({mainType:"globe",query:e},function(i){i.setView(e)})}),t.registerAction({type:"globeUpdateDisplacment",event:"globedisplacementupdated",update:"update"},function(e,r){})}ft(XRe);var $U=["zoom","center","pitch","bearing"],vI=Dt.extend({type:"mapbox3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,style:"mapbox://styles/mapbox/light-v9",center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMapboxCameraOption:function(){var t=this;return $U.reduce(function(e,r){return e[r]=t.get(r),e},{})},setMapboxCameraOption:function(t){t!=null&&$U.forEach(function(e){t[e]!=null&&(this.option[e]=t[e])},this)},getMapbox:function(){return this._mapbox},setMapbox:function(t){this._mapbox=t}});et(vI.prototype,Sg);et(vI.prototype,Tg);function Xc(t,e){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!mapboxgl)throw new Error("Mapbox GL library must be included. See https://www.mapbox.com/mapbox-gl-js/api/");this._mapbox=new mapboxgl.Map({container:this.dom}),this._initEvents()}Xc.prototype.setUnpainted=function(){};Xc.prototype.resize=function(){this._mapbox.resize()};Xc.prototype.getMapbox=function(){return this._mapbox};Xc.prototype.clear=function(){};Xc.prototype.refresh=function(){this._mapbox.resize()};var lie=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","wheel","touchstart","touchend","touchmove","touchcancel"];Xc.prototype._initEvents=function(){var t=this._mapbox.getCanvasContainer();this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},lie.forEach(function(e){this._handlers[e]=function(r){var i={};for(var n in r)i[n]=r[n];i.bubbles=!1;var a=new r.constructor(r.type,i);t.dispatchEvent(a)},this.zr.dom.addEventListener(e,this._handlers[e])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};Xc.prototype.dispose=function(){lie.forEach(function(t){this.zr.dom.removeEventListener(t,this._handlers[t])},this)};const cie=`
@export ecgl.displayShadow.vertex

@import ecgl.common.transformUniforms

@import ecgl.common.uv.header

@import ecgl.common.attributes

varying vec3 v_WorldPosition;

varying vec3 v_Normal;

void main()
{
 @import ecgl.common.uv.main
 v_Normal = normalize((worldInverseTranspose * vec4(normal, 0.0)).xyz);

 v_WorldPosition = (world * vec4(position, 1.0)).xyz;
 gl_Position = worldViewProjection * vec4(position, 1.0);
}

@end


@export ecgl.displayShadow.fragment

@import ecgl.common.uv.fragmentHeader

varying vec3 v_Normal;
varying vec3 v_WorldPosition;

uniform float roughness: 0.2;

#ifdef DIRECTIONAL_LIGHT_COUNT
@import clay.header.directional_light
#endif

@import ecgl.common.ssaoMap.header

@import clay.plugin.compute_shadow_map

void main()
{
 float shadow = 1.0;

 @import ecgl.common.ssaoMap.main

#if defined(DIRECTIONAL_LIGHT_COUNT) && defined(DIRECTIONAL_LIGHT_SHADOWMAP_COUNT)
 float shadowContribsDir[DIRECTIONAL_LIGHT_COUNT];
 if(shadowEnabled)
 {
 computeShadowOfDirectionalLights(v_WorldPosition, shadowContribsDir);
 }
 for (int i = 0; i < DIRECTIONAL_LIGHT_COUNT; i++) {
 shadow = min(shadow, shadowContribsDir[i] * 0.5 + 0.5);
 }
#endif

 shadow *= 0.5 + ao * 0.5;
 shadow = clamp(shadow, 0.0, 1.0);

 gl_FragColor = vec4(vec3(0.0), 1.0 - shadow);
}

@end`;Z.Shader.import(cie);const ZRe=_r.extend({type:"mapbox3D",__ecgl__:!0,init:function(t,e){var r=e.getZr();this._zrLayer=new Xc("mapbox3D",r),r.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new Z.Node,this._sceneHelper=new Gc(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var i=this._zrLayer.getMapbox(),n=this._dispatchInteractAction.bind(this,e,i);["zoom","rotate","drag","pitch","rotate","move"].forEach(function(a){i.on(a,n)}),this._groundMesh=new Z.Mesh({geometry:new Z.PlaneGeometry,material:new Z.Material({shader:new Z.Shader({vertex:Z.Shader.source("ecgl.displayShadow.vertex"),fragment:Z.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},render:function(t,e,r){var i=this._zrLayer.getMapbox(),n=t.get("style"),a=JSON.stringify(n);a!==this._oldStyleStr&&n&&i.setStyle(n),this._oldStyleStr=a,i.setCenter(t.get("center")),i.setZoom(t.get("zoom")),i.setPitch(t.get("pitch")),i.setBearing(t.get("bearing")),t.setMapbox(i);var s=t.coordinateSystem;s.viewGL.scene.add(this._lightRoot),s.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(s.viewGL.scene),this._sceneHelper.updateLight(t),s.viewGL.setPostEffect(t.getModel("postEffect"),r),s.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._mapbox3DModel=t},afterRender:function(t,e,r,i){var n=i.renderer;this._sceneHelper.updateAmbientCubemap(n,t,r),this._sceneHelper.updateSkybox(n,t,r),t.coordinateSystem.viewGL.scene.traverse(function(a){a.material&&(a.material.define("fragment","NORMAL_UP_AXIS",2),a.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(t,e,r,i){t.coordinateSystem.setCameraOption(i),this._updateGroundMesh(),r.getZr().refresh()},_dispatchInteractAction:function(t,e,r){t.dispatchAction({type:"mapbox3DChangeCamera",pitch:e.getPitch(),zoom:e.getZoom(),center:e.getCenter().toArray(),bearing:e.getBearing(),mapbox3DId:this._mapbox3DModel&&this._mapbox3DModel.id})},_updateGroundMesh:function(){if(this._mapbox3DModel){var t=this._mapbox3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var r=new Z.Plane(new Z.Vector3(0,0,1),0),i=t.viewGL.camera.castRay(new Z.Vector2(-1,-1)),n=t.viewGL.camera.castRay(new Z.Vector2(1,1)),a=i.intersectPlane(r),s=n.intersectPlane(r),o=a.dist(s)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(o,o,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}});var ql=_i.mat4,Uv=512,xT=.6435011087932844,Aa=Math.PI,pd=1/10;function Gp(){this.width=0,this.height=0,this.altitudeScale=1,this.boxHeight="auto",this.altitudeExtent,this.bearing=0,this.pitch=0,this.center=[0,0],this._origin,this.zoom=0,this._initialZoom,this.maxPitch=60,this.zoomOffset=0}Gp.prototype={constructor:Gp,dimensions:["lng","lat","alt"],containPoint:function(){},setCameraOption:function(t){this.bearing=t.bearing,this.pitch=t.pitch,this.center=t.center,this.zoom=t.zoom,this._origin||(this._origin=this.projectOnTileWithScale(this.center,Uv)),this._initialZoom==null&&(this._initialZoom=this.zoom),this.updateTransform()},updateTransform:function(){if(this.height){var t=.5/Math.tan(xT/2)*this.height*pd,e=Math.max(Math.min(this.pitch,this.maxPitch),0)/180*Math.PI,r=xT/2,i=Math.PI/2+e,n=Math.sin(r)*t/Math.sin(Math.PI-i-r),a=Math.cos(Math.PI/2-e)*n+t,s=a*1.1;this.pitch>50&&(s=1e3);var o=[];ql.perspective(o,xT,this.width/this.height,1,s),this.viewGL.camera.projectionMatrix.setArray(o),this.viewGL.camera.decomposeProjectionMatrix();var o=ql.identity([]),u=this.dataToPoint(this.center);ql.scale(o,o,[1,-1,1]),ql.translate(o,o,[0,0,-t]),ql.rotateX(o,o,e),ql.rotateZ(o,o,-this.bearing/180*Math.PI),ql.translate(o,o,[-u[0]*this.getScale()*pd,-u[1]*this.getScale()*pd,0]),this.viewGL.camera.viewMatrix.array=o;var l=[];ql.invert(l,o),this.viewGL.camera.worldTransform.array=l,this.viewGL.camera.decomposeWorldTransform();var c=Uv*this.getScale(),h;if(this.altitudeExtent&&!isNaN(this.boxHeight)){var f=this.altitudeExtent[1]-this.altitudeExtent[0];h=this.boxHeight/f*this.getScale()/Math.pow(2,this._initialZoom-this.zoomOffset)}else h=c/(2*Math.PI*6378e3*Math.abs(Math.cos(this.center[1]*(Math.PI/180))))*this.altitudeScale*pd;this.viewGL.rootNode.scale.set(this.getScale()*pd,this.getScale()*pd,h)}},getScale:function(){return Math.pow(2,this.zoom-this.zoomOffset)},projectOnTile:function(t,e){return this.projectOnTileWithScale(t,this.getScale()*Uv,e)},projectOnTileWithScale:function(t,e,r){var i=t[0],n=t[1],a=i*Aa/180,s=n*Aa/180,o=e*(a+Aa)/(2*Aa),u=e*(Aa-Math.log(Math.tan(Aa/4+s*.5)))/(2*Aa);return r=r||[],r[0]=o,r[1]=u,r},unprojectFromTile:function(t,e){return this.unprojectOnTileWithScale(t,this.getScale()*Uv,e)},unprojectOnTileWithScale:function(t,e,r){var i=t[0],n=t[1],a=i/e*(2*Aa)-Aa,s=2*(Math.atan(Math.exp(Aa-n/e*(2*Aa)))-Aa/4);return r=r||[],r[0]=a*180/Aa,r[1]=s*180/Aa,r},dataToPoint:function(t,e){return e=this.projectOnTileWithScale(t,Uv,e),e[0]-=this._origin[0],e[1]-=this._origin[1],e[2]=isNaN(t[2])?0:t[2],isNaN(t[2])||(e[2]=t[2],this.altitudeExtent&&(e[2]-=this.altitudeExtent[0])),e}};function sm(){Gp.apply(this,arguments)}sm.prototype=new Gp;sm.prototype.constructor=sm;sm.prototype.type="mapbox3D";function hie(t,e,r){function i(a,s){var o=s.getWidth(),u=s.getHeight(),l=s.getDevicePixelRatio();this.viewGL.setViewport(0,0,o,u,l),this.width=o,this.height=u,this.altitudeScale=a.get("altitudeScale"),this.boxHeight=a.get("boxHeight")}function n(a,s){if(this.model.get("boxHeight")!=="auto"){var o=[1/0,-1/0];a.eachSeries(function(u){if(u.coordinateSystem===this){var l=u.getData(),c=u.coordDimToDataDim("alt")[0];if(c){var h=l.getDataExtent(c,!0);o[0]=Math.min(o[0],h[0]),o[1]=Math.max(o[1],h[1])}}},this),o&&isFinite(o[1]-o[0])&&(this.altitudeExtent=o)}}return{dimensions:e.prototype.dimensions,create:function(a,s){var o=[];return a.eachComponent(t,function(u){var l=u.__viewGL;l||(l=u.__viewGL=new yr,l.setRootNode(new Z.Node));var c=new e;c.viewGL=u.__viewGL,c.resize=i,c.resize(u,s),o.push(c),u.coordinateSystem=c,c.model=u,c.update=n}),a.eachSeries(function(u){if(u.get("coordinateSystem")===t){var l=u.getReferringComponents(t).models[0];if(l||(l=a.getComponent(t)),!l)throw new Error(t+' "'+jt.firstNotNull(u.get(t+"Index"),u.get(t+"Id"),0)+'" not found');u.coordinateSystem=l.coordinateSystem}}),r&&r(o,a,s),o}}}var KRe=hie("mapbox3D",sm,function(t){t.forEach(function(e){e.setCameraOption(e.model.getMapboxCameraOption())})});function JRe(t){t.registerComponentModel(vI),t.registerComponentView(ZRe),t.registerCoordinateSystem("mapbox3D",KRe),t.registerAction({type:"mapbox3DChangeCamera",event:"mapbox3dcamerachanged",update:"mapbox3D:updateCamera"},function(e,r){r.eachComponent({mainType:"mapbox3D",query:e},function(i){i.setMapboxCameraOption(e)})})}ft(JRe);var WU=["zoom","center","pitch","bearing"],mI=Dt.extend({type:"maptalks3D",layoutMode:"box",coordinateSystem:null,defaultOption:{zlevel:-10,urlTemplate:"http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://osm.org">OpenStreetMap</a> contributors, &copy; <a href="https://carto.com/">CARTO</a>',center:[0,0],zoom:0,pitch:0,bearing:0,light:{main:{alpha:20,beta:30}},altitudeScale:1,boxHeight:"auto"},getMaptalksCameraOption:function(){var t=this;return WU.reduce(function(e,r){return e[r]=t.get(r),e},{})},setMaptalksCameraOption:function(t){t!=null&&WU.forEach(function(e){t[e]!=null&&(this.option[e]=t[e])},this)},getMaptalks:function(){return this._maptalks},setMaptalks:function(t){this._maptalks=t}});et(mI.prototype,Sg);et(mI.prototype,Tg);function Zc(t,e,r,i){if(this.id=t,this.zr=e,this.dom=document.createElement("div"),this.dom.style.cssText="position:absolute;left:0;right:0;top:0;bottom:0;",!maptalks)throw new Error("Maptalks library must be included. See https://maptalks.org");this._maptalks=new maptalks.Map(this.dom,{center:r,zoom:i,doubleClickZoom:!1,fog:!1}),this._initEvents()}Zc.prototype.setUnpainted=function(){};Zc.prototype.resize=function(){this._maptalks.checkSize()};Zc.prototype.getMaptalks=function(){return this._maptalks};Zc.prototype.clear=function(){};Zc.prototype.refresh=function(){this._maptalks.checkSize()};var fie=["mousedown","mouseup","click","dblclick","mousemove","mousewheel","DOMMouseScroll","touchstart","touchend","touchmove","touchcancel"];Zc.prototype._initEvents=function(){var t=this.dom;this._handlers=this._handlers||{contextmenu:function(e){return e.preventDefault(),!1}},fie.forEach(function(e){this._handlers[e]=function(r){var i={};for(var n in r)i[n]=r[n];i.bubbles=!1;var a=new r.constructor(r.type,i);e==="mousewheel"||e==="DOMMouseScroll"?t.dispatchEvent(a):t.firstElementChild.dispatchEvent(a)},this.zr.dom.addEventListener(e,this._handlers[e])},this),this.zr.dom.addEventListener("contextmenu",this._handlers.contextmenu)};Zc.prototype.dispose=function(){fie.forEach(function(t){this.zr.dom.removeEventListener(t,this._handlers[t])},this),this._maptalks.remove()};Z.Shader.import(cie);const QRe=_r.extend({type:"maptalks3D",__ecgl__:!0,init:function(t,e){this._groundMesh=new Z.Mesh({geometry:new Z.PlaneGeometry,material:new Z.Material({shader:new Z.Shader({vertex:Z.Shader.source("ecgl.displayShadow.vertex"),fragment:Z.Shader.source("ecgl.displayShadow.fragment")}),depthMask:!1}),renderOrder:-100,culling:!1,castShadow:!1,$ignorePicking:!0,renderNormal:!0})},_initMaptalksLayer:function(t,e){var r=e.getZr();this._zrLayer=new Zc("maptalks3D",r,t.get("center"),t.get("zoom")),r.painter.insertLayer(-1e3,this._zrLayer),this._lightRoot=new Z.Node,this._sceneHelper=new Gc(this._lightRoot),this._sceneHelper.initLight(this._lightRoot);var i=this._zrLayer.getMaptalks(),n=this._dispatchInteractAction.bind(this,e,i);["zoomend","zooming","zoomstart","dragrotating","pitch","pitchend","movestart","moving","moveend","resize","touchstart","touchmove","touchend","animating"].forEach(function(a){i.on(a,n)})},render:function(t,e,r){this._zrLayer||this._initMaptalksLayer(t,r);var i=this._zrLayer.getMaptalks(),n=t.get("urlTemplate"),a=i.getBaseLayer();n!==this._oldUrlTemplate&&(a?a.setOptions({urlTemplate:n,attribution:t.get("attribution")}):(a=new maptalks.TileLayer("maptalks-echarts-gl-baselayer",{urlTemplate:n,subdomains:["a","b","c"],attribution:t.get("attribution")}),i.setBaseLayer(a))),this._oldUrlTemplate=n,i.setCenter(t.get("center")),i.setZoom(t.get("zoom"),{animation:!1}),i.setPitch(t.get("pitch")),i.setBearing(t.get("bearing")),t.setMaptalks(i);var s=t.coordinateSystem;s.viewGL.scene.add(this._lightRoot),s.viewGL.add(this._groundMesh),this._updateGroundMesh(),this._sceneHelper.setScene(s.viewGL.scene),this._sceneHelper.updateLight(t),s.viewGL.setPostEffect(t.getModel("postEffect"),r),s.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling")),this._maptalks3DModel=t},afterRender:function(t,e,r,i){var n=i.renderer;this._sceneHelper.updateAmbientCubemap(n,t,r),this._sceneHelper.updateSkybox(n,t,r),t.coordinateSystem.viewGL.scene.traverse(function(a){a.material&&(a.material.define("fragment","NORMAL_UP_AXIS",2),a.material.define("fragment","NORMAL_FRONT_AXIS",1))})},updateCamera:function(t,e,r,i){t.coordinateSystem.setCameraOption(i),this._updateGroundMesh(),r.getZr().refresh()},_dispatchInteractAction:function(t,e,r){t.dispatchAction({type:"maptalks3DChangeCamera",pitch:e.getPitch(),zoom:tNe(e.getResolution())+1,center:e.getCenter().toArray(),bearing:e.getBearing(),maptalks3DId:this._maptalks3DModel&&this._maptalks3DModel.id})},_updateGroundMesh:function(){if(this._maptalks3DModel){var t=this._maptalks3DModel.coordinateSystem,e=t.dataToPoint(t.center);this._groundMesh.position.set(e[0],e[1],-.001);var r=new Z.Plane(new Z.Vector3(0,0,1),0),i=t.viewGL.camera.castRay(new Z.Vector2(-1,-1)),n=t.viewGL.camera.castRay(new Z.Vector2(1,1)),a=i.intersectPlane(r),s=n.intersectPlane(r),o=a.dist(s)/t.viewGL.rootNode.scale.x;this._groundMesh.scale.set(o,o,1)}},dispose:function(t,e){this._zrLayer&&this._zrLayer.dispose(),e.getZr().painter.delLayer(-1e3)}}),eNe=2*6378137*Math.PI/(256*Math.pow(2,20));function tNe(t){return 19-Math.log(t/eNe)/Math.LN2}function om(){Gp.apply(this,arguments),this.maxPitch=85,this.zoomOffset=1}om.prototype=new Gp;om.prototype.constructor=om;om.prototype.type="maptalks3D";var rNe=hie("maptalks3D",om,function(t){t.forEach(function(e){e.setCameraOption(e.model.getMaptalksCameraOption())})});function iNe(t){t.registerComponentModel(mI),t.registerComponentView(QRe),t.registerCoordinateSystem("maptalks3D",rNe),t.registerAction({type:"maptalks3DChangeCamera",event:"maptalks3dcamerachanged",update:"maptalks3D:updateCamera"},function(e,r){r.eachComponent({mainType:"maptalks3D",query:e},function(i){i.setMaptalksCameraOption(e)})})}ft(iNe);var nNe=_i.vec3,aNe=X9.isDimensionStacked;function sNe(t){var e=t[0],r=t[1];return!(e>0&&r>0||e<0&&r<0)}function oNe(t,e){var r=t.getData(),i=t.get("barSize");if(i==null){var n=e.size,a,s,o=e.getAxis("x"),u=e.getAxis("y");o.type==="category"?a=o.getBandWidth()*.7:a=Math.round(n[0]/Math.sqrt(r.count()))*.6,u.type==="category"?s=u.getBandWidth()*.7:s=Math.round(n[1]/Math.sqrt(r.count()))*.6,i=[a,s]}else Te(i)||(i=[i,i]);var l=e.getAxis("z").scale.getExtent(),c=sNe(l),h=["x","y","z"].map(function(p){return t.coordDimToDataDim(p)[0]}),f=aNe(r,h[2]),d=f?r.getCalculationInfo("stackResultDimension"):h[2];r.each(h,function(p,g,v,m){var y=r.get(d,m),_=f?y-v:c?0:l[0],x=e.dataToPoint([p,g,_]),b=e.dataToPoint([p,g,y]),C=nNe.dist(x,b),E=[0,b[1]<x[1]?-1:1,0];Math.abs(C)===0&&(C=.1);var A=[i[0],C,i[1]];r.setItemLayout(m,[x,E,A])}),r.setLayout("orient",[1,0,0])}function yI(t,e,r){for(var i=t.getDataExtent(e),n=t.getDataExtent(r),a=i[1]-i[0]||i[0],s=n[1]-n[0]||n[0],o=50,u=new Uint8Array(o*o),l=0;l<t.count();l++){var c=t.get(e,l),h=t.get(r,l),f=Math.floor((c-i[0])/a*(o-1)),d=Math.floor((h-n[0])/s*(o-1)),p=d*o+f;u[p]=u[p]||1}for(var g=0,l=0;l<u.length;l++)u[l]&&g++;return g/u.length}var YU=_i.vec3,uNe=X9.isDimensionStacked;function lNe(t,e){var r=t.getData(),i=t.get("minHeight")||0,n=t.get("barSize"),a=["lng","lat","alt"].map(function(l){return t.coordDimToDataDim(l)[0]});if(n==null){var s=e.radius*Math.PI,o=yI(r,a[0],a[1]);n=[s/Math.sqrt(r.count()/o),s/Math.sqrt(r.count()/o)]}else Te(n)||(n=[n,n]);var u=_I(r,a);r.each(a,function(l,c,h,f){var d=r.get(u.dimension,f),p=u.isStacked?d-h:e.altitudeAxis.scale.getExtent()[0],g=Math.max(e.altitudeAxis.dataToCoord(h),i),v=e.dataToPoint([l,c,p]),m=e.dataToPoint([l,c,d]),y=YU.sub([],m,v);YU.normalize(y,y);var _=[n[0],g,n[1]];r.setItemLayout(f,[v,y,_])}),r.setLayout("orient",Fe.UP.array)}function cNe(t,e){var r=t.getData(),i=t.get("barSize"),n=t.get("minHeight")||0,a=["lng","lat","alt"].map(function(c){return t.coordDimToDataDim(c)[0]});if(i==null){var s=Math.min(e.size[0],e.size[2]),o=yI(r,a[0],a[1]);i=[s/Math.sqrt(r.count()/o),s/Math.sqrt(r.count()/o)]}else Te(i)||(i=[i,i]);var u=[0,1,0],l=_I(r,a);r.each(a,function(c,h,f,d){var p=r.get(l.dimension,d),g=l.isStacked?p-f:e.altitudeAxis.scale.getExtent()[0],v=Math.max(e.altitudeAxis.dataToCoord(f),n),m=e.dataToPoint([c,h,g]),y=[i[0],v,i[1]];r.setItemLayout(d,[m,u,y])}),r.setLayout("orient",[1,0,0])}function hNe(t,e){var r=t.getData(),i=t.coordDimToDataDim("lng")[0],n=t.coordDimToDataDim("lat")[0],a=t.coordDimToDataDim("alt")[0],s=t.get("barSize"),o=t.get("minHeight")||0;if(s==null){var u=r.getDataExtent(i),l=r.getDataExtent(n),c=e.dataToPoint([u[0],l[0]]),h=e.dataToPoint([u[1],l[1]]),f=Math.min(Math.abs(c[0]-h[0]),Math.abs(c[1]-h[1]))||1,d=yI(r,i,n);s=[f/Math.sqrt(r.count()/d),f/Math.sqrt(r.count()/d)]}else Te(s)||(s=[s,s]),s[0]/=e.getScale()/16,s[1]/=e.getScale()/16;var p=[0,0,1],g=[i,n,a],v=_I(r,g);r.each(g,function(m,y,_,x){var b=r.get(v.dimension,x),C=v.isStacked?b-_:0,E=e.dataToPoint([m,y,C]),A=e.dataToPoint([m,y,b]),S=Math.max(A[2]-E[2],o),T=[s[0],S,s[1]];r.setItemLayout(x,[E,p,T])}),r.setLayout("orient",[1,0,0])}function _I(t,e){var r=uNe(t,e[2]);return{dimension:r?t.getCalculationInfo("stackResultDimension"):e[2],isStacked:r}}function fNe(t){t.registerLayout(function(e,r){e.eachSeriesByType("bar3D",function(i){var n=i.coordinateSystem,a=n&&n.type;a==="globe"?lNe(i,n):a==="cartesian3D"?oNe(i,n):a==="geo3D"?cNe(i,n):(a==="mapbox3D"||a==="maptalks3D")&&hNe(i,n)})})}var Kc={};Kc.getFormattedLabel=function(t,e,r,i,n){r=r||"normal";var a=t.getData(i),s=a.getItemModel(e),o=t.getDataParams(e,i);n!=null&&o.value instanceof Array&&(o.value=o.value[n]);var u=s.get(r==="normal"?["label","formatter"]:["emphasis","label","formatter"]);u==null&&(u=s.get(["label","formatter"]));var l;return typeof u=="function"?(o.status=r,l=u(o)):typeof u=="string"&&(l=S9(u,o)),l};Kc.normalizeToArray=function(t){return t instanceof Array?t:t==null?[]:[t]};function dNe(t,e){var r=[];return G(t.dimensions,function(i){var n=t.getDimensionInfo(i),a=n.otherDims,s=a[e];s!=null&&s!==!1&&(r[s]=n.name)}),r}function qm(t,e,r){function i(h){var f=[],d=dNe(n,"tooltip");d.length?G(d,function(g){p(n.get(g,e),g)}):G(h,p);function p(g,v){var m=n.getDimensionInfo(v);if(!(!m||m.otherDims.tooltip===!1)){var y=m.type,_="- "+(m.tooltipName||m.name)+": "+(y==="ordinal"?g+"":y==="time"?t4e("yyyy/MM/dd hh:mm:ss",g):w3(g));_&&f.push(Ai(_))}}return"<br/>"+f.join("<br/>")}var n=t.getData(),a=t.getRawValue(e),s=Te(a)?i(a):Ai(w3(a)),o=n.getName(e),u=Xi(n,e);lt(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var l=mK(u),c=t.name;return c==="\0-"&&(c=""),c=c?Ai(c)+"<br/>":"",c+l+(o?Ai(o)+": "+s:s)}function uC(t,e,r){r=r||t.getSource();var i=e||IJ(t.get("coordinateSystem"))||["x","y","z"],n=Pm(r,{dimensionsDefine:r.dimensionsDefine||t.get("dimensions"),encodeDefine:r.encodeDefine||t.get("encode"),coordDimensions:i.map(function(o){var u=t.getReferringComponents(o+"Axis3D").models[0];return{type:u&&u.get("type")==="category"?"ordinal":"float",name:o}})});t.get("coordinateSystem")==="cartesian3D"&&n.forEach(function(o){if(i.indexOf(o.coordDim)>=0){var u=t.getReferringComponents(o.coordDim+"Axis3D").models[0];u&&u.get("type")==="category"&&(o.ordinalMeta=u.getOrdinalMeta())}});var a=X9.enableDataStack(t,n,{byIndex:!0,stackedCoordDimension:"z"}),s=new Xr(n,t);return s.setCalculationInfo(a),s.initData(r),s}var die=Kt.extend({type:"series.bar3D",dependencies:["globe"],visualStyleAccessPathvisu:"itemStyle",getInitialData:function(t,e){return uC(this)},getFormattedLabel:function(t,e,r,i){var n=Kc.getFormattedLabel(this,t,e,r,i);return n==null&&(n=this.getData().get("z",t)),n},formatTooltip:function(t){return qm(this,t)},defaultOption:{coordinateSystem:"cartesian3D",globeIndex:0,grid3DIndex:0,zlevel:-10,bevelSize:0,bevelSmoothness:2,onGridPlane:"xy",shading:"color",minHeight:0,itemStyle:{opacity:1},label:{show:!1,distance:2,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},emphasis:{label:{show:!0}},animationDurationUpdate:500}});et(die.prototype,wg);var ti=_i.vec3,pNe=_i.mat3,xI=$t.extend(function(){return{attributes:{position:new $t.Attribute("position","float",3,"POSITION"),normal:new $t.Attribute("normal","float",3,"NORMAL"),color:new $t.Attribute("color","float",4,"COLOR"),prevPosition:new $t.Attribute("prevPosition","float",3),prevNormal:new $t.Attribute("prevNormal","float",3)},dynamic:!0,enableNormal:!1,bevelSize:1,bevelSegments:0,_dataIndices:null,_vertexOffset:0,_triangleOffset:0}},{resetOffset:function(){this._vertexOffset=0,this._triangleOffset=0},setBarCount:function(t){var e=this.enableNormal,r=this.getBarVertexCount()*t,i=this.getBarTriangleCount()*t;this.vertexCount!==r&&(this.attributes.position.init(r),e?this.attributes.normal.init(r):this.attributes.normal.value=null,this.attributes.color.init(r)),this.triangleCount!==i&&(this.indices=r>65535?new Uint32Array(i*3):new Uint16Array(i*3),this._dataIndices=new Uint32Array(r))},getBarVertexCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarVertexCount(t):this.enableNormal?24:8},getBarTriangleCount:function(){var t=this.bevelSize>0?this.bevelSegments:0;return t>0?this._getBevelBarTriangleCount(t):12},_getBevelBarVertexCount:function(t){return(t+1)*4*(t+1)*2},_getBevelBarTriangleCount:function(t){var e=t*4+3,r=t*2+1;return(e+1)*r*2+4},setColor:function(t,e){for(var r=this.getBarVertexCount(),i=r*t,n=r*(t+1),a=i;a<n;a++)this.attributes.color.set(a,e);this.dirtyAttribute("color")},getDataIndexOfVertex:function(t){return this._dataIndices?this._dataIndices[t]:null},addBar:function(){for(var t=ti.create,e=ti.scaleAndAdd,r=t(),i=t(),n=t(),a=t(),s=t(),o=t(),u=t(),l=[],c=[],h=0;h<8;h++)l[h]=t();for(var f=[[0,1,5,4],[2,3,7,6],[4,5,6,7],[3,2,1,0],[0,4,7,3],[1,2,6,5]],d=[0,1,2,0,2,3],p=[],h=0;h<f.length;h++)for(var g=f[h],v=0;v<2;v++){for(var m=[],y=0;y<3;y++)m.push(g[d[v*3+y]]);p.push(m)}return function(_,x,b,C,E,A){var S=this._vertexOffset;if(this.bevelSize>0&&this.bevelSegments>0)this._addBevelBar(_,x,b,C,this.bevelSize,this.bevelSegments,E);else{ti.copy(n,x),ti.normalize(n,n),ti.cross(a,b,n),ti.normalize(a,a),ti.cross(i,n,a),ti.normalize(a,a),ti.negate(s,i),ti.negate(o,n),ti.negate(u,a),e(l[0],_,i,C[0]/2),e(l[0],l[0],a,C[2]/2),e(l[1],_,i,C[0]/2),e(l[1],l[1],u,C[2]/2),e(l[2],_,s,C[0]/2),e(l[2],l[2],u,C[2]/2),e(l[3],_,s,C[0]/2),e(l[3],l[3],a,C[2]/2),e(r,_,n,C[1]),e(l[4],r,i,C[0]/2),e(l[4],l[4],a,C[2]/2),e(l[5],r,i,C[0]/2),e(l[5],l[5],u,C[2]/2),e(l[6],r,s,C[0]/2),e(l[6],l[6],u,C[2]/2),e(l[7],r,s,C[0]/2),e(l[7],l[7],a,C[2]/2);var T=this.attributes;if(this.enableNormal){c[0]=i,c[1]=s,c[2]=n,c[3]=o,c[4]=a,c[5]=u;for(var D=this._vertexOffset,F=0;F<f.length;F++){for(var B=this._triangleOffset*3,O=0;O<6;O++)this.indices[B++]=D+d[O];D+=4,this._triangleOffset+=2}for(var F=0;F<f.length;F++)for(var M=c[F],O=0;O<4;O++){var R=f[F][O];T.position.set(this._vertexOffset,l[R]),T.normal.set(this._vertexOffset,M),T.color.set(this._vertexOffset++,E)}}else{for(var F=0;F<p.length;F++){for(var B=this._triangleOffset*3,O=0;O<3;O++)this.indices[B+O]=p[F][O]+this._vertexOffset;this._triangleOffset++}for(var F=0;F<l.length;F++)T.position.set(this._vertexOffset,l[F]),T.color.set(this._vertexOffset++,E)}}for(var z=this._vertexOffset,F=S;F<z;F++)this._dataIndices[F]=A}}(),_addBevelBar:function(){var t=ti.create(),e=ti.create(),r=ti.create(),i=pNe.create(),n=[],a=[1,-1,-1,1],s=[1,1,-1,-1],o=[2,0];return function(u,l,c,h,f,d,p){ti.copy(e,l),ti.normalize(e,e),ti.cross(r,c,e),ti.normalize(r,r),ti.cross(t,e,r),ti.normalize(r,r),i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=e[0],i[4]=e[1],i[5]=e[2],i[6]=r[0],i[7]=r[1],i[8]=r[2],f=Math.min(h[0],h[2])/2*f;for(var g=0;g<3;g++)n[g]=Math.max(h[g]-f*2,0);for(var v=(h[0]-n[0])/2,m=(h[1]-n[1])/2,y=(h[2]-n[2])/2,_=[],x=[],b=this._vertexOffset,C=[],g=0;g<2;g++){C[g]=C[g]=[];for(var E=0;E<=d;E++)for(var A=0;A<4;A++){(E===0&&g===0||g===1&&E===d)&&C[g].push(b);for(var S=0;S<=d;S++){var T=S/d*Math.PI/2+Math.PI/2*A,D=E/d*Math.PI/2+Math.PI/2*g;x[0]=v*Math.cos(T)*Math.sin(D),x[1]=m*Math.cos(D),x[2]=y*Math.sin(T)*Math.sin(D),_[0]=x[0]+a[A]*n[0]/2,_[1]=x[1]+m+o[g]*n[1]/2,_[2]=x[2]+s[A]*n[2]/2,Math.abs(v-m)<1e-6&&Math.abs(m-y)<1e-6||(x[0]/=v*v,x[1]/=m*m,x[2]/=y*y),ti.normalize(x,x),ti.transformMat3(_,_,i),ti.transformMat3(x,x,i),ti.add(_,_,u),this.attributes.position.set(b,_),this.enableNormal&&this.attributes.normal.set(b,x),this.attributes.color.set(b,p),b++}}}for(var F=d*4+3,B=d*2+1,O=F+1,A=0;A<B;A++)for(var g=0;g<=F;g++){var M=A*O+g+this._vertexOffset,R=A*O+(g+1)%O+this._vertexOffset,z=(A+1)*O+(g+1)%O+this._vertexOffset,k=(A+1)*O+g+this._vertexOffset;this.setTriangleIndices(this._triangleOffset++,[z,M,R]),this.setTriangleIndices(this._triangleOffset++,[z,k,M])}this.setTriangleIndices(this._triangleOffset++,[C[0][0],C[0][2],C[0][1]]),this.setTriangleIndices(this._triangleOffset++,[C[0][0],C[0][3],C[0][2]]),this.setTriangleIndices(this._triangleOffset++,[C[1][0],C[1][1],C[1][2]]),this.setTriangleIndices(this._triangleOffset++,[C[1][0],C[1][2],C[1][3]]),this._vertexOffset=b}}()});st(xI.prototype,Wm);st(xI.prototype,pI);var gNe=_i.vec3;const vNe=Wt.extend({type:"bar3D",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this._api=e,this._labelsBuilder=new Bl(256,256,e);var r=this;this._labelsBuilder.getLabelPosition=function(i,n,a){if(r._data){var s=r._data.getItemLayout(i),o=s[0],u=s[1],l=s[2][1];return gNe.scaleAndAdd([],o,u,a+l)}else return[0,0]},this._labelsBuilder.getMesh().renderOrder=100},render:function(t,e,r){var i=this._prevBarMesh;this._prevBarMesh=this._barMesh,this._barMesh=i,this._barMesh||(this._barMesh=new Z.Mesh({geometry:new xI,shadowDepthMaterial:new Z.Material({shader:new Z.Shader(Z.Shader.source("ecgl.sm.depth.vertex"),Z.Shader.source("ecgl.sm.depth.fragment"))}),culling:t.coordinateSystem.type==="cartesian3D",renderOrder:10,renderNormal:!0})),this.groupGL.remove(this._prevBarMesh),this.groupGL.add(this._barMesh),this.groupGL.add(this._labelsBuilder.getMesh());var n=t.coordinateSystem;if(this._doRender(t,r),n&&n.viewGL){n.viewGL.add(this.groupGL);var a=n.viewGL.isLinearSpace()?"define":"undefine";this._barMesh.material[a]("fragment","SRGB_DECODE")}this._data=t.getData(),this._labelsBuilder.updateData(this._data),this._labelsBuilder.updateLabels(),this._updateAnimation(t)},_updateAnimation:function(t){Z.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevBarMesh,this._barMesh,t)},_doRender:function(t,e){var r=t.getData(),i=t.get("shading"),n=i!=="color",a=this,s=this._barMesh,o="ecgl."+i;(!s.material||s.material.shader.name!==o)&&(s.material=Z.createMaterial(o,["VERTEX_COLOR"])),Z.setMaterialFromModel(i,s.material,t,e),s.geometry.enableNormal=n,s.geometry.resetOffset();var u=t.get("bevelSize"),l=t.get("bevelSmoothness");s.geometry.bevelSegments=l,s.geometry.bevelSize=u;var c=[],h=new Float32Array(r.count()*4),f=0,v=0,d=!1;r.each(function(y){if(r.hasValue(y)){var _=Xi(r,y),x=$i(r,y);x==null&&(x=1),Z.parseColor(_,c),c[3]*=x,h[f++]=c[0],h[f++]=c[1],h[f++]=c[2],h[f++]=c[3],c[3]>0&&(v++,c[3]<.99&&(d=!0))}}),s.geometry.setBarCount(v);var p=r.getLayout("orient"),g=this._barIndexOfData=new Int32Array(r.count()),v=0;r.each(function(y){if(!r.hasValue(y)){g[y]=-1;return}var _=r.getItemLayout(y),x=_[0],b=_[1],C=_[2],E=y*4;c[0]=h[E++],c[1]=h[E++],c[2]=h[E++],c[3]=h[E++],c[3]>0&&(a._barMesh.geometry.addBar(x,b,p,C,c,y),g[y]=v++)}),s.geometry.dirty(),s.geometry.updateBoundingBox();var m=s.material;m.transparent=d,m.depthMask=!d,s.geometry.sortTriangles=d,this._initHandler(t,e)},_initHandler:function(t,e){var r=t.getData(),i=this._barMesh,n=t.coordinateSystem.type==="cartesian3D";i.seriesIndex=t.seriesIndex;var a=-1;i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(s){var o=i.geometry.getDataIndexOfVertex(s.triangle[0]);o!==a&&(this._downplay(a),this._highlight(o),this._labelsBuilder.updateLabels([o]),n&&e.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",o),r.get("y",o),r.get("z",o,!0)]})),a=o,i.dataIndex=o},this),i.on("mouseout",function(s){this._downplay(a),this._labelsBuilder.updateLabels(),a=-1,i.dataIndex=-1,n&&e.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_highlight:function(t){var e=this._data;if(e){var r=this._barIndexOfData[t];if(!(r<0)){var i=e.getItemModel(t),n=i.getModel("emphasis.itemStyle"),a=n.get("color"),s=n.get("opacity");if(a==null){var o=Xi(e,t);a=Ep(o,-.4)}s==null&&(s=$i(e,t));var u=Z.parseColor(a);u[3]*=s,this._barMesh.geometry.setColor(r,u),this._api.getZr().refresh()}}},_downplay:function(t){var e=this._data;if(e){var r=this._barIndexOfData[t];if(!(r<0)){var i=Xi(e,t),n=$i(e,t),a=Z.parseColor(i);a[3]*=n,this._barMesh.geometry.setColor(r,a),this._api.getZr().refresh()}}},highlight:function(t,e,r,i){this._toggleStatus("highlight",t,e,r,i)},downplay:function(t,e,r,i){this._toggleStatus("downplay",t,e,r,i)},_toggleStatus:function(t,e,r,i,n){var a=e.getData(),s=jt.queryDataIndex(a,n),o=this;s!=null?G(Kc.normalizeToArray(s),function(u){t==="highlight"?this._highlight(u):this._downplay(u)},this):a.each(function(u){t==="highlight"?o._highlight(u):o._downplay(u)})},remove:function(){this.groupGL.removeAll()},dispose:function(){this._labelsBuilder.dispose(),this.groupGL.removeAll()}});function mNe(t){t.registerChartView(vNe),t.registerSeriesModel(die),fNe(t),t.registerProcessor(function(e,r){e.eachSeriesByType("bar3d",function(i){var n=i.getData();n.filterSelf(function(a){return n.hasValue(a)})})})}ft(mNe);var yNe=Kt.extend({type:"series.line3D",dependencies:["grid3D"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(t,e){return uC(this)},formatTooltip:function(t){return qm(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,lineStyle:{width:2},animationDurationUpdate:500}}),_Ne=_i.vec3;Z.Shader.import(oC);const xNe=Wt.extend({type:"line3D",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this._api=e},render:function(t,e,r){var i=this._prevLine3DMesh;this._prevLine3DMesh=this._line3DMesh,this._line3DMesh=i,this._line3DMesh||(this._line3DMesh=new Z.Mesh({geometry:new qc({useNativeLine:!1,sortTriangles:!0}),material:new Z.Material({shader:Z.createShader("ecgl.meshLines3D")}),renderOrder:10}),this._line3DMesh.geometry.pick=this._pick.bind(this)),this.groupGL.remove(this._prevLine3DMesh),this.groupGL.add(this._line3DMesh);var n=t.coordinateSystem;if(n&&n.viewGL){n.viewGL.add(this.groupGL);var a=n.viewGL.isLinearSpace()?"define":"undefine";this._line3DMesh.material[a]("fragment","SRGB_DECODE")}this._doRender(t,r),this._data=t.getData(),this._camera=n.viewGL.camera,this.updateCamera(),this._updateAnimation(t)},updateCamera:function(){this._updateNDCPosition()},_doRender:function(t,e){var r=t.getData(),i=this._line3DMesh;i.geometry.resetOffset();var n=r.getLayout("points"),a=[],s=new Float32Array(n.length/3*4),o=0,u=!1;r.each(function(h){var f=Xi(r,h),d=$i(r,h);d==null&&(d=1),Z.parseColor(f,a),a[3]*=d,s[o++]=a[0],s[o++]=a[1],s[o++]=a[2],s[o++]=a[3],a[3]<.99&&(u=!0)}),i.geometry.setVertexCount(i.geometry.getPolylineVertexCount(n)),i.geometry.setTriangleCount(i.geometry.getPolylineTriangleCount(n)),i.geometry.addPolyline(n,s,jt.firstNotNull(t.get("lineStyle.width"),1)),i.geometry.dirty(),i.geometry.updateBoundingBox();var l=i.material;l.transparent=u,l.depthMask=!u;var c=t.getModel("debug.wireframe");c.get("show")?(i.geometry.createAttribute("barycentric","float",3),i.geometry.generateBarycentric(),i.material.set("both","WIREFRAME_TRIANGLE"),i.material.set("wireframeLineColor",Z.parseColor(c.get("lineStyle.color")||"rgba(0,0,0,0.5)")),i.material.set("wireframeLineWidth",jt.firstNotNull(c.get("lineStyle.width"),1))):i.material.set("both","WIREFRAME_TRIANGLE"),this._points=n,this._initHandler(t,e)},_updateAnimation:function(t){Z.updateVertexAnimation([["prevPosition","position"],["prevPositionPrev","positionPrev"],["prevPositionNext","positionNext"]],this._prevLine3DMesh,this._line3DMesh,t)},_initHandler:function(t,e){var r=t.getData(),i=t.coordinateSystem,n=this._line3DMesh,a=-1;n.seriesIndex=t.seriesIndex,n.off("mousemove"),n.off("mouseout"),n.on("mousemove",function(s){var o=i.pointToData(s.point.array),u=r.indicesOfNearest("x",o[0])[0];u!==a&&(e.dispatchAction({type:"grid3DShowAxisPointer",value:[r.get("x",u),r.get("y",u),r.get("z",u)]}),n.dataIndex=u),a=u},this),n.on("mouseout",function(s){a=-1,n.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateNDCPosition:function(){var t=new Qe,e=this._camera;Qe.multiply(t,e.projectionMatrix,e.viewMatrix);var r=this._positionNDC,i=this._points,n=i.length/3;(!r||r.length/2!==n)&&(r=this._positionNDC=new Float32Array(n*2));for(var a=[],s=0;s<n;s++){var o=s*3,u=s*2;a[0]=i[o],a[1]=i[o+1],a[2]=i[o+2],a[3]=1,_Ne.transformMat4(a,a,t.array),r[u]=a[0]/a[3],r[u+1]=a[1]/a[3]}},_pick:function(t,e,r,i,n,a){var s=this._positionNDC,o=this._data.hostModel,u=o.get("lineStyle.width"),l=-1,c=r.viewport.width,h=r.viewport.height,f=c*.5,d=h*.5;t=(t+1)*f,e=(e+1)*d;for(var p=1;p<s.length/2;p++){var g=(s[(p-1)*2]+1)*f,v=(s[(p-1)*2+1]+1)*d,m=(s[p*2]+1)*f,y=(s[p*2+1]+1)*d;if(Wu(g,v,m,y,u,t,e)){var _=(g-t)*(g-t)+(v-e)*(v-e),x=(m-t)*(m-t)+(y-e)*(y-e);l=_<x?p-1:p}}if(l>=0){var b=l*3,C=new Fe(this._points[b],this._points[b+1],this._points[b+2]);a.push({dataIndex:l,point:C,pointWorld:C.clone(),target:this._line3DMesh,distance:this._camera.getWorldPosition().dist(C)})}},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function bNe(t){t.registerChartView(xNe),t.registerSeriesModel(yNe),t.registerLayout(function(e,r){e.eachSeriesByType("line3D",function(i){var n=i.getData(),a=i.coordinateSystem;if(a){if(a.type!=="cartesian3D")return;var s=new Float32Array(n.count()*3),o=[],u=[],l=a.dimensions,c=l.map(function(h){return i.coordDimToDataDim(h)[0]});a&&n.each(c,function(h,f,d,p){o[0]=h,o[1]=f,o[2]=d,a.dataToPoint(o,u),s[p*3]=u[0],s[p*3+1]=u[1],s[p*3+2]=u[2]}),n.setLayout("points",s)}})})}ft(bNe);const CNe=Kt.extend({type:"series.scatter3D",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(t,e){return uC(this)},getFormattedLabel:function(t,e,r,i){var n=Kc.getFormattedLabel(this,t,e,r,i);if(n==null){var a=this.getData(),s=a.dimensions[a.dimensions.length-1];n=a.get(s,t)}return n},formatTooltip:function(t){return qm(this,t)},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,progressive:1e5,progressiveThreshold:1e5,grid3DIndex:0,globeIndex:0,symbol:"circle",symbolSize:10,blendMode:"source-over",label:{show:!1,position:"right",distance:5,textStyle:{fontSize:14,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:3}},itemStyle:{opacity:.8},emphasis:{label:{show:!0}},animationDurationUpdate:500}});function bT(t,i,r){var i=i||document.createElement("canvas");i.width=t,i.height=t;var n=i.getContext("2d");return r&&r(n),i}function ENe(t,e,r,i){Te(e)||(e=[e,e]);var n=y4.getMarginByStyle(r,i),a=e[0]+n.left+n.right,s=e[1]+n.top+n.bottom,o=vi(t,0,0,e[0],e[1]),u=Math.max(a,s);o.x=n.left,o.y=n.top,a>s?o.y+=(u-s)/2:o.x+=(u-a)/2;var l=o.getBoundingRect();return o.x-=l.x,o.y-=l.y,o.setStyle(r),o.update(),o.__size=u,o}function SNe(t,e,r){var i=e.width,n=e.height,a=t.canvas.width,s=t.canvas.height,o=i/a,u=n/s;function l(m){return m<128?1:-1}function c(m,y){var _=1/0;m=Math.floor(m*o),y=Math.floor(y*u);for(var x=y*i+m,b=e.data[x*4],C=l(b),E=Math.max(y-r,0);E<Math.min(y+r,n);E++)for(var A=Math.max(m-r,0);A<Math.min(m+r,i);A++){var x=E*i+A,S=e.data[x*4],T=l(S),D=A-m,F=E-y;if(C!==T){var B=D*D+F*F;B<_&&(_=B)}}return C*Math.sqrt(_)}for(var h=t.createImageData(a,s),f=0;f<s;f++)for(var d=0;d<a;d++){var p=c(d,f),g=p/r*.5+.5,v=(f*a+d)*4;h.data[v++]=(1-g)*255,h.data[v++]=(1-g)*255,h.data[v++]=(1-g)*255,h.data[v++]=255}return h}var y4={getMarginByStyle:function(t){var e=t.minMargin||0,r=0;t.stroke&&t.stroke!=="none"&&(r=t.lineWidth==null?1:t.lineWidth);var i=t.shadowBlur||0,n=t.shadowOffsetX||0,a=t.shadowOffsetY||0,s={};return s.left=Math.max(r/2,-n+i,e),s.right=Math.max(r/2,n+i,e),s.top=Math.max(r/2,-a+i,e),s.bottom=Math.max(r/2,a+i,e),s},createSymbolSprite:function(t,e,r,i){var n=ENe(t,e,r),a=y4.getMarginByStyle(r);return{image:bT(n.__size,i,function(s){Gb(s,n)}),margin:a}},createSDFFromCanvas:function(t,e,r,i){return bT(e,i,function(n){var a=t.getContext("2d"),s=a.getImageData(0,0,t.width,t.height);n.putImageData(SNe(n,s,r),0,0)})},createSimpleSprite:function(t,e){return bT(t,e,function(r){var i=t/2;r.beginPath(),r.arc(i,i,60,0,Math.PI*2,!1),r.closePath();var n=r.createRadialGradient(i,i,0,i,i,i);n.addColorStop(0,"rgba(255, 255, 255, 1)"),n.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),r.fillStyle=n,r.fill()})}},qU=_i.vec3;const TNe={needsSortVertices:function(){return this.sortVertices},needsSortVerticesProgressively:function(){return this.needsSortVertices()&&this.vertexCount>=2e4},doSortVertices:function(t,e){var r=this.indices,i=qU.create();if(!r){r=this.indices=this.vertexCount>65535?new Uint32Array(this.vertexCount):new Uint16Array(this.vertexCount);for(var n=0;n<r.length;n++)r[n]=n}if(e===0){var a=this.attributes.position,t=t.array,s=0;(!this._zList||this._zList.length!==this.vertexCount)&&(this._zList=new Float32Array(this.vertexCount));for(var o,n=0;n<this.vertexCount;n++){a.get(n,i);var u=qU.sqrDist(i,t);isNaN(u)&&(u=1e7,s++),n===0?(o=u,u=0):u=u-o,this._zList[n]=u}this._noneCount=s}if(this.vertexCount<2e4)e===0&&this._simpleSort(this._noneCount/this.vertexCount>.05);else for(var n=0;n<3;n++)this._progressiveQuickSort(e*3+n);this.dirtyIndices()},_simpleSort:function(t){var e=this._zList,r=this.indices;function i(n,a){return e[a]-e[n]}t?Array.prototype.sort.call(r,i):zp.sort(r,i,0,r.length-1)},_progressiveQuickSort:function(t){var e=this._zList,r=this.indices;this._quickSort=this._quickSort||new zp,this._quickSort.step(r,function(i,n){return e[n]-e[i]},t)}},ANe=`@export ecgl.sdfSprite.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform float elapsedTime : 0;

attribute vec3 position : POSITION;

#ifdef VERTEX_SIZE
attribute float size;
#else
uniform float u_Size;
#endif

#ifdef VERTEX_COLOR
attribute vec4 a_FillColor: COLOR;
varying vec4 v_Color;
#endif

#ifdef VERTEX_ANIMATION
attribute vec3 prevPosition;
attribute float prevSize;
uniform float percent : 1.0;
#endif


#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

varying float v_Size;

void main()
{

#ifdef POSITIONTEXTURE_ENABLED
 gl_Position = worldViewProjection * vec4(texture2D(positionTexture, position.xy).xy, -10.0, 1.0);
#else

 #ifdef VERTEX_ANIMATION
 vec3 pos = mix(prevPosition, position, percent);
 #else
 vec3 pos = position;
 #endif
 gl_Position = worldViewProjection * vec4(pos, 1.0);
#endif

#ifdef VERTEX_SIZE
#ifdef VERTEX_ANIMATION
 v_Size = mix(prevSize, size, percent);
#else
 v_Size = size;
#endif
#else
 v_Size = u_Size;
#endif

#ifdef VERTEX_COLOR
 v_Color = a_FillColor;
 #endif

 gl_PointSize = v_Size;
}

@end

@export ecgl.sdfSprite.fragment

uniform vec4 color: [1, 1, 1, 1];
uniform vec4 strokeColor: [1, 1, 1, 1];
uniform float smoothing: 0.07;

uniform float lineWidth: 0.0;

#ifdef VERTEX_COLOR
varying vec4 v_Color;
#endif

varying float v_Size;

uniform sampler2D sprite;

@import clay.util.srgb

void main()
{
 gl_FragColor = color;

 vec4 _strokeColor = strokeColor;

#ifdef VERTEX_COLOR
 gl_FragColor *= v_Color;
 #endif

#ifdef SPRITE_ENABLED
 float d = texture2D(sprite, gl_PointCoord).r;
 gl_FragColor.a *= smoothstep(0.5 - smoothing, 0.5 + smoothing, d);

 if (lineWidth > 0.0) {
 float sLineWidth = lineWidth / 2.0;

 float outlineMaxValue0 = 0.5 + sLineWidth;
 float outlineMaxValue1 = 0.5 + sLineWidth + smoothing;
 float outlineMinValue0 = 0.5 - sLineWidth - smoothing;
 float outlineMinValue1 = 0.5 - sLineWidth;

 if (d <= outlineMaxValue1 && d >= outlineMinValue0) {
 float a = _strokeColor.a;
 if (d <= outlineMinValue1) {
 a = a * smoothstep(outlineMinValue0, outlineMinValue1, d);
 }
 else {
 a = a * smoothstep(outlineMaxValue1, outlineMaxValue0, d);
 }
 gl_FragColor.rgb = mix(gl_FragColor.rgb * gl_FragColor.a, _strokeColor.rgb, a);
 gl_FragColor.a = gl_FragColor.a * (1.0 - a) + a;
 }
 }
#endif

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(gl_FragColor);
#endif
}
@end`;var CT=_i.vec4;Z.Shader.import(ANe);var wNe=Z.Mesh.extend(function(){var t=new Z.Geometry({dynamic:!0,attributes:{color:new Z.Geometry.Attribute("color","float",4,"COLOR"),position:new Z.Geometry.Attribute("position","float",3,"POSITION"),size:new Z.Geometry.Attribute("size","float",1),prevPosition:new Z.Geometry.Attribute("prevPosition","float",3),prevSize:new Z.Geometry.Attribute("prevSize","float",1)}});Object.assign(t,TNe);var e=new Z.Material({shader:Z.createShader("ecgl.sdfSprite"),transparent:!0,depthMask:!1});e.enableTexture("sprite"),e.define("both","VERTEX_COLOR"),e.define("both","VERTEX_SIZE");var r=new Z.Texture2D({image:document.createElement("canvas"),flipY:!1});return e.set("sprite",r),t.pick=this._pick.bind(this),{geometry:t,material:e,mode:Z.Mesh.POINTS,sizeScale:1}},{_pick:function(t,e,r,i,n,a){var s=this._positionNDC;if(s)for(var o=r.viewport,u=2/o.width,l=2/o.height,c=this.geometry.vertexCount-1;c>=0;c--){var h;this.geometry.indices?h=this.geometry.indices[c]:h=c;var f=s[h*2],d=s[h*2+1],p=this.geometry.attributes.size.get(h)/this.sizeScale,g=p/2;if(t>f-g*u&&t<f+g*u&&e>d-g*l&&e<d+g*l){var v=new Z.Vector3,m=new Z.Vector3;this.geometry.attributes.position.get(h,v.array),Z.Vector3.transformMat4(m,v,this.worldTransform),a.push({vertexIndex:h,point:v,pointWorld:m,target:this,distance:m.distance(i.getWorldPosition())})}}},updateNDCPosition:function(t,e,r){var i=this._positionNDC,n=this.geometry;(!i||i.length/2!==n.vertexCount)&&(i=this._positionNDC=new Float32Array(n.vertexCount*2));for(var a=CT.create(),s=0;s<n.vertexCount;s++)n.attributes.position.get(s,a),a[3]=1,CT.transformMat4(a,a,t.array),CT.scale(a,a,1/a[3]),i[s*2]=a[0],i[s*2+1]=a[1]}}),XU=20,ZU=-10;function DNe(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}function uf(t,e){this.rootNode=new Z.Node,this.is2D=t,this._labelsBuilder=new Bl(256,256,e),this._labelsBuilder.getMesh().renderOrder=100,this.rootNode.add(this._labelsBuilder.getMesh()),this._api=e,this._spriteImageCanvas=document.createElement("canvas"),this._startDataIndex=0,this._endDataIndex=0,this._sizeScale=1}uf.prototype={constructor:uf,highlightOnMouseover:!0,update:function(t,e,r,i,n){var a=this._prevMesh;this._prevMesh=this._mesh,this._mesh=a;var s=t.getData();if(i==null&&(i=0),n==null&&(n=s.count()),this._startDataIndex=i,this._endDataIndex=n-1,!this._mesh){var o=this._prevMesh&&this._prevMesh.material;this._mesh=new wNe({renderOrder:10,frustumCulling:!1}),o&&(this._mesh.material=o)}var o=this._mesh.material,u=this._mesh.geometry,l=u.attributes;this.rootNode.remove(this._prevMesh),this.rootNode.add(this._mesh),this._setPositionTextureToMesh(this._mesh,this._positionTexture);var c=this._getSymbolInfo(t,i,n),h=r.getDevicePixelRatio(),f=t.getModel("itemStyle").getItemStyle(),d=t.get("large"),p=1;c.maxSize>2?(p=this._updateSymbolSprite(t,f,c,h),o.enableTexture("sprite")):o.disableTexture("sprite"),l.position.init(n-i);var g=[];if(d){o.undefine("VERTEX_SIZE"),o.undefine("VERTEX_COLOR");var v=xRe(s),m=bRe(s);Z.parseColor(v,g),g[3]*=m,o.set({color:g,u_Size:c.maxSize*this._sizeScale})}else o.set({color:[1,1,1,1]}),o.define("VERTEX_SIZE"),o.define("VERTEX_COLOR"),l.size.init(n-i),l.color.init(n-i),this._originalOpacity=new Float32Array(n-i);for(var y=s.getLayout("points"),_=l.position.value,x=0;x<n-i;x++){var b=x*3,C=x*2;if(this.is2D?(_[b]=y[C],_[b+1]=y[C+1],_[b+2]=ZU):(_[b]=y[b],_[b+1]=y[b+1],_[b+2]=y[b+2]),!d){var v=Xi(s,x),m=$i(s,x);Z.parseColor(v,g),g[3]*=m,l.color.set(x,g),g[3]<.99;var E=s.getItemVisual(x,"symbolSize");E=E instanceof Array?Math.max(E[0],E[1]):E,isNaN(E)&&(E=0),l.size.value[x]=E*p*this._sizeScale,this._originalOpacity[x]=g[3]}}this._mesh.sizeScale=p,u.updateBoundingBox(),u.dirty(),this._updateMaterial(t,f);var A=t.coordinateSystem;if(A&&A.viewGL){var S=A.viewGL.isLinearSpace()?"define":"undefine";o[S]("fragment","SRGB_DECODE")}d||this._updateLabelBuilder(t,i,n),this._updateHandler(t,e,r),this._updateAnimation(t),this._api=r},getPointsMesh:function(){return this._mesh},updateLabels:function(t){this._labelsBuilder.updateLabels(t)},hideLabels:function(){this.rootNode.remove(this._labelsBuilder.getMesh())},showLabels:function(){this.rootNode.add(this._labelsBuilder.getMesh())},dispose:function(){this._labelsBuilder.dispose()},_updateSymbolSprite:function(t,e,r,i){r.maxSize=Math.min(r.maxSize*2,200);var n=[];return r.aspect>1?(n[0]=r.maxSize,n[1]=r.maxSize/r.aspect):(n[1]=r.maxSize,n[0]=r.maxSize*r.aspect),n[0]=n[0]||1,n[1]=n[1]||1,(this._symbolType!==r.type||!DNe(this._symbolSize,n)||this._lineWidth!==e.lineWidth)&&(y4.createSymbolSprite(r.type,n,{fill:"#fff",lineWidth:e.lineWidth,stroke:"transparent",shadowColor:"transparent",minMargin:Math.min(n[0]/2,10)},this._spriteImageCanvas),y4.createSDFFromCanvas(this._spriteImageCanvas,Math.min(this._spriteImageCanvas.width,32),XU,this._mesh.material.get("sprite").image),this._symbolType=r.type,this._symbolSize=n,this._lineWidth=e.lineWidth),this._spriteImageCanvas.width/r.maxSize*i},_updateMaterial:function(t,e){var r=t.get("blendMode")==="lighter"?Z.additiveBlend:null,i=this._mesh.material;i.blend=r,i.set("lineWidth",e.lineWidth/XU);var n=Z.parseColor(e.stroke);i.set("strokeColor",n),i.transparent=!0,i.depthMask=!1,i.depthTest=!this.is2D,i.sortVertices=!this.is2D},_updateLabelBuilder:function(t,s,r){var i=t.getData(),n=this._mesh.geometry,a=n.attributes.position.value,s=this._startDataIndex,o=this._mesh.sizeScale;this._labelsBuilder.updateData(i,s,r),this._labelsBuilder.getLabelPosition=function(u,l,c){var h=(u-s)*3;return[a[h],a[h+1],a[h+2]]},this._labelsBuilder.getLabelDistance=function(u,l,c){var h=n.attributes.size.get(u-s)/o;return h/2+c},this._labelsBuilder.updateLabels()},_updateAnimation:function(t){Z.updateVertexAnimation([["prevPosition","position"],["prevSize","size"]],this._prevMesh,this._mesh,t)},_updateHandler:function(t,e,r){var i=t.getData(),n=this._mesh,a=this,s=-1,o=t.coordinateSystem&&t.coordinateSystem.type==="cartesian3D",u;o&&(u=t.coordinateSystem.model),n.seriesIndex=t.seriesIndex,n.off("mousemove"),n.off("mouseout"),n.on("mousemove",function(l){var c=l.vertexIndex+a._startDataIndex;c!==s&&(this.highlightOnMouseover&&(this.downplay(i,s),this.highlight(i,c),this._labelsBuilder.updateLabels([c])),o&&r.dispatchAction({type:"grid3DShowAxisPointer",value:[i.get(t.coordDimToDataDim("x")[0],c),i.get(t.coordDimToDataDim("y")[0],c),i.get(t.coordDimToDataDim("z")[0],c)],grid3DIndex:u.componentIndex})),n.dataIndex=c,s=c},this),n.on("mouseout",function(l){var c=l.vertexIndex+a._startDataIndex;this.highlightOnMouseover&&(this.downplay(i,c),this._labelsBuilder.updateLabels()),s=-1,n.dataIndex=-1,o&&r.dispatchAction({type:"grid3DHideAxisPointer",grid3DIndex:u.componentIndex})},this)},updateLayout:function(t,e,r){var i=t.getData();if(this._mesh){var n=this._mesh.geometry.attributes.position.value,a=i.getLayout("points");if(this.is2D)for(var s=0;s<a.length/2;s++){var o=s*3,u=s*2;n[o]=a[u],n[o+1]=a[u+1],n[o+2]=ZU}else for(var s=0;s<a.length;s++)n[s]=a[s];this._mesh.geometry.dirty(),r.getZr().refresh()}},updateView:function(t){if(this._mesh){var e=new Qe;Qe.mul(e,t.viewMatrix,this._mesh.worldTransform),Qe.mul(e,t.projectionMatrix,e),this._mesh.updateNDCPosition(e,this.is2D,this._api)}},highlight:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var r=t.getItemModel(e),i=r.getModel("emphasis.itemStyle"),n=i.get("color"),a=i.get("opacity");if(n==null){var s=Xi(t,e);n=Ep(s,-.4)}a==null&&(a=$i(t,e));var o=Z.parseColor(n);o[3]*=a,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,o),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},downplay:function(t,e){if(!(e>this._endDataIndex||e<this._startDataIndex)){var r=Xi(t,e),i=$i(t,e),n=Z.parseColor(r);n[3]*=i,this._mesh.geometry.attributes.color.set(e-this._startDataIndex,n),this._mesh.geometry.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeOutAll:function(t){if(this._originalOpacity){for(var e=this._mesh.geometry,r=0;r<e.vertexCount;r++){var i=this._originalOpacity[r]*t;e.attributes.color.value[r*4+3]=i}e.dirtyAttribute("color"),this._api.getZr().refresh()}},fadeInAll:function(){this.fadeOutAll(1)},setPositionTexture:function(t){this._mesh&&this._setPositionTextureToMesh(this._mesh,t),this._positionTexture=t},removePositionTexture:function(){this._positionTexture=null,this._mesh&&this._setPositionTextureToMesh(this._mesh,null)},setSizeScale:function(t){if(t!==this._sizeScale){if(this._mesh){var e=this._mesh.material.get("u_Size");this._mesh.material.set("u_Size",e/this._sizeScale*t);var r=this._mesh.geometry.attributes;if(r.size.value)for(var i=0;i<r.size.value.length;i++)r.size.value[i]=r.size.value[i]/this._sizeScale*t}this._sizeScale=t}},_setPositionTextureToMesh:function(t,e){e&&t.material.set("positionTexture",e),t.material[e?"enableTexture":"disableTexture"]("positionTexture")},_getSymbolInfo:function(t,e,r){if(t.get("large")){var i=jt.firstNotNull(t.get("symbolSize"),1),o,a;return i instanceof Array?(o=Math.max(i[0],i[1]),a=i[0]/i[1]):(o=i,a=1),{maxSize:i,type:t.get("symbol"),aspect:a}}for(var n=t.getData(),a,s=n.getItemVisual(0,"symbol")||"circle",o=0,u=e;u<r;u++){var i=n.getItemVisual(u,"symbolSize"),l=n.getItemVisual(u,"symbol"),c;if(i instanceof Array)c=i[0]/i[1],o=Math.max(Math.max(i[0],i[1]),o);else{if(isNaN(i))continue;c=1,o=Math.max(i,o)}s=l,a=c}return{maxSize:o,type:s,aspect:a}}};const FNe=Wt.extend({type:"scatter3D",hasSymbolVisual:!0,__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this._pointsBuilderList=[],this._currentStep=0},render:function(t,e,r){if(this.groupGL.removeAll(),!!t.getData().count()){var i=t.coordinateSystem;if(i&&i.viewGL){i.viewGL.add(this.groupGL),this._camera=i.viewGL.camera;var n=this._pointsBuilderList[0];n||(n=this._pointsBuilderList[0]=new uf(!1,r)),this._pointsBuilderList.length=1,this.groupGL.add(n.rootNode),n.update(t,e,r),n.updateView(i.viewGL.camera)}}},incrementalPrepareRender:function(t,e,r){var i=t.coordinateSystem;i&&i.viewGL&&(i.viewGL.add(this.groupGL),this._camera=i.viewGL.camera),this.groupGL.removeAll(),this._currentStep=0},incrementalRender:function(t,e,r,i){if(!(t.end<=t.start)){var n=this._pointsBuilderList[this._currentStep];n||(n=new uf(!1,i),this._pointsBuilderList[this._currentStep]=n),this.groupGL.add(n.rootNode),n.update(e,r,i,t.start,t.end),n.updateView(e.coordinateSystem.viewGL.camera),this._currentStep++}},updateCamera:function(){this._pointsBuilderList.forEach(function(t){t.updateView(this._camera)},this)},highlight:function(t,e,r,i){this._toggleStatus("highlight",t,e,r,i)},downplay:function(t,e,r,i){this._toggleStatus("downplay",t,e,r,i)},_toggleStatus:function(t,e,r,i,n){var a=e.getData(),s=jt.queryDataIndex(a,n),o=t==="highlight";s!=null?G(Kc.normalizeToArray(s),function(u){for(var l=0;l<this._pointsBuilderList.length;l++){var c=this._pointsBuilderList[l];o?c.highlight(a,u):c.downplay(a,u)}},this):a.each(function(u){for(var l=0;l<this._pointsBuilderList.length;l++){var c=this._pointsBuilderList[l];o?c.highlight(a,u):c.downplay(a,u)}})},dispose:function(){this._pointsBuilderList.forEach(function(t){t.dispose()}),this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function INe(t){t.registerChartView(FNe),t.registerSeriesModel(CNe),t.registerLayout({seriesType:"scatter3D",reset:function(e){var r=e.coordinateSystem;if(r){var i=r.dimensions;if(i.length<3)return;var n=i.map(function(o){return e.coordDimToDataDim(o)[0]}),a=[],s=[];return{progress:function(o,u){for(var l=new Float32Array((o.end-o.start)*3),c=o.start;c<o.end;c++){var h=(c-o.start)*3;a[0]=u.get(n[0],c),a[1]=u.get(n[1],c),a[2]=u.get(n[2],c),r.dataToPoint(a,s),l[h]=s[0],l[h+1]=s[1],l[h+2]=s[2]}u.setLayout("points",l)}}}}})}ft(INe);var Mi=_i.vec3,KU=_i.vec2,ku=Mi.normalize,ix=Mi.cross,JU=Mi.sub,ET=Mi.add,Sc=Mi.create,Xl=Sc(),gs=Sc(),Zl=Sc(),jv=Sc(),QU=[],ej=[];function BNe(t,e){KU.copy(QU,t[0]),KU.copy(ej,t[1]);var r=[],i=r[0]=Sc(),n=r[1]=Sc(),a=r[2]=Sc(),s=r[3]=Sc();e.dataToPoint(QU,i),e.dataToPoint(ej,s),ku(Xl,i),JU(gs,s,i),ku(gs,gs),ix(Zl,gs,Xl),ku(Zl,Zl),ix(gs,Xl,Zl),ET(n,Xl,gs),ku(n,n),ku(Xl,s),JU(gs,i,s),ku(gs,gs),ix(Zl,gs,Xl),ku(Zl,Zl),ix(gs,Xl,Zl),ET(a,Xl,gs),ku(a,a),ET(jv,i,s),ku(jv,jv);var o=Mi.dot(i,jv),u=Mi.dot(jv,n),l=(Math.max(Mi.len(i),Mi.len(s))-o)/u*2;return Mi.scaleAndAdd(n,i,n,l),Mi.scaleAndAdd(a,s,a,l),r}function MNe(t,e,r){var i=[],n=i[0]=Mi.create(),a=i[1]=Mi.create(),s=i[2]=Mi.create(),o=i[3]=Mi.create();e.dataToPoint(t[0],n),e.dataToPoint(t[1],o);var u=Mi.dist(n,o);return Mi.lerp(a,n,o,.3),Mi.lerp(s,n,o,.3),Mi.scaleAndAdd(a,a,r,Math.min(u*.1,10)),Mi.scaleAndAdd(s,s,r,Math.min(u*.1,10)),i}function pie(t,e){for(var r=new Float32Array(t.length*3),i=0,n=[],a=0;a<t.length;a++)e.dataToPoint(t[a],n),r[i++]=n[0],r[i++]=n[1],r[i++]=n[2];return r}function gie(t){var e=[];return t.each(function(r){var i=t.getItemModel(r),n=i.option instanceof Array?i.option:i.getShallow("coords",!0);e.push(n)}),{coordsList:e}}function PNe(t,e){var r=t.getData(),i=t.get("polyline");r.setLayout("lineType",i?"polyline":"cubicBezier");var n=gie(r);r.each(function(a){var s=n.coordsList[a],o=i?pie:BNe;r.setItemLayout(a,o(s,e))})}function tj(t,e,r){var i=t.getData(),n=t.get("polyline"),a=gie(i);i.setLayout("lineType",n?"polyline":"cubicBezier"),i.each(function(s){var o=a.coordsList[s],u=n?pie(o,e):MNe(o,e,r);i.setItemLayout(s,u)})}function LNe(t,e){t.eachSeriesByType("lines3D",function(r){var i=r.coordinateSystem;i.type==="globe"?PNe(r,i):i.type==="geo3D"?tj(r,i,[0,1,0]):(i.type==="mapbox3D"||i.type==="maptalks3D")&&tj(r,i,[0,0,1])})}const ONe=Kt.extend({type:"series.lines3D",dependencies:["globe"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",getInitialData:function(t,e){var r=new Xr(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(i,n,a,s){if(i instanceof Array)return NaN;r.hasItemOption=!0;var o=i.value;if(o!=null)return o instanceof Array?o[s]:o}),r},defaultOption:{coordinateSystem:"globe",globeIndex:0,geo3DIndex:0,zlevel:-10,polyline:!1,effect:{show:!1,period:4,trailWidth:4,trailLength:.2,spotIntensity:6},silent:!0,blendMode:"source-over",lineStyle:{width:1,opacity:.5}}}),RNe=`@export ecgl.trail2.vertex
attribute vec3 position: POSITION;
attribute vec3 positionPrev;
attribute vec3 positionNext;
attribute float offset;
attribute float dist;
attribute float distAll;
attribute float start;

attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;
uniform float near : NEAR;

uniform float speed : 0;
uniform float trailLength: 0.3;
uniform float time;
uniform float period: 1000;

uniform float spotSize: 1;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.vertexHeader

@import ecgl.lines3D.clipNear

void main()
{
 @import ecgl.lines3D.expandLine

 gl_Position = currProj;

 v_Color = a_Color;

 @import ecgl.common.wireframe.vertexMain

#ifdef CONSTANT_SPEED
 float t = mod((speed * time + start) / distAll, 1. + trailLength) - trailLength;
#else
 float t = mod((time + start) / period, 1. + trailLength) - trailLength;
#endif

 float trailLen = distAll * trailLength;

 v_Percent = (dist - t * distAll) / trailLen;

 v_SpotPercent = spotSize / distAll;

 }
@end


@export ecgl.trail2.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform float spotIntensity: 5;

varying vec4 v_Color;
varying float v_Percent;
varying float v_SpotPercent;

@import ecgl.common.wireframe.fragmentHeader

@import clay.util.srgb

void main()
{
 if (v_Percent > 1.0 || v_Percent < 0.0) {
 discard;
 }

 float fade = v_Percent;

#ifdef SRGB_DECODE
 gl_FragColor = sRGBToLinear(color * v_Color);
#else
 gl_FragColor = color * v_Color;
#endif

 @import ecgl.common.wireframe.fragmentMain

 if (v_Percent > (1.0 - v_SpotPercent)) {
 gl_FragColor.rgb *= spotIntensity;
 }

 gl_FragColor.a *= fade;
}

@end`;var rj=_i.vec3;function NNe(t){return t>0?1:-1}Z.Shader.import(RNe);const kNe=Z.Mesh.extend(function(){var t=new Z.Material({shader:new Z.Shader(Z.Shader.source("ecgl.trail2.vertex"),Z.Shader.source("ecgl.trail2.fragment")),transparent:!0,depthMask:!1}),e=new qc({dynamic:!0});return e.createAttribute("dist","float",1),e.createAttribute("distAll","float",1),e.createAttribute("start","float",1),{geometry:e,material:t,culling:!1,$ignorePicking:!0}},{updateData:function(t,e,r){var i=t.hostModel,n=this.geometry,a=i.getModel("effect"),s=a.get("trailWidth")*e.getDevicePixelRatio(),o=a.get("trailLength"),u=i.get("effect.constantSpeed"),l=i.get("effect.period")*1e3,c=u!=null;c?this.material.set("speed",u/1e3):this.material.set("period",l),this.material[c?"define":"undefine"]("vertex","CONSTANT_SPEED");var h=i.get("polyline");n.trailLength=o,this.material.set("trailLength",o),n.resetOffset(),["position","positionPrev","positionNext"].forEach(function(E){n.attributes[E].value=r.attributes[E].value});var f=["dist","distAll","start","offset","color"];f.forEach(function(E){n.attributes[E].init(n.vertexCount)}),n.indices=r.indices;var d=[],p=a.get("trailColor"),g=a.get("trailOpacity"),v=p!=null,m=g!=null;this.updateWorldTransform();var y=this.worldTransform.x.len(),_=this.worldTransform.y.len(),x=this.worldTransform.z.len(),b=0,C=0;t.each(function(E){var A=t.getItemLayout(E),S=m?g:$i(t,E),T=Xi(t,E);S==null&&(S=1),d=Z.parseColor(v?p:T,d),d[3]*=S;for(var D=h?r.getPolylineVertexCount(A):r.getCubicCurveVertexCount(A[0],A[1],A[2],A[3]),F=0,B=[],O=[],M=b;M<b+D;M++)n.attributes.position.get(M,B),B[0]*=y,B[1]*=_,B[2]*=x,M>b&&(F+=rj.dist(B,O)),n.attributes.dist.set(M,F),rj.copy(O,B);C=Math.max(C,F);for(var R=Math.random()*(c?F:l),M=b;M<b+D;M++)n.attributes.distAll.set(M,F),n.attributes.start.set(M,R),n.attributes.offset.set(M,NNe(r.attributes.offset.get(M))*s/2),n.attributes.color.set(M,d);b+=D}),this.material.set("spotSize",C*.1*o),this.material.set("spotIntensity",a.get("spotIntensity")),n.dirty()},setAnimationTime:function(t){this.material.set("time",t)}});Z.Shader.import(oC);function zNe(t){return t.radius!=null?t.radius:t.size!=null?Math.max(t.size[0],t.size[1],t.size[2]):100}const HNe=Wt.extend({type:"lines3D",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this._meshLinesMaterial=new Z.Material({shader:Z.createShader("ecgl.meshLines3D"),transparent:!0,depthMask:!1}),this._linesMesh=new Z.Mesh({geometry:new qc,material:this._meshLinesMaterial,$ignorePicking:!0}),this._trailMesh=new kNe},render:function(t,e,r){this.groupGL.add(this._linesMesh);var i=t.coordinateSystem,n=t.getData();if(i&&i.viewGL){var a=i.viewGL;a.add(this.groupGL),this._updateLines(t,e,r);var s=i.viewGL.isLinearSpace()?"define":"undefine";this._linesMesh.material[s]("fragment","SRGB_DECODE"),this._trailMesh.material[s]("fragment","SRGB_DECODE")}var o=this._trailMesh;if(o.stopAnimation(),t.get("effect.show")){this.groupGL.add(o),o.updateData(n,r,this._linesMesh.geometry),o.__time=o.__time||0;var u=3600*1e3;this._curveEffectsAnimator=o.animate("",{loop:!0}).when(u,{__time:u}).during(function(){o.setAnimationTime(o.__time)}).start()}else this.groupGL.remove(o),this._curveEffectsAnimator=null;this._linesMesh.material.blend=this._trailMesh.material.blend=t.get("blendMode")==="lighter"?Z.additiveBlend:null},pauseEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.pause()},resumeEffect:function(){this._curveEffectsAnimator&&this._curveEffectsAnimator.resume()},toggleEffect:function(){var t=this._curveEffectsAnimator;t&&(t.isPaused()?t.resume():t.pause())},_updateLines:function(t,e,r){var i=t.getData(),n=t.coordinateSystem,a=this._linesMesh.geometry,s=t.get("polyline");a.expandLine=!0;var o=zNe(n);a.segmentScale=o/20;var u="lineStyle.width".split("."),l=r.getDevicePixelRatio();i.each(function(d){var p=i.getItemModel(d),g=p.get(u);g==null&&(g=1),i.setItemVisual(d,"lineWidth",g)}),a.useNativeLine=!1;var c=0,h=0;i.each(function(d){var p=i.getItemLayout(d);s?(c+=a.getPolylineVertexCount(p),h+=a.getPolylineTriangleCount(p)):(c+=a.getCubicCurveVertexCount(p[0],p[1],p[2],p[3]),h+=a.getCubicCurveTriangleCount(p[0],p[1],p[2],p[3]))}),a.setVertexCount(c),a.setTriangleCount(h),a.resetOffset();var f=[];i.each(function(d){var p=i.getItemLayout(d),g=Xi(i,d),v=$i(i,d),m=i.getItemVisual(d,"lineWidth")*l;v==null&&(v=1),f=Z.parseColor(g,f),f[3]*=v,s?a.addPolyline(p,f,m):a.addCubicCurve(p[0],p[1],p[2],p[3],f,m)}),a.dirty()},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll()}});function GNe(t){t.registerChartView(HNe),t.registerSeriesModel(ONe),t.registerLayout(LNe),t.registerAction({type:"lines3DPauseEffect",event:"lines3deffectpaused",update:"series.lines3D:pauseEffect"},function(){}),t.registerAction({type:"lines3DResumeEffect",event:"lines3deffectresumed",update:"series.lines3D:resumeEffect"},function(){}),t.registerAction({type:"lines3DToggleEffect",event:"lines3deffectchanged",update:"series.lines3D:toggleEffect"},function(){})}ft(GNe);function ij(t,e){for(var r=[],i=0;i<e.length;i++)r.push(t.dataToPoint(e[i]));return r}var vie=Kt.extend({type:"series.polygons3D",getRegionModel:function(t){return this.getData().getItemModel(t)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,r=this.getData().getItemModel(t),i=r.option instanceof Array?r.option:r.getShallow("coords");r.get("multiPolygon")||(i=[i]);for(var n=[],a=0;a<i.length;a++){for(var s=[],o=1;o<i[a].length;o++)s.push(ij(e,i[a][o]));n.push({exterior:ij(e,i[a][0]),interiors:s})}return n},getInitialData:function(t){var e=new Xr(["value"],this);return e.hasItemOption=!1,e.initData(t.data,[],function(r,i,n,a){if(r instanceof Array)return NaN;e.hasItemOption=!0;var s=r.value;if(s!=null)return s instanceof Array?s[a]:s}),e},defaultOption:{show:!0,data:null,multiPolygon:!1,progressiveThreshold:1e3,progressive:1e3,zlevel:-10,label:{show:!1,distance:2,textStyle:{fontSize:20,color:"#000",backgroundColor:"rgba(255,255,255,0.7)",padding:3,borderRadius:4}},itemStyle:{color:"#fff",borderWidth:0,borderColor:"#333"},emphasis:{itemStyle:{color:"#639fc0"},label:{show:!0}}}});et(vie.prototype,wg);const UNe=Wt.extend({type:"polygons3D",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this._geo3DBuilderList=[],this._currentStep=0},render:function(t,e,r){this.groupGL.removeAll();var i=t.coordinateSystem;i&&i.viewGL&&i.viewGL.add(this.groupGL);var n=this._geo3DBuilderList[0];n||(n=new Hp(r),n.extrudeY=i.type!=="mapbox3D"&&i.type!=="maptalks3D",this._geo3DBuilderList[0]=n),this._updateShaderDefines(i,n),n.update(t,e,r),this._geo3DBuilderList.length=1,this.groupGL.add(n.rootNode)},incrementalPrepareRender:function(t,e,r){this.groupGL.removeAll();var i=t.coordinateSystem;i&&i.viewGL&&i.viewGL.add(this.groupGL),this._currentStep=0},incrementalRender:function(t,e,r,i){var n=this._geo3DBuilderList[this._currentStep],a=e.coordinateSystem;n||(n=new Hp(i),n.extrudeY=a.type!=="mapbox3D"&&a.type!=="maptalks3D",this._geo3DBuilderList[this._currentStep]=n),n.update(e,r,i,t.start,t.end),this.groupGL.add(n.rootNode),this._updateShaderDefines(a,n),this._currentStep++},_updateShaderDefines:function(t,e){var r=t.viewGL.isLinearSpace()?"define":"undefine";e.rootNode.traverse(function(i){i.material&&(i.material[r]("fragment","SRGB_DECODE"),(t.type==="mapbox3D"||t.type==="maptalks3D")&&(i.material.define("fragment","NORMAL_UP_AXIS",2),i.material.define("fragment","NORMAL_FRONT_AXIS",1)))})},remove:function(){this.groupGL.removeAll()},dispose:function(){this.groupGL.removeAll(),this._geo3DBuilderList.forEach(function(t){t.dispose()})}});function jNe(t){t.registerChartView(UNe),t.registerSeriesModel(vie)}ft(jNe);var mie=Kt.extend({type:"series.surface",dependencies:["globe","grid3D","geo3D"],visualStyleAccessPath:"itemStyle",formatTooltip:function(t){return qm(this,t)},getInitialData:function(t,e){var r=t.data;function i(z){return!(isNaN(z.min)||isNaN(z.max)||isNaN(z.step))}function n(z){var k=r9;return Math.max(k(z.min),k(z.max),k(z.step))+1}if(!r)if(t.parametric){var x=t.parametricEquation||{},b=x.u||{},C=x.v||{};["u","v"].forEach(function(k){i(x[k])}),["x","y","z"].forEach(function(k){x[k]});var E=Math.floor((b.max+b.step-b.min)/b.step),A=Math.floor((C.max+C.step-C.min)/C.step);r=new Float32Array(E*A*5);for(var S=n(b),T=n(C),f=0,d=0;d<A;d++)for(var p=0;p<E;p++){var D=p*b.step+b.min,F=d*C.step+C.min,B=Rr(Math.min(D,b.max),S),O=Rr(Math.min(F,C.max),T),g=x.x(B,O),v=x.y(B,O),_=x.z(B,O);r[f++]=g,r[f++]=v,r[f++]=_,r[f++]=B,r[f++]=O}}else{var a=t.equation||{},s=a.x||{},o=a.y||{};if(["x","y"].forEach(function(z){i(a[z])}),typeof a.z!="function")return;var u=Math.floor((s.max+s.step-s.min)/s.step),l=Math.floor((o.max+o.step-o.min)/o.step);r=new Float32Array(u*l*3);for(var c=n(s),h=n(o),f=0,d=0;d<l;d++)for(var p=0;p<u;p++){var g=p*s.step+s.min,v=d*o.step+o.min,m=Rr(Math.min(g,s.max),c),y=Rr(Math.min(v,o.max),h),_=a.z(m,y);r[f++]=m,r[f++]=y,r[f++]=_}}var M=["x","y","z"];t.parametric&&M.push("u","v");var R=uC(this,M,r);return R},defaultOption:{coordinateSystem:"cartesian3D",zlevel:-10,grid3DIndex:0,shading:"lambert",parametric:!1,wireframe:{show:!0,lineStyle:{color:"rgba(0,0,0,0.5)",width:1}},equation:{x:{min:-1,max:1,step:.1},y:{min:-1,max:1,step:.1},z:null},parametricEquation:{u:{min:-1,max:1,step:.1},v:{min:-1,max:1,step:.1},x:null,y:null,z:null},dataShape:null,itemStyle:{},animationDurationUpdate:500}});et(mie.prototype,wg);var U0=_i.vec3;function VNe(t){return isNaN(t[0])||isNaN(t[1])||isNaN(t[2])}const $Ne=Wt.extend({type:"surface",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node},render:function(t,e,r){var i=this._prevSurfaceMesh;this._prevSurfaceMesh=this._surfaceMesh,this._surfaceMesh=i,this._surfaceMesh||(this._surfaceMesh=this._createSurfaceMesh()),this.groupGL.remove(this._prevSurfaceMesh),this.groupGL.add(this._surfaceMesh);var n=t.coordinateSystem,a=t.get("shading"),s=t.getData(),o="ecgl."+a;if((!this._surfaceMesh.material||this._surfaceMesh.material.shader.name!==o)&&(this._surfaceMesh.material=Z.createMaterial(o,["VERTEX_COLOR","DOUBLE_SIDED"])),Z.setMaterialFromModel(a,this._surfaceMesh.material,t,r),n&&n.viewGL){n.viewGL.add(this.groupGL);var u=n.viewGL.isLinearSpace()?"define":"undefine";this._surfaceMesh.material[u]("fragment","SRGB_DECODE")}var l=t.get("parametric"),c=t.get("dataShape");c||(c=this._getDataShape(s,l));var h=t.getModel("wireframe"),f=h.get("lineStyle.width"),d=h.get("show")&&f>0;this._updateSurfaceMesh(this._surfaceMesh,t,c,d);var p=this._surfaceMesh.material;d?(p.define("WIREFRAME_QUAD"),p.set("wireframeLineWidth",f),p.set("wireframeLineColor",Z.parseColor(h.get("lineStyle.color")))):p.undefine("WIREFRAME_QUAD"),this._initHandler(t,r),this._updateAnimation(t)},_updateAnimation:function(t){Z.updateVertexAnimation([["prevPosition","position"],["prevNormal","normal"]],this._prevSurfaceMesh,this._surfaceMesh,t)},_createSurfaceMesh:function(){var t=new Z.Mesh({geometry:new Z.Geometry({dynamic:!0,sortTriangles:!0}),shadowDepthMaterial:new Z.Material({shader:new Z.Shader(Z.Shader.source("ecgl.sm.depth.vertex"),Z.Shader.source("ecgl.sm.depth.fragment"))}),culling:!1,renderOrder:10,renderNormal:!0});return t.geometry.createAttribute("barycentric","float",4),t.geometry.createAttribute("prevPosition","float",3),t.geometry.createAttribute("prevNormal","float",3),Object.assign(t.geometry,pI),t},_initHandler:function(t,e){var r=t.getData(),i=this._surfaceMesh,n=t.coordinateSystem;function a(o,u){for(var l=1/0,c=-1,h=[],f=0;f<o.length;f++){i.geometry.attributes.position.get(o[f],h);var d=U0.dist(u.array,h);d<l&&(l=d,c=o[f])}return c}i.seriesIndex=t.seriesIndex;var s=-1;i.off("mousemove"),i.off("mouseout"),i.on("mousemove",function(o){var u=a(o.triangle,o.point);if(u>=0){var l=[];i.geometry.attributes.position.get(u,l);for(var c=n.pointToData(l),h=1/0,f=-1,d=[],p=0;p<r.count();p++){d[0]=r.get("x",p),d[1]=r.get("y",p),d[2]=r.get("z",p);var g=U0.squaredDistance(d,c);g<h&&(f=p,h=g)}f!==s&&e.dispatchAction({type:"grid3DShowAxisPointer",value:c}),s=f,i.dataIndex=f}else i.dataIndex=-1},this),i.on("mouseout",function(o){s=-1,i.dataIndex=-1,e.dispatchAction({type:"grid3DHideAxisPointer"})},this)},_updateSurfaceMesh:function(t,e,r,i){var n=t.geometry,a=e.getData(),s=a.getLayout("points"),o=0;a.each(function(J){a.hasValue(J)||o++});var u=o||i,l=n.attributes.position,c=n.attributes.normal,h=n.attributes.texcoord0,f=n.attributes.barycentric,d=n.attributes.color,p=r[0],g=r[1],v=e.get("shading"),m=v!=="color";if(u){var y=(p-1)*(g-1)*4;l.init(y),i&&f.init(y)}else l.value=new Float32Array(s);d.init(n.vertexCount),h.init(n.vertexCount);var _=[0,3,1,1,3,2],x=[[1,1,0,0],[0,1,0,1],[1,0,0,1],[1,0,1,0]],b=n.indices=new(n.vertexCount>65535?Uint32Array:Uint16Array)((p-1)*(g-1)*6),C=function(J,se,ve){ve[1]=J*g+se,ve[0]=J*g+se+1,ve[3]=(J+1)*g+se+1,ve[2]=(J+1)*g+se},E=!1;if(u){var A=[],S=[],T=0;m?c.init(n.vertexCount):c.value=null;for(var D=[[],[],[]],F=[],B=[],O=U0.create(),M=function(J,se,ve){var _e=se*3;return ve[0]=J[_e],ve[1]=J[_e+1],ve[2]=J[_e+2],ve},R=new Float32Array(s.length),z=new Float32Array(s.length/3*4),k=0;k<a.count();k++)if(a.hasValue(k)){var xe=Z.parseColor(Xi(a,k)),U=$i(a,k);U!=null&&(xe[3]*=U),xe[3]<.99&&(E=!0);for(var V=0;V<4;V++)z[k*4+V]=xe[V]}for(var j=[1e7,1e7,1e7],k=0;k<p-1;k++)for(var Y=0;Y<g-1;Y++){var te=k*(g-1)+Y,re=te*4;C(k,Y,A);for(var de=!1,V=0;V<4;V++)M(s,A[V],S),VNe(S)&&(de=!0);for(var V=0;V<4;V++)de?l.set(re+V,j):(M(s,A[V],S),l.set(re+V,S)),i&&f.set(re+V,x[V]);for(var V=0;V<6;V++)b[T++]=_[V]+re;if(m&&!de)for(var V=0;V<2;V++){for(var Oe=V*3,he=0;he<3;he++){var le=A[_[Oe]+he];M(s,le,D[he])}U0.sub(F,D[0],D[1]),U0.sub(B,D[1],D[2]),U0.cross(O,F,B);for(var he=0;he<3;he++){var pe=A[_[Oe]+he]*3;R[pe]=R[pe]+O[0],R[pe+1]=R[pe+1]+O[1],R[pe+2]=R[pe+2]+O[2]}}}if(m)for(var k=0;k<R.length/3;k++)M(R,k,O),U0.normalize(O,O),R[k*3]=O[0],R[k*3+1]=O[1],R[k*3+2]=O[2];for(var xe=[],be=[],k=0;k<p-1;k++)for(var Y=0;Y<g-1;Y++){var te=k*(g-1)+Y,re=te*4;C(k,Y,A);for(var V=0;V<4;V++){for(var he=0;he<4;he++)xe[he]=z[A[V]*4+he];d.set(re+V,xe),m&&(M(R,A[V],O),c.set(re+V,O));var le=A[V];be[0]=le%g/(g-1),be[1]=Math.floor(le/g)/(p-1),h.set(re+V,be)}te++}}else{for(var be=[],k=0;k<a.count();k++){be[0]=k%g/(g-1),be[1]=Math.floor(k/g)/(p-1);var xe=Z.parseColor(Xi(a,k)),U=$i(a,k);U!=null&&(xe[3]*=U),xe[3]<.99&&(E=!0),d.set(k,xe),h.set(k,be)}for(var A=[],q=0,k=0;k<p-1;k++)for(var Y=0;Y<g-1;Y++){C(k,Y,A);for(var V=0;V<6;V++)b[q++]=A[_[V]]}m?n.generateVertexNormals():c.value=null}t.material.get("normalMap")&&n.generateTangents(),n.updateBoundingBox(),n.dirty(),t.material.transparent=E,t.material.depthMask=!E},_getDataShape:function(t,e){for(var r=-1/0,i=0,n=0,a=!1,s=e?"u":"x",o=t.count(),u=0;u<o;u++){var l=t.get(s,u);l<r&&(n=0,i++),r=l,n++}if((!i||n===1)&&(a=!0),!a)return[i+1,n];for(var c=Math.floor(Math.sqrt(o));c>0;){if(Math.floor(o/c)===o/c)return[c,o/c];c--}return c=Math.floor(Math.sqrt(o)),[c,c]},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function WNe(t){t.registerChartView($Ne),t.registerSeriesModel(mie),t.registerLayout(function(e,r){e.eachSeriesByType("surface",function(i){var n=i.coordinateSystem;!n||n.type;var a=i.getData(),s=new Float32Array(3*a.count()),o=[NaN,NaN,NaN];if(n&&n.type==="cartesian3D"){var u=n.dimensions,l=u.map(function(c){return i.coordDimToDataDim(c)[0]});a.each(l,function(c,h,f,d){var p;a.hasValue(d)?p=n.dataToPoint([c,h,f]):p=o,s[d*3]=p[0],s[d*3+1]=p[1],s[d*3+2]=p[2]})}a.setLayout("points",s)})})}ft(WNe);function nj(t,e){for(var r=[],i=0;i<e.length;i++)r.push(t.dataToPoint(e[i]));return r}var Fg=Kt.extend({type:"series.map3D",layoutMode:"box",coordinateSystem:null,visualStyleAccessPath:"itemStyle",optionUpdated:function(t){var e=this.get("coordinateSystem");e==null||e==="geo3D"||(this.get("groundPlane.show")&&(this.option.groundPlane.show=!1),this._geo=null)},getInitialData:function(t){t.data=this.getFilledRegions(t.data,t.map);var e=Pm(t.data,{coordDimensions:["value"]}),r=new Xr(e,this);r.initData(t.data);var i={};return r.each(function(n){var a=r.getName(n),s=r.getItemModel(n);i[a]=s}),this._regionModelMap=i,r},formatTooltip:function(t){return qm(this,t)},getRegionModel:function(t){var e=this.getData().getName(t);return this._regionModelMap[e]||new Xt(null,this)},getRegionPolygonCoords:function(t){var e=this.coordinateSystem,r=this.getData().getName(t);if(e.transform){var i=e.getRegion(r);return i?i.geometries:[]}else{this._geo||(this._geo=gI.createGeo3D(this));for(var i=this._geo.getRegion(r),n=[],a=0;a<i.geometries.length;a++){var s=i.geometries[a],o=[],u=nj(e,s.exterior);if(o&&o.length)for(var l=0;l<s.interiors.length;l++)o.push(nj(e,o[l]));n.push({interiors:o,exterior:u})}return n}},getFormattedLabel:function(t,e){var r=Kc.getFormattedLabel(this,t,e);return r==null&&(r=this.getData().getName(t)),r},defaultOption:{coordinateSystem:"geo3D",data:null}});et(Fg.prototype,Xre);et(Fg.prototype,nC);et(Fg.prototype,Sg);et(Fg.prototype,Tg);et(Fg.prototype,wg);const YNe=Wt.extend({type:"map3D",__ecgl__:!0,init:function(t,e){this._geo3DBuilder=new Hp(e),this.groupGL=new Z.Node},render:function(t,e,r){var i=t.coordinateSystem;if(!(!i||!i.viewGL)){if(this.groupGL.add(this._geo3DBuilder.rootNode),i.viewGL.add(this.groupGL),i.type==="geo3D"){this._sceneHelper||(this._sceneHelper=new Gc,this._sceneHelper.initLight(this.groupGL)),this._sceneHelper.setScene(i.viewGL.scene),this._sceneHelper.updateLight(t),i.viewGL.setPostEffect(t.getModel("postEffect"),r),i.viewGL.setTemporalSuperSampling(t.getModel("temporalSuperSampling"));var n=this._control;n||(n=this._control=new $m({zr:r.getZr()}),this._control.init());var a=t.getModel("viewControl");n.setViewGL(i.viewGL),n.setFromViewControlModel(a,0),n.off("update"),n.on("update",function(){r.dispatchAction({type:"map3DChangeCamera",alpha:n.getAlpha(),beta:n.getBeta(),distance:n.getDistance(),from:this.uid,map3DId:t.id})}),this._geo3DBuilder.extrudeY=!0}else this._control&&(this._control.dispose(),this._control=null),this._sceneHelper&&(this._sceneHelper.dispose(),this._sceneHelper=null),t.getData().getLayout("geo3D"),this._geo3DBuilder.extrudeY=!1;this._geo3DBuilder.update(t,e,r,0,t.getData().count());var s=i.viewGL.isLinearSpace()?"define":"undefine";this._geo3DBuilder.rootNode.traverse(function(o){o.material&&o.material[s]("fragment","SRGB_DECODE")})}},afterRender:function(t,e,r,i){var n=i.renderer,a=t.coordinateSystem;a&&a.type==="geo3D"&&(this._sceneHelper.updateAmbientCubemap(n,t,r),this._sceneHelper.updateSkybox(n,t,r))},dispose:function(){this.groupGL.removeAll(),this._control.dispose(),this._geo3DBuilder.dispose()}});function qNe(t){iie(t),t.registerChartView(YNe),t.registerSeriesModel(Fg),t.registerAction({type:"map3DChangeCamera",event:"map3dcamerachanged",update:"series:updateCamera"},function(e,r){r.eachComponent({mainType:"series",subType:"map3D",query:e},function(i){i.setView(e)})})}ft(qNe);const XNe=Kt.extend({type:"series.scatterGL",dependencies:["grid","polar","geo","singleAxis"],visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,getInitialData:function(){return IEe(this)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,progressive:1e5,progressiveThreshold:1e5,large:!1,symbol:"circle",symbolSize:10,zoomScale:0,blendMode:"source-over",itemStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});function Ml(t){this.viewGL=t}Ml.prototype.reset=function(t,e){this._updateCamera(e.getWidth(),e.getHeight(),e.getDevicePixelRatio()),this._viewTransform=Oa(),this.updateTransform(t,e)};Ml.prototype.updateTransform=function(t,e){var r=t.coordinateSystem;r.getRoamTransform&&(Cf(this._viewTransform,r.getRoamTransform()),this._setCameraTransform(this._viewTransform),e.getZr().refresh())};Ml.prototype.dataToPoint=function(t,e,r){r=t.dataToPoint(e,null,r);var i=this._viewTransform;i&&Yi(r,r,i)};Ml.prototype.removeTransformInPoint=function(t){return this._viewTransform&&Yi(t,t,this._viewTransform),t};Ml.prototype.getZoom=function(){if(this._viewTransform){var t=this._viewTransform;return 1/Math.max(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]))}return 1};Ml.prototype._setCameraTransform=function(t){var e=this.viewGL.camera;e.position.set(t[4],t[5],0),e.scale.set(Math.sqrt(t[0]*t[0]+t[1]*t[1]),Math.sqrt(t[2]*t[2]+t[3]*t[3]),1)};Ml.prototype._updateCamera=function(t,e,r){this.viewGL.setViewport(0,0,t,e,r);var i=this.viewGL.camera;i.left=i.top=0,i.bottom=e,i.right=t,i.near=0,i.far=100};const ZNe=Wt.extend({type:"scatterGL",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this.viewGL=new yr("orthographic"),this.viewGL.add(this.groupGL),this._pointsBuilderList=[],this._currentStep=0,this._sizeScale=1,this._glViewHelper=new Ml(this.viewGL)},render:function(t,e,r){if(this.groupGL.removeAll(),this._glViewHelper.reset(t,r),!!t.getData().count()){var i=this._pointsBuilderList[0];i||(i=this._pointsBuilderList[0]=new uf(!0,r)),this._pointsBuilderList.length=1,this.groupGL.add(i.rootNode),this._removeTransformInPoints(t.getData().getLayout("points")),i.update(t,e,r),this.viewGL.setPostEffect(t.getModel("postEffect"),r)}},incrementalPrepareRender:function(t,e,r){this.groupGL.removeAll(),this._glViewHelper.reset(t,r),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),r)},incrementalRender:function(t,e,r,i){if(!(t.end<=t.start)){var n=this._pointsBuilderList[this._currentStep];n||(n=new uf(!0,i),this._pointsBuilderList[this._currentStep]=n),this.groupGL.add(n.rootNode),this._removeTransformInPoints(e.getData().getLayout("points")),n.setSizeScale(this._sizeScale),n.update(e,r,i,t.start,t.end),i.getZr().refresh(),this._currentStep++}},updateTransform:function(t,e,r){if(t.coordinateSystem.getRoamTransform){this._glViewHelper.updateTransform(t,r);var i=this._glViewHelper.getZoom(),n=Math.max((t.get("zoomScale")||0)*(i-1)+1,0);this._sizeScale=n,this._pointsBuilderList.forEach(function(a){a.setSizeScale(n)})}},_removeTransformInPoints:function(t){if(t)for(var e=[],r=0;r<t.length;r+=2)e[0]=t[r],e[1]=t[r+1],this._glViewHelper.removeTransformInPoint(e),t[r]=e[0],t[r+1]=e[1]},dispose:function(){this.groupGL.removeAll(),this._pointsBuilderList.forEach(function(t){t.dispose()})},remove:function(){this.groupGL.removeAll()}});function KNe(t){t.registerChartView(ZNe),t.registerSeriesModel(XNe),t.registerLayout({seriesType:"scatterGL",reset:function(e){var r=e.coordinateSystem,i=e.getData(),n;if(r){var a=r.dimensions.map(function(o){return i.mapDimension(o)}).slice(0,2),s=[];a.length===1?n=function(o){for(var u=new Float32Array((o.end-o.start)*2),l=o.start;l<o.end;l++){var c=(l-o.start)*2,h=i.get(a[0],l),f=r.dataToPoint(h);u[c]=f[0],u[c+1]=f[1]}i.setLayout("points",u)}:a.length===2&&(n=function(o){for(var u=new Float32Array((o.end-o.start)*2),l=o.start;l<o.end;l++){var c=(l-o.start)*2,h=i.get(a[0],l),f=i.get(a[1],l);s[0]=h,s[1]=f,s=r.dataToPoint(s),u[c]=s[0],u[c+1]=s[1]}i.setLayout("points",u)})}return{progress:n}}})}ft(KNe);function JNe(t,e,r,i,n){for(var a=new Fee(i),s=0;s<t.length;s++)a.addNode(jt.firstNotNull(t[s].id,t[s].name,s),s);for(var o=[],u=[],l=0,s=0;s<e.length;s++){var c=e[s],h=c.source,f=c.target;a.addEdge(h,f,l)&&(u.push(c),o.push(jt.firstNotNull(c.id,h+" > "+f)),l++)}var d,p=Pm(t,{coordDimensions:["value"]});d=new Xr(p,r),d.initData(t);var g=new Xr(["value"],r);return g.initData(u,o),n&&n(d,g),dF({mainData:d,struct:a,structAttr:"graph",datas:{node:d,edge:g},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var p1=Kt.extend({type:"series.graphGL",visualStyleAccessPath:"itemStyle",hasSymbolVisual:!0,init:function(t){p1.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this._updateCategoriesData()},mergeOption:function(t){p1.superApply(this,"mergeOption",arguments),this._updateCategoriesData()},getFormattedLabel:function(t,e,r,i){var n=Kc.getFormattedLabel(this,t,e,r,i);if(n==null){var a=this.getData(),s=a.dimensions[a.dimensions.length-1];n=a.get(s,t)}return n},getInitialData:function(t,e){var r=t.edges||t.links||[],i=t.data||t.nodes||[],n=this;if(i&&r)return JNe(i,r,this,!0,a).data;function a(s,o){s.wrapMethod("getItemModel",function(h){const f=n._categoriesModels,d=h.getShallow("category"),p=f[d];return p&&(p.parentModel=h.parentModel,h.parentModel=p),h});const u=e.getModel([]).getModel;function l(h,f){const d=u.call(this,h,f);return d.resolveParentPath=c,d}o.wrapMethod("getItemModel",function(h){return h.resolveParentPath=c,h.getModel=l,h});function c(h){if(h&&(h[0]==="label"||h[1]==="label")){const f=h.slice();return h[0]==="label"?f[0]="edgeLabel":h[1]==="label"&&(f[1]="edgeLabel"),f}return h}}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,r){if(r==="edge"){var i=this.getData(),n=this.getDataParams(t,r),a=i.graph.getEdgeByIndex(t),s=i.getName(a.node1.dataIndex),o=i.getName(a.node2.dataIndex),u=[];return s!=null&&u.push(s),o!=null&&u.push(o),u=Ai(u.join(" > ")),n.value&&(u+=" : "+Ai(n.value)),u}else return p1.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var t=(this.option.categories||[]).map(function(r){return r.value!=null?r:Object.assign({value:0},r)}),e=new Xr(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(r){return e.getItemModel(r,!0)})},setView:function(t){t.zoom!=null&&(this.option.zoom=t.zoom),t.offset!=null&&(this.option.offset=t.offset)},setNodePosition:function(t){for(var e=0;e<t.length/2;e++){var r=t[e*2],i=t[e*2+1],n=this.getData().getRawDataItem(e);n.x=r,n.y=i}},isAnimationEnabled:function(){return p1.superCall(this,"isAnimationEnabled")&&!(this.get("layout")==="force"&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:10,z:2,legendHoverLink:!0,layout:"forceAtlas2",forceAtlas2:{initLayout:null,GPU:!0,steps:1,maxSteps:1e3,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,edgeWeightInfluence:1,edgeWeight:[1,4],nodeWeight:[1,4],preventOverlap:!1,gravityCenter:null},focusNodeAdjacency:!0,focusNodeAdjacencyOn:"mouseover",left:"center",top:"center",symbol:"circle",symbolSize:5,roam:!1,center:null,zoom:1,label:{show:!1,formatter:"{b}",position:"right",distance:5,textStyle:{fontSize:14}},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{label:{show:!0}},animation:!1}}),Bi=_i.vec2,aj=[[0,0],[1,1]],bI=$t.extend(function(){return{segmentScale:4,dynamic:!0,useNativeLine:!0,attributes:{position:new $t.Attribute("position","float",2,"POSITION"),normal:new $t.Attribute("normal","float",2),offset:new $t.Attribute("offset","float",1),color:new $t.Attribute("color","float",4,"COLOR")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0,this._itemVertexOffsets=[]},setVertexCount:function(t){var e=this.attributes;this.vertexCount!==t&&(e.position.init(t),e.color.init(t),this.useNativeLine||(e.offset.init(t),e.normal.init(t)),t>65535?this.indices instanceof Uint16Array&&(this.indices=new Uint32Array(this.indices)):this.indices instanceof Uint32Array&&(this.indices=new Uint16Array(this.indices)))},setTriangleCount:function(t){this.triangleCount!==t&&(t===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(t*3):new Uint16Array(t*3))},_getCubicCurveApproxStep:function(t,e,r,i){var n=Bi.dist(t,e)+Bi.dist(r,e)+Bi.dist(i,r),a=1/(n+1)*this.segmentScale;return a},getCubicCurveVertexCount:function(t,e,r,i){var n=this._getCubicCurveApproxStep(t,e,r,i),a=Math.ceil(1/n);return this.useNativeLine?a*2:a*2+2},getCubicCurveTriangleCount:function(t,e,r,i){var n=this._getCubicCurveApproxStep(t,e,r,i),a=Math.ceil(1/n);return this.useNativeLine?0:a*2},getLineVertexCount:function(){return this.getPolylineVertexCount(aj)},getLineTriangleCount:function(){return this.getPolylineTriangleCount(aj)},getPolylineVertexCount:function(t){var e;if(typeof t=="number")e=t;else{var r=typeof t[0]!="number";e=r?t.length:t.length/2}return this.useNativeLine?(e-1)*2:(e-1)*2+2},getPolylineTriangleCount:function(t){var e;if(typeof t=="number")e=t;else{var r=typeof t[0]!="number";e=r?t.length:t.length/2}return this.useNativeLine?0:(e-1)*2},addCubicCurve:function(t,e,r,i,n,a){a==null&&(a=1);for(var s=t[0],o=t[1],u=e[0],l=e[1],c=r[0],h=r[1],f=i[0],d=i[1],p=this._getCubicCurveApproxStep(t,e,r,i),g=p*p,v=g*p,m=3*p,y=3*g,_=6*g,x=6*v,b=s-u*2+c,C=o-l*2+h,E=(u-c)*3-s+f,A=(l-h)*3-o+d,S=s,T=o,D=(u-s)*m+b*y+E*v,F=(l-o)*m+C*y+A*v,B=b*_+E*x,O=C*_+A*x,M=E*x,R=A*x,z=0,k=0,U=Math.ceil(1/p),V=new Float32Array((U+1)*3),V=[],j=0,k=0;k<U+1;k++)V[j++]=S,V[j++]=T,S+=D,T+=F,D+=B,F+=O,B+=M,O+=R,z+=p,z>1&&(S=D>0?Math.min(S,f):Math.max(S,f),T=F>0?Math.min(T,d):Math.max(T,d));this.addPolyline(V,n,a)},addLine:function(t,e,r,i){this.addPolyline([t,e],r,i)},addPolyline:function(){var t=Bi.create(),e=Bi.create(),r=Bi.create(),i=Bi.create(),n=[],a=[],s=[];return function(o,u,l,c,h){if(o.length){var f=typeof o[0]!="number";if(h==null&&(h=f?o.length:o.length/2),!(h<2)){c==null&&(c=0),l==null&&(l=1),this._itemVertexOffsets.push(this._vertexOffset);for(var d=f?typeof u[0]!="number":u.length/4===h,p=this.attributes.position,g=this.attributes.color,v=this.attributes.offset,m=this.attributes.normal,y=this.indices,_=this._vertexOffset,x,b=0;b<h;b++){if(f)n=o[b+c],d?x=u[b+c]:x=u;else{var C=b*2+c;if(n=n||[],n[0]=o[C],n[1]=o[C+1],d){var E=b*4+c;x=x||[],x[0]=u[E],x[1]=u[E+1],x[2]=u[E+2],x[3]=u[E+3]}else x=u}if(this.useNativeLine)b>1&&(p.copy(_,_-1),g.copy(_,_-1),_++);else{var A;if(b<h-1){if(f)Bi.copy(a,o[b+1]);else{var C=(b+1)*2+c;a=a||[],a[0]=o[C],a[1]=o[C+1]}if(b>0){Bi.sub(t,n,s),Bi.sub(e,a,n),Bi.normalize(t,t),Bi.normalize(e,e),Bi.add(i,t,e),Bi.normalize(i,i);var S=l/2*Math.min(1/Bi.dot(t,i),2);r[0]=-i[1],r[1]=i[0],A=S}else Bi.sub(t,a,n),Bi.normalize(t,t),r[0]=-t[1],r[1]=t[0],A=l/2}else Bi.sub(t,n,s),Bi.normalize(t,t),r[0]=-t[1],r[1]=t[0],A=l/2;m.set(_,r),m.set(_+1,r),v.set(_,A),v.set(_+1,-A),Bi.copy(s,n),p.set(_,n),p.set(_+1,n),g.set(_,x),g.set(_+1,x),_+=2}if(this.useNativeLine)g.set(_,x),p.set(_,n),_++;else if(b>0){var T=this._faceOffset*3,y=this.indices;y[T]=_-4,y[T+1]=_-3,y[T+2]=_-2,y[T+3]=_-3,y[T+4]=_-1,y[T+5]=_-2,this._faceOffset+=2}}this._vertexOffset=_}}}}(),setItemColor:function(t,e){for(var r=this._itemVertexOffsets[t],i=t<this._itemVertexOffsets.length-1?this._itemVertexOffsets[t+1]:this._vertexOffset,n=r;n<i;n++)this.attributes.color.set(n,e);this.dirty("color")}});st(bI.prototype,Wm);const QNe=`@export ecgl.forceAtlas2.updateNodeRepulsion

#define NODE_COUNT 0

uniform sampler2D positionTex;

uniform vec2 textureSize;
uniform float gravity;
uniform float scaling;
uniform vec2 gravityCenter;

uniform bool strongGravityMode;
uniform bool preventOverlap;

varying vec2 v_Texcoord;

void main() {

 vec4 n0 = texture2D(positionTex, v_Texcoord);

 vec2 force = vec2(0.0);
 for (int i = 0; i < NODE_COUNT; i++) {
 vec2 uv = vec2(
 mod(float(i), textureSize.x) / (textureSize.x - 1.0),
 floor(float(i) / textureSize.x) / (textureSize.y - 1.0)
 );
 vec4 n1 = texture2D(positionTex, uv);

 vec2 dir = n0.xy - n1.xy;
 float d2 = dot(dir, dir);

 if (d2 > 0.0) {
 float factor = 0.0;
 if (preventOverlap) {
 float d = sqrt(d2);
 d = d - n0.w - n1.w;
 if (d > 0.0) {
 factor = scaling * n0.z * n1.z / (d * d);
 }
 else if (d < 0.0) {
 factor = scaling * 100.0 * n0.z * n1.z;
 }
 }
 else {
 factor = scaling * n0.z * n1.z / d2;
 }
 force += dir * factor;
 }
 }

 vec2 dir = gravityCenter - n0.xy;
 float d = 1.0;
 if (!strongGravityMode) {
 d = length(dir);
 }

 force += dir * n0.z * gravity / (d + 1.0);

 gl_FragColor = vec4(force, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.vertex

attribute vec2 node1;
attribute vec2 node2;
attribute float weight;

uniform sampler2D positionTex;
uniform float edgeWeightInfluence;
uniform bool preventOverlap;
uniform bool linLogMode;

uniform vec2 windowSize: WINDOW_SIZE;

varying vec2 v_Force;

void main() {

 vec4 n0 = texture2D(positionTex, node1);
 vec4 n1 = texture2D(positionTex, node2);

 vec2 dir = n1.xy - n0.xy;
 float d = length(dir);
 float w;
 if (edgeWeightInfluence == 0.0) {
 w = 1.0;
 }
 else if (edgeWeightInfluence == 1.0) {
 w = weight;
 }
 else {
 w = pow(weight, edgeWeightInfluence);
 }
 vec2 offset = vec2(1.0 / windowSize.x, 1.0 / windowSize.y);
 vec2 scale = vec2((windowSize.x - 1.0) / windowSize.x, (windowSize.y - 1.0) / windowSize.y);
 vec2 pos = node1 * scale * 2.0 - 1.0;
 gl_Position = vec4(pos + offset, 0.0, 1.0);
 gl_PointSize = 1.0;

 float factor;
 if (preventOverlap) {
 d = d - n1.w - n0.w;
 }
 if (d <= 0.0) {
 v_Force = vec2(0.0);
 return;
 }

 if (linLogMode) {
 factor = w * log(d) / d;
 }
 else {
 factor = w;
 }
 v_Force = dir * factor;
}
@end

@export ecgl.forceAtlas2.updateEdgeAttraction.fragment

varying vec2 v_Force;

void main() {
 gl_FragColor = vec4(v_Force, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.vertex

attribute vec2 node;

varying vec2 v_NodeUv;

void main() {

 v_NodeUv = node;
 gl_Position = vec4(0.0, 0.0, 0.0, 1.0);
 gl_PointSize = 1.0;
}
@end

@export ecgl.forceAtlas2.calcWeightedSum.fragment

varying vec2 v_NodeUv;

uniform sampler2D positionTex;
uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;

void main() {
 vec2 force = texture2D(forceTex, v_NodeUv).rg;
 vec2 forcePrev = texture2D(forcePrevTex, v_NodeUv).rg;

 float mass = texture2D(positionTex, v_NodeUv).z;
 float swing = length(force - forcePrev) * mass;
 float traction = length(force + forcePrev) * 0.5 * mass;

 gl_FragColor = vec4(swing, traction, 0.0, 0.0);
}
@end

@export ecgl.forceAtlas2.calcGlobalSpeed

uniform sampler2D globalSpeedPrevTex;
uniform sampler2D weightedSumTex;
uniform float jitterTolerence;

void main() {
 vec2 weightedSum = texture2D(weightedSumTex, vec2(0.5)).xy;
 float prevGlobalSpeed = texture2D(globalSpeedPrevTex, vec2(0.5)).x;
 float globalSpeed = jitterTolerence * jitterTolerence
 * weightedSum.y / weightedSum.x;
 if (prevGlobalSpeed > 0.0) {
 globalSpeed = min(globalSpeed / prevGlobalSpeed, 1.5) * prevGlobalSpeed;
 }
 gl_FragColor = vec4(globalSpeed, 0.0, 0.0, 1.0);
}
@end

@export ecgl.forceAtlas2.updatePosition

uniform sampler2D forceTex;
uniform sampler2D forcePrevTex;
uniform sampler2D positionTex;
uniform sampler2D globalSpeedTex;

varying vec2 v_Texcoord;

void main() {
 vec2 force = texture2D(forceTex, v_Texcoord).xy;
 vec2 forcePrev = texture2D(forcePrevTex, v_Texcoord).xy;
 vec4 node = texture2D(positionTex, v_Texcoord);

 float globalSpeed = texture2D(globalSpeedTex, vec2(0.5)).r;
 float swing = length(force - forcePrev);
 float speed = 0.1 * globalSpeed / (0.1 + globalSpeed * sqrt(swing));

 float df = length(force);
 if (df > 0.0) {
 speed = min(df * speed, 10.0) / df;

 gl_FragColor = vec4(node.xy + speed * force, node.zw);
 }
 else {
 gl_FragColor = node;
 }
}
@end

@export ecgl.forceAtlas2.edges.vertex
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 node;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

uniform sampler2D positionTex;

void main()
{
 gl_Position = worldViewProjection * vec4(
 texture2D(positionTex, node).xy, -10.0, 1.0
 );
 v_Color = a_Color;
}
@end

@export ecgl.forceAtlas2.edges.fragment
uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
varying vec4 v_Color;
void main() {
 gl_FragColor = color * v_Color;
}
@end`;Z.Shader.import(QNe);var ST={repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null};function Ni(t){var e={type:Z.Texture.FLOAT,minFilter:Z.Texture.NEAREST,magFilter:Z.Texture.NEAREST};this._positionSourceTex=new Z.Texture2D(e),this._positionSourceTex.flipY=!1,this._positionTex=new Z.Texture2D(e),this._positionPrevTex=new Z.Texture2D(e),this._forceTex=new Z.Texture2D(e),this._forcePrevTex=new Z.Texture2D(e),this._weightedSumTex=new Z.Texture2D(e),this._weightedSumTex.width=this._weightedSumTex.height=1,this._globalSpeedTex=new Z.Texture2D(e),this._globalSpeedPrevTex=new Z.Texture2D(e),this._globalSpeedTex.width=this._globalSpeedTex.height=1,this._globalSpeedPrevTex.width=this._globalSpeedPrevTex.height=1,this._nodeRepulsionPass=new Di({fragment:Z.Shader.source("ecgl.forceAtlas2.updateNodeRepulsion")}),this._positionPass=new Di({fragment:Z.Shader.source("ecgl.forceAtlas2.updatePosition")}),this._globalSpeedPass=new Di({fragment:Z.Shader.source("ecgl.forceAtlas2.calcGlobalSpeed")}),this._copyPass=new Di({fragment:Z.Shader.source("clay.compositor.output")});var r=function(i){i.blendEquation(i.FUNC_ADD),i.blendFunc(i.ONE,i.ONE)};this._edgeForceMesh=new Z.Mesh({geometry:new Z.Geometry({attributes:{node1:new Z.Geometry.Attribute("node1","float",2),node2:new Z.Geometry.Attribute("node2","float",2),weight:new Z.Geometry.Attribute("weight","float",1)},dynamic:!0,mainAttribute:"node1"}),material:new Z.Material({transparent:!0,shader:Z.createShader("ecgl.forceAtlas2.updateEdgeAttraction"),blend:r,depthMask:!1,depthText:!1}),mode:Z.Mesh.POINTS}),this._weightedSumMesh=new Z.Mesh({geometry:new Z.Geometry({attributes:{node:new Z.Geometry.Attribute("node","float",2)},dynamic:!0,mainAttribute:"node"}),material:new Z.Material({transparent:!0,shader:Z.createShader("ecgl.forceAtlas2.calcWeightedSum"),blend:r,depthMask:!1,depthText:!1}),mode:Z.Mesh.POINTS}),this._framebuffer=new mi({depthBuffer:!1}),this._dummyCamera=new Z.OrthographicCamera({left:-1,right:1,top:1,bottom:-1,near:0,far:100}),this._globalSpeed=0}Ni.prototype.updateOption=function(t){for(var e in ST)this[e]=ST[e];var r=this._nodes.length;if(r>5e4?this.jitterTolerence=10:r>5e3?this.jitterTolerence=1:this.jitterTolerence=.1,r>100?this.scaling=2:this.scaling=10,t)for(var e in ST)t[e]!=null&&(this[e]=t[e]);if(this.repulsionByDegree)for(var i=this._positionSourceTex.pixels,n=0;n<this._nodes.length;n++)i[n*4+2]=(this._nodes[n].degree||0)+1};Ni.prototype._updateGravityCenter=function(t){var e=this._nodes,r=this._edges;if(this.gravityCenter)this._gravityCenter=this.gravityCenter;else{for(var i=[1/0,1/0],n=[-1/0,-1/0],a=0;a<e.length;a++)i[0]=Math.min(e[a].x,i[0]),i[1]=Math.min(e[a].y,i[1]),n[0]=Math.max(e[a].x,n[0]),n[1]=Math.max(e[a].y,n[1]);this._gravityCenter=[(i[0]+n[0])*.5,(i[1]+n[1])*.5]}for(var a=0;a<r.length;a++){var s=r[a].node1,o=r[a].node2;e[s].degree=(e[s].degree||0)+1,e[o].degree=(e[o].degree||0)+1}};Ni.prototype.initData=function(t,e){this._nodes=t,this._edges=e,this._updateGravityCenter();var r=Math.ceil(Math.sqrt(t.length)),i=r,n=new Float32Array(r*i*4);this._resize(r,i);for(var a=0,s=0;s<t.length;s++){var o=t[s];n[a++]=o.x||0,n[a++]=o.y||0,n[a++]=o.mass||1,n[a++]=o.size||1}this._positionSourceTex.pixels=n;var u=this._edgeForceMesh.geometry,l=e.length;u.attributes.node1.init(l*2),u.attributes.node2.init(l*2),u.attributes.weight.init(l*2);for(var c=[],s=0;s<e.length;s++){var h=u.attributes,f=e[s].weight;f==null&&(f=1),h.node1.set(s,this.getNodeUV(e[s].node1,c)),h.node2.set(s,this.getNodeUV(e[s].node2,c)),h.weight.set(s,f),h.node1.set(s+l,this.getNodeUV(e[s].node2,c)),h.node2.set(s+l,this.getNodeUV(e[s].node1,c)),h.weight.set(s+l,f)}var d=this._weightedSumMesh.geometry;d.attributes.node.init(t.length);for(var s=0;s<t.length;s++)d.attributes.node.set(s,this.getNodeUV(s,c));u.dirty(),d.dirty(),this._nodeRepulsionPass.material.define("fragment","NODE_COUNT",t.length),this._nodeRepulsionPass.material.setUniform("textureSize",[r,i]),this._inited=!1,this._frame=0};Ni.prototype.getNodes=function(){return this._nodes};Ni.prototype.getEdges=function(){return this._edges};Ni.prototype.step=function(t){this._inited||(this._initFromSource(t),this._inited=!0),this._frame++,this._framebuffer.attach(this._forceTex),this._framebuffer.bind(t);var e=this._nodeRepulsionPass;e.setUniform("strongGravityMode",this.strongGravityMode),e.setUniform("gravity",this.gravity),e.setUniform("gravityCenter",this._gravityCenter),e.setUniform("scaling",this.scaling),e.setUniform("preventOverlap",this.preventOverlap),e.setUniform("positionTex",this._positionPrevTex),e.render(t);var r=this._edgeForceMesh;r.material.set("linLogMode",this.linLogMode),r.material.set("edgeWeightInfluence",this.edgeWeightInfluence),r.material.set("preventOverlap",this.preventOverlap),r.material.set("positionTex",this._positionPrevTex),t.gl.enable(t.gl.BLEND),t.renderPass([r],this._dummyCamera),this._framebuffer.attach(this._weightedSumTex),t.gl.clearColor(0,0,0,0),t.gl.clear(t.gl.COLOR_BUFFER_BIT),t.gl.enable(t.gl.BLEND);var i=this._weightedSumMesh;i.material.set("positionTex",this._positionPrevTex),i.material.set("forceTex",this._forceTex),i.material.set("forcePrevTex",this._forcePrevTex),t.renderPass([i],this._dummyCamera),this._framebuffer.attach(this._globalSpeedTex);var n=this._globalSpeedPass;n.setUniform("globalSpeedPrevTex",this._globalSpeedPrevTex),n.setUniform("weightedSumTex",this._weightedSumTex),n.setUniform("jitterTolerence",this.jitterTolerence),t.gl.disable(t.gl.BLEND),n.render(t);var a=this._positionPass;this._framebuffer.attach(this._positionTex),a.setUniform("globalSpeedTex",this._globalSpeedTex),a.setUniform("positionTex",this._positionPrevTex),a.setUniform("forceTex",this._forceTex),a.setUniform("forcePrevTex",this._forcePrevTex),a.render(t),this._framebuffer.unbind(t),this._swapTexture()};Ni.prototype.update=function(t,e,r){e==null&&(e=1),e=Math.max(e,1);for(var i=0;i<e;i++)this.step(t);r&&r()};Ni.prototype.getNodePositionTexture=function(){return this._inited?this._positionPrevTex:this._positionSourceTex};Ni.prototype.getNodeUV=function(t,e){e=e||[];var r=this._positionTex.width,i=this._positionTex.height;return e[0]=t%r/(r-1),e[1]=Math.floor(t/r)/(i-1)||0,e};Ni.prototype.getNodePosition=function(t,e){var r=this._positionArr,i=this._positionTex.width,n=this._positionTex.height,a=i*n;(!r||r.length!==a*4)&&(r=this._positionArr=new Float32Array(a*4)),this._framebuffer.bind(t),this._framebuffer.attach(this._positionPrevTex),t.gl.readPixels(0,0,i,n,t.gl.RGBA,t.gl.FLOAT,r),this._framebuffer.unbind(t),e||(e=new Float32Array(this._nodes.length*2));for(var s=0;s<this._nodes.length;s++)e[s*2]=r[s*4],e[s*2+1]=r[s*4+1];return e};Ni.prototype.getTextureData=function(t,e){var r=this["_"+e+"Tex"],i=r.width,n=r.height;this._framebuffer.bind(t),this._framebuffer.attach(r);var a=new Float32Array(i*n*4);return t.gl.readPixels(0,0,i,n,t.gl.RGBA,t.gl.FLOAT,a),this._framebuffer.unbind(t),a};Ni.prototype.getTextureSize=function(){return{width:this._positionTex.width,height:this._positionTex.height}};Ni.prototype.isFinished=function(t){return this._frame>t};Ni.prototype._swapTexture=function(){var t=this._positionPrevTex;this._positionPrevTex=this._positionTex,this._positionTex=t;var t=this._forcePrevTex;this._forcePrevTex=this._forceTex,this._forceTex=t;var t=this._globalSpeedPrevTex;this._globalSpeedPrevTex=this._globalSpeedTex,this._globalSpeedTex=t};Ni.prototype._initFromSource=function(t){this._framebuffer.attach(this._positionPrevTex),this._framebuffer.bind(t),this._copyPass.setUniform("texture",this._positionSourceTex),this._copyPass.render(t),t.gl.clearColor(0,0,0,0),this._framebuffer.attach(this._forcePrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.attach(this._globalSpeedPrevTex),t.gl.clear(t.gl.COLOR_BUFFER_BIT),this._framebuffer.unbind(t)};Ni.prototype._resize=function(t,e){["_positionSourceTex","_positionTex","_positionPrevTex","_forceTex","_forcePrevTex"].forEach(function(r){this[r].width=t,this[r].height=e,this[r].dirty()},this)};Ni.prototype.dispose=function(t){this._framebuffer.dispose(t),this._copyPass.dispose(t),this._nodeRepulsionPass.dispose(t),this._positionPass.dispose(t),this._globalSpeedPass.dispose(t),this._edgeForceMesh.geometry.dispose(t),this._weightedSumMesh.geometry.dispose(t),this._positionSourceTex.dispose(t),this._positionTex.dispose(t),this._positionPrevTex.dispose(t),this._forceTex.dispose(t),this._forcePrevTex.dispose(t),this._weightedSumTex.dispose(t),this._globalSpeedTex.dispose(t),this._globalSpeedPrevTex.dispose(t)};function eke(){var t={create:function(){return new Float32Array(2)},dist:function(u,l){var c=l[0]-u[0],h=l[1]-u[1];return Math.sqrt(c*c+h*h)},len:function(u){var l=u[0],c=u[1];return Math.sqrt(l*l+c*c)},scaleAndAdd:function(u,l,c,h){return u[0]=l[0]+c[0]*h,u[1]=l[1]+c[1]*h,u},scale:function(u,l,c){return u[0]=l[0]*c,u[1]=l[1]*c,u},add:function(u,l,c){return u[0]=l[0]+c[0],u[1]=l[1]+c[1],u},sub:function(u,l,c){return u[0]=l[0]-c[0],u[1]=l[1]-c[1],u},normalize:function(u,l){var c=l[0],h=l[1],f=c*c+h*h;return f>0&&(f=1/Math.sqrt(f),u[0]=l[0]*f,u[1]=l[1]*f),u},negate:function(u,l){return u[0]=-l[0],u[1]=-l[1],u},copy:function(u,l){return u[0]=l[0],u[1]=l[1],u},set:function(u,l,c){return u[0]=l,u[1]=c,u}};function e(){this.subRegions=[],this.nSubRegions=0,this.node=null,this.mass=0,this.centerOfMass=null,this.bbox=new Float32Array(4),this.size=0}var r=e.prototype;r.beforeUpdate=function(){for(var u=0;u<this.nSubRegions;u++)this.subRegions[u].beforeUpdate();this.mass=0,this.centerOfMass&&(this.centerOfMass[0]=0,this.centerOfMass[1]=0),this.nSubRegions=0,this.node=null},r.afterUpdate=function(){this.subRegions.length=this.nSubRegions;for(var u=0;u<this.nSubRegions;u++)this.subRegions[u].afterUpdate()},r.addNode=function(u){if(this.nSubRegions===0)if(this.node==null){this.node=u;return}else this._addNodeToSubRegion(this.node),this.node=null;this._addNodeToSubRegion(u),this._updateCenterOfMass(u)},r.findSubRegion=function(u,l){for(var c=0;c<this.nSubRegions;c++){var h=this.subRegions[c];if(h.contain(u,l))return h}},r.contain=function(u,l){return this.bbox[0]<=u&&this.bbox[2]>=u&&this.bbox[1]<=l&&this.bbox[3]>=l},r.setBBox=function(u,l,c,h){this.bbox[0]=u,this.bbox[1]=l,this.bbox[2]=c,this.bbox[3]=h,this.size=(c-u+h-l)/2},r._newSubRegion=function(){var u=this.subRegions[this.nSubRegions];return u||(u=new e,this.subRegions[this.nSubRegions]=u),this.nSubRegions++,u},r._addNodeToSubRegion=function(u){var l=this.findSubRegion(u.position[0],u.position[1]),c=this.bbox;if(!l){var h=(c[0]+c[2])/2,f=(c[1]+c[3])/2,d=(c[2]-c[0])/2,p=(c[3]-c[1])/2,g=u.position[0]>=h?1:0,v=u.position[1]>=f?1:0,l=this._newSubRegion();l.setBBox(g*d+c[0],v*p+c[1],(g+1)*d+c[0],(v+1)*p+c[1])}l.addNode(u)},r._updateCenterOfMass=function(u){this.centerOfMass==null&&(this.centerOfMass=new Float32Array(2));var l=this.centerOfMass[0]*this.mass,c=this.centerOfMass[1]*this.mass;l+=u.position[0]*u.mass,c+=u.position[1]*u.mass,this.mass+=u.mass,this.centerOfMass[0]=l/this.mass,this.centerOfMass[1]=c/this.mass};function i(){this.position=new Float32Array(2),this.force=t.create(),this.forcePrev=t.create(),this.mass=1,this.inDegree=0,this.outDegree=0}function n(u,l){this.source=u,this.target=l,this.weight=1}function a(){this.autoSettings=!0,this.barnesHutOptimize=!0,this.barnesHutTheta=1.5,this.repulsionByDegree=!0,this.linLogMode=!1,this.strongGravityMode=!1,this.gravity=1,this.scaling=1,this.edgeWeightInfluence=1,this.jitterTolerence=.1,this.preventOverlap=!1,this.dissuadeHubs=!1,this.rootRegion=new e,this.rootRegion.centerOfMass=t.create(),this.nodes=[],this.edges=[],this.bbox=new Float32Array(4),this.gravityCenter=null,this._massArr=null,this._swingingArr=null,this._sizeArr=null,this._globalSpeed=0}var s=a.prototype;s.initNodes=function(u,l,c){var h=l.length;this.nodes.length=0;for(var f=typeof c<"u",d=0;d<h;d++){var p=new i;p.position[0]=u[d*2],p.position[1]=u[d*2+1],p.mass=l[d],f&&(p.size=c[d]),this.nodes.push(p)}this._massArr=l,this._swingingArr=new Float32Array(h),f&&(this._sizeArr=c)},s.initEdges=function(u,l){var c=u.length/2;this.edges.length=0;for(var h=0;h<c;h++){var f=u[h*2],d=u[h*2+1],p=this.nodes[f],g=this.nodes[d];if(!p||!g){console.error("Node not exists, try initNodes before initEdges");return}p.outDegree++,g.inDegree++;var v=new n(p,g);l&&(v.weight=l[h]),this.edges.push(v)}},s.updateSettings=function(){if(this.repulsionByDegree)for(var u=0;u<this.nodes.length;u++){var l=this.nodes[u];l.mass=l.inDegree+l.outDegree+1}else for(var u=0;u<this.nodes.length;u++){var l=this.nodes[u];l.mass=this._massArr[u]}},s.update=function(){var u=this.nodes.length;if(this.updateSettings(),this.updateBBox(),this.barnesHutOptimize){this.rootRegion.setBBox(this.bbox[0],this.bbox[1],this.bbox[2],this.bbox[3]),this.rootRegion.beforeUpdate();for(var l=0;l<u;l++)this.rootRegion.addNode(this.nodes[l]);this.rootRegion.afterUpdate()}for(var l=0;l<u;l++){var c=this.nodes[l];t.copy(c.forcePrev,c.force),t.set(c.force,0,0)}for(var l=0;l<u;l++){var h=this.nodes[l];if(this.barnesHutOptimize)this.applyRegionToNodeRepulsion(this.rootRegion,h);else for(var f=l+1;f<u;f++){var d=this.nodes[f];this.applyNodeToNodeRepulsion(h,d,!1)}this.gravity>0&&(this.strongGravityMode?this.applyNodeStrongGravity(h):this.applyNodeGravity(h))}for(var l=0;l<this.edges.length;l++)this.applyEdgeAttraction(this.edges[l]);for(var p=0,g=0,v=t.create(),l=0;l<u;l++){var c=this.nodes[l],m=t.dist(c.force,c.forcePrev);p+=m*c.mass,t.add(v,c.force,c.forcePrev);var y=t.len(v)*.5;g+=y*c.mass,this._swingingArr[l]=m}var _=this.jitterTolerence*this.jitterTolerence*g/p;this._globalSpeed>0&&(_=Math.min(_/this._globalSpeed,1.5)*this._globalSpeed),this._globalSpeed=_;for(var l=0;l<u;l++){var c=this.nodes[l],m=this._swingingArr[l],x=.1*_/(1+_*Math.sqrt(m)),b=t.len(c.force);b>0&&(x=Math.min(b*x,10)/b,t.scaleAndAdd(c.position,c.position,c.force,x))}},s.applyRegionToNodeRepulsion=function(){var u=t.create();return function(c,h){if(c.node)this.applyNodeToNodeRepulsion(c.node,h,!0);else{t.sub(u,h.position,c.centerOfMass);var f=u[0]*u[0]+u[1]*u[1];if(f>this.barnesHutTheta*c.size*c.size){var d=this.scaling*h.mass*c.mass/f;t.scaleAndAdd(h.force,h.force,u,d)}else for(var p=0;p<c.nSubRegions;p++)this.applyRegionToNodeRepulsion(c.subRegions[p],h)}}}(),s.applyNodeToNodeRepulsion=function(){var u=t.create();return function(c,h,f){if(c!=h){t.sub(u,c.position,h.position);var d=u[0]*u[0]+u[1]*u[1];if(d!==0){var p;if(this.preventOverlap){var g=Math.sqrt(d);if(g=g-c.size-h.size,g>0)p=this.scaling*c.mass*h.mass/(g*g);else if(g<0)p=this.scaling*100*c.mass*h.mass;else return}else p=this.scaling*c.mass*h.mass/d;t.scaleAndAdd(c.force,c.force,u,p),t.scaleAndAdd(h.force,h.force,u,-p)}}}}(),s.applyEdgeAttraction=function(){var u=t.create();return function(c){var h=c.source,f=c.target;t.sub(u,h.position,f.position);var d=t.len(u),p;this.edgeWeightInfluence===0?p=1:this.edgeWeightInfluence===1?p=c.weight:p=Math.pow(c.weight,this.edgeWeightInfluence);var g;this.preventOverlap&&(d=d-h.size-f.size,d<=0)||(this.linLogMode?g=-p*Math.log(d+1)/(d+1):g=-p,t.scaleAndAdd(h.force,h.force,u,g),t.scaleAndAdd(f.force,f.force,u,-g))}}(),s.applyNodeGravity=function(){var u=t.create();return function(l){t.sub(u,this.gravityCenter,l.position);var c=t.len(u);t.scaleAndAdd(l.force,l.force,u,this.gravity*l.mass/(c+1))}}(),s.applyNodeStrongGravity=function(){var u=t.create();return function(l){t.sub(u,this.gravityCenter,l.position),t.scaleAndAdd(l.force,l.force,u,this.gravity*l.mass)}}(),s.updateBBox=function(){for(var u=1/0,l=1/0,c=-1/0,h=-1/0,f=0;f<this.nodes.length;f++){var d=this.nodes[f].position;u=Math.min(u,d[0]),l=Math.min(l,d[1]),c=Math.max(c,d[0]),h=Math.max(h,d[1])}this.bbox[0]=u,this.bbox[1]=l,this.bbox[2]=c,this.bbox[3]=h},s.getGlobalSpeed=function(){return this._globalSpeed};var o=null;self.onmessage=function(u){switch(u.data.cmd){case"init":o=new a,o.initNodes(u.data.nodesPosition,u.data.nodesMass,u.data.nodesSize),o.initEdges(u.data.edges,u.data.edgesWeight);break;case"updateConfig":if(o)for(var l in u.data.config)o[l]=u.data.config[l];break;case"update":var c=u.data.steps;if(o){for(var h=0;h<c;h++)o.update();for(var f=o.nodes.length,d=new Float32Array(f*2),h=0;h<f;h++){var p=o.nodes[h];d[h*2]=p.position[0],d[h*2+1]=p.position[1]}self.postMessage({buffer:d.buffer,globalSpeed:o.getGlobalSpeed()},[d.buffer])}else{var g=new Float32Array;self.postMessage({buffer:g.buffer,globalSpeed:o.getGlobalSpeed()},[g.buffer])}break}}}var g1=eke.toString();g1=g1.slice(g1.indexOf("{")+1,g1.lastIndexOf("}"));var X1={barnesHutOptimize:!0,barnesHutTheta:1.5,repulsionByDegree:!0,linLogMode:!1,strongGravityMode:!1,gravity:1,scaling:1,edgeWeightInfluence:1,jitterTolerence:.1,preventOverlap:!1,dissuadeHubs:!1,gravityCenter:null},za=function(t){for(var e in X1)this[e]=X1[e];if(t)for(var e in t)this[e]=t[e];this._nodes=[],this._edges=[],this._disposed=!1,this._positionTex=new Rt({type:We.FLOAT,flipY:!1,minFilter:We.NEAREST,magFilter:We.NEAREST})};za.prototype.initData=function(t,e){var r=new Blob([g1]),i=window.URL.createObjectURL(r);this._worker=new Worker(i),this._worker.onmessage=this._$onupdate.bind(this),this._nodes=t,this._edges=e,this._frame=0;for(var n=t.length,a=e.length,s=new Float32Array(n*2),o=new Float32Array(n),u=new Float32Array(n),l=new Float32Array(a*2),c=new Float32Array(a),h=0;h<t.length;h++){var f=t[h];s[h*2]=f.x,s[h*2+1]=f.y,o[h]=f.mass==null?1:f.mass,u[h]=f.size==null?1:f.size}for(var h=0;h<e.length;h++){var d=e[h],p=d.node1,g=d.node2;l[h*2]=p,l[h*2+1]=g,c[h]=d.weight==null?1:d.weight}var v=Math.ceil(Math.sqrt(t.length)),m=v,y=new Float32Array(v*m*4),_=this._positionTex;_.width=v,_.height=m,_.pixels=y,this._worker.postMessage({cmd:"init",nodesPosition:s,nodesMass:o,nodesSize:u,edges:l,edgesWeight:c}),this._globalSpeed=1/0};za.prototype.updateOption=function(t){var e={};for(var r in X1)e[r]=X1[r];var i=this._nodes,n=this._edges,a=i.length;if(a>5e4?e.jitterTolerence=10:a>5e3?e.jitterTolerence=1:e.jitterTolerence=.1,a>100?e.scaling=2:e.scaling=10,a>1e3?e.barnesHutOptimize=!0:e.barnesHutOptimize=!1,t)for(var r in X1)t[r]!=null&&(e[r]=t[r]);if(!e.gravityCenter){for(var s=[1/0,1/0],o=[-1/0,-1/0],u=0;u<i.length;u++)s[0]=Math.min(i[u].x,s[0]),s[1]=Math.min(i[u].y,s[1]),o[0]=Math.max(i[u].x,o[0]),o[1]=Math.max(i[u].y,o[1]);e.gravityCenter=[(s[0]+o[0])*.5,(s[1]+o[1])*.5]}for(var u=0;u<n.length;u++){var l=n[u].node1,c=n[u].node2;i[l].degree=(i[l].degree||0)+1,i[c].degree=(i[c].degree||0)+1}this._worker&&this._worker.postMessage({cmd:"updateConfig",config:e})};za.prototype.update=function(t,e,r){e==null&&(e=1),e=Math.max(e,1),this._frame+=e,this._onupdate=r,this._worker&&this._worker.postMessage({cmd:"update",steps:Math.round(e)})};za.prototype._$onupdate=function(t){if(!this._disposed){var e=new Float32Array(t.data.buffer);this._globalSpeed=t.data.globalSpeed,this._positionArr=e,this._updateTexture(e),this._onupdate&&this._onupdate()}};za.prototype.getNodePositionTexture=function(){return this._positionTex};za.prototype.getNodeUV=function(t,e){e=e||[];var r=this._positionTex.width,i=this._positionTex.height;return e[0]=t%r/(r-1),e[1]=Math.floor(t/r)/(i-1),e};za.prototype.getNodes=function(){return this._nodes};za.prototype.getEdges=function(){return this._edges};za.prototype.isFinished=function(t){return this._frame>t};za.prototype.getNodePosition=function(t,e){if(e||(e=new Float32Array(this._nodes.length*2)),this._positionArr)for(var r=0;r<this._positionArr.length;r++)e[r]=this._positionArr[r];return e};za.prototype._updateTexture=function(t){for(var e=this._positionTex.pixels,r=0,i=0;i<t.length;)e[r++]=t[i++],e[r++]=t[i++],e[r++]=1,e[r++]=1;this._positionTex.dirty()};za.prototype.dispose=function(t){this._disposed=!0,this._worker=null};var tke=vn.extend(function(){return{zr:null,viewGL:null,minZoom:.2,maxZoom:5,_needsUpdate:!1,_dx:0,_dy:0,_zoom:1}},function(){this._mouseDownHandler=this._mouseDownHandler.bind(this),this._mouseWheelHandler=this._mouseWheelHandler.bind(this),this._mouseMoveHandler=this._mouseMoveHandler.bind(this),this._mouseUpHandler=this._mouseUpHandler.bind(this),this._update=this._update.bind(this)},{init:function(){var t=this.zr;t.on("mousedown",this._mouseDownHandler),t.on("mousewheel",this._mouseWheelHandler),t.on("globalout",this._mouseUpHandler),t.animation.on("frame",this._update)},setTarget:function(t){this._target=t},setZoom:function(t){this._zoom=Math.max(Math.min(t,this.maxZoom),this.minZoom),this._needsUpdate=!0},setOffset:function(t){this._dx=t[0],this._dy=t[1],this._needsUpdate=!0},getZoom:function(){return this._zoom},getOffset:function(){return[this._dx,this._dy]},_update:function(){if(this._target&&this._needsUpdate){var t=this._target,e=this._zoom;t.position.x=this._dx,t.position.y=this._dy,t.scale.set(e,e,e),this.zr.refresh(),this._needsUpdate=!1,this.trigger("update")}},_mouseDownHandler:function(t){if(!t.target){var e=t.offsetX,r=t.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(e,r))){this.zr.on("mousemove",this._mouseMoveHandler),this.zr.on("mouseup",this._mouseUpHandler);var i=this._convertPos(e,r);this._x=i.x,this._y=i.y}}},_convertPos:function(t,e){var r=this.viewGL.camera,i=this.viewGL.viewport;return{x:(t-i.x)/i.width*(r.right-r.left)+r.left,y:(e-i.y)/i.height*(r.bottom-r.top)+r.top}},_mouseMoveHandler:function(t){var e=this._convertPos(t.offsetX,t.offsetY);this._dx+=e.x-this._x,this._dy+=e.y-this._y,this._x=e.x,this._y=e.y,this._needsUpdate=!0},_mouseUpHandler:function(t){this.zr.off("mousemove",this._mouseMoveHandler),this.zr.off("mouseup",this._mouseUpHandler)},_mouseWheelHandler:function(t){t=t.event;var e=t.wheelDelta||-t.detail;if(e!==0){var r=t.offsetX,i=t.offsetY;if(!(this.viewGL&&!this.viewGL.containPoint(r,i))){var n=e>0?1.1:.9,a=Math.max(Math.min(this._zoom*n,this.maxZoom),this.minZoom);n=a/this._zoom;var s=this._convertPos(r,i),o=(s.x-this._dx)*(n-1),u=(s.y-this._dy)*(n-1);this._dx-=o,this._dy-=u,this._zoom=a,this._needsUpdate=!0}}},dispose:function(){var t=this.zr;t.off("mousedown",this._mouseDownHandler),t.off("mousemove",this._mouseMoveHandler),t.off("mouseup",this._mouseUpHandler),t.off("mousewheel",this._mouseWheelHandler),t.off("globalout",this._mouseUpHandler),t.animation.off("frame",this._update)}});const rke=`@export ecgl.lines2D.vertex

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

attribute vec2 position: POSITION;
attribute vec4 a_Color : COLOR;
varying vec4 v_Color;

#ifdef POSITIONTEXTURE_ENABLED
uniform sampler2D positionTexture;
#endif

void main()
{
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 v_Color = a_Color;
}

@end

@export ecgl.lines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;

void main()
{
 gl_FragColor = color * v_Color;
}
@end


@export ecgl.meshLines2D.vertex

attribute vec2 position: POSITION;
attribute vec2 normal;
attribute float offset;
attribute vec4 a_Color : COLOR;

uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;
uniform vec4 viewport : VIEWPORT;

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 vec4 p2 = worldViewProjection * vec4(position + normal, -10.0, 1.0);
 gl_Position = worldViewProjection * vec4(position, -10.0, 1.0);

 p2.xy /= p2.w;
 gl_Position.xy /= gl_Position.w;

 vec2 N = normalize(p2.xy - gl_Position.xy);
 gl_Position.xy += N * offset / viewport.zw * 2.0;

 gl_Position.xy *= gl_Position.w;

 v_Color = a_Color;
}
@end


@export ecgl.meshLines2D.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];

varying vec4 v_Color;
varying float v_Miter;

void main()
{
 gl_FragColor = color * v_Color;
}

@end`;var nx=_i.vec2;Z.Shader.import(rke);var ike=1;const nke=Wt.extend({type:"graphGL",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this.viewGL=new yr("orthographic"),this.viewGL.camera.left=this.viewGL.camera.right=0,this.viewGL.add(this.groupGL),this._pointsBuilder=new uf(!0,e),this._forceEdgesMesh=new Z.Mesh({material:new Z.Material({shader:Z.createShader("ecgl.forceAtlas2.edges"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new Z.Geometry({attributes:{node:new Z.Geometry.Attribute("node","float",2),color:new Z.Geometry.Attribute("color","float",4,"COLOR")},dynamic:!0,mainAttribute:"node"}),renderOrder:-1,mode:Z.Mesh.LINES}),this._edgesMesh=new Z.Mesh({material:new Z.Material({shader:Z.createShader("ecgl.meshLines2D"),transparent:!0,depthMask:!1,depthTest:!1}),$ignorePicking:!0,geometry:new bI({useNativeLine:!1,dynamic:!0}),renderOrder:-1,culling:!1}),this._layoutId=0,this._control=new tke({zr:e.getZr(),viewGL:this.viewGL}),this._control.setTarget(this.groupGL),this._control.init(),this._clickHandler=this._clickHandler.bind(this)},render:function(t,e,r){this.groupGL.add(this._pointsBuilder.rootNode),this._model=t,this._api=r,this._initLayout(t,e,r),this._pointsBuilder.update(t,e,r),this._forceLayoutInstance instanceof Ni||this.groupGL.remove(this._forceEdgesMesh),this._updateCamera(t,r),this._control.off("update"),this._control.on("update",function(){r.dispatchAction({type:"graphGLRoam",seriesId:t.id,zoom:this._control.getZoom(),offset:this._control.getOffset()}),this._pointsBuilder.updateView(this.viewGL.camera)},this),this._control.setZoom(jt.firstNotNull(t.get("zoom"),1)),this._control.setOffset(t.get("offset")||[0,0]);var i=this._pointsBuilder.getPointsMesh();if(i.off("mousemove",this._mousemoveHandler),i.off("mouseout",this._mouseOutHandler,this),r.getZr().off("click",this._clickHandler),this._pointsBuilder.highlightOnMouseover=!0,t.get("focusNodeAdjacency")){var n=t.get("focusNodeAdjacencyOn");n==="click"?r.getZr().on("click",this._clickHandler):n==="mouseover"&&(i.on("mousemove",this._mousemoveHandler,this),i.on("mouseout",this._mouseOutHandler,this),this._pointsBuilder.highlightOnMouseover=!1)}this._lastMouseOverDataIndex=-1},_clickHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id})}},_mousemoveHandler:function(t){if(!this._layouting){var e=this._pointsBuilder.getPointsMesh().dataIndex;e>=0?e!==this._lastMouseOverDataIndex&&this._api.dispatchAction({type:"graphGLFocusNodeAdjacency",seriesId:this._model.id,dataIndex:e}):this._mouseOutHandler(t),this._lastMouseOverDataIndex=e}},_mouseOutHandler:function(t){this._layouting||(this._api.dispatchAction({type:"graphGLUnfocusNodeAdjacency",seriesId:this._model.id}),this._lastMouseOverDataIndex=-1)},_updateForceEdgesGeometry:function(t,e){var r=this._forceEdgesMesh.geometry,i=e.getEdgeData(),n=0,a=this._forceLayoutInstance,s=i.count()*2;r.attributes.node.init(s),r.attributes.color.init(s),i.each(function(o){var u=t[o];r.attributes.node.set(n,a.getNodeUV(u.node1)),r.attributes.node.set(n+1,a.getNodeUV(u.node2));var l=Xi(i,u.dataIndex),c=Z.parseColor(l);c[3]*=jt.firstNotNull($i(i,u.dataIndex),1),r.attributes.color.set(n,c),r.attributes.color.set(n+1,c),n+=2}),r.dirty()},_updateMeshLinesGeometry:function(){var e=this._model.getEdgeData(),t=this._edgesMesh.geometry,e=this._model.getEdgeData(),r=this._model.getData().getLayout("points");t.resetOffset(),t.setVertexCount(e.count()*t.getLineVertexCount()),t.setTriangleCount(e.count()*t.getLineTriangleCount());var i=[],n=[],a=["lineStyle","width"];this._originalEdgeColors=new Float32Array(e.count()*4),this._edgeIndicesMap=new Float32Array(e.count()),e.each(function(s){var o=e.graph.getEdgeByIndex(s),u=o.node1.dataIndex*2,l=o.node2.dataIndex*2;i[0]=r[u],i[1]=r[u+1],n[0]=r[l],n[1]=r[l+1];var c=Xi(e,o.dataIndex),h=Z.parseColor(c);h[3]*=jt.firstNotNull($i(e,o.dataIndex),1);var f=e.getItemModel(o.dataIndex),d=jt.firstNotNull(f.get(a),1)*this._api.getDevicePixelRatio();t.addLine(i,n,h,d);for(var p=0;p<4;p++)this._originalEdgeColors[o.dataIndex*4+p]=h[p];this._edgeIndicesMap[o.dataIndex]=s},this),t.dirty()},_updateForceNodesGeometry:function(t){for(var e=this._pointsBuilder.getPointsMesh(),r=[],i=0;i<t.count();i++)this._forceLayoutInstance.getNodeUV(i,r),e.geometry.attributes.position.set(i,r);e.geometry.dirty("position")},_initLayout:function(t,e,r){var i=t.get("layout"),n=t.getGraph(),a=t.getBoxLayoutParams(),s=ai(a,{width:r.getWidth(),height:r.getHeight()});i==="force"&&(i="forceAtlas2"),this.stopLayout(t,e,r,{beforeLayout:!0});var o=t.getData(),u=t.getData();if(i==="forceAtlas2"){var l=t.getModel("forceAtlas2"),c=this._forceLayoutInstance,h=[],f=[],d=o.getDataExtent("value"),p=u.getDataExtent("value"),g=jt.firstNotNull(l.get("edgeWeight"),1),v=jt.firstNotNull(l.get("nodeWeight"),1);typeof g=="number"&&(g=[g,g]),typeof v=="number"&&(v=[v,v]);var m=0,y={},_=new Float32Array(o.count()*2);if(n.eachNode(function(b){var C=b.dataIndex,E=o.get("value",C),A,S;if(o.hasItemOption){var T=o.getItemModel(C);A=T.get("x"),S=T.get("y")}A==null&&(A=s.x+Math.random()*s.width,S=s.y+Math.random()*s.height),_[m*2]=A,_[m*2+1]=S,y[b.id]=m++;var D=nr(E,d,v);isNaN(D)&&(isNaN(v[0])?D=1:D=v[0]),h.push({x:A,y:S,mass:D,size:o.getItemVisual(C,"symbolSize")})}),o.setLayout("points",_),n.eachEdge(function(b){var C=b.dataIndex,E=o.get("value",C),A=nr(E,p,g);isNaN(A)&&(isNaN(g[0])?A=1:A=g[0]),f.push({node1:y[b.node1.id],node2:y[b.node2.id],weight:A,dataIndex:C})}),!c){var x=l.get("GPU");this._forceLayoutInstance&&(x&&!(this._forceLayoutInstance instanceof Ni)||!x&&!(this._forceLayoutInstance instanceof za))&&(this._forceLayoutInstanceToDispose=this._forceLayoutInstance),c=this._forceLayoutInstance=x?new Ni:new za}c.initData(h,f),c.updateOption(l.option),this._updateForceEdgesGeometry(c.getEdges(),t),this._updatePositionTexture(),r.dispatchAction({type:"graphGLStartLayout",from:this.uid})}else{var _=new Float32Array(o.count()*2),m=0;n.eachNode(function(E){var A=E.dataIndex,S,T;if(o.hasItemOption){var D=o.getItemModel(A);S=D.get("x"),T=D.get("y")}_[m++]=S,_[m++]=T}),o.setLayout("points",_),this._updateAfterLayout(t,e,r)}},_updatePositionTexture:function(){var t=this._forceLayoutInstance.getNodePositionTexture();this._pointsBuilder.setPositionTexture(t),this._forceEdgesMesh.material.set("positionTex",t)},startLayout:function(t,e,a,i){if(!(i&&i.from!=null&&i.from!==this.uid)){var n=this.viewGL,a=this._api,s=this._forceLayoutInstance,o=this._model.getData(),u=this._model.getModel("forceAtlas2");if(s&&(this.groupGL.remove(this._edgesMesh),this.groupGL.add(this._forceEdgesMesh),!!this._forceLayoutInstance)){this._updateForceNodesGeometry(t.getData()),this._pointsBuilder.hideLabels();var l=this,c=this._layoutId=ike++,h=u.getShallow("maxSteps"),f=u.getShallow("steps"),d=0,p=Math.max(f*2,20),g=function(v){if(v===l._layoutId){if(s.isFinished(h)){a.dispatchAction({type:"graphGLStopLayout",from:l.uid}),a.dispatchAction({type:"graphGLFinishLayout",points:o.getLayout("points"),from:l.uid});return}s.update(n.layer.renderer,f,function(){l._updatePositionTexture(),d+=f,d>=p&&(l._syncNodePosition(t),d=0),a.getZr().refresh(),Xh(function(){g(v)})})}};Xh(function(){l._forceLayoutInstanceToDispose&&(l._forceLayoutInstanceToDispose.dispose(n.layer.renderer),l._forceLayoutInstanceToDispose=null),g(c)}),this._layouting=!0}}},stopLayout:function(t,e,r,i){i&&i.from!=null&&i.from!==this.uid||(this._layoutId=0,this.groupGL.remove(this._forceEdgesMesh),this.groupGL.add(this._edgesMesh),this._forceLayoutInstance&&this.viewGL.layer&&(i&&i.beforeLayout||(this._syncNodePosition(t),this._updateAfterLayout(t,e,r)),this._api.getZr().refresh(),this._layouting=!1))},_syncNodePosition:function(t){var e=this._forceLayoutInstance.getNodePosition(this.viewGL.layer.renderer);t.getData().setLayout("points",e),t.setNodePosition(e)},_updateAfterLayout:function(t,e,r){this._updateMeshLinesGeometry(),this._pointsBuilder.removePositionTexture(),this._pointsBuilder.updateLayout(t,e,r),this._pointsBuilder.updateView(this.viewGL.camera),this._pointsBuilder.updateLabels(),this._pointsBuilder.showLabels()},focusNodeAdjacency:function(t,e,r,i){var n=this._model.getData();this._downplayAll();var a=i.dataIndex,s=n.graph,o=[],u=s.getNodeByIndex(a);o.push(u),u.edges.forEach(function(c){c.dataIndex<0||(c.node1!==u&&o.push(c.node1),c.node2!==u&&o.push(c.node2))},this),this._pointsBuilder.fadeOutAll(.05),this._fadeOutEdgesAll(.05),o.forEach(function(c){this._pointsBuilder.highlight(n,c.dataIndex)},this),this._pointsBuilder.updateLabels(o.map(function(c){return c.dataIndex}));var l=[];u.edges.forEach(function(c){c.dataIndex>=0&&(this._highlightEdge(c.dataIndex),l.push(c))},this),this._focusNodes=o,this._focusEdges=l},unfocusNodeAdjacency:function(t,e,r,i){this._downplayAll(),this._pointsBuilder.fadeInAll(),this._fadeInEdgesAll(),this._pointsBuilder.updateLabels()},_highlightEdge:function(t){var e=this._model.getEdgeData().getItemModel(t),r=Z.parseColor(e.get("emphasis.lineStyle.color")||e.get("lineStyle.color")),i=jt.firstNotNull(e.get("emphasis.lineStyle.opacity"),e.get("lineStyle.opacity"),1);r[3]*=i,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],r)},_downplayAll:function(){this._focusNodes&&this._focusNodes.forEach(function(t){this._pointsBuilder.downplay(this._model.getData(),t.dataIndex)},this),this._focusEdges&&this._focusEdges.forEach(function(t){this._downplayEdge(t.dataIndex)},this)},_downplayEdge:function(t){var e=this._getColor(t,[]);this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[t],e)},_setEdgeFade:function(){var t=[];return function(e,r){this._getColor(e,t),t[3]*=r,this._edgesMesh.geometry.setItemColor(this._edgeIndicesMap[e],t)}}(),_getColor:function(t,e){for(var r=0;r<4;r++)e[r]=this._originalEdgeColors[t*4+r];return e},_fadeOutEdgesAll:function(t){var e=this._model.getData().graph;e.eachEdge(function(r){this._setEdgeFade(r.dataIndex,t)},this)},_fadeInEdgesAll:function(){this._fadeOutEdgesAll(1)},_updateCamera:function(t,e){this.viewGL.setViewport(0,0,e.getWidth(),e.getHeight(),e.getDevicePixelRatio());for(var r=this.viewGL.camera,i=t.getData(),n=i.getLayout("points"),a=nx.create(1/0,1/0),s=nx.create(-1/0,-1/0),o=[],u=0;u<n.length;)o[0]=n[u++],o[1]=n[u++],nx.min(a,a,o),nx.max(s,s,o);var l=(s[1]+a[1])/2,c=(s[0]+a[0])/2;if(!(c>r.left&&c<r.right&&l<r.bottom&&l>r.top)){var h=Math.max(s[0]-a[0],10),f=h/e.getWidth()*e.getHeight();h*=1.4,f*=1.4,a[0]-=h*.2,r.left=a[0],r.top=l-f/2,r.bottom=l+f/2,r.right=h+a[0],r.near=0,r.far=100}},dispose:function(){var t=this.viewGL.layer.renderer;this._forceLayoutInstance&&this._forceLayoutInstance.dispose(t),this.groupGL.removeAll(),this._layoutId=-1,this._pointsBuilder.dispose()},remove:function(){this.groupGL.removeAll(),this._control.dispose()}});function ax(t){return t instanceof Array||(t=[t,t]),t}function ake(t){t.registerChartView(nke),t.registerSeriesModel(p1),t.registerVisual(function(r){const i={};r.eachSeriesByType("graphGL",function(n){var a=n.getCategoriesData(),s=n.getData(),o={};a.each(function(u){var l=a.getName(u);o["ec-"+l]=u;var c=a.getItemModel(u),h=c.getModel("itemStyle").getItemStyle();h.fill||(h.fill=n.getColorFromPalette(l,i)),a.setItemVisual(u,"style",h);var f=["symbol","symbolSize","symbolKeepAspect"];for(let p=0;p<f.length;p++){var d=c.getShallow(f[p],!0);d!=null&&a.setItemVisual(u,f[p],d)}}),a.count()&&s.each(function(u){var l=s.getItemModel(u);let c=l.getShallow("category");if(c!=null){typeof c=="string"&&(c=o["ec-"+c]);var h=a.getItemVisual(c,"style"),f=s.ensureUniqueItemVisual(u,"style");Ce(f,h);var d=["symbol","symbolSize","symbolKeepAspect"];for(let p=0;p<d.length;p++)s.setItemVisual(u,d[p],a.getItemVisual(c,d[p]))}})})}),t.registerVisual(function(r){r.eachSeriesByType("graphGL",function(i){var n=i.getGraph(),a=i.getEdgeData(),s=ax(i.get("edgeSymbol")),o=ax(i.get("edgeSymbolSize"));a.setVisual("drawType","stroke"),a.setVisual("fromSymbol",s&&s[0]),a.setVisual("toSymbol",s&&s[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("style",i.getModel("lineStyle").getLineStyle()),a.each(function(u){var l=a.getItemModel(u),c=n.getEdgeByIndex(u),h=ax(l.getShallow("symbol",!0)),f=ax(l.getShallow("symbolSize",!0)),d=l.getModel("lineStyle").getLineStyle(),p=a.ensureUniqueItemVisual(u,"style");switch(Ce(p,d),p.stroke){case"source":{var g=c.node1.getVisual("style");p.stroke=g&&g.fill;break}case"target":{var g=c.node2.getVisual("style");p.stroke=g&&g.fill;break}}h[0]&&c.setVisual("fromSymbol",h[0]),h[1]&&c.setVisual("toSymbol",h[1]),f[0]&&c.setVisual("fromSymbolSize",f[0]),f[1]&&c.setVisual("toSymbolSize",f[1])})})}),t.registerAction({type:"graphGLRoam",event:"graphglroam",update:"series.graphGL:roam"},function(r,i){i.eachComponent({mainType:"series",query:r},function(n){n.setView(r)})});function e(){}t.registerAction({type:"graphGLStartLayout",event:"graphgllayoutstarted",update:"series.graphGL:startLayout"},e),t.registerAction({type:"graphGLStopLayout",event:"graphgllayoutstopped",update:"series.graphGL:stopLayout"},e),t.registerAction({type:"graphGLFocusNodeAdjacency",event:"graphGLFocusNodeAdjacency",update:"series.graphGL:focusNodeAdjacency"},e),t.registerAction({type:"graphGLUnfocusNodeAdjacency",event:"graphGLUnfocusNodeAdjacency",update:"series.graphGL:unfocusNodeAdjacency"},e)}ft(ake);const ske=Kt.extend({type:"series.flowGL",dependencies:["geo","grid","bmap"],visualStyleAccessPath:"itemStyle",getInitialData:function(t,e){var r=this.get("coordinateSystem"),i=r==="geo"?["lng","lat"]:IJ(r)||["x","y"];i.push("vx","vy");var n=Pm(this.getSource(),{coordDimensions:i,encodeDefine:this.get("encode"),dimensionsDefine:this.get("dimensions")}),a=new Xr(n,this);return a.initData(this.getSource()),a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:10,supersampling:1,particleType:"point",particleDensity:128,particleSize:1,particleSpeed:1,particleTrail:2,colorTexture:null,gridWidth:"auto",gridHeight:"auto",itemStyle:{color:"#fff",opacity:.8}}});var oke=$t.extend(function(){return{dynamic:!0,attributes:{position:new $t.Attribute("position","float",3,"POSITION")}}},{resetOffset:function(){this._vertexOffset=0,this._faceOffset=0},setLineCount:function(t){var e=this.attributes,r=4*t,i=2*t;this.vertexCount!==r&&e.position.init(r),this.triangleCount!==i&&(i===0?this.indices=null:this.indices=this.vertexCount>65535?new Uint32Array(i*3):new Uint16Array(i*3))},addLine:function(t){var e=this._vertexOffset;this.attributes.position.set(e,[t[0],t[1],1]),this.attributes.position.set(e+1,[t[0],t[1],-1]),this.attributes.position.set(e+2,[t[0],t[1],2]),this.attributes.position.set(e+3,[t[0],t[1],-2]),this.setTriangleIndices(this._faceOffset++,[e,e+1,e+2]),this.setTriangleIndices(this._faceOffset++,[e+1,e+2,e+3]),this._vertexOffset+=4}});const uke=`@export ecgl.vfParticle.particle.fragment

uniform sampler2D particleTexture;
uniform sampler2D spawnTexture;
uniform sampler2D velocityTexture;

uniform float deltaTime;
uniform float elapsedTime;

uniform float speedScaling : 1.0;

uniform vec2 textureSize;
uniform vec4 region : [0, 0, 1, 1];
uniform float firstFrameTime;

varying vec2 v_Texcoord;


void main()
{
 vec4 p = texture2D(particleTexture, v_Texcoord);
 bool spawn = false;
 if (p.w <= 0.0) {
 p = texture2D(spawnTexture, fract(v_Texcoord + elapsedTime / 10.0));
 p.w -= firstFrameTime;
 spawn = true;
 }
 vec2 v = texture2D(velocityTexture, fract(p.xy * region.zw + region.xy)).xy;
 v = (v - 0.5) * 2.0;
 p.z = length(v);
 p.xy += v * deltaTime / 10.0 * speedScaling;
 p.w -= deltaTime;

 if (spawn || p.xy != fract(p.xy)) {
 p.z = 0.0;
 }
 p.xy = fract(p.xy);

 gl_FragColor = p;
}
@end

@export ecgl.vfParticle.renderPoints.vertex

#define PI 3.1415926

attribute vec2 texcoord : TEXCOORD_0;

uniform sampler2D particleTexture;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

uniform float size : 1.0;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 vec4 p = texture2D(particleTexture, texcoord);

 if (p.w > 0.0 && p.z > 1e-5) {
 gl_Position = worldViewProjection * vec4(p.xy * 2.0 - 1.0, 0.0, 1.0);
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }

 v_Mag = p.z;
 v_Uv = p.xy;

 gl_PointSize = size;
}

@end

@export ecgl.vfParticle.renderPoints.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;
uniform sampler2D spriteTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
#ifdef SPRITETEXTURE_ENABLED
 gl_FragColor *= texture2D(spriteTexture, gl_PointCoord);
 if (color.a == 0.0) {
 discard;
 }
#endif
#ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end

@export ecgl.vfParticle.renderLines.vertex

#define PI 3.1415926

attribute vec3 position : POSITION;

uniform sampler2D particleTexture;
uniform sampler2D prevParticleTexture;

uniform float size : 1.0;
uniform vec4 vp: VIEWPORT;
uniform mat4 worldViewProjection : WORLDVIEWPROJECTION;

varying float v_Mag;
varying vec2 v_Uv;

@import clay.util.rand

void main()
{
 vec4 p = texture2D(particleTexture, position.xy);
 vec4 p2 = texture2D(prevParticleTexture, position.xy);

 p.xy = p.xy * 2.0 - 1.0;
 p2.xy = p2.xy * 2.0 - 1.0;

 if (p.w > 0.0 && p.z > 1e-5) {
 vec2 dir = normalize(p.xy - p2.xy);
 vec2 norm = vec2(dir.y / vp.z, -dir.x / vp.w) * sign(position.z) * size;
 if (abs(position.z) == 2.0) {
 gl_Position = vec4(p.xy + norm, 0.0, 1.0);
 v_Uv = p.xy;
 v_Mag = p.z;
 }
 else {
 gl_Position = vec4(p2.xy + norm, 0.0, 1.0);
 v_Mag = p2.z;
 v_Uv = p2.xy;
 }
 gl_Position = worldViewProjection * gl_Position;
 }
 else {
 gl_Position = vec4(100000.0, 100000.0, 100000.0, 1.0);
 }
}

@end

@export ecgl.vfParticle.renderLines.fragment

uniform vec4 color : [1.0, 1.0, 1.0, 1.0];
uniform sampler2D gradientTexture;
uniform sampler2D colorTexture;

varying float v_Mag;
varying vec2 v_Uv;

void main()
{
 gl_FragColor = color;
 #ifdef GRADIENTTEXTURE_ENABLED
 gl_FragColor *= texture2D(gradientTexture, vec2(v_Mag, 0.5));
#endif
#ifdef COLORTEXTURE_ENABLED
 gl_FragColor *= texture2D(colorTexture, v_Uv);
#endif
}

@end
`;qe.import(uke);function lke(t){var e=document.createElement("canvas");e.width=e.height=t;var r=e.getContext("2d");return r.fillStyle="#fff",r.arc(t/2,t/2,t/2,0,Math.PI*2),r.fill(),e}var uD=function(){this.motionBlurFactor=.99,this.vectorFieldTexture=new Rt({type:We.FLOAT,flipY:!1}),this.particleLife=[5,20],this._particleType="point",this._particleSize=1,this.particleColor=[1,1,1,1],this.particleSpeedScaling=1,this._thisFrameTexture=null,this._particlePass=null,this._spawnTexture=null,this._particleTexture0=null,this._particleTexture1=null,this._particlePointsMesh=null,this._surfaceFrameBuffer=null,this._elapsedTime=0,this._scene=null,this._camera=null,this._lastFrameTexture=null,this._supersampling=1,this._downsampleTextures=[],this._width=512,this._height=512,this.init()};uD.prototype={constructor:uD,init:function(){var t={type:We.FLOAT,minFilter:We.NEAREST,magFilter:We.NEAREST,useMipmap:!1};this._spawnTexture=new Rt(t),this._particleTexture0=new Rt(t),this._particleTexture1=new Rt(t),this._frameBuffer=new mi({depthBuffer:!1}),this._particlePass=new Di({fragment:qe.source("ecgl.vfParticle.particle.fragment")}),this._particlePass.setUniform("velocityTexture",this.vectorFieldTexture),this._particlePass.setUniform("spawnTexture",this._spawnTexture),this._downsamplePass=new Di({fragment:qe.source("clay.compositor.downsample")});var e=new Vi({renderOrder:10,material:new Ms({shader:new qe(qe.source("ecgl.vfParticle.renderPoints.vertex"),qe.source("ecgl.vfParticle.renderPoints.fragment"))}),mode:Vi.POINTS,geometry:new $t({dynamic:!0,mainAttribute:"texcoord0"})}),r=new Vi({renderOrder:10,material:new Ms({shader:new qe(qe.source("ecgl.vfParticle.renderLines.vertex"),qe.source("ecgl.vfParticle.renderLines.fragment"))}),geometry:new oke,culling:!1}),i=new Vi({material:new Ms({shader:new qe(qe.source("ecgl.color.vertex"),qe.source("ecgl.color.fragment"))}),geometry:new iC});i.material.enableTexture("diffuseMap"),this._particlePointsMesh=e,this._particleLinesMesh=r,this._lastFrameFullQuadMesh=i,this._camera=new Np,this._thisFrameTexture=new Rt,this._lastFrameTexture=new Rt},setParticleDensity:function(t,e){for(var r=t*e,i=new Float32Array(r*4),n=0,a=this.particleLife,s=0;s<t;s++)for(var o=0;o<e;o++,n++){i[n*4]=Math.random(),i[n*4+1]=Math.random(),i[n*4+2]=Math.random();var u=(a[1]-a[0])*Math.random()+a[0];i[n*4+3]=u}this._particleType==="line"?this._setLineGeometry(t,e):this._setPointsGeometry(t,e),this._spawnTexture.width=t,this._spawnTexture.height=e,this._spawnTexture.pixels=i,this._particleTexture0.width=this._particleTexture1.width=t,this._particleTexture0.height=this._particleTexture1.height=e,this._particlePass.setUniform("textureSize",[t,e])},_setPointsGeometry:function(t,e){var r=t*e,i=this._particlePointsMesh.geometry,n=i.attributes;n.texcoord0.init(r);for(var a=0,s=0;s<t;s++)for(var o=0;o<e;o++,a++)n.texcoord0.value[a*2]=s/t,n.texcoord0.value[a*2+1]=o/e;i.dirty()},_setLineGeometry:function(t,e){var r=t*e,i=this._getParticleMesh().geometry;i.setLineCount(r),i.resetOffset();for(var n=0;n<t;n++)for(var a=0;a<e;a++)i.addLine([n/t,a/e]);i.dirty()},_getParticleMesh:function(){return this._particleType==="line"?this._particleLinesMesh:this._particlePointsMesh},update:function(t,e,r,i){var n=this._getParticleMesh(),a=this._frameBuffer,s=this._particlePass;i&&this._updateDownsampleTextures(t,e),n.material.set("size",this._particleSize*this._supersampling),n.material.set("color",this.particleColor),s.setUniform("speedScaling",this.particleSpeedScaling),a.attach(this._particleTexture1),s.setUniform("firstFrameTime",i?(this.particleLife[1]+this.particleLife[0])/2:0),s.setUniform("particleTexture",this._particleTexture0),s.setUniform("deltaTime",r),s.setUniform("elapsedTime",this._elapsedTime),s.render(t,a),n.material.set("particleTexture",this._particleTexture1),n.material.set("prevParticleTexture",this._particleTexture0),a.attach(this._thisFrameTexture),a.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT);var o=this._lastFrameFullQuadMesh;o.material.set("diffuseMap",this._lastFrameTexture),o.material.set("color",[1,1,1,this.motionBlurFactor]),this._camera.update(!0),t.renderPass([o,n],this._camera),a.unbind(t),this._downsample(t),this._swapTexture(),this._elapsedTime+=r},_downsample:function(t){var e=this._downsampleTextures;if(e.length!==0)for(var r=0,i=this._thisFrameTexture,n=e[r];n;)this._frameBuffer.attach(n),this._downsamplePass.setUniform("texture",i),this._downsamplePass.setUniform("textureSize",[i.width,i.height]),this._downsamplePass.render(t,this._frameBuffer),i=n,n=e[++r]},getSurfaceTexture:function(){var t=this._downsampleTextures;return t.length>0?t[t.length-1]:this._lastFrameTexture},setRegion:function(t){this._particlePass.setUniform("region",t)},resize:function(t,e){this._lastFrameTexture.width=t*this._supersampling,this._lastFrameTexture.height=e*this._supersampling,this._thisFrameTexture.width=t*this._supersampling,this._thisFrameTexture.height=e*this._supersampling,this._width=t,this._height=e},setParticleSize:function(t){var e=this._getParticleMesh();if(t<=2){e.material.disableTexture("spriteTexture"),e.material.transparent=!1;return}this._spriteTexture||(this._spriteTexture=new Rt),(!this._spriteTexture.image||this._spriteTexture.image.width!==t)&&(this._spriteTexture.image=lke(t),this._spriteTexture.dirty()),e.material.transparent=!0,e.material.enableTexture("spriteTexture"),e.material.set("spriteTexture",this._spriteTexture),this._particleSize=t},setGradientTexture:function(t){var e=this._getParticleMesh().material;e[t?"enableTexture":"disableTexture"]("gradientTexture"),e.setUniform("gradientTexture",t)},setColorTextureImage:function(t,e){var r=this._getParticleMesh().material;r.setTextureImage("colorTexture",t,e,{flipY:!0})},setParticleType:function(t){this._particleType=t},clearFrame:function(t){var e=this._frameBuffer;e.attach(this._lastFrameTexture),e.bind(t),t.gl.clear(t.gl.DEPTH_BUFFER_BIT|t.gl.COLOR_BUFFER_BIT),e.unbind(t)},setSupersampling:function(t){this._supersampling=t,this.resize(this._width,this._height)},_updateDownsampleTextures:function(t,e){for(var r=this._downsampleTextures,i=Math.max(Math.floor(Math.log(this._supersampling/e.getDevicePixelRatio())/Math.log(2)),0),n=2,a=this._width*this._supersampling,s=this._height*this._supersampling,o=0;o<i;o++)r[o]=r[o]||new Rt,r[o].width=a/n,r[o].height=s/n,n*=2;for(;o<r.length;o++)r[o].dispose(t);r.length=i},_swapTexture:function(){var t=this._particleTexture0;this._particleTexture0=this._particleTexture1,this._particleTexture1=t;var t=this._thisFrameTexture;this._thisFrameTexture=this._lastFrameTexture,this._lastFrameTexture=t},dispose:function(t){t.disposeFrameBuffer(this._frameBuffer),t.disposeTexture(this.vectorFieldTexture),t.disposeTexture(this._spawnTexture),t.disposeTexture(this._particleTexture0),t.disposeTexture(this._particleTexture1),t.disposeTexture(this._thisFrameTexture),t.disposeTexture(this._lastFrameTexture),t.disposeGeometry(this._particleLinesMesh.geometry),t.disposeGeometry(this._particlePointsMesh.geometry),t.disposeGeometry(this._lastFrameFullQuadMesh.geometry),this._spriteTexture&&t.disposeTexture(this._spriteTexture),this._particlePass.dispose(t),this._downsamplePass.dispose(t),this._downsampleTextures.forEach(function(e){e.dispose(t)})}};const cke=Wt.extend({type:"flowGL",__ecgl__:!0,init:function(t,e){this.viewGL=new yr("orthographic"),this.groupGL=new Z.Node,this.viewGL.add(this.groupGL),this._particleSurface=new uD;var r=new Z.Mesh({geometry:new Z.PlaneGeometry,material:new Z.Material({shader:new Z.Shader({vertex:Z.Shader.source("ecgl.color.vertex"),fragment:Z.Shader.source("ecgl.color.fragment")}),transparent:!0})});r.material.enableTexture("diffuseMap"),this.groupGL.add(r),this._planeMesh=r},render:function(t,e,r){var i=this._particleSurface;i.setParticleType(t.get("particleType")),i.setSupersampling(t.get("supersampling")),this._updateData(t,r),this._updateCamera(r.getWidth(),r.getHeight(),r.getDevicePixelRatio());var n=jt.firstNotNull(t.get("particleDensity"),128);i.setParticleDensity(n,n);var a=this._planeMesh,s=+new Date,o=this,u=!0;a.__percent=0,a.stopAnimation(),a.animate("",{loop:!0}).when(1e5,{__percent:1}).during(function(){var h=+new Date,f=Math.min(h-s,20);s=s+f,o._renderer&&(i.update(o._renderer,r,f/1e3,u),a.material.set("diffuseMap",i.getSurfaceTexture())),u=!1}).start();var l=t.getModel("itemStyle"),c=Z.parseColor(l.get("color"));c[3]*=jt.firstNotNull(l.get("opacity"),1),a.material.set("color",c),i.setColorTextureImage(t.get("colorTexture"),r),i.setParticleSize(t.get("particleSize")),i.particleSpeedScaling=t.get("particleSpeed"),i.motionBlurFactor=1-Math.pow(.1,t.get("particleTrail"))},updateTransform:function(t,e,r){this._updateData(t,r)},afterRender:function(t,e,r,i){var n=i.renderer;this._renderer=n},_updateData:function(t,e){var r=t.coordinateSystem,i=r.dimensions.map(function(y){return t.coordDimToDataDim(y)[0]}),n=t.getData(),a=n.getDataExtent(i[0]),s=n.getDataExtent(i[1]),o=t.get("gridWidth"),u=t.get("gridHeight");if(o==null||o==="auto"){var l=(a[1]-a[0])/(s[1]-s[0]);o=Math.round(Math.sqrt(l*n.count()))}(u==null||u==="auto")&&(u=Math.ceil(n.count()/o));var c=this._particleSurface.vectorFieldTexture,h=c.pixels;if(!h||h.length!==u*o*4)h=c.pixels=new Float32Array(o*u*4);else for(var f=0;f<h.length;f++)h[f]=0;var d=0,p=1/0,g=new Float32Array(n.count()*2),v=0,m=[[1/0,1/0],[-1/0,-1/0]];n.each([i[0],i[1],"vx","vy"],function(y,_,x,b){var C=r.dataToPoint([y,_]);g[v++]=C[0],g[v++]=C[1],m[0][0]=Math.min(C[0],m[0][0]),m[0][1]=Math.min(C[1],m[0][1]),m[1][0]=Math.max(C[0],m[1][0]),m[1][1]=Math.max(C[1],m[1][1]);var E=Math.sqrt(x*x+b*b);d=Math.max(d,E),p=Math.min(p,E)}),n.each(["vx","vy"],function(y,_,x){var b=Math.round((g[x*2]-m[0][0])/(m[1][0]-m[0][0])*(o-1)),C=u-1-Math.round((g[x*2+1]-m[0][1])/(m[1][1]-m[0][1])*(u-1)),E=(C*o+b)*4;h[E]=y/d*.5+.5,h[E+1]=_/d*.5+.5,h[E+3]=1}),c.width=o,c.height=u,t.get("coordinateSystem")==="bmap"&&this._fillEmptyPixels(c),c.dirty(),this._updatePlanePosition(m[0],m[1],t,e),this._updateGradientTexture(n.getVisual("visualMeta"),[p,d])},_fillEmptyPixels:function(t){var e=t.pixels,r=t.width,i=t.height;function n(g,v,m){g=Math.max(Math.min(g,r-1),0),v=Math.max(Math.min(v,i-1),0);var y=(v*(r-1)+g)*4;return e[y+3]===0?!1:(m[0]=e[y],m[1]=e[y+1],!0)}function a(g,v,m){m[0]=g[0]+v[0],m[1]=g[1]+v[1]}for(var s=[],o=[],u=[],l=[],c=[],h=0,f=0;f<i;f++)for(var d=0;d<r;d++){var p=(f*(r-1)+d)*4;e[p+3]===0&&(h=s[0]=s[1]=0,n(d-1,f,o)&&(h++,a(o,s,s)),n(d+1,f,u)&&(h++,a(u,s,s)),n(d,f-1,l)&&(h++,a(l,s,s)),n(d,f+1,c)&&(h++,a(c,s,s)),s[0]/=h,s[1]/=h,e[p]=s[0],e[p+1]=s[1]),e[p+3]=1}},_updateGradientTexture:function(t,e){if(!t||!t.length){this._particleSurface.setGradientTexture(null);return}this._gradientTexture=this._gradientTexture||new Z.Texture2D({image:document.createElement("canvas")});var r=this._gradientTexture,i=r.image;i.width=200,i.height=1;var n=i.getContext("2d"),a=n.createLinearGradient(0,.5,i.width,.5);t[0].stops.forEach(function(s){var o;e[1]===e[0]?o=0:(o=s.value/e[1],o=Math.min(Math.max(o,0),1)),a.addColorStop(o,s.color)}),n.fillStyle=a,n.fillRect(0,0,i.width,i.height),r.dirty(),this._particleSurface.setGradientTexture(this._gradientTexture)},_updatePlanePosition:function(t,e,r,i){var n=this._limitInViewportAndFullFill(t,e,r,i);t=n.leftTop,e=n.rightBottom,this._particleSurface.setRegion(n.region),this._planeMesh.position.set((t[0]+e[0])/2,i.getHeight()-(t[1]+e[1])/2,0);var a=e[0]-t[0],s=e[1]-t[1];this._planeMesh.scale.set(a/2,s/2,1),this._particleSurface.resize(Math.max(Math.min(a,2048),1),Math.max(Math.min(s,2048),1)),this._renderer&&this._particleSurface.clearFrame(this._renderer)},_limitInViewportAndFullFill:function(t,e,r,i){var n=[Math.max(t[0],0),Math.max(t[1],0)],a=[Math.min(e[0],i.getWidth()),Math.min(e[1],i.getHeight())];if(r.get("coordinateSystem")==="bmap"){var s=r.getData().getDataExtent(r.coordDimToDataDim("lng")[0]),o=Math.floor(s[1]-s[0])>=359;o&&(n[0]>0&&(n[0]=0),a[0]<i.getWidth()&&(a[0]=i.getWidth()))}var u=e[0]-t[0],l=e[1]-t[1],c=a[0]-n[0],h=a[1]-n[1],f=[(n[0]-t[0])/u,1-h/l-(n[1]-t[1])/l,c/u,h/l];return{leftTop:n,rightBottom:a,region:f}},_updateCamera:function(t,e,r){this.viewGL.setViewport(0,0,t,e,r);var i=this.viewGL.camera;i.left=i.bottom=0,i.top=e,i.right=t,i.near=0,i.far=100,i.position.z=10},remove:function(){this._planeMesh.stopAnimation(),this.groupGL.removeAll()},dispose:function(){this._renderer&&this._particleSurface.dispose(this._renderer),this.groupGL.removeAll()}});function hke(t){t.registerChartView(cke),t.registerSeriesModel(ske)}ft(hke);var lD=Kt.extend({type:"series.linesGL",dependencies:["grid","geo"],visualStyleAccessPath:"lineStyle",visualDrawType:"stroke",streamEnabled:!0,init:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),lD.superApply(this,"init",arguments)},mergeOption:function(t){var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),lD.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=qh(this._flatCoords,e.flatCoords),this._flatCoordsOffset=qh(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){var e=this.getData().getItemModel(t),r=e.option instanceof Array?e.option:e.getShallow("coords");return r},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[t*2],i=this._flatCoordsOffset[t*2+1],n=0;n<i;n++)e[n]=e[n]||[],e[n][0]=this._flatCoords[r+n*2],e[n][1]=this._flatCoords[r+n*2+1];return i}else{for(var a=this._getCoordsFromItemModel(t),n=0;n<a.length;n++)e[n]=e[n]||[],e[n][0]=a[n][0],e[n][1]=a[n][1];return a.length}},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),typeof t[0]=="number"){for(var r=t.length,i=new Uint32Array(r),n=new Float64Array(r),a=0,s=0,o=0,u=0;u<r;){o++;var l=t[u++];i[s++]=a+e,i[s++]=l;for(var c=0;c<l;c++){var h=t[u++],f=t[u++];n[a++]=h,n[a++]=f}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,s),flatCoords:n,count:o}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},getInitialData:function(t,e){var r=new Xr(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(i,n,a,s){if(i instanceof Array)return NaN;r.hasItemOption=!0;var o=i.value;if(o!=null)return o instanceof Array?o[s]:o}),r},defaultOption:{coordinateSystem:"geo",zlevel:10,progressive:1e4,progressiveThreshold:5e4,blendMode:"source-over",lineStyle:{opacity:.8},postEffect:{enable:!1,colorCorrection:{exposure:0,brightness:0,contrast:1,saturation:1,enable:!0}}}});const fke=Wt.extend({type:"linesGL",__ecgl__:!0,init:function(t,e){this.groupGL=new Z.Node,this.viewGL=new yr("orthographic"),this.viewGL.add(this.groupGL),this._glViewHelper=new Ml(this.viewGL),this._nativeLinesShader=Z.createShader("ecgl.lines3D"),this._meshLinesShader=Z.createShader("ecgl.meshLines3D"),this._linesMeshes=[],this._currentStep=0},render:function(t,e,r){this.groupGL.removeAll(),this._glViewHelper.reset(t,r);var i=this._linesMeshes[0];i||(i=this._linesMeshes[0]=this._createLinesMesh(t)),this._linesMeshes.length=1,this.groupGL.add(i),this._updateLinesMesh(t,i,0,t.getData().count()),this.viewGL.setPostEffect(t.getModel("postEffect"),r)},incrementalPrepareRender:function(t,e,r){this.groupGL.removeAll(),this._glViewHelper.reset(t,r),this._currentStep=0,this.viewGL.setPostEffect(t.getModel("postEffect"),r)},incrementalRender:function(t,e,r,i){var n=this._linesMeshes[this._currentStep];n||(n=this._createLinesMesh(e),this._linesMeshes[this._currentStep]=n),this._updateLinesMesh(e,n,t.start,t.end),this.groupGL.add(n),i.getZr().refresh(),this._currentStep++},updateTransform:function(t,e,r){t.coordinateSystem.getRoamTransform&&this._glViewHelper.updateTransform(t,r)},_createLinesMesh:function(t){var e=new Z.Mesh({$ignorePicking:!0,material:new Z.Material({shader:Z.createShader("ecgl.lines3D"),transparent:!0,depthMask:!1,depthTest:!1}),geometry:new bI({segmentScale:10,useNativeLine:!0,dynamic:!1}),mode:Z.Mesh.LINES,culling:!1});return e},_updateLinesMesh:function(t,e,r,i){var n=t.getData();e.material.blend=t.get("blendMode")==="lighter"?Z.additiveBlend:null;var a=t.get("lineStyle.curveness")||0,s=t.get("polyline"),o=e.geometry,u=t.coordinateSystem,l=jt.firstNotNull(t.get("lineStyle.width"),1);l>1?(e.material.shader!==this._meshLinesShader&&e.material.attachShader(this._meshLinesShader),e.mode=Z.Mesh.TRIANGLES):(e.material.shader!==this._nativeLinesShader&&e.material.attachShader(this._nativeLinesShader),e.mode=Z.Mesh.LINES),r=r||0,i=i||n.count(),o.resetOffset();var c=0,h=0,f=[],d=[],p=[],g=[],v=[],m=.3,y=.7;function _(){d[0]=f[0]*y+g[0]*m-(f[1]-g[1])*a,d[1]=f[1]*y+g[1]*m-(g[0]-f[0])*a,p[0]=f[0]*m+g[0]*y-(f[1]-g[1])*a,p[1]=f[1]*m+g[1]*y-(g[0]-f[0])*a}if(s||a!==0)for(var x=r;x<i;x++)if(s){var b=t.getLineCoordsCount(x);c+=o.getPolylineVertexCount(b),h+=o.getPolylineTriangleCount(b)}else t.getLineCoords(x,v),this._glViewHelper.dataToPoint(u,v[0],f),this._glViewHelper.dataToPoint(u,v[1],g),_(),c+=o.getCubicCurveVertexCount(f,d,p,g),h+=o.getCubicCurveTriangleCount(f,d,p,g);else{var C=i-r;c+=C*o.getLineVertexCount(),h+=C*o.getLineVertexCount()}o.setVertexCount(c),o.setTriangleCount(h);for(var E=r,A=[],x=r;x<i;x++){Z.parseColor(Xi(n,E),A);var S=jt.firstNotNull($i(n,E),1);A[3]*=S;for(var b=t.getLineCoords(x,v),T=0;T<b;T++)this._glViewHelper.dataToPoint(u,v[T],v[T]);s?o.addPolyline(v,A,l,0,b):a!==0?(f=v[0],g=v[1],_(),o.addCubicCurve(f,d,p,g,A,l)):o.addPolyline(v,A,l,0,2),E++}},dispose:function(){this.groupGL.removeAll()},remove:function(){this.groupGL.removeAll()}});function dke(t){t.registerChartView(fke),t.registerSeriesModel(lD)}ft(dke);var a5={exports:{}};function pke(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var s5={exports:{}};const gke={},vke=Object.freeze(Object.defineProperty({__proto__:null,default:gke},Symbol.toStringTag,{value:"Module"})),yie=$ce(vke);var mke=s5.exports,sj;function lr(){return sj||(sj=1,function(t,e){(function(r,i){t.exports=i()})(mke,function(){var r=r||function(i,n){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Th<"u"&&Th.crypto&&(a=Th.crypto),!a&&typeof pke=="function")try{a=yie}catch{}var s=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function y(){}return function(_){var x;return y.prototype=_,x=new y,y.prototype=null,x}}(),u={},l=u.lib={},c=l.Base=function(){return{extend:function(y){var _=o(this);return y&&_.mixIn(y),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var _ in y)y.hasOwnProperty(_)&&(this[_]=y[_]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=l.WordArray=c.extend({init:function(y,_){y=this.words=y||[],_!=n?this.sigBytes=_:this.sigBytes=y.length*4},toString:function(y){return(y||d).stringify(this)},concat:function(y){var _=this.words,x=y.words,b=this.sigBytes,C=y.sigBytes;if(this.clamp(),b%4)for(var E=0;E<C;E++){var A=x[E>>>2]>>>24-E%4*8&255;_[b+E>>>2]|=A<<24-(b+E)%4*8}else for(var S=0;S<C;S+=4)_[b+S>>>2]=x[S>>>2];return this.sigBytes+=C,this},clamp:function(){var y=this.words,_=this.sigBytes;y[_>>>2]&=4294967295<<32-_%4*8,y.length=i.ceil(_/4)},clone:function(){var y=c.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var _=[],x=0;x<y;x+=4)_.push(s());return new h.init(_,y)}}),f=u.enc={},d=f.Hex={stringify:function(y){for(var _=y.words,x=y.sigBytes,b=[],C=0;C<x;C++){var E=_[C>>>2]>>>24-C%4*8&255;b.push((E>>>4).toString(16)),b.push((E&15).toString(16))}return b.join("")},parse:function(y){for(var _=y.length,x=[],b=0;b<_;b+=2)x[b>>>3]|=parseInt(y.substr(b,2),16)<<24-b%8*4;return new h.init(x,_/2)}},p=f.Latin1={stringify:function(y){for(var _=y.words,x=y.sigBytes,b=[],C=0;C<x;C++){var E=_[C>>>2]>>>24-C%4*8&255;b.push(String.fromCharCode(E))}return b.join("")},parse:function(y){for(var _=y.length,x=[],b=0;b<_;b++)x[b>>>2]|=(y.charCodeAt(b)&255)<<24-b%4*8;return new h.init(x,_)}},g=f.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},v=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=g.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var _,x=this._data,b=x.words,C=x.sigBytes,E=this.blockSize,A=E*4,S=C/A;y?S=i.ceil(S):S=i.max((S|0)-this._minBufferSize,0);var T=S*E,D=i.min(T*4,C);if(T){for(var F=0;F<T;F+=E)this._doProcessBlock(b,F);_=b.splice(0,T),x.sigBytes-=D}return new h.init(_,D)},clone:function(){var y=c.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});l.Hasher=v.extend({cfg:c.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(y){return function(_,x){return new y.init(x).finalize(_)}},_createHmacHelper:function(y){return function(_,x){return new m.HMAC.init(y,x).finalize(_)}}});var m=u.algo={};return u}(Math);return r})}(s5)),s5.exports}var o5={exports:{}},yke=o5.exports,oj;function lC(){return oj||(oj=1,function(t,e){(function(r,i){t.exports=i(lr())})(yke,function(r){return function(i){var n=r,a=n.lib,s=a.Base,o=a.WordArray,u=n.x64={};u.Word=s.extend({init:function(l,c){this.high=l,this.low=c}}),u.WordArray=s.extend({init:function(l,c){l=this.words=l||[],c!=i?this.sigBytes=c:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,c=l.length,h=[],f=0;f<c;f++){var d=l[f];h.push(d.high),h.push(d.low)}return o.create(h,this.sigBytes)},clone:function(){for(var l=s.clone.call(this),c=l.words=this.words.slice(0),h=c.length,f=0;f<h;f++)c[f]=c[f].clone();return l}})}(),r})}(o5)),o5.exports}var u5={exports:{}},_ke=u5.exports,uj;function xke(){return uj||(uj=1,function(t,e){(function(r,i){t.exports=i(lr())})(_ke,function(r){return function(){if(typeof ArrayBuffer=="function"){var i=r,n=i.lib,a=n.WordArray,s=a.init,o=a.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var l=u.byteLength,c=[],h=0;h<l;h++)c[h>>>2]|=u[h]<<24-h%4*8;s.call(this,c,l)}else s.apply(this,arguments)};o.prototype=a}}(),r.lib.WordArray})}(u5)),u5.exports}var l5={exports:{}},bke=l5.exports,lj;function Cke(){return lj||(lj=1,function(t,e){(function(r,i){t.exports=i(lr())})(bke,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.enc;s.Utf16=s.Utf16BE={stringify:function(u){for(var l=u.words,c=u.sigBytes,h=[],f=0;f<c;f+=2){var d=l[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(d))}return h.join("")},parse:function(u){for(var l=u.length,c=[],h=0;h<l;h++)c[h>>>1]|=u.charCodeAt(h)<<16-h%2*16;return a.create(c,l*2)}},s.Utf16LE={stringify:function(u){for(var l=u.words,c=u.sigBytes,h=[],f=0;f<c;f+=2){var d=o(l[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(d))}return h.join("")},parse:function(u){for(var l=u.length,c=[],h=0;h<l;h++)c[h>>>1]|=o(u.charCodeAt(h)<<16-h%2*16);return a.create(c,l*2)}};function o(u){return u<<8&4278255360|u>>>8&16711935}}(),r.enc.Utf16})}(l5)),l5.exports}var c5={exports:{}},Eke=c5.exports,cj;function Bf(){return cj||(cj=1,function(t,e){(function(r,i){t.exports=i(lr())})(Eke,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.enc;s.Base64={stringify:function(u){var l=u.words,c=u.sigBytes,h=this._map;u.clamp();for(var f=[],d=0;d<c;d+=3)for(var p=l[d>>>2]>>>24-d%4*8&255,g=l[d+1>>>2]>>>24-(d+1)%4*8&255,v=l[d+2>>>2]>>>24-(d+2)%4*8&255,m=p<<16|g<<8|v,y=0;y<4&&d+y*.75<c;y++)f.push(h.charAt(m>>>6*(3-y)&63));var _=h.charAt(64);if(_)for(;f.length%4;)f.push(_);return f.join("")},parse:function(u){var l=u.length,c=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<c.length;f++)h[c.charCodeAt(f)]=f}var d=c.charAt(64);if(d){var p=u.indexOf(d);p!==-1&&(l=p)}return o(u,l,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(u,l,c){for(var h=[],f=0,d=0;d<l;d++)if(d%4){var p=c[u.charCodeAt(d-1)]<<d%4*2,g=c[u.charCodeAt(d)]>>>6-d%4*2,v=p|g;h[f>>>2]|=v<<24-f%4*8,f++}return a.create(h,f)}}(),r.enc.Base64})}(c5)),c5.exports}var h5={exports:{}},Ske=h5.exports,hj;function Tke(){return hj||(hj=1,function(t,e){(function(r,i){t.exports=i(lr())})(Ske,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.enc;s.Base64url={stringify:function(u,l){l===void 0&&(l=!0);var c=u.words,h=u.sigBytes,f=l?this._safe_map:this._map;u.clamp();for(var d=[],p=0;p<h;p+=3)for(var g=c[p>>>2]>>>24-p%4*8&255,v=c[p+1>>>2]>>>24-(p+1)%4*8&255,m=c[p+2>>>2]>>>24-(p+2)%4*8&255,y=g<<16|v<<8|m,_=0;_<4&&p+_*.75<h;_++)d.push(f.charAt(y>>>6*(3-_)&63));var x=f.charAt(64);if(x)for(;d.length%4;)d.push(x);return d.join("")},parse:function(u,l){l===void 0&&(l=!0);var c=u.length,h=l?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<h.length;d++)f[h.charCodeAt(d)]=d}var p=h.charAt(64);if(p){var g=u.indexOf(p);g!==-1&&(c=g)}return o(u,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(u,l,c){for(var h=[],f=0,d=0;d<l;d++)if(d%4){var p=c[u.charCodeAt(d-1)]<<d%4*2,g=c[u.charCodeAt(d)]>>>6-d%4*2,v=p|g;h[f>>>2]|=v<<24-f%4*8,f++}return a.create(h,f)}}(),r.enc.Base64url})}(h5)),h5.exports}var f5={exports:{}},Ake=f5.exports,fj;function Mf(){return fj||(fj=1,function(t,e){(function(r,i){t.exports=i(lr())})(Ake,function(r){return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,u=n.algo,l=[];(function(){for(var g=0;g<64;g++)l[g]=i.abs(i.sin(g+1))*4294967296|0})();var c=u.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,v){for(var m=0;m<16;m++){var y=v+m,_=g[y];g[y]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var x=this._hash.words,b=g[v+0],C=g[v+1],E=g[v+2],A=g[v+3],S=g[v+4],T=g[v+5],D=g[v+6],F=g[v+7],B=g[v+8],O=g[v+9],M=g[v+10],R=g[v+11],z=g[v+12],k=g[v+13],U=g[v+14],V=g[v+15],j=x[0],Y=x[1],te=x[2],re=x[3];j=h(j,Y,te,re,b,7,l[0]),re=h(re,j,Y,te,C,12,l[1]),te=h(te,re,j,Y,E,17,l[2]),Y=h(Y,te,re,j,A,22,l[3]),j=h(j,Y,te,re,S,7,l[4]),re=h(re,j,Y,te,T,12,l[5]),te=h(te,re,j,Y,D,17,l[6]),Y=h(Y,te,re,j,F,22,l[7]),j=h(j,Y,te,re,B,7,l[8]),re=h(re,j,Y,te,O,12,l[9]),te=h(te,re,j,Y,M,17,l[10]),Y=h(Y,te,re,j,R,22,l[11]),j=h(j,Y,te,re,z,7,l[12]),re=h(re,j,Y,te,k,12,l[13]),te=h(te,re,j,Y,U,17,l[14]),Y=h(Y,te,re,j,V,22,l[15]),j=f(j,Y,te,re,C,5,l[16]),re=f(re,j,Y,te,D,9,l[17]),te=f(te,re,j,Y,R,14,l[18]),Y=f(Y,te,re,j,b,20,l[19]),j=f(j,Y,te,re,T,5,l[20]),re=f(re,j,Y,te,M,9,l[21]),te=f(te,re,j,Y,V,14,l[22]),Y=f(Y,te,re,j,S,20,l[23]),j=f(j,Y,te,re,O,5,l[24]),re=f(re,j,Y,te,U,9,l[25]),te=f(te,re,j,Y,A,14,l[26]),Y=f(Y,te,re,j,B,20,l[27]),j=f(j,Y,te,re,k,5,l[28]),re=f(re,j,Y,te,E,9,l[29]),te=f(te,re,j,Y,F,14,l[30]),Y=f(Y,te,re,j,z,20,l[31]),j=d(j,Y,te,re,T,4,l[32]),re=d(re,j,Y,te,B,11,l[33]),te=d(te,re,j,Y,R,16,l[34]),Y=d(Y,te,re,j,U,23,l[35]),j=d(j,Y,te,re,C,4,l[36]),re=d(re,j,Y,te,S,11,l[37]),te=d(te,re,j,Y,F,16,l[38]),Y=d(Y,te,re,j,M,23,l[39]),j=d(j,Y,te,re,k,4,l[40]),re=d(re,j,Y,te,b,11,l[41]),te=d(te,re,j,Y,A,16,l[42]),Y=d(Y,te,re,j,D,23,l[43]),j=d(j,Y,te,re,O,4,l[44]),re=d(re,j,Y,te,z,11,l[45]),te=d(te,re,j,Y,V,16,l[46]),Y=d(Y,te,re,j,E,23,l[47]),j=p(j,Y,te,re,b,6,l[48]),re=p(re,j,Y,te,F,10,l[49]),te=p(te,re,j,Y,U,15,l[50]),Y=p(Y,te,re,j,T,21,l[51]),j=p(j,Y,te,re,z,6,l[52]),re=p(re,j,Y,te,A,10,l[53]),te=p(te,re,j,Y,M,15,l[54]),Y=p(Y,te,re,j,C,21,l[55]),j=p(j,Y,te,re,B,6,l[56]),re=p(re,j,Y,te,V,10,l[57]),te=p(te,re,j,Y,D,15,l[58]),Y=p(Y,te,re,j,k,21,l[59]),j=p(j,Y,te,re,S,6,l[60]),re=p(re,j,Y,te,R,10,l[61]),te=p(te,re,j,Y,E,15,l[62]),Y=p(Y,te,re,j,O,21,l[63]),x[0]=x[0]+j|0,x[1]=x[1]+Y|0,x[2]=x[2]+te|0,x[3]=x[3]+re|0},_doFinalize:function(){var g=this._data,v=g.words,m=this._nDataBytes*8,y=g.sigBytes*8;v[y>>>5]|=128<<24-y%32;var _=i.floor(m/4294967296),x=m;v[(y+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,v[(y+64>>>9<<4)+14]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g.sigBytes=(v.length+1)*4,this._process();for(var b=this._hash,C=b.words,E=0;E<4;E++){var A=C[E];C[E]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360}return b},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});function h(g,v,m,y,_,x,b){var C=g+(v&m|~v&y)+_+b;return(C<<x|C>>>32-x)+v}function f(g,v,m,y,_,x,b){var C=g+(v&y|m&~y)+_+b;return(C<<x|C>>>32-x)+v}function d(g,v,m,y,_,x,b){var C=g+(v^m^y)+_+b;return(C<<x|C>>>32-x)+v}function p(g,v,m,y,_,x,b){var C=g+(m^(v|~y))+_+b;return(C<<x|C>>>32-x)+v}n.MD5=o._createHelper(c),n.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5})}(f5)),f5.exports}var d5={exports:{}},wke=d5.exports,dj;function _ie(){return dj||(dj=1,function(t,e){(function(r,i){t.exports=i(lr())})(wke,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=n.Hasher,o=i.algo,u=[],l=o.SHA1=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,h){for(var f=this._hash.words,d=f[0],p=f[1],g=f[2],v=f[3],m=f[4],y=0;y<80;y++){if(y<16)u[y]=c[h+y]|0;else{var _=u[y-3]^u[y-8]^u[y-14]^u[y-16];u[y]=_<<1|_>>>31}var x=(d<<5|d>>>27)+m+u[y];y<20?x+=(p&g|~p&v)+1518500249:y<40?x+=(p^g^v)+1859775393:y<60?x+=(p&g|p&v|g&v)-1894007588:x+=(p^g^v)-899497514,m=v,v=g,g=p<<30|p>>>2,p=d,d=x}f[0]=f[0]+d|0,f[1]=f[1]+p|0,f[2]=f[2]+g|0,f[3]=f[3]+v|0,f[4]=f[4]+m|0},_doFinalize:function(){var c=this._data,h=c.words,f=this._nDataBytes*8,d=c.sigBytes*8;return h[d>>>5]|=128<<24-d%32,h[(d+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(d+64>>>9<<4)+15]=f,c.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var c=s.clone.call(this);return c._hash=this._hash.clone(),c}});i.SHA1=s._createHelper(l),i.HmacSHA1=s._createHmacHelper(l)}(),r.SHA1})}(d5)),d5.exports}var p5={exports:{}},Dke=p5.exports,pj;function CI(){return pj||(pj=1,function(t,e){(function(r,i){t.exports=i(lr())})(Dke,function(r){return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,u=n.algo,l=[],c=[];(function(){function d(m){for(var y=i.sqrt(m),_=2;_<=y;_++)if(!(m%_))return!1;return!0}function p(m){return(m-(m|0))*4294967296|0}for(var g=2,v=0;v<64;)d(g)&&(v<8&&(l[v]=p(i.pow(g,1/2))),c[v]=p(i.pow(g,1/3)),v++),g++})();var h=[],f=u.SHA256=o.extend({_doReset:function(){this._hash=new s.init(l.slice(0))},_doProcessBlock:function(d,p){for(var g=this._hash.words,v=g[0],m=g[1],y=g[2],_=g[3],x=g[4],b=g[5],C=g[6],E=g[7],A=0;A<64;A++){if(A<16)h[A]=d[p+A]|0;else{var S=h[A-15],T=(S<<25|S>>>7)^(S<<14|S>>>18)^S>>>3,D=h[A-2],F=(D<<15|D>>>17)^(D<<13|D>>>19)^D>>>10;h[A]=T+h[A-7]+F+h[A-16]}var B=x&b^~x&C,O=v&m^v&y^m&y,M=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),R=(x<<26|x>>>6)^(x<<21|x>>>11)^(x<<7|x>>>25),z=E+R+B+c[A]+h[A],k=M+O;E=C,C=b,b=x,x=_+z|0,_=y,y=m,m=v,v=z+k|0}g[0]=g[0]+v|0,g[1]=g[1]+m|0,g[2]=g[2]+y|0,g[3]=g[3]+_|0,g[4]=g[4]+x|0,g[5]=g[5]+b|0,g[6]=g[6]+C|0,g[7]=g[7]+E|0},_doFinalize:function(){var d=this._data,p=d.words,g=this._nDataBytes*8,v=d.sigBytes*8;return p[v>>>5]|=128<<24-v%32,p[(v+64>>>9<<4)+14]=i.floor(g/4294967296),p[(v+64>>>9<<4)+15]=g,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA256=o._createHelper(f),n.HmacSHA256=o._createHmacHelper(f)}(Math),r.SHA256})}(p5)),p5.exports}var g5={exports:{}},Fke=g5.exports,gj;function Ike(){return gj||(gj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),CI())})(Fke,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=i.algo,o=s.SHA256,u=s.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});i.SHA224=o._createHelper(u),i.HmacSHA224=o._createHmacHelper(u)}(),r.SHA224})}(g5)),g5.exports}var v5={exports:{}},Bke=v5.exports,vj;function xie(){return vj||(vj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),lC())})(Bke,function(r){return function(){var i=r,n=i.lib,a=n.Hasher,s=i.x64,o=s.Word,u=s.WordArray,l=i.algo;function c(){return o.create.apply(o,arguments)}var h=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=c()})();var d=l.SHA512=a.extend({_doReset:function(){this._hash=new u.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(p,g){for(var v=this._hash.words,m=v[0],y=v[1],_=v[2],x=v[3],b=v[4],C=v[5],E=v[6],A=v[7],S=m.high,T=m.low,D=y.high,F=y.low,B=_.high,O=_.low,M=x.high,R=x.low,z=b.high,k=b.low,U=C.high,V=C.low,j=E.high,Y=E.low,te=A.high,re=A.low,de=S,Oe=T,he=D,le=F,pe=B,xe=O,be=M,q=R,J=z,se=k,ve=U,_e=V,we=j,He=Y,ze=te,Me=re,Se=0;Se<80;Se++){var Ze,$e,ct=f[Se];if(Se<16)$e=ct.high=p[g+Se*2]|0,Ze=ct.low=p[g+Se*2+1]|0;else{var yt=f[Se-15],Bt=yt.high,Vt=yt.low,tr=(Bt>>>1|Vt<<31)^(Bt>>>8|Vt<<24)^Bt>>>7,ci=(Vt>>>1|Bt<<31)^(Vt>>>8|Bt<<24)^(Vt>>>7|Bt<<25),Kr=f[Se-2],$r=Kr.high,Ot=Kr.low,as=($r>>>19|Ot<<13)^($r<<3|Ot>>>29)^$r>>>6,Ha=(Ot>>>19|$r<<13)^(Ot<<3|$r>>>29)^(Ot>>>6|$r<<26),xi=f[Se-7],tn=xi.high,Ga=xi.low,e0=f[Se-16],t0=e0.high,r0=e0.low;Ze=ci+Ga,$e=tr+tn+(Ze>>>0<ci>>>0?1:0),Ze=Ze+Ha,$e=$e+as+(Ze>>>0<Ha>>>0?1:0),Ze=Ze+r0,$e=$e+t0+(Ze>>>0<r0>>>0?1:0),ct.high=$e,ct.low=Ze}var W=J&ve^~J&we,X=se&_e^~se&He,ue=de&he^de&pe^he&pe,Ee=Oe&le^Oe&xe^le&xe,it=(de>>>28|Oe<<4)^(de<<30|Oe>>>2)^(de<<25|Oe>>>7),At=(Oe>>>28|de<<4)^(Oe<<30|de>>>2)^(Oe<<25|de>>>7),Dr=(J>>>14|se<<18)^(J>>>18|se<<14)^(J<<23|se>>>9),rn=(se>>>14|J<<18)^(se>>>18|J<<14)^(se<<23|J>>>9),ba=h[Se],ss=ba.high,Ca=ba.low,Jr=Me+rn,Ii=ze+Dr+(Jr>>>0<Me>>>0?1:0),Jr=Jr+X,Ii=Ii+W+(Jr>>>0<X>>>0?1:0),Jr=Jr+Ca,Ii=Ii+ss+(Jr>>>0<Ca>>>0?1:0),Jr=Jr+Ze,Ii=Ii+$e+(Jr>>>0<Ze>>>0?1:0),jn=At+Ee,Pr=it+ue+(jn>>>0<At>>>0?1:0);ze=we,Me=He,we=ve,He=_e,ve=J,_e=se,se=q+Jr|0,J=be+Ii+(se>>>0<q>>>0?1:0)|0,be=pe,q=xe,pe=he,xe=le,he=de,le=Oe,Oe=Jr+jn|0,de=Ii+Pr+(Oe>>>0<Jr>>>0?1:0)|0}T=m.low=T+Oe,m.high=S+de+(T>>>0<Oe>>>0?1:0),F=y.low=F+le,y.high=D+he+(F>>>0<le>>>0?1:0),O=_.low=O+xe,_.high=B+pe+(O>>>0<xe>>>0?1:0),R=x.low=R+q,x.high=M+be+(R>>>0<q>>>0?1:0),k=b.low=k+se,b.high=z+J+(k>>>0<se>>>0?1:0),V=C.low=V+_e,C.high=U+ve+(V>>>0<_e>>>0?1:0),Y=E.low=Y+He,E.high=j+we+(Y>>>0<He>>>0?1:0),re=A.low=re+Me,A.high=te+ze+(re>>>0<Me>>>0?1:0)},_doFinalize:function(){var p=this._data,g=p.words,v=this._nDataBytes*8,m=p.sigBytes*8;g[m>>>5]|=128<<24-m%32,g[(m+128>>>10<<5)+30]=Math.floor(v/4294967296),g[(m+128>>>10<<5)+31]=v,p.sigBytes=g.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});i.SHA512=a._createHelper(d),i.HmacSHA512=a._createHmacHelper(d)}(),r.SHA512})}(v5)),v5.exports}var m5={exports:{}},Mke=m5.exports,mj;function Pke(){return mj||(mj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),lC(),xie())})(Mke,function(r){return function(){var i=r,n=i.x64,a=n.Word,s=n.WordArray,o=i.algo,u=o.SHA512,l=o.SHA384=u.extend({_doReset:function(){this._hash=new s.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var c=u._doFinalize.call(this);return c.sigBytes-=16,c}});i.SHA384=u._createHelper(l),i.HmacSHA384=u._createHmacHelper(l)}(),r.SHA384})}(m5)),m5.exports}var y5={exports:{}},Lke=y5.exports,yj;function Oke(){return yj||(yj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),lC())})(Lke,function(r){return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,u=n.x64,l=u.Word,c=n.algo,h=[],f=[],d=[];(function(){for(var v=1,m=0,y=0;y<24;y++){h[v+5*m]=(y+1)*(y+2)/2%64;var _=m%5,x=(2*v+3*m)%5;v=_,m=x}for(var v=0;v<5;v++)for(var m=0;m<5;m++)f[v+5*m]=m+(2*v+3*m)%5*5;for(var b=1,C=0;C<24;C++){for(var E=0,A=0,S=0;S<7;S++){if(b&1){var T=(1<<S)-1;T<32?A^=1<<T:E^=1<<T-32}b&128?b=b<<1^113:b<<=1}d[C]=l.create(E,A)}})();var p=[];(function(){for(var v=0;v<25;v++)p[v]=l.create()})();var g=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],m=0;m<25;m++)v[m]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,m){for(var y=this._state,_=this.blockSize/2,x=0;x<_;x++){var b=v[m+2*x],C=v[m+2*x+1];b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360;var E=y[x];E.high^=C,E.low^=b}for(var A=0;A<24;A++){for(var S=0;S<5;S++){for(var T=0,D=0,F=0;F<5;F++){var E=y[S+5*F];T^=E.high,D^=E.low}var B=p[S];B.high=T,B.low=D}for(var S=0;S<5;S++)for(var O=p[(S+4)%5],M=p[(S+1)%5],R=M.high,z=M.low,T=O.high^(R<<1|z>>>31),D=O.low^(z<<1|R>>>31),F=0;F<5;F++){var E=y[S+5*F];E.high^=T,E.low^=D}for(var k=1;k<25;k++){var T,D,E=y[k],U=E.high,V=E.low,j=h[k];j<32?(T=U<<j|V>>>32-j,D=V<<j|U>>>32-j):(T=V<<j-32|U>>>64-j,D=U<<j-32|V>>>64-j);var Y=p[f[k]];Y.high=T,Y.low=D}var te=p[0],re=y[0];te.high=re.high,te.low=re.low;for(var S=0;S<5;S++)for(var F=0;F<5;F++){var k=S+5*F,E=y[k],de=p[k],Oe=p[(S+1)%5+5*F],he=p[(S+2)%5+5*F];E.high=de.high^~Oe.high&he.high,E.low=de.low^~Oe.low&he.low}var E=y[0],le=d[A];E.high^=le.high,E.low^=le.low}},_doFinalize:function(){var v=this._data,m=v.words;this._nDataBytes*8;var y=v.sigBytes*8,_=this.blockSize*32;m[y>>>5]|=1<<24-y%32,m[(i.ceil((y+1)/_)*_>>>5)-1]|=128,v.sigBytes=m.length*4,this._process();for(var x=this._state,b=this.cfg.outputLength/8,C=b/8,E=[],A=0;A<C;A++){var S=x[A],T=S.high,D=S.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,E.push(D),E.push(T)}return new s.init(E,b)},clone:function(){for(var v=o.clone.call(this),m=v._state=this._state.slice(0),y=0;y<25;y++)m[y]=m[y].clone();return v}});n.SHA3=o._createHelper(g),n.HmacSHA3=o._createHmacHelper(g)}(Math),r.SHA3})}(y5)),y5.exports}var _5={exports:{}},Rke=_5.exports,_j;function Nke(){return _j||(_j=1,function(t,e){(function(r,i){t.exports=i(lr())})(Rke,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(i){var n=r,a=n.lib,s=a.WordArray,o=a.Hasher,u=n.algo,l=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),g=u.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(C,E){for(var A=0;A<16;A++){var S=E+A,T=C[S];C[S]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var D=this._hash.words,F=d.words,B=p.words,O=l.words,M=c.words,R=h.words,z=f.words,k,U,V,j,Y,te,re,de,Oe,he;te=k=D[0],re=U=D[1],de=V=D[2],Oe=j=D[3],he=Y=D[4];for(var le,A=0;A<80;A+=1)le=k+C[E+O[A]]|0,A<16?le+=v(U,V,j)+F[0]:A<32?le+=m(U,V,j)+F[1]:A<48?le+=y(U,V,j)+F[2]:A<64?le+=_(U,V,j)+F[3]:le+=x(U,V,j)+F[4],le=le|0,le=b(le,R[A]),le=le+Y|0,k=Y,Y=j,j=b(V,10),V=U,U=le,le=te+C[E+M[A]]|0,A<16?le+=x(re,de,Oe)+B[0]:A<32?le+=_(re,de,Oe)+B[1]:A<48?le+=y(re,de,Oe)+B[2]:A<64?le+=m(re,de,Oe)+B[3]:le+=v(re,de,Oe)+B[4],le=le|0,le=b(le,z[A]),le=le+he|0,te=he,he=Oe,Oe=b(de,10),de=re,re=le;le=D[1]+V+Oe|0,D[1]=D[2]+j+he|0,D[2]=D[3]+Y+te|0,D[3]=D[4]+k+re|0,D[4]=D[0]+U+de|0,D[0]=le},_doFinalize:function(){var C=this._data,E=C.words,A=this._nDataBytes*8,S=C.sigBytes*8;E[S>>>5]|=128<<24-S%32,E[(S+64>>>9<<4)+14]=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,C.sigBytes=(E.length+1)*4,this._process();for(var T=this._hash,D=T.words,F=0;F<5;F++){var B=D[F];D[F]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return T},clone:function(){var C=o.clone.call(this);return C._hash=this._hash.clone(),C}});function v(C,E,A){return C^E^A}function m(C,E,A){return C&E|~C&A}function y(C,E,A){return(C|~E)^A}function _(C,E,A){return C&A|E&~A}function x(C,E,A){return C^(E|~A)}function b(C,E){return C<<E|C>>>32-E}n.RIPEMD160=o._createHelper(g),n.HmacRIPEMD160=o._createHmacHelper(g)}(),r.RIPEMD160})}(_5)),_5.exports}var x5={exports:{}},kke=x5.exports,xj;function EI(){return xj||(xj=1,function(t,e){(function(r,i){t.exports=i(lr())})(kke,function(r){(function(){var i=r,n=i.lib,a=n.Base,s=i.enc,o=s.Utf8,u=i.algo;u.HMAC=a.extend({init:function(l,c){l=this._hasher=new l.init,typeof c=="string"&&(c=o.parse(c));var h=l.blockSize,f=h*4;c.sigBytes>f&&(c=l.finalize(c)),c.clamp();for(var d=this._oKey=c.clone(),p=this._iKey=c.clone(),g=d.words,v=p.words,m=0;m<h;m++)g[m]^=1549556828,v[m]^=909522486;d.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var c=this._hasher,h=c.finalize(l);c.reset();var f=c.finalize(this._oKey.clone().concat(h));return f}})})()})}(x5)),x5.exports}var b5={exports:{}},zke=b5.exports,bj;function Hke(){return bj||(bj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),CI(),EI())})(zke,function(r){return function(){var i=r,n=i.lib,a=n.Base,s=n.WordArray,o=i.algo,u=o.SHA256,l=o.HMAC,c=o.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var d=this.cfg,p=l.create(d.hasher,h),g=s.create(),v=s.create([1]),m=g.words,y=v.words,_=d.keySize,x=d.iterations;m.length<_;){var b=p.update(f).finalize(v);p.reset();for(var C=b.words,E=C.length,A=b,S=1;S<x;S++){A=p.finalize(A),p.reset();for(var T=A.words,D=0;D<E;D++)C[D]^=T[D]}g.concat(b),y[0]++}return g.sigBytes=_*4,g}});i.PBKDF2=function(h,f,d){return c.create(d).compute(h,f)}}(),r.PBKDF2})}(b5)),b5.exports}var C5={exports:{}},Gke=C5.exports,Cj;function Jc(){return Cj||(Cj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),_ie(),EI())})(Gke,function(r){return function(){var i=r,n=i.lib,a=n.Base,s=n.WordArray,o=i.algo,u=o.MD5,l=o.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:u,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,h){for(var f,d=this.cfg,p=d.hasher.create(),g=s.create(),v=g.words,m=d.keySize,y=d.iterations;v.length<m;){f&&p.update(f),f=p.update(c).finalize(h),p.reset();for(var _=1;_<y;_++)f=p.finalize(f),p.reset();g.concat(f)}return g.sigBytes=m*4,g}});i.EvpKDF=function(c,h,f){return l.create(f).compute(c,h)}}(),r.EvpKDF})}(C5)),C5.exports}var E5={exports:{}},Uke=E5.exports,Ej;function yn(){return Ej||(Ej=1,function(t,e){(function(r,i,n){t.exports=i(lr(),Jc())})(Uke,function(r){r.lib.Cipher||function(i){var n=r,a=n.lib,s=a.Base,o=a.WordArray,u=a.BufferedBlockAlgorithm,l=n.enc;l.Utf8;var c=l.Base64,h=n.algo,f=h.EvpKDF,d=a.Cipher=u.extend({cfg:s.extend(),createEncryptor:function(T,D){return this.create(this._ENC_XFORM_MODE,T,D)},createDecryptor:function(T,D){return this.create(this._DEC_XFORM_MODE,T,D)},init:function(T,D,F){this.cfg=this.cfg.extend(F),this._xformMode=T,this._key=D,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var D=this._doFinalize();return D},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(D){return typeof D=="string"?S:C}return function(D){return{encrypt:function(F,B,O){return T(B).encrypt(D,F,B,O)},decrypt:function(F,B,O){return T(B).decrypt(D,F,B,O)}}}}()});a.StreamCipher=d.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var p=n.mode={},g=a.BlockCipherMode=s.extend({createEncryptor:function(T,D){return this.Encryptor.create(T,D)},createDecryptor:function(T,D){return this.Decryptor.create(T,D)},init:function(T,D){this._cipher=T,this._iv=D}}),v=p.CBC=function(){var T=g.extend();T.Encryptor=T.extend({processBlock:function(F,B){var O=this._cipher,M=O.blockSize;D.call(this,F,B,M),O.encryptBlock(F,B),this._prevBlock=F.slice(B,B+M)}}),T.Decryptor=T.extend({processBlock:function(F,B){var O=this._cipher,M=O.blockSize,R=F.slice(B,B+M);O.decryptBlock(F,B),D.call(this,F,B,M),this._prevBlock=R}});function D(F,B,O){var M,R=this._iv;R?(M=R,this._iv=i):M=this._prevBlock;for(var z=0;z<O;z++)F[B+z]^=M[z]}return T}(),m=n.pad={},y=m.Pkcs7={pad:function(T,D){for(var F=D*4,B=F-T.sigBytes%F,O=B<<24|B<<16|B<<8|B,M=[],R=0;R<B;R+=4)M.push(O);var z=o.create(M,B);T.concat(z)},unpad:function(T){var D=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=D}};a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:v,padding:y}),reset:function(){var T;d.reset.call(this);var D=this.cfg,F=D.iv,B=D.mode;this._xformMode==this._ENC_XFORM_MODE?T=B.createEncryptor:(T=B.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,F&&F.words):(this._mode=T.call(B,this,F&&F.words),this._mode.__creator=T)},_doProcessBlock:function(T,D){this._mode.processBlock(T,D)},_doFinalize:function(){var T,D=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(D.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),D.unpad(T)),T},blockSize:128/32});var _=a.CipherParams=s.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),x=n.format={},b=x.OpenSSL={stringify:function(T){var D,F=T.ciphertext,B=T.salt;return B?D=o.create([1398893684,1701076831]).concat(B).concat(F):D=F,D.toString(c)},parse:function(T){var D,F=c.parse(T),B=F.words;return B[0]==1398893684&&B[1]==1701076831&&(D=o.create(B.slice(2,4)),B.splice(0,4),F.sigBytes-=16),_.create({ciphertext:F,salt:D})}},C=a.SerializableCipher=s.extend({cfg:s.extend({format:b}),encrypt:function(T,D,F,B){B=this.cfg.extend(B);var O=T.createEncryptor(F,B),M=O.finalize(D),R=O.cfg;return _.create({ciphertext:M,key:F,iv:R.iv,algorithm:T,mode:R.mode,padding:R.padding,blockSize:T.blockSize,formatter:B.format})},decrypt:function(T,D,F,B){B=this.cfg.extend(B),D=this._parse(D,B.format);var O=T.createDecryptor(F,B).finalize(D.ciphertext);return O},_parse:function(T,D){return typeof T=="string"?D.parse(T,this):T}}),E=n.kdf={},A=E.OpenSSL={execute:function(T,D,F,B,O){if(B||(B=o.random(64/8)),O)var M=f.create({keySize:D+F,hasher:O}).compute(T,B);else var M=f.create({keySize:D+F}).compute(T,B);var R=o.create(M.words.slice(D),F*4);return M.sigBytes=D*4,_.create({key:M,iv:R,salt:B})}},S=a.PasswordBasedCipher=C.extend({cfg:C.cfg.extend({kdf:A}),encrypt:function(T,D,F,B){B=this.cfg.extend(B);var O=B.kdf.execute(F,T.keySize,T.ivSize,B.salt,B.hasher);B.iv=O.iv;var M=C.encrypt.call(this,T,D,O.key,B);return M.mixIn(O),M},decrypt:function(T,D,F,B){B=this.cfg.extend(B),D=this._parse(D,B.format);var O=B.kdf.execute(F,T.keySize,T.ivSize,D.salt,B.hasher);B.iv=O.iv;var M=C.decrypt.call(this,T,D,O.key,B);return M}})}()})}(E5)),E5.exports}var S5={exports:{}},jke=S5.exports,Sj;function Vke(){return Sj||(Sj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(jke,function(r){return r.mode.CFB=function(){var i=r.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize;n.call(this,a,s,u,o),this._prevBlock=a.slice(s,s+u)}}),i.Decryptor=i.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize,l=a.slice(s,s+u);n.call(this,a,s,u,o),this._prevBlock=l}});function n(a,s,o,u){var l,c=this._iv;c?(l=c.slice(0),this._iv=void 0):l=this._prevBlock,u.encryptBlock(l,0);for(var h=0;h<o;h++)a[s+h]^=l[h]}return i}(),r.mode.CFB})}(S5)),S5.exports}var T5={exports:{}},$ke=T5.exports,Tj;function Wke(){return Tj||(Tj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})($ke,function(r){return r.mode.CTR=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize,l=this._iv,c=this._counter;l&&(c=this._counter=l.slice(0),this._iv=void 0);var h=c.slice(0);o.encryptBlock(h,0),c[u-1]=c[u-1]+1|0;for(var f=0;f<u;f++)a[s+f]^=h[f]}});return i.Decryptor=n,i}(),r.mode.CTR})}(T5)),T5.exports}var A5={exports:{}},Yke=A5.exports,Aj;function qke(){return Aj||(Aj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(Yke,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var i=r.lib.BlockCipherMode.extend();function n(o){if((o>>24&255)===255){var u=o>>16&255,l=o>>8&255,c=o&255;u===255?(u=0,l===255?(l=0,c===255?c=0:++c):++l):++u,o=0,o+=u<<16,o+=l<<8,o+=c}else o+=1<<24;return o}function a(o){return(o[0]=n(o[0]))===0&&(o[1]=n(o[1])),o}var s=i.Encryptor=i.extend({processBlock:function(o,u){var l=this._cipher,c=l.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),a(f);var d=f.slice(0);l.encryptBlock(d,0);for(var p=0;p<c;p++)o[u+p]^=d[p]}});return i.Decryptor=s,i}(),r.mode.CTRGladman})}(A5)),A5.exports}var w5={exports:{}},Xke=w5.exports,wj;function Zke(){return wj||(wj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(Xke,function(r){return r.mode.OFB=function(){var i=r.lib.BlockCipherMode.extend(),n=i.Encryptor=i.extend({processBlock:function(a,s){var o=this._cipher,u=o.blockSize,l=this._iv,c=this._keystream;l&&(c=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var h=0;h<u;h++)a[s+h]^=c[h]}});return i.Decryptor=n,i}(),r.mode.OFB})}(w5)),w5.exports}var D5={exports:{}},Kke=D5.exports,Dj;function Jke(){return Dj||(Dj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(Kke,function(r){return r.mode.ECB=function(){var i=r.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(n,a){this._cipher.encryptBlock(n,a)}}),i.Decryptor=i.extend({processBlock:function(n,a){this._cipher.decryptBlock(n,a)}}),i}(),r.mode.ECB})}(D5)),D5.exports}var F5={exports:{}},Qke=F5.exports,Fj;function eze(){return Fj||(Fj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(Qke,function(r){return r.pad.AnsiX923={pad:function(i,n){var a=i.sigBytes,s=n*4,o=s-a%s,u=a+o-1;i.clamp(),i.words[u>>>2]|=o<<24-u%4*8,i.sigBytes+=o},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Ansix923})}(F5)),F5.exports}var I5={exports:{}},tze=I5.exports,Ij;function rze(){return Ij||(Ij=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(tze,function(r){return r.pad.Iso10126={pad:function(i,n){var a=n*4,s=a-i.sigBytes%a;i.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(i){var n=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=n}},r.pad.Iso10126})}(I5)),I5.exports}var B5={exports:{}},ize=B5.exports,Bj;function nze(){return Bj||(Bj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(ize,function(r){return r.pad.Iso97971={pad:function(i,n){i.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(i,n)},unpad:function(i){r.pad.ZeroPadding.unpad(i),i.sigBytes--}},r.pad.Iso97971})}(B5)),B5.exports}var M5={exports:{}},aze=M5.exports,Mj;function sze(){return Mj||(Mj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(aze,function(r){return r.pad.ZeroPadding={pad:function(i,n){var a=n*4;i.clamp(),i.sigBytes+=a-(i.sigBytes%a||a)},unpad:function(i){for(var n=i.words,a=i.sigBytes-1,a=i.sigBytes-1;a>=0;a--)if(n[a>>>2]>>>24-a%4*8&255){i.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(M5)),M5.exports}var P5={exports:{}},oze=P5.exports,Pj;function uze(){return Pj||(Pj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(oze,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(P5)),P5.exports}var L5={exports:{}},lze=L5.exports,Lj;function cze(){return Lj||(Lj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),yn())})(lze,function(r){return function(i){var n=r,a=n.lib,s=a.CipherParams,o=n.enc,u=o.Hex,l=n.format;l.Hex={stringify:function(c){return c.ciphertext.toString(u)},parse:function(c){var h=u.parse(c);return s.create({ciphertext:h})}}}(),r.format.Hex})}(L5)),L5.exports}var O5={exports:{}},hze=O5.exports,Oj;function fze(){return Oj||(Oj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),Bf(),Mf(),Jc(),yn())})(hze,function(r){return function(){var i=r,n=i.lib,a=n.BlockCipher,s=i.algo,o=[],u=[],l=[],c=[],h=[],f=[],d=[],p=[],g=[],v=[];(function(){for(var _=[],x=0;x<256;x++)x<128?_[x]=x<<1:_[x]=x<<1^283;for(var b=0,C=0,x=0;x<256;x++){var E=C^C<<1^C<<2^C<<3^C<<4;E=E>>>8^E&255^99,o[b]=E,u[E]=b;var A=_[b],S=_[A],T=_[S],D=_[E]*257^E*16843008;l[b]=D<<24|D>>>8,c[b]=D<<16|D>>>16,h[b]=D<<8|D>>>24,f[b]=D;var D=T*16843009^S*65537^A*257^b*16843008;d[E]=D<<24|D>>>8,p[E]=D<<16|D>>>16,g[E]=D<<8|D>>>24,v[E]=D,b?(b=A^_[_[_[T^A]]],C^=_[_[C]]):b=C=1}})();var m=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=a.extend({_doReset:function(){var _;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var x=this._keyPriorReset=this._key,b=x.words,C=x.sigBytes/4,E=this._nRounds=C+6,A=(E+1)*4,S=this._keySchedule=[],T=0;T<A;T++)T<C?S[T]=b[T]:(_=S[T-1],T%C?C>6&&T%C==4&&(_=o[_>>>24]<<24|o[_>>>16&255]<<16|o[_>>>8&255]<<8|o[_&255]):(_=_<<8|_>>>24,_=o[_>>>24]<<24|o[_>>>16&255]<<16|o[_>>>8&255]<<8|o[_&255],_^=m[T/C|0]<<24),S[T]=S[T-C]^_);for(var D=this._invKeySchedule=[],F=0;F<A;F++){var T=A-F;if(F%4)var _=S[T];else var _=S[T-4];F<4||T<=4?D[F]=_:D[F]=d[o[_>>>24]]^p[o[_>>>16&255]]^g[o[_>>>8&255]]^v[o[_&255]]}}},encryptBlock:function(_,x){this._doCryptBlock(_,x,this._keySchedule,l,c,h,f,o)},decryptBlock:function(_,x){var b=_[x+1];_[x+1]=_[x+3],_[x+3]=b,this._doCryptBlock(_,x,this._invKeySchedule,d,p,g,v,u);var b=_[x+1];_[x+1]=_[x+3],_[x+3]=b},_doCryptBlock:function(_,x,b,C,E,A,S,T){for(var D=this._nRounds,F=_[x]^b[0],B=_[x+1]^b[1],O=_[x+2]^b[2],M=_[x+3]^b[3],R=4,z=1;z<D;z++){var k=C[F>>>24]^E[B>>>16&255]^A[O>>>8&255]^S[M&255]^b[R++],U=C[B>>>24]^E[O>>>16&255]^A[M>>>8&255]^S[F&255]^b[R++],V=C[O>>>24]^E[M>>>16&255]^A[F>>>8&255]^S[B&255]^b[R++],j=C[M>>>24]^E[F>>>16&255]^A[B>>>8&255]^S[O&255]^b[R++];F=k,B=U,O=V,M=j}var k=(T[F>>>24]<<24|T[B>>>16&255]<<16|T[O>>>8&255]<<8|T[M&255])^b[R++],U=(T[B>>>24]<<24|T[O>>>16&255]<<16|T[M>>>8&255]<<8|T[F&255])^b[R++],V=(T[O>>>24]<<24|T[M>>>16&255]<<16|T[F>>>8&255]<<8|T[B&255])^b[R++],j=(T[M>>>24]<<24|T[F>>>16&255]<<16|T[B>>>8&255]<<8|T[O&255])^b[R++];_[x]=k,_[x+1]=U,_[x+2]=V,_[x+3]=j},keySize:256/32});i.AES=a._createHelper(y)}(),r.AES})}(O5)),O5.exports}var R5={exports:{}},dze=R5.exports,Rj;function pze(){return Rj||(Rj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),Bf(),Mf(),Jc(),yn())})(dze,function(r){return function(){var i=r,n=i.lib,a=n.WordArray,s=n.BlockCipher,o=i.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=o.DES=s.extend({_doReset:function(){for(var m=this._key,y=m.words,_=[],x=0;x<56;x++){var b=u[x]-1;_[x]=y[b>>>5]>>>31-b%32&1}for(var C=this._subKeys=[],E=0;E<16;E++){for(var A=C[E]=[],S=c[E],x=0;x<24;x++)A[x/6|0]|=_[(l[x]-1+S)%28]<<31-x%6,A[4+(x/6|0)]|=_[28+(l[x+24]-1+S)%28]<<31-x%6;A[0]=A[0]<<1|A[0]>>>31;for(var x=1;x<7;x++)A[x]=A[x]>>>(x-1)*4+3;A[7]=A[7]<<5|A[7]>>>27}for(var T=this._invSubKeys=[],x=0;x<16;x++)T[x]=C[15-x]},encryptBlock:function(m,y){this._doCryptBlock(m,y,this._subKeys)},decryptBlock:function(m,y){this._doCryptBlock(m,y,this._invSubKeys)},_doCryptBlock:function(m,y,_){this._lBlock=m[y],this._rBlock=m[y+1],p.call(this,4,252645135),p.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),p.call(this,1,1431655765);for(var x=0;x<16;x++){for(var b=_[x],C=this._lBlock,E=this._rBlock,A=0,S=0;S<8;S++)A|=h[S][((E^b[S])&f[S])>>>0];this._lBlock=E,this._rBlock=C^A}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,p.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),m[y]=this._lBlock,m[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(m,y){var _=(this._lBlock>>>m^this._rBlock)&y;this._rBlock^=_,this._lBlock^=_<<m}function g(m,y){var _=(this._rBlock>>>m^this._lBlock)&y;this._lBlock^=_,this._rBlock^=_<<m}i.DES=s._createHelper(d);var v=o.TripleDES=s.extend({_doReset:function(){var m=this._key,y=m.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=y.slice(0,2),x=y.length<4?y.slice(0,2):y.slice(2,4),b=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=d.createEncryptor(a.create(_)),this._des2=d.createEncryptor(a.create(x)),this._des3=d.createEncryptor(a.create(b))},encryptBlock:function(m,y){this._des1.encryptBlock(m,y),this._des2.decryptBlock(m,y),this._des3.encryptBlock(m,y)},decryptBlock:function(m,y){this._des3.decryptBlock(m,y),this._des2.encryptBlock(m,y),this._des1.decryptBlock(m,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=s._createHelper(v)}(),r.TripleDES})}(R5)),R5.exports}var N5={exports:{}},gze=N5.exports,Nj;function vze(){return Nj||(Nj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),Bf(),Mf(),Jc(),yn())})(gze,function(r){return function(){var i=r,n=i.lib,a=n.StreamCipher,s=i.algo,o=s.RC4=a.extend({_doReset:function(){for(var c=this._key,h=c.words,f=c.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,g=0;p<256;p++){var v=p%f,m=h[v>>>2]>>>24-v%4*8&255;g=(g+d[p]+m)%256;var y=d[p];d[p]=d[g],d[g]=y}this._i=this._j=0},_doProcessBlock:function(c,h){c[h]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var c=this._S,h=this._i,f=this._j,d=0,p=0;p<4;p++){h=(h+1)%256,f=(f+c[h])%256;var g=c[h];c[h]=c[f],c[f]=g,d|=c[(c[h]+c[f])%256]<<24-p*8}return this._i=h,this._j=f,d}i.RC4=a._createHelper(o);var l=s.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)u.call(this)}});i.RC4Drop=a._createHelper(l)}(),r.RC4})}(N5)),N5.exports}var k5={exports:{}},mze=k5.exports,kj;function yze(){return kj||(kj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),Bf(),Mf(),Jc(),yn())})(mze,function(r){return function(){var i=r,n=i.lib,a=n.StreamCipher,s=i.algo,o=[],u=[],l=[],c=s.Rabbit=a.extend({_doReset:function(){for(var f=this._key.words,d=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var g=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)h.call(this);for(var p=0;p<8;p++)v[p]^=g[p+4&7];if(d){var m=d.words,y=m[0],_=m[1],x=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=x>>>16|b&4294901760,E=b<<16|x&65535;v[0]^=x,v[1]^=C,v[2]^=b,v[3]^=E,v[4]^=x,v[5]^=C,v[6]^=b,v[7]^=E;for(var p=0;p<4;p++)h.call(this)}},_doProcessBlock:function(f,d){var p=this._X;h.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,f[d+g]^=o[g]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,d=this._C,p=0;p<8;p++)u[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<u[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<u[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<u[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<u[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<u[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<u[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<u[6]>>>0?1:0)|0,this._b=d[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var g=f[p]+d[p],v=g&65535,m=g>>>16,y=((v*v>>>17)+v*m>>>15)+m*m,_=((g&4294901760)*g|0)+((g&65535)*g|0);l[p]=y^_}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}i.Rabbit=a._createHelper(c)}(),r.Rabbit})}(k5)),k5.exports}var z5={exports:{}},_ze=z5.exports,zj;function xze(){return zj||(zj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),Bf(),Mf(),Jc(),yn())})(_ze,function(r){return function(){var i=r,n=i.lib,a=n.StreamCipher,s=i.algo,o=[],u=[],l=[],c=s.RabbitLegacy=a.extend({_doReset:function(){var f=this._key.words,d=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)h.call(this);for(var v=0;v<8;v++)g[v]^=p[v+4&7];if(d){var m=d.words,y=m[0],_=m[1],x=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,b=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=x>>>16|b&4294901760,E=b<<16|x&65535;g[0]^=x,g[1]^=C,g[2]^=b,g[3]^=E,g[4]^=x,g[5]^=C,g[6]^=b,g[7]^=E;for(var v=0;v<4;v++)h.call(this)}},_doProcessBlock:function(f,d){var p=this._X;h.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var g=0;g<4;g++)o[g]=(o[g]<<8|o[g]>>>24)&16711935|(o[g]<<24|o[g]>>>8)&4278255360,f[d+g]^=o[g]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,d=this._C,p=0;p<8;p++)u[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<u[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<u[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<u[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<u[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<u[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<u[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<u[6]>>>0?1:0)|0,this._b=d[7]>>>0<u[7]>>>0?1:0;for(var p=0;p<8;p++){var g=f[p]+d[p],v=g&65535,m=g>>>16,y=((v*v>>>17)+v*m>>>15)+m*m,_=((g&4294901760)*g|0)+((g&65535)*g|0);l[p]=y^_}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}i.RabbitLegacy=a._createHelper(c)}(),r.RabbitLegacy})}(z5)),z5.exports}var H5={exports:{}},bze=H5.exports,Hj;function Cze(){return Hj||(Hj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),Bf(),Mf(),Jc(),yn())})(bze,function(r){return function(){var i=r,n=i.lib,a=n.BlockCipher,s=i.algo;const o=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function h(v,m){let y=m>>24&255,_=m>>16&255,x=m>>8&255,b=m&255,C=v.sbox[0][y]+v.sbox[1][_];return C=C^v.sbox[2][x],C=C+v.sbox[3][b],C}function f(v,m,y){let _=m,x=y,b;for(let C=0;C<o;++C)_=_^v.pbox[C],x=h(v,_)^x,b=_,_=x,x=b;return b=_,_=x,x=b,x=x^v.pbox[o],_=_^v.pbox[o+1],{left:_,right:x}}function d(v,m,y){let _=m,x=y,b;for(let C=o+1;C>1;--C)_=_^v.pbox[C],x=h(v,_)^x,b=_,_=x,x=b;return b=_,_=x,x=b,x=x^v.pbox[1],_=_^v.pbox[0],{left:_,right:x}}function p(v,m,y){for(let E=0;E<4;E++){v.sbox[E]=[];for(let A=0;A<256;A++)v.sbox[E][A]=l[E][A]}let _=0;for(let E=0;E<o+2;E++)v.pbox[E]=u[E]^m[_],_++,_>=y&&(_=0);let x=0,b=0,C=0;for(let E=0;E<o+2;E+=2)C=f(v,x,b),x=C.left,b=C.right,v.pbox[E]=x,v.pbox[E+1]=b;for(let E=0;E<4;E++)for(let A=0;A<256;A+=2)C=f(v,x,b),x=C.left,b=C.right,v.sbox[E][A]=x,v.sbox[E][A+1]=b;return!0}var g=s.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,m=v.words,y=v.sigBytes/4;p(c,m,y)}},encryptBlock:function(v,m){var y=f(c,v[m],v[m+1]);v[m]=y.left,v[m+1]=y.right},decryptBlock:function(v,m){var y=d(c,v[m],v[m+1]);v[m]=y.left,v[m+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=a._createHelper(g)}(),r.Blowfish})}(H5)),H5.exports}var Eze=a5.exports,Gj;function Sze(){return Gj||(Gj=1,function(t,e){(function(r,i,n){t.exports=i(lr(),lC(),xke(),Cke(),Bf(),Tke(),Mf(),_ie(),CI(),Ike(),xie(),Pke(),Oke(),Nke(),EI(),Hke(),Jc(),yn(),Vke(),Wke(),qke(),Zke(),Jke(),eze(),rze(),nze(),sze(),uze(),cze(),fze(),pze(),vze(),yze(),xze(),Cze())})(Eze,function(r){return r})}(a5)),a5.exports}Sze();function Uj(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function SI(t,e){t===void 0&&(t={}),e===void 0&&(e={});const r=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>r.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:Uj(e[i])&&Uj(t[i])&&Object.keys(e[i]).length>0&&SI(t[i],e[i])})}const bie={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function fu(){const t=typeof document<"u"?document:{};return SI(t,bie),t}const Tze={document:bie,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function xa(){const t=typeof window<"u"?window:{};return SI(t,Tze),t}function Aze(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function wze(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function cD(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function kh(){return Date.now()}function Dze(t){const e=xa();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function Fze(t,e){e===void 0&&(e="x");const r=xa();let i,n,a;const s=Dze(t);return r.WebKitCSSMatrix?(n=s.transform||s.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(o=>o.replace(",",".")).join(", ")),a=new r.WebKitCSSMatrix(n==="none"?"":n)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=a.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?n=a.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(r.WebKitCSSMatrix?n=a.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function sx(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ize(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Za(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const i=r<0||arguments.length<=r?void 0:arguments[r];if(i!=null&&!Ize(i)){const n=Object.keys(Object(i)).filter(a=>e.indexOf(a)<0);for(let a=0,s=n.length;a<s;a+=1){const o=n[a],u=Object.getOwnPropertyDescriptor(i,o);u!==void 0&&u.enumerable&&(sx(t[o])&&sx(i[o])?i[o].__swiper__?t[o]=i[o]:Za(t[o],i[o]):!sx(t[o])&&sx(i[o])?(t[o]={},i[o].__swiper__?t[o]=i[o]:Za(t[o],i[o])):t[o]=i[o])}}}return t}function ox(t,e,r){t.style.setProperty(e,r)}function Cie(t){let{swiper:e,targetPosition:r,side:i}=t;const n=xa(),a=-e.translate;let s=null,o;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(e.cssModeFrameID);const l=r>a?"next":"prev",c=(f,d)=>l==="next"&&f>=d||l==="prev"&&f<=d,h=()=>{o=new Date().getTime(),s===null&&(s=o);const f=Math.max(Math.min((o-s)/u,1),0),d=.5-Math.cos(f*Math.PI)/2;let p=a+d*(r-a);if(c(p,r)&&(p=r),e.wrapperEl.scrollTo({[i]:p}),c(p,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:p})}),n.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=n.requestAnimationFrame(h)};h()}function eu(t,e){e===void 0&&(e="");const r=xa(),i=[...t.children];return r.HTMLSlotElement&&t instanceof HTMLSlotElement&&i.push(...t.assignedElements()),e?i.filter(n=>n.matches(e)):i}function Bze(t,e){const r=[e];for(;r.length>0;){const i=r.shift();if(t===i)return!0;r.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function Mze(t,e){const r=xa();let i=e.contains(t);return!i&&r.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(t),i||(i=Bze(t,e))),i}function _4(t){try{console.warn(t);return}catch{}}function x4(t,e){e===void 0&&(e=[]);const r=document.createElement(t);return r.classList.add(...Array.isArray(e)?e:Aze(e)),r}function Pze(t,e){const r=[];for(;t.previousElementSibling;){const i=t.previousElementSibling;e?i.matches(e)&&r.push(i):r.push(i),t=i}return r}function Lze(t,e){const r=[];for(;t.nextElementSibling;){const i=t.nextElementSibling;e?i.matches(e)&&r.push(i):r.push(i),t=i}return r}function Tc(t,e){return xa().getComputedStyle(t,null).getPropertyValue(e)}function b4(t){let e=t,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function Eie(t,e){const r=[];let i=t.parentElement;for(;i;)e?i.matches(e)&&r.push(i):r.push(i),i=i.parentElement;return r}function TT(t,e){function r(i){i.target===t&&(e.call(t,i),t.removeEventListener("transitionend",r))}e&&t.addEventListener("transitionend",r)}function hD(t,e,r){const i=xa();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function sn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function C4(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:r=>r}).createHTML(e):t.innerHTML=e}let AT;function Oze(){const t=xa(),e=fu();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Sie(){return AT||(AT=Oze()),AT}let wT;function Rze(t){let{userAgent:e}=t===void 0?{}:t;const r=Sie(),i=xa(),n=i.navigator.platform,a=e||i.navigator.userAgent,s={ios:!1,android:!1},o=i.screen.width,u=i.screen.height,l=a.match(/(Android);?[\s\/]+([\d.]+)?/);let c=a.match(/(iPad).*OS\s([\d_]+)/);const h=a.match(/(iPod)(.*OS\s([\d_]+))?/),f=!c&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),d=n==="Win32";let p=n==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&r.touch&&g.indexOf(`${o}x${u}`)>=0&&(c=a.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!d&&(s.os="android",s.android=!0),(c||f||h)&&(s.os="ios",s.ios=!0),s}function Tie(t){return t===void 0&&(t={}),wT||(wT=Rze(t)),wT}let DT;function Nze(){const t=xa(),e=Tie();let r=!1;function i(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(i()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[u,l]=o.split("Version/")[1].split(" ")[0].split(".").map(c=>Number(c));r=u<16||u===16&&l<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),a=i(),s=a||n&&e.ios;return{isSafari:r||a,needPerspectiveFix:r,need3dFix:s,isWebView:n}}function Aie(){return DT||(DT=Nze()),DT}function kze(t){let{swiper:e,on:r,emit:i}=t;const n=xa();let a=null,s=null;const o=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(a=new ResizeObserver(h=>{s=n.requestAnimationFrame(()=>{const{width:f,height:d}=e;let p=f,g=d;h.forEach(v=>{let{contentBoxSize:m,contentRect:y,target:_}=v;_&&_!==e.el||(p=y?y.width:(m[0]||m).inlineSize,g=y?y.height:(m[0]||m).blockSize)}),(p!==f||g!==d)&&o()})}),a.observe(e.el))},l=()=>{s&&n.cancelAnimationFrame(s),a&&a.unobserve&&e.el&&(a.unobserve(e.el),a=null)},c=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof n.ResizeObserver<"u"){u();return}n.addEventListener("resize",o),n.addEventListener("orientationchange",c)}),r("destroy",()=>{l(),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",c)})}function zze(t){let{swiper:e,extendParams:r,on:i,emit:n}=t;const a=[],s=xa(),o=function(c,h){h===void 0&&(h={});const f=s.MutationObserver||s.WebkitMutationObserver,d=new f(p=>{if(e.__preventObserver__)return;if(p.length===1){n("observerUpdate",p[0]);return}const g=function(){n("observerUpdate",p[0])};s.requestAnimationFrame?s.requestAnimationFrame(g):s.setTimeout(g,0)});d.observe(c,{attributes:typeof h.attributes>"u"?!0:h.attributes,childList:e.isElement||(typeof h.childList>"u"?!0:h).childList,characterData:typeof h.characterData>"u"?!0:h.characterData}),a.push(d)},u=()=>{if(e.params.observer){if(e.params.observeParents){const c=Eie(e.hostEl);for(let h=0;h<c.length;h+=1)o(c[h])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},l=()=>{a.forEach(c=>{c.disconnect()}),a.splice(0,a.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",u),i("destroy",l)}var Hze={on(t,e,r){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=r?"unshift":"push";return t.split(" ").forEach(a=>{i.eventsListeners[a]||(i.eventsListeners[a]=[]),i.eventsListeners[a][n](e)}),i},once(t,e,r){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(){i.off(t,n),n.__emitterProxy&&delete n.__emitterProxy;for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];e.apply(i,s)}return n.__emitterProxy=e,i.on(t,n,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const i=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[i](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(i=>{typeof e>"u"?r.eventsListeners[i]=[]:r.eventsListeners[i]&&r.eventsListeners[i].forEach((n,a)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&r.eventsListeners[i].splice(a,1)})}),r},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,r,i;for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return typeof a[0]=="string"||Array.isArray(a[0])?(e=a[0],r=a.slice(1,a.length),i=t):(e=a[0].events,r=a[0].data,i=a[0].context||t),r.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(l=>{l.apply(i,[u,...r])}),t.eventsListeners&&t.eventsListeners[u]&&t.eventsListeners[u].forEach(l=>{l.apply(i,r)})}),t}};function Gze(){const t=this;let e,r;const i=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=i.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=i.clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(Tc(i,"padding-left")||0,10)-parseInt(Tc(i,"padding-right")||0,10),r=r-parseInt(Tc(i,"padding-top")||0,10)-parseInt(Tc(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function Uze(){const t=this;function e(T,D){return parseFloat(T.getPropertyValue(t.getDirectionLabel(D))||0)}const r=t.params,{wrapperEl:i,slidesEl:n,size:a,rtlTranslate:s,wrongRTL:o}=t,u=t.virtual&&r.virtual.enabled,l=u?t.virtual.slides.length:t.slides.length,c=eu(n,`.${t.params.slideClass}, swiper-slide`),h=u?t.virtual.slides.length:c.length;let f=[];const d=[],p=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(t));const m=t.snapGrid.length,y=t.slidesGrid.length;let _=r.spaceBetween,x=-g,b=0,C=0;if(typeof a>"u")return;typeof _=="string"&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*a:typeof _=="string"&&(_=parseFloat(_)),t.virtualSize=-_,c.forEach(T=>{s?T.style.marginLeft="":T.style.marginRight="",T.style.marginBottom="",T.style.marginTop=""}),r.centeredSlides&&r.cssMode&&(ox(i,"--swiper-centered-offset-before",""),ox(i,"--swiper-centered-offset-after",""));const E=r.grid&&r.grid.rows>1&&t.grid;E?t.grid.initSlides(c):t.grid&&t.grid.unsetSlides();let A;const S=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(T=>typeof r.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<h;T+=1){A=0;let D;if(c[T]&&(D=c[T]),E&&t.grid.updateSlide(T,D,c),!(c[T]&&Tc(D,"display")==="none")){if(r.slidesPerView==="auto"){S&&(c[T].style[t.getDirectionLabel("width")]="");const F=getComputedStyle(D),B=D.style.transform,O=D.style.webkitTransform;if(B&&(D.style.transform="none"),O&&(D.style.webkitTransform="none"),r.roundLengths)A=t.isHorizontal()?hD(D,"width"):hD(D,"height");else{const M=e(F,"width"),R=e(F,"padding-left"),z=e(F,"padding-right"),k=e(F,"margin-left"),U=e(F,"margin-right"),V=F.getPropertyValue("box-sizing");if(V&&V==="border-box")A=M+k+U;else{const{clientWidth:j,offsetWidth:Y}=D;A=M+R+z+k+U+(Y-j)}}B&&(D.style.transform=B),O&&(D.style.webkitTransform=O),r.roundLengths&&(A=Math.floor(A))}else A=(a-(r.slidesPerView-1)*_)/r.slidesPerView,r.roundLengths&&(A=Math.floor(A)),c[T]&&(c[T].style[t.getDirectionLabel("width")]=`${A}px`);c[T]&&(c[T].swiperSlideSize=A),p.push(A),r.centeredSlides?(x=x+A/2+b/2+_,b===0&&T!==0&&(x=x-a/2-_),T===0&&(x=x-a/2-_),Math.abs(x)<1/1e3&&(x=0),r.roundLengths&&(x=Math.floor(x)),C%r.slidesPerGroup===0&&f.push(x),d.push(x)):(r.roundLengths&&(x=Math.floor(x)),(C-Math.min(t.params.slidesPerGroupSkip,C))%t.params.slidesPerGroup===0&&f.push(x),d.push(x),x=x+A+_),t.virtualSize+=A+_,b=A,C+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+v,s&&o&&(r.effect==="slide"||r.effect==="coverflow")&&(i.style.width=`${t.virtualSize+_}px`),r.setWrapperSize&&(i.style[t.getDirectionLabel("width")]=`${t.virtualSize+_}px`),E&&t.grid.updateWrapperSize(A,f),!r.centeredSlides){const T=[];for(let D=0;D<f.length;D+=1){let F=f[D];r.roundLengths&&(F=Math.floor(F)),f[D]<=t.virtualSize-a&&T.push(F)}f=T,Math.floor(t.virtualSize-a)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-a)}if(u&&r.loop){const T=p[0]+_;if(r.slidesPerGroup>1){const D=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/r.slidesPerGroup),F=T*r.slidesPerGroup;for(let B=0;B<D;B+=1)f.push(f[f.length-1]+F)}for(let D=0;D<t.virtual.slidesBefore+t.virtual.slidesAfter;D+=1)r.slidesPerGroup===1&&f.push(f[f.length-1]+T),d.push(d[d.length-1]+T),t.virtualSize+=T}if(f.length===0&&(f=[0]),_!==0){const T=t.isHorizontal()&&s?"marginLeft":t.getDirectionLabel("marginRight");c.filter((D,F)=>!r.cssMode||r.loop?!0:F!==c.length-1).forEach(D=>{D.style[T]=`${_}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let T=0;p.forEach(F=>{T+=F+(_||0)}),T-=_;const D=T>a?T-a:0;f=f.map(F=>F<=0?-g:F>D?D+v:F)}if(r.centerInsufficientSlides){let T=0;p.forEach(F=>{T+=F+(_||0)}),T-=_;const D=(r.slidesOffsetBefore||0)+(r.slidesOffsetAfter||0);if(T+D<a){const F=(a-T-D)/2;f.forEach((B,O)=>{f[O]=B-F}),d.forEach((B,O)=>{d[O]=B+F})}}if(Object.assign(t,{slides:c,snapGrid:f,slidesGrid:d,slidesSizesGrid:p}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){ox(i,"--swiper-centered-offset-before",`${-f[0]}px`),ox(i,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const T=-t.snapGrid[0],D=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(F=>F+T),t.slidesGrid=t.slidesGrid.map(F=>F+D)}if(h!==l&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),d.length!==y&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!u&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const T=`${r.containerModifierClass}backface-hidden`,D=t.el.classList.contains(T);h<=r.maxBackfaceHiddenSlides?D||t.el.classList.add(T):D&&t.el.classList.remove(T)}}function jze(t){const e=this,r=[],i=e.virtual&&e.params.virtual.enabled;let n=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const s=o=>i?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{r.push(o)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const o=e.activeIndex+a;if(o>e.slides.length&&!i)break;r.push(s(o))}else r.push(s(e.activeIndex));for(a=0;a<r.length;a+=1)if(typeof r[a]<"u"){const o=r[a].offsetHeight;n=o>n?o:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function Vze(){const t=this,e=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(t.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-r-t.cssOverflowAdjustment()}const jj=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function $ze(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:i,rtlTranslate:n,snapGrid:a}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let s=-t;n&&(s=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=r.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let u=0;u<i.length;u+=1){const l=i[u];let c=l.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=i[0].swiperSlideOffset);const h=(s+(r.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+o),f=(s-a[0]+(r.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+o),d=-(s-c),p=d+e.slidesSizesGrid[u],g=d>=0&&d<=e.size-e.slidesSizesGrid[u],v=d>=0&&d<e.size-1||p>1&&p<=e.size||d<=0&&p>=e.size;v&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(u)),jj(l,v,r.slideVisibleClass),jj(l,g,r.slideFullyVisibleClass),l.progress=n?-h:h,l.originalProgress=n?-f:f}}function Wze(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const r=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:a,isEnd:s,progressLoop:o}=e;const u=a,l=s;if(i===0)n=0,a=!0,s=!0;else{n=(t-e.minTranslate())/i;const c=Math.abs(t-e.minTranslate())<1,h=Math.abs(t-e.maxTranslate())<1;a=c||n<=0,s=h||n>=1,c&&(n=0),h&&(n=1)}if(r.loop){const c=e.getSlideIndexByData(0),h=e.getSlideIndexByData(e.slides.length-1),f=e.slidesGrid[c],d=e.slidesGrid[h],p=e.slidesGrid[e.slidesGrid.length-1],g=Math.abs(t);g>=f?o=(g-f)/p:o=(g+p-d)/p,o>1&&(o-=1)}Object.assign(e,{progress:n,progressLoop:o,isBeginning:a,isEnd:s}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),a&&!u&&e.emit("reachBeginning toEdge"),s&&!l&&e.emit("reachEnd toEdge"),(u&&!a||l&&!s)&&e.emit("fromEdge"),e.emit("progress",n)}const FT=(t,e,r)=>{e&&!t.classList.contains(r)?t.classList.add(r):!e&&t.classList.contains(r)&&t.classList.remove(r)};function Yze(){const t=this,{slides:e,params:r,slidesEl:i,activeIndex:n}=t,a=t.virtual&&r.virtual.enabled,s=t.grid&&r.grid&&r.grid.rows>1,o=h=>eu(i,`.${r.slideClass}${h}, swiper-slide${h}`)[0];let u,l,c;if(a)if(r.loop){let h=n-t.virtual.slidesBefore;h<0&&(h=t.virtual.slides.length+h),h>=t.virtual.slides.length&&(h-=t.virtual.slides.length),u=o(`[data-swiper-slide-index="${h}"]`)}else u=o(`[data-swiper-slide-index="${n}"]`);else s?(u=e.find(h=>h.column===n),c=e.find(h=>h.column===n+1),l=e.find(h=>h.column===n-1)):u=e[n];u&&(s||(c=Lze(u,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!c&&(c=e[0]),l=Pze(u,`.${r.slideClass}, swiper-slide`)[0],r.loop&&!l===0&&(l=e[e.length-1]))),e.forEach(h=>{FT(h,h===u,r.slideActiveClass),FT(h,h===c,r.slideNextClass),FT(h,h===l,r.slidePrevClass)}),t.emitSlidesClasses()}const G5=(t,e)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,i=e.closest(r());if(i){let n=i.querySelector(`.${t.params.lazyPreloaderClass}`);!n&&t.isElement&&(i.shadowRoot?n=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(n=i.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},IT=(t,e)=>{if(!t.slides[e])return;const r=t.slides[e].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},fD=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!e||e<0)return;e=Math.min(e,r);const i=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),n=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const s=n,o=[s-e];o.push(...Array.from({length:e}).map((u,l)=>s+i+l)),t.slides.forEach((u,l)=>{o.includes(u.column)&&IT(t,l)});return}const a=n+i-1;if(t.params.rewind||t.params.loop)for(let s=n-e;s<=a+e;s+=1){const o=(s%r+r)%r;(o<n||o>a)&&IT(t,o)}else for(let s=Math.max(n-e,0);s<=Math.min(a+e,r-1);s+=1)s!==n&&(s>a||s<n)&&IT(t,s)};function qze(t){const{slidesGrid:e,params:r}=t,i=t.rtlTranslate?t.translate:-t.translate;let n;for(let a=0;a<e.length;a+=1)typeof e[a+1]<"u"?i>=e[a]&&i<e[a+1]-(e[a+1]-e[a])/2?n=a:i>=e[a]&&i<e[a+1]&&(n=a+1):i>=e[a]&&(n=a);return r.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}function Xze(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:a,realIndex:s,snapIndex:o}=e;let u=t,l;const c=d=>{let p=d-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof u>"u"&&(u=qze(e)),i.indexOf(r)>=0)l=i.indexOf(r);else{const d=Math.min(n.slidesPerGroupSkip,u);l=d+Math.floor((u-d)/n.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),u===a&&!e.params.loop){l!==o&&(e.snapIndex=l,e.emit("snapIndexChange"));return}if(u===a&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=c(u);return}const h=e.grid&&n.grid&&n.grid.rows>1;let f;if(e.virtual&&n.virtual.enabled&&n.loop)f=c(u);else if(h){const d=e.slides.find(g=>g.column===u);let p=parseInt(d.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(d),0)),f=Math.floor(p/n.grid.rows)}else if(e.slides[u]){const d=e.slides[u].getAttribute("data-swiper-slide-index");d?f=parseInt(d,10):f=u}else f=u;Object.assign(e,{previousSnapIndex:o,snapIndex:l,previousRealIndex:s,realIndex:f,previousIndex:a,activeIndex:u}),e.initialized&&fD(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(s!==f&&e.emit("realIndexChange"),e.emit("slideChange"))}function Zze(t,e){const r=this,i=r.params;let n=t.closest(`.${i.slideClass}, swiper-slide`);!n&&r.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!n&&o.matches&&o.matches(`.${i.slideClass}, swiper-slide`)&&(n=o)});let a=!1,s;if(n){for(let o=0;o<r.slides.length;o+=1)if(r.slides[o]===n){a=!0,s=o;break}}if(n&&a)r.clickedSlide=n,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=s;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}i.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var Kze={updateSize:Gze,updateSlides:Uze,updateAutoHeight:jze,updateSlidesOffset:Vze,updateSlidesProgress:$ze,updateProgress:Wze,updateSlidesClasses:Yze,updateActiveIndex:Xze,updateClickedSlide:Zze};function Jze(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:i,translate:n,wrapperEl:a}=e;if(r.virtualTranslate)return i?-n:n;if(r.cssMode)return n;let s=Fze(a,t);return s+=e.cssOverflowAdjustment(),i&&(s=-s),s||0}function Qze(t,e){const r=this,{rtlTranslate:i,params:n,wrapperEl:a,progress:s}=r;let o=0,u=0;const l=0;r.isHorizontal()?o=i?-t:t:u=t,n.roundLengths&&(o=Math.floor(o),u=Math.floor(u)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?o:u,n.cssMode?a[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-o:-u:n.virtualTranslate||(r.isHorizontal()?o-=r.cssOverflowAdjustment():u-=r.cssOverflowAdjustment(),a.style.transform=`translate3d(${o}px, ${u}px, ${l}px)`);let c;const h=r.maxTranslate()-r.minTranslate();h===0?c=0:c=(t-r.minTranslate())/h,c!==s&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function eHe(){return-this.snapGrid[0]}function tHe(){return-this.snapGrid[this.snapGrid.length-1]}function rHe(t,e,r,i,n){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),i===void 0&&(i=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const u=a.minTranslate(),l=a.maxTranslate();let c;if(i&&t>u?c=u:i&&t<l?c=l:c=t,a.updateProgress(c),s.cssMode){const h=a.isHorizontal();if(e===0)o[h?"scrollLeft":"scrollTop"]=-c;else{if(!a.support.smoothScroll)return Cie({swiper:a,targetPosition:-c,side:h?"left":"top"}),!0;o.scrollTo({[h?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(c),r&&(a.emit("beforeTransitionStart",e,n),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(c),r&&(a.emit("beforeTransitionStart",e,n),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(f){!a||a.destroyed||f.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,a.animating=!1,r&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}var iHe={getTranslate:Jze,setTranslate:Qze,minTranslate:eHe,maxTranslate:tHe,translateTo:rHe};function nHe(t,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,e)}function wie(t){let{swiper:e,runCallbacks:r,direction:i,step:n}=t;const{activeIndex:a,previousIndex:s}=e;let o=i;o||(a>s?o="next":a<s?o="prev":o="reset"),e.emit(`transition${n}`),r&&o==="reset"?e.emit(`slideResetTransition${n}`):r&&a!==s&&(e.emit(`slideChangeTransition${n}`),o==="next"?e.emit(`slideNextTransition${n}`):e.emit(`slidePrevTransition${n}`))}function aHe(t,e){t===void 0&&(t=!0);const r=this,{params:i}=r;i.cssMode||(i.autoHeight&&r.updateAutoHeight(),wie({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function sHe(t,e){t===void 0&&(t=!0);const r=this,{params:i}=r;r.animating=!1,!i.cssMode&&(r.setTransition(0),wie({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var oHe={setTransition:nHe,transitionStart:aHe,transitionEnd:sHe};function uHe(t,e,r,i,n){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const a=this;let s=t;s<0&&(s=0);const{params:o,snapGrid:u,slidesGrid:l,previousIndex:c,activeIndex:h,rtlTranslate:f,wrapperEl:d,enabled:p}=a;if(!p&&!i&&!n||a.destroyed||a.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=a.params.speed);const g=Math.min(a.params.slidesPerGroupSkip,s);let v=g+Math.floor((s-g)/a.params.slidesPerGroup);v>=u.length&&(v=u.length-1);const m=-u[v];if(o.normalizeSlideIndex)for(let E=0;E<l.length;E+=1){const A=-Math.floor(m*100),S=Math.floor(l[E]*100),T=Math.floor(l[E+1]*100);typeof l[E+1]<"u"?A>=S&&A<T-(T-S)/2?s=E:A>=S&&A<T&&(s=E+1):A>=S&&(s=E)}if(a.initialized&&s!==h&&(!a.allowSlideNext&&(f?m>a.translate&&m>a.minTranslate():m<a.translate&&m<a.minTranslate())||!a.allowSlidePrev&&m>a.translate&&m>a.maxTranslate()&&(h||0)!==s))return!1;s!==(c||0)&&r&&a.emit("beforeSlideChangeStart"),a.updateProgress(m);let y;s>h?y="next":s<h?y="prev":y="reset";const _=a.virtual&&a.params.virtual.enabled;if(!(_&&n)&&(f&&-m===a.translate||!f&&m===a.translate))return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),o.effect!=="slide"&&a.setTranslate(m),y!=="reset"&&(a.transitionStart(r,y),a.transitionEnd(r,y)),!1;if(o.cssMode){const E=a.isHorizontal(),A=f?m:-m;if(e===0)_&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),_&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{d[E?"scrollLeft":"scrollTop"]=A})):d[E?"scrollLeft":"scrollTop"]=A,_&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1});else{if(!a.support.smoothScroll)return Cie({swiper:a,targetPosition:A,side:E?"left":"top"}),!0;d.scrollTo({[E?"left":"top"]:A,behavior:"smooth"})}return!0}const C=Aie().isSafari;return _&&!n&&C&&a.isElement&&a.virtual.update(!1,!1,s),a.setTransition(e),a.setTranslate(m),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,i),a.transitionStart(r,y),e===0?a.transitionEnd(r,y):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(A){!a||a.destroyed||A.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(r,y))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0}function lHe(t,e,r,i){t===void 0&&(t=0),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const n=this;if(n.destroyed)return;typeof e>"u"&&(e=n.params.speed);const a=n.grid&&n.params.grid&&n.params.grid.rows>1;let s=t;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)s=s+n.virtual.slidesBefore;else{let o;if(a){const f=s*n.params.grid.rows;o=n.slides.find(d=>d.getAttribute("data-swiper-slide-index")*1===f).column}else o=n.getSlideIndexByData(s);const u=a?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:l}=n.params;let c=n.params.slidesPerView;c==="auto"?c=n.slidesPerViewDynamic():(c=Math.ceil(parseFloat(n.params.slidesPerView,10)),l&&c%2===0&&(c=c+1));let h=u-o<c;if(l&&(h=h||o<Math.ceil(c/2)),i&&l&&n.params.slidesPerView!=="auto"&&!a&&(h=!1),h){const f=l?o<n.activeIndex?"prev":"next":o-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:f,slideTo:!0,activeSlideIndex:f==="next"?o+1:o-u+1,slideRealIndex:f==="next"?n.realIndex:void 0})}if(a){const f=s*n.params.grid.rows;s=n.slides.find(d=>d.getAttribute("data-swiper-slide-index")*1===f).column}else s=n.getSlideIndexByData(s)}return requestAnimationFrame(()=>{n.slideTo(s,e,r,i)}),n}function cHe(t,e,r){e===void 0&&(e=!0);const i=this,{enabled:n,params:a,animating:s}=i;if(!n||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);let o=a.slidesPerGroup;a.slidesPerView==="auto"&&a.slidesPerGroup===1&&a.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const u=i.activeIndex<a.slidesPerGroupSkip?1:o,l=i.virtual&&a.virtual.enabled;if(a.loop){if(s&&!l&&a.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&a.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+u,t,e,r)}),!0}return a.rewind&&i.isEnd?i.slideTo(0,t,e,r):i.slideTo(i.activeIndex+u,t,e,r)}function hHe(t,e,r){e===void 0&&(e=!0);const i=this,{params:n,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:u,animating:l}=i;if(!u||i.destroyed)return i;typeof t>"u"&&(t=i.params.speed);const c=i.virtual&&n.virtual.enabled;if(n.loop){if(l&&!c&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const h=o?i.translate:-i.translate;function f(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const d=f(h),p=a.map(y=>f(y)),g=n.freeMode&&n.freeMode.enabled;let v=a[p.indexOf(d)-1];if(typeof v>"u"&&(n.cssMode||g)){let y;a.forEach((_,x)=>{d>=_&&(y=x)}),typeof y<"u"&&(v=g?a[y]:a[y>0?y-1:y])}let m=0;if(typeof v<"u"&&(m=s.indexOf(v),m<0&&(m=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(m=m-i.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),n.rewind&&i.isBeginning){const y=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(y,t,e,r)}else if(n.loop&&i.activeIndex===0&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(m,t,e,r)}),!0;return i.slideTo(m,t,e,r)}function fHe(t,e,r){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof t>"u"&&(t=i.params.speed),i.slideTo(i.activeIndex,t,e,r)}function dHe(t,e,r,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const n=this;if(n.destroyed)return;typeof t>"u"&&(t=n.params.speed);let a=n.activeIndex;const s=Math.min(n.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/n.params.slidesPerGroup),u=n.rtlTranslate?n.translate:-n.translate;if(u>=n.snapGrid[o]){const l=n.snapGrid[o],c=n.snapGrid[o+1];u-l>(c-l)*i&&(a+=n.params.slidesPerGroup)}else{const l=n.snapGrid[o-1],c=n.snapGrid[o];u-l<=(c-l)*i&&(a-=n.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,n.slidesGrid.length-1),n.slideTo(a,t,e,r)}function pHe(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:r}=t,i=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let n=t.clickedIndex,a;const s=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;a=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n<t.loopedSlides-i/2||n>t.slides.length-t.loopedSlides+i/2?(t.loopFix(),n=t.getSlideIndex(eu(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),cD(()=>{t.slideTo(n)})):t.slideTo(n):n>t.slides.length-i?(t.loopFix(),n=t.getSlideIndex(eu(r,`${s}[data-swiper-slide-index="${a}"]`)[0]),cD(()=>{t.slideTo(n)})):t.slideTo(n)}else t.slideTo(n)}var gHe={slideTo:uHe,slideToLoop:lHe,slideNext:cHe,slidePrev:hHe,slideReset:fHe,slideToClosest:dHe,slideToClickedSlide:pHe};function vHe(t,e){const r=this,{params:i,slidesEl:n}=r;if(!i.loop||r.virtual&&r.params.virtual.enabled)return;const a=()=>{eu(n,`.${i.slideClass}, swiper-slide`).forEach((f,d)=>{f.setAttribute("data-swiper-slide-index",d)})},s=r.grid&&i.grid&&i.grid.rows>1,o=i.slidesPerGroup*(s?i.grid.rows:1),u=r.slides.length%o!==0,l=s&&r.slides.length%i.grid.rows!==0,c=h=>{for(let f=0;f<h;f+=1){const d=r.isElement?x4("swiper-slide",[i.slideBlankClass]):x4("div",[i.slideClass,i.slideBlankClass]);r.slidesEl.append(d)}};if(u){if(i.loopAddBlankSlides){const h=o-r.slides.length%o;c(h),r.recalcSlides(),r.updateSlides()}else _4("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else if(l){if(i.loopAddBlankSlides){const h=i.grid.rows-r.slides.length%i.grid.rows;c(h),r.recalcSlides(),r.updateSlides()}else _4("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");a()}else a();r.loopFix({slideRealIndex:t,direction:i.centeredSlides?void 0:"next",initial:e})}function mHe(t){let{slideRealIndex:e,slideTo:r=!0,direction:i,setTranslate:n,activeSlideIndex:a,initial:s,byController:o,byMousewheel:u}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:h,allowSlideNext:f,slidesEl:d,params:p}=l,{centeredSlides:g,initialSlide:v}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){r&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=h,l.allowSlideNext=f,l.emit("loopFix");return}let m=p.slidesPerView;m==="auto"?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(p.slidesPerView,10)),g&&m%2===0&&(m=m+1));const y=p.slidesPerGroupAuto?m:p.slidesPerGroup;let _=y;_%y!==0&&(_+=y-_%y),_+=p.loopAdditionalSlides,l.loopedSlides=_;const x=l.grid&&p.grid&&p.grid.rows>1;c.length<m+_||l.params.effect==="cards"&&c.length<m+_*2?_4("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):x&&p.grid.fill==="row"&&_4("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const b=[],C=[],E=x?Math.ceil(c.length/p.grid.rows):c.length,A=s&&E-v<m&&!g;let S=A?v:l.activeIndex;typeof a>"u"?a=l.getSlideIndex(c.find(R=>R.classList.contains(p.slideActiveClass))):S=a;const T=i==="next"||!i,D=i==="prev"||!i;let F=0,B=0;const M=(x?c[a].column:a)+(g&&typeof n>"u"?-m/2+.5:0);if(M<_){F=Math.max(_-M,y);for(let R=0;R<_-M;R+=1){const z=R-Math.floor(R/E)*E;if(x){const k=E-z-1;for(let U=c.length-1;U>=0;U-=1)c[U].column===k&&b.push(U)}else b.push(E-z-1)}}else if(M+m>E-_){B=Math.max(M-(E-_*2),y),A&&(B=Math.max(B,m-E+v+1));for(let R=0;R<B;R+=1){const z=R-Math.floor(R/E)*E;x?c.forEach((k,U)=>{k.column===z&&C.push(U)}):C.push(z)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&c.length<m+_*2&&(C.includes(a)&&C.splice(C.indexOf(a),1),b.includes(a)&&b.splice(b.indexOf(a),1)),D&&b.forEach(R=>{c[R].swiperLoopMoveDOM=!0,d.prepend(c[R]),c[R].swiperLoopMoveDOM=!1}),T&&C.forEach(R=>{c[R].swiperLoopMoveDOM=!0,d.append(c[R]),c[R].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"?l.updateSlides():x&&(b.length>0&&D||C.length>0&&T)&&l.slides.forEach((R,z)=>{l.grid.updateSlide(z,R,l.slides)}),p.watchSlidesProgress&&l.updateSlidesOffset(),r){if(b.length>0&&D){if(typeof e>"u"){const R=l.slidesGrid[S],k=l.slidesGrid[S+F]-R;u?l.setTranslate(l.translate-k):(l.slideTo(S+Math.ceil(F),0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-k,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-k))}else if(n){const R=x?b.length/p.grid.rows:b.length;l.slideTo(l.activeIndex+R,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(C.length>0&&T)if(typeof e>"u"){const R=l.slidesGrid[S],k=l.slidesGrid[S-B]-R;u?l.setTranslate(l.translate-k):(l.slideTo(S-B,0,!1,!0),n&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-k,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-k))}else{const R=x?C.length/p.grid.rows:C.length;l.slideTo(l.activeIndex-R,0,!1,!0)}}if(l.allowSlidePrev=h,l.allowSlideNext=f,l.controller&&l.controller.control&&!o){const R={slideRealIndex:e,direction:i,setTranslate:n,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(z=>{!z.destroyed&&z.params.loop&&z.loopFix({...R,slideTo:z.params.slidesPerView===p.slidesPerView?r:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...R,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?r:!1})}l.emit("loopFix")}function yHe(){const t=this,{params:e,slidesEl:r}=t;if(!e.loop||!r||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const i=[];t.slides.forEach(n=>{const a=typeof n.swiperSlideIndex>"u"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;i[a]=n}),t.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{r.append(n)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var _He={loopCreate:vHe,loopFix:mHe,loopDestroy:yHe};function xHe(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function bHe(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var CHe={setGrabCursor:xHe,unsetGrabCursor:bHe};function EHe(t,e){e===void 0&&(e=this);function r(i){if(!i||i===fu()||i===xa())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(t);return!n&&!i.getRootNode?null:n||r(i.getRootNode().host)}return r(e)}function Vj(t,e,r){const i=xa(),{params:n}=t,a=n.edgeSwipeDetection,s=n.edgeSwipeThreshold;return a&&(r<=s||r>=i.innerWidth-s)?a==="prevent"?(e.preventDefault(),!0):!1:!0}function SHe(t){const e=this,r=fu();let i=t;i.originalEvent&&(i=i.originalEvent);const n=e.touchEventsData;if(i.type==="pointerdown"){if(n.pointerId!==null&&n.pointerId!==i.pointerId)return;n.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(n.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Vj(e,i,i.targetTouches[0].pageX);return}const{params:a,touches:s,enabled:o}=e;if(!o||!a.simulateTouch&&i.pointerType==="mouse"||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let u=i.target;if(a.touchEventsTarget==="wrapper"&&!Mze(u,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||n.isTouched&&n.isMoved)return;const l=!!a.noSwipingClass&&a.noSwipingClass!=="",c=i.composedPath?i.composedPath():i.path;l&&i.target&&i.target.shadowRoot&&c&&(u=c[0]);const h=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,f=!!(i.target&&i.target.shadowRoot);if(a.noSwiping&&(f?EHe(h,u):u.closest(h))){e.allowClick=!0;return}if(a.swipeHandler&&!u.closest(a.swipeHandler))return;s.currentX=i.pageX,s.currentY=i.pageY;const d=s.currentX,p=s.currentY;if(!Vj(e,i,d))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=d,s.startY=p,n.touchStartTime=kh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(n.allowThresholdMove=!1);let g=!0;u.matches(n.focusableElements)&&(g=!1,u.nodeName==="SELECT"&&(n.isTouched=!1)),r.activeElement&&r.activeElement.matches(n.focusableElements)&&r.activeElement!==u&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!u.matches(n.focusableElements))&&r.activeElement.blur();const v=g&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||v)&&!u.isContentEditable&&i.preventDefault(),a.freeMode&&a.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function THe(t){const e=fu(),r=this,i=r.touchEventsData,{params:n,touches:a,rtlTranslate:s,enabled:o}=r;if(!o||!n.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(i.touchId!==null||u.pointerId!==i.pointerId))return;let l;if(u.type==="touchmove"){if(l=[...u.changedTouches].find(b=>b.identifier===i.touchId),!l||l.identifier!==i.touchId)return}else l=u;if(!i.isTouched){i.startMoving&&i.isScrolling&&r.emit("touchMoveOpposite",u);return}const c=l.pageX,h=l.pageY;if(u.preventedByNestedSwiper){a.startX=c,a.startY=h;return}if(!r.allowTouchMove){u.target.matches(i.focusableElements)||(r.allowClick=!1),i.isTouched&&(Object.assign(a,{startX:c,startY:h,currentX:c,currentY:h}),i.touchStartTime=kh());return}if(n.touchReleaseOnEdges&&!n.loop)if(r.isVertical()){if(h<a.startY&&r.translate<=r.maxTranslate()||h>a.startY&&r.translate>=r.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(s&&(c>a.startX&&-r.translate<=r.maxTranslate()||c<a.startX&&-r.translate>=r.minTranslate()))return;if(!s&&(c<a.startX&&r.translate<=r.maxTranslate()||c>a.startX&&r.translate>=r.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(i.focusableElements)){i.isMoved=!0,r.allowClick=!1;return}i.allowTouchCallbacks&&r.emit("touchMove",u),a.previousX=a.currentX,a.previousY=a.currentY,a.currentX=c,a.currentY=h;const f=a.currentX-a.startX,d=a.currentY-a.startY;if(r.params.threshold&&Math.sqrt(f**2+d**2)<r.params.threshold)return;if(typeof i.isScrolling>"u"){let b;r.isHorizontal()&&a.currentY===a.startY||r.isVertical()&&a.currentX===a.startX?i.isScrolling=!1:f*f+d*d>=25&&(b=Math.atan2(Math.abs(d),Math.abs(f))*180/Math.PI,i.isScrolling=r.isHorizontal()?b>n.touchAngle:90-b>n.touchAngle)}if(i.isScrolling&&r.emit("touchMoveOpposite",u),typeof i.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(i.startMoving=!0),i.isScrolling||u.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;r.allowClick=!1,!n.cssMode&&u.cancelable&&u.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&u.stopPropagation();let p=r.isHorizontal()?f:d,g=r.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;n.oneWayMovement&&(p=Math.abs(p)*(s?1:-1),g=Math.abs(g)*(s?1:-1)),a.diff=p,p*=n.touchRatio,s&&(p=-p,g=-g);const v=r.touchesDirection;r.swipeDirection=p>0?"prev":"next",r.touchesDirection=g>0?"prev":"next";const m=r.params.loop&&!n.cssMode,y=r.touchesDirection==="next"&&r.allowSlideNext||r.touchesDirection==="prev"&&r.allowSlidePrev;if(!i.isMoved){if(m&&y&&r.loopFix({direction:r.swipeDirection}),i.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const b=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});r.wrapperEl.dispatchEvent(b)}i.allowMomentumBounce=!1,n.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",u)}if(new Date().getTime(),n._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&v!==r.touchesDirection&&m&&y&&Math.abs(p)>=1){Object.assign(a,{startX:c,startY:h,currentX:c,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}r.emit("sliderMove",u),i.isMoved=!0,i.currentTranslate=p+i.startTranslate;let _=!0,x=n.resistanceRatio;if(n.touchReleaseOnEdges&&(x=0),p>0?(m&&y&&i.allowThresholdMove&&i.currentTranslate>(n.centeredSlides?r.minTranslate()-r.slidesSizesGrid[r.activeIndex+1]-(n.slidesPerView!=="auto"&&r.slides.length-n.slidesPerView>=2?r.slidesSizesGrid[r.activeIndex+1]+r.params.spaceBetween:0)-r.params.spaceBetween:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>r.minTranslate()&&(_=!1,n.resistance&&(i.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+i.startTranslate+p)**x))):p<0&&(m&&y&&i.allowThresholdMove&&i.currentTranslate<(n.centeredSlides?r.maxTranslate()+r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween+(n.slidesPerView!=="auto"&&r.slides.length-n.slidesPerView>=2?r.slidesSizesGrid[r.slidesSizesGrid.length-1]+r.params.spaceBetween:0):r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(n.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<r.maxTranslate()&&(_=!1,n.resistance&&(i.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-i.startTranslate-p)**x))),_&&(u.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(p)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,i.currentTranslate=i.startTranslate,a.diff=r.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&r.freeMode||n.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(i.currentTranslate),r.setTranslate(i.currentTranslate))}function AHe(t){const e=this,r=e.touchEventsData;let i=t;i.originalEvent&&(i=i.originalEvent);let n;if(i.type==="touchend"||i.type==="touchcancel"){if(n=[...i.changedTouches].find(b=>b.identifier===r.touchId),!n||n.identifier!==r.touchId)return}else{if(r.touchId!==null||i.pointerId!==r.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;r.pointerId=null,r.touchId=null;const{params:s,touches:o,rtlTranslate:u,slidesGrid:l,enabled:c}=e;if(!c||!s.simulateTouch&&i.pointerType==="mouse")return;if(r.allowTouchCallbacks&&e.emit("touchEnd",i),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&s.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}s.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const h=kh(),f=h-r.touchStartTime;if(e.allowClick){const b=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(b&&b[0]||i.target,b),e.emit("tap click",i),f<300&&h-r.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(r.lastClickTime=kh(),cD(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||o.diff===0&&!r.loopSwapReset||r.currentTranslate===r.startTranslate&&!r.loopSwapReset){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let d;if(s.followFinger?d=u?e.translate:-e.translate:d=-r.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:d});return}const p=d>=-e.maxTranslate()&&!e.params.loop;let g=0,v=e.slidesSizesGrid[0];for(let b=0;b<l.length;b+=b<s.slidesPerGroupSkip?1:s.slidesPerGroup){const C=b<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;typeof l[b+C]<"u"?(p||d>=l[b]&&d<l[b+C])&&(g=b,v=l[b+C]-l[b]):(p||d>=l[b])&&(g=b,v=l[l.length-1]-l[l.length-2])}let m=null,y=null;s.rewind&&(e.isBeginning?y=s.virtual&&s.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const _=(d-l[g])/v,x=g<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(f>s.longSwipesMs){if(!s.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(_>=s.longSwipesRatio?e.slideTo(s.rewind&&e.isEnd?m:g+x):e.slideTo(g)),e.swipeDirection==="prev"&&(_>1-s.longSwipesRatio?e.slideTo(g+x):y!==null&&_<0&&Math.abs(_)>s.longSwipesRatio?e.slideTo(y):e.slideTo(g))}else{if(!s.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(g+x):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:g+x),e.swipeDirection==="prev"&&e.slideTo(y!==null?y:g))}}function $j(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:a}=t,s=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=s&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!s?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=n,t.allowSlideNext=i,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function wHe(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function DHe(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:i}=t;if(!i)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let n;const a=t.maxTranslate()-t.minTranslate();a===0?n=0:n=(t.translate-t.minTranslate())/a,n!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function FHe(t){const e=this;G5(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function IHe(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Die=(t,e)=>{const r=fu(),{params:i,el:n,wrapperEl:a,device:s}=t,o=!!i.nested,u=e==="on"?"addEventListener":"removeEventListener",l=e;!n||typeof n=="string"||(r[u]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),n[u]("touchstart",t.onTouchStart,{passive:!1}),n[u]("pointerdown",t.onTouchStart,{passive:!1}),r[u]("touchmove",t.onTouchMove,{passive:!1,capture:o}),r[u]("pointermove",t.onTouchMove,{passive:!1,capture:o}),r[u]("touchend",t.onTouchEnd,{passive:!0}),r[u]("pointerup",t.onTouchEnd,{passive:!0}),r[u]("pointercancel",t.onTouchEnd,{passive:!0}),r[u]("touchcancel",t.onTouchEnd,{passive:!0}),r[u]("pointerout",t.onTouchEnd,{passive:!0}),r[u]("pointerleave",t.onTouchEnd,{passive:!0}),r[u]("contextmenu",t.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[u]("click",t.onClick,!0),i.cssMode&&a[u]("scroll",t.onScroll),i.updateOnWindowResize?t[l](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",$j,!0):t[l]("observerUpdate",$j,!0),n[u]("load",t.onLoad,{capture:!0}))};function BHe(){const t=this,{params:e}=t;t.onTouchStart=SHe.bind(t),t.onTouchMove=THe.bind(t),t.onTouchEnd=AHe.bind(t),t.onDocumentTouchStart=IHe.bind(t),e.cssMode&&(t.onScroll=DHe.bind(t)),t.onClick=wHe.bind(t),t.onLoad=FHe.bind(t),Die(t,"on")}function MHe(){Die(this,"off")}var PHe={attachEvents:BHe,detachEvents:MHe};const Wj=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function LHe(){const t=this,{realIndex:e,initialized:r,params:i,el:n}=t,a=i.breakpoints;if(!a||a&&Object.keys(a).length===0)return;const s=fu(),o=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",u=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?t.el:s.querySelector(i.breakpointsBase),l=t.getBreakpoint(a,o,u);if(!l||t.currentBreakpoint===l)return;const h=(l in a?a[l]:void 0)||t.originalParams,f=Wj(t,i),d=Wj(t,h),p=t.params.grabCursor,g=h.grabCursor,v=i.enabled;f&&!d?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!f&&d&&(n.classList.add(`${i.containerModifierClass}grid`),(h.grid.fill&&h.grid.fill==="column"||!h.grid.fill&&i.grid.fill==="column")&&n.classList.add(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),p&&!g?t.unsetGrabCursor():!p&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(C=>{if(typeof h[C]>"u")return;const E=i[C]&&i[C].enabled,A=h[C]&&h[C].enabled;E&&!A&&t[C].disable(),!E&&A&&t[C].enable()});const m=h.direction&&h.direction!==i.direction,y=i.loop&&(h.slidesPerView!==i.slidesPerView||m),_=i.loop;m&&r&&t.changeDirection(),Za(t.params,h);const x=t.params.enabled,b=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),v&&!x?t.disable():!v&&x&&t.enable(),t.currentBreakpoint=l,t.emit("_beforeBreakpoint",h),r&&(y?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!_&&b?(t.loopCreate(e),t.updateSlides()):_&&!b&&t.loopDestroy()),t.emit("breakpoint",h)}function OHe(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let i=!1;const n=xa(),a=e==="window"?n.innerHeight:r.clientHeight,s=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const u=parseFloat(o.substr(1));return{value:a*u,point:o}}return{value:o,point:o}});s.sort((o,u)=>parseInt(o.value,10)-parseInt(u.value,10));for(let o=0;o<s.length;o+=1){const{point:u,value:l}=s[o];e==="window"?n.matchMedia(`(min-width: ${l}px)`).matches&&(i=u):l<=r.clientWidth&&(i=u)}return i||"max"}var RHe={setBreakpoint:LHe,getBreakpoint:OHe};function NHe(t,e){const r=[];return t.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&r.push(e+n)}):typeof i=="string"&&r.push(e+i)}),r}function kHe(){const t=this,{classNames:e,params:r,rtl:i,el:n,device:a}=t,s=NHe(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:i},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...s),n.classList.add(...e),t.emitContainerClasses()}function zHe(){const t=this,{el:e,classNames:r}=t;!e||typeof e=="string"||(e.classList.remove(...r),t.emitContainerClasses())}var HHe={addClasses:kHe,removeClasses:zHe};function GHe(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:i}=r;if(i){const n=t.slides.length-1,a=t.slidesGrid[n]+t.slidesSizesGrid[n]+i*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var UHe={checkOverflow:GHe},dD={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function jHe(t,e){return function(i){i===void 0&&(i={});const n=Object.keys(i)[0],a=i[n];if(typeof a!="object"||a===null){Za(e,i);return}if(t[n]===!0&&(t[n]={enabled:!0}),n==="navigation"&&t[n]&&t[n].enabled&&!t[n].prevEl&&!t[n].nextEl&&(t[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&t[n]&&t[n].enabled&&!t[n].el&&(t[n].auto=!0),!(n in t&&"enabled"in a)){Za(e,i);return}typeof t[n]=="object"&&!("enabled"in t[n])&&(t[n].enabled=!0),t[n]||(t[n]={enabled:!1}),Za(e,i)}}const BT={eventsEmitter:Hze,update:Kze,translate:iHe,transition:oHe,slide:gHe,loop:_He,grabCursor:CHe,events:PHe,breakpoints:RHe,checkOverflow:UHe,classes:HHe},MT={};let TI=class Uu{constructor(){let e,r;for(var i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];n.length===1&&n[0].constructor&&Object.prototype.toString.call(n[0]).slice(8,-1)==="Object"?r=n[0]:[e,r]=n,r||(r={}),r=Za({},r),e&&!r.el&&(r.el=e);const s=fu();if(r.el&&typeof r.el=="string"&&s.querySelectorAll(r.el).length>1){const c=[];return s.querySelectorAll(r.el).forEach(h=>{const f=Za({},r,{el:h});c.push(new Uu(f))}),c}const o=this;o.__swiper__=!0,o.support=Sie(),o.device=Tie({userAgent:r.userAgent}),o.browser=Aie(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],r.modules&&Array.isArray(r.modules)&&o.modules.push(...r.modules);const u={};o.modules.forEach(c=>{c({params:r,swiper:o,extendParams:jHe(r,u),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const l=Za({},dD,u);return o.params=Za({},l,MT,r),o.originalParams=Za({},o.params),o.passedParams=Za({},r),o.params&&o.params.on&&Object.keys(o.params.on).forEach(c=>{o.on(c,o.params.on[c])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:r,params:i}=this,n=eu(r,`.${i.slideClass}, swiper-slide`),a=b4(n[0]);return b4(e)-a}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(r=>r.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:r,params:i}=e;e.slides=eu(r,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),s=(i.maxTranslate()-n)*e+n;i.translateTo(s,typeof r>"u"?0:r),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(i=>{const n=e.getSlideClasses(i);r.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const i=this,{params:n,slides:a,slidesGrid:s,slidesSizesGrid:o,size:u,activeIndex:l}=i;let c=1;if(typeof n.slidesPerView=="number")return n.slidesPerView;if(n.centeredSlides){let h=a[l]?Math.ceil(a[l].swiperSlideSize):0,f;for(let d=l+1;d<a.length;d+=1)a[d]&&!f&&(h+=Math.ceil(a[d].swiperSlideSize),c+=1,h>u&&(f=!0));for(let d=l-1;d>=0;d-=1)a[d]&&!f&&(h+=a[d].swiperSlideSize,c+=1,h>u&&(f=!0))}else if(e==="current")for(let h=l+1;h<a.length;h+=1)(r?s[h]+o[h]-s[l]<u:s[h]-s[l]<u)&&(c+=1);else for(let h=l-1;h>=0;h-=1)s[l]-s[h]<u&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(s=>{s.complete&&G5(e,s)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const s=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(s,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let a;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const s=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;a=e.slideTo(s.length-1,0,!1,!0)}else a=e.slideTo(e.activeIndex,0,!1,!0);a||n()}i.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(a=>{e==="vertical"?a.style.width="":a.style.height=""}),i.emit("changeDirection"),r&&i.update()),i}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let i=e||r.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=r,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===r.params.swiperElementNodeName.toUpperCase()&&(r.isElement=!0);const n=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let s=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):eu(i,n())[0];return!s&&r.params.createElements&&(s=x4("div",r.params.wrapperClass),i.append(s),eu(i,`.${r.params.slideClass}`).forEach(o=>{s.append(o)})),Object.assign(r,{el:i,wrapperEl:s,slidesEl:r.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:s,hostEl:r.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Tc(i,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Tc(i,"direction")==="rtl"),wrongRTL:Tc(s,"display")==="-webkit-box"}),!0}init(e){const r=this;if(r.initialized||r.mount(e)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(void 0,!0),r.attachEvents();const n=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&n.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(a=>{a.complete?G5(r,a):a.addEventListener("load",s=>{G5(r,s.target)})}),fD(r),r.initialized=!0,fD(r),r.emit("init"),r.emit("afterInit"),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const i=this,{params:n,el:a,wrapperEl:s,slides:o}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),r&&(i.removeClasses(),a&&typeof a!="string"&&a.removeAttribute("style"),s&&s.removeAttribute("style"),o&&o.length&&o.forEach(u=>{u.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(u=>{i.off(u)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),wze(i)),i.destroyed=!0),null}static extendDefaults(e){Za(MT,e)}static get extendedDefaults(){return MT}static get defaults(){return dD}static installModule(e){Uu.prototype.__modules__||(Uu.prototype.__modules__=[]);const r=Uu.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>Uu.installModule(r)),Uu):(Uu.installModule(e),Uu)}};Object.keys(BT).forEach(t=>{Object.keys(BT[t]).forEach(e=>{TI.prototype[e]=BT[t][e]})});TI.use([kze,zze]);const Fie=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function lf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function tp(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>r.indexOf(i)<0).forEach(i=>{typeof t[i]>"u"?t[i]=e[i]:lf(e[i])&&lf(t[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?t[i]=e[i]:tp(t[i],e[i]):t[i]=e[i]})}function Iie(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Bie(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Mie(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function Pie(t){t===void 0&&(t="");const e=t.split(" ").map(i=>i.trim()).filter(i=>!!i),r=[];return e.forEach(i=>{r.indexOf(i)<0&&r.push(i)}),r.join(" ")}function VHe(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function $He(t){let{swiper:e,slides:r,passedParams:i,changedParams:n,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:u}=t;const l=n.filter(S=>S!=="children"&&S!=="direction"&&S!=="wrapperClass"),{params:c,pagination:h,navigation:f,scrollbar:d,virtual:p,thumbs:g}=e;let v,m,y,_,x,b,C,E;n.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&c.thumbs&&(!c.thumbs.swiper||c.thumbs.swiper.destroyed)&&(v=!0),n.includes("controller")&&i.controller&&i.controller.control&&c.controller&&!c.controller.control&&(m=!0),n.includes("pagination")&&i.pagination&&(i.pagination.el||u)&&(c.pagination||c.pagination===!1)&&h&&!h.el&&(y=!0),n.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&d&&!d.el&&(_=!0),n.includes("navigation")&&i.navigation&&(i.navigation.prevEl||s)&&(i.navigation.nextEl||a)&&(c.navigation||c.navigation===!1)&&f&&!f.prevEl&&!f.nextEl&&(x=!0);const A=S=>{e[S]&&(e[S].destroy(),S==="navigation"?(e.isElement&&(e[S].prevEl.remove(),e[S].nextEl.remove()),c[S].prevEl=void 0,c[S].nextEl=void 0,e[S].prevEl=void 0,e[S].nextEl=void 0):(e.isElement&&e[S].el.remove(),c[S].el=void 0,e[S].el=void 0))};n.includes("loop")&&e.isElement&&(c.loop&&!i.loop?b=!0:!c.loop&&i.loop?C=!0:E=!0),l.forEach(S=>{if(lf(c[S])&&lf(i[S]))Object.assign(c[S],i[S]),(S==="navigation"||S==="pagination"||S==="scrollbar")&&"enabled"in i[S]&&!i[S].enabled&&A(S);else{const T=i[S];(T===!0||T===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?T===!1&&A(S):c[S]=i[S]}}),l.includes("controller")&&!m&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),n.includes("children")&&r&&p&&c.virtual.enabled?(p.slides=r,p.update(!0)):n.includes("virtual")&&p&&c.virtual.enabled&&(r&&(p.slides=r),p.update(!0)),n.includes("children")&&r&&c.loop&&(E=!0),v&&g.init()&&g.update(!0),m&&(e.controller.control=c.controller.control),y&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(c.pagination.el=u),h.init(),h.render(),h.update()),_&&(e.isElement&&(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),e.el.appendChild(o)),o&&(c.scrollbar.el=o),d.init(),d.updateSize(),d.setTranslate()),x&&(e.isElement&&((!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-button-next"),C4(a,e.hostEl.constructor.nextButtonSvg),a.part.add("button-next"),e.el.appendChild(a)),(!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-prev"),C4(s,e.hostEl.constructor.prevButtonSvg),s.part.add("button-prev"),e.el.appendChild(s))),a&&(c.navigation.nextEl=a),s&&(c.navigation.prevEl=s),f.init(),f.update()),n.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),n.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),n.includes("direction")&&e.changeDirection(i.direction,!1),(b||E)&&e.loopDestroy(),(C||E)&&e.loopCreate(),e.update()}function Yj(t,e){t===void 0&&(t={});const r={on:{}},i={},n={};tp(r,dD),r._emitClasses=!0,r.init=!1;const a={},s=Fie.map(u=>u.replace(/_/,"")),o=Object.assign({},t);return Object.keys(o).forEach(u=>{typeof t[u]>"u"||(s.indexOf(u)>=0?lf(t[u])?(r[u]={},n[u]={},tp(r[u],t[u]),tp(n[u],t[u])):(r[u]=t[u],n[u]=t[u]):u.search(/on[A-Z]/)===0&&typeof t[u]=="function"?r.on[`${u[2].toLowerCase()}${u.substr(3)}`]=t[u]:a[u]=t[u])}),["navigation","pagination","scrollbar"].forEach(u=>{r[u]===!0&&(r[u]={}),r[u]===!1&&delete r[u]}),{params:r,passedParams:n,rest:a,events:i}}function WHe(t,e){let{el:r,nextEl:i,prevEl:n,paginationEl:a,scrollbarEl:s,swiper:o}=t;Iie(e)&&i&&n&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),Bie(e)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),Mie(e)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(r)}function YHe(t,e,r,i,n){const a=[];if(!e)return a;const s=u=>{a.indexOf(u)<0&&a.push(u)};if(r&&i){const u=i.map(n),l=r.map(n);u.join("")!==l.join("")&&s("children"),i.length!==r.length&&s("children")}return Fie.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in t&&u in e)if(lf(t[u])&&lf(e[u])){const l=Object.keys(t[u]),c=Object.keys(e[u]);l.length!==c.length?s(u):(l.forEach(h=>{t[u][h]!==e[u][h]&&s(u)}),c.forEach(h=>{t[u][h]!==e[u][h]&&s(u)}))}else t[u]!==e[u]&&s(u)}),a}const qHe=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.emit("_virtualUpdated"),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function PT(t,e,r){t===void 0&&(t={});const i=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},a=(s,o)=>{Array.isArray(s)&&s.forEach(u=>{const l=typeof u.type=="symbol";o==="default"&&(o="container-end"),l&&u.children?a(u.children,o):u.type&&(u.type.name==="SwiperSlide"||u.type.name==="AsyncComponentWrapper")||u.componentOptions&&u.componentOptions.tag==="SwiperSlide"?i.push(u):n[o]&&n[o].push(u)})};return Object.keys(t).forEach(s=>{if(typeof t[s]!="function")return;const o=t[s]();a(o,s)}),r.value=e.value,e.value=i,{slides:i,slots:n}}function XHe(t,e,r){if(!r)return null;const i=c=>{let h=c;return c<0?h=e.length+c:h>=e.length&&(h=h-e.length),h},n=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:a,to:s}=r,o=t.value.params.loop?-e.length:0,u=t.value.params.loop?e.length*2:e.length,l=[];for(let c=o;c<u;c+=1)c>=a&&c<=s&&l.length<e.length&&l.push(e[i(c)]);return l.map(c=>{if(c.props||(c.props={}),c.props.style||(c.props.style={}),c.props.swiperRef=t,c.props.style=n,c.type)return Ti(c.type,{...c.props},c.children);if(c.componentOptions)return Ti(c.componentOptions.Ctor,{...c.props},c.componentOptions.children)})}const kYe={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},loopAdditionalSlides:{type:Number,default:void 0},loopAddBlankSlides:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:r,emit:i}=e;const{tag:n,wrapperTag:a}=t,s=fr("swiper"),o=fr(null),u=fr(!1),l=fr(!1),c=fr(null),h=fr(null),f=fr(null),d={value:[]},p={value:[]},g=fr(null),v=fr(null),m=fr(null),y=fr(null),{params:_,passedParams:x}=Yj(t);PT(r,d,p),f.value=x,p.value=d.value;const b=()=>{PT(r,d,p),u.value=!0};_.onAny=function(A){for(var S=arguments.length,T=new Array(S>1?S-1:0),D=1;D<S;D++)T[D-1]=arguments[D];i(A,...T)},Object.assign(_.on,{_beforeBreakpoint:b,_containerClasses(A,S){s.value=S}});const C={..._};if(delete C.wrapperClass,h.value=new TI(C),h.value.virtual&&h.value.params.virtual.enabled){h.value.virtual.slides=d.value;const A={cache:!1,slides:d.value,renderExternal:S=>{o.value=S},renderExternalUpdate:!1};tp(h.value.params.virtual,A),tp(h.value.originalParams.virtual,A)}df(()=>{!l.value&&h.value&&(h.value.emitSlidesClasses(),l.value=!0);const{passedParams:A}=Yj(t),S=YHe(A,f.value,d.value,p.value,T=>T.props&&T.props.key);f.value=A,(S.length||u.value)&&h.value&&!h.value.destroyed&&$He({swiper:h.value,slides:d.value,passedParams:A,changedParams:S,nextEl:g.value,prevEl:v.value,scrollbarEl:y.value,paginationEl:m.value}),u.value=!1}),oa("swiper",h),oi(o,()=>{cl(()=>{qHe(h.value)})}),Eu(()=>{c.value&&(WHe({el:c.value,nextEl:g.value,prevEl:v.value,paginationEl:m.value,scrollbarEl:y.value,swiper:h.value},_),i("swiper",h.value))}),pf(()=>{h.value&&!h.value.destroyed&&h.value.destroy(!0,!1)});function E(A){return _.virtual?XHe(h,A,o.value):(A.forEach((S,T)=>{S.props||(S.props={}),S.props.swiperRef=h,S.props.swiperSlideIndex=T}),A)}return()=>{const{slides:A,slots:S}=PT(r,d,p);return Ti(n,{ref:c,class:Pie(s.value)},[S["container-start"],Ti(a,{class:VHe(_.wrapperClass)},[S["wrapper-start"],E(A),S["wrapper-end"]]),Iie(t)&&[Ti("div",{ref:v,class:"swiper-button-prev"}),Ti("div",{ref:g,class:"swiper-button-next"})],Mie(t)&&Ti("div",{ref:y,class:"swiper-scrollbar"}),Bie(t)&&Ti("div",{ref:m,class:"swiper-pagination"}),S["container-end"]])}}},zYe={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:r}=e,i=!1;const{swiperRef:n}=t,a=fr(null),s=fr("swiper-slide"),o=fr(!1);function u(h,f,d){f===a.value&&(s.value=d)}Eu(()=>{!n||!n.value||(n.value.on("_slideClass",u),i=!0)}),wW(()=>{i||!n||!n.value||(n.value.on("_slideClass",u),i=!0)}),df(()=>{!a.value||!n||!n.value||(typeof t.swiperSlideIndex<"u"&&(a.value.swiperSlideIndex=t.swiperSlideIndex),n.value.destroyed&&s.value!=="swiper-slide"&&(s.value="swiper-slide"))}),pf(()=>{!n||!n.value||n.value.off("_slideClass",u)});const l=Ge(()=>({isActive:s.value.indexOf("swiper-slide-active")>=0,isVisible:s.value.indexOf("swiper-slide-visible")>=0,isPrev:s.value.indexOf("swiper-slide-prev")>=0,isNext:s.value.indexOf("swiper-slide-next")>=0}));oa("swiperSlide",l);const c=()=>{o.value=!0};return()=>Ti(t.tag,{class:Pie(`${s.value}`),ref:a,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&n&&n.value&&n.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:c},t.zoom?Ti("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[r.default&&r.default(l.value),t.lazy&&!o.value&&Ti("div",{class:"swiper-lazy-preloader"})]):[r.default&&r.default(l.value),t.lazy&&!o.value&&Ti("div",{class:"swiper-lazy-preloader"})])}};function Lie(t,e,r,i){return t.params.createElements&&Object.keys(i).forEach(n=>{if(!r[n]&&r.auto===!0){let a=eu(t.el,`.${i[n]}`)[0];a||(a=x4("div",i[n]),a.className=i[n],t.el.append(a)),r[n]=a,e[n]=a}}),r}function HYe(t){let{swiper:e,extendParams:r,on:i,emit:n}=t;r({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function a(p){let g;return p&&typeof p=="string"&&e.isElement&&(g=e.el.querySelector(p)||e.hostEl.querySelector(p),g)?g:(p&&(typeof p=="string"&&(g=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&g&&g.length>1&&e.el.querySelectorAll(p).length===1?g=e.el.querySelector(p):g&&g.length===1&&(g=g[0])),p&&!g?p:g)}function s(p,g){const v=e.params.navigation;p=sn(p),p.forEach(m=>{m&&(m.classList[g?"add":"remove"](...v.disabledClass.split(" ")),m.tagName==="BUTTON"&&(m.disabled=g),e.params.watchOverflow&&e.enabled&&m.classList[e.isLocked?"add":"remove"](v.lockClass))})}function o(){const{nextEl:p,prevEl:g}=e.navigation;if(e.params.loop){s(g,!1),s(p,!1);return}s(g,e.isBeginning&&!e.params.rewind),s(p,e.isEnd&&!e.params.rewind)}function u(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),n("navigationPrev"))}function l(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),n("navigationNext"))}function c(){const p=e.params.navigation;if(e.params.navigation=Lie(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let g=a(p.nextEl),v=a(p.prevEl);Object.assign(e.navigation,{nextEl:g,prevEl:v}),g=sn(g),v=sn(v);const m=(y,_)=>{y&&y.addEventListener("click",_==="next"?l:u),!e.enabled&&y&&y.classList.add(...p.lockClass.split(" "))};g.forEach(y=>m(y,"next")),v.forEach(y=>m(y,"prev"))}function h(){let{nextEl:p,prevEl:g}=e.navigation;p=sn(p),g=sn(g);const v=(m,y)=>{m.removeEventListener("click",y==="next"?l:u),m.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(m=>v(m,"next")),g.forEach(m=>v(m,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?d():(c(),o())}),i("toEdge fromEdge lock unlock",()=>{o()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:p,prevEl:g}=e.navigation;if(p=sn(p),g=sn(g),e.enabled){o();return}[...p,...g].filter(v=>!!v).forEach(v=>v.classList.add(e.params.navigation.lockClass))}),i("click",(p,g)=>{let{nextEl:v,prevEl:m}=e.navigation;v=sn(v),m=sn(m);const y=g.target;let _=m.includes(y)||v.includes(y);if(e.isElement&&!_){const x=g.path||g.composedPath&&g.composedPath();x&&(_=x.find(b=>v.includes(b)||m.includes(b)))}if(e.params.navigation.hideOnClick&&!_){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===y||e.pagination.el.contains(y)))return;let x;v.length?x=v[0].classList.contains(e.params.navigation.hiddenClass):m.length&&(x=m[0].classList.contains(e.params.navigation.hiddenClass)),n(x===!0?"navigationShow":"navigationHide"),[...v,...m].filter(b=>!!b).forEach(b=>b.classList.toggle(e.params.navigation.hiddenClass))}});const f=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),c(),o()},d=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:f,disable:d,update:o,init:c,destroy:h})}function Vv(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function GYe(t){let{swiper:e,extendParams:r,on:i,emit:n}=t;const a="swiper-pagination";r({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),e.pagination={el:null,bullets:[]};let s,o=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function l(y,_){const{bulletActiveClass:x}=e.params.pagination;y&&(y=y[`${_==="prev"?"previous":"next"}ElementSibling`],y&&(y.classList.add(`${x}-${_}`),y=y[`${_==="prev"?"previous":"next"}ElementSibling`],y&&y.classList.add(`${x}-${_}-${_}`)))}function c(y,_,x){if(y=y%x,_=_%x,_===y+1)return"next";if(_===y-1)return"previous"}function h(y){const _=y.target.closest(Vv(e.params.pagination.bulletClass));if(!_)return;y.preventDefault();const x=b4(_)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===x)return;const b=c(e.realIndex,x,e.slides.length);b==="next"?e.slideNext():b==="previous"?e.slidePrev():e.slideToLoop(x)}else e.slideTo(x)}function f(){const y=e.rtl,_=e.params.pagination;if(u())return;let x=e.pagination.el;x=sn(x);let b,C;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,A=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(C=e.previousRealIndex||0,b=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(b=e.snapIndex,C=e.previousSnapIndex):(C=e.previousIndex||0,b=e.activeIndex||0),_.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const S=e.pagination.bullets;let T,D,F;if(_.dynamicBullets&&(s=hD(S[0],e.isHorizontal()?"width":"height"),x.forEach(B=>{B.style[e.isHorizontal()?"width":"height"]=`${s*(_.dynamicMainBullets+4)}px`}),_.dynamicMainBullets>1&&C!==void 0&&(o+=b-(C||0),o>_.dynamicMainBullets-1?o=_.dynamicMainBullets-1:o<0&&(o=0)),T=Math.max(b-o,0),D=T+(Math.min(S.length,_.dynamicMainBullets)-1),F=(D+T)/2),S.forEach(B=>{const O=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(M=>`${_.bulletActiveClass}${M}`)].map(M=>typeof M=="string"&&M.includes(" ")?M.split(" "):M).flat();B.classList.remove(...O)}),x.length>1)S.forEach(B=>{const O=b4(B);O===b?B.classList.add(..._.bulletActiveClass.split(" ")):e.isElement&&B.setAttribute("part","bullet"),_.dynamicBullets&&(O>=T&&O<=D&&B.classList.add(...`${_.bulletActiveClass}-main`.split(" ")),O===T&&l(B,"prev"),O===D&&l(B,"next"))});else{const B=S[b];if(B&&B.classList.add(..._.bulletActiveClass.split(" ")),e.isElement&&S.forEach((O,M)=>{O.setAttribute("part",M===b?"bullet-active":"bullet")}),_.dynamicBullets){const O=S[T],M=S[D];for(let R=T;R<=D;R+=1)S[R]&&S[R].classList.add(...`${_.bulletActiveClass}-main`.split(" "));l(O,"prev"),l(M,"next")}}if(_.dynamicBullets){const B=Math.min(S.length,_.dynamicMainBullets+4),O=(s*B-s)/2-F*s,M=y?"right":"left";S.forEach(R=>{R.style[e.isHorizontal()?M:"top"]=`${O}px`})}}x.forEach((S,T)=>{if(_.type==="fraction"&&(S.querySelectorAll(Vv(_.currentClass)).forEach(D=>{D.textContent=_.formatFractionCurrent(b+1)}),S.querySelectorAll(Vv(_.totalClass)).forEach(D=>{D.textContent=_.formatFractionTotal(A)})),_.type==="progressbar"){let D;_.progressbarOpposite?D=e.isHorizontal()?"vertical":"horizontal":D=e.isHorizontal()?"horizontal":"vertical";const F=(b+1)/A;let B=1,O=1;D==="horizontal"?B=F:O=F,S.querySelectorAll(Vv(_.progressbarFillClass)).forEach(M=>{M.style.transform=`translate3d(0,0,0) scaleX(${B}) scaleY(${O})`,M.style.transitionDuration=`${e.params.speed}ms`})}_.type==="custom"&&_.renderCustom?(C4(S,_.renderCustom(e,b+1,A)),T===0&&n("paginationRender",S)):(T===0&&n("paginationRender",S),n("paginationUpdate",S)),e.params.watchOverflow&&e.enabled&&S.classList[e.isLocked?"add":"remove"](_.lockClass)})}function d(){const y=e.params.pagination;if(u())return;const _=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let x=e.pagination.el;x=sn(x);let b="";if(y.type==="bullets"){let C=e.params.loop?Math.ceil(_/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&C>_&&(C=_);for(let E=0;E<C;E+=1)y.renderBullet?b+=y.renderBullet.call(e,E,y.bulletClass):b+=`<${y.bulletElement} ${e.isElement?'part="bullet"':""} class="${y.bulletClass}"></${y.bulletElement}>`}y.type==="fraction"&&(y.renderFraction?b=y.renderFraction.call(e,y.currentClass,y.totalClass):b=`<span class="${y.currentClass}"></span> / <span class="${y.totalClass}"></span>`),y.type==="progressbar"&&(y.renderProgressbar?b=y.renderProgressbar.call(e,y.progressbarFillClass):b=`<span class="${y.progressbarFillClass}"></span>`),e.pagination.bullets=[],x.forEach(C=>{y.type!=="custom"&&C4(C,b||""),y.type==="bullets"&&e.pagination.bullets.push(...C.querySelectorAll(Vv(y.bulletClass)))}),y.type!=="custom"&&n("paginationRender",x[0])}function p(){e.params.pagination=Lie(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let _;typeof y.el=="string"&&e.isElement&&(_=e.el.querySelector(y.el)),!_&&typeof y.el=="string"&&(_=[...document.querySelectorAll(y.el)]),_||(_=y.el),!(!_||_.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(_)&&_.length>1&&(_=[...e.el.querySelectorAll(y.el)],_.length>1&&(_=_.find(x=>Eie(x,".swiper")[0]===e.el))),Array.isArray(_)&&_.length===1&&(_=_[0]),Object.assign(e.pagination,{el:_}),_=sn(_),_.forEach(x=>{y.type==="bullets"&&y.clickable&&x.classList.add(...(y.clickableClass||"").split(" ")),x.classList.add(y.modifierClass+y.type),x.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(x.classList.add(`${y.modifierClass}${y.type}-dynamic`),o=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&x.classList.add(y.progressbarOppositeClass),y.clickable&&x.addEventListener("click",h),e.enabled||x.classList.add(y.lockClass)}))}function g(){const y=e.params.pagination;if(u())return;let _=e.pagination.el;_&&(_=sn(_),_.forEach(x=>{x.classList.remove(y.hiddenClass),x.classList.remove(y.modifierClass+y.type),x.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(x.classList.remove(...(y.clickableClass||"").split(" ")),x.removeEventListener("click",h))})),e.pagination.bullets&&e.pagination.bullets.forEach(x=>x.classList.remove(...y.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:_}=e.pagination;_=sn(_),_.forEach(x=>{x.classList.remove(y.horizontalClass,y.verticalClass),x.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?m():(p(),d(),f())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&f()}),i("snapIndexChange",()=>{f()}),i("snapGridLengthChange",()=>{d(),f()}),i("destroy",()=>{g()}),i("enable disable",()=>{let{el:y}=e.pagination;y&&(y=sn(y),y.forEach(_=>_.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{f()}),i("click",(y,_)=>{const x=_.target,b=sn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&b&&b.length>0&&!x.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&x===e.navigation.nextEl||e.navigation.prevEl&&x===e.navigation.prevEl))return;const C=b[0].classList.contains(e.params.pagination.hiddenClass);n(C===!0?"paginationShow":"paginationHide"),b.forEach(E=>E.classList.toggle(e.params.pagination.hiddenClass))}});const v=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=sn(y),y.forEach(_=>_.classList.remove(e.params.pagination.paginationDisabledClass))),p(),d(),f()},m=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=sn(y),y.forEach(_=>_.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:v,disable:m,render:d,update:f,init:p,destroy:g})}function UYe(t){let{swiper:e,extendParams:r,on:i,emit:n,params:a}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},r({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,o,u=a&&a.autoplay?a.autoplay.delay:3e3,l=a&&a.autoplay?a.autoplay.delay:3e3,c,h=new Date().getTime(),f,d,p,g,v,m,y;function _(k){!e||e.destroyed||!e.wrapperEl||k.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",_),!(y||k.detail&&k.detail.bySwiperTouchMove)&&T())}const x=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?f=!0:f&&(l=c,f=!1);const k=e.autoplay.paused?c:h+l-new Date().getTime();e.autoplay.timeLeft=k,n("autoplayTimeLeft",k,k/u),o=requestAnimationFrame(()=>{x()})},b=()=>{let k;return e.virtual&&e.params.virtual.enabled?k=e.slides.find(V=>V.classList.contains("swiper-slide-active")):k=e.slides[e.activeIndex],k?parseInt(k.getAttribute("data-swiper-autoplay"),10):void 0},C=k=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),x();let U=typeof k>"u"?e.params.autoplay.delay:k;u=e.params.autoplay.delay,l=e.params.autoplay.delay;const V=b();!Number.isNaN(V)&&V>0&&typeof k>"u"&&(U=V,u=V,l=V),c=U;const j=e.params.speed,Y=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(j,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,j,!0,!0),n("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(j,!0,!0),n("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,j,!0,!0),n("autoplay")),e.params.cssMode&&(h=new Date().getTime(),requestAnimationFrame(()=>{C()})))};return U>0?(clearTimeout(s),s=setTimeout(()=>{Y()},U)):requestAnimationFrame(()=>{Y()}),U},E=()=>{h=new Date().getTime(),e.autoplay.running=!0,C(),n("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(o),n("autoplayStop")},S=(k,U)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(s),k||(m=!0);const V=()=>{n("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",_):T()};if(e.autoplay.paused=!0,U){v&&(c=e.params.autoplay.delay),v=!1,V();return}c=(c||e.params.autoplay.delay)-(new Date().getTime()-h),!(e.isEnd&&c<0&&!e.params.loop)&&(c<0&&(c=0),V())},T=()=>{e.isEnd&&c<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(h=new Date().getTime(),m?(m=!1,C(c)):C(),e.autoplay.paused=!1,n("autoplayResume"))},D=()=>{if(e.destroyed||!e.autoplay.running)return;const k=fu();k.visibilityState==="hidden"&&(m=!0,S(!0)),k.visibilityState==="visible"&&T()},F=k=>{k.pointerType==="mouse"&&(m=!0,y=!0,!(e.animating||e.autoplay.paused)&&S(!0))},B=k=>{k.pointerType==="mouse"&&(y=!1,e.autoplay.paused&&T())},O=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",F),e.el.addEventListener("pointerleave",B))},M=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",F),e.el.removeEventListener("pointerleave",B))},R=()=>{fu().addEventListener("visibilitychange",D)},z=()=>{fu().removeEventListener("visibilitychange",D)};i("init",()=>{e.params.autoplay.enabled&&(O(),R(),E())}),i("destroy",()=>{M(),z(),e.autoplay.running&&A()}),i("_freeModeStaticRelease",()=>{(p||m)&&T()}),i("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():S(!0,!0)}),i("beforeTransitionStart",(k,U,V)=>{e.destroyed||!e.autoplay.running||(V||!e.params.autoplay.disableOnInteraction?S(!0,!0):A())}),i("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}d=!0,p=!1,m=!1,g=setTimeout(()=>{m=!0,p=!0,S(!0)},200)}}),i("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!d)){if(clearTimeout(g),clearTimeout(s),e.params.autoplay.disableOnInteraction){p=!1,d=!1;return}p&&e.params.cssMode&&T(),p=!1,d=!1}}),i("slideChange",()=>{e.destroyed||!e.autoplay.running||(v=!0)}),Object.assign(e.autoplay,{start:E,stop:A,pause:S,resume:T})}function jYe(t){let{swiper:e,extendParams:r,emit:i,once:n}=t;r({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function a(){if(e.params.cssMode)return;const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function s(){if(e.params.cssMode)return;const{touchEventsData:u,touches:l}=e;u.velocities.length===0&&u.velocities.push({position:l[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:l[e.isHorizontal()?"currentX":"currentY"],time:kh()})}function o(u){let{currentPos:l}=u;if(e.params.cssMode)return;const{params:c,wrapperEl:h,rtlTranslate:f,snapGrid:d,touchEventsData:p}=e,v=kh()-p.touchStartTime;if(l<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(l>-e.maxTranslate()){e.slides.length<d.length?e.slideTo(d.length-1):e.slideTo(e.slides.length-1);return}if(c.freeMode.momentum){if(p.velocities.length>1){const A=p.velocities.pop(),S=p.velocities.pop(),T=A.position-S.position,D=A.time-S.time;e.velocity=T/D,e.velocity/=2,Math.abs(e.velocity)<c.freeMode.minimumVelocity&&(e.velocity=0),(D>150||kh()-A.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=c.freeMode.momentumVelocityRatio,p.velocities.length=0;let m=1e3*c.freeMode.momentumRatio;const y=e.velocity*m;let _=e.translate+y;f&&(_=-_);let x=!1,b;const C=Math.abs(e.velocity)*20*c.freeMode.momentumBounceRatio;let E;if(_<e.maxTranslate())c.freeMode.momentumBounce?(_+e.maxTranslate()<-C&&(_=e.maxTranslate()-C),b=e.maxTranslate(),x=!0,p.allowMomentumBounce=!0):_=e.maxTranslate(),c.loop&&c.centeredSlides&&(E=!0);else if(_>e.minTranslate())c.freeMode.momentumBounce?(_-e.minTranslate()>C&&(_=e.minTranslate()+C),b=e.minTranslate(),x=!0,p.allowMomentumBounce=!0):_=e.minTranslate(),c.loop&&c.centeredSlides&&(E=!0);else if(c.freeMode.sticky){let A;for(let S=0;S<d.length;S+=1)if(d[S]>-_){A=S;break}Math.abs(d[A]-_)<Math.abs(d[A-1]-_)||e.swipeDirection==="next"?_=d[A]:_=d[A-1],_=-_}if(E&&n("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(f?m=Math.abs((-_-e.translate)/e.velocity):m=Math.abs((_-e.translate)/e.velocity),c.freeMode.sticky){const A=Math.abs((f?-_:_)-e.translate),S=e.slidesSizesGrid[e.activeIndex];A<S?m=c.speed:A<2*S?m=c.speed*1.5:m=c.speed*2.5}}else if(c.freeMode.sticky){e.slideToClosest();return}c.freeMode.momentumBounce&&x?(e.updateProgress(b),e.setTransition(m),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating=!0,TT(h,()=>{!e||e.destroyed||!p.allowMomentumBounce||(i("momentumBounce"),e.setTransition(c.speed),setTimeout(()=>{e.setTranslate(b),TT(h,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(_),e.setTransition(m),e.setTranslate(_),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,TT(h,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(_),e.updateActiveIndex(),e.updateSlidesClasses()}else if(c.freeMode.sticky){e.slideToClosest();return}else c.freeMode&&i("_freeModeNoMomentumRelease");(!c.freeMode.momentum||v>=c.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:a,onTouchMove:s,onTouchEnd:o}})}ft([IQ]);ft([kSe]);ft([u6e,E6e,P6e,hTe,CTe,oAe,OAe,y8e,z8e,$8e,ewe,qwe,_De,IDe,WDe,ZDe,s7e,d7e,S7e,I7e,H7e,E9e]);ft(U9e);ft(pFe);ft(hee);ft(wFe);ft(Zee);ft(BFe);ft(HFe);ft(wIe);ft(WIe);ft(jm);ft(lBe);ft(fBe);ft(CBe);ft(FBe);ft(OBe);ft(GBe);ft(KBe);ft(gMe);ft(Qte);ft(ere);ft(OMe);ft(are);ft(sre);ft(HMe);ft(QMe);ft(ure);ft(DPe);ft(pQ);function Sn(t,e,r,i){return new(r||(r=Promise))(function(n,a){function s(l){try{u(i.next(l))}catch(c){a(c)}}function o(l){try{u(i.throw(l))}catch(c){a(c)}}function u(l){var c;l.done?n(l.value):(c=l.value,c instanceof r?c:new r(function(h){h(c)})).then(s,o)}u((i=i.apply(t,e||[])).next())})}let Xm=class{constructor(){this.listeners={}}on(e,r,i){if(this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(r),i==null?void 0:i.once){const n=()=>{this.un(e,n),this.un(e,r)};return this.on(e,n),n}return()=>this.un(e,r)}un(e,r){var i;(i=this.listeners[e])===null||i===void 0||i.delete(r)}once(e,r){return this.on(e,r,{once:!0})}unAll(){this.listeners={}}emit(e,...r){this.listeners[e]&&this.listeners[e].forEach(i=>i(...r))}};const ux={decode:function(t,e){return Sn(this,void 0,void 0,function*(){const r=new AudioContext({sampleRate:e});return r.decodeAudioData(t).finally(()=>r.close())})},createBuffer:function(t,e){return typeof t[0]=="number"&&(t=[t]),function(r){const i=r[0];if(i.some(n=>n>1||n<-1)){const n=i.length;let a=0;for(let s=0;s<n;s++){const o=Math.abs(i[s]);o>a&&(a=o)}for(const s of r)for(let o=0;o<n;o++)s[o]/=a}}(t),{duration:e,length:t[0].length,sampleRate:t[0].length/e,numberOfChannels:t.length,getChannelData:r=>t==null?void 0:t[r],copyFromChannel:AudioBuffer.prototype.copyFromChannel,copyToChannel:AudioBuffer.prototype.copyToChannel}}};function Oie(t,e){const r=e.xmlns?document.createElementNS(e.xmlns,t):document.createElement(t);for(const[i,n]of Object.entries(e))if(i==="children")for(const[a,s]of Object.entries(e))typeof s=="string"?r.appendChild(document.createTextNode(s)):r.appendChild(Oie(a,s));else i==="style"?Object.assign(r.style,n):i==="textContent"?r.textContent=n:r.setAttribute(i,n.toString());return r}function qj(t,e,r){const i=Oie(t,e||{});return r==null||r.appendChild(i),i}var ZHe=Object.freeze({__proto__:null,createElement:qj,default:qj});const KHe={fetchBlob:function(t,e,r){return Sn(this,void 0,void 0,function*(){const i=yield fetch(t,r);if(i.status>=400)throw new Error(`Failed to fetch ${t}: ${i.status} (${i.statusText})`);return function(n,a){Sn(this,void 0,void 0,function*(){if(!n.body||!n.headers)return;const s=n.body.getReader(),o=Number(n.headers.get("Content-Length"))||0;let u=0;const l=h=>Sn(this,void 0,void 0,function*(){u+=(h==null?void 0:h.length)||0;const f=Math.round(u/o*100);a(f)}),c=()=>Sn(this,void 0,void 0,function*(){let h;try{h=yield s.read()}catch{return}h.done||(l(h.value),yield c())});c()})}(i.clone(),e),i.blob()})}};let JHe=class extends Xm{constructor(e){super(),this.isExternalMedia=!1,e.media?(this.media=e.media,this.isExternalMedia=!0):this.media=document.createElement("audio"),e.mediaControls&&(this.media.controls=!0),e.autoplay&&(this.media.autoplay=!0),e.playbackRate!=null&&this.onMediaEvent("canplay",()=>{e.playbackRate!=null&&(this.media.playbackRate=e.playbackRate)},{once:!0})}onMediaEvent(e,r,i){return this.media.addEventListener(e,r,i),()=>this.media.removeEventListener(e,r,i)}getSrc(){return this.media.currentSrc||this.media.src||""}revokeSrc(){const e=this.getSrc();e.startsWith("blob:")&&URL.revokeObjectURL(e)}canPlayType(e){return this.media.canPlayType(e)!==""}setSrc(e,r){const i=this.getSrc();if(e&&i===e)return;this.revokeSrc();const n=r instanceof Blob&&(this.canPlayType(r.type)||!e)?URL.createObjectURL(r):e;i&&(this.media.src="");try{this.media.src=n}catch{this.media.src=e}}destroy(){this.isExternalMedia||(this.media.pause(),this.media.remove(),this.revokeSrc(),this.media.src="",this.media.load())}setMediaElement(e){this.media=e}play(){return Sn(this,void 0,void 0,function*(){return this.media.play()})}pause(){this.media.pause()}isPlaying(){return!this.media.paused&&!this.media.ended}setTime(e){this.media.currentTime=Math.max(0,Math.min(e,this.getDuration()))}getDuration(){return this.media.duration}getCurrentTime(){return this.media.currentTime}getVolume(){return this.media.volume}setVolume(e){this.media.volume=e}getMuted(){return this.media.muted}setMuted(e){this.media.muted=e}getPlaybackRate(){return this.media.playbackRate}isSeeking(){return this.media.seeking}setPlaybackRate(e,r){r!=null&&(this.media.preservesPitch=r),this.media.playbackRate=e}getMediaElement(){return this.media}setSinkId(e){return this.media.setSinkId(e)}},pD=class gD extends Xm{constructor(e,r){super(),this.timeouts=[],this.isScrollable=!1,this.audioData=null,this.resizeObserver=null,this.lastContainerWidth=0,this.isDragging=!1,this.subscriptions=[],this.unsubscribeOnScroll=[],this.subscriptions=[],this.options=e;const i=this.parentFromOptionsContainer(e.container);this.parent=i;const[n,a]=this.initHtml();i.appendChild(n),this.container=n,this.scrollContainer=a.querySelector(".scroll"),this.wrapper=a.querySelector(".wrapper"),this.canvasWrapper=a.querySelector(".canvases"),this.progressWrapper=a.querySelector(".progress"),this.cursor=a.querySelector(".cursor"),r&&a.appendChild(r),this.initEvents()}parentFromOptionsContainer(e){let r;if(typeof e=="string"?r=document.querySelector(e):e instanceof HTMLElement&&(r=e),!r)throw new Error("Container not found");return r}initEvents(){const e=r=>{const i=this.wrapper.getBoundingClientRect(),n=r.clientX-i.left,a=r.clientY-i.top;return[n/i.width,a/i.height]};if(this.wrapper.addEventListener("click",r=>{const[i,n]=e(r);this.emit("click",i,n)}),this.wrapper.addEventListener("dblclick",r=>{const[i,n]=e(r);this.emit("dblclick",i,n)}),this.options.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.scrollContainer.addEventListener("scroll",()=>{const{scrollLeft:r,scrollWidth:i,clientWidth:n}=this.scrollContainer,a=r/i,s=(r+n)/i;this.emit("scroll",a,s,r,r+n)}),typeof ResizeObserver=="function"){const r=this.createDelay(100);this.resizeObserver=new ResizeObserver(()=>{r().then(()=>this.onContainerResize()).catch(()=>{})}),this.resizeObserver.observe(this.scrollContainer)}}onContainerResize(){const e=this.parent.clientWidth;e===this.lastContainerWidth&&this.options.height!=="auto"||(this.lastContainerWidth=e,this.reRender())}initDrag(){this.subscriptions.push(function(e,r,i,n,a=3,s=0,o=100){if(!e)return()=>{};const u=matchMedia("(pointer: coarse)").matches;let l=()=>{};const c=h=>{if(h.button!==s)return;h.preventDefault(),h.stopPropagation();let f=h.clientX,d=h.clientY,p=!1;const g=Date.now(),v=b=>{if(b.preventDefault(),b.stopPropagation(),u&&Date.now()-g<o)return;const C=b.clientX,E=b.clientY,A=C-f,S=E-d;if(p||Math.abs(A)>a||Math.abs(S)>a){const T=e.getBoundingClientRect(),{left:D,top:F}=T;p||(i==null||i(f-D,d-F),p=!0),r(A,S,C-D,E-F),f=C,d=E}},m=b=>{if(p){const C=b.clientX,E=b.clientY,A=e.getBoundingClientRect(),{left:S,top:T}=A;n==null||n(C-S,E-T)}l()},y=b=>{b.relatedTarget&&b.relatedTarget!==document.documentElement||m(b)},_=b=>{p&&(b.stopPropagation(),b.preventDefault())},x=b=>{p&&b.preventDefault()};document.addEventListener("pointermove",v),document.addEventListener("pointerup",m),document.addEventListener("pointerout",y),document.addEventListener("pointercancel",y),document.addEventListener("touchmove",x,{passive:!1}),document.addEventListener("click",_,{capture:!0}),l=()=>{document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",m),document.removeEventListener("pointerout",y),document.removeEventListener("pointercancel",y),document.removeEventListener("touchmove",x),setTimeout(()=>{document.removeEventListener("click",_,{capture:!0})},10)}};return e.addEventListener("pointerdown",c),()=>{l(),e.removeEventListener("pointerdown",c)}}(this.wrapper,(e,r,i)=>{this.emit("drag",Math.max(0,Math.min(1,i/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!0,this.emit("dragstart",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))},e=>{this.isDragging=!1,this.emit("dragend",Math.max(0,Math.min(1,e/this.wrapper.getBoundingClientRect().width)))}))}getHeight(e,r){var i;const n=((i=this.audioData)===null||i===void 0?void 0:i.numberOfChannels)||1;if(e==null)return 128;if(!isNaN(Number(e)))return Number(e);if(e==="auto"){const a=this.parent.clientHeight||128;return r!=null&&r.every(s=>!s.overlay)?a/n:a}return 128}initHtml(){const e=document.createElement("div"),r=e.attachShadow({mode:"open"}),i=this.options.cspNonce&&typeof this.options.cspNonce=="string"?this.options.cspNonce.replace(/"/g,""):"";return r.innerHTML=`
      <style${i?` nonce="${i}"`:""}>
        :host {
          user-select: none;
          min-width: 1px;
        }
        :host audio {
          display: block;
          width: 100%;
        }
        :host .scroll {
          overflow-x: auto;
          overflow-y: hidden;
          width: 100%;
          position: relative;
        }
        :host .noScrollbar {
          scrollbar-color: transparent;
          scrollbar-width: none;
        }
        :host .noScrollbar::-webkit-scrollbar {
          display: none;
          -webkit-appearance: none;
        }
        :host .wrapper {
          position: relative;
          overflow: visible;
          z-index: 2;
        }
        :host .canvases {
          min-height: ${this.getHeight(this.options.height,this.options.splitChannels)}px;
        }
        :host .canvases > div {
          position: relative;
        }
        :host canvas {
          display: block;
          position: absolute;
          top: 0;
          image-rendering: pixelated;
        }
        :host .progress {
          pointer-events: none;
          position: absolute;
          z-index: 2;
          top: 0;
          left: 0;
          width: 0;
          height: 100%;
          overflow: hidden;
        }
        :host .progress > div {
          position: relative;
        }
        :host .cursor {
          pointer-events: none;
          position: absolute;
          z-index: 5;
          top: 0;
          left: 0;
          height: 100%;
          border-radius: 2px;
        }
      </style>

      <div class="scroll" part="scroll">
        <div class="wrapper" part="wrapper">
          <div class="canvases" part="canvases"></div>
          <div class="progress" part="progress"></div>
          <div class="cursor" part="cursor"></div>
        </div>
      </div>
    `,[e,r]}setOptions(e){if(this.options.container!==e.container){const r=this.parentFromOptionsContainer(e.container);r.appendChild(this.container),this.parent=r}e.dragToSeek!==!0&&typeof this.options.dragToSeek!="object"||this.initDrag(),this.options=e,this.reRender()}getWrapper(){return this.wrapper}getWidth(){return this.scrollContainer.clientWidth}getScroll(){return this.scrollContainer.scrollLeft}setScroll(e){this.scrollContainer.scrollLeft=e}setScrollPercentage(e){const{scrollWidth:r}=this.scrollContainer,i=r*e;this.setScroll(i)}destroy(){var e,r;this.subscriptions.forEach(i=>i()),this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(r=this.unsubscribeOnScroll)===null||r===void 0||r.forEach(i=>i()),this.unsubscribeOnScroll=[]}createDelay(e=10){let r,i;const n=()=>{r&&clearTimeout(r),i&&i()};return this.timeouts.push(n),()=>new Promise((a,s)=>{n(),i=s,r=setTimeout(()=>{r=void 0,i=void 0,a()},e)})}convertColorValues(e){if(!Array.isArray(e))return e||"";if(e.length<2)return e[0]||"";const r=document.createElement("canvas"),i=r.getContext("2d"),n=r.height*(window.devicePixelRatio||1),a=i.createLinearGradient(0,0,0,n),s=1/(e.length-1);return e.forEach((o,u)=>{const l=u*s;a.addColorStop(l,o)}),a}getPixelRatio(){return Math.max(1,window.devicePixelRatio||1)}renderBarWaveform(e,r,i,n){const a=e[0],s=e[1]||e[0],o=a.length,{width:u,height:l}=i.canvas,c=l/2,h=this.getPixelRatio(),f=r.barWidth?r.barWidth*h:1,d=r.barGap?r.barGap*h:r.barWidth?f/2:0,p=r.barRadius||0,g=u/(f+d)/o,v=p&&"roundRect"in i?"roundRect":"rect";i.beginPath();let m=0,y=0,_=0;for(let x=0;x<=o;x++){const b=Math.round(x*g);if(b>m){const A=Math.round(y*c*n),S=A+Math.round(_*c*n)||1;let T=c-A;r.barAlign==="top"?T=0:r.barAlign==="bottom"&&(T=l-S),i[v](m*(f+d),T,f,S,p),m=b,y=0,_=0}const C=Math.abs(a[x]||0),E=Math.abs(s[x]||0);C>y&&(y=C),E>_&&(_=E)}i.fill(),i.closePath()}renderLineWaveform(e,r,i,n){const a=s=>{const o=e[s]||e[0],u=o.length,{height:l}=i.canvas,c=l/2,h=i.canvas.width/u;i.moveTo(0,c);let f=0,d=0;for(let p=0;p<=u;p++){const g=Math.round(p*h);if(g>f){const m=c+(Math.round(d*c*n)||1)*(s===0?-1:1);i.lineTo(f,m),f=g,d=0}const v=Math.abs(o[p]||0);v>d&&(d=v)}i.lineTo(f,c)};i.beginPath(),a(0),a(1),i.fill(),i.closePath()}renderWaveform(e,r,i){if(i.fillStyle=this.convertColorValues(r.waveColor),r.renderFunction)return void r.renderFunction(e,i);let n=r.barHeight||1;if(r.normalize){const a=Array.from(e[0]).reduce((s,o)=>Math.max(s,Math.abs(o)),0);n=a?1/a:1}r.barWidth||r.barGap||r.barAlign?this.renderBarWaveform(e,r,i,n):this.renderLineWaveform(e,r,i,n)}renderSingleCanvas(e,r,i,n,a,s,o){const u=this.getPixelRatio(),l=document.createElement("canvas");l.width=Math.round(i*u),l.height=Math.round(n*u),l.style.width=`${i}px`,l.style.height=`${n}px`,l.style.left=`${Math.round(a)}px`,s.appendChild(l);const c=l.getContext("2d");if(this.renderWaveform(e,r,c),l.width>0&&l.height>0){const h=l.cloneNode(),f=h.getContext("2d");f.drawImage(l,0,0),f.globalCompositeOperation="source-in",f.fillStyle=this.convertColorValues(r.progressColor),f.fillRect(0,0,l.width,l.height),o.appendChild(h)}}renderMultiCanvas(e,r,i,n,a,s){const o=this.getPixelRatio(),{clientWidth:u}=this.scrollContainer,l=i/o;let c=Math.min(gD.MAX_CANVAS_WIDTH,u,l),h={};if(c===0)return;if(r.barWidth||r.barGap){const v=r.barWidth||.5,m=v+(r.barGap||v/2);c%m!=0&&(c=Math.floor(c/m)*m)}const f=v=>{if(v<0||v>=d||h[v])return;h[v]=!0;const m=v*c,y=Math.min(l-m,c);if(y<=0)return;const _=e.map(x=>{const b=Math.floor(m/l*x.length),C=Math.floor((m+y)/l*x.length);return x.slice(b,C)});this.renderSingleCanvas(_,r,y,n,m,a,s)},d=Math.ceil(l/c);if(!this.isScrollable){for(let v=0;v<d;v++)f(v);return}const p=this.scrollContainer.scrollLeft/l,g=Math.floor(p*d);if(f(g-1),f(g),f(g+1),d>1){const v=this.on("scroll",()=>{const{scrollLeft:m}=this.scrollContainer,y=Math.floor(m/l*d);Object.keys(h).length>gD.MAX_NODES&&(a.innerHTML="",s.innerHTML="",h={}),f(y-1),f(y),f(y+1)});this.unsubscribeOnScroll.push(v)}}renderChannel(e,r,i,n){var{overlay:a}=r,s=function(c,h){var f={};for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&h.indexOf(d)<0&&(f[d]=c[d]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(d=Object.getOwnPropertySymbols(c);p<d.length;p++)h.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(c,d[p])&&(f[d[p]]=c[d[p]])}return f}(r,["overlay"]);const o=document.createElement("div"),u=this.getHeight(s.height,s.splitChannels);o.style.height=`${u}px`,a&&n>0&&(o.style.marginTop=`-${u}px`),this.canvasWrapper.style.minHeight=`${u}px`,this.canvasWrapper.appendChild(o);const l=o.cloneNode();this.progressWrapper.appendChild(l),this.renderMultiCanvas(e,s,i,u,o,l)}render(e){return Sn(this,void 0,void 0,function*(){var r;this.timeouts.forEach(u=>u()),this.timeouts=[],this.canvasWrapper.innerHTML="",this.progressWrapper.innerHTML="",this.options.width!=null&&(this.scrollContainer.style.width=typeof this.options.width=="number"?`${this.options.width}px`:this.options.width);const i=this.getPixelRatio(),n=this.scrollContainer.clientWidth,a=Math.ceil(e.duration*(this.options.minPxPerSec||0));this.isScrollable=a>n;const s=this.options.fillParent&&!this.isScrollable,o=(s?n:a)*i;if(this.wrapper.style.width=s?"100%":`${a}px`,this.scrollContainer.style.overflowX=this.isScrollable?"auto":"hidden",this.scrollContainer.classList.toggle("noScrollbar",!!this.options.hideScrollbar),this.cursor.style.backgroundColor=`${this.options.cursorColor||this.options.progressColor}`,this.cursor.style.width=`${this.options.cursorWidth}px`,this.audioData=e,this.emit("render"),this.options.splitChannels)for(let u=0;u<e.numberOfChannels;u++){const l=Object.assign(Object.assign({},this.options),(r=this.options.splitChannels)===null||r===void 0?void 0:r[u]);this.renderChannel([e.getChannelData(u)],l,o,u)}else{const u=[e.getChannelData(0)];e.numberOfChannels>1&&u.push(e.getChannelData(1)),this.renderChannel(u,this.options,o,0)}Promise.resolve().then(()=>this.emit("rendered"))})}reRender(){if(this.unsubscribeOnScroll.forEach(i=>i()),this.unsubscribeOnScroll=[],!this.audioData)return;const{scrollWidth:e}=this.scrollContainer,{right:r}=this.progressWrapper.getBoundingClientRect();if(this.render(this.audioData),this.isScrollable&&e!==this.scrollContainer.scrollWidth){const{right:i}=this.progressWrapper.getBoundingClientRect();let n=i-r;n*=2,n=n<0?Math.floor(n):Math.ceil(n),n/=2,this.scrollContainer.scrollLeft+=n}}zoom(e){this.options.minPxPerSec=e,this.reRender()}scrollIntoView(e,r=!1){const{scrollLeft:i,scrollWidth:n,clientWidth:a}=this.scrollContainer,s=e*n,o=i,u=i+a,l=a/2;if(this.isDragging)s+30>u?this.scrollContainer.scrollLeft+=30:s-30<o&&(this.scrollContainer.scrollLeft-=30);else{(s<o||s>u)&&(this.scrollContainer.scrollLeft=s-(this.options.autoCenter?l:0));const c=s-i-l;r&&this.options.autoCenter&&c>0&&(this.scrollContainer.scrollLeft+=Math.min(c,10))}{const c=this.scrollContainer.scrollLeft,h=c/n,f=(c+a)/n;this.emit("scroll",h,f,c,c+a)}}renderProgress(e,r){if(isNaN(e))return;const i=100*e;this.canvasWrapper.style.clipPath=`polygon(${i}% 0, 100% 0, 100% 100%, ${i}% 100%)`,this.progressWrapper.style.width=`${i}%`,this.cursor.style.left=`${i}%`,this.cursor.style.transform=`translateX(-${Math.round(i)===100?this.options.cursorWidth:0}px)`,this.isScrollable&&this.options.autoScroll&&this.scrollIntoView(e,r)}exportImage(e,r,i){return Sn(this,void 0,void 0,function*(){const n=this.canvasWrapper.querySelectorAll("canvas");if(!n.length)throw new Error("No waveform data");if(i==="dataURL"){const a=Array.from(n).map(s=>s.toDataURL(e,r));return Promise.resolve(a)}return Promise.all(Array.from(n).map(a=>new Promise((s,o)=>{a.toBlob(u=>{u?s(u):o(new Error("Could not export image"))},e,r)})))})}};pD.MAX_CANVAS_WIDTH=8e3,pD.MAX_NODES=10;let QHe=class extends Xm{constructor(){super(...arguments),this.unsubscribe=()=>{}}start(){this.unsubscribe=this.on("tick",()=>{requestAnimationFrame(()=>{this.emit("tick")})}),this.emit("tick")}stop(){this.unsubscribe()}destroy(){this.unsubscribe()}},LT=class extends Xm{constructor(e=new AudioContext){super(),this.bufferNode=null,this.playStartTime=0,this.playedDuration=0,this._muted=!1,this._playbackRate=1,this._duration=void 0,this.buffer=null,this.currentSrc="",this.paused=!0,this.crossOrigin=null,this.seeking=!1,this.autoplay=!1,this.addEventListener=this.on,this.removeEventListener=this.un,this.audioContext=e,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination)}load(){return Sn(this,void 0,void 0,function*(){})}get src(){return this.currentSrc}set src(e){if(this.currentSrc=e,this._duration=void 0,!e)return this.buffer=null,void this.emit("emptied");fetch(e).then(r=>{if(r.status>=400)throw new Error(`Failed to fetch ${e}: ${r.status} (${r.statusText})`);return r.arrayBuffer()}).then(r=>this.currentSrc!==e?null:this.audioContext.decodeAudioData(r)).then(r=>{this.currentSrc===e&&(this.buffer=r,this.emit("loadedmetadata"),this.emit("canplay"),this.autoplay&&this.play())})}_play(){var e;if(!this.paused)return;this.paused=!1,(e=this.bufferNode)===null||e===void 0||e.disconnect(),this.bufferNode=this.audioContext.createBufferSource(),this.buffer&&(this.bufferNode.buffer=this.buffer),this.bufferNode.playbackRate.value=this._playbackRate,this.bufferNode.connect(this.gainNode);let r=this.playedDuration*this._playbackRate;(r>=this.duration||r<0)&&(r=0,this.playedDuration=0),this.bufferNode.start(this.audioContext.currentTime,r),this.playStartTime=this.audioContext.currentTime,this.bufferNode.onended=()=>{this.currentTime>=this.duration&&(this.pause(),this.emit("ended"))}}_pause(){var e;this.paused=!0,(e=this.bufferNode)===null||e===void 0||e.stop(),this.playedDuration+=this.audioContext.currentTime-this.playStartTime}play(){return Sn(this,void 0,void 0,function*(){this.paused&&(this._play(),this.emit("play"))})}pause(){this.paused||(this._pause(),this.emit("pause"))}stopAt(e){const r=e-this.currentTime,i=this.bufferNode;i==null||i.stop(this.audioContext.currentTime+r),i==null||i.addEventListener("ended",()=>{i===this.bufferNode&&(this.bufferNode=null,this.pause())},{once:!0})}setSinkId(e){return Sn(this,void 0,void 0,function*(){return this.audioContext.setSinkId(e)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this.bufferNode&&(this.bufferNode.playbackRate.value=e)}get currentTime(){return(this.paused?this.playedDuration:this.playedDuration+(this.audioContext.currentTime-this.playStartTime))*this._playbackRate}set currentTime(e){const r=!this.paused;r&&this._pause(),this.playedDuration=e/this._playbackRate,r&&this._play(),this.emit("seeking"),this.emit("timeupdate")}get duration(){var e,r;return(e=this._duration)!==null&&e!==void 0?e:((r=this.buffer)===null||r===void 0?void 0:r.duration)||0}set duration(e){this._duration=e}get volume(){return this.gainNode.gain.value}set volume(e){this.gainNode.gain.value=e,this.emit("volumechange")}get muted(){return this._muted}set muted(e){this._muted!==e&&(this._muted=e,this._muted?this.gainNode.disconnect():this.gainNode.connect(this.audioContext.destination))}canPlayType(e){return/^(audio|video)\//.test(e)}getGainNode(){return this.gainNode}getChannelData(){const e=[];if(!this.buffer)return e;const r=this.buffer.numberOfChannels;for(let i=0;i<r;i++)e.push(this.buffer.getChannelData(i));return e}};const eGe={waveColor:"#999",progressColor:"#555",cursorWidth:1,minPxPerSec:0,fillParent:!0,interact:!0,dragToSeek:!1,autoScroll:!0,autoCenter:!0,sampleRate:8e3};let Xj=class Rie extends JHe{static create(e){return new Rie(e)}constructor(e){const r=e.media||(e.backend==="WebAudio"?new LT:void 0);super({media:r,mediaControls:e.mediaControls,autoplay:e.autoplay,playbackRate:e.audioRate}),this.plugins=[],this.decodedData=null,this.stopAtPosition=null,this.subscriptions=[],this.mediaSubscriptions=[],this.abortController=null,this.options=Object.assign({},eGe,e),this.timer=new QHe;const i=r?void 0:this.getMediaElement();this.renderer=new pD(this.options,i),this.initPlayerEvents(),this.initRendererEvents(),this.initTimerEvents(),this.initPlugins();const n=this.options.url||this.getSrc()||"";Promise.resolve().then(()=>{this.emit("init");const{peaks:a,duration:s}=this.options;(n||a&&s)&&this.load(n,a,s).catch(()=>null)})}updateProgress(e=this.getCurrentTime()){return this.renderer.renderProgress(e/this.getDuration(),this.isPlaying()),e}initTimerEvents(){this.subscriptions.push(this.timer.on("tick",()=>{if(!this.isSeeking()){const e=this.updateProgress();this.emit("timeupdate",e),this.emit("audioprocess",e),this.stopAtPosition!=null&&this.isPlaying()&&e>=this.stopAtPosition&&this.pause()}}))}initPlayerEvents(){this.isPlaying()&&(this.emit("play"),this.timer.start()),this.mediaSubscriptions.push(this.onMediaEvent("timeupdate",()=>{const e=this.updateProgress();this.emit("timeupdate",e)}),this.onMediaEvent("play",()=>{this.emit("play"),this.timer.start()}),this.onMediaEvent("pause",()=>{this.emit("pause"),this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("emptied",()=>{this.timer.stop(),this.stopAtPosition=null}),this.onMediaEvent("ended",()=>{this.emit("timeupdate",this.getDuration()),this.emit("finish"),this.stopAtPosition=null}),this.onMediaEvent("seeking",()=>{this.emit("seeking",this.getCurrentTime())}),this.onMediaEvent("error",()=>{var e;this.emit("error",(e=this.getMediaElement().error)!==null&&e!==void 0?e:new Error("Media error")),this.stopAtPosition=null}))}initRendererEvents(){this.subscriptions.push(this.renderer.on("click",(e,r)=>{this.options.interact&&(this.seekTo(e),this.emit("interaction",e*this.getDuration()),this.emit("click",e,r))}),this.renderer.on("dblclick",(e,r)=>{this.emit("dblclick",e,r)}),this.renderer.on("scroll",(e,r,i,n)=>{const a=this.getDuration();this.emit("scroll",e*a,r*a,i,n)}),this.renderer.on("render",()=>{this.emit("redraw")}),this.renderer.on("rendered",()=>{this.emit("redrawcomplete")}),this.renderer.on("dragstart",e=>{this.emit("dragstart",e)}),this.renderer.on("dragend",e=>{this.emit("dragend",e)}));{let e;this.subscriptions.push(this.renderer.on("drag",r=>{if(!this.options.interact)return;let i;this.renderer.renderProgress(r),clearTimeout(e),this.isPlaying()?i=0:this.options.dragToSeek===!0?i=200:typeof this.options.dragToSeek=="object"&&this.options.dragToSeek!==void 0&&(i=this.options.dragToSeek.debounceTime),e=setTimeout(()=>{this.seekTo(r)},i),this.emit("interaction",r*this.getDuration()),this.emit("drag",r)}))}}initPlugins(){var e;!((e=this.options.plugins)===null||e===void 0)&&e.length&&this.options.plugins.forEach(r=>{this.registerPlugin(r)})}unsubscribePlayerEvents(){this.mediaSubscriptions.forEach(e=>e()),this.mediaSubscriptions=[]}setOptions(e){this.options=Object.assign({},this.options,e),e.duration&&!e.peaks&&(this.decodedData=ux.createBuffer(this.exportPeaks(),e.duration)),e.peaks&&e.duration&&(this.decodedData=ux.createBuffer(e.peaks,e.duration)),this.renderer.setOptions(this.options),e.audioRate&&this.setPlaybackRate(e.audioRate),e.mediaControls!=null&&(this.getMediaElement().controls=e.mediaControls)}registerPlugin(e){return e._init(this),this.plugins.push(e),this.subscriptions.push(e.once("destroy",()=>{this.plugins=this.plugins.filter(r=>r!==e)})),e}getWrapper(){return this.renderer.getWrapper()}getWidth(){return this.renderer.getWidth()}getScroll(){return this.renderer.getScroll()}setScroll(e){return this.renderer.setScroll(e)}setScrollTime(e){const r=e/this.getDuration();this.renderer.setScrollPercentage(r)}getActivePlugins(){return this.plugins}loadAudio(e,r,i,n){return Sn(this,void 0,void 0,function*(){var a;if(this.emit("load",e),!this.options.media&&this.isPlaying()&&this.pause(),this.decodedData=null,this.stopAtPosition=null,!r&&!i){const o=this.options.fetchParams||{};window.AbortController&&!o.signal&&(this.abortController=new AbortController,o.signal=(a=this.abortController)===null||a===void 0?void 0:a.signal);const u=c=>this.emit("loading",c);r=yield KHe.fetchBlob(e,u,o);const l=this.options.blobMimeType;l&&(r=new Blob([r],{type:l}))}this.setSrc(e,r);const s=yield new Promise(o=>{const u=n||this.getDuration();u?o(u):this.mediaSubscriptions.push(this.onMediaEvent("loadedmetadata",()=>o(this.getDuration()),{once:!0}))});if(!e&&!r){const o=this.getMediaElement();o instanceof LT&&(o.duration=s)}if(i)this.decodedData=ux.createBuffer(i,s||0);else if(r){const o=yield r.arrayBuffer();this.decodedData=yield ux.decode(o,this.options.sampleRate)}this.decodedData&&(this.emit("decode",this.getDuration()),this.renderer.render(this.decodedData)),this.emit("ready",this.getDuration())})}load(e,r,i){return Sn(this,void 0,void 0,function*(){try{return yield this.loadAudio(e,void 0,r,i)}catch(n){throw this.emit("error",n),n}})}loadBlob(e,r,i){return Sn(this,void 0,void 0,function*(){try{return yield this.loadAudio("",e,r,i)}catch(n){throw this.emit("error",n),n}})}zoom(e){if(!this.decodedData)throw new Error("No audio loaded");this.renderer.zoom(e),this.emit("zoom",e)}getDecodedData(){return this.decodedData}exportPeaks({channels:e=2,maxLength:r=8e3,precision:i=1e4}={}){if(!this.decodedData)throw new Error("The audio has not been decoded yet");const n=Math.min(e,this.decodedData.numberOfChannels),a=[];for(let s=0;s<n;s++){const o=this.decodedData.getChannelData(s),u=[],l=o.length/r;for(let c=0;c<r;c++){const h=o.slice(Math.floor(c*l),Math.ceil((c+1)*l));let f=0;for(let d=0;d<h.length;d++){const p=h[d];Math.abs(p)>Math.abs(f)&&(f=p)}u.push(Math.round(f*i)/i)}a.push(u)}return a}getDuration(){let e=super.getDuration()||0;return e!==0&&e!==1/0||!this.decodedData||(e=this.decodedData.duration),e}toggleInteraction(e){this.options.interact=e}setTime(e){this.stopAtPosition=null,super.setTime(e),this.updateProgress(e),this.emit("timeupdate",e)}seekTo(e){const r=this.getDuration()*e;this.setTime(r)}play(e,r){const i=Object.create(null,{play:{get:()=>super.play}});return Sn(this,void 0,void 0,function*(){e!=null&&this.setTime(e);const n=yield i.play.call(this);return r!=null&&(this.media instanceof LT?this.media.stopAt(r):this.stopAtPosition=r),n})}playPause(){return Sn(this,void 0,void 0,function*(){return this.isPlaying()?this.pause():this.play()})}stop(){this.pause(),this.setTime(0)}skip(e){this.setTime(this.getCurrentTime()+e)}empty(){this.load("",[[0]],.001)}setMediaElement(e){this.unsubscribePlayerEvents(),super.setMediaElement(e),this.initPlayerEvents()}exportImage(){return Sn(this,arguments,void 0,function*(e="image/png",r=1,i="dataURL"){return this.renderer.exportImage(e,r,i)})}destroy(){var e;this.emit("destroy"),(e=this.abortController)===null||e===void 0||e.abort(),this.plugins.forEach(r=>r.destroy()),this.subscriptions.forEach(r=>r()),this.unsubscribePlayerEvents(),this.timer.destroy(),this.renderer.destroy(),super.destroy()}};Xj.BasePlugin=class extends Xm{constructor(t){super(),this.subscriptions=[],this.options=t}onInit(){}_init(t){this.wavesurfer=t,this.onInit()}destroy(){this.emit("destroy"),this.subscriptions.forEach(t=>t())}},Xj.dom=ZHe;var tGe={grad:.9,turn:360,rad:360/(2*Math.PI)},zu=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},un=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Fs=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},Nie=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Zj=function(t){return{r:Fs(t.r,0,255),g:Fs(t.g,0,255),b:Fs(t.b,0,255),a:Fs(t.a)}},OT=function(t){return{r:un(t.r),g:un(t.g),b:un(t.b),a:un(t.a,3)}},rGe=/^#([0-9a-f]{3,8})$/i,lx=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},kie=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,a=Math.max(e,r,i),s=a-Math.min(e,r,i),o=s?a===e?(r-i)/s:a===r?2+(i-e)/s:4+(e-r)/s:0;return{h:60*(o<0?o+6:o),s:a?s/a*100:0,v:a/255*100,a:n}},zie=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var a=Math.floor(e),s=i*(1-r),o=i*(1-(e-a)*r),u=i*(1-(1-e+a)*r),l=a%6;return{r:255*[i,o,s,s,u,i][l],g:255*[u,i,i,o,s,s][l],b:255*[s,s,u,i,i,o][l],a:n}},Kj=function(t){return{h:Nie(t.h),s:Fs(t.s,0,100),l:Fs(t.l,0,100),a:Fs(t.a)}},Jj=function(t){return{h:un(t.h),s:un(t.s),l:un(t.l),a:un(t.a,3)}},Qj=function(t){return zie((r=(e=t).s,{h:e.h,s:(r*=((i=e.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:e.a}));var e,r,i},Z1=function(t){return{h:(e=kie(t)).h,s:(n=(200-(r=e.s))*(i=e.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,r,i,n},iGe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nGe=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aGe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sGe=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vD={string:[[function(t){var e=rGe.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?un(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?un(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=aGe.exec(t)||sGe.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Zj({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=iGe.exec(t)||nGe.exec(t);if(!e)return null;var r,i,n=Kj({h:(r=e[1],i=e[2],i===void 0&&(i="deg"),Number(r)*(tGe[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Qj(n)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,i=t.b,n=t.a,a=n===void 0?1:n;return zu(e)&&zu(r)&&zu(i)?Zj({r:Number(e),g:Number(r),b:Number(i),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,r=t.s,i=t.l,n=t.a,a=n===void 0?1:n;if(!zu(e)||!zu(r)||!zu(i))return null;var s=Kj({h:Number(e),s:Number(r),l:Number(i),a:Number(a)});return Qj(s)},"hsl"],[function(t){var e=t.h,r=t.s,i=t.v,n=t.a,a=n===void 0?1:n;if(!zu(e)||!zu(r)||!zu(i))return null;var s=function(o){return{h:Nie(o.h),s:Fs(o.s,0,100),v:Fs(o.v,0,100),a:Fs(o.a)}}({h:Number(e),s:Number(r),v:Number(i),a:Number(a)});return zie(s)},"hsv"]]},eV=function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0](t);if(i)return[i,e[r][1]]}return[null,void 0]},oGe=function(t){return typeof t=="string"?eV(t.trim(),vD.string):typeof t=="object"&&t!==null?eV(t,vD.object):[null,void 0]},RT=function(t,e){var r=Z1(t);return{h:r.h,s:Fs(r.s+100*e,0,100),l:r.l,a:r.a}},NT=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},tV=function(t,e){var r=Z1(t);return{h:r.h,s:r.s,l:Fs(r.l+100*e,0,100),a:r.a}},mD=function(){function t(e){this.parsed=oGe(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return un(NT(this.rgba),2)},t.prototype.isDark=function(){return NT(this.rgba)<.5},t.prototype.isLight=function(){return NT(this.rgba)>=.5},t.prototype.toHex=function(){return e=OT(this.rgba),r=e.r,i=e.g,n=e.b,s=(a=e.a)<1?lx(un(255*a)):"","#"+lx(r)+lx(i)+lx(n)+s;var e,r,i,n,a,s},t.prototype.toRgb=function(){return OT(this.rgba)},t.prototype.toRgbString=function(){return e=OT(this.rgba),r=e.r,i=e.g,n=e.b,(a=e.a)<1?"rgba("+r+", "+i+", "+n+", "+a+")":"rgb("+r+", "+i+", "+n+")";var e,r,i,n,a},t.prototype.toHsl=function(){return Jj(Z1(this.rgba))},t.prototype.toHslString=function(){return e=Jj(Z1(this.rgba)),r=e.h,i=e.s,n=e.l,(a=e.a)<1?"hsla("+r+", "+i+"%, "+n+"%, "+a+")":"hsl("+r+", "+i+"%, "+n+"%)";var e,r,i,n,a},t.prototype.toHsv=function(){return e=kie(this.rgba),{h:un(e.h),s:un(e.s),v:un(e.v),a:un(e.a,3)};var e},t.prototype.invert=function(){return Hu({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Hu(RT(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Hu(RT(this.rgba,-e))},t.prototype.grayscale=function(){return Hu(RT(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Hu(tV(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Hu(tV(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Hu({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):un(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Z1(this.rgba);return typeof e=="number"?Hu({h:e,s:r.s,l:r.l,a:r.a}):un(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Hu(e).toHex()},t}(),Hu=function(t){return t instanceof mD?t:new mD(t)},rV=[],qYe=function(t){t.forEach(function(e){rV.indexOf(e)<0&&(e(mD,vD),rV.push(e))})};function XYe(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var a={};t.prototype.toName=function(s){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var o,u,l=i[this.toHex()];if(l)return l;if(s!=null&&s.closest){var c=this.toRgb(),h=1/0,f="black";if(!a.length)for(var d in r)a[d]=new t(r[d]).toRgb();for(var p in r){var g=(o=c,u=a[p],Math.pow(o.r-u.r,2)+Math.pow(o.g-u.g,2)+Math.pow(o.b-u.b,2));g<h&&(h=g,f=p)}return f}},e.string.push([function(s){var o=s.toLowerCase(),u=o==="transparent"?"#0000":r[o];return u?new t(u).toRgb():null},"name"])}var kT,iV;function cC(){if(iV)return kT;iV=1;var t;return typeof window<"u"?t=window:typeof Th<"u"?t=Th:typeof self<"u"?t=self:t={},kT=t,kT}var uGe=cC();const ne=gf(uGe);var zT,nV;function Hie(){if(nV)return zT;nV=1;var t=typeof Th<"u"?Th:typeof window<"u"?window:{},e=yie,r;return typeof document<"u"?r=document:(r=t["__GLOBAL_DOCUMENT_CACHE@4"],r||(r=t["__GLOBAL_DOCUMENT_CACHE@4"]=e)),zT=r,zT}var lGe=Hie();const Ye=gf(lGe);var cx={exports:{}},HT={exports:{}},aV;function cGe(){return aV||(aV=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(r){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var a in n)({}).hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(HT)),HT.exports}var GT,sV;function hGe(){if(sV)return GT;sV=1,GT=e;var t=Object.prototype.toString;function e(r){if(!r)return!1;var i=t.call(r);return i==="[object Function]"||typeof r=="function"&&i!=="[object RegExp]"||typeof window<"u"&&(r===window.setTimeout||r===window.alert||r===window.confirm||r===window.prompt)}return GT}var UT,oV;function fGe(){if(oV)return UT;oV=1;function t(n,a){var s=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(s)return(s=s.call(n)).next.bind(s);if(Array.isArray(n)||(s=e(n))||a){s&&(n=s);var o=0;return function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(n,a){if(n){if(typeof n=="string")return r(n,a);var s=Object.prototype.toString.call(n).slice(8,-1);if(s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set")return Array.from(n);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r(n,a)}}function r(n,a){(a==null||a>n.length)&&(a=n.length);for(var s=0,o=new Array(a);s<a;s++)o[s]=n[s];return o}var i=function(){function n(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var a=n.prototype;return a.getIsEnabled=function(){return this.enabled_},a.enable=function(){this.enabled_=!0},a.disable=function(){this.enabled_=!1},a.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},a.addInterceptor=function(o,u){this.typeToInterceptorsMap_.has(o)||this.typeToInterceptorsMap_.set(o,new Set);var l=this.typeToInterceptorsMap_.get(o);return l.has(u)?!1:(l.add(u),!0)},a.removeInterceptor=function(o,u){var l=this.typeToInterceptorsMap_.get(o);return l&&l.has(u)?(l.delete(u),!0):!1},a.clearInterceptorsByType=function(o){var u=this.typeToInterceptorsMap_.get(o);return u?(this.typeToInterceptorsMap_.delete(o),this.typeToInterceptorsMap_.set(o,new Set),!0):!1},a.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},a.getForType=function(o){return this.typeToInterceptorsMap_.get(o)||new Set},a.execute=function(o,u){for(var l=this.getForType(o),c=t(l),h;!(h=c()).done;){var f=h.value;try{u=f(u)}catch{}}return u},n}();return UT=i,UT}var jT,uV;function dGe(){if(uV)return jT;uV=1;var t=function(){function r(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var i=r.prototype;return i.getIsEnabled=function(){return this.enabled_},i.enable=function(){this.enabled_=!0},i.disable=function(){this.enabled_=!1},i.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},i.getMaxAttempts=function(){return this.maxAttempts_},i.setMaxAttempts=function(a){this.maxAttempts_=a},i.getDelayFactor=function(){return this.delayFactor_},i.setDelayFactor=function(a){this.delayFactor_=a},i.getFuzzFactor=function(){return this.fuzzFactor_},i.setFuzzFactor=function(a){this.fuzzFactor_=a},i.getInitialDelay=function(){return this.initialDelay_},i.setInitialDelay=function(a){this.initialDelay_=a},i.createRetry=function(a){var s=a===void 0?{}:a,o=s.maxAttempts,u=s.delayFactor,l=s.fuzzFactor,c=s.initialDelay;return new e({maxAttempts:o||this.maxAttempts_,delayFactor:u||this.delayFactor_,fuzzFactor:l||this.fuzzFactor_,initialDelay:c||this.initialDelay_})},r}(),e=function(){function r(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var i=r.prototype;return i.moveToNextAttempt=function(){this.currentAttempt_++;var a=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+a},i.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},i.getCurrentDelay=function(){return this.currentDelay_},i.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},i.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},i.getCurrentFuzzedDelay=function(){var a=this.getCurrentMinPossibleDelay(),s=this.getCurrentMaxPossibleDelay();return a+Math.random()*(s-a)},r}();return jT=t,jT}var VT,lV;function pGe(){if(lV)return VT;lV=1;var t=cC(),e=function(n,a){return a===void 0&&(a=!1),function(s,o,u){if(s){n(s);return}if(o.statusCode>=400&&o.statusCode<=599){var l=u;if(a)if(t.TextDecoder){var c=r(o.headers&&o.headers["content-type"]);try{l=new TextDecoder(c).decode(u)}catch{}}else l=String.fromCharCode.apply(null,new Uint8Array(u));n({cause:l});return}n(null,u)}};function r(i){return i===void 0&&(i=""),i.toLowerCase().split(";").reduce(function(n,a){var s=a.split("="),o=s[0],u=s[1];return o.trim()==="charset"?u.trim():n},"utf-8")}return VT=e,VT}var cV;function gGe(){if(cV)return cx.exports;cV=1;var t=cC(),e=cGe(),r=hGe(),i=fGe(),n=dGe();l.httpHandler=pGe(),l.requestInterceptorsStorage=new i,l.responseInterceptorsStorage=new i,l.retryManager=new n;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var a=function(p){var g={};return p&&p.trim().split(`
`).forEach(function(v){var m=v.indexOf(":"),y=v.slice(0,m).trim().toLowerCase(),_=v.slice(m+1).trim();typeof g[y]>"u"?g[y]=_:Array.isArray(g[y])?g[y].push(_):g[y]=[g[y],_]}),g};cx.exports=l,cx.exports.default=l,l.XMLHttpRequest=t.XMLHttpRequest||f,l.XDomainRequest="withCredentials"in new l.XMLHttpRequest?l.XMLHttpRequest:t.XDomainRequest,s(["get","put","post","patch","head","delete"],function(d){l[d==="delete"?"del":d]=function(p,g,v){return g=u(p,g,v),g.method=d.toUpperCase(),c(g)}});function s(d,p){for(var g=0;g<d.length;g++)p(d[g])}function o(d){for(var p in d)if(d.hasOwnProperty(p))return!1;return!0}function u(d,p,g){var v=d;return r(p)?(g=p,typeof d=="string"&&(v={uri:d})):v=e({},p,{uri:d}),v.callback=g,v}function l(d,p,g){return p=u(d,p,g),c(p)}function c(d){if(typeof d.callback>"u")throw new Error("callback argument missing");if(d.requestType&&l.requestInterceptorsStorage.getIsEnabled()){var p={uri:d.uri||d.url,headers:d.headers||{},body:d.body,metadata:d.metadata||{},retry:d.retry,timeout:d.timeout},g=l.requestInterceptorsStorage.execute(d.requestType,p);d.uri=g.uri,d.headers=g.headers,d.body=g.body,d.metadata=g.metadata,d.retry=g.retry,d.timeout=g.timeout}var v=!1,m=function(k,U,V){v||(v=!0,d.callback(k,U,V))};function y(){C.readyState===4&&!l.responseInterceptorsStorage.getIsEnabled()&&setTimeout(b,0)}function _(){var z=void 0;if(C.response?z=C.response:z=C.responseText||h(C),O)try{z=JSON.parse(z)}catch{}return z}function x(z){if(clearTimeout(M),clearTimeout(d.retryTimeout),z instanceof Error||(z=new Error(""+(z||"Unknown XMLHttpRequest Error"))),z.statusCode=0,!A&&l.retryManager.getIsEnabled()&&d.retry&&d.retry.shouldRetry()){d.retryTimeout=setTimeout(function(){d.retry.moveToNextAttempt(),d.xhr=C,c(d)},d.retry.getCurrentFuzzedDelay());return}if(d.requestType&&l.responseInterceptorsStorage.getIsEnabled()){var k={headers:R.headers||{},body:R.body,responseUrl:C.responseURL,responseType:C.responseType},U=l.responseInterceptorsStorage.execute(d.requestType,k);R.body=U.body,R.headers=U.headers}return m(z,R)}function b(){if(!A){var z;clearTimeout(M),clearTimeout(d.retryTimeout),d.useXDR&&C.status===void 0?z=200:z=C.status===1223?204:C.status;var k=R,U=null;if(z!==0?(k={body:_(),statusCode:z,method:T,headers:{},url:S,rawRequest:C},C.getAllResponseHeaders&&(k.headers=a(C.getAllResponseHeaders()))):U=new Error("Internal XMLHttpRequest Error"),d.requestType&&l.responseInterceptorsStorage.getIsEnabled()){var V={headers:k.headers||{},body:k.body,responseUrl:C.responseURL,responseType:C.responseType},j=l.responseInterceptorsStorage.execute(d.requestType,V);k.body=j.body,k.headers=j.headers}return m(U,k,k.body)}}var C=d.xhr||null;C||(d.cors||d.useXDR?C=new l.XDomainRequest:C=new l.XMLHttpRequest);var E,A,S=C.url=d.uri||d.url,T=C.method=d.method||"GET",D=d.body||d.data,F=C.headers=d.headers||{},B=!!d.sync,O=!1,M,R={body:void 0,headers:{},statusCode:0,method:T,url:S,rawRequest:C};if("json"in d&&d.json!==!1&&(O=!0,F.accept||F.Accept||(F.Accept="application/json"),T!=="GET"&&T!=="HEAD"&&(F["content-type"]||F["Content-Type"]||(F["Content-Type"]="application/json"),D=JSON.stringify(d.json===!0?D:d.json))),C.onreadystatechange=y,C.onload=b,C.onerror=x,C.onprogress=function(){},C.onabort=function(){A=!0,clearTimeout(d.retryTimeout)},C.ontimeout=x,C.open(T,S,!B,d.username,d.password),B||(C.withCredentials=!!d.withCredentials),!B&&d.timeout>0&&(M=setTimeout(function(){if(!A){A=!0,C.abort("timeout");var z=new Error("XMLHttpRequest timeout");z.code="ETIMEDOUT",x(z)}},d.timeout)),C.setRequestHeader)for(E in F)F.hasOwnProperty(E)&&C.setRequestHeader(E,F[E]);else if(d.headers&&!o(d.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in d&&(C.responseType=d.responseType),"beforeSend"in d&&typeof d.beforeSend=="function"&&d.beforeSend(C),C.send(D||null),C}function h(d){try{if(d.responseType==="document")return d.responseXML;var p=d.responseXML&&d.responseXML.documentElement.nodeName==="parsererror";if(d.responseType===""&&!p)return d.responseXML}catch{}return null}function f(){}return cx.exports}var vGe=gGe();const Gie=gf(vGe);var $T={exports:{}},WT,hV;function mGe(){if(hV)return WT;hV=1;var t=Hie(),e=Object.create||function(){function S(){}return function(T){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return S.prototype=T,new S}}();function r(S,T){this.name="ParsingError",this.code=S.code,this.message=T||S.message}r.prototype=e(Error.prototype),r.prototype.constructor=r,r.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function i(S){function T(F,B,O,M){return(F|0)*3600+(B|0)*60+(O|0)+(M|0)/1e3}var D=S.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return D?D[3]?T(D[1],D[2],D[3].replace(":",""),D[4]):D[1]>59?T(D[1],D[2],0,D[4]):T(0,D[1],D[2],D[4]):null}function n(){this.values=e(null)}n.prototype={set:function(S,T){!this.get(S)&&T!==""&&(this.values[S]=T)},get:function(S,T,D){return D?this.has(S)?this.values[S]:T[D]:this.has(S)?this.values[S]:T},has:function(S){return S in this.values},alt:function(S,T,D){for(var F=0;F<D.length;++F)if(T===D[F]){this.set(S,T);break}},integer:function(S,T){/^-?\d+$/.test(T)&&this.set(S,parseInt(T,10))},percent:function(S,T){return T.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(T=parseFloat(T),T>=0&&T<=100)?(this.set(S,T),!0):!1}};function a(S,T,D,F){var B=F?S.split(F):[S];for(var O in B)if(typeof B[O]=="string"){var M=B[O].split(D);if(M.length===2){var R=M[0].trim(),z=M[1].trim();T(R,z)}}}function s(S,T,D){var F=S;function B(){var R=i(S);if(R===null)throw new r(r.Errors.BadTimeStamp,"Malformed timestamp: "+F);return S=S.replace(/^[^\sa-zA-Z-]+/,""),R}function O(R,z){var k=new n;a(R,function(U,V){switch(U){case"region":for(var j=D.length-1;j>=0;j--)if(D[j].id===V){k.set(U,D[j].region);break}break;case"vertical":k.alt(U,V,["rl","lr"]);break;case"line":var Y=V.split(","),te=Y[0];k.integer(U,te),k.percent(U,te)&&k.set("snapToLines",!1),k.alt(U,te,["auto"]),Y.length===2&&k.alt("lineAlign",Y[1],["start","center","end"]);break;case"position":Y=V.split(","),k.percent(U,Y[0]),Y.length===2&&k.alt("positionAlign",Y[1],["start","center","end"]);break;case"size":k.percent(U,V);break;case"align":k.alt(U,V,["start","center","end","left","right"]);break}},/:/,/\s/),z.region=k.get("region",null),z.vertical=k.get("vertical","");try{z.line=k.get("line","auto")}catch{}z.lineAlign=k.get("lineAlign","start"),z.snapToLines=k.get("snapToLines",!0),z.size=k.get("size",100);try{z.align=k.get("align","center")}catch{z.align=k.get("align","middle")}try{z.position=k.get("position","auto")}catch{z.position=k.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},z.align)}z.positionAlign=k.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},z.align)}function M(){S=S.replace(/^\s+/,"")}if(M(),T.startTime=B(),M(),S.substr(0,3)!=="-->")throw new r(r.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+F);S=S.substr(3),M(),T.endTime=B(),M(),O(S,T)}var o=t.createElement&&t.createElement("textarea"),u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},l={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},c={v:"title",lang:"lang"},h={rt:"ruby"};function f(S,T){function D(){if(!T)return null;function te(de){return T=T.substr(de.length),de}var re=T.match(/^([^<]*)(<[^>]*>?)?/);return te(re[1]?re[1]:re[2])}function F(te){return o.innerHTML=te,te=o.textContent,o.textContent="",te}function B(te,re){return!h[re.localName]||h[re.localName]===te.localName}function O(te,re){var de=u[te];if(!de)return null;var Oe=S.document.createElement(de),he=c[te];return he&&re&&(Oe[he]=re.trim()),Oe}for(var M=S.document.createElement("div"),R=M,z,k=[];(z=D())!==null;){if(z[0]==="<"){if(z[1]==="/"){k.length&&k[k.length-1]===z.substr(2).replace(">","")&&(k.pop(),R=R.parentNode);continue}var U=i(z.substr(1,z.length-2)),V;if(U){V=S.document.createProcessingInstruction("timestamp",U),R.appendChild(V);continue}var j=z.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!j||(V=O(j[1],j[3]),!V)||!B(R,V))continue;if(j[2]){var Y=j[2].split(".");Y.forEach(function(te){var re=/^bg_/.test(te),de=re?te.slice(3):te;if(l.hasOwnProperty(de)){var Oe=re?"background-color":"color",he=l[de];V.style[Oe]=he}}),V.className=Y.join(" ")}k.push(j[1]),R.appendChild(V),R=V;continue}R.appendChild(S.document.createTextNode(F(z)))}return M}var d=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function p(S){for(var T=0;T<d.length;T++){var D=d[T];if(S>=D[0]&&S<=D[1])return!0}return!1}function g(S){var T=[],D="",F;if(!S||!S.childNodes)return"ltr";function B(R,z){for(var k=z.childNodes.length-1;k>=0;k--)R.push(z.childNodes[k])}function O(R){if(!R||!R.length)return null;var z=R.pop(),k=z.textContent||z.innerText;if(k){var U=k.match(/^.*(\n|\r)/);return U?(R.length=0,U[0]):k}if(z.tagName==="ruby")return O(R);if(z.childNodes)return B(R,z),O(R)}for(B(T,S);D=O(T);)for(var M=0;M<D.length;M++)if(F=D.charCodeAt(M),p(F))return"rtl";return"ltr"}function v(S){if(typeof S.line=="number"&&(S.snapToLines||S.line>=0&&S.line<=100))return S.line;if(!S.track||!S.track.textTrackList||!S.track.textTrackList.mediaElement)return-1;for(var T=S.track,D=T.textTrackList,F=0,B=0;B<D.length&&D[B]!==T;B++)D[B].mode==="showing"&&F++;return++F*-1}function m(){}m.prototype.applyStyles=function(S,T){T=T||this.div;for(var D in S)S.hasOwnProperty(D)&&(T.style[D]=S[D])},m.prototype.formatStyle=function(S,T){return S===0?0:S+T};function y(S,T,D){m.call(this),this.cue=T,this.cueDiv=f(S,T.text);var F={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:T.vertical===""?"horizontal-tb":T.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(F,this.cueDiv),this.div=S.document.createElement("div"),F={direction:g(this.cueDiv),writingMode:T.vertical===""?"horizontal-tb":T.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:T.align==="middle"?"center":T.align,font:D.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(F),this.div.appendChild(this.cueDiv);var B=0;switch(T.positionAlign){case"start":case"line-left":B=T.position;break;case"center":B=T.position-T.size/2;break;case"end":case"line-right":B=T.position-T.size;break}T.vertical===""?this.applyStyles({left:this.formatStyle(B,"%"),width:this.formatStyle(T.size,"%")}):this.applyStyles({top:this.formatStyle(B,"%"),height:this.formatStyle(T.size,"%")}),this.move=function(O){this.applyStyles({top:this.formatStyle(O.top,"px"),bottom:this.formatStyle(O.bottom,"px"),left:this.formatStyle(O.left,"px"),right:this.formatStyle(O.right,"px"),height:this.formatStyle(O.height,"px"),width:this.formatStyle(O.width,"px")})}}y.prototype=e(m.prototype),y.prototype.constructor=y;function _(S){var T,D,F,B;if(S.div){D=S.div.offsetHeight,F=S.div.offsetWidth,B=S.div.offsetTop;var O=(O=S.div.childNodes)&&(O=O[0])&&O.getClientRects&&O.getClientRects();S=S.div.getBoundingClientRect(),T=O?Math.max(O[0]&&O[0].height||0,S.height/O.length):0}this.left=S.left,this.right=S.right,this.top=S.top||B,this.height=S.height||D,this.bottom=S.bottom||B+(S.height||D),this.width=S.width||F,this.lineHeight=T!==void 0?T:S.lineHeight}_.prototype.move=function(S,T){switch(T=T!==void 0?T:this.lineHeight,S){case"+x":this.left+=T,this.right+=T;break;case"-x":this.left-=T,this.right-=T;break;case"+y":this.top+=T,this.bottom+=T;break;case"-y":this.top-=T,this.bottom-=T;break}},_.prototype.overlaps=function(S){return this.left<S.right&&this.right>S.left&&this.top<S.bottom&&this.bottom>S.top},_.prototype.overlapsAny=function(S){for(var T=0;T<S.length;T++)if(this.overlaps(S[T]))return!0;return!1},_.prototype.within=function(S){return this.top>=S.top&&this.bottom<=S.bottom&&this.left>=S.left&&this.right<=S.right},_.prototype.overlapsOppositeAxis=function(S,T){switch(T){case"+x":return this.left<S.left;case"-x":return this.right>S.right;case"+y":return this.top<S.top;case"-y":return this.bottom>S.bottom}},_.prototype.intersectPercentage=function(S){var T=Math.max(0,Math.min(this.right,S.right)-Math.max(this.left,S.left)),D=Math.max(0,Math.min(this.bottom,S.bottom)-Math.max(this.top,S.top)),F=T*D;return F/(this.height*this.width)},_.prototype.toCSSCompatValues=function(S){return{top:this.top-S.top,bottom:S.bottom-this.bottom,left:this.left-S.left,right:S.right-this.right,height:this.height,width:this.width}},_.getSimpleBoxPosition=function(S){var T=S.div?S.div.offsetHeight:S.tagName?S.offsetHeight:0,D=S.div?S.div.offsetWidth:S.tagName?S.offsetWidth:0,F=S.div?S.div.offsetTop:S.tagName?S.offsetTop:0;S=S.div?S.div.getBoundingClientRect():S.tagName?S.getBoundingClientRect():S;var B={left:S.left,right:S.right,top:S.top||F,height:S.height||T,bottom:S.bottom||F+(S.height||T),width:S.width||D};return B};function x(S,T,D,F){function B(de,Oe){for(var he,le=new _(de),pe=1,xe=0;xe<Oe.length;xe++){for(;de.overlapsOppositeAxis(D,Oe[xe])||de.within(D)&&de.overlapsAny(F);)de.move(Oe[xe]);if(de.within(D))return de;var be=de.intersectPercentage(D);pe>be&&(he=new _(de),pe=be),de=new _(le)}return he||le}var O=new _(T),M=T.cue,R=v(M),z=[];if(M.snapToLines){var k;switch(M.vertical){case"":z=["+y","-y"],k="height";break;case"rl":z=["+x","-x"],k="width";break;case"lr":z=["-x","+x"],k="width";break}var U=O.lineHeight,V=U*Math.round(R),j=D[k]+U,Y=z[0];Math.abs(V)>j&&(V=V<0?-1:1,V*=Math.ceil(j/U)*U),R<0&&(V+=M.vertical===""?D.height:D.width,z=z.reverse()),O.move(Y,V)}else{var te=O.lineHeight/D.height*100;switch(M.lineAlign){case"center":R-=te/2;break;case"end":R-=te;break}switch(M.vertical){case"":T.applyStyles({top:T.formatStyle(R,"%")});break;case"rl":T.applyStyles({left:T.formatStyle(R,"%")});break;case"lr":T.applyStyles({right:T.formatStyle(R,"%")});break}z=["+y","-x","+x","-y"],O=new _(T)}var re=B(O,z);T.move(re.toCSSCompatValues(D))}function b(){}b.StringDecoder=function(){return{decode:function(S){if(!S)return"";if(typeof S!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(S))}}},b.convertCueToDOMTree=function(S,T){return!S||!T?null:f(S,T)};var C=.05,E="sans-serif",A="1.5%";return b.processCues=function(S,T,D){if(!S||!T||!D)return null;for(;D.firstChild;)D.removeChild(D.firstChild);var F=S.document.createElement("div");F.style.position="absolute",F.style.left="0",F.style.right="0",F.style.top="0",F.style.bottom="0",F.style.margin=A,D.appendChild(F);function B(U){for(var V=0;V<U.length;V++)if(U[V].hasBeenReset||!U[V].displayState)return!0;return!1}if(!B(T)){for(var O=0;O<T.length;O++)F.appendChild(T[O].displayState);return}var M=[],R=_.getSimpleBoxPosition(F),z=Math.round(R.height*C*100)/100,k={font:z+"px "+E};(function(){for(var U,V,j=0;j<T.length;j++)V=T[j],U=new y(S,V,k),F.appendChild(U.div),x(S,U,R,M),V.displayState=U.div,M.push(_.getSimpleBoxPosition(U))})()},b.Parser=function(S,T,D){D||(D=T,T={}),T||(T={}),this.window=S,this.vttjs=T,this.state="INITIAL",this.buffer="",this.decoder=D||new TextDecoder("utf8"),this.regionList=[]},b.Parser.prototype={reportOrThrowError:function(S){if(S instanceof r)this.onparsingerror&&this.onparsingerror(S);else throw S},parse:function(S){var T=this;S&&(T.buffer+=T.decoder.decode(S,{stream:!0}));function D(){for(var U=T.buffer,V=0;V<U.length&&U[V]!=="\r"&&U[V]!==`
`;)++V;var j=U.substr(0,V);return U[V]==="\r"&&++V,U[V]===`
`&&++V,T.buffer=U.substr(V),j}function F(U){var V=new n;if(a(U,function(Y,te){switch(Y){case"id":V.set(Y,te);break;case"width":V.percent(Y,te);break;case"lines":V.integer(Y,te);break;case"regionanchor":case"viewportanchor":var re=te.split(",");if(re.length!==2)break;var de=new n;if(de.percent("x",re[0]),de.percent("y",re[1]),!de.has("x")||!de.has("y"))break;V.set(Y+"X",de.get("x")),V.set(Y+"Y",de.get("y"));break;case"scroll":V.alt(Y,te,["up"]);break}},/=/,/\s/),V.has("id")){var j=new(T.vttjs.VTTRegion||T.window.VTTRegion);j.width=V.get("width",100),j.lines=V.get("lines",3),j.regionAnchorX=V.get("regionanchorX",0),j.regionAnchorY=V.get("regionanchorY",100),j.viewportAnchorX=V.get("viewportanchorX",0),j.viewportAnchorY=V.get("viewportanchorY",100),j.scroll=V.get("scroll",""),T.onregion&&T.onregion(j),T.regionList.push({id:V.get("id"),region:j})}}function B(U){var V=new n;a(U,function(j,Y){switch(j){case"MPEGT":V.integer(j+"S",Y);break;case"LOCA":V.set(j+"L",i(Y));break}},/[^\d]:/,/,/),T.ontimestampmap&&T.ontimestampmap({MPEGTS:V.get("MPEGTS"),LOCAL:V.get("LOCAL")})}function O(U){U.match(/X-TIMESTAMP-MAP/)?a(U,function(V,j){switch(V){case"X-TIMESTAMP-MAP":B(j);break}},/=/):a(U,function(V,j){switch(V){case"Region":F(j);break}},/:/)}try{var M;if(T.state==="INITIAL"){if(!/\r\n|\n/.test(T.buffer))return this;M=D();var R=M.match(/^WEBVTT([ \t].*)?$/);if(!R||!R[0])throw new r(r.Errors.BadSignature);T.state="HEADER"}for(var z=!1;T.buffer;){if(!/\r\n|\n/.test(T.buffer))return this;switch(z?z=!1:M=D(),T.state){case"HEADER":/:/.test(M)?O(M):M||(T.state="ID");continue;case"NOTE":M||(T.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(M)){T.state="NOTE";break}if(!M)continue;T.cue=new(T.vttjs.VTTCue||T.window.VTTCue)(0,0,"");try{T.cue.align="center"}catch{T.cue.align="middle"}if(T.state="CUE",M.indexOf("-->")===-1){T.cue.id=M;continue}case"CUE":try{s(M,T.cue,T.regionList)}catch(U){T.reportOrThrowError(U),T.cue=null,T.state="BADCUE";continue}T.state="CUETEXT";continue;case"CUETEXT":var k=M.indexOf("-->")!==-1;if(!M||k&&(z=!0)){T.oncue&&T.oncue(T.cue),T.cue=null,T.state="ID";continue}T.cue.text&&(T.cue.text+=`
`),T.cue.text+=M.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":M||(T.state="ID");continue}}}catch(U){T.reportOrThrowError(U),T.state==="CUETEXT"&&T.cue&&T.oncue&&T.oncue(T.cue),T.cue=null,T.state=T.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var S=this;try{if(S.buffer+=S.decoder.decode(),(S.cue||S.state==="HEADER")&&(S.buffer+=`

`,S.parse()),S.state==="INITIAL")throw new r(r.Errors.BadSignature)}catch(T){S.reportOrThrowError(T)}return S.onflush&&S.onflush(),this}},WT=b,WT}var YT,fV;function yGe(){if(fV)return YT;fV=1;var t="auto",e={"":1,lr:1,rl:1},r={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i(s){if(typeof s!="string")return!1;var o=e[s.toLowerCase()];return o?s.toLowerCase():!1}function n(s){if(typeof s!="string")return!1;var o=r[s.toLowerCase()];return o?s.toLowerCase():!1}function a(s,o,u){this.hasBeenReset=!1;var l="",c=!1,h=s,f=o,d=u,p=null,g="",v=!0,m="auto",y="start",_="auto",x="auto",b=100,C="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return l},set:function(E){l=""+E}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(E){c=!!E}},startTime:{enumerable:!0,get:function(){return h},set:function(E){if(typeof E!="number")throw new TypeError("Start time must be set to a number.");h=E,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return f},set:function(E){if(typeof E!="number")throw new TypeError("End time must be set to a number.");f=E,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return d},set:function(E){d=""+E,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return p},set:function(E){p=E,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return g},set:function(E){var A=i(E);if(A===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");g=A,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return v},set:function(E){v=!!E,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return m},set:function(E){if(typeof E!="number"&&E!==t)throw new SyntaxError("Line: an invalid number or illegal string was specified.");m=E,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return y},set:function(E){var A=n(E);A?(y=A,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return _},set:function(E){if(E<0||E>100)throw new Error("Position must be between 0 and 100.");_=E,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return x},set:function(E){var A=n(E);A?(x=A,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(E){if(E<0||E>100)throw new Error("Size must be between 0 and 100.");b=E,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return C},set:function(E){var A=n(E);if(!A)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");C=A,this.hasBeenReset=!0}}}),this.displayState=void 0}return a.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},YT=a,YT}var qT,dV;function _Ge(){if(dV)return qT;dV=1;var t={"":!0,up:!0};function e(n){if(typeof n!="string")return!1;var a=t[n.toLowerCase()];return a?n.toLowerCase():!1}function r(n){return typeof n=="number"&&n>=0&&n<=100}function i(){var n=100,a=3,s=0,o=100,u=0,l=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return n},set:function(h){if(!r(h))throw new Error("Width must be between 0 and 100.");n=h}},lines:{enumerable:!0,get:function(){return a},set:function(h){if(typeof h!="number")throw new TypeError("Lines must be set to a number.");a=h}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(h){if(!r(h))throw new Error("RegionAnchorX must be between 0 and 100.");o=h}},regionAnchorX:{enumerable:!0,get:function(){return s},set:function(h){if(!r(h))throw new Error("RegionAnchorY must be between 0 and 100.");s=h}},viewportAnchorY:{enumerable:!0,get:function(){return l},set:function(h){if(!r(h))throw new Error("ViewportAnchorY must be between 0 and 100.");l=h}},viewportAnchorX:{enumerable:!0,get:function(){return u},set:function(h){if(!r(h))throw new Error("ViewportAnchorX must be between 0 and 100.");u=h}},scroll:{enumerable:!0,get:function(){return c},set:function(h){var f=e(h);f===!1?console.warn("Scroll: an invalid or illegal string was specified."):c=f}}})}return qT=i,qT}var pV;function xGe(){if(pV)return $T.exports;pV=1;var t=cC(),e=$T.exports={WebVTT:mGe(),VTTCue:yGe(),VTTRegion:_Ge()};t.vttjs=e,t.WebVTT=e.WebVTT;var r=e.VTTCue,i=e.VTTRegion,n=t.VTTCue,a=t.VTTRegion;return e.shim=function(){t.VTTCue=r,t.VTTRegion=i},e.restore=function(){t.VTTCue=n,t.VTTRegion=a},t.VTTCue||e.shim(),$T.exports}var bGe=xGe();const gV=gf(bGe);var vV="https://example.com",hC=function(e,r){if(/^[a-z]+:/i.test(r))return r;/^data:/.test(e)&&(e=ne.location&&ne.location.href||"");var i=/^\/\//.test(e),n=!ne.location&&!/\/\//i.test(e);e=new ne.URL(e,ne.location||vV);var a=new URL(r,e);return n?a.href.slice(vV.length):i?a.href.slice(a.protocol.length):a.href},AI=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(i,n){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(n)},e.off=function(i,n){if(!this.listeners[i])return!1;var a=this.listeners[i].indexOf(n);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(a,1),a>-1},e.trigger=function(i){var n=this.listeners[i];if(n)if(arguments.length===2)for(var a=n.length,s=0;s<a;++s)n[s].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),u=n.length,l=0;l<u;++l)n[l].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(i){this.on("data",function(n){i.push(n)})},t}(),CGe=function(e){return ne.atob?ne.atob(e):Buffer.from(e,"base64").toString("binary")};function Uie(t){for(var e=CGe(t),r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class EGe extends AI{constructor(){super(),this.buffer=""}push(e){let r;for(this.buffer+=e,r=this.buffer.indexOf(`
`);r>-1;r=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)}}const SGe="	",XT=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),r={};return e[1]&&(r.length=parseInt(e[1],10)),e[2]&&(r.offset=parseInt(e[2],10)),r},TGe=function(){const r="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+r+")")},Yn=function(t){const e={};if(!t)return e;const r=t.split(TGe());let i=r.length,n;for(;i--;)r[i]!==""&&(n=/([^=]*)=(.*)/.exec(r[i]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),e[n[0]]=n[1]);return e},mV=t=>{const e=t.split("x"),r={};return e[0]&&(r.width=parseInt(e[0],10)),e[1]&&(r.height=parseInt(e[1],10)),r};class AGe extends AI{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let r,i;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((a,s)=>{const o=s(e);return o===e?a:a.concat([o])},[e]).forEach(a=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,a))return;if(a.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:a.slice(1)});return}if(a=a.replace("\r",""),r=/^#EXTM3U/.exec(a),r){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(r=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(a),r){i={type:"tag",tagType:"inf"},r[1]&&(i.duration=parseFloat(r[1])),r[2]&&(i.title=r[2]),this.trigger("data",i);return}if(r=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(a),r){i={type:"tag",tagType:"targetduration"},r[1]&&(i.duration=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-VERSION:([0-9.]*)?/.exec(a),r){i={type:"tag",tagType:"version"},r[1]&&(i.version=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(a),r){i={type:"tag",tagType:"media-sequence"},r[1]&&(i.number=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(a),r){i={type:"tag",tagType:"discontinuity-sequence"},r[1]&&(i.number=parseInt(r[1],10)),this.trigger("data",i);return}if(r=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(a),r){i={type:"tag",tagType:"playlist-type"},r[1]&&(i.playlistType=r[1]),this.trigger("data",i);return}if(r=/^#EXT-X-BYTERANGE:(.*)?$/.exec(a),r){i=fe(XT(r[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(r=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(a),r){i={type:"tag",tagType:"allow-cache"},r[1]&&(i.allowed=!/NO/.test(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-MAP:(.*)$/.exec(a),r){if(i={type:"tag",tagType:"map"},r[1]){const s=Yn(r[1]);s.URI&&(i.uri=s.URI),s.BYTERANGE&&(i.byterange=XT(s.BYTERANGE))}this.trigger("data",i);return}if(r=/^#EXT-X-STREAM-INF:(.*)$/.exec(a),r){i={type:"tag",tagType:"stream-inf"},r[1]&&(i.attributes=Yn(r[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=mV(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),this.trigger("data",i);return}if(r=/^#EXT-X-MEDIA:(.*)$/.exec(a),r){i={type:"tag",tagType:"media"},r[1]&&(i.attributes=Yn(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-ENDLIST/.exec(a),r){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(r=/^#EXT-X-DISCONTINUITY/.exec(a),r){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(r=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(a),r){i={type:"tag",tagType:"program-date-time"},r[1]&&(i.dateTimeString=r[1],i.dateTimeObject=new Date(r[1])),this.trigger("data",i);return}if(r=/^#EXT-X-KEY:(.*)$/.exec(a),r){i={type:"tag",tagType:"key"},r[1]&&(i.attributes=Yn(r[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(r=/^#EXT-X-START:(.*)$/.exec(a),r){i={type:"tag",tagType:"start"},r[1]&&(i.attributes=Yn(r[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(r=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(a),r){i={type:"tag",tagType:"cue-out-cont"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-CUE-OUT:(.*)?$/.exec(a),r){i={type:"tag",tagType:"cue-out"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(a),r){i={type:"tag",tagType:"cue-in"},r[1]?i.data=r[1]:i.data="",this.trigger("data",i);return}if(r=/^#EXT-X-SKIP:(.*)$/.exec(a),r&&r[1]){i={type:"tag",tagType:"skip"},i.attributes=Yn(r[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(SGe)),this.trigger("data",i);return}if(r=/^#EXT-X-PART:(.*)$/.exec(a),r&&r[1]){i={type:"tag",tagType:"part"},i.attributes=Yn(r[1]),["DURATION"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseFloat(i.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=/YES/.test(i.attributes[s]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=XT(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(a),r&&r[1]){i={type:"tag",tagType:"server-control"},i.attributes=Yn(r[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseFloat(i.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=/YES/.test(i.attributes[s]))}),this.trigger("data",i);return}if(r=/^#EXT-X-PART-INF:(.*)$/.exec(a),r&&r[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Yn(r[1]),["PART-TARGET"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseFloat(i.attributes[s]))}),this.trigger("data",i);return}if(r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(a),r&&r[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Yn(r[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(i.attributes.hasOwnProperty(s)){i.attributes[s]=parseInt(i.attributes[s],10);const o=s==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[o]=i.attributes[s],delete i.attributes[s]}}),this.trigger("data",i);return}if(r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(a),r&&r[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Yn(r[1]),["LAST-MSN","LAST-PART"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseInt(i.attributes[s],10))}),this.trigger("data",i);return}if(r=/^#EXT-X-DATERANGE:(.*)$/.exec(a),r&&r[1]){i={type:"tag",tagType:"daterange"},i.attributes=Yn(r[1]),["ID","CLASS"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=String(i.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=new Date(i.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=parseFloat(i.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=/YES/i.test(i.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){i.attributes.hasOwnProperty(o)&&(i.attributes[o]=i.attributes[o].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in i.attributes){if(!s.test(o))continue;const u=/[0-9A-Fa-f]{6}/g.test(i.attributes[o]),l=/^\d+(\.\d+)?$/.test(i.attributes[o]);i.attributes[o]=u?i.attributes[o].toString(16):l?parseFloat(i.attributes[o]):String(i.attributes[o])}this.trigger("data",i);return}if(r=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(a),r){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(r=/^#EXT-X-I-FRAMES-ONLY/.exec(a),r){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(r=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(a),r){i={type:"tag",tagType:"content-steering"},i.attributes=Yn(r[1]),this.trigger("data",i);return}if(r=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(a),r){i={type:"tag",tagType:"i-frame-playlist"},i.attributes=Yn(r[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=mV(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),this.trigger("data",i);return}if(r=/^#EXT-X-DEFINE:(.*)$/.exec(a),r){i={type:"tag",tagType:"define"},i.attributes=Yn(r[1]),this.trigger("data",i);return}this.trigger("data",{type:"tag",data:a.slice(4)})})}addParser({expression:e,customType:r,dataParser:i,segment:n}){typeof i!="function"&&(i=a=>a),this.customParsers.push(a=>{if(e.exec(a))return this.trigger("data",{type:"custom",data:i(a),customType:r,segment:n}),!0})}addTagMapper({expression:e,map:r}){const i=n=>e.test(n)?r(n):n;this.tagMappers.push(i)}}const wGe=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Kl=function(t){const e={};return Object.keys(t).forEach(function(r){e[wGe(r)]=t[r]}),e},ZT=function(t){const{serverControl:e,targetDuration:r,partTargetDuration:i}=t;if(!e)return;const n="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",o=r&&r*3,u=i&&i*2;r&&!e.hasOwnProperty(a)&&(e[a]=o,this.trigger("info",{message:`${n} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[a]<o&&(this.trigger("warn",{message:`${n} clamping HOLD-BACK (${e[a]}) to targetDuration * 3 (${o})`}),e[a]=o),i&&!e.hasOwnProperty(s)&&(e[s]=i*3,this.trigger("info",{message:`${n} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[s]}).`})),i&&e[s]<u&&(this.trigger("warn",{message:`${n} clamping PART-HOLD-BACK (${e[s]}) to partTargetDuration * 2 (${u}).`}),e[s]=u)};class DGe extends AI{constructor(e={}){super(),this.lineStream=new EGe,this.parseStream=new AGe,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const r=this,i=[];let n={},a,s,o=!1;const u=function(){},l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let h=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let f=0,d=0;const p={};this.on("end",()=>{n.uri||!n.parts&&!n.preloadHints||(!n.map&&a&&(n.map=a),!n.key&&s&&(n.key=s),!n.timeline&&typeof h=="number"&&(n.timeline=h),this.manifest.preloadSegment=n)}),this.parseStream.on("data",function(g){let v,m;if(r.manifest.definitions){for(const y in r.manifest.definitions)if(g.uri&&(g.uri=g.uri.replace(`{$${y}}`,r.manifest.definitions[y])),g.attributes)for(const _ in g.attributes)typeof g.attributes[_]=="string"&&(g.attributes[_]=g.attributes[_].replace(`{$${y}}`,r.manifest.definitions[y]))}({tag(){({version(){g.version&&(this.manifest.version=g.version)},"allow-cache"(){this.manifest.allowCache=g.allowed,"allowed"in g||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const y={};"length"in g&&(n.byterange=y,y.length=g.length,"offset"in g||(g.offset=f)),"offset"in g&&(n.byterange=y,y.offset=g.offset),f=y.offset+y.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),g.title&&(n.title=g.title),g.duration>0&&(n.duration=g.duration),g.duration===0&&(n.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!g.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(g.attributes.METHOD==="NONE"){s=null;return}if(!g.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(g.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:g.attributes};return}if(g.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:g.attributes.URI};return}if(g.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(g.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(g.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),g.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(g.attributes.KEYID&&g.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:g.attributes.KEYFORMAT,keyId:g.attributes.KEYID.substring(2)},pssh:Uie(g.attributes.URI.split(",")[1])};return}g.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),s={method:g.attributes.METHOD||"AES-128",uri:g.attributes.URI},typeof g.attributes.IV<"u"&&(s.iv=g.attributes.IV)},"media-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+g.number});return}this.manifest.mediaSequence=g.number},"discontinuity-sequence"(){if(!isFinite(g.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+g.number});return}this.manifest.discontinuitySequence=g.number,h=g.number},"playlist-type"(){if(!/VOD|EVENT/.test(g.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+g.playlist});return}this.manifest.playlistType=g.playlistType},map(){a={},g.uri&&(a.uri=g.uri),g.byterange&&(a.byterange=g.byterange),s&&(a.key=s)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||l,!g.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}n.attributes||(n.attributes={}),fe(n.attributes,g.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,!(g.attributes&&g.attributes.TYPE&&g.attributes["GROUP-ID"]&&g.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const y=this.manifest.mediaGroups[g.attributes.TYPE];y[g.attributes["GROUP-ID"]]=y[g.attributes["GROUP-ID"]]||{},v=y[g.attributes["GROUP-ID"]],m={default:/yes/i.test(g.attributes.DEFAULT)},m.default?m.autoselect=!0:m.autoselect=/yes/i.test(g.attributes.AUTOSELECT),g.attributes.LANGUAGE&&(m.language=g.attributes.LANGUAGE),g.attributes.URI&&(m.uri=g.attributes.URI),g.attributes["INSTREAM-ID"]&&(m.instreamId=g.attributes["INSTREAM-ID"]),g.attributes.CHARACTERISTICS&&(m.characteristics=g.attributes.CHARACTERISTICS),g.attributes.FORCED&&(m.forced=/yes/i.test(g.attributes.FORCED)),v[g.attributes.NAME]=m},discontinuity(){h+=1,n.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=g.dateTimeString,this.manifest.dateTimeObject=g.dateTimeObject),n.dateTimeString=g.dateTimeString,n.dateTimeObject=g.dateTimeObject;const{lastProgramDateTime:y}=this;this.lastProgramDateTime=new Date(g.dateTimeString).getTime(),y===null&&this.manifest.segments.reduceRight((_,x)=>(x.programDateTime=_-x.duration*1e3,x.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(g.duration)||g.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+g.duration});return}this.manifest.targetDuration=g.duration,ZT.call(this,this.manifest)},start(){if(!g.attributes||isNaN(g.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:g.attributes["TIME-OFFSET"],precise:g.attributes.PRECISE}},"cue-out"(){n.cueOut=g.data},"cue-out-cont"(){n.cueOutCont=g.data},"cue-in"(){n.cueIn=g.data},skip(){this.manifest.skip=Kl(g.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",g.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const y=this.manifest.segments.length,_=Kl(g.attributes);n.parts=n.parts||[],n.parts.push(_),_.byterange&&(_.byterange.hasOwnProperty("offset")||(_.byterange.offset=d),d=_.byterange.offset+_.byterange.length);const x=n.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${x} for segment #${y}`,g.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((b,C)=>{b.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${C} lacks required attribute(s): LAST-PART`})})},"server-control"(){const y=this.manifest.serverControl=Kl(g.attributes);y.hasOwnProperty("canBlockReload")||(y.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),ZT.call(this,this.manifest),y.canSkipDateranges&&!y.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const y=this.manifest.segments.length,_=Kl(g.attributes),x=_.type&&_.type==="PART";n.preloadHints=n.preloadHints||[],n.preloadHints.push(_),_.byterange&&(_.byterange.hasOwnProperty("offset")||(_.byterange.offset=x?d:0,x&&(d=_.byterange.offset+_.byterange.length)));const b=n.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${b} for segment #${y}`,g.attributes,["TYPE","URI"]),!!_.type)for(let C=0;C<n.preloadHints.length-1;C++){const E=n.preloadHints[C];E.type&&E.type===_.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${b} for segment #${y} has the same TYPE ${_.type} as preload hint #${C}`})}},"rendition-report"(){const y=Kl(g.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(y);const _=this.manifest.renditionReports.length-1,x=["LAST-MSN","URI"];o&&x.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${_}`,g.attributes,x)},"part-inf"(){this.manifest.partInf=Kl(g.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",g.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),ZT.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Kl(g.attributes));const y=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${y}`,g.attributes,["ID","START-DATE"]);const _=this.manifest.dateRanges[y];_.endDate&&_.startDate&&new Date(_.endDate)<new Date(_.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),_.duration&&_.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),_.plannedDuration&&_.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const x=!!_.endOnNext;if(x&&!_.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),x&&(_.duration||_.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),_.duration&&_.endDate){const C=_.startDate.getTime()+_.duration*1e3;this.manifest.dateRanges[y].endDate=new Date(C)}if(!p[_.id])p[_.id]=_;else{for(const C in p[_.id])if(_[C]&&JSON.stringify(p[_.id][C])!==JSON.stringify(_[C])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const b=this.manifest.dateRanges.findIndex(C=>C.id===_.id);this.manifest.dateRanges[b]=fe(this.manifest.dateRanges[b],_),p[_.id]=fe(p[_.id],_),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Kl(g.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",g.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const y=(_,x)=>{if(_ in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${_}`});return}this.manifest.definitions[_]=x};if("QUERYPARAM"in g.attributes){if("NAME"in g.attributes||"IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const _=this.params.get(g.attributes.QUERYPARAM);if(!_){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${g.attributes.QUERYPARAM}`});return}y(g.attributes.QUERYPARAM,decodeURIComponent(_));return}if("NAME"in g.attributes){if("IMPORT"in g.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in g.attributes)||typeof g.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${g.attributes.NAME}`});return}y(g.attributes.NAME,g.attributes.VALUE);return}if("IMPORT"in g.attributes){if(!this.mainDefinitions[g.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${g.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}y(g.attributes.IMPORT,this.mainDefinitions[g.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:g.attributes,uri:g.uri,timeline:h}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",g.attributes,["BANDWIDTH","URI"])}}[g.tagType]||u).call(r)},uri(){n.uri=g.uri,i.push(n),this.manifest.targetDuration&&!("duration"in n)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),n.duration=this.manifest.targetDuration),s&&(n.key=s),n.timeline=h,a&&(n.map=a),d=0,this.lastProgramDateTime!==null&&(n.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=n.duration*1e3),n={}},comment(){},custom(){g.segment?(n.custom=n.custom||{},n.custom[g.customType]=g.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[g.customType]=g.data)}})[g.type].call(r)})}requiredCompatibilityversion(e,r){(e<r||!e)&&this.trigger("warn",{message:`manifest must be at least version ${r}`})}warnOnMissingAttributes_(e,r,i){const n=[];i.forEach(function(a){r.hasOwnProperty(a)||n.push(a)}),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var zh={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},FGe=["video","audio","text"],yV=["Video","Audio","Text"],jie=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(r,i,n){var a=("00"+Number(i).toString(16)).slice(-2),s=("00"+Number(n).toString(16)).slice(-2);return"avc1."+a+"00"+s})},Vo=function(e){e===void 0&&(e="");var r=e.split(","),i=[];return r.forEach(function(n){n=n.trim();var a;FGe.forEach(function(s){var o=zh[s].exec(n.toLowerCase());if(!(!o||o.length<=1)){a=s;var u=n.substring(0,o[1].length),l=n.replace(u,"");i.push({type:u,details:l,mediaType:s})}}),a||i.push({type:n,details:"",mediaType:"unknown"})}),i},IGe=function(e,r){if(!e.mediaGroups.AUDIO||!r)return null;var i=e.mediaGroups.AUDIO[r];if(!i)return null;for(var n in i){var a=i[n];if(a.default&&a.playlists)return Vo(a.playlists[0].attributes.CODECS)}return null},Vie=function(e){return e===void 0&&(e=""),zh.audio.test(e.trim().toLowerCase())},BGe=function(e){return e===void 0&&(e=""),zh.text.test(e.trim().toLowerCase())},Up=function(e){if(!(!e||typeof e!="string")){var r=e.toLowerCase().split(",").map(function(a){return jie(a.trim())}),i="video";r.length===1&&Vie(r[0])?i="audio":r.length===1&&BGe(r[0])&&(i="application");var n="mp4";return r.every(function(a){return zh.mp4.test(a)})?n="mp4":r.every(function(a){return zh.webm.test(a)})?n="webm":r.every(function(a){return zh.ogg.test(a)})&&(n="ogg"),i+"/"+n+';codecs="'+e+'"'}},K1=function(e,r){return e===void 0&&(e=""),r===void 0&&(r=!1),ne.MediaSource&&ne.MediaSource.isTypeSupported&&ne.MediaSource.isTypeSupported(Up(e))||r&&ne.ManagedMediaSource&&ne.ManagedMediaSource.isTypeSupported&&ne.ManagedMediaSource.isTypeSupported(Up(e))||!1},KT=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(r){r=r.trim();for(var i=0;i<yV.length;i++){var n=yV[i];if(zh["muxer"+n].test(r))return!0}return!1})},_V="mp4a.40.2",MGe="avc1.4d400d",PGe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,LGe=/^application\/dash\+xml/i,$ie=function(e){return PGe.test(e)?"hls":LGe.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},OGe=function(e){return e.toString(2).length},RGe=function(e){return Math.ceil(OGe(e)/8)},Wie=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},NGe=function(e){return Wie(e)},St=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!NGe(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},bn=ne.BigInt||Number,yD=[bn("0x1"),bn("0x100"),bn("0x10000"),bn("0x1000000"),bn("0x100000000"),bn("0x10000000000"),bn("0x1000000000000"),bn("0x100000000000000"),bn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var kGe=function(e,r){var i=r===void 0?{}:r,n=i.signed,a=n===void 0?!1:n,s=i.le,o=s===void 0?!1:s;e=St(e);var u=o?"reduce":"reduceRight",l=e[u]?e[u]:Array.prototype[u],c=l.call(e,function(f,d,p){var g=o?p:Math.abs(p+1-e.length);return f+bn(d)*yD[g]},bn(0));if(a){var h=yD[e.length]/bn(2)-bn(1);c=bn(c),c>h&&(c-=h,c-=h,c-=bn(2))}return Number(c)},zGe=function(e,r){var i={},n=i.le,a=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=bn(e);for(var s=RGe(e),o=new Uint8Array(new ArrayBuffer(s)),u=0;u<s;u++){var l=a?u:Math.abs(u+1-o.length);o[l]=Number(e/yD[u]&bn(255)),e<0&&(o[l]=Math.abs(~o[l]),o[l]-=u===0?1:2)}return o},Yie=function(e,r){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;r||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},HGe=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];if(r=r.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),r.length<=1)return St(r[0]);var n=r.reduce(function(o,u,l){return o+(u.byteLength||u.length)},0),a=new Uint8Array(n),s=0;return r.forEach(function(o){o=St(o),a.set(o,s),s+=o.byteLength}),a},ii=function(e,r,i){var n=i===void 0?{}:i,a=n.offset,s=a===void 0?0:a,o=n.mask,u=o===void 0?[]:o;e=St(e),r=St(r);var l=r.every?r.every:Array.prototype.every;return r.length&&e.length-s>=r.length&&l.call(r,function(c,h){var f=u[h]?u[h]&e[s+h]:e[s+h];return c===f})},GGe=function(e,r,i){r.forEach(function(n){for(var a in e.mediaGroups[n])for(var s in e.mediaGroups[n][a]){var o=e.mediaGroups[n][a][s];i(o,n,a,s)}})},$v={},Gu={},j0={},xV;function fC(){if(xV)return j0;xV=1;function t(a,s,o){if(o===void 0&&(o=Array.prototype),a&&typeof o.find=="function")return o.find.call(a,s);for(var u=0;u<a.length;u++)if(Object.prototype.hasOwnProperty.call(a,u)){var l=a[u];if(s.call(void 0,l,u,a))return l}}function e(a,s){return s===void 0&&(s=Object),s&&typeof s.freeze=="function"?s.freeze(a):a}function r(a,s){if(a===null||typeof a!="object")throw new TypeError("target is not an object");for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o]);return a}var i=e({HTML:"text/html",isHTML:function(a){return a===i.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),n=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(a){return a===n.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return j0.assign=r,j0.find=t,j0.freeze=e,j0.MIME_TYPE=i,j0.NAMESPACE=n,j0}var bV;function qie(){if(bV)return Gu;bV=1;var t=fC(),e=t.find,r=t.NAMESPACE;function i(W){return W!==""}function n(W){return W?W.split(/[\t\n\f\r ]+/).filter(i):[]}function a(W,X){return W.hasOwnProperty(X)||(W[X]=!0),W}function s(W){if(!W)return[];var X=n(W);return Object.keys(X.reduce(a,{}))}function o(W){return function(X){return W&&W.indexOf(X)!==-1}}function u(W,X){for(var ue in W)Object.prototype.hasOwnProperty.call(W,ue)&&(X[ue]=W[ue])}function l(W,X){var ue=W.prototype;if(!(ue instanceof X)){let Ee=function(){};Ee.prototype=X.prototype,Ee=new Ee,u(ue,Ee),W.prototype=ue=Ee}ue.constructor!=W&&(typeof W!="function"&&console.error("unknown Class:"+W),ue.constructor=W)}var c={},h=c.ELEMENT_NODE=1,f=c.ATTRIBUTE_NODE=2,d=c.TEXT_NODE=3,p=c.CDATA_SECTION_NODE=4,g=c.ENTITY_REFERENCE_NODE=5,v=c.ENTITY_NODE=6,m=c.PROCESSING_INSTRUCTION_NODE=7,y=c.COMMENT_NODE=8,_=c.DOCUMENT_NODE=9,x=c.DOCUMENT_TYPE_NODE=10,b=c.DOCUMENT_FRAGMENT_NODE=11,C=c.NOTATION_NODE=12,E={},A={};E.INDEX_SIZE_ERR=(A[1]="Index size error",1),E.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2);var S=E.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3);E.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4),E.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5),E.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6),E.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7);var T=E.NOT_FOUND_ERR=(A[8]="Not found",8);E.NOT_SUPPORTED_ERR=(A[9]="Not supported",9);var D=E.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10);E.INVALID_STATE_ERR=(A[11]="Invalid state",11),E.SYNTAX_ERR=(A[12]="Syntax error",12),E.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13),E.NAMESPACE_ERR=(A[14]="Invalid namespace",14),E.INVALID_ACCESS_ERR=(A[15]="Invalid access",15);function F(W,X){if(X instanceof Error)var ue=X;else ue=this,Error.call(this,A[W]),this.message=A[W],Error.captureStackTrace&&Error.captureStackTrace(this,F);return ue.code=W,X&&(this.message=this.message+": "+X),ue}F.prototype=Error.prototype,u(E,F);function B(){}B.prototype={length:0,item:function(W){return W>=0&&W<this.length?this[W]:null},toString:function(W,X){for(var ue=[],Ee=0;Ee<this.length;Ee++)Ga(this[Ee],ue,W,X);return ue.join("")},filter:function(W){return Array.prototype.filter.call(this,W)},indexOf:function(W){return Array.prototype.indexOf.call(this,W)}};function O(W,X){this._node=W,this._refresh=X,M(this)}function M(W){var X=W._node._inc||W._node.ownerDocument._inc;if(W._inc!==X){var ue=W._refresh(W._node);if(r0(W,"length",ue.length),!W.$$length||ue.length<W.$$length)for(var Ee=ue.length;Ee in W;Ee++)Object.prototype.hasOwnProperty.call(W,Ee)&&delete W[Ee];u(ue,W),W._inc=X}}O.prototype.item=function(W){return M(this),this[W]||null},l(O,B);function R(){}function z(W,X){for(var ue=W.length;ue--;)if(W[ue]===X)return ue}function k(W,X,ue,Ee){if(Ee?X[z(X,Ee)]=ue:X[X.length++]=ue,W){ue.ownerElement=W;var it=W.ownerDocument;it&&(Ee&&Oe(it,W,Ee),de(it,W,ue))}}function U(W,X,ue){var Ee=z(X,ue);if(Ee>=0){for(var it=X.length-1;Ee<it;)X[Ee]=X[++Ee];if(X.length=it,W){var At=W.ownerDocument;At&&(Oe(At,W,ue),ue.ownerElement=null)}}else throw new F(T,new Error(W.tagName+"@"+ue))}R.prototype={length:0,item:B.prototype.item,getNamedItem:function(W){for(var X=this.length;X--;){var ue=this[X];if(ue.nodeName==W)return ue}},setNamedItem:function(W){var X=W.ownerElement;if(X&&X!=this._ownerElement)throw new F(D);var ue=this.getNamedItem(W.nodeName);return k(this._ownerElement,this,W,ue),ue},setNamedItemNS:function(W){var X=W.ownerElement,ue;if(X&&X!=this._ownerElement)throw new F(D);return ue=this.getNamedItemNS(W.namespaceURI,W.localName),k(this._ownerElement,this,W,ue),ue},removeNamedItem:function(W){var X=this.getNamedItem(W);return U(this._ownerElement,this,X),X},removeNamedItemNS:function(W,X){var ue=this.getNamedItemNS(W,X);return U(this._ownerElement,this,ue),ue},getNamedItemNS:function(W,X){for(var ue=this.length;ue--;){var Ee=this[ue];if(Ee.localName==X&&Ee.namespaceURI==W)return Ee}return null}};function V(){}V.prototype={hasFeature:function(W,X){return!0},createDocument:function(W,X,ue){var Ee=new re;if(Ee.implementation=this,Ee.childNodes=new B,Ee.doctype=ue||null,ue&&Ee.appendChild(ue),X){var it=Ee.createElementNS(W,X);Ee.appendChild(it)}return Ee},createDocumentType:function(W,X,ue){var Ee=new Vt;return Ee.name=W,Ee.nodeName=W,Ee.publicId=X||"",Ee.systemId=ue||"",Ee}};function j(){}j.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(W,X){return ze(this,W,X)},replaceChild:function(W,X){ze(this,W,X,He),X&&this.removeChild(X)},removeChild:function(W){return le(this,W)},appendChild:function(W){return this.insertBefore(W,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(W){return t0(this.ownerDocument||this,this,W)},normalize:function(){for(var W=this.firstChild;W;){var X=W.nextSibling;X&&X.nodeType==d&&W.nodeType==d?(this.removeChild(X),W.appendData(X.data)):(W.normalize(),W=X)}},isSupported:function(W,X){return this.ownerDocument.implementation.hasFeature(W,X)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(W){for(var X=this;X;){var ue=X._nsMap;if(ue){for(var Ee in ue)if(Object.prototype.hasOwnProperty.call(ue,Ee)&&ue[Ee]===W)return Ee}X=X.nodeType==f?X.ownerDocument:X.parentNode}return null},lookupNamespaceURI:function(W){for(var X=this;X;){var ue=X._nsMap;if(ue&&Object.prototype.hasOwnProperty.call(ue,W))return ue[W];X=X.nodeType==f?X.ownerDocument:X.parentNode}return null},isDefaultNamespace:function(W){var X=this.lookupPrefix(W);return X==null}};function Y(W){return W=="<"&&"&lt;"||W==">"&&"&gt;"||W=="&"&&"&amp;"||W=='"'&&"&quot;"||"&#"+W.charCodeAt()+";"}u(c,j),u(c,j.prototype);function te(W,X){if(X(W))return!0;if(W=W.firstChild)do if(te(W,X))return!0;while(W=W.nextSibling)}function re(){this.ownerDocument=this}function de(W,X,ue){W&&W._inc++;var Ee=ue.namespaceURI;Ee===r.XMLNS&&(X._nsMap[ue.prefix?ue.localName:""]=ue.value)}function Oe(W,X,ue,Ee){W&&W._inc++;var it=ue.namespaceURI;it===r.XMLNS&&delete X._nsMap[ue.prefix?ue.localName:""]}function he(W,X,ue){if(W&&W._inc){W._inc++;var Ee=X.childNodes;if(ue)Ee[Ee.length++]=ue;else{for(var it=X.firstChild,At=0;it;)Ee[At++]=it,it=it.nextSibling;Ee.length=At,delete Ee[Ee.length]}}}function le(W,X){var ue=X.previousSibling,Ee=X.nextSibling;return ue?ue.nextSibling=Ee:W.firstChild=Ee,Ee?Ee.previousSibling=ue:W.lastChild=ue,X.parentNode=null,X.previousSibling=null,X.nextSibling=null,he(W.ownerDocument,W),X}function pe(W){return W&&(W.nodeType===j.DOCUMENT_NODE||W.nodeType===j.DOCUMENT_FRAGMENT_NODE||W.nodeType===j.ELEMENT_NODE)}function xe(W){return W&&(q(W)||J(W)||be(W)||W.nodeType===j.DOCUMENT_FRAGMENT_NODE||W.nodeType===j.COMMENT_NODE||W.nodeType===j.PROCESSING_INSTRUCTION_NODE)}function be(W){return W&&W.nodeType===j.DOCUMENT_TYPE_NODE}function q(W){return W&&W.nodeType===j.ELEMENT_NODE}function J(W){return W&&W.nodeType===j.TEXT_NODE}function se(W,X){var ue=W.childNodes||[];if(e(ue,q)||be(X))return!1;var Ee=e(ue,be);return!(X&&Ee&&ue.indexOf(Ee)>ue.indexOf(X))}function ve(W,X){var ue=W.childNodes||[];function Ee(At){return q(At)&&At!==X}if(e(ue,Ee))return!1;var it=e(ue,be);return!(X&&it&&ue.indexOf(it)>ue.indexOf(X))}function _e(W,X,ue){if(!pe(W))throw new F(S,"Unexpected parent node type "+W.nodeType);if(ue&&ue.parentNode!==W)throw new F(T,"child not in parent");if(!xe(X)||be(X)&&W.nodeType!==j.DOCUMENT_NODE)throw new F(S,"Unexpected node type "+X.nodeType+" for parent node type "+W.nodeType)}function we(W,X,ue){var Ee=W.childNodes||[],it=X.childNodes||[];if(X.nodeType===j.DOCUMENT_FRAGMENT_NODE){var At=it.filter(q);if(At.length>1||e(it,J))throw new F(S,"More than one element or text in fragment");if(At.length===1&&!se(W,ue))throw new F(S,"Element in fragment can not be inserted before doctype")}if(q(X)&&!se(W,ue))throw new F(S,"Only one element can be added and only after doctype");if(be(X)){if(e(Ee,be))throw new F(S,"Only one doctype is allowed");var Dr=e(Ee,q);if(ue&&Ee.indexOf(Dr)<Ee.indexOf(ue))throw new F(S,"Doctype can only be inserted before an element");if(!ue&&Dr)throw new F(S,"Doctype can not be appended since element is present")}}function He(W,X,ue){var Ee=W.childNodes||[],it=X.childNodes||[];if(X.nodeType===j.DOCUMENT_FRAGMENT_NODE){var At=it.filter(q);if(At.length>1||e(it,J))throw new F(S,"More than one element or text in fragment");if(At.length===1&&!ve(W,ue))throw new F(S,"Element in fragment can not be inserted before doctype")}if(q(X)&&!ve(W,ue))throw new F(S,"Only one element can be added and only after doctype");if(be(X)){if(e(Ee,function(ba){return be(ba)&&ba!==ue}))throw new F(S,"Only one doctype is allowed");var Dr=e(Ee,q);if(ue&&Ee.indexOf(Dr)<Ee.indexOf(ue))throw new F(S,"Doctype can only be inserted before an element")}}function ze(W,X,ue,Ee){_e(W,X,ue),W.nodeType===j.DOCUMENT_NODE&&(Ee||we)(W,X,ue);var it=X.parentNode;if(it&&it.removeChild(X),X.nodeType===b){var At=X.firstChild;if(At==null)return X;var Dr=X.lastChild}else At=Dr=X;var rn=ue?ue.previousSibling:W.lastChild;At.previousSibling=rn,Dr.nextSibling=ue,rn?rn.nextSibling=At:W.firstChild=At,ue==null?W.lastChild=Dr:ue.previousSibling=Dr;do At.parentNode=W;while(At!==Dr&&(At=At.nextSibling));return he(W.ownerDocument||W,W),X.nodeType==b&&(X.firstChild=X.lastChild=null),X}function Me(W,X){return X.parentNode&&X.parentNode.removeChild(X),X.parentNode=W,X.previousSibling=W.lastChild,X.nextSibling=null,X.previousSibling?X.previousSibling.nextSibling=X:W.firstChild=X,W.lastChild=X,he(W.ownerDocument,W,X),X}re.prototype={nodeName:"#document",nodeType:_,doctype:null,documentElement:null,_inc:1,insertBefore:function(W,X){if(W.nodeType==b){for(var ue=W.firstChild;ue;){var Ee=ue.nextSibling;this.insertBefore(ue,X),ue=Ee}return W}return ze(this,W,X),W.ownerDocument=this,this.documentElement===null&&W.nodeType===h&&(this.documentElement=W),W},removeChild:function(W){return this.documentElement==W&&(this.documentElement=null),le(this,W)},replaceChild:function(W,X){ze(this,W,X,He),W.ownerDocument=this,X&&this.removeChild(X),q(W)&&(this.documentElement=W)},importNode:function(W,X){return e0(this,W,X)},getElementById:function(W){var X=null;return te(this.documentElement,function(ue){if(ue.nodeType==h&&ue.getAttribute("id")==W)return X=ue,!0}),X},getElementsByClassName:function(W){var X=s(W);return new O(this,function(ue){var Ee=[];return X.length>0&&te(ue.documentElement,function(it){if(it!==ue&&it.nodeType===h){var At=it.getAttribute("class");if(At){var Dr=W===At;if(!Dr){var rn=s(At);Dr=X.every(o(rn))}Dr&&Ee.push(it)}}}),Ee})},createElement:function(W){var X=new Se;X.ownerDocument=this,X.nodeName=W,X.tagName=W,X.localName=W,X.childNodes=new B;var ue=X.attributes=new R;return ue._ownerElement=X,X},createDocumentFragment:function(){var W=new $r;return W.ownerDocument=this,W.childNodes=new B,W},createTextNode:function(W){var X=new ct;return X.ownerDocument=this,X.appendData(W),X},createComment:function(W){var X=new yt;return X.ownerDocument=this,X.appendData(W),X},createCDATASection:function(W){var X=new Bt;return X.ownerDocument=this,X.appendData(W),X},createProcessingInstruction:function(W,X){var ue=new Ot;return ue.ownerDocument=this,ue.tagName=ue.nodeName=ue.target=W,ue.nodeValue=ue.data=X,ue},createAttribute:function(W){var X=new Ze;return X.ownerDocument=this,X.name=W,X.nodeName=W,X.localName=W,X.specified=!0,X},createEntityReference:function(W){var X=new Kr;return X.ownerDocument=this,X.nodeName=W,X},createElementNS:function(W,X){var ue=new Se,Ee=X.split(":"),it=ue.attributes=new R;return ue.childNodes=new B,ue.ownerDocument=this,ue.nodeName=X,ue.tagName=X,ue.namespaceURI=W,Ee.length==2?(ue.prefix=Ee[0],ue.localName=Ee[1]):ue.localName=X,it._ownerElement=ue,ue},createAttributeNS:function(W,X){var ue=new Ze,Ee=X.split(":");return ue.ownerDocument=this,ue.nodeName=X,ue.name=X,ue.namespaceURI=W,ue.specified=!0,Ee.length==2?(ue.prefix=Ee[0],ue.localName=Ee[1]):ue.localName=X,ue}},l(re,j);function Se(){this._nsMap={}}Se.prototype={nodeType:h,hasAttribute:function(W){return this.getAttributeNode(W)!=null},getAttribute:function(W){var X=this.getAttributeNode(W);return X&&X.value||""},getAttributeNode:function(W){return this.attributes.getNamedItem(W)},setAttribute:function(W,X){var ue=this.ownerDocument.createAttribute(W);ue.value=ue.nodeValue=""+X,this.setAttributeNode(ue)},removeAttribute:function(W){var X=this.getAttributeNode(W);X&&this.removeAttributeNode(X)},appendChild:function(W){return W.nodeType===b?this.insertBefore(W,null):Me(this,W)},setAttributeNode:function(W){return this.attributes.setNamedItem(W)},setAttributeNodeNS:function(W){return this.attributes.setNamedItemNS(W)},removeAttributeNode:function(W){return this.attributes.removeNamedItem(W.nodeName)},removeAttributeNS:function(W,X){var ue=this.getAttributeNodeNS(W,X);ue&&this.removeAttributeNode(ue)},hasAttributeNS:function(W,X){return this.getAttributeNodeNS(W,X)!=null},getAttributeNS:function(W,X){var ue=this.getAttributeNodeNS(W,X);return ue&&ue.value||""},setAttributeNS:function(W,X,ue){var Ee=this.ownerDocument.createAttributeNS(W,X);Ee.value=Ee.nodeValue=""+ue,this.setAttributeNode(Ee)},getAttributeNodeNS:function(W,X){return this.attributes.getNamedItemNS(W,X)},getElementsByTagName:function(W){return new O(this,function(X){var ue=[];return te(X,function(Ee){Ee!==X&&Ee.nodeType==h&&(W==="*"||Ee.tagName==W)&&ue.push(Ee)}),ue})},getElementsByTagNameNS:function(W,X){return new O(this,function(ue){var Ee=[];return te(ue,function(it){it!==ue&&it.nodeType===h&&(W==="*"||it.namespaceURI===W)&&(X==="*"||it.localName==X)&&Ee.push(it)}),Ee})}},re.prototype.getElementsByTagName=Se.prototype.getElementsByTagName,re.prototype.getElementsByTagNameNS=Se.prototype.getElementsByTagNameNS,l(Se,j);function Ze(){}Ze.prototype.nodeType=f,l(Ze,j);function $e(){}$e.prototype={data:"",substringData:function(W,X){return this.data.substring(W,W+X)},appendData:function(W){W=this.data+W,this.nodeValue=this.data=W,this.length=W.length},insertData:function(W,X){this.replaceData(W,0,X)},appendChild:function(W){throw new Error(A[S])},deleteData:function(W,X){this.replaceData(W,X,"")},replaceData:function(W,X,ue){var Ee=this.data.substring(0,W),it=this.data.substring(W+X);ue=Ee+ue+it,this.nodeValue=this.data=ue,this.length=ue.length}},l($e,j);function ct(){}ct.prototype={nodeName:"#text",nodeType:d,splitText:function(W){var X=this.data,ue=X.substring(W);X=X.substring(0,W),this.data=this.nodeValue=X,this.length=X.length;var Ee=this.ownerDocument.createTextNode(ue);return this.parentNode&&this.parentNode.insertBefore(Ee,this.nextSibling),Ee}},l(ct,$e);function yt(){}yt.prototype={nodeName:"#comment",nodeType:y},l(yt,$e);function Bt(){}Bt.prototype={nodeName:"#cdata-section",nodeType:p},l(Bt,$e);function Vt(){}Vt.prototype.nodeType=x,l(Vt,j);function tr(){}tr.prototype.nodeType=C,l(tr,j);function ci(){}ci.prototype.nodeType=v,l(ci,j);function Kr(){}Kr.prototype.nodeType=g,l(Kr,j);function $r(){}$r.prototype.nodeName="#document-fragment",$r.prototype.nodeType=b,l($r,j);function Ot(){}Ot.prototype.nodeType=m,l(Ot,j);function as(){}as.prototype.serializeToString=function(W,X,ue){return Ha.call(W,X,ue)},j.prototype.toString=Ha;function Ha(W,X){var ue=[],Ee=this.nodeType==9&&this.documentElement||this,it=Ee.prefix,At=Ee.namespaceURI;if(At&&it==null){var it=Ee.lookupPrefix(At);if(it==null)var Dr=[{namespace:At,prefix:null}]}return Ga(this,ue,W,X,Dr),ue.join("")}function xi(W,X,ue){var Ee=W.prefix||"",it=W.namespaceURI;if(!it||Ee==="xml"&&it===r.XML||it===r.XMLNS)return!1;for(var At=ue.length;At--;){var Dr=ue[At];if(Dr.prefix===Ee)return Dr.namespace!==it}return!0}function tn(W,X,ue){W.push(" ",X,'="',ue.replace(/[<>&"\t\n\r]/g,Y),'"')}function Ga(W,X,ue,Ee,it){if(it||(it=[]),Ee)if(W=Ee(W),W){if(typeof W=="string"){X.push(W);return}}else return;switch(W.nodeType){case h:var At=W.attributes,Dr=At.length,bi=W.firstChild,rn=W.tagName;ue=r.isHTML(W.namespaceURI)||ue;var ba=rn;if(!ue&&!W.prefix&&W.namespaceURI){for(var ss,Ca=0;Ca<At.length;Ca++)if(At.item(Ca).name==="xmlns"){ss=At.item(Ca).value;break}if(!ss)for(var Jr=it.length-1;Jr>=0;Jr--){var Ii=it[Jr];if(Ii.prefix===""&&Ii.namespace===W.namespaceURI){ss=Ii.namespace;break}}if(ss!==W.namespaceURI)for(var Jr=it.length-1;Jr>=0;Jr--){var Ii=it[Jr];if(Ii.namespace===W.namespaceURI){Ii.prefix&&(ba=Ii.prefix+":"+rn);break}}}X.push("<",ba);for(var jn=0;jn<Dr;jn++){var Pr=At.item(jn);Pr.prefix=="xmlns"?it.push({prefix:Pr.localName,namespace:Pr.value}):Pr.nodeName=="xmlns"&&it.push({prefix:"",namespace:Pr.value})}for(var jn=0;jn<Dr;jn++){var Pr=At.item(jn);if(xi(Pr,ue,it)){var Du=Pr.prefix||"",i0=Pr.namespaceURI;tn(X,Du?"xmlns:"+Du:"xmlns",i0),it.push({prefix:Du,namespace:i0})}Ga(Pr,X,ue,Ee,it)}if(rn===ba&&xi(W,ue,it)){var Du=W.prefix||"",i0=W.namespaceURI;tn(X,Du?"xmlns:"+Du:"xmlns",i0),it.push({prefix:Du,namespace:i0})}if(bi||ue&&!/^(?:meta|link|img|br|hr|input)$/i.test(rn)){if(X.push(">"),ue&&/^script$/i.test(rn))for(;bi;)bi.data?X.push(bi.data):Ga(bi,X,ue,Ee,it.slice()),bi=bi.nextSibling;else for(;bi;)Ga(bi,X,ue,Ee,it.slice()),bi=bi.nextSibling;X.push("</",ba,">")}else X.push("/>");return;case _:case b:for(var bi=W.firstChild;bi;)Ga(bi,X,ue,Ee,it.slice()),bi=bi.nextSibling;return;case f:return tn(X,W.name,W.value);case d:return X.push(W.data.replace(/[<&>]/g,Y));case p:return X.push("<![CDATA[",W.data,"]]>");case y:return X.push("<!--",W.data,"-->");case x:var os=W.publicId,Ws=W.systemId;if(X.push("<!DOCTYPE ",W.name),os)X.push(" PUBLIC ",os),Ws&&Ws!="."&&X.push(" ",Ws),X.push(">");else if(Ws&&Ws!=".")X.push(" SYSTEM ",Ws,">");else{var xr=W.internalSubset;xr&&X.push(" [",xr,"]"),X.push(">")}return;case m:return X.push("<?",W.target," ",W.data,"?>");case g:return X.push("&",W.nodeName,";");default:X.push("??",W.nodeName)}}function e0(W,X,ue){var Ee;switch(X.nodeType){case h:Ee=X.cloneNode(!1),Ee.ownerDocument=W;case b:break;case f:ue=!0;break}if(Ee||(Ee=X.cloneNode(!1)),Ee.ownerDocument=W,Ee.parentNode=null,ue)for(var it=X.firstChild;it;)Ee.appendChild(e0(W,it,ue)),it=it.nextSibling;return Ee}function t0(W,X,ue){var Ee=new X.constructor;for(var it in X)if(Object.prototype.hasOwnProperty.call(X,it)){var At=X[it];typeof At!="object"&&At!=Ee[it]&&(Ee[it]=At)}switch(X.childNodes&&(Ee.childNodes=new B),Ee.ownerDocument=W,Ee.nodeType){case h:var Dr=X.attributes,rn=Ee.attributes=new R,ba=Dr.length;rn._ownerElement=Ee;for(var ss=0;ss<ba;ss++)Ee.setAttributeNode(t0(W,Dr.item(ss),!0));break;case f:ue=!0}if(ue)for(var Ca=X.firstChild;Ca;)Ee.appendChild(t0(W,Ca,ue)),Ca=Ca.nextSibling;return Ee}function r0(W,X,ue){W[X]=ue}try{if(Object.defineProperty){let W=function(X){switch(X.nodeType){case h:case b:var ue=[];for(X=X.firstChild;X;)X.nodeType!==7&&X.nodeType!==8&&ue.push(W(X)),X=X.nextSibling;return ue.join("");default:return X.nodeValue}};Object.defineProperty(O.prototype,"length",{get:function(){return M(this),this.$$length}}),Object.defineProperty(j.prototype,"textContent",{get:function(){return W(this)},set:function(X){switch(this.nodeType){case h:case b:for(;this.firstChild;)this.removeChild(this.firstChild);(X||String(X))&&this.appendChild(this.ownerDocument.createTextNode(X));break;default:this.data=X,this.value=X,this.nodeValue=X}}}),r0=function(X,ue,Ee){X["$$"+ue]=Ee}}}catch{}return Gu.DocumentType=Vt,Gu.DOMException=F,Gu.DOMImplementation=V,Gu.Element=Se,Gu.Node=j,Gu.NodeList=B,Gu.XMLSerializer=as,Gu}var Wv={},JT={},CV;function UGe(){return CV||(CV=1,function(t){var e=fC().freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:`
`,nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"	",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}),t.entityMap=t.HTML_ENTITIES}(JT)),JT}var hx={},EV;function jGe(){if(EV)return hx;EV=1;var t=fC().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),i=new RegExp("^"+e.source+r.source+"*(?::"+e.source+r.source+"*)?$"),n=0,a=1,s=2,o=3,u=4,l=5,c=6,h=7;function f(S,T){this.message=S,this.locator=T,Error.captureStackTrace&&Error.captureStackTrace(this,f)}f.prototype=new Error,f.prototype.name=f.name;function d(){}d.prototype={parse:function(S,T,D){var F=this.domBuilder;F.startDocument(),x(T,T={}),p(S,T,D,F,this.errorHandler),F.endDocument()}};function p(S,T,D,F,B){function O(Se){if(Se>65535){Se-=65536;var Ze=55296+(Se>>10),$e=56320+(Se&1023);return String.fromCharCode(Ze,$e)}else return String.fromCharCode(Se)}function M(Se){var Ze=Se.slice(1,-1);return Object.hasOwnProperty.call(D,Ze)?D[Ze]:Ze.charAt(0)==="#"?O(parseInt(Ze.substr(1).replace("x","0x"))):(B.error("entity not found:"+Se),Se)}function R(Se){if(Se>re){var Ze=S.substring(re,Se).replace(/&#?\w+;/g,M);j&&z(re),F.characters(Ze,0,Se-re),re=Se}}function z(Se,Ze){for(;Se>=U&&(Ze=V.exec(S));)k=Ze.index,U=k+Ze[0].length,j.lineNumber++;j.columnNumber=Se-k+1}for(var k=0,U=0,V=/.*(?:\r\n?|\n)|.*$/g,j=F.locator,Y=[{currentNSMap:T}],te={},re=0;;){try{var de=S.indexOf("<",re);if(de<0){if(!S.substr(re).match(/^\s*$/)){var Oe=F.doc,he=Oe.createTextNode(S.substr(re));Oe.appendChild(he),F.currentElement=he}return}switch(de>re&&R(de),S.charAt(de+1)){case"/":var _e=S.indexOf(">",de+3),le=S.substring(de+2,_e).replace(/[ \t\n\r]+$/g,""),pe=Y.pop();_e<0?(le=S.substring(de+2).replace(/[\s<].*/,""),B.error("end tag name: "+le+" is not complete:"+pe.tagName),_e=de+1+le.length):le.match(/\s</)&&(le=le.replace(/[\s<].*/,""),B.error("end tag name: "+le+" maybe not complete"),_e=de+1+le.length);var xe=pe.localNSMap,be=pe.tagName==le,q=be||pe.tagName&&pe.tagName.toLowerCase()==le.toLowerCase();if(q){if(F.endElement(pe.uri,pe.localName,le),xe)for(var J in xe)Object.prototype.hasOwnProperty.call(xe,J)&&F.endPrefixMapping(J);be||B.fatalError("end tag name: "+le+" is not match the current start tagName:"+pe.tagName)}else Y.push(pe);_e++;break;case"?":j&&z(de),_e=C(S,de,F);break;case"!":j&&z(de),_e=b(S,de,F,B);break;default:j&&z(de);var se=new E,ve=Y[Y.length-1].currentNSMap,_e=v(S,de,se,ve,M,B),we=se.length;if(!se.closed&&_(S,_e,se.tagName,te)&&(se.closed=!0,D.nbsp||B.warning("unclosed xml attribute")),j&&we){for(var He=g(j,{}),ze=0;ze<we;ze++){var Me=se[ze];z(Me.offset),Me.locator=g(j,{})}F.locator=He,m(se,F,ve)&&Y.push(se),F.locator=j}else m(se,F,ve)&&Y.push(se);t.isHTML(se.uri)&&!se.closed?_e=y(S,_e,se.tagName,M,F):_e++}}catch(Se){if(Se instanceof f)throw Se;B.error("element parse error: "+Se),_e=-1}_e>re?re=_e:R(Math.max(de,re)+1)}}function g(S,T){return T.lineNumber=S.lineNumber,T.columnNumber=S.columnNumber,T}function v(S,T,D,F,B,O){function M(j,Y,te){D.attributeNames.hasOwnProperty(j)&&O.fatalError("Attribute "+j+" redefined"),D.addValue(j,Y.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,B),te)}for(var R,z,k=++T,U=n;;){var V=S.charAt(k);switch(V){case"=":if(U===a)R=S.slice(T,k),U=o;else if(U===s)U=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(U===o||U===a)if(U===a&&(O.warning('attribute value must after "="'),R=S.slice(T,k)),T=k+1,k=S.indexOf(V,T),k>0)z=S.slice(T,k),M(R,z,T-1),U=l;else throw new Error("attribute value no end '"+V+"' match");else if(U==u)z=S.slice(T,k),M(R,z,T),O.warning('attribute "'+R+'" missed start quot('+V+")!!"),T=k+1,U=l;else throw new Error('attribute value must after "="');break;case"/":switch(U){case n:D.setTagName(S.slice(T,k));case l:case c:case h:U=h,D.closed=!0;case u:case a:break;case s:D.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return O.error("unexpected end of input"),U==n&&D.setTagName(S.slice(T,k)),k;case">":switch(U){case n:D.setTagName(S.slice(T,k));case l:case c:case h:break;case u:case a:z=S.slice(T,k),z.slice(-1)==="/"&&(D.closed=!0,z=z.slice(0,-1));case s:U===s&&(z=R),U==u?(O.warning('attribute "'+z+'" missed quot(")!'),M(R,z,T)):((!t.isHTML(F[""])||!z.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+z+'" missed value!! "'+z+'" instead!!'),M(z,z,T));break;case o:throw new Error("attribute value missed!!")}return k;case"":V=" ";default:if(V<=" ")switch(U){case n:D.setTagName(S.slice(T,k)),U=c;break;case a:R=S.slice(T,k),U=s;break;case u:var z=S.slice(T,k);O.warning('attribute "'+z+'" missed quot(")!!'),M(R,z,T);case l:U=c;break}else switch(U){case s:D.tagName,(!t.isHTML(F[""])||!R.match(/^(?:disabled|checked|selected)$/i))&&O.warning('attribute "'+R+'" missed value!! "'+R+'" instead2!!'),M(R,R,T),T=k,U=a;break;case l:O.warning('attribute space is required"'+R+'"!!');case c:U=a,T=k;break;case o:U=u,T=k;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}k++}}function m(S,T,D){for(var F=S.tagName,B=null,V=S.length;V--;){var O=S[V],M=O.qName,R=O.value,j=M.indexOf(":");if(j>0)var z=O.prefix=M.slice(0,j),k=M.slice(j+1),U=z==="xmlns"&&k;else k=M,z=null,U=M==="xmlns"&&"";O.localName=k,U!==!1&&(B==null&&(B={},x(D,D={})),D[U]=B[U]=R,O.uri=t.XMLNS,T.startPrefixMapping(U,R))}for(var V=S.length;V--;){O=S[V];var z=O.prefix;z&&(z==="xml"&&(O.uri=t.XML),z!=="xmlns"&&(O.uri=D[z||""]))}var j=F.indexOf(":");j>0?(z=S.prefix=F.slice(0,j),k=S.localName=F.slice(j+1)):(z=null,k=S.localName=F);var Y=S.uri=D[z||""];if(T.startElement(Y,k,F,S),S.closed){if(T.endElement(Y,k,F),B)for(z in B)Object.prototype.hasOwnProperty.call(B,z)&&T.endPrefixMapping(z)}else return S.currentNSMap=D,S.localNSMap=B,!0}function y(S,T,D,F,B){if(/^(?:script|textarea)$/i.test(D)){var O=S.indexOf("</"+D+">",T),M=S.substring(T+1,O);if(/[&<]/.test(M))return/^script$/i.test(D)?(B.characters(M,0,M.length),O):(M=M.replace(/&#?\w+;/g,F),B.characters(M,0,M.length),O)}return T+1}function _(S,T,D,F){var B=F[D];return B==null&&(B=S.lastIndexOf("</"+D+">"),B<T&&(B=S.lastIndexOf("</"+D)),F[D]=B),B<T}function x(S,T){for(var D in S)Object.prototype.hasOwnProperty.call(S,D)&&(T[D]=S[D])}function b(S,T,D,F){var B=S.charAt(T+2);switch(B){case"-":if(S.charAt(T+3)==="-"){var O=S.indexOf("-->",T+4);return O>T?(D.comment(S,T+4,O-T-4),O+3):(F.error("Unclosed comment"),-1)}else return-1;default:if(S.substr(T+3,6)=="CDATA["){var O=S.indexOf("]]>",T+9);return D.startCDATA(),D.characters(S,T+9,O-T-9),D.endCDATA(),O+3}var M=A(S,T),R=M.length;if(R>1&&/!doctype/i.test(M[0][0])){var z=M[1][0],k=!1,U=!1;R>3&&(/^public$/i.test(M[2][0])?(k=M[3][0],U=R>4&&M[4][0]):/^system$/i.test(M[2][0])&&(U=M[3][0]));var V=M[R-1];return D.startDTD(z,k,U),D.endDTD(),V.index+V[0].length}}return-1}function C(S,T,D){var F=S.indexOf("?>",T);if(F){var B=S.substring(T,F).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return B?(B[0].length,D.processingInstruction(B[1],B[2]),F+2):-1}return-1}function E(){this.attributeNames={}}E.prototype={setTagName:function(S){if(!i.test(S))throw new Error("invalid tagName:"+S);this.tagName=S},addValue:function(S,T,D){if(!i.test(S))throw new Error("invalid attribute:"+S);this.attributeNames[S]=this.length,this[this.length++]={qName:S,value:T,offset:D}},length:0,getLocalName:function(S){return this[S].localName},getLocator:function(S){return this[S].locator},getQName:function(S){return this[S].qName},getURI:function(S){return this[S].uri},getValue:function(S){return this[S].value}};function A(S,T){var D,F=[],B=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(B.lastIndex=T,B.exec(S);D=B.exec(S);)if(F.push(D),D[1])return F}return hx.XMLReader=d,hx.ParseError=f,hx}var SV;function VGe(){if(SV)return Wv;SV=1;var t=fC(),e=qie(),r=UGe(),i=jGe(),n=e.DOMImplementation,a=t.NAMESPACE,s=i.ParseError,o=i.XMLReader;function u(v){return v.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function l(v){this.options=v||{locator:{}}}l.prototype.parseFromString=function(v,m){var y=this.options,_=new o,x=y.domBuilder||new h,b=y.errorHandler,C=y.locator,E=y.xmlns||{},A=/\/x?html?$/.test(m),S=A?r.HTML_ENTITIES:r.XML_ENTITIES;C&&x.setDocumentLocator(C),_.errorHandler=c(b,x,C),_.domBuilder=y.domBuilder||x,A&&(E[""]=a.HTML),E.xml=E.xml||a.XML;var T=y.normalizeLineEndings||u;return v&&typeof v=="string"?_.parse(T(v),E,S):_.errorHandler.error("invalid doc source"),x.doc};function c(v,m,y){if(!v){if(m instanceof h)return m;v=m}var _={},x=v instanceof Function;y=y||{};function b(C){var E=v[C];!E&&x&&(E=v.length==2?function(A){v(C,A)}:v),_[C]=E&&function(A){E("[xmldom "+C+"]	"+A+d(y))}||function(){}}return b("warning"),b("error"),b("fatalError"),_}function h(){this.cdata=!1}function f(v,m){m.lineNumber=v.lineNumber,m.columnNumber=v.columnNumber}h.prototype={startDocument:function(){this.doc=new n().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(v,m,y,_){var x=this.doc,b=x.createElementNS(v,y||m),C=_.length;g(this,b),this.currentElement=b,this.locator&&f(this.locator,b);for(var E=0;E<C;E++){var v=_.getURI(E),A=_.getValue(E),y=_.getQName(E),S=x.createAttributeNS(v,y);this.locator&&f(_.getLocator(E),S),S.value=S.nodeValue=A,b.setAttributeNode(S)}},endElement:function(v,m,y){var _=this.currentElement;_.tagName,this.currentElement=_.parentNode},startPrefixMapping:function(v,m){},endPrefixMapping:function(v){},processingInstruction:function(v,m){var y=this.doc.createProcessingInstruction(v,m);this.locator&&f(this.locator,y),g(this,y)},ignorableWhitespace:function(v,m,y){},characters:function(v,m,y){if(v=p.apply(this,arguments),v){if(this.cdata)var _=this.doc.createCDATASection(v);else var _=this.doc.createTextNode(v);this.currentElement?this.currentElement.appendChild(_):/^\s*$/.test(v)&&this.doc.appendChild(_),this.locator&&f(this.locator,_)}},skippedEntity:function(v){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(v){(this.locator=v)&&(v.lineNumber=0)},comment:function(v,m,y){v=p.apply(this,arguments);var _=this.doc.createComment(v);this.locator&&f(this.locator,_),g(this,_)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(v,m,y){var _=this.doc.implementation;if(_&&_.createDocumentType){var x=_.createDocumentType(v,m,y);this.locator&&f(this.locator,x),g(this,x),this.doc.doctype=x}},warning:function(v){console.warn("[xmldom warning]	"+v,d(this.locator))},error:function(v){console.error("[xmldom error]	"+v,d(this.locator))},fatalError:function(v){throw new s(v,this.locator)}};function d(v){if(v)return`
@`+(v.systemId||"")+"#[line:"+v.lineNumber+",col:"+v.columnNumber+"]"}function p(v,m,y){return typeof v=="string"?v.substr(m,y):v.length>=m+y||m?new java.lang.String(v,m,y)+"":v}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(v){h.prototype[v]=function(){return null}});function g(v,m){v.currentElement?v.currentElement.appendChild(m):v.doc.appendChild(m)}return Wv.__DOMHandler=h,Wv.normalizeLineEndings=u,Wv.DOMParser=l,Wv}var TV;function $Ge(){if(TV)return $v;TV=1;var t=qie();return $v.DOMImplementation=t.DOMImplementation,$v.XMLSerializer=t.XMLSerializer,$v.DOMParser=VGe().DOMParser,$v}var WGe=$Ge();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const AV=t=>!!t&&typeof t=="object",hn=(...t)=>t.reduce((e,r)=>(typeof r!="object"||Object.keys(r).forEach(i=>{Array.isArray(e[i])&&Array.isArray(r[i])?e[i]=e[i].concat(r[i]):AV(e[i])&&AV(r[i])?e[i]=hn(e[i],r[i]):e[i]=r[i]}),e),{}),Xie=t=>Object.keys(t).map(e=>t[e]),YGe=(t,e)=>{const r=[];for(let i=t;i<e;i++)r.push(i);return r},jp=t=>t.reduce((e,r)=>e.concat(r),[]),Zie=t=>{if(!t.length)return[];const e=[];for(let r=0;r<t.length;r++)e.push(t[r]);return e},qGe=(t,e)=>t.reduce((r,i,n)=>(i[e]&&r.push(n),r),[]),XGe=(t,e)=>Xie(t.reduce((r,i)=>(i.forEach(n=>{r[e(n)]=n}),r),{}));var Vp={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const um=({baseUrl:t="",source:e="",range:r="",indexRange:i=""})=>{const n={uri:e,resolvedUri:hC(t||"",e)};if(r||i){const s=(r||i).split("-");let o=ne.BigInt?ne.BigInt(s[0]):parseInt(s[0],10),u=ne.BigInt?ne.BigInt(s[1]):parseInt(s[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),u<Number.MAX_SAFE_INTEGER&&typeof u=="bigint"&&(u=Number(u));let l;typeof u=="bigint"||typeof o=="bigint"?l=ne.BigInt(u)-ne.BigInt(o)+ne.BigInt(1):l=u-o+1,typeof l=="bigint"&&l<Number.MAX_SAFE_INTEGER&&(l=Number(l)),n.byterange={length:l,offset:o}}return n},ZGe=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ne.BigInt(t.offset)+ne.BigInt(t.length)-ne.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},wV=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),KGe={static(t){const{duration:e,timescale:r=1,sourceDuration:i,periodDuration:n}=t,a=wV(t.endNumber),s=e/r;return typeof a=="number"?{start:0,end:a}:typeof n=="number"?{start:0,end:n/s}:{start:0,end:i/s}},dynamic(t){const{NOW:e,clientOffset:r,availabilityStartTime:i,timescale:n=1,duration:a,periodStart:s=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:u=1/0}=t,l=wV(t.endNumber),c=(e+r)/1e3,h=i+s,d=c+o-h,p=Math.ceil(d*n/a),g=Math.floor((c-h-u)*n/a),v=Math.floor((c-h)*n/a);return{start:Math.max(0,g),end:typeof l=="number"?l:Math.min(p,v)}}},JGe=t=>e=>{const{duration:r,timescale:i=1,periodStart:n,startNumber:a=1}=t;return{number:a+e,duration:r/i,timeline:n,time:e*r}},wI=t=>{const{type:e,duration:r,timescale:i=1,periodDuration:n,sourceDuration:a}=t,{start:s,end:o}=KGe[e](t),u=YGe(s,o).map(JGe(t));if(e==="static"){const l=u.length-1,c=typeof n=="number"?n:a;u[l].duration=c-r/i*l}return u},Kie=t=>{const{baseUrl:e,initialization:r={},sourceDuration:i,indexRange:n="",periodStart:a,presentationTime:s,number:o=0,duration:u}=t;if(!e)throw new Error(Vp.NO_BASE_URL);const l=um({baseUrl:e,source:r.sourceURL,range:r.range}),c=um({baseUrl:e,source:e,indexRange:n});if(c.map=l,u){const h=wI(t);h.length&&(c.duration=h[0].duration,c.timeline=h[0].timeline)}else i&&(c.duration=i,c.timeline=a);return c.presentationTime=s||a,c.number=o,[c]},DI=(t,e,r)=>{const i=t.sidx.map?t.sidx.map:null,n=t.sidx.duration,a=t.timeline||0,s=t.sidx.byterange,o=s.offset+s.length,u=e.timescale,l=e.references.filter(v=>v.referenceType!==1),c=[],h=t.endList?"static":"dynamic",f=t.sidx.timeline;let d=f,p=t.mediaSequence||0,g;typeof e.firstOffset=="bigint"?g=ne.BigInt(o)+e.firstOffset:g=o+e.firstOffset;for(let v=0;v<l.length;v++){const m=e.references[v],y=m.referencedSize,_=m.subsegmentDuration;let x;typeof g=="bigint"?x=g+ne.BigInt(y)-ne.BigInt(1):x=g+y-1;const b=`${g}-${x}`,E=Kie({baseUrl:r,timescale:u,timeline:a,periodStart:f,presentationTime:d,number:p,duration:_,sourceDuration:n,indexRange:b,type:h})[0];i&&(E.map=i),c.push(E),typeof g=="bigint"?g+=ne.BigInt(y):g+=y,d+=_/u,p++}return t.segments=c,t},QGe=["AUDIO","SUBTITLES"],eUe=1/60,Jie=t=>XGe(t,({timeline:e})=>e).sort((e,r)=>e.timeline>r.timeline?1:-1),tUe=(t,e)=>{for(let r=0;r<t.length;r++)if(t[r].attributes.NAME===e)return t[r];return null},DV=t=>{let e=[];return GGe(t,QGe,(r,i,n,a)=>{e=e.concat(r.playlists||[])}),e},FV=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((r,i)=>{r.number=t.mediaSequence+i})},rUe=({oldPlaylists:t,newPlaylists:e,timelineStarts:r})=>{e.forEach(i=>{i.discontinuitySequence=r.findIndex(function({timeline:u}){return u===i.timeline});const n=tUe(t,i.attributes.NAME);if(!n||i.sidx)return;const a=i.segments[0],s=n.segments.findIndex(function(u){return Math.abs(u.presentationTime-a.presentationTime)<eUe});if(s===-1){FV({playlist:i,mediaSequence:n.mediaSequence+n.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!n.segments.length&&i.timeline>n.timeline||n.segments.length&&i.timeline>n.segments[n.segments.length-1].timeline)&&i.discontinuitySequence--;return}n.segments[s].discontinuity&&!a.discontinuity&&(a.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),FV({playlist:i,mediaSequence:n.segments[s].number})})},iUe=({oldManifest:t,newManifest:e})=>{const r=t.playlists.concat(DV(t)),i=e.playlists.concat(DV(e));return e.timelineStarts=Jie([t.timelineStarts,e.timelineStarts]),rUe({oldPlaylists:r,newPlaylists:i,timelineStarts:e.timelineStarts}),e},dC=t=>t&&t.uri+"-"+ZGe(t.byterange),QT=t=>{const e=t.reduce(function(i,n){return i[n.attributes.baseUrl]||(i[n.attributes.baseUrl]=[]),i[n.attributes.baseUrl].push(n),i},{});let r=[];return Object.values(e).forEach(i=>{const n=Xie(i.reduce((a,s)=>{const o=s.attributes.id+(s.attributes.lang||"");return a[o]?(s.segments&&(s.segments[0]&&(s.segments[0].discontinuity=!0),a[o].segments.push(...s.segments)),s.attributes.contentProtection&&(a[o].attributes.contentProtection=s.attributes.contentProtection)):(a[o]=s,a[o].attributes.timelineStarts=[]),a[o].attributes.timelineStarts.push({start:s.attributes.periodStart,timeline:s.attributes.periodStart}),a},{}));r=r.concat(n)}),r.map(i=>(i.discontinuityStarts=qGe(i.segments||[],"discontinuity"),i))},FI=(t,e)=>{const r=dC(t.sidx),i=r&&e[r]&&e[r].sidx;return i&&DI(t,i,t.sidx.resolvedUri),t},nUe=(t,e={})=>{if(!Object.keys(e).length)return t;for(const r in t)t[r]=FI(t[r],e);return t},aUe=({attributes:t,segments:e,sidx:r,mediaSequence:i,discontinuitySequence:n,discontinuityStarts:a},s)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:n,discontinuityStarts:a,timelineStarts:t.timelineStarts,mediaSequence:i,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),r&&(o.sidx=r),s&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},sUe=({attributes:t,segments:e,mediaSequence:r,discontinuityStarts:i,discontinuitySequence:n})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const a={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(a.CODECS=t.codecs);const s={attributes:a,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:n,mediaSequence:r,segments:e};return t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),s},oUe=(t,e={},r=!1)=>{let i;const n=t.reduce((a,s)=>{const o=s.attributes.role&&s.attributes.role.value||"",u=s.attributes.lang||"";let l=s.attributes.label||"main";if(u&&!s.attributes.label){const h=o?` (${o})`:"";l=`${s.attributes.lang}${h}`}a[l]||(a[l]={language:u,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=FI(aUe(s,r),e);return a[l].playlists.push(c),typeof i>"u"&&o==="main"&&(i=s,i.default=!0),a},{});if(!i){const a=Object.keys(n)[0];n[a].default=!0}return n},uUe=(t,e={})=>t.reduce((r,i)=>{const n=i.attributes.label||i.attributes.lang||"text",a=i.attributes.lang||"und";return r[n]||(r[n]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),r[n].playlists.push(FI(sUe(i),e)),r},{}),lUe=t=>t.reduce((e,r)=>(r&&r.forEach(i=>{const{channel:n,language:a}=i;e[a]={autoselect:!1,default:!1,instreamId:n,language:a},i.hasOwnProperty("aspectRatio")&&(e[a].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[a].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[a]["3D"]=i["3D"])}),e),{}),cUe=({attributes:t,segments:e,sidx:r,discontinuityStarts:i})=>{const n={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(n.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(n.contentProtection=t.contentProtection),t.serviceLocation&&(n.attributes.serviceLocation=t.serviceLocation),r&&(n.sidx=r),n},hUe=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",fUe=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",dUe=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",pUe=(t,e)=>{t.forEach(r=>{r.mediaSequence=0,r.discontinuitySequence=e.findIndex(function({timeline:i}){return i===r.timeline}),r.segments&&r.segments.forEach((i,n)=>{i.number=n})})},IV=t=>t?Object.keys(t).reduce((e,r)=>{const i=t[r];return e.concat(i.playlists)},[]):[],gUe=({dashPlaylists:t,locations:e,contentSteering:r,sidxMapping:i={},previousManifest:n,eventStream:a})=>{if(!t.length)return{};const{sourceDuration:s,type:o,suggestedPresentationDelay:u,minimumUpdatePeriod:l}=t[0].attributes,c=QT(t.filter(hUe)).map(cUe),h=QT(t.filter(fUe)),f=QT(t.filter(dUe)),d=t.map(x=>x.attributes.captionServices).filter(Boolean),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:nUe(c,i)};l>=0&&(p.minimumUpdatePeriod=l*1e3),e&&(p.locations=e),r&&(p.contentSteering=r),o==="dynamic"&&(p.suggestedPresentationDelay=u),a&&a.length>0&&(p.eventStream=a);const g=p.playlists.length===0,v=h.length?oUe(h,i,g):null,m=f.length?uUe(f,i):null,y=c.concat(IV(v),IV(m)),_=y.map(({timelineStarts:x})=>x);return p.timelineStarts=Jie(_),pUe(y,p.timelineStarts),v&&(p.mediaGroups.AUDIO.audio=v),m&&(p.mediaGroups.SUBTITLES.subs=m),d.length&&(p.mediaGroups["CLOSED-CAPTIONS"].cc=lUe(d)),n?iUe({oldManifest:n,newManifest:p}):p},vUe=(t,e,r)=>{const{NOW:i,clientOffset:n,availabilityStartTime:a,timescale:s=1,periodStart:o=0,minimumUpdatePeriod:u=0}=t,l=(i+n)/1e3,c=a+o,f=l+u-c;return Math.ceil((f*s-e)/r)},Qie=(t,e)=>{const{type:r,minimumUpdatePeriod:i=0,media:n="",sourceDuration:a,timescale:s=1,startNumber:o=1,periodStart:u}=t,l=[];let c=-1;for(let h=0;h<e.length;h++){const f=e[h],d=f.d,p=f.r||0,g=f.t||0;c<0&&(c=g),g&&g>c&&(c=g);let v;if(p<0){const _=h+1;_===e.length?r==="dynamic"&&i>0&&n.indexOf("$Number$")>0?v=vUe(t,c,d):v=(a*s-c)/d:v=(e[_].t-c)/d}else v=p+1;const m=o+l.length+v;let y=o+l.length;for(;y<m;)l.push({number:y,duration:d/s,time:c,timeline:u}),c+=d,y++}return l},mUe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,yUe=t=>(e,r,i,n)=>{if(e==="$$")return"$";if(typeof t[r]>"u")return e;const a=""+t[r];return r==="RepresentationID"||(i?n=parseInt(n,10):n=1,a.length>=n)?a:`${new Array(n-a.length+1).join("0")}${a}`},BV=(t,e)=>t.replace(mUe,yUe(e)),_Ue=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?wI(t):Qie(t,e),xUe=(t,e)=>{const r={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=t,n=um({baseUrl:t.baseUrl,source:BV(i.sourceURL,r),range:i.range});return _Ue(t,e).map(s=>{r.Number=s.number,r.Time=s.time;const o=BV(t.media||"",r),u=t.timescale||1,l=t.presentationTimeOffset||0,c=t.periodStart+(s.time-l)/u;return{uri:o,timeline:s.timeline,duration:s.duration,resolvedUri:hC(t.baseUrl||"",o),map:n,number:s.number,presentationTime:c}})},bUe=(t,e)=>{const{baseUrl:r,initialization:i={}}=t,n=um({baseUrl:r,source:i.sourceURL,range:i.range}),a=um({baseUrl:r,source:e.media,range:e.mediaRange});return a.map=n,a},CUe=(t,e)=>{const{duration:r,segmentUrls:i=[],periodStart:n}=t;if(!r&&!e||r&&e)throw new Error(Vp.SEGMENT_TIME_UNSPECIFIED);const a=i.map(u=>bUe(t,u));let s;return r&&(s=wI(t)),e&&(s=Qie(t,e)),s.map((u,l)=>{if(a[l]){const c=a[l],h=t.timescale||1,f=t.presentationTimeOffset||0;return c.timeline=u.timeline,c.duration=u.duration,c.number=u.number,c.presentationTime=n+(u.time-f)/h,c}}).filter(u=>u)},EUe=({attributes:t,segmentInfo:e})=>{let r,i;e.template?(i=xUe,r=hn(t,e.template)):e.base?(i=Kie,r=hn(t,e.base)):e.list&&(i=CUe,r=hn(t,e.list));const n={attributes:t};if(!i)return n;const a=i(r,e.segmentTimeline);if(r.duration){const{duration:s,timescale:o=1}=r;r.duration=s/o}else a.length?r.duration=a.reduce((s,o)=>Math.max(s,Math.ceil(o.duration)),0):r.duration=0;return n.attributes=r,n.segments=a,e.base&&r.indexRange&&(n.sidx=a[0],n.segments=[]),n},SUe=t=>t.map(EUe),ni=(t,e)=>Zie(t.childNodes).filter(({tagName:r})=>r===e),Zm=t=>t.textContent.trim(),TUe=t=>parseFloat(t.split("/").reduce((e,r)=>e/r)),gd=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[u,l,c,h,f,d]=o.slice(1);return parseFloat(u||0)*31536e3+parseFloat(l||0)*2592e3+parseFloat(c||0)*86400+parseFloat(h||0)*3600+parseFloat(f||0)*60+parseFloat(d||0)},AUe=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),MV={mediaPresentationDuration(t){return gd(t)},availabilityStartTime(t){return AUe(t)/1e3},minimumUpdatePeriod(t){return gd(t)},suggestedPresentationDelay(t){return gd(t)},type(t){return t},timeShiftBufferDepth(t){return gd(t)},start(t){return gd(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return TUe(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?gd(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Pi=t=>t&&t.attributes?Zie(t.attributes).reduce((e,r)=>{const i=MV[r.name]||MV.DEFAULT;return e[r.name]=i(r.value),e},{}):{},wUe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},pC=(t,e)=>e.length?jp(t.map(function(r){return e.map(function(i){const n=Zm(i),a=hC(r.baseUrl,n),s=hn(Pi(i),{baseUrl:a});return a!==n&&!s.serviceLocation&&r.serviceLocation&&(s.serviceLocation=r.serviceLocation),s})})):t,II=t=>{const e=ni(t,"SegmentTemplate")[0],r=ni(t,"SegmentList")[0],i=r&&ni(r,"SegmentURL").map(h=>hn({tag:"SegmentURL"},Pi(h))),n=ni(t,"SegmentBase")[0],a=r||e,s=a&&ni(a,"SegmentTimeline")[0],o=r||n||e,u=o&&ni(o,"Initialization")[0],l=e&&Pi(e);l&&u?l.initialization=u&&Pi(u):l&&l.initialization&&(l.initialization={sourceURL:l.initialization});const c={template:l,segmentTimeline:s&&ni(s,"S").map(h=>Pi(h)),list:r&&hn(Pi(r),{segmentUrls:i,initialization:Pi(u)}),base:n&&hn(Pi(n),{initialization:Pi(u)})};return Object.keys(c).forEach(h=>{c[h]||delete c[h]}),c},DUe=(t,e,r)=>i=>{const n=ni(i,"BaseURL"),a=pC(e,n),s=hn(t,Pi(i)),o=II(i);return a.map(u=>({segmentInfo:hn(r,o),attributes:hn(s,u)}))},FUe=t=>t.reduce((e,r)=>{const i=Pi(r);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const n=wUe[i.schemeIdUri];if(n){e[n]={attributes:i};const a=ni(r,"cenc:pssh")[0];if(a){const s=Zm(a);e[n].pssh=s&&Uie(s)}}return e},{}),IUe=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{let i,n;return n=r,/^CC\d=/.test(r)?[i,n]=r.split("="):/^CC\d$/.test(r)&&(i=r),{channel:i,language:n}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(r=>{const i={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(r)){const[n,a=""]=r.split("=");i.channel=n,i.language=r,a.split(",").forEach(s=>{const[o,u]=s.split(":");o==="lang"?i.language=u:o==="er"?i.easyReader=Number(u):o==="war"?i.aspectRatio=Number(u):o==="3D"&&(i["3D"]=Number(u))})}else i.language=r;return i.channel&&(i.channel="SERVICE"+i.channel),i})},BUe=t=>jp(ni(t.node,"EventStream").map(e=>{const r=Pi(e),i=r.schemeIdUri;return ni(e,"Event").map(n=>{const a=Pi(n),s=a.presentationTime||0,o=r.timescale||1,u=a.duration||0,l=s/o+t.attributes.start;return{schemeIdUri:i,value:r.value,id:a.id,start:l,end:l+u/o,messageData:Zm(n)||a.messageData,contentEncoding:r.contentEncoding,presentationTimeOffset:r.presentationTimeOffset||0}})})),MUe=(t,e,r)=>i=>{const n=Pi(i),a=pC(e,ni(i,"BaseURL")),s=ni(i,"Role")[0],o={role:Pi(s)};let u=hn(t,n,o);const l=ni(i,"Accessibility")[0],c=IUe(Pi(l));c&&(u=hn(u,{captionServices:c}));const h=ni(i,"Label")[0];if(h&&h.childNodes.length){const v=h.childNodes[0].nodeValue.trim();u=hn(u,{label:v})}const f=FUe(ni(i,"ContentProtection"));Object.keys(f).length&&(u=hn(u,{contentProtection:f}));const d=II(i),p=ni(i,"Representation"),g=hn(r,d);return jp(p.map(DUe(u,a,g)))},PUe=(t,e)=>(r,i)=>{const n=pC(e,ni(r.node,"BaseURL")),a=hn(t,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(a.periodDuration=r.attributes.duration);const s=ni(r.node,"AdaptationSet"),o=II(r.node);return jp(s.map(MUe(a,n,o)))},LUe=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const r=hn({serverURL:Zm(t[0])},Pi(t[0]));return r.queryBeforeStart=r.queryBeforeStart==="true",r},OUe=({attributes:t,priorPeriodAttributes:e,mpdType:r})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&r==="static"?0:null,RUe=(t,e={})=>{const{manifestUri:r="",NOW:i=Date.now(),clientOffset:n=0,eventHandler:a=function(){}}=e,s=ni(t,"Period");if(!s.length)throw new Error(Vp.INVALID_NUMBER_OF_PERIOD);const o=ni(t,"Location"),u=Pi(t),l=pC([{baseUrl:r}],ni(t,"BaseURL")),c=ni(t,"ContentSteering");u.type=u.type||"static",u.sourceDuration=u.mediaPresentationDuration||0,u.NOW=i,u.clientOffset=n,o.length&&(u.locations=o.map(Zm));const h=[];return s.forEach((f,d)=>{const p=Pi(f),g=h[d-1];p.start=OUe({attributes:p,priorPeriodAttributes:g?g.attributes:null,mpdType:u.type}),h.push({node:f,attributes:p})}),{locations:u.locations,contentSteeringInfo:LUe(c,a),representationInfo:jp(h.map(PUe(u,l))),eventStream:jp(h.map(BUe))}},ene=t=>{if(t==="")throw new Error(Vp.DASH_EMPTY_MANIFEST);const e=new WGe.DOMParser;let r,i;try{r=e.parseFromString(t,"application/xml"),i=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(Vp.DASH_INVALID_XML);return i},NUe=t=>{const e=ni(t,"UTCTiming")[0];if(!e)return null;const r=Pi(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Vp.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},kUe=(t,e={})=>{const r=RUe(ene(t),e),i=SUe(r.representationInfo);return gUe({dashPlaylists:i,locations:r.locations,contentSteering:r.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:r.eventStream})},zUe=t=>NUe(ene(t));var eA,PV;function HUe(){if(PV)return eA;PV=1;var t=Math.pow(2,32),e=function(r){var i=new DataView(r.buffer,r.byteOffset,r.byteLength),n;return i.getBigUint64?(n=i.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):i.getUint32(0)*t+i.getUint32(4)};return eA={getUint64:e,MAX_UINT32:t},eA}var tA,LV;function GUe(){if(LV)return tA;LV=1;var t=HUe().getUint64,e=function(r){var i=new DataView(r.buffer,r.byteOffset,r.byteLength),n={version:r[0],flags:new Uint8Array(r.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8)},a=12;n.version===0?(n.earliestPresentationTime=i.getUint32(a),n.firstOffset=i.getUint32(a+4),a+=8):(n.earliestPresentationTime=t(r.subarray(a)),n.firstOffset=t(r.subarray(a+8)),a+=16),a+=2;var s=i.getUint16(a);for(a+=2;s>0;a+=12,s--)n.references.push({referenceType:(r[a]&128)>>>7,referencedSize:i.getUint32(a)&2147483647,subsegmentDuration:i.getUint32(a+4),startsWithSap:!!(r[a+8]&128),sapType:(r[a+8]&112)>>>4,sapDeltaTime:i.getUint32(a+8)&268435455});return n};return tA=e,tA}var UUe=GUe();const jUe=gf(UUe);var VUe=St([73,68,51]),$Ue=function(e,r){r===void 0&&(r=0),e=St(e);var i=e[r+5],n=e[r+6]<<21|e[r+7]<<14|e[r+8]<<7|e[r+9],a=(i&16)>>4;return a?n+20:n+10},v1=function t(e,r){return r===void 0&&(r=0),e=St(e),e.length-r<10||!ii(e,VUe,{offset:r})?r:(r+=$Ue(e,r),t(e,r))},OV=function(e){return typeof e=="string"?Yie(e):e},WUe=function(e){return Array.isArray(e)?e.map(function(r){return OV(r)}):[OV(e)]},YUe=function t(e,r,i){i===void 0&&(i=!1),r=WUe(r),e=St(e);var n=[];if(!r.length)return n;for(var a=0;a<e.length;){var s=(e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3])>>>0,o=e.subarray(a+4,a+8);if(s===0)break;var u=a+s;if(u>e.length){if(i)break;u=e.length}var l=e.subarray(a+8,u);ii(o,r[0])&&(r.length===1?n.push(l):n.push.apply(n,t(l,r.slice(1),i))),a=u}return n},fx={EBML:St([26,69,223,163]),DocType:St([66,130]),Segment:St([24,83,128,103]),SegmentInfo:St([21,73,169,102]),Tracks:St([22,84,174,107]),Track:St([174]),TrackNumber:St([215]),DefaultDuration:St([35,227,131]),TrackEntry:St([174]),TrackType:St([131]),FlagDefault:St([136]),CodecID:St([134]),CodecPrivate:St([99,162]),VideoTrack:St([224]),AudioTrack:St([225]),Cluster:St([31,67,182,117]),Timestamp:St([231]),TimestampScale:St([42,215,177]),BlockGroup:St([160]),BlockDuration:St([155]),Block:St([161]),SimpleBlock:St([163])},_D=[128,64,32,16,8,4,2,1],qUe=function(e){for(var r=1,i=0;i<_D.length&&!(e&_D[i]);i++)r++;return r},E4=function(e,r,i,n){i===void 0&&(i=!0),n===void 0&&(n=!1);var a=qUe(e[r]),s=e.subarray(r,r+a);return i&&(s=Array.prototype.slice.call(e,r,r+a),s[0]^=_D[a-1]),{length:a,value:kGe(s,{signed:n}),bytes:s}},RV=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(r){return t(r)}):typeof e=="number"?zGe(e):e},XUe=function(e){return Array.isArray(e)?e.map(function(r){return RV(r)}):[RV(e)]},ZUe=function t(e,r,i){if(i>=r.length)return r.length;var n=E4(r,i,!1);if(ii(e.bytes,n.bytes))return i;var a=E4(r,i+n.length);return t(e,r,i+a.length+a.value+n.length)},NV=function t(e,r){r=XUe(r),e=St(e);var i=[];if(!r.length)return i;for(var n=0;n<e.length;){var a=E4(e,n,!1),s=E4(e,n+a.length),o=n+a.length+s.length;s.value===127&&(s.value=ZUe(a,e,o),s.value!==e.length&&(s.value-=o));var u=o+s.value>e.length?e.length:o+s.value,l=e.subarray(o,u);ii(r[0],a.bytes)&&(r.length===1?i.push(l):i=i.concat(t(l,r.slice(1))));var c=a.length+s.length+l.length;n+=c}return i},KUe=St([0,0,0,1]),JUe=St([0,0,1]),QUe=St([0,0,3]),eje=function(e){for(var r=[],i=1;i<e.length-2;)ii(e.subarray(i,i+3),QUe)&&(r.push(i+2),i++),i++;if(r.length===0)return e;var n=e.length-r.length,a=new Uint8Array(n),s=0;for(i=0;i<n;s++,i++)s===r[0]&&(s++,r.shift()),a[i]=e[s];return a},tne=function(e,r,i,n){e=St(e),i=[].concat(i);for(var a=0,s,o=0;a<e.length&&(o<n||s);){var u=void 0;if(ii(e.subarray(a),KUe)?u=4:ii(e.subarray(a),JUe)&&(u=3),!u){a++;continue}if(o++,s)return eje(e.subarray(s,a));var l=void 0;r==="h264"?l=e[a+u]&31:r==="h265"&&(l=e[a+u]>>1&63),i.indexOf(l)!==-1&&(s=a+u),a+=u+(r==="h264"?1:2)}return e.subarray(0,0)},tje=function(e,r,i){return tne(e,"h264",r,i)},rje=function(e,r,i){return tne(e,"h265",r,i)},qn={webm:St([119,101,98,109]),matroska:St([109,97,116,114,111,115,107,97]),flac:St([102,76,97,67]),ogg:St([79,103,103,83]),ac3:St([11,119]),riff:St([82,73,70,70]),avi:St([65,86,73]),wav:St([87,65,86,69]),"3gp":St([102,116,121,112,51,103]),mp4:St([102,116,121,112]),fmp4:St([115,116,121,112]),mov:St([102,116,121,112,113,116]),moov:St([109,111,111,118]),moof:St([109,111,111,102])},$p={aac:function(e){var r=v1(e);return ii(e,[255,16],{offset:r,mask:[255,22]})},mp3:function(e){var r=v1(e);return ii(e,[255,2],{offset:r,mask:[255,6]})},webm:function(e){var r=NV(e,[fx.EBML,fx.DocType])[0];return ii(r,qn.webm)},mkv:function(e){var r=NV(e,[fx.EBML,fx.DocType])[0];return ii(r,qn.matroska)},mp4:function(e){if($p["3gp"](e)||$p.mov(e))return!1;if(ii(e,qn.mp4,{offset:4})||ii(e,qn.fmp4,{offset:4})||ii(e,qn.moof,{offset:4})||ii(e,qn.moov,{offset:4}))return!0},mov:function(e){return ii(e,qn.mov,{offset:4})},"3gp":function(e){return ii(e,qn["3gp"],{offset:4})},ac3:function(e){var r=v1(e);return ii(e,qn.ac3,{offset:r})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var r=0;r+188<e.length&&r<188;){if(e[r]===71&&e[r+188]===71)return!0;r+=1}return!1},flac:function(e){var r=v1(e);return ii(e,qn.flac,{offset:r})},ogg:function(e){return ii(e,qn.ogg)},avi:function(e){return ii(e,qn.riff)&&ii(e,qn.avi,{offset:8})},wav:function(e){return ii(e,qn.riff)&&ii(e,qn.wav,{offset:8})},h264:function(e){return tje(e,7,3).length},h265:function(e){return rje(e,[32,33],3).length}},xD=Object.keys($p).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);xD.forEach(function(t){var e=$p[t];$p[t]=function(r){return e(St(r))}});var ije=$p,BI=function(e){e=St(e);for(var r=0;r<xD.length;r++){var i=xD[r];if(ije[i](e))return i}return""},nje=function(e){return YUe(e,["moof"]).length>0},rA,kV;function aje(){if(kV)return rA;kV=1;var t=9e4,e,r,i,n,a,s,o;return e=function(u){return u*t},r=function(u,l){return u*l},i=function(u){return u/t},n=function(u,l){return u/l},a=function(u,l){return e(n(u,l))},s=function(u,l){return r(i(u),l)},o=function(u,l,c){return i(c?u:u-l)},rA={ONE_SECOND_IN_TS:t,secondsToVideoTs:e,secondsToAudioTs:r,videoTsToSeconds:i,audioTsToSeconds:n,audioTsToVideoTs:a,videoTsToAudioTs:s,metadataTsToSeconds:o},rA}var bh=aje();/**
 * @license
 * Video.js 8.23.3 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var bD="8.23.3";const Zu={},Uc=function(t,e){return Zu[t]=Zu[t]||[],e&&(Zu[t]=Zu[t].concat(e)),Zu[t]},sje=function(t,e){Uc(t,e)},rne=function(t,e){const r=Uc(t).indexOf(e);return r<=-1?!1:(Zu[t]=Zu[t].slice(),Zu[t].splice(r,1),!0)},oje=function(t,e){Uc(t,[].concat(e).map(r=>{const i=(...n)=>(rne(t,i),r(...n));return i}))},S4={prefixed:!0},U5=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],zV=U5[0];let m1;for(let t=0;t<U5.length;t++)if(U5[t][1]in Ye){m1=U5[t];break}if(m1){for(let t=0;t<m1.length;t++)S4[zV[t]]=m1[t];S4.prefixed=m1[0]!==zV[0]}let Da=[];const uje=(t,e,r)=>(i,n,a)=>{const s=e.levels[n],o=new RegExp(`^(${s})$`);let u=t;if(i!=="log"&&a.unshift(i.toUpperCase()+":"),r&&(u=`%c${t}`,a.unshift(r)),a.unshift(u+":"),Da){Da.push([].concat(a));const c=Da.length-1e3;Da.splice(0,c>0?c:0)}if(!ne.console)return;let l=ne.console[i];!l&&i==="debug"&&(l=ne.console.info||ne.console.log),!(!l||!s||!o.test(i))&&l[Array.isArray(a)?"apply":"call"](ne.console,a)};function CD(t,e=":",r=""){let i="info",n;function a(...s){n("log",i,s)}return n=uje(t,a,r),a.createLogger=(s,o,u)=>{const l=o!==void 0?o:e,c=u!==void 0?u:r,h=`${t} ${l} ${s}`;return CD(h,l,c)},a.createNewLogger=(s,o,u)=>CD(s,o,u),a.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},a.level=s=>{if(typeof s=="string"){if(!a.levels.hasOwnProperty(s))throw new Error(`"${s}" in not a valid log level`);i=s}return i},a.history=()=>Da?[].concat(Da):[],a.history.filter=s=>(Da||[]).filter(o=>new RegExp(`.*${s}.*`).test(o[0])),a.history.clear=()=>{Da&&(Da.length=0)},a.history.disable=()=>{Da!==null&&(Da.length=0,Da=null)},a.history.enable=()=>{Da===null&&(Da=[])},a.error=(...s)=>n("error",i,s),a.warn=(...s)=>n("warn",i,s),a.debug=(...s)=>n("debug",i,s),a}const Qt=CD("VIDEOJS"),ine=Qt.createLogger,lje=Object.prototype.toString,nne=function(t){return xu(t)?Object.keys(t):[]};function rp(t,e){nne(t).forEach(r=>e(t[r],r))}function ane(t,e,r=0){return nne(t).reduce((i,n)=>e(i,t[n],n),r)}function xu(t){return!!t&&typeof t=="object"}function Wp(t){return xu(t)&&lje.call(t)==="[object Object]"&&t.constructor===Object}function Mr(...t){const e={};return t.forEach(r=>{r&&rp(r,(i,n)=>{if(!Wp(i)){e[n]=i;return}Wp(e[n])||(e[n]={}),e[n]=Mr(e[n],i)})}),e}function sne(t={}){const e=[];for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];e.push(i)}return e}function gC(t,e,r,i=!0){const n=s=>Object.defineProperty(t,e,{value:s,enumerable:!0,writable:!0}),a={configurable:!0,enumerable:!0,get(){const s=r();return n(s),s}};return i&&(a.set=n),Object.defineProperty(t,e,a)}var cje=Object.freeze({__proto__:null,each:rp,reduce:ane,isObject:xu,isPlain:Wp,merge:Mr,values:sne,defineLazyProperty:gC});let MI=!1,one=null,Eo=!1,une,lne=!1,ip=!1,np=!1,bu=!1,PI=null,vC=null;const hje=!!(ne.cast&&ne.cast.framework&&ne.cast.framework.CastReceiverContext);let cne=null,T4=!1,mC=!1,A4=!1,yC=!1,w4=!1,D4=!1,F4=!1;const lm=!!(Ig()&&("ontouchstart"in ne||ne.navigator.maxTouchPoints||ne.DocumentTouch&&ne.document instanceof ne.DocumentTouch)),Jl=ne.navigator&&ne.navigator.userAgentData;Jl&&Jl.platform&&Jl.brands&&(Eo=Jl.platform==="Android",ip=!!Jl.brands.find(t=>t.brand==="Microsoft Edge"),np=!!Jl.brands.find(t=>t.brand==="Chromium"),bu=!ip&&np,PI=vC=(Jl.brands.find(t=>t.brand==="Chromium")||{}).version||null,mC=Jl.platform==="Windows");if(!np){const t=ne.navigator&&ne.navigator.userAgent||"";MI=/iPod/i.test(t),one=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),Eo=/Android/i.test(t),une=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const r=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return r&&i?parseFloat(e[1]+"."+e[2]):r||null}(),lne=/Firefox/i.test(t),ip=/Edg/i.test(t),np=/Chrome/i.test(t)||/CriOS/i.test(t),bu=!ip&&np,PI=vC=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),cne=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let r=e&&parseFloat(e[1]);return!r&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(r=11),r}(),w4=/Tizen/i.test(t),D4=/Web0S/i.test(t),F4=w4||D4,T4=/Safari/i.test(t)&&!bu&&!Eo&&!ip&&!F4,mC=/Windows/i.test(t),A4=/iPad/i.test(t)||T4&&lm&&!/iPhone/i.test(t),yC=/iPhone/i.test(t)&&!A4}const kn=yC||A4||MI,_C=(T4||kn)&&!bu;var hne=Object.freeze({__proto__:null,get IS_IPOD(){return MI},get IOS_VERSION(){return one},get IS_ANDROID(){return Eo},get ANDROID_VERSION(){return une},get IS_FIREFOX(){return lne},get IS_EDGE(){return ip},get IS_CHROMIUM(){return np},get IS_CHROME(){return bu},get CHROMIUM_VERSION(){return PI},get CHROME_VERSION(){return vC},IS_CHROMECAST_RECEIVER:hje,get IE_VERSION(){return cne},get IS_SAFARI(){return T4},get IS_WINDOWS(){return mC},get IS_IPAD(){return A4},get IS_IPHONE(){return yC},get IS_TIZEN(){return w4},get IS_WEBOS(){return D4},get IS_SMART_TV(){return F4},TOUCH_ENABLED:lm,IS_IOS:kn,IS_ANY_SAFARI:_C});function HV(t){return typeof t=="string"&&!!t.trim()}function fje(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Ig(){return Ye===ne.document}function Bg(t){return xu(t)&&t.nodeType===1}function fne(){try{return ne.parent!==ne.self}catch{return!0}}function dne(t){return function(e,r){if(!HV(e))return Ye[t](null);HV(r)&&(r=Ye.querySelector(r));const i=Bg(r)?r:Ye;return i[t]&&i[t](e)}}function It(t="div",e={},r={},i){const n=Ye.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(a){const s=e[a];a==="textContent"?Qc(n,s):(n[a]!==s||a==="tabIndex")&&(n[a]=s)}),Object.getOwnPropertyNames(r).forEach(function(a){n.setAttribute(a,r[a])}),i&&LI(n,i),n}function Qc(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function ED(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function J1(t,e){return fje(e),t.classList.contains(e)}function Hh(t,...e){return t.classList.add(...e.reduce((r,i)=>r.concat(i.split(/\s+/)),[])),t}function xC(t,...e){return t?(t.classList.remove(...e.reduce((r,i)=>r.concat(i.split(/\s+/)),[])),t):(Qt.warn("removeClass was called with an element that doesn't exist"),null)}function pne(t,e,r){return typeof r=="function"&&(r=r(t,e)),typeof r!="boolean"&&(r=void 0),e.split(/\s+/).forEach(i=>t.classList.toggle(i,r)),t}function gne(t,e){Object.getOwnPropertyNames(e).forEach(function(r){const i=e[r];i===null||typeof i>"u"||i===!1?t.removeAttribute(r):t.setAttribute(r,i===!0?"":i)})}function cc(t){const e={},r=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const i=t.attributes;for(let n=i.length-1;n>=0;n--){const a=i[n].name;let s=i[n].value;r.includes(a)&&(s=s!==null),e[a]=s}}return e}function vne(t,e){return t.getAttribute(e)}function Yp(t,e,r){t.setAttribute(e,r)}function bC(t,e){t.removeAttribute(e)}function mne(){Ye.body.focus(),Ye.onselectstart=function(){return!1}}function yne(){Ye.onselectstart=function(){return!0}}function qp(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),r={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(r[i]=e[i])}),r.height||(r.height=parseFloat(Xp(t,"height"))),r.width||(r.width=parseFloat(Xp(t,"width"))),r}}function cm(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,r=t.offsetHeight;let i=0,n=0;for(;t.offsetParent&&t!==Ye[S4.fullscreenElement];)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:i,top:n,width:e,height:r}}function CC(t,e){const r={x:0,y:0};if(kn){let c=t;for(;c&&c.nodeName.toLowerCase()!=="html";){const h=Xp(c,"transform");if(/^matrix/.test(h)){const f=h.slice(7,-1).split(/,\s/).map(Number);r.x+=f[4],r.y+=f[5]}else if(/^matrix3d/.test(h)){const f=h.slice(9,-1).split(/,\s/).map(Number);r.x+=f[12],r.y+=f[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&ne.WebKitCSSMatrix){const f=ne.getComputedStyle(c.assignedSlot.parentElement).transform,d=new ne.WebKitCSSMatrix(f);r.x+=d.m41,r.y+=d.m42}c=c.parentNode||c.host}}const i={},n=cm(e.target),a=cm(t),s=a.width,o=a.height;let u=e.offsetY-(a.top-n.top),l=e.offsetX-(a.left-n.left);return e.changedTouches&&(l=e.changedTouches[0].pageX-a.left,u=e.changedTouches[0].pageY+a.top,kn&&(l-=r.x,u-=r.y)),i.y=1-Math.max(0,Math.min(1,u/o)),i.x=Math.max(0,Math.min(1,l/s)),i}function _ne(t){return xu(t)&&t.nodeType===3}function EC(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function xne(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Bg(e)||_ne(e))return e;if(typeof e=="string"&&/\S/.test(e))return Ye.createTextNode(e)}).filter(e=>e)}function LI(t,e){return xne(e).forEach(r=>t.appendChild(r)),t}function bne(t,e){return LI(EC(t),e)}function hm(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const jc=dne("querySelector"),Cne=dne("querySelectorAll");function Xp(t,e){if(!t||!e)return"";if(typeof ne.getComputedStyle=="function"){let r;try{r=ne.getComputedStyle(t)}catch{return""}return r?r.getPropertyValue(e)||r[e]:""}return""}function Ene(t){[...Ye.styleSheets].forEach(e=>{try{const r=[...e.cssRules].map(n=>n.cssText).join(""),i=Ye.createElement("style");i.textContent=r,t.document.head.appendChild(i)}catch{const i=Ye.createElement("link");i.rel="stylesheet",i.type=e.type,i.media=e.media.mediaText,i.href=e.href,t.document.head.appendChild(i)}})}var Sne=Object.freeze({__proto__:null,isReal:Ig,isEl:Bg,isInFrame:fne,createEl:It,textContent:Qc,prependTo:ED,hasClass:J1,addClass:Hh,removeClass:xC,toggleClass:pne,setAttributes:gne,getAttributes:cc,getAttribute:vne,setAttribute:Yp,removeAttribute:bC,blockTextSelection:mne,unblockTextSelection:yne,getBoundingClientRect:qp,findPosition:cm,getPointerPosition:CC,isTextNode:_ne,emptyEl:EC,normalizeContent:xne,appendContent:LI,insertContent:bne,isSingleLeftClick:hm,$:jc,$$:Cne,computedStyle:Xp,copyStyleSheetsToWindow:Ene});let Tne=!1,SD;const dje=function(){if(SD.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Ye.getElementsByTagName("video")),e=Array.prototype.slice.call(Ye.getElementsByTagName("audio")),r=Array.prototype.slice.call(Ye.getElementsByTagName("video-js")),i=t.concat(e,r);if(i&&i.length>0)for(let n=0,a=i.length;n<a;n++){const s=i[n];if(s&&s.getAttribute)s.player===void 0&&s.getAttribute("data-setup")!==null&&SD(s);else{TD(1);break}}else Tne||TD(1)};function TD(t,e){Ig()&&(e&&(SD=e),ne.setTimeout(dje,t))}function AD(){Tne=!0,ne.removeEventListener("load",AD)}Ig()&&(Ye.readyState==="complete"?AD():ne.addEventListener("load",AD));const Ane=function(t){const e=Ye.createElement("style");return e.className=t,e},wne=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var aa=new WeakMap;const pje=3;let gje=pje;function Hs(){return gje++}function GV(t,e){if(!aa.has(t))return;const r=aa.get(t);r.handlers[e].length===0&&(delete r.handlers[e],t.removeEventListener?t.removeEventListener(e,r.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,r.dispatcher)),Object.getOwnPropertyNames(r.handlers).length<=0&&(delete r.handlers,delete r.dispatcher,delete r.disabled),Object.getOwnPropertyNames(r).length===0&&aa.delete(t)}function OI(t,e,r,i){r.forEach(function(n){t(e,n,i)})}function SC(t){if(t.fixed_)return t;function e(){return!0}function r(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const i=t||ne.event;t={};const n=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const a in i)n.includes(a)||a==="returnValue"&&i.preventDefault||(t[a]=i[a]);if(t.target||(t.target=t.srcElement||Ye),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=r,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=r,t.clientX!==null&&t.clientX!==void 0){const a=Ye.documentElement,s=Ye.body;t.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let dx;const vje=function(){if(typeof dx!="boolean"){dx=!1;try{const t=Object.defineProperty({},"passive",{get(){dx=!0}});ne.addEventListener("test",null,t),ne.removeEventListener("test",null,t)}catch{}}return dx},mje=["touchstart","touchmove"];function is(t,e,r){if(Array.isArray(e))return OI(is,t,e,r);aa.has(t)||aa.set(t,{});const i=aa.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),r.guid||(r.guid=Hs()),i.handlers[e].push(r),i.dispatcher||(i.disabled=!1,i.dispatcher=function(n,a){if(i.disabled)return;n=SC(n);const s=i.handlers[n.type];if(s){const o=s.slice(0);for(let u=0,l=o.length;u<l&&!n.isImmediatePropagationStopped();u++)try{o[u].call(t,n,a)}catch(c){Qt.error(c)}}}),i.handlers[e].length===1)if(t.addEventListener){let n=!1;vje()&&mje.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,i.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function zn(t,e,r){if(!aa.has(t))return;const i=aa.get(t);if(!i.handlers)return;if(Array.isArray(e))return OI(zn,t,e,r);const n=function(s,o){i.handlers[o]=[],GV(s,o)};if(e===void 0){for(const s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&n(t,s);return}const a=i.handlers[e];if(a){if(!r){n(t,e);return}if(r.guid)for(let s=0;s<a.length;s++)a[s].guid===r.guid&&a.splice(s--,1);GV(t,e)}}function Mg(t,e,r){const i=aa.has(t)?aa.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=SC(e),i.dispatcher&&i.dispatcher.call(t,e,r),n&&!e.isPropagationStopped()&&e.bubbles===!0)Mg.call(null,n,e,r);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){aa.has(e.target)||aa.set(e.target,{});const a=aa.get(e.target);e.target[e.type]&&(a.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),a.disabled=!1)}return!e.defaultPrevented}function TC(t,e,r){if(Array.isArray(e))return OI(TC,t,e,r);const i=function(){zn(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||Hs(),is(t,e,i)}function RI(t,e,r){const i=function(){zn(t,e,i),r.apply(this,arguments)};i.guid=r.guid=r.guid||Hs(),is(t,e,i)}var yje=Object.freeze({__proto__:null,fixEvent:SC,on:is,off:zn,trigger:Mg,one:TC,any:RI});const Gs=30,Ur=function(t,e,r){e.guid||(e.guid=Hs());const i=e.bind(t);return i.guid=r?r+"_"+e.guid:e.guid,i},Cu=function(t,e){let r=ne.performance.now();return function(...n){const a=ne.performance.now();a-r>=e&&(t(...n),r=a)}},Dne=function(t,e,r,i=ne){let n;const a=()=>{i.clearTimeout(n),n=null},s=function(){const o=this,u=arguments;let l=function(){n=null,l=null,r||t.apply(o,u)};!n&&r&&t.apply(o,u),i.clearTimeout(n),n=i.setTimeout(l,e)};return s.cancel=a,s};var _je=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Gs,bind_:Ur,throttle:Cu,debounce:Dne});let Yv;class ns{on(e,r){const i=this.addEventListener;this.addEventListener=()=>{},is(this,e,r),this.addEventListener=i}off(e,r){zn(this,e,r)}one(e,r){const i=this.addEventListener;this.addEventListener=()=>{},TC(this,e,r),this.addEventListener=i}any(e,r){const i=this.addEventListener;this.addEventListener=()=>{},RI(this,e,r),this.addEventListener=i}trigger(e){const r=e.type||e;typeof e=="string"&&(e={type:r}),e=SC(e),this.allowedEvents_[r]&&this["on"+r]&&this["on"+r](e),Mg(this,e)}queueTrigger(e){Yv||(Yv=new Map);const r=e.type||e;let i=Yv.get(this);i||(i=new Map,Yv.set(this,i));const n=i.get(r);i.delete(r),ne.clearTimeout(n);const a=ne.setTimeout(()=>{i.delete(r),i.size===0&&(i=null,Yv.delete(this)),this.trigger(e)},0);i.set(r,a)}}ns.prototype.allowedEvents_={};ns.prototype.addEventListener=ns.prototype.on;ns.prototype.removeEventListener=ns.prototype.off;ns.prototype.dispatchEvent=ns.prototype.trigger;const AC=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,ol=t=>t instanceof ns||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),xje=(t,e)=>{ol(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},wD=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,I4=(t,e,r)=>{if(!t||!t.nodeName&&!ol(t))throw new Error(`Invalid target for ${AC(e)}#${r}; must be a DOM node or evented object.`)},Fne=(t,e,r)=>{if(!wD(t))throw new Error(`Invalid event type for ${AC(e)}#${r}; must be a non-empty string or array.`)},Ine=(t,e,r)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${AC(e)}#${r}; must be a function.`)},iA=(t,e,r)=>{const i=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let n,a,s;return i?(n=t.eventBusEl_,e.length>=3&&e.shift(),[a,s]=e):(n=e[0],a=e[1],s=e[2]),I4(n,t,r),Fne(a,t,r),Ine(s,t,r),s=Ur(t,s),{isTargetingSelf:i,target:n,type:a,listener:s}},V0=(t,e,r,i)=>{I4(t,t,e),t.nodeName?yje[e](t,r,i):t[e](r,i)},bje={on(...t){const{isTargetingSelf:e,target:r,type:i,listener:n}=iA(this,t,"on");if(V0(r,"on",i,n),!e){const a=()=>this.off(r,i,n);a.guid=n.guid;const s=()=>this.off("dispose",a);s.guid=n.guid,V0(this,"on","dispose",a),V0(r,"on","dispose",s)}},one(...t){const{isTargetingSelf:e,target:r,type:i,listener:n}=iA(this,t,"one");if(e)V0(r,"one",i,n);else{const a=(...s)=>{this.off(r,i,a),n.apply(null,s)};a.guid=n.guid,V0(r,"one",i,a)}},any(...t){const{isTargetingSelf:e,target:r,type:i,listener:n}=iA(this,t,"any");if(e)V0(r,"any",i,n);else{const a=(...s)=>{this.off(r,i,a),n.apply(null,s)};a.guid=n.guid,V0(r,"any",i,a)}},off(t,e,r){if(!t||wD(t))zn(this.eventBusEl_,t,e);else{const i=t,n=e;I4(i,this,"off"),Fne(n,this,"off"),Ine(r,this,"off"),r=Ur(this,r),this.off("dispose",r),i.nodeName?(zn(i,n,r),zn(i,"dispose",r)):ol(i)&&(i.off(n,r),i.off("dispose",r))}},trigger(t,e){I4(this.eventBusEl_,this,"trigger");const r=t&&typeof t!="string"?t.type:t;if(!wD(r))throw new Error(`Invalid event type for ${AC(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Mg(this.eventBusEl_,t,e)}};function NI(t,e={}){const{eventBusKey:r}=e;if(r){if(!t[r].nodeName)throw new Error(`The eventBusKey "${r}" does not refer to an element.`);t.eventBusEl_=t[r]}else t.eventBusEl_=It("span",{className:"vjs-event-bus"});return Object.assign(t,bje),t.eventedCallbacks&&t.eventedCallbacks.forEach(i=>{i()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&aa.has(i)&&aa.delete(i)}),ne.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const Cje={state:{},setState(t){typeof t=="function"&&(t=t());let e;return rp(t,(r,i)=>{this.state[i]!==r&&(e=e||{},e[i]={from:this.state[i],to:r}),this.state[i]=r}),e&&ol(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Bne(t,e){return Object.assign(t,Cje),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&ol(t)&&t.on("statechanged",t.handleStateChanged),t}const Q1=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},di=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Mne=function(t,e){return di(t)===di(e)};var Eje=Object.freeze({__proto__:null,toLowerCase:Q1,toTitleCase:di,titleCaseEquals:Mne});class Be{constructor(e,r,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Mr({},this.options_),r=this.options_=Mr(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){const n=e&&e.id&&e.id()||"no_player";this.id_=`${n}_component_${Hs()}`}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(n=>this.addClass(n)),["on","off","one","any","trigger"].forEach(n=>{this[n]=void 0}),r.evented!==!1&&(NI(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Bne(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(i),r.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Mr(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,r,i){return It(e,r,i)}localize(e,r,i=e){const n=this.player_.language&&this.player_.language(),a=this.player_.languages&&this.player_.languages(),s=a&&a[n],o=n&&n.split("-")[0],u=a&&a[o];let l=i;return s&&s[e]?l=s[e]:u&&u[e]&&(l=u[e]),r&&(l=l.replace(/\{(\d+)\}/g,function(c,h){const f=r[h-1];let d=f;return typeof f>"u"&&(d=c),d})),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,n)=>i.concat(n),[]);let r=this;for(let i=0;i<e.length;i++)if(r=r.getChild(e[i]),!r||!r.getChild)return;return r}setIcon(e,r=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",n=It("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),a=Ye.createElementNS(i,"svg");a.setAttributeNS(null,"viewBox","0 0 512 512");const s=Ye.createElementNS(i,"use");return a.appendChild(s),s.setAttributeNS(null,"href",`#vjs-icon-${e}`),n.appendChild(a),this.iconIsSet_?r.replaceChild(n,r.querySelector(".vjs-icon-placeholder")):r.appendChild(n),this.iconIsSet_=!0,n}addChild(e,r={},i=this.children_.length){let n,a;if(typeof e=="string"){a=di(e);const s=r.componentClass||a;r.name=a;const o=Be.getComponent(s);if(!o)throw new Error(`Component ${s} does not exist`);if(typeof o!="function")return null;n=new o(this.player_||this,r)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(i,0,n),n.parentComponent_=this,typeof n.id=="function"&&(this.childIndex_[n.id()]=n),a=a||n.name&&di(n.name()),a&&(this.childNameIndex_[a]=n,this.childNameIndex_[Q1(a)]=n),typeof n.el=="function"&&n.el()){let s=null;this.children_[i+1]&&(this.children_[i+1].el_?s=this.children_[i+1].el_:Bg(this.children_[i+1])&&(s=this.children_[i+1])),this.contentEl().insertBefore(n.el(),s)}return n}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let r=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){r=!0,this.children_.splice(n,1);break}if(!r)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[di(e.name())]=null,this.childNameIndex_[Q1(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const r=this.options_,i=s=>{const o=s.name;let u=s.opts;if(r[o]!==void 0&&(u=r[o]),u===!1)return;u===!0&&(u={}),u.playerOptions=this.options_.playerOptions;const l=this.addChild(o,u);l&&(this[o]=l)};let n;const a=Be.getComponent("Tech");Array.isArray(e)?n=e:n=Object.keys(e),n.concat(Object.keys(this.options_).filter(function(s){return!n.some(function(o){return typeof o=="string"?s===o:s===o.name})})).map(s=>{let o,u;return typeof s=="string"?(o=s,u=e[o]||this.options_[o]||{}):(o=s.name,u=s),{name:o,opts:u}}).filter(s=>{const o=Be.getComponent(s.opts.componentClass||di(s.name));return o&&!a.isTech(o)}).forEach(i)}}buildCSSClass(){return""}ready(e,r=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}r?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(r){r.call(this)},this),this.trigger("ready")},1)}$(e,r){return jc(e,r||this.contentEl())}$$(e,r){return Cne(e,r||this.contentEl())}hasClass(e){return J1(this.el_,e)}addClass(...e){Hh(this.el_,...e)}removeClass(...e){xC(this.el_,...e)}toggleClass(e,r){pne(this.el_,e,r)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return vne(this.el_,e)}setAttribute(e,r){Yp(this.el_,e,r)}removeAttribute(e){bC(this.el_,e)}width(e,r){return this.dimension("width",e,r)}height(e,r){return this.dimension("height",e,r)}dimensions(e,r){this.width(e,!0),this.height(r)}dimension(e,r,i){if(r!==void 0){(r===null||r!==r)&&(r=0),(""+r).indexOf("%")!==-1||(""+r).indexOf("px")!==-1?this.el_.style[e]=r:r==="auto"?this.el_.style[e]="":this.el_.style[e]=r+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const n=this.el_.style[e],a=n.indexOf("px");return parseInt(a!==-1?n.slice(0,a):this.el_["offset"+di(e)],10)}currentDimension(e){let r=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(r=Xp(this.el_,e),r=parseFloat(r),r===0||isNaN(r)){const i=`offset${di(e)}`;r=this.el_[i]}return r}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),r={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},i={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:r,center:i}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,r=null;const i=10,n=200;let a;this.on("touchstart",function(o){o.touches.length===1&&(r={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=ne.performance.now(),a=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)a=!1;else if(r){const u=o.touches[0].pageX-r.pageX,l=o.touches[0].pageY-r.pageY;Math.sqrt(u*u+l*l)>i&&(a=!1)}});const s=function(){a=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",function(o){r=null,a===!0&&ne.performance.now()-e<n&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=Ur(this.player(),this.player().reportUserActivity);let r;this.on("touchstart",function(){e(),this.clearInterval(r),r=this.setInterval(e,250)});const i=function(n){e(),this.clearInterval(r)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,r){var i;return e=Ur(this,e),this.clearTimersOnDispose_(),i=ne.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},r),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),ne.clearTimeout(e)),e}setInterval(e,r){e=Ur(this,e),this.clearTimersOnDispose_();const i=ne.setInterval(e,r);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),ne.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var r;return e=Ur(this,e),r=ne.requestAnimationFrame(()=>{this.rafIds_.has(r)&&this.rafIds_.delete(r),e()}),this.rafIds_.add(r),r}requestNamedAnimationFrame(e,r){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),r=Ur(this,r);const i=this.requestAnimationFrame(()=>{r(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),ne.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,r])=>{this[e].forEach((i,n)=>this[r](n))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function r(a){const s=ne.getComputedStyle(a,null),o=s.getPropertyValue("visibility");return s.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function i(a){return!(!r(a.parentElement)||!r(a)||a.style.opacity==="0"||ne.getComputedStyle(a).height==="0px"||ne.getComputedStyle(a).width==="0px")}function n(a){if(a.offsetWidth+a.offsetHeight+a.getBoundingClientRect().height+a.getBoundingClientRect().width===0)return!1;const s={x:a.getBoundingClientRect().left+a.offsetWidth/2,y:a.getBoundingClientRect().top+a.offsetHeight/2};if(s.x<0||s.x>(Ye.documentElement.clientWidth||ne.innerWidth)||s.y<0||s.y>(Ye.documentElement.clientHeight||ne.innerHeight))return!1;let o=Ye.elementFromPoint(s.x,s.y);for(;o;){if(o===a)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(n(e)&&i(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,r){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=Be.getComponent("Tech"),n=i&&i.isTech(r),a=Be===r||Be.prototype.isPrototypeOf(r.prototype);if(n||!a){let o;throw n?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=di(e),Be.components_||(Be.components_={});const s=Be.getComponent("Player");if(e==="Player"&&s&&s.players){const o=s.players,u=Object.keys(o);if(o&&u.length>0){for(let l=0;l<u.length;l++)if(o[u[l]]!==null)throw new Error("Can not register Player component after player has been created.")}}return Be.components_[e]=r,Be.components_[Q1(e)]=r,r}static getComponent(e){if(!(!e||!Be.components_))return Be.components_[e]}}Be.registerComponent("Component",Be);function Sje(t,e,r){if(typeof e!="number"||e<0||e>r)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${r}).`)}function UV(t,e,r,i){return Sje(t,i,r.length-1),r[i][e]}function nA(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:UV.bind(null,"start",0,t),end:UV.bind(null,"end",1,t)},ne.Symbol&&ne.Symbol.iterator&&(e[ne.Symbol.iterator]=()=>(t||[]).values()),e}function vo(t,e){return Array.isArray(t)?nA(t):t===void 0||e===void 0?nA():nA([[t,e]])}const Pne=function(t,e){t=t<0?0:t;let r=Math.floor(t%60),i=Math.floor(t/60%60),n=Math.floor(t/3600);const a=Math.floor(e/60%60),s=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(n=i=r="-"),n=n>0||s>0?n+":":"",i=((n||a>=10)&&i<10?"0"+i:i)+":",r=r<10?"0"+r:r,n+i+r};let kI=Pne;function Lne(t){kI=t}function One(){kI=Pne}function cf(t,e=t){return kI(t,e)}var Tje=Object.freeze({__proto__:null,createTimeRanges:vo,createTimeRange:vo,setFormatTime:Lne,resetFormatTime:One,formatTime:cf});function Rne(t,e){let r=0,i,n;if(!e)return 0;(!t||!t.length)&&(t=vo(0,0));for(let a=0;a<t.length;a++)i=t.start(a),n=t.end(a),n>e&&(n=e),r+=n-i;return r/e}function li(t){if(t instanceof li)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:xu(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=li.defaultMessages[this.code]||"")}li.prototype.code=0;li.prototype.message="";li.prototype.status=null;li.prototype.metadata=null;li.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];li.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};li.MEDIA_ERR_CUSTOM=0;li.prototype.MEDIA_ERR_CUSTOM=0;li.MEDIA_ERR_ABORTED=1;li.prototype.MEDIA_ERR_ABORTED=1;li.MEDIA_ERR_NETWORK=2;li.prototype.MEDIA_ERR_NETWORK=2;li.MEDIA_ERR_DECODE=3;li.prototype.MEDIA_ERR_DECODE=3;li.MEDIA_ERR_SRC_NOT_SUPPORTED=4;li.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;li.MEDIA_ERR_ENCRYPTED=5;li.prototype.MEDIA_ERR_ENCRYPTED=5;function e2(t){return t!=null&&typeof t.then=="function"}function tu(t){e2(t)&&t.then(null,e=>{})}const DD=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((r,i,n)=>(t[i]&&(r[i]=t[i]),r),{cues:t.cues&&Array.prototype.map.call(t.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})},Aje=function(t){const e=t.$$("track"),r=Array.prototype.map.call(e,n=>n.track);return Array.prototype.map.call(e,function(n){const a=DD(n.track);return n.src&&(a.src=n.src),a}).concat(Array.prototype.filter.call(t.textTracks(),function(n){return r.indexOf(n)===-1}).map(DD))},wje=function(t,e){return t.forEach(function(r){const i=e.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(n=>i.addCue(n))}),e.textTracks()};var FD={textTracksToJson:Aje,jsonToTextTracks:wje,trackToJson:DD};const aA="vjs-modal-dialog";class Pg extends Be{constructor(e,r){super(e,r),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=It("div",{className:`${aA}-content`},{role:"document"}),this.descEl_=It("p",{className:`${aA}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Qc(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${aA} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const r=this.closeable_=!!e;let i=this.getChild("closeButton");if(r&&!i){const n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close_)}!r&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const r=this.contentEl(),i=r.parentNode,n=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(r),this.empty(),bne(r,e),this.trigger("modalfill"),n?i.insertBefore(r,n):i.appendChild(r);const a=this.getChild("closeButton");a&&i.appendChild(a.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),EC(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Ye.activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(e)||r===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const r=this.focusableEls_(),i=this.el_.querySelector(":focus");let n;for(let a=0;a<r.length;a++)if(i===r[a]){n=a;break}Ye.activeElement===this.el_&&(n=0),e.shiftKey&&n===0?(r[r.length-1].focus(),e.preventDefault()):!e.shiftKey&&n===r.length-1&&(r[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,r=>(r instanceof ne.HTMLAnchorElement||r instanceof ne.HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof ne.HTMLInputElement||r instanceof ne.HTMLSelectElement||r instanceof ne.HTMLTextAreaElement||r instanceof ne.HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof ne.HTMLIFrameElement||r instanceof ne.HTMLObjectElement||r instanceof ne.HTMLEmbedElement||r.hasAttribute("tabindex")&&r.getAttribute("tabindex")!==-1||r.hasAttribute("contenteditable"))}}Pg.prototype.options_={pauseOnOpen:!0,temporary:!0};Be.registerComponent("ModalDialog",Pg);class hf extends ns{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let r=0;r<e.length;r++)this.addTrack(e[r])}addTrack(e){const r=this.tracks_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.tracks_[r]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},ol(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let r;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){r=this[i],r.off&&r.off(),this.tracks_.splice(i,1);break}r&&this.trigger({track:r,type:"removetrack",target:this})}getTrackById(e){let r=null;for(let i=0,n=this.length;i<n;i++){const a=this[i];if(a.id===e){r=a;break}}return r}}hf.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in hf.prototype.allowedEvents_)hf.prototype["on"+t]=null;const sA=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].enabled=!1)};class Nne extends hf{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].enabled){sA(e,e[r]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&sA(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,sA(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const oA=function(t,e){for(let r=0;r<t.length;r++)!Object.keys(t[r]).length||e.id===t[r].id||(t[r].selected=!1)};class kne extends hf{constructor(e=[]){for(let r=e.length-1;r>=0;r--)if(e[r].selected){oA(e,e[r]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let r=0;r<this.length;r++)if(this[r].selected)return r;return-1},set(){}})}addTrack(e){e.selected&&oA(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,oA(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class zI extends hf{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}toJSON(){return this.tracks_.map(e=>e.toJSON())}}class Dje{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let r=0,i=e.length;r<i;r++)this.addTrackElement_(e[r])}addTrackElement_(e){const r=this.trackElements_.length;""+r in this||Object.defineProperty(this,r,{get(){return this.trackElements_[r]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let r;for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){r=this.trackElements_[i];break}return r}removeTrackElement_(e){for(let r=0,i=this.trackElements_.length;r<i;r++)if(e===this.trackElements_[r]){this.trackElements_[r].track&&typeof this.trackElements_[r].track.off=="function"&&this.trackElements_[r].track.off(),typeof this.trackElements_[r].off=="function"&&this.trackElements_[r].off(),this.trackElements_.splice(r,1);break}}}class B4{constructor(e){B4.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const r=this.length||0;let i=0;const n=e.length;this.cues_=e,this.length_=e.length;const a=function(s){""+s in this||Object.defineProperty(this,""+s,{get(){return this.cues_[s]}})};if(r<n)for(i=r;i<n;i++)a.call(this,i)}getCueById(e){let r=null;for(let i=0,n=this.length;i<n;i++){const a=this[i];if(a.id===e){r=a;break}}return r}}const Fje={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ije={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Bje={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},jV={disabled:"disabled",hidden:"hidden",showing:"showing"};class HI extends ns{constructor(e={}){super();const r={id:e.id||"vjs_track_"+Hs(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const n in r)Object.defineProperty(this,n,{get(){return r[n]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(n){n!==i&&(i=n,this.trigger("labelchange"))}})}}const GI=function(t){return new URL(t,Ye.baseURI)},zne=function(t){return new URL(t,Ye.baseURI).href},UI=function(t){if(typeof t=="string"){const r=t.split("?")[0].replace(/\/+$/,"").match(/\.([^.\/]+)$/);return r?r[1].toLowerCase():""}return""},wC=function(t,e=ne.location){return GI(t).origin!==e.origin};var Mje=Object.freeze({__proto__:null,parseUrl:GI,getAbsoluteURL:zne,getFileExtension:UI,isCrossOrigin:wC});const VV=function(t,e){const r=new ne.WebVTT.Parser(ne,ne.vttjs,ne.WebVTT.StringDecoder()),i=[];r.oncue=function(n){e.addCue(n)},r.onparsingerror=function(n){i.push(n)},r.onflush=function(){e.trigger({type:"loadeddata",target:e})},r.parse(t),i.length>0&&(ne.console&&ne.console.groupCollapsed&&ne.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),i.forEach(n=>Qt.error(n)),ne.console&&ne.console.groupEnd&&ne.console.groupEnd()),r.flush()},$V=function(t,e){const r={uri:t},i=wC(t);i&&(r.cors=i);const n=e.tech_.crossOrigin()==="use-credentials";n&&(r.withCredentials=n),Gie(r,Ur(this,function(a,s,o){if(a)return Qt.error(a,s);e.loaded_=!0,typeof ne.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],u=>{if(u.type==="vttjserror"){Qt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return VV(o,e)}):VV(o,e)}))};class Km extends HI{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const r=Mr(e,{kind:Bje[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=jV[r.mode]||"disabled";const n=r.default;(r.kind==="metadata"||r.kind==="chapters")&&(i="hidden"),super(r),this.tech_=r.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const a=new B4(this.cues_),s=new B4(this.activeCues_);let o=!1;this.timeupdateHandler=Ur(this,function(l={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){l.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),l.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const u=()=>{this.stopTracking()};this.tech_.one("dispose",u),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return n},set(){}},mode:{get(){return i},set(l){jV[l]&&i!==l&&(i=l,!this.preload_&&i!=="disabled"&&this.cues.length===0&&$V(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?a:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return s;const l=this.tech_.currentTime(),c=[];for(let h=0,f=this.cues.length;h<f;h++){const d=this.cues[h];d.startTime<=l&&d.endTime>=l&&c.push(d)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let h=0;h<c.length;h++)this.activeCues_.indexOf(c[h])===-1&&(o=!0);return this.activeCues_=c,s.setCues_(this.activeCues_),s},set(){}}}),r.src?(this.src=r.src,this.preload_||(this.loaded_=!0),(this.preload_||r.kind!=="subtitles"&&r.kind!=="captions")&&$V(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let r=e;if(!("getCueAsHTML"in r)){r=new ne.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const n in e)n in r||(r[n]=e[n]);r.id=e.id,r.originalCue_=e}const i=this.tech_.textTracks();for(let n=0;n<i.length;n++)i[n]!==this&&i[n].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)}toJSON(){return FD.trackToJson(this)}removeCue(e){let r=this.cues_.length;for(;r--;){const i=this.cues_[r];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}}}Km.prototype.allowedEvents_={cuechange:"cuechange"};class Hne extends HI{constructor(e={}){const r=Mr(e,{kind:Ije[e.kind]||""});super(r);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(n){typeof n!="boolean"||n===i||(i=n,this.trigger("enabledchange"))}}),r.enabled&&(this.enabled=r.enabled),this.loaded_=!0}}class Gne extends HI{constructor(e={}){const r=Mr(e,{kind:Fje[e.kind]||""});super(r);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(n){typeof n!="boolean"||n===i||(i=n,this.trigger("selectedchange"))}}),r.selected&&(this.selected=r.selected)}}class bl extends ns{constructor(e={}){super();let r;const i=new Km(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return r}},track:{get(){return i}}}),r=bl.NONE,i.addEventListener("loadeddata",()=>{r=bl.LOADED,this.trigger({type:"load",target:this})})}}bl.prototype.allowedEvents_={load:"load"};bl.NONE=0;bl.LOADING=1;bl.LOADED=2;bl.ERROR=3;const Os={audio:{ListClass:Nne,TrackClass:Hne,capitalName:"Audio"},video:{ListClass:kne,TrackClass:Gne,capitalName:"Video"},text:{ListClass:zI,TrackClass:Km,capitalName:"Text"}};Object.keys(Os).forEach(function(t){Os[t].getterName=`${t}Tracks`,Os[t].privateName=`${t}Tracks_`});const Zp={remoteText:{ListClass:zI,TrackClass:Km,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Dje,TrackClass:bl,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ra=Object.assign({},Os,Zp);Zp.names=Object.keys(Zp);Os.names=Object.keys(Os);ra.names=[].concat(Zp.names).concat(Os.names);function Pje(t,e,r,i,n={}){const a=t.textTracks();n.kind=e,r&&(n.label=r),i&&(n.language=i),n.tech=t;const s=new ra.text.TrackClass(n);return a.addTrack(s),s}class Ut extends Be{constructor(e={},r=function(){}){e.reportTouchActivity=!1,super(null,e,r),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),ra.names.forEach(i=>{const n=ra[i];e&&e[n.getterName]&&(this[n.privateName]=e[n.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e[`native${i}Tracks`]===!1&&(this[`featuresNative${i}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new ra.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(Ur(this,function(){const r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,r===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return vo(0,0)}bufferedPercent(){return Rne(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Os.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(r=>{const i=this[`${r}Tracks`]()||[];let n=i.length;for(;n--;){const a=i[n];r==="text"&&this.removeRemoteTextTrack(a),i.removeTrack(a)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let r=e.length;for(;r--;){const i=e[r];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new li(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?vo(0,0):vo()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Os.names.forEach(e=>{const r=Os[e],i=()=>{this.trigger(`${e}trackchange`)},n=this[r.getterName]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),this.on("dispose",()=>{n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!ne.WebVTT)if(Ye.body.contains(this.el())){if(!this.options_["vtt.js"]&&Wp(gV)&&Object.keys(gV).length>0){this.trigger("vttjsloaded");return}const e=Ye.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),ne.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),r=this.remoteTextTracks(),i=o=>e.addTrack(o.track),n=o=>e.removeTrack(o.track);r.on("addtrack",i),r.on("removetrack",n),this.addWebVttScript_();const a=()=>this.trigger("texttrackchange"),s=()=>{a();for(let o=0;o<e.length;o++){const u=e[o];u.removeEventListener("cuechange",a),u.mode==="showing"&&u.addEventListener("cuechange",a)}};s(),e.addEventListener("change",s),e.addEventListener("addtrack",s),e.addEventListener("removetrack",s),this.on("dispose",function(){r.off("addtrack",i),r.off("removetrack",n),e.removeEventListener("change",s),e.removeEventListener("addtrack",s),e.removeEventListener("removetrack",s);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",a)})}addTextTrack(e,r,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return Pje(this,e,r,i)}createRemoteTextTrack(e){const r=Mr(e,{tech:this});return new Zp.remoteTextEl.TrackClass(r)}addRemoteTextTrack(e={},r){const i=this.createRemoteTextTrack(e);return typeof r!="boolean"&&(r=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),r===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const r=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const r=Hs();return!this.isReady_||this.paused()?(this.queuedHanders_.add(r),this.one("playing",()=>{this.queuedHanders_.has(r)&&(this.queuedHanders_.delete(r),e())})):this.requestNamedAnimationFrame(r,e),r}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,r){return Ut.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Ut||e instanceof Ut||e===Ut}static registerTech(e,r){if(Ut.techs_||(Ut.techs_={}),!Ut.isTech(r))throw new Error(`Tech ${e} must be a Tech`);if(!Ut.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Ut.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=di(e),Ut.techs_[e]=r,Ut.techs_[Q1(e)]=r,e!=="Tech"&&Ut.defaultTechOrder_.push(e),r}static getTech(e){if(e){if(Ut.techs_&&Ut.techs_[e])return Ut.techs_[e];if(e=di(e),ne&&ne.videojs&&ne.videojs[e])return Qt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),ne.videojs[e]}}}ra.names.forEach(function(t){const e=ra[t];Ut.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ut.prototype.featuresVolumeControl=!0;Ut.prototype.featuresMuteControl=!0;Ut.prototype.featuresFullscreenResize=!1;Ut.prototype.featuresPlaybackRate=!1;Ut.prototype.featuresProgressEvents=!1;Ut.prototype.featuresSourceset=!1;Ut.prototype.featuresTimeupdateEvents=!1;Ut.prototype.featuresNativeTextTracks=!1;Ut.prototype.featuresVideoFrameCallback=!1;Ut.withSourceHandlers=function(t){t.registerSourceHandler=function(r,i){let n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),i===void 0&&(i=n.length),n.splice(i,0,r)},t.canPlayType=function(r){const i=t.sourceHandlers||[];let n;for(let a=0;a<i.length;a++)if(n=i[a].canPlayType(r),n)return n;return""},t.selectSourceHandler=function(r,i){const n=t.sourceHandlers||[];let a;for(let s=0;s<n.length;s++)if(a=n[s].canHandleSource(r,i),a)return n[s];return null},t.canPlaySource=function(r,i){const n=t.selectSourceHandler(r,i);return n?n.canHandleSource(r,i):""},["seekable","seeking","duration"].forEach(function(r){const i=this[r];typeof i=="function"&&(this[r]=function(){return this.sourceHandler_&&this.sourceHandler_[r]?this.sourceHandler_[r].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(r){let i=t.selectSourceHandler(r,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:Qt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==t.nativeSourceHandler&&(this.currentSource_=r),this.sourceHandler_=i.handleSource(r,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Be.registerComponent("Tech",Ut);Ut.registerTech("Tech",Ut);Ut.defaultTechOrder_=[];const Gh={},M4={},P4={};function Lje(t,e){Gh[t]=Gh[t]||[],Gh[t].push(e)}function Oje(t,e,r){t.setTimeout(()=>J0(e,Gh[e.type],r,t),1)}function Rje(t,e){t.forEach(r=>r.setTech&&r.setTech(e))}function Nje(t,e,r){return t.reduceRight(jI(r),e[r]())}function kje(t,e,r,i){return e[r](t.reduce(jI(r),i))}function WV(t,e,r,i=null){const n="call"+di(r),a=t.reduce(jI(n),i),s=a===P4,o=s?null:e[r](a);return Gje(t,r,o,s),o}const zje={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Hje={setCurrentTime:1,setMuted:1,setVolume:1},YV={play:1,pause:1};function jI(t){return(e,r)=>e===P4?P4:r[t]?r[t](e):e}function Gje(t,e,r,i){for(let n=t.length-1;n>=0;n--){const a=t[n];a[e]&&a[e](i,r)}}function Uje(t){M4.hasOwnProperty(t.id())&&delete M4[t.id()]}function jje(t,e){const r=M4[t.id()];let i=null;if(r==null)return i=e(t),M4[t.id()]=[[e,i]],i;for(let n=0;n<r.length;n++){const[a,s]=r[n];a===e&&(i=s)}return i===null&&(i=e(t),r.push([e,i])),i}function J0(t={},e=[],r,i,n=[],a=!1){const[s,...o]=e;if(typeof s=="string")J0(t,Gh[s],r,i,n,a);else if(s){const u=jje(i,s);if(!u.setSource)return n.push(u),J0(t,o,r,i,n,a);u.setSource(Object.assign({},t),function(l,c){if(l)return J0(t,o,r,i,n,a);n.push(u),J0(c,t.type===c.type?o:Gh[c.type],r,i,n,a)})}else o.length?J0(t,o,r,i,n,a):a?r(t,n):J0(t,Gh["*"],r,i,n,!0)}const Vje={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},L4=function(t=""){const e=UI(t);return Vje[e.toLowerCase()]||""},$je=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const r=t.cache_.sources.filter(n=>n.src===e);if(r.length)return r[0].type;const i=t.$$("source");for(let n=0;n<i.length;n++){const a=i[n];if(a.type&&a.src&&a.src===e)return a.type}return L4(e)},Une=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(r){r=Une(r),Array.isArray(r)?e=e.concat(r):xu(r)&&e.push(r)}),t=e}else typeof t=="string"&&t.trim()?t=[qV({src:t})]:xu(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[qV(t)]:t=[];return t};function qV(t){if(!t.type){const e=L4(t.src);e&&(t.type=e)}return t}var Wje=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const XV=w4?10009:D4?461:8,vd={codes:{play:415,pause:19,ff:417,rw:412,back:XV},names:{415:"play",19:"pause",417:"ff",412:"rw",[XV]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},ZV=5;class Yje extends ns{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const r=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(r.key)){if(this.isPaused_)return;r.preventDefault();const i=r.key.substring(5).toLowerCase();this.move(i)}else if(vd.isEventKey(r,"play")||vd.isEventKey(r,"pause")||vd.isEventKey(r,"ff")||vd.isEventKey(r,"rw")){r.preventDefault();const i=vd.getEventName(r);this.performMediaAction_(i)}else vd.isEventKey(r,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(r.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+ZV);break;case"rw":this.userSeek_(this.player_.currentTime()-ZV);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const r=e.relatedTarget;let i=null;const n=this.getCurrentComponent(e.target);r&&(i=!!r.closest(".video-js"),r.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!i||!r)&&(n&&n.name()==="CloseButton"?this.refocusComponent():(this.pause(),n&&n.el()&&(this.lastFocusedComponent_=n)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,r=[];function i(n){for(const a of n)a.hasOwnProperty("el_")&&a.getIsFocusable()&&a.getIsAvailableToBeFocused(a.el())&&r.push(a),a.hasOwnProperty("children_")&&a.children_.length>0&&i(a.children_)}return e.children_.forEach(n=>{if(n.hasOwnProperty("el_"))if(n.getIsFocusable&&n.getIsAvailableToBeFocused&&n.getIsFocusable()&&n.getIsAvailableToBeFocused(n.el())){r.push(n);return}else n.hasOwnProperty("children_")&&n.children_.length>0?i(n.children_):n.hasOwnProperty("items")&&n.items.length>0?i(n.items):this.findSuitableDOMChild(n)&&r.push(n);if(n.name_==="ErrorDisplay"&&n.opened_){const a=n.el_.querySelector(".vjs-errors-ok-button-container");a&&a.querySelectorAll("button").forEach((o,u)=>{r.push({name:()=>"ModalButton"+(u+1),el:()=>o,getPositions:()=>{const l=o.getBoundingClientRect(),c={x:l.x,y:l.y,width:l.width,height:l.height,top:l.top,right:l.right,bottom:l.bottom,left:l.left},h={x:l.left+l.width/2,y:l.top+l.height/2,width:0,height:0,top:l.top+l.height/2,right:l.left+l.width/2,bottom:l.top+l.height/2,left:l.left+l.width/2};return{boundingClientRect:c,center:h}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:l=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=r,this.focusableComponents}findSuitableDOMChild(e){function r(i){if(e.getIsFocusable(i)&&e.getIsAvailableToBeFocused(i))return i;for(let n=0;n<i.children.length;n++){const a=i.children[n],s=r(a);if(s)return s}return null}return e.el()?r(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const r=e||document.activeElement;if(this.focusableComponents.length){for(const i of this.focusableComponents)if(i.el()===r)return i}}add(e){const r=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&r.push(e),this.focusableComponents=r,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let r=0;r<this.focusableComponents.length;r++)if(this.focusableComponents[r].name()===e.name()){this.focusableComponents.splice(r,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const r=this.getCurrentComponent();if(!r)return;const i=r.getPositions(),n=this.focusableComponents.filter(s=>s!==r&&this.isInDirection_(i.boundingClientRect,s.getPositions().boundingClientRect,e)),a=this.findBestCandidate_(i.center,n,e);a?this.focus(a):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:r})}findBestCandidate_(e,r,i){let n=1/0,a=null;for(const s of r){const o=s.getPositions().center,u=this.calculateDistance_(e,o,i);u<n&&(n=u,a=s)}return a}isInDirection_(e,r,i){switch(i){case"right":return r.left>=e.right;case"left":return r.right<=e.left;case"down":return r.top>=e.bottom;case"up":return r.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,r,i){const n=Math.abs(e.x-r.x),a=Math.abs(e.y-r.y);let s;switch(i){case"right":case"left":s=n+a*100;break;case"up":s=a*2+n*.5;break;case"down":s=a*5+n;break;default:s=n+a}return s}searchForTrackSelect_(){const e=this;for(const r of e.updateFocusableComponents())if(r.constructor.name==="TextTrackSelect"){e.focus(r);break}}}class qje extends Be{constructor(e,r,i){const n=Mr({createEl:!1},r);if(super(e,n,i),!r.playerOptions.sources||r.playerOptions.sources.length===0)for(let a=0,s=r.playerOptions.techOrder;a<s.length;a++){const o=di(s[a]);let u=Ut.getTech(o);if(o||(u=Be.getComponent(o)),u&&u.isSupported()){e.loadTech_(o);break}}else e.src(r.playerOptions.sources)}}Be.registerComponent("MediaLoader",qje);class DC extends Be{constructor(e,r){super(e,r),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",r={},i={}){r=Object.assign({className:this.buildCSSClass(),tabIndex:0},r),e==="button"&&Qt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=r.tabIndex;const n=It(e,r,i);return this.player_.options_.experimentalSvgIcons||n.appendChild(It("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=It("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,r=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,Qc(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Be.registerComponent("ClickableComponent",DC);class ID extends DC{constructor(e,r){super(e,r),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return It("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const r=this.player().poster();this.setSrc(r),r?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(It("picture",{className:"vjs-poster",tabIndex:-1},{},It("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?tu(this.player_.play()):this.player_.pause())}}ID.prototype.crossorigin=ID.prototype.crossOrigin;Be.registerComponent("PosterImage",ID);const vs="#222",KV="#ccc",Xje={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function uA(t,e){let r;if(t.length===4)r=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)r=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(r.slice(0,2),16)+","+parseInt(r.slice(2,4),16)+","+parseInt(r.slice(4,6),16)+","+e+")"}function Po(t,e,r){try{t.style[e]=r}catch{return}}function JV(t){return t?`${t}px`:""}class Zje extends Be{constructor(e,r,i){super(e,r,i);const n=s=>this.updateDisplay(s),a=s=>{this.updateDisplayOverlay(),this.updateDisplay(s)};e.on("loadstart",s=>this.toggleDisplay(s)),e.on("useractive",n),e.on("userinactive",n),e.on("texttrackchange",n),e.on("loadedmetadata",s=>{this.updateDisplayOverlay(),this.preselectTrack(s)}),e.ready(Ur(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",a),e.on("playerresize",a);const s=ne.screen.orientation||ne,o=ne.screen.orientation?"change":"orientationchange";s.addEventListener(o,a),e.on("dispose",()=>s.removeEventListener(o,a));const u=this.options_.playerOptions.tracks||[];for(let l=0;l<u.length;l++)this.player_.addRemoteTextTrack(u[l],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},r=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let n,a,s;for(let o=0;o<r.length;o++){const u=r[o];i&&i.enabled&&i.language&&i.language===u.language&&u.kind in e?u.kind===i.kind?s=u:s||(s=u):i&&!i.enabled?(s=null,n=null,a=null):u.default&&(u.kind==="descriptions"&&!n?n=u:u.kind in e&&!a&&(a=u))}s?s.mode="showing":a?a.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof ne.WebVTT=="function"&&ne.WebVTT.processCues(ne,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){const s=[];for(let o=0;o<e.length;++o){const u=e[o];u.mode==="showing"&&s.push(u)}this.updateForTrack(s);return}let i=null,n=null,a=e.length;for(;a--;){const s=e[a];s.mode==="showing"&&(s.kind==="descriptions"?i=s:n=s)}if(n?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!ne.CSS.supports("inset","10px")){const s=this.el_,o=s.querySelectorAll(".vjs-text-track-cue"),u=this.player_.controlBar.el_.getBoundingClientRect().height,l=this.player_.el_.getBoundingClientRect().height;s.style="",Po(s,"position","relative"),Po(s,"height",l-u+"px"),Po(s,"top","unset"),F4?Po(s,"bottom",l+"px"):Po(s,"bottom","0px"),o.length>0&&o.forEach(c=>{if(c.style.inset){const h=c.style.inset.split(" ");h.length===3&&Object.assign(c.style,{top:h[0],right:h[1],bottom:h[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!ne.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),r=this.player_.currentHeight(),i=e/r,n=this.player_.videoWidth()/this.player_.videoHeight();let a=0,s=0;Math.abs(i-n)>.1&&(i>n?a=Math.round((e-r*n)/2):s=Math.round((r-e/n)/2)),Po(this.el_,"insetInline",JV(a)),Po(this.el_,"insetBlock",JV(s))}updateDisplayState(e){const r=this.player_.textTrackSettings.getValues(),i=e.activeCues;let n=i.length;for(;n--;){const a=i[n];if(!a)continue;const s=a.displayState;if(r.color&&(s.firstChild.style.color=r.color),r.textOpacity&&Po(s.firstChild,"color",uA(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(s.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&Po(s.firstChild,"backgroundColor",uA(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?Po(s,"backgroundColor",uA(r.windowColor,r.windowOpacity)):s.style.backgroundColor=r.windowColor),r.edgeStyle&&(r.edgeStyle==="dropshadow"?s.firstChild.style.textShadow=`2px 2px 3px ${vs}, 2px 2px 4px ${vs}, 2px 2px 5px ${vs}`:r.edgeStyle==="raised"?s.firstChild.style.textShadow=`1px 1px ${vs}, 2px 2px ${vs}, 3px 3px ${vs}`:r.edgeStyle==="depressed"?s.firstChild.style.textShadow=`1px 1px ${KV}, 0 1px ${KV}, -1px -1px ${vs}, 0 -1px ${vs}`:r.edgeStyle==="uniform"&&(s.firstChild.style.textShadow=`0 0 4px ${vs}, 0 0 4px ${vs}, 0 0 4px ${vs}, 0 0 4px ${vs}`)),r.fontPercent&&r.fontPercent!==1){const o=ne.parseFloat(s.style.fontSize);s.style.fontSize=o*r.fontPercent+"px",s.style.height="auto",s.style.top="auto"}r.fontFamily&&r.fontFamily!=="default"&&(r.fontFamily==="small-caps"?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=Xje[r.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof ne.WebVTT!="function"||e.every(i=>!i.activeCues))return;const r=[];for(let i=0;i<e.length;++i){const n=e[i];for(let a=0;a<n.activeCues.length;++a)r.push(n.activeCues[a])}ne.WebVTT.processCues(ne,r,this.el_);for(let i=0;i<e.length;++i){const n=e[i];for(let a=0;a<n.activeCues.length;++a){const s=n.activeCues[a].displayState;Hh(s,"vjs-text-track-cue","vjs-text-track-cue-"+(n.language?n.language:i)),n.language&&Yp(s,"lang",n.language)}this.player_.textTrackSettings&&this.updateDisplayState(n)}}}Be.registerComponent("TextTrackDisplay",Zje);class Kje extends Be{createEl(){const e=this.player_.isAudio(),r=this.localize(e?"Audio Player":"Video Player"),i=It("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Be.registerComponent("LoadingSpinner",Kje);class Hn extends DC{createEl(e,r={},i={}){e="button",r=Object.assign({className:this.buildCSSClass()},r),i=Object.assign({type:"button"},i);const n=It(e,r,i);return this.player_.options_.experimentalSvgIcons||n.appendChild(It("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,r={}){const i=this.constructor.name;return Qt.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),Be.prototype.addChild.call(this,e,r)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Be.registerComponent("Button",Hn);class jne extends Hn{constructor(e,r){super(e,r),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const r=this.player_.play();if(e.type==="tap"||this.mouseused_&&"clientX"in e&&"clientY"in e){tu(r),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(!n){this.player_.tech(!0).focus();return}const a=()=>n.focus();e2(r)?r.then(a,()=>{}):this.setTimeout(a,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}jne.prototype.controlText_="Play Video";Be.registerComponent("BigPlayButton",jne);class Jje extends Hn{constructor(e,r){super(e,r),this.setIcon("cancel"),this.controlText(r&&r.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Be.registerComponent("CloseButton",Jje);class Vne extends Hn{constructor(e,r={}){super(e,r),r.replay=r.replay===void 0||r.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),r.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?tu(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",r=>this.handleSeeked(r))}}Vne.prototype.controlText_="Play";Be.registerComponent("PlayToggle",Vne);class Lg extends Be{constructor(e,r){super(e,r),this.on(e,["timeupdate","ended","seeking"],i=>this.update(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),r=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=It("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)} `},{role:"presentation"});return r.appendChild(i),this.contentEl_=It("span",{className:`${e}-display`},{role:"presentation"}),r.appendChild(this.contentEl_),r}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=cf(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let r=this.textNode_;r&&this.contentEl_.firstChild!==r&&(r=null,Qt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Ye.createTextNode(this.formattedTime_),this.textNode_&&(r?this.contentEl_.replaceChild(this.textNode_,r):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}Lg.prototype.labelText_="Time";Lg.prototype.controlText_="Time";Be.registerComponent("TimeDisplay",Lg);class VI extends Lg{buildCSSClass(){return"vjs-current-time"}updateContent(e){let r;this.player_.ended()?r=this.player_.duration():e&&e.target&&typeof e.target.pendingSeekTime=="function"?r=e.target.pendingSeekTime():r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)}}VI.prototype.labelText_="Current Time";VI.prototype.controlText_="Current Time";Be.registerComponent("CurrentTimeDisplay",VI);class $I extends Lg{constructor(e,r){super(e,r);const i=n=>this.updateContent(n);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const r=this.player_.duration();this.updateTextNode_(r)}}$I.prototype.labelText_="Duration";$I.prototype.controlText_="Duration";Be.registerComponent("DurationDisplay",$I);class Qje extends Be{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return r.appendChild(i),e.appendChild(r),e}}Be.registerComponent("TimeDivider",Qje);class WI extends Lg{constructor(e,r){super(e,r),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(It("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let r;this.player_.ended()?r=0:this.player_.remainingTimeDisplay?r=this.player_.remainingTimeDisplay():r=this.player_.remainingTime(),this.updateTextNode_(r)}}WI.prototype.labelText_="Remaining Time";WI.prototype.controlText_="Remaining Time";Be.registerComponent("RemainingTimeDisplay",WI);class eVe extends Be{constructor(e,r){super(e,r),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=It("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(It("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")} `})),this.contentEl_.appendChild(Ye.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Be.registerComponent("LiveDisplay",eVe);class $ne extends Hn{constructor(e,r){super(e,r),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=It("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}$ne.prototype.controlText_="Seek to live, currently playing live";Be.registerComponent("SeekToLive",$ne);function Jm(t,e,r){return t=Number(t),Math.min(r,Math.max(e,isNaN(t)?e:t))}var tVe=Object.freeze({__proto__:null,clamp:Jm});class YI extends Be{constructor(e,r){super(e,r),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,r={},i={}){return r.className=r.className+" vjs-slider",r=Object.assign({tabIndex:0},r),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,r,i)}handleMouseDown(e){const r=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!bu&&e.preventDefault(),mne(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const r=this.bar.el_.ownerDocument;yne(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(r,"mousemove",this.handleMouseMove_),this.off(r,"mouseup",this.handleMouseUp_),this.off(r,"touchmove",this.handleMouseMove_),this.off(r,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const r=this.vertical()?"height":"width";this.bar.el().style[r]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Jm(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const r=CC(this.el_,e);return this.vertical()?r.y:r.x}handleKeyDown(e){const r=this.options_.playerOptions.spatialNavigation,i=r&&r.enabled,n=r&&r.horizontalSeek;i?n&&e.key==="ArrowLeft"||!n&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):n&&e.key==="ArrowRight"||!n&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(this.pendingSeekTime()&&(this.pendingSeekTime(null),this.userSeek_(this.player_.currentTime())),super.handleKeyDown(e)):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Be.registerComponent("Slider",YI);const lA=(t,e)=>Jm(t/e*100,0,100).toFixed(2)+"%";class rVe extends Be{constructor(e,r){super(e,r),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),r=It("span",{className:"vjs-control-text"}),i=It("span",{textContent:this.localize("Loaded")}),n=Ye.createTextNode(": ");return this.percentageEl_=It("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(r),r.appendChild(i),r.appendChild(n),r.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const r=this.player_.liveTracker,i=this.player_.buffered(),n=r&&r.isLive()?r.seekableEnd():this.player_.duration(),a=this.player_.bufferedEnd(),s=this.partEls_,o=lA(a,n);this.percent_!==o&&(this.el_.style.width=o,Qc(this.percentageEl_,o),this.percent_=o);for(let u=0;u<i.length;u++){const l=i.start(u),c=i.end(u);let h=s[u];h||(h=this.el_.appendChild(It()),s[u]=h),!(h.dataset.start===l&&h.dataset.end===c)&&(h.dataset.start=l,h.dataset.end=c,h.style.left=lA(l,a),h.style.width=lA(c-l,a))}for(let u=s.length;u>i.length;u--)this.el_.removeChild(s[u-1]);s.length=i.length})}}Be.registerComponent("LoadProgressBar",rVe);class iVe extends Be{constructor(e,r){super(e,r),this.update=Cu(Ur(this,this.update),Gs)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,r,i){const n=cm(this.el_),a=qp(this.player_.el()),s=e.width*r;if(!a||!n)return;let o=e.left-a.left+s,u=e.width-s+(a.right-e.right);u||(u=e.width-s,o=s);let l=n.width/2;o<l?l+=l-o:u<l&&(l=u),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(i)}write(e){Qc(this.el_,e)}updateTime(e,r,i,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let a;const s=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),u=o-r*o;a=(u<1?"":"-")+cf(u,o)}else a=cf(i,s);this.update(e,r,a),n&&n()})}}Be.registerComponent("TimeTooltip",iVe);class qI extends Be{constructor(e,r){super(e,r),this.setIcon("circle"),this.update=Cu(Ur(this,this.update),Gs)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,r,i){const n=this.getChild("timeTooltip");if(!n)return;const a=i&&i.target&&typeof i.target.pendingSeekTime=="function"?i.target.pendingSeekTime():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,r,a)}}qI.prototype.options_={children:[]};!kn&&!Eo&&qI.prototype.options_.children.push("timeTooltip");Be.registerComponent("PlayProgressBar",qI);class Wne extends Be{constructor(e,r){super(e,r),this.update=Cu(Ur(this,this.update),Gs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r){const i=r*this.player_.duration();this.getChild("timeTooltip").updateTime(e,r,i,()=>{this.el_.style.left=`${e.width*r}px`})}}Wne.prototype.options_={children:["timeTooltip"]};Be.registerComponent("MouseTimeDisplay",Wne);class FC extends YI{constructor(e,r){r=Mr(FC.prototype.options_,r),r.children=[...r.children];const i=e.options_.disableSeekWhileScrubbingOnMobile&&(kn||Eo)||e.options_.disableSeekWhileScrubbingOnSTV;(!kn&&!Eo||i)&&r.children.splice(1,0,"mouseTimeDisplay"),super(e,r),this.shouldDisableSeekWhileScrubbing_=i,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=Ur(this,this.update),this.update=Cu(this.update_,Gs),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ye&&"visibilityState"in Ye&&this.on(Ye,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Ye.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Gs))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Ye.visibilityState==="hidden")return;const r=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),n=this.player_.liveTracker;let a=this.player_.duration();n&&n.isLive()&&(a=this.player_.liveTracker.liveCurrentTime()),this.percent_!==r&&(this.el_.setAttribute("aria-valuenow",(r*100).toFixed(2)),this.percent_=r),(this.currentTime_!==i||this.duration_!==a)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[cf(i,a),cf(a,a)],"{1} of {2}")),this.currentTime_=i,this.duration_=a),this.bar&&this.bar.update(qp(this.el()),this.getProgress(),e)}),r}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}pendingSeekTime(e){if(e!==void 0)if(e!==null){const r=this.player_.duration();this.pendingSeekTime_=Math.max(0,Math.min(e,r))}else this.pendingSeekTime_=null;return this.pendingSeekTime_}getPercent(){if(this.pendingSeekTime()!==null)return this.pendingSeekTime()/this.player_.duration();const e=this.getCurrentTime_();let r;const i=this.player_.liveTracker;return i&&i.isLive()?(r=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(r=1)):r=e/this.player_.duration(),r}handleMouseDown(e){hm(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbing_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,r=!1){if(!hm(e)||isNaN(this.player_.duration()))return;!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const n=this.calculateDistance(e),a=this.player_.liveTracker;if(!a||!a.isLive())i=n*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(n>=.99){a.seekToLiveEdge();return}const s=a.seekableStart(),o=a.liveCurrentTime();if(i=s+n*a.liveWindow(),i>=o&&(i=o),i<=s&&(i=s+.1),i===1/0)return}this.shouldDisableSeekWhileScrubbing_?this.pendingSeekTime(i):this.userSeek_(i),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?tu(this.player_.play()):this.update_()}handlePendingSeek_(e){this.player_.paused()||this.player_.pause();const r=this.pendingSeekTime()!==null?this.pendingSeekTime():this.player_.currentTime();this.pendingSeekTime(r+e),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}stepForward(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(this.options().stepSeconds):this.userSeek_(this.player_.currentTime()+this.options().stepSeconds)}stepBack(){this.shouldDisableSeekWhileScrubbing_?this.handlePendingSeek_(-this.options().stepSeconds):this.userSeek_(this.player_.currentTime()-this.options().stepSeconds)}handleAction(e){this.pendingSeekTime()!==null&&(this.userSeek_(this.pendingSeekTime()),this.pendingSeekTime(null)),this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const r=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const i=parseInt(e.key,10)*.1;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-this.options().stepSeconds*this.options().pageMultiplier)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+this.options().stepSeconds*this.options().pageMultiplier)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Ye&&"visibilityState"in Ye&&this.off(Ye,"visibilitychange",this.toggleVisibility_),super.dispose()}}FC.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar",stepSeconds:5,pageMultiplier:12};Be.registerComponent("SeekBar",FC);class Yne extends Be{constructor(e,r){super(e,r),this.handleMouseMove=Cu(Ur(this,this.handleMouseMove),Gs),this.throttledHandleMouseSeek=Cu(Ur(this,this.handleMouseSeek),Gs),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const r=this.getChild("seekBar");if(!r)return;const i=r.getChild("playProgressBar"),n=r.getChild("mouseTimeDisplay");if(!i&&!n)return;const a=r.el(),s=cm(a);let o=CC(a,e).x;o=Jm(o,0,1),n&&n.update(s,o),i&&i.update(s,r.getProgress())}handleMouseSeek(e){const r=this.getChild("seekBar");r&&r.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&tu(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const r=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.getChild("seekBar");r&&r.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}Yne.prototype.options_={children:["seekBar"]};Be.registerComponent("ProgressControl",Yne);class qne extends Hn{constructor(e,r){super(e,r),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Ye.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in ne?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Ye.exitPictureInPicture=="function"&&super.show()}}qne.prototype.controlText_="Picture-in-Picture";Be.registerComponent("PictureInPictureToggle",qne);class Xne extends Hn{constructor(e,r){super(e,r),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),Ye[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}Xne.prototype.controlText_="Fullscreen";Be.registerComponent("FullscreenToggle",Xne);const nVe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class aVe extends Be{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Be.registerComponent("VolumeLevel",aVe);class sVe extends Be{constructor(e,r){super(e,r),this.update=Cu(Ur(this,this.update),Gs)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,r,i,n){if(!i){const a=qp(this.el_),s=qp(this.player_.el()),o=e.width*r;if(!s||!a)return;const u=e.left-s.left+o,l=e.width-o+(s.right-e.right);let c=a.width/2;u<c?c+=c-u:l<c&&(c=l),c<0?c=0:c>a.width&&(c=a.width),this.el_.style.right=`-${c}px`}this.write(`${n}%`)}write(e){Qc(this.el_,e)}updateVolume(e,r,i,n,a){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,r,i,n.toFixed(0)),a&&a()})}}Be.registerComponent("VolumeLevelTooltip",sVe);class Zne extends Be{constructor(e,r){super(e,r),this.update=Cu(Ur(this,this.update),Gs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,r,i){const n=100*r;this.getChild("volumeLevelTooltip").updateVolume(e,r,i,n,()=>{i?this.el_.style.bottom=`${e.height*r}px`:this.el_.style.left=`${e.width*r}px`})}}Zne.prototype.options_={children:["volumeLevelTooltip"]};Be.registerComponent("MouseVolumeLevelDisplay",Zne);class IC extends YI{constructor(e,r){super(e,r),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){hm(e)&&super.handleMouseDown(e)}handleMouseMove(e){const r=this.getChild("mouseVolumeLevelDisplay");if(r){const i=this.el(),n=qp(i),a=this.vertical();let s=CC(i,e);s=a?s.y:s.x,s=Jm(s,0,1),r.update(n,s,a)}hm(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}IC.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!kn&&!Eo&&IC.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");IC.prototype.playerEvent="volumechange";Be.registerComponent("VolumeBar",IC);class Kne extends Be{constructor(e,r={}){r.vertical=r.vertical||!1,(typeof r.volumeBar>"u"||Wp(r.volumeBar))&&(r.volumeBar=r.volumeBar||{},r.volumeBar.vertical=r.vertical),super(e,r),nVe(this,e),this.throttledHandleMouseMove=Cu(Ur(this,this.handleMouseMove),Gs),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}Kne.prototype.options_={children:["volumeBar"]};Be.registerComponent("VolumeControl",Kne);const oVe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Jne extends Hn{constructor(e,r){super(e,r),oVe(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.volume(),i=this.player_.lastVolume_();if(r===0){const n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let r=3;this.setIcon("volume-high"),kn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),r=0):e<.33?(this.setIcon("volume-low"),r=1):e<.67&&(this.setIcon("volume-medium"),r=2),xC(this.el_,[0,1,2,3].reduce((i,n)=>i+`${n?" ":""}vjs-vol-${n}`,"")),Hh(this.el_,`vjs-vol-${r}`)}updateControlText_(){const r=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)}}Jne.prototype.controlText_="Mute";Be.registerComponent("MuteToggle",Jne);class Qne extends Be{constructor(e,r={}){typeof r.inline<"u"?r.inline=r.inline:r.inline=!0,(typeof r.volumeControl>"u"||Wp(r.volumeControl))&&(r.volumeControl=r.volumeControl||{},r.volumeControl.vertical=!r.inline),super(e,r),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),is(Ye,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),zn(Ye,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}Qne.prototype.options_={children:["muteToggle","volumeControl"]};Be.registerComponent("VolumePanel",Qne);class eae extends Hn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const r=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()?i.seekableEnd():this.player_.duration();let a;r+this.skipTime<=n?a=r+this.skipTime:a=n,this.player_.currentTime(a)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}eae.prototype.controlText_="Skip Forward";Be.registerComponent("SkipForward",eae);class tae extends Hn{constructor(e,r){super(e,r),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const r=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()&&i.seekableStart();let a;n&&r-this.skipTime<=n?a=n:r>=this.skipTime?a=r-this.skipTime:a=0,this.player_.currentTime(a)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}tae.prototype.controlText_="Skip Backward";Be.registerComponent("SkipBackward",tae);class rae extends Be{constructor(e,r){super(e,r),r&&(this.menuButton_=r.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof Be&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Be&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const r=this.addChild(e);r&&this.addEventListenerForItem(r)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=It(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const r=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),is(r,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),r}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const r=e.relatedTarget||Ye.activeElement;if(!this.children().some(i=>i.el()===r)){const i=this.menuButton_;i&&i.buttonPressed_&&r!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const r=this.children();if(!Array.isArray(r))return;const i=r.filter(n=>n.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(e<0?e=0:e>=r.length&&(e=r.length-1),this.focusedChild_=e,r[e].el_.focus())}}Be.registerComponent("Menu",rae);class XI extends Be{constructor(e,r={}){super(e,r),this.menuButton_=new Hn(e,r),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=Hn.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const n=a=>this.handleClick(a);this.handleMenuKeyUp_=a=>this.handleMenuKeyUp(a),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",a=>this.handleKeyDown(a)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),is(Ye,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",a=>this.handleMouseLeave(a)),this.on("keydown",a=>this.handleSubmenuKeyDown(a))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new rae(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const r=It("li",{className:"vjs-menu-title",textContent:di(this.options_.title),tabIndex:-1}),i=new Be(this.player_,{el:r});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let r=0;r<this.items.length;r++)e.addItem(this.items[r]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const r=Hn.prototype.buildCSSClass();return`vjs-menu-button ${e} ${r} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,r=this.menuButton_.el()){return this.menuButton_.controlText(e,r)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),zn(Ye,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),kn&&fne())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Be.registerComponent("MenuButton",XI);class ZI extends XI{constructor(e,r){const i=r.tracks;if(super(e,r),this.items.length<=1&&this.hide(),!i)return;const n=Ur(this,this.update);i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),i.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n),i.removeEventListener("labelchange",n)})}}Be.registerComponent("TrackButton",ZI);class Qm extends DC{constructor(e,r){super(e,r),this.selectable=r.selectable,this.isSelected_=r.selected||!1,this.multiSelectable=r.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,r,i){this.nonIconControl=!0;const n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},r),i),a=It("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(a):n.replaceChild(a,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Be.registerComponent("MenuItem",Qm);class ey extends Qm{constructor(e,r){const i=r.track,n=e.textTracks();r.label=i.label||i.language||"Unknown",r.selected=i.mode==="showing",super(e,r),this.track=i,this.kinds=(r.kinds||[r.kind||this.track.kind]).filter(Boolean);const a=(...o)=>{this.handleTracksChange.apply(this,o)},s=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],a),n.addEventListener("change",a),n.addEventListener("selectedlanguagechange",s),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],a),n.removeEventListener("change",a),n.removeEventListener("selectedlanguagechange",s)}),n.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof ne.Event!="object")try{o=new ne.Event("change")}catch{}o||(o=Ye.createEvent("Event"),o.initEvent("change",!0,!0)),n.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const r=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let n=0;n<i.length;n++){const a=i[n];this.kinds.indexOf(a.kind)!==-1&&(a===r?a.mode!=="showing"&&(a.mode="showing"):a.mode!=="disabled"&&(a.mode="disabled"))}}handleTracksChange(e){const r=this.track.mode==="showing";r!==this.isSelected_&&this.selected(r)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Be.registerComponent("TextTrackMenuItem",ey);class iae extends ey{constructor(e,r){r.track={player:e,kind:r.kind,kinds:r.kinds,default:!1,mode:"disabled"},r.kinds||(r.kinds=[r.kind]),r.label?r.track.label=r.label:r.track.label=r.kinds.join(" and ")+" off",r.selectable=!0,r.multiSelectable=!1,super(e,r)}handleTracksChange(e){const r=this.player().textTracks();let i=!0;for(let n=0,a=r.length;n<a;n++){const s=r[n];if(this.options_.kinds.indexOf(s.kind)>-1&&s.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const r=this.player().textTracks();let i=!0;for(let n=0,a=r.length;n<a;n++){const s=r[n];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&s.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Be.registerComponent("OffTextTrackMenuItem",iae);class Og extends ZI{constructor(e,r={}){r.tracks=e.textTracks(),super(e,r)}createItems(e=[],r=ey){let i;this.label_&&(i=`${this.label_} off`),e.push(new iae(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let a=0;a<n.length;a++){const s=n[a];if(this.kinds_.indexOf(s.kind)>-1){const o=new r(this.player_,{track:s,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${s.kind}-menu-item`),e.push(o)}}return e}}Be.registerComponent("TextTrackButton",Og);class nae extends Qm{constructor(e,r){const i=r.track,n=r.cue,a=e.currentTime();r.selectable=!0,r.multiSelectable=!1,r.label=n.text,r.selected=n.startTime<=a&&a<n.endTime,super(e,r),this.track=i,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Be.registerComponent("ChaptersTrackMenuItem",nae);class KI extends Og{constructor(e,r,i){super(e,r,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(n=>{n.selected(this.track_.activeCues[0]===n.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const r=this.findChaptersTrack();r!==this.track_?(this.setTrack(r),super.update()):(!this.items||r&&r.cues&&r.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let r=e.length-1;r>=0;r--){const i=e[r];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(di(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const r=this.track_.cues;if(!r)return e;for(let i=0,n=r.length;i<n;i++){const a=r[i],s=new nae(this.player_,{track:this.track_,cue:a});e.push(s)}return e}}KI.prototype.kind_="chapters";KI.prototype.controlText_="Chapters";Be.registerComponent("ChaptersButton",KI);class JI extends Og{constructor(e,r,i){super(e,r,i),this.setIcon("audio-description");const n=e.textTracks(),a=Ur(this,this.handleTracksChange);n.addEventListener("change",a),this.on("dispose",function(){n.removeEventListener("change",a)})}handleTracksChange(e){const r=this.player().textTracks();let i=!1;for(let n=0,a=r.length;n<a;n++){const s=r[n];if(s.kind!==this.kind_&&s.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}JI.prototype.kind_="descriptions";JI.prototype.controlText_="Descriptions";Be.registerComponent("DescriptionsButton",JI);class QI extends Og{constructor(e,r,i){super(e,r,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}QI.prototype.kind_="subtitles";QI.prototype.controlText_="Subtitles";Be.registerComponent("SubtitlesButton",QI);class eB extends ey{constructor(e,r){r.track={player:e,kind:r.kind,label:r.kind+" settings",selectable:!1,default:!1,mode:"disabled"},r.selectable=!1,r.name="CaptionSettingsMenuItem",super(e,r),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+r.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Be.registerComponent("CaptionSettingsMenuItem",eB);class tB extends Og{constructor(e,r,i){super(e,r,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new eB(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}tB.prototype.kind_="captions";tB.prototype.controlText_="Captions";Be.registerComponent("CaptionsButton",tB);class aae extends ey{createEl(e,r,i){const n=super.createEl(e,r,i),a=n.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):a.appendChild(It("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(It("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),n}}Be.registerComponent("SubsCapsMenuItem",aae);class rB extends Og{constructor(e,r={}){super(e,r),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(di(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new eB(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,aae),e}}rB.prototype.kinds_=["captions","subtitles"];rB.prototype.controlText_="Subtitles";Be.registerComponent("SubsCapsButton",rB);class sae extends Qm{constructor(e,r){const i=r.track,n=e.audioTracks();r.label=i.label||i.language||"Unknown",r.selected=i.enabled,super(e,r),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const a=(...s)=>{this.handleTracksChange.apply(this,s)};n.addEventListener("change",a),this.on("dispose",()=>{n.removeEventListener("change",a)})}createEl(e,r,i){const n=super.createEl(e,r,i),a=n.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(a.appendChild(It("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),a.appendChild(It("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const r=this.player_.audioTracks();for(let i=0;i<r.length;i++){const n=r[i];n!==this.track&&(n.enabled=n===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Be.registerComponent("AudioTrackMenuItem",sae);class oae extends ZI{constructor(e,r={}){r.tracks=e.audioTracks(),super(e,r),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const r=this.player_.audioTracks();for(let i=0;i<r.length;i++){const n=r[i];e.push(new sae(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}}oae.prototype.controlText_="Audio Track";Be.registerComponent("AudioTrackButton",oae);class iB extends Qm{constructor(e,r){const i=r.rate,n=parseFloat(i,10);r.label=i,r.selected=n===e.playbackRate(),r.selectable=!0,r.multiSelectable=!1,super(e,r),this.label=i,this.rate=n,this.on(e,"ratechange",a=>this.update(a))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}iB.prototype.contentElType="button";Be.registerComponent("PlaybackRateMenuItem",iB);class uae extends XI{constructor(e,r){super(e,r),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=It("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),r=[];for(let i=e.length-1;i>=0;i--)r.push(new iB(this.player(),{rate:e[i]+"x"}));return r}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}uae.prototype.controlText_="Playback Rate";Be.registerComponent("PlaybackRateMenuButton",uae);class lae extends Be{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",r={},i={}){return r.className||(r.className=this.buildCSSClass()),super.createEl(e,r,i)}}Be.registerComponent("Spacer",lae);class uVe extends lae{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:" "})}}Be.registerComponent("CustomControlSpacer",uVe);class cae extends Be{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}cae.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Be.registerComponent("ControlBar",cae);class hae extends Pg{constructor(e,r){super(e,r),this.on(e,"error",i=>{this.open(i)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}hae.prototype.options_=Object.assign({},Pg.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Be.registerComponent("ErrorDisplay",hae);class fae extends Be{constructor(e,r={}){super(e,r),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),It("select",{id:this.options_.id},{},this.options_.SelectOptions.map(r=>{const i=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Hs()}`)+"-"+r[1].replace(/\W+/g,""),n=It("option",{id:i,value:this.localize(r[0]),textContent:this.localize(r[1])});return n.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${i}`),n}))}}Be.registerComponent("TextTrackSelect",fae);class Uh extends Be{constructor(e,r={}){super(e,r);const i=It("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(i);const n=this.options_.selects;for(const a of n){const s=this.options_.selectConfigs[a],o=s.className,u=s.id.replace("%s",this.options_.id_);let l=null;const c=`vjs_select_${Hs()}`;if(this.options_.type==="colors"){l=It("span",{className:o});const f=It("label",{id:u,className:"vjs-label",textContent:this.localize(s.label)});f.setAttribute("for",c),l.appendChild(f)}const h=new fae(e,{SelectOptions:s.options,legendId:this.options_.legendId,id:c,labelId:u});this.addChild(h),this.options_.type==="colors"&&(l.appendChild(h.el()),this.el().appendChild(l))}}createEl(){return It("fieldset",{className:this.options_.className})}}Be.registerComponent("TextTrackFieldset",Uh);class dae extends Be{constructor(e,r={}){super(e,r);const i=this.options_.textTrackComponentid,n=new Uh(e,{id_:i,legendId:`captions-text-legend-${i}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(n);const a=new Uh(e,{id_:i,legendId:`captions-background-${i}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a);const s=new Uh(e,{id_:i,legendId:`captions-window-${i}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s)}createEl(){return It("div",{className:"vjs-track-settings-colors"})}}Be.registerComponent("TextTrackSettingsColors",dae);class pae extends Be{constructor(e,r={}){super(e,r);const i=this.options_.textTrackComponentid,n=new Uh(e,{id_:i,legendId:`captions-font-size-${i}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(n);const a=new Uh(e,{id_:i,legendId:`captions-edge-style-${i}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a);const s=new Uh(e,{id_:i,legendId:`captions-font-family-${i}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s)}createEl(){return It("div",{className:"vjs-track-settings-font"})}}Be.registerComponent("TextTrackSettingsFont",pae);class gae extends Be{constructor(e,r={}){super(e,r);const i=new Hn(e,{controlText:this.localize("restore all settings to the default values"),className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const n=this.localize("Done"),a=new Hn(e,{controlText:n,className:"vjs-done-button"});a.el().classList.remove("vjs-control","vjs-button"),a.el().textContent=n,this.addChild(a)}createEl(){return It("div",{className:"vjs-track-settings-controls"})}}Be.registerComponent("TrackSettingsControls",gae);const cA="vjs-text-track-settings",QV=["#000","Black"],e$=["#00F","Blue"],t$=["#0FF","Cyan"],r$=["#0F0","Green"],i$=["#F0F","Magenta"],n$=["#F00","Red"],a$=["#FFF","White"],s$=["#FF0","Yellow"],hA=["1","Opaque"],fA=["0.5","Semi-Transparent"],o$=["0","Transparent"],hc={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[QV,a$,n$,r$,e$,s$,i$,t$],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[hA,fA,o$],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[a$,QV,n$,r$,e$,s$,i$,t$],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[hA,fA],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[o$,fA,hA],className:"vjs-window-opacity vjs-opacity"}};hc.windowColor.options=hc.backgroundColor.options;function vae(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function lVe(t,e){const r=t.options[t.options.selectedIndex].value;return vae(r,e)}function cVe(t,e,r){if(e){for(let i=0;i<t.options.length;i++)if(vae(t.options[i].value,r)===e){t.selectedIndex=i;break}}}class hVe extends Pg{constructor(e,r){r.temporary=!1,super(e,r),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=It("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),r.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const r=new dae(e,{textTrackComponentid:this.id_,selectConfigs:hc,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(r);const i=new pae(e,{textTrackComponentid:this.id_,selectConfigs:hc,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);const n=new gae(e);this.addChild(n)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),rp(hc,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return ane(hc,(e,r,i)=>{const n=lVe(this.$(r.selector),r.parser);return n!==void 0&&(e[i]=n),e},{})}setValues(e){rp(hc,(r,i)=>{cVe(this.$(r.selector),e[i],r.parser)})}setDefaults(){rp(hc,e=>{const r=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=r})}restoreSettings(){let e;try{e=JSON.parse(ne.localStorage.getItem(cA))}catch(r){Qt.warn(r)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?ne.localStorage.setItem(cA,JSON.stringify(e)):ne.localStorage.removeItem(cA)}catch(r){Qt.warn(r)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Be.registerComponent("TextTrackSettings",hVe);class fVe extends Be{constructor(e,r){let i=r.ResizeObserver||ne.ResizeObserver;r.ResizeObserver===null&&(i=!1);const n=Mr({createEl:!i,reportTouchActivity:!1},r);super(e,n),this.ResizeObserver=r.ResizeObserver||ne.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=Dne(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const a=this.debouncedHandler_;let s=this.unloadListener_=function(){zn(this,"resize",a),zn(this,"unload",s),s=null};is(this.el_.contentWindow,"unload",s),is(this.el_.contentWindow,"resize",a)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Be.registerComponent("ResizeManager",fVe);const dVe={trackingThreshold:20,liveTolerance:15};class pVe extends Be{constructor(e,r){const i=Mr(dVe,r,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=n=>this.handlePlay(n),this.handleFirstTimeupdate_=n=>this.handleFirstTimeupdate(n),this.handleSeeked_=n=>this.handleSeeked(n),this.seekToLiveEdge_=n=>this.seekToLiveEdge(n),this.reset_(),this.on(this.player_,"durationchange",n=>this.handleDurationchange(n)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const r=Number(ne.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+i;const n=this.liveCurrentTime(),a=this.player_.currentTime();let s=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-a)>this.options_.liveTolerance;(!this.timeupdateSeen_||n===1/0)&&(s=!1),s!==this.behindLiveEdge_&&(this.behindLiveEdge_=s,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Gs),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),r=[];let i=e?e.length:0;for(;i--;)r.push(e.end(i));return r.length?r.sort()[r.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),r=[];let i=e?e.length:0;for(;i--;)r.push(e.start(i));return r.length?r.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Be.registerComponent("LiveTracker",pVe);class gVe extends Be{constructor(e,r){super(e,r),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:It("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Hs()}`}),description:It("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Hs()}`})},It("div",{className:"vjs-title-bar"},{},sne(this.els))}updateDom_(){const e=this.player_.tech_,r=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(n=>{const a=this.state[n],s=this.els[n],o=i[n];EC(s),a&&Qc(s,a),r&&(r.removeAttribute(o),a&&r.setAttribute(o,s.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,r=e&&e.el_;r&&(r.removeAttribute("aria-labelledby"),r.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Be.registerComponent("TitleBar",gVe);const vVe={initialDisplay:4e3,position:[],takeFocus:!1};class mVe extends Hn{constructor(e,r){r=Mr(vVe,r),super(e,r),this.controlText(r.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],i=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=It("button",{},{type:"button",class:this.buildCSSClass()},It("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Be.registerComponent("TransientButton",mVe);const BD=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const r=t.$$("source"),i=[];let n="";if(!r.length)return!1;for(let a=0;a<r.length;a++){const s=r[a].src;s&&i.indexOf(s)===-1&&i.push(s)}return i.length?(i.length===1&&(n=i[0]),t.triggerSourceset(n),!0):!1},yVe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Ye.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const r=Ye.createDocumentFragment();for(;e.childNodes.length;)r.appendChild(e.childNodes[0]);return this.innerText="",ne.Element.prototype.appendChild.call(this,r),this.innerHTML}}),mae=(t,e)=>{let r={};for(let i=0;i<t.length&&(r=Object.getOwnPropertyDescriptor(t[i],e),!(r&&r.set&&r.get));i++);return r.enumerable=!0,r.configurable=!0,r},_Ve=t=>mae([t.el(),ne.HTMLMediaElement.prototype,ne.Element.prototype,yVe],"innerHTML"),u$=function(t){const e=t.el();if(e.resetSourceWatch_)return;const r={},i=_Ve(t),n=a=>(...s)=>{const o=a.apply(e,s);return BD(t),o};["append","appendChild","insertAdjacentHTML"].forEach(a=>{e[a]&&(r[a]=e[a],e[a]=n(r[a]))}),Object.defineProperty(e,"innerHTML",Mr(i,{set:n(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(r).forEach(a=>{e[a]=r[a]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)},xVe=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?zne(ne.Element.prototype.getAttribute.call(this,"src")):""},set(t){return ne.Element.prototype.setAttribute.call(this,"src",t),t}}),bVe=t=>mae([t.el(),ne.HTMLMediaElement.prototype,xVe],"src"),CVe=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const r=bVe(t),i=e.setAttribute,n=e.load;Object.defineProperty(e,"src",Mr(r,{set:a=>{const s=r.set.call(e,a);return t.triggerSourceset(e.src),s}})),e.setAttribute=(a,s)=>{const o=i.call(e,a,s);return/src/i.test(a)&&t.triggerSourceset(e.src),o},e.load=()=>{const a=n.call(e);return BD(t)||(t.triggerSourceset(""),u$(t)),a},e.currentSrc?t.triggerSourceset(e.currentSrc):BD(t)||u$(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=n,e.setAttribute=i,Object.defineProperty(e,"src",r),e.resetSourceWatch_&&e.resetSourceWatch_()}};class ut extends Ut{constructor(e,r){super(e,r);const i=e.source;let n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const a=this.el_.childNodes;let s=a.length;const o=[];for(;s--;){const u=a[s];u.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(u),this.remoteTextTracks().addTrack(u.track),this.textTracks().addTrack(u.track),!n&&!this.el_.hasAttribute("crossorigin")&&wC(u.src)&&(n=!0)):o.push(u))}for(let u=0;u<o.length;u++)this.el_.removeChild(o[u])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&Qt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(lm||yC)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),ut.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){CVe(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let r;const i=()=>{r=[];for(let a=0;a<e.length;a++){const s=e[a];s.kind==="metadata"&&r.push({track:s,storedMode:s.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const n=()=>{for(let a=0;a<r.length;a++){const s=r[a];s.track.mode==="disabled"&&s.track.mode!==s.storedMode&&(s.track.mode=s.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)})}overrideNative_(e,r){if(r!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach(n=>{this.el()[`${i}Tracks`].removeEventListener(n,this[`${i}TracksListeners_`][n])}),this[`featuresNative${e}Tracks`]=!r,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const r=Os[e],i=this.el()[r.getterName],n=this[r.getterName]();if(!this[`featuresNative${r.capitalName}Tracks`]||!i||!i.addEventListener)return;const a={change:o=>{const u={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(u),e==="text"&&this[Zp.remoteText.getterName]().trigger(u)},addtrack(o){n.addTrack(o.track)},removetrack(o){n.removeTrack(o.track)}},s=function(){const o=[];for(let u=0;u<n.length;u++){let l=!1;for(let c=0;c<i.length;c++)if(i[c]===n[u]){l=!0;break}l||o.push(n[u])}for(;o.length;)n.removeTrack(o.shift())};this[r.getterName+"Listeners_"]=a,Object.keys(a).forEach(o=>{const u=a[o];i.addEventListener(o,u),this.on("dispose",l=>i.removeEventListener(o,u))}),this.on("loadstart",s),this.on("dispose",o=>this.off("loadstart",s))}proxyNativeTracks_(){Os.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),ut.disposeMediaElement(e),e=i}else{e=Ye.createElement("video");const i=this.options_.tag&&cc(this.options_.tag),n=Mr({},i);(!lm||this.options_.nativeControlsForTouch!==!0)&&delete n.controls,gne(e,Object.assign(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Yp(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const r=["loop","muted","playsinline","autoplay"];for(let i=0;i<r.length;i++){const n=r[i],a=this.options_[n];typeof a<"u"&&(a?Yp(e,n,n):bC(e,n),e[n]=a)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const n=function(){i=!0};this.on("loadstart",n);const a=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",a),this.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",a),i||this.trigger("loadstart")});return}const r=["loadstart"];r.push("loadedmetadata"),e.readyState>=2&&r.push("loadeddata"),e.readyState>=3&&r.push("canplay"),e.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&_C?this.el_.fastSeek(e):this.el_.currentTime=e}catch(r){Qt(r,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Eo&&bu&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},r=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",r),this.on("dispose",()=>{this.off("webkitbeginfullscreen",r),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)tu(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{e.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,r){if(!e)return Qt.error("Invalid source URL."),!1;const i={src:e};r&&(i.type=r);const n=It("source",{},i);return this.el_.appendChild(n),!0}removeSourceElement(e){if(!e)return Qt.error("Source URL is required to remove the source element."),!1;const r=this.el_.querySelectorAll("source");for(const i of r)if(i.src===e)return this.el_.removeChild(i),!0;return Qt.warn(`No matching source element found with src: ${e}`),!1}reset(){ut.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,r,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,r,i):super.addTextTrack(e,r,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const r=Ye.createElement("track");return e.kind&&(r.kind=e.kind),e.label&&(r.label=e.label),(e.language||e.srclang)&&(r.srclang=e.language||e.srclang),e.default&&(r.default=e.default),e.id&&(r.id=e.id),e.src&&(r.src=e.src),r}addRemoteTextTrack(e,r){const i=super.addRemoteTextTrack(e,r);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const r=this.$$("track");let i=r.length;for(;i--;)(e===r[i]||e===r[i].track)&&this.el().removeChild(r[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),ne.performance&&(e.creationTime=ne.performance.now()),e}}gC(ut,"TEST_VID",function(){if(!Ig())return;const t=Ye.createElement("video"),e=Ye.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});ut.isSupported=function(){try{ut.TEST_VID.volume=.5}catch{return!1}return!!(ut.TEST_VID&&ut.TEST_VID.canPlayType)};ut.canPlayType=function(t){return ut.TEST_VID.canPlayType(t)};ut.canPlaySource=function(t,e){return ut.canPlayType(t.type)};ut.canControlVolume=function(){try{const t=ut.TEST_VID.volume;ut.TEST_VID.volume=t/2+.1;const e=t!==ut.TEST_VID.volume;return e&&kn?(ne.setTimeout(()=>{ut&&ut.prototype&&(ut.prototype.featuresVolumeControl=t!==ut.TEST_VID.volume)}),!1):e}catch{return!1}};ut.canMuteVolume=function(){try{const t=ut.TEST_VID.muted;return ut.TEST_VID.muted=!t,ut.TEST_VID.muted?Yp(ut.TEST_VID,"muted","muted"):bC(ut.TEST_VID,"muted","muted"),t!==ut.TEST_VID.muted}catch{return!1}};ut.canControlPlaybackRate=function(){if(Eo&&bu&&vC<58)return!1;try{const t=ut.TEST_VID.playbackRate;return ut.TEST_VID.playbackRate=t/2+.1,t!==ut.TEST_VID.playbackRate}catch{return!1}};ut.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Ye.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Ye.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Ye.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Ye.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};ut.supportsNativeTextTracks=function(){return _C||kn&&bu};ut.supportsNativeVideoTracks=function(){return!!(ut.TEST_VID&&ut.TEST_VID.videoTracks)};ut.supportsNativeAudioTracks=function(){return!!(ut.TEST_VID&&ut.TEST_VID.audioTracks)};ut.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){gC(ut.prototype,t,()=>ut[e](),!0)});ut.prototype.featuresVolumeControl=ut.canControlVolume();ut.prototype.movingMediaElementInDOM=!kn;ut.prototype.featuresFullscreenResize=!0;ut.prototype.featuresProgressEvents=!0;ut.prototype.featuresTimeupdateEvents=!0;ut.prototype.featuresVideoFrameCallback=!!(ut.TEST_VID&&ut.TEST_VID.requestVideoFrameCallback);ut.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};ut.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let r=e.length;for(;r--;)t.removeChild(e[r]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){ut.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){ut.prototype["set"+di(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){ut.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){ut.prototype["set"+di(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){ut.prototype[t]=function(){return this.el_[t]()}});Ut.withSourceHandlers(ut);ut.nativeSourceHandler={};ut.nativeSourceHandler.canPlayType=function(t){try{return ut.TEST_VID.canPlayType(t)}catch{return""}};ut.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return ut.nativeSourceHandler.canPlayType(t.type);if(t.src){const r=UI(t.src);return ut.nativeSourceHandler.canPlayType(`video/${r}`)}return""};ut.nativeSourceHandler.handleSource=function(t,e,r){e.setSrc(t.src)};ut.nativeSourceHandler.dispose=function(){};ut.registerSourceHandler(ut.nativeSourceHandler);Ut.registerTech("Html5",ut);const yae=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],dA={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},MD=["tiny","xsmall","small","medium","large","xlarge","huge"],j5={};MD.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;j5[t]=`vjs-layout-${e}`});const EVe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class Tr extends Be{constructor(e,r,i){if(e.id=e.id||r.id||`vjs_video_${Hs()}`,r=Object.assign(Tr.getTagSettings(e),r),r.initChildren=!1,r.createEl=!1,r.evented=!1,r.reportTouchActivity=!1,!r.language){const s=e.closest("[lang]");s&&(r.language=s.getAttribute("lang"))}if(super(null,r,i),this.boundDocumentFullscreenChange_=s=>this.documentFullscreenChange_(s),this.boundFullWindowOnEscKey_=s=>this.fullWindowOnEscKey(s),this.boundUpdateStyleEl_=s=>this.updateStyleEl_(s),this.boundApplyInitTime_=s=>this.applyInitTime_(s),this.boundUpdateCurrentBreakpoint_=s=>this.updateCurrentBreakpoint_(s),this.boundHandleTechClick_=s=>this.handleTechClick_(s),this.boundHandleTechDoubleClick_=s=>this.handleTechDoubleClick_(s),this.boundHandleTechTouchStart_=s=>this.handleTechTouchStart_(s),this.boundHandleTechTouchMove_=s=>this.handleTechTouchMove_(s),this.boundHandleTechTouchEnd_=s=>this.handleTechTouchEnd_(s),this.boundHandleTechTap_=s=>this.handleTechTap_(s),this.boundUpdatePlayerHeightOnAudioOnlyMode_=s=>this.updatePlayerHeightOnAudioOnlyMode_(s),this.isFullscreen_=!1,this.log=ine(this.id_),this.fsApi_=S4,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&cc(e),this.language(this.options_.language),r.languages){const s={};Object.getOwnPropertyNames(r.languages).forEach(function(o){s[o.toLowerCase()]=r.languages[o]}),this.languages_=s}else this.languages_=Tr.prototype.options_.languages;this.resetCache_(),this.poster_=r.poster||"",this.controls_=!!r.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),r.plugins&&Object.keys(r.plugins).forEach(s=>{if(typeof this[s]!="function")throw new Error(`plugin "${s}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),NI(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(is(Ye,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=Mr(this.options_);if(r.plugins&&Object.keys(r.plugins).forEach(s=>{this[s](r.plugins[s])}),r.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(r.playbackRates),r.experimentalSvgIcons){const o=new ne.DOMParser().parseFromString(Wje,"image/svg+xml");if(o.querySelector("parsererror"))Qt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const l=o.documentElement;l.style.display="none",this.el_.appendChild(l),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),r.spatialNavigation&&r.spatialNavigation.enabled&&(this.spatialNavigation=new Yje(this),this.addClass("vjs-spatial-navigation-enabled")),lm&&this.addClass("vjs-touch-enabled"),kn||this.addClass("vjs-workinghover"),Tr.players[this.id_]=this;const a=bD.split(".")[0];this.addClass(`vjs-v${a}`),this.userActive(!0),this.reportUserActivity(),this.one("play",s=>this.listenForUserActivity_(s)),this.on("keydown",s=>this.handleKeyDown(s)),this.on("languagechange",s=>this.handleLanguagechange(s)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),zn(Ye,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),zn(Ye,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),Tr.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Uje(this),ra.names.forEach(e=>{const r=ra[e],i=this[r.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,r,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const n=this.tag.tagName.toLowerCase()==="video-js";i?r=this.el_=e.parentNode:n||(r=this.el_=super.createEl("div"));const a=cc(e);if(n){for(r=this.el_=e,e=this.tag=Ye.createElement("video");r.children.length;)e.appendChild(r.firstChild);J1(r,"video-js")||Hh(r,"video-js"),r.appendChild(e),i=this.playerElIngest_=r,Object.keys(r).forEach(u=>{try{e[u]=r[u]}catch{}})}e.setAttribute("tabindex","-1"),a.tabindex="-1",bu&&mC&&(e.setAttribute("role","application"),a.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(u){n&&u==="class"||r.setAttribute(u,a[u]),n&&e.setAttribute(u,a[u])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=r.player=this,this.addClass("vjs-paused");const s=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(u=>hne[u]).map(u=>"vjs-device-"+u.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...s),ne.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=Ane("vjs-styles-dimensions");const u=jc(".vjs-styles-defaults"),l=jc("head");l.insertBefore(this.styleEl_,u?u.nextSibling:l.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let u=0;u<o.length;u++){const l=o.item(u);Hh(l,"vjs-hidden"),l.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(r,e),ED(e,r),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Qt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,r){const i=e+"_";if(r===void 0)return this[i]||0;if(r===""||r==="auto"){this[i]=void 0,this.updateStyleEl_();return}const n=parseFloat(r);if(isNaN(n)){Qt.error(`Improper value "${r}" supplied for for ${e}`);return}this[i]=n,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,ol(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),xje(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(ne.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,u=typeof this.height_=="number"?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(o>=0&&(l.width=o),u>=0&&(l.height=u));return}let e,r,i,n;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const a=i.split(":"),s=a[1]/a[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/s:e=this.videoWidth()||300,this.height_!==void 0?r=this.height_:r=e*s,/^[^a-zA-Z]/.test(this.id())?n="dimensions-"+this.id():n=this.id()+"-dimensions",this.addClass(n),wne(this.styleEl_,`
      .${n} {
        width: ${e}px;
        height: ${r}px;
      }

      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${s*100}%;
      }
    `)}loadTech_(e,r){this.tech_&&this.unloadTech_();const i=di(e),n=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(Ut.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let a=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(a=!1);const s={source:r,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};ra.names.forEach(u=>{const l=ra[u];s[l.getterName]=this[l.privateName]}),Object.assign(s,this.options_[i]),Object.assign(s,this.options_[n]),Object.assign(s,this.options_[e.toLowerCase()]),this.tag&&(s.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(s.startTime=this.cache_.currentTime);const o=Ut.getTech(e);if(!o)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new o(s),this.tech_.ready(Ur(this,this.handleTechReady_),!0),FD.jsonToTextTracks(this.textTracksJson_||[],this.tech_),yae.forEach(u=>{this.on(this.tech_,u,l=>this[`handleTech${di(u)}_`](l))}),Object.keys(dA).forEach(u=>{this.on(this.tech_,u,l=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${dA[u]}_`].bind(this),event:l});return}this[`handleTech${dA[u]}_`](l)})}),this.on(this.tech_,"loadstart",u=>this.handleTechLoadStart_(u)),this.on(this.tech_,"sourceset",u=>this.handleTechSourceset_(u)),this.on(this.tech_,"waiting",u=>this.handleTechWaiting_(u)),this.on(this.tech_,"ended",u=>this.handleTechEnded_(u)),this.on(this.tech_,"seeking",u=>this.handleTechSeeking_(u)),this.on(this.tech_,"play",u=>this.handleTechPlay_(u)),this.on(this.tech_,"pause",u=>this.handleTechPause_(u)),this.on(this.tech_,"durationchange",u=>this.handleTechDurationChange_(u)),this.on(this.tech_,"fullscreenchange",(u,l)=>this.handleTechFullscreenChange_(u,l)),this.on(this.tech_,"fullscreenerror",(u,l)=>this.handleTechFullscreenError_(u,l)),this.on(this.tech_,"enterpictureinpicture",u=>this.handleTechEnterPictureInPicture_(u)),this.on(this.tech_,"leavepictureinpicture",u=>this.handleTechLeavePictureInPicture_(u)),this.on(this.tech_,"error",u=>this.handleTechError_(u)),this.on(this.tech_,"posterchange",u=>this.handleTechPosterChange_(u)),this.on(this.tech_,"textdata",u=>this.handleTechTextData_(u)),this.on(this.tech_,"ratechange",u=>this.handleTechRateChange_(u)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&ED(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){ra.names.forEach(e=>{const r=ra[e];this[r.privateName]=this[r.getterName]()}),this.textTracksJson_=FD.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Qt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":bD}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const r=()=>{const n=this.muted();this.muted(!0);const a=()=>{this.muted(n)};this.playTerminatedQueue_.push(a);const s=this.play();if(e2(s))return s.catch(o=>{throw a(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let i;if(e==="any"&&!this.muted()?(i=this.play(),e2(i)&&(i=i.catch(r))):e==="muted"&&!this.muted()?i=r():i=this.play(),!!e2(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let r=e,i="";typeof r!="string"&&(r=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!i&&(i=$je(this,r)),this.cache_.source=Mr({},e,{src:r,type:i});const n=this.cache_.sources.filter(u=>u.src&&u.src===r),a=[],s=this.$$("source"),o=[];for(let u=0;u<s.length;u++){const l=cc(s[u]);a.push(l),l.src&&l.src===r&&o.push(l.src)}o.length&&!n.length?this.cache_.sources=a:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r}handleTechSourceset_(e){if(!this.changingSrc_){let r=a=>this.updateSourceCaches_(a);const i=this.currentSource().src,n=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==i)&&(r=()=>{}),r(n),e.src||this.tech_.any(["sourceset","loadstart"],a=>{if(a.type==="sourceset")return;const s=this.techGet_("currentSrc");this.lastSource_.tech=s,this.updateSourceCaches_(s)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),r=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",r))};this.on("timeupdate",r)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?tu(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),i=>i.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Ye.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const r=e.target.player;if(r&&r!==this)return;const i=this.el();let n=Ye[this.fsApi_.fullscreenElement]===i;!n&&i.matches&&(n=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,r){r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))}handleTechFullscreenError_(e,r){this.trigger("fullscreenerror",r)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,r){this.ready(function(){if(e in Hje)return kje(this.middleware_,this.tech_,e,r);if(e in YV)return WV(this.middleware_,this.tech_,e,r);try{this.tech_&&this.tech_[e](r)}catch(i){throw Qt(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in zje)return Nje(this.middleware_,this.tech_,e);if(e in YV)return WV(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(r){throw this.tech_[e]===void 0?(Qt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,r),r):r.name==="TypeError"?(Qt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,r),this.tech_.isReady_=!1,r):(Qt(r),r)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=tu){this.playCallbacks_.push(e);const r=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(_C||kn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!r){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!r&&i&&this.load();return}const n=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),n===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(r){r()})}runPlayCallbacks_(e){const r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||vo(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=vo(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=vo(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return Rne(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),r=this.duration();let i=e.end(e.length-1);return i>r&&(i=r),i}volume(e){let r;if(e!==void 0){r=Math.max(0,Math.min(1,e)),this.cache_.volume=r,this.techCall_("setVolume",r),r>0&&this.lastVolume_(r);return}return r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const r=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const r=this;return new Promise((i,n)=>{function a(){r.off("fullscreenerror",o),r.off("fullscreenchange",s)}function s(){a(),i()}function o(l,c){a(),n(c)}r.one("fullscreenchange",s),r.one("fullscreenerror",o);const u=r.requestFullscreenHelper_(e);u&&(u.then(a,a),u.then(i,n))})}requestFullscreenHelper_(e){let r;if(this.fsApi_.prefixed||(r=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(r=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](r);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((r,i)=>{function n(){e.off("fullscreenerror",s),e.off("fullscreenchange",a)}function a(){n(),r()}function s(u,l){n(),i(l)}e.one("fullscreenchange",a),e.one("fullscreenerror",s);const o=e.exitFullscreenHelper_();o&&(o.then(n,n),o.then(r,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Ye[this.fsApi_.exitFullscreen]();return e&&tu(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Ye.documentElement.style.overflow,is(Ye,"keydown",this.boundFullWindowOnEscKey_),Ye.documentElement.style.overflow="hidden",Hh(Ye.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,zn(Ye,"keydown",this.boundFullWindowOnEscKey_),Ye.documentElement.style.overflow=this.docOrigOverflow,xC(Ye.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&ne.documentPictureInPicture){const e=Ye.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(It("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),ne.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(r=>(Ene(r),this.el_.parentNode.insertBefore(e,this.el_),r.document.body.appendChild(this.el_),r.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:r}),r.addEventListener("pagehide",i=>{const n=i.target.querySelector(".video-js");e.parentNode.replaceChild(n,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),r))}return"pictureInPictureEnabled"in Ye&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(ne.documentPictureInPicture&&ne.documentPictureInPicture.window)return ne.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Ye)return Ye.exitPictureInPicture()}handleKeyDown(e){const{userActions:r}=this.options_;!r||!r.hotkeys||(n=>{const a=n.tagName.toLowerCase();if(n.isContentEditable)return!0;const s=["button","checkbox","hidden","radio","reset","submit"];return a==="input"?s.indexOf(n.type)===-1:["textarea"].indexOf(a)!==-1})(this.el_.ownerDocument.activeElement)||(typeof r.hotkeys=="function"?r.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const r=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=s=>e.key.toLowerCase()==="f",muteKey:n=s=>e.key.toLowerCase()==="m",playPauseKey:a=s=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=r;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const s=Be.getComponent("FullscreenToggle");Ye[this.fsApi_.fullscreenEnabled]!==!1&&s.prototype.handleClick.call(this,e)}else n.call(this,e)?(e.preventDefault(),e.stopPropagation(),Be.getComponent("MuteToggle").prototype.handleClick.call(this,e)):a.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Be.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let r;for(let i=0,n=this.options_.techOrder;i<n.length;i++){const a=n[i];let s=Ut.getTech(a);if(s||(s=Be.getComponent(a)),!s){Qt.error(`The "${a}" tech is undefined. Skipped browser support check for that tech.`);continue}if(s.isSupported()&&(r=s.canPlayType(e),r))return r}return""}selectSource(e){const r=this.options_.techOrder.map(o=>[o,Ut.getTech(o)]).filter(([o,u])=>u?u.isSupported():(Qt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),i=function(o,u,l){let c;return o.some(h=>u.some(f=>{if(c=l(h,f),c)return!0})),c};let n;const a=o=>(u,l)=>o(l,u),s=([o,u],l)=>{if(u.canPlaySource(l,this.options_[o.toLowerCase()]))return{source:l,tech:o}};return this.options_.sourceOrder?n=i(e,r,a(s)):n=i(r,e,s),n||!1}handleSrc_(e,r){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=Une(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,r||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),Oje(this,i[0],(n,a)=>{if(this.middleware_=a,r||(this.cache_.sources=i),this.updateSourceCaches_(n),this.src_(n)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}Rje(a,this.tech_)}),i.length>1){const n=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},a=()=>{this.off("error",n)};this.one("error",n),this.one("playing",a),this.resetRetryOnError_=()=>{this.off("error",n),this.off("playing",a)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const r=this.selectSource([e]);return r?Mne(r.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(r.tech,r.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,r){return this.tech_?this.tech_.addSourceElement(e,r):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();tu(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),ol(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:r,progressControl:i,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:a}=i||{};e&&e.updateContent(),r&&r.updateContent(),n&&n.updateContent(),a&&(a.update(),a.loadProgressBar&&a.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),r=[];return Object.keys(e).length!==0&&r.push(e),this.cache_.sources||r}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let r;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),r=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,r=typeof r>"u"?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Uc("beforeerror").forEach(r=>{const i=r(this,e);if(!(xu(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const r=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],r),this.one("loadstart",function(){this.off(["click","touchstart"],r)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new li(e),this.addClass("vjs-error"),Qt.error(`(CODE:${this.error_.code} ${li.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Uc("error").forEach(r=>r(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,r,i;const n=Ur(this,this.reportUserActivity),a=function(h){(h.screenX!==r||h.screenY!==i)&&(r=h.screenX,i=h.screenY,n())},s=function(){n(),this.clearInterval(e),e=this.setInterval(n,250)},o=function(h){n(),this.clearInterval(e)};this.on("mousedown",s),this.on("mousemove",a),this.on("mouseup",o),this.on("mouseleave",o);const u=this.getChild("controlBar");u&&!kn&&!Eo&&(u.on("mouseenter",function(h){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),u.on("mouseleave",function(h){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",n),this.on("keyup",n);let l;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(l);const h=this.options_.inactivityTimeout;h<=0||(l=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},h))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),r=this.getChild("ControlBar"),i=r&&r.currentHeight();e.forEach(n=>{n!==r&&n.el_&&!n.hasClass("vjs-hidden")&&(n.hide(),this.audioOnlyCache_.hiddenChildren.push(n))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const r=[];return this.isInPictureInPicture()&&r.push(this.exitPictureInPicture()),this.isFullscreen()&&r.push(this.exitFullscreen()),this.audioPosterMode()&&r.push(this.audioPosterMode(!1)),Promise.all(r).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,r,i){if(this.tech_)return this.tech_.addTextTrack(e,r,i)}addRemoteTextTrack(e,r){if(this.tech_)return this.tech_.addRemoteTextTrack(e,r)}removeRemoteTextTrack(e={}){let{track:r}=e;if(r||(r=e),this.tech_)return this.tech_.removeRemoteTextTrack(r)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),ol(this)&&this.trigger("languagechange"))}languages(){return Mr(Tr.prototype.options_.languages,this.languages_)}toJSON(){const e=Mr(this.options_),r=e.tracks;e.tracks=[];for(let i=0;i<r.length;i++){let n=r[i];n=Mr(n),n.player=void 0,e.tracks[i]=n}return e}createModal(e,r){r=r||{},r.content=e||"";const i=new Pg(this,r);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),r=this.currentWidth();for(let i=0;i<MD.length;i++){const n=MD[i],a=this.breakpoints_[n];if(r<=a){if(e===n)return;e&&this.removeClass(j5[e]),this.addClass(j5[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},EVe,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const r=this.responsive_;if(e!==r)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return j5[this.breakpoint_]||""}loadMedia(e,r){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=Mr(e);const{artist:n,artwork:a,description:s,poster:o,src:u,textTracks:l,title:c}=this.cache_.media;!a&&o&&(this.cache_.media.artwork=[{src:o,type:L4(o)}]),i&&this.crossOrigin(i),u&&this.src(u),o&&this.poster(o),Array.isArray(l)&&l.forEach(h=>this.addRemoteTextTrack(h,!1)),this.titleBar&&this.titleBar.update({title:c,description:s||n||""}),this.ready(r)}getMedia(){if(!this.cache_.media){const e=this.poster(),r=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),a=>({kind:a.kind,label:a.label,language:a.language,src:a.src})),n={src:r,textTracks:i};return e&&(n.poster=e,n.artwork=[{src:n.poster,type:L4(n.poster)}]),n}return Mr(this.cache_.media)}static getTagSettings(e){const r={sources:[],tracks:[]},i=cc(e),n=i["data-setup"];if(J1(e,"vjs-fill")&&(i.fill=!0),J1(e,"vjs-fluid")&&(i.fluid=!0),n!==null)try{Object.assign(i,JSON.parse(n||"{}"))}catch(a){Qt.error("data-setup",a)}if(Object.assign(r,i),e.hasChildNodes()){const a=e.childNodes;for(let s=0,o=a.length;s<o;s++){const u=a[s],l=u.nodeName.toLowerCase();l==="source"?r.sources.push(cc(u)):l==="track"&&r.tracks.push(cc(u))}}return r}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(r=>typeof r=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Tr.prototype.videoTracks=()=>{};Tr.prototype.audioTracks=()=>{};Tr.prototype.textTracks=()=>{};Tr.prototype.remoteTextTracks=()=>{};Tr.prototype.remoteTextTrackEls=()=>{};ra.names.forEach(function(t){const e=ra[t];Tr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Tr.prototype.crossorigin=Tr.prototype.crossOrigin;Tr.players={};const qv=ne.navigator;Tr.prototype.options_={techOrder:Ut.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:qv&&(qv.languages&&qv.languages[0]||qv.userLanguage||qv.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1,disableSeekWhileScrubbingOnSTV:!1};yae.forEach(function(t){Tr.prototype[`handleTech${di(t)}_`]=function(){return this.trigger(t)}});Be.registerComponent("Player",Tr);const O4="plugin",ap="activePlugins_",Rd={},R4=t=>Rd.hasOwnProperty(t),V5=t=>R4(t)?Rd[t]:void 0,_ae=(t,e)=>{t[ap]=t[ap]||{},t[ap][e]=!0},N4=(t,e,r)=>{const i=(r?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},SVe=function(t,e){const r=function(){N4(this,{name:t,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return _ae(this,t),N4(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){r[i]=e[i]}),r},l$=(t,e)=>(e.prototype.name=t,function(...r){N4(this,{name:t,plugin:e,instance:null},!0);const i=new e(this,...r);return this[t]=()=>i,N4(this,i.getEventHash()),i});class Na{constructor(e){if(this.constructor===Na)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),NI(this),delete this.trigger,Bne(this,this.constructor.defaultState),_ae(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,r={}){return Mg(this.eventBusEl_,e,this.getEventHash(r))}handleStateChanged(e){}dispose(){const{name:e,player:r}=this;this.trigger("dispose"),this.off(),r.off("dispose",this.dispose),r[ap][e]=!1,this.player=this.state=null,r[e]=l$(e,Rd[e])}static isBasic(e){const r=typeof e=="string"?V5(e):e;return typeof r=="function"&&!Na.prototype.isPrototypeOf(r.prototype)}static registerPlugin(e,r){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(R4(e))Qt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Tr.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof r!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof r}.`);return Rd[e]=r,e!==O4&&(Na.isBasic(r)?Tr.prototype[e]=SVe(e,r):Tr.prototype[e]=l$(e,r)),r}static deregisterPlugin(e){if(e===O4)throw new Error("Cannot de-register base plugin.");R4(e)&&(delete Rd[e],delete Tr.prototype[e])}static getPlugins(e=Object.keys(Rd)){let r;return e.forEach(i=>{const n=V5(i);n&&(r=r||{},r[i]=n)}),r}static getPluginVersion(e){const r=V5(e);return r&&r.VERSION||""}}Na.getPlugin=V5;Na.BASE_PLUGIN_NAME=O4;Na.registerPlugin(O4,Na);Tr.prototype.usingPlugin=function(t){return!!this[ap]&&this[ap][t]===!0};Tr.prototype.hasPlugin=function(t){return!!R4(t)};function TVe(t,e){let r=!1;return function(...i){return r||Qt.warn(t),r=!0,e.apply(this,i)}}function To(t,e,r,i){return TVe(`${e} is deprecated and will be removed in ${t}.0; please use ${r} instead.`,i)}var AVe={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const xae=t=>t.indexOf("#")===0?t.slice(1):t;function ye(t,e,r){let i=ye.getPlayer(t);if(i)return e&&Qt.warn(`Player "${t}" is already initialised. Options will not be applied.`),r&&i.ready(r),i;const n=typeof t=="string"?jc("#"+xae(t)):t;if(!Bg(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s=("getRootNode"in n?n.getRootNode()instanceof ne.ShadowRoot:!1)?n.getRootNode():n.ownerDocument.body;(!n.ownerDocument.defaultView||!s.contains(n))&&Qt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),Uc("beforesetup").forEach(u=>{const l=u(n,Mr(e));if(!xu(l)||Array.isArray(l)){Qt.error("please return an object in beforesetup hooks");return}e=Mr(e,l)});const o=Be.getComponent("Player");return i=new o(n,e,r),Uc("setup").forEach(u=>u(i)),i}ye.hooks_=Zu;ye.hooks=Uc;ye.hook=sje;ye.hookOnce=oje;ye.removeHook=rne;if(ne.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Ig()){let t=jc(".vjs-styles-defaults");if(!t){t=Ane("vjs-styles-defaults");const e=jc("head");e&&e.insertBefore(t,e.firstChild),wne(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}TD(1,ye);ye.VERSION=bD;ye.options=Tr.prototype.options_;ye.getPlayers=()=>Tr.players;ye.getPlayer=t=>{const e=Tr.players;let r;if(typeof t=="string"){const i=xae(t),n=e[i];if(n)return n;r=jc("#"+i)}else r=t;if(Bg(r)){const{player:i,playerId:n}=r;if(i||e[n])return i||e[n]}};ye.getAllPlayers=()=>Object.keys(Tr.players).map(t=>Tr.players[t]).filter(Boolean);ye.players=Tr.players;ye.getComponent=Be.getComponent;ye.registerComponent=(t,e)=>(Ut.isTech(e)&&Qt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Be.registerComponent.call(Be,t,e));ye.getTech=Ut.getTech;ye.registerTech=Ut.registerTech;ye.use=Lje;Object.defineProperty(ye,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ye.middleware,"TERMINATOR",{value:P4,writeable:!1,enumerable:!0});ye.browser=hne;ye.obj=cje;ye.mergeOptions=To(9,"videojs.mergeOptions","videojs.obj.merge",Mr);ye.defineLazyProperty=To(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",gC);ye.bind=To(9,"videojs.bind","native Function.prototype.bind",Ur);ye.registerPlugin=Na.registerPlugin;ye.deregisterPlugin=Na.deregisterPlugin;ye.plugin=(t,e)=>(Qt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Na.registerPlugin(t,e));ye.getPlugins=Na.getPlugins;ye.getPlugin=Na.getPlugin;ye.getPluginVersion=Na.getPluginVersion;ye.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ye.options.languages=Mr(ye.options.languages,{[t]:e}),ye.options.languages[t]};ye.log=Qt;ye.createLogger=ine;ye.time=Tje;ye.createTimeRange=To(9,"videojs.createTimeRange","videojs.time.createTimeRanges",vo);ye.createTimeRanges=To(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",vo);ye.formatTime=To(9,"videojs.formatTime","videojs.time.formatTime",cf);ye.setFormatTime=To(9,"videojs.setFormatTime","videojs.time.setFormatTime",Lne);ye.resetFormatTime=To(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",One);ye.parseUrl=To(9,"videojs.parseUrl","videojs.url.parseUrl",GI);ye.isCrossOrigin=To(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",wC);ye.EventTarget=ns;ye.any=RI;ye.on=is;ye.one=TC;ye.off=zn;ye.trigger=Mg;ye.xhr=Gie;ye.TrackList=hf;ye.TextTrack=Km;ye.TextTrackList=zI;ye.AudioTrack=Hne;ye.AudioTrackList=Nne;ye.VideoTrack=Gne;ye.VideoTrackList=kne;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ye[t]=function(){return Qt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),Sne[t].apply(null,arguments)}});ye.computedStyle=To(9,"videojs.computedStyle","videojs.dom.computedStyle",Xp);ye.dom=Sne;ye.fn=_je;ye.num=tVe;ye.str=Eje;ye.url=Mje;ye.Error=AVe;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class wVe{constructor(e){let r=this;return r.id=e.id,r.label=r.id,r.width=e.width,r.height=e.height,r.bitrate=e.bandwidth,r.frameRate=e.frameRate,r.enabled_=e.enabled,Object.defineProperty(r,"enabled",{get(){return r.enabled_()},set(i){r.enabled_(i)}}),r}}class k4 extends ye.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let r=this.getQualityLevelById(e.id);if(r)return r;const i=this.levels_.length;return r=new wVe(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(r),this.trigger({qualityLevel:r,type:"addqualitylevel"}),r}removeQualityLevel(e){let r=null;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){r=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return r&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),r}getQualityLevelById(e){for(let r=0,i=this.length;r<i;r++){const n=this[r];if(n.id===e)return n}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}k4.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in k4.prototype.allowedEvents_)k4.prototype["on"+t]=null;var bae="4.1.0";const DVe=function(t,e){const r=t.qualityLevels,i=new k4,n=function(){i.dispose(),t.qualityLevels=r,t.off("dispose",n)};return t.on("dispose",n),t.qualityLevels=()=>i,t.qualityLevels.VERSION=bae,i},Cae=function(t){return DVe(this,ye.obj.merge({},t))};ye.registerPlugin("qualityLevels",Cae);Cae.VERSION=bae;/*! @name @videojs/http-streaming @version 3.17.0 @license Apache-2.0 */const Ba=hC,z4=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,$s=t=>ye.log.debug?ye.log.debug.bind(ye,"VHS:",`${t} >`):function(){};function Ar(...t){const e=ye.obj||ye;return(e.merge||e.mergeOptions).apply(e,t)}function pn(...t){const e=ye.time||ye;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function FVe(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let r=0;r<t.length;r++){const i=t.start(r),n=t.end(r);e+=`${i} --> ${n}. Duration (${n-i})
`}return e}const ru=1/30,iu=ru*3,Eae=function(t,e){const r=[];let i;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&r.push([t.start(i),t.end(i)]);return pn(r)},Nd=function(t,e){return Eae(t,function(r,i){return r-iu<=e&&i+iu>=e})},px=function(t,e){return Eae(t,function(r){return r-ru>=e})},IVe=function(t){if(t.length<2)return pn();const e=[];for(let r=1;r<t.length;r++){const i=t.end(r-1),n=t.start(r);e.push([i,n])}return pn(e)},BVe=function(t,e){let r=null,i=null,n=0;const a=[],s=[];if(!t||!t.length||!e||!e.length)return pn();let o=t.length;for(;o--;)a.push({time:t.start(o),type:"start"}),a.push({time:t.end(o),type:"end"});for(o=e.length;o--;)a.push({time:e.start(o),type:"start"}),a.push({time:e.end(o),type:"end"});for(a.sort(function(u,l){return u.time-l.time}),o=0;o<a.length;o++)a[o].type==="start"?(n++,n===2&&(r=a[o].time)):a[o].type==="end"&&(n--,n===1&&(i=a[o].time)),r!==null&&i!==null&&(s.push([r,i]),r=null,i=null);return pn(s)},Sae=t=>{const e=[];if(!t||!t.length)return"";for(let r=0;r<t.length;r++)e.push(t.start(r)+" => "+t.end(r));return e.join(", ")},MVe=function(t,e,r=1){return((t.length?t.end(t.length-1):0)-e)/r},Ch=t=>{const e=[];for(let r=0;r<t.length;r++)e.push({start:t.start(r),end:t.end(r)});return e},PVe=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let r=0;r<t.length;r++)if(t.start(r)!==e.start(r)||t.end(r)!==e.end(r))return!0;return!1},pA=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},nB=function(t,e){let r=0;if(!t||!t.length)return r;for(let i=0;i<t.length;i++){const n=t.start(i),a=t.end(i);if(!(e>a)){if(e>n&&e<=a){r+=a-e;continue}r+=a-n}}return r},aB=(t,e)=>{if(!e.preload)return e.duration;let r=0;return(e.parts||[]).forEach(function(i){r+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(r+=t.partTargetDuration)}),r},PD=t=>(t.segments||[]).reduce((e,r,i)=>(r.parts?r.parts.forEach(function(n,a){e.push({duration:n.duration,segmentIndex:i,partIndex:a,part:n,segment:r})}):e.push({duration:r.duration,segmentIndex:i,partIndex:null,segment:r,part:null}),e),[]),Tae=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},Aae=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:r}=t;let i=(r||[]).reduce((n,a)=>n+(a.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},wae=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const r=Tae(e).length>0;return r&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:r&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},LVe=function(t,e){let r=0,i=e-t.mediaSequence,n=t.segments[i];if(n){if(typeof n.start<"u")return{result:n.start,precise:!0};if(typeof n.end<"u")return{result:n.end-n.duration,precise:!0}}for(;i--;){if(n=t.segments[i],typeof n.end<"u")return{result:r+n.end,precise:!0};if(r+=aB(t,n),typeof n.start<"u")return{result:r+n.start,precise:!0}}return{result:r,precise:!1}},OVe=function(t,e){let r=0,i,n=e-t.mediaSequence;for(;n<t.segments.length;n++){if(i=t.segments[n],typeof i.start<"u")return{result:i.start-r,precise:!0};if(r+=aB(t,i),typeof i.end<"u")return{result:i.end-r,precise:!0}}return{result:-1,precise:!1}},Dae=function(t,e,r){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const i=LVe(t,e);if(i.precise)return i.result;const n=OVe(t,e);return n.precise?n.result:i.result+r},Fae=function(t,e,r){if(!t)return 0;if(typeof r!="number"&&(r=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return ne.Infinity}return Dae(t,e,r)},t2=function({defaultDuration:t,durationList:e,startIndex:r,endIndex:i}){let n=0;if(r>i&&([r,i]=[i,r]),r<0){for(let a=r;a<Math.min(0,i);a++)n+=t;r=0}for(let a=r;a<i;a++)n+=e[a].duration;return n},Iae=function(t,e,r,i){if(!t||!t.segments)return null;if(t.endList)return Fae(t);if(e===null)return null;e=e||0;let n=Dae(t,t.mediaSequence+t.segments.length,e);return r&&(i=typeof i=="number"?i:wae(null,t),n-=i),Math.max(0,n)},RVe=function(t,e,r){const n=e||0;let a=Iae(t,e,!0,r);return a===null?pn():(a<n&&(a=n),pn(n,a))},NVe=function({playlist:t,currentTime:e,startingSegmentIndex:r,startingPartIndex:i,startTime:n,exactManifestTimings:a}){let s=e-n;const o=PD(t);let u=0;for(let l=0;l<o.length;l++){const c=o[l];if(r===c.segmentIndex&&!(typeof i=="number"&&typeof c.partIndex=="number"&&i!==c.partIndex)){u=l;break}}if(s<0){if(u>0)for(let l=u-1;l>=0;l--){const c=o[l];if(s+=c.duration,a){if(s<0)continue}else if(s+ru<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n-t2({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:l})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(u<0){for(let l=u;l<0;l++)if(s-=t.targetDuration,s<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};u=0}for(let l=u;l<o.length;l++){const c=o[l];s-=c.duration;const h=c.duration>ru,f=s===0,d=h&&s+ru>=0;if(!((f||d)&&l!==o.length-1)){if(a){if(s>0)continue}else if(s-ru>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:n+t2({defaultDuration:t.targetDuration,durationList:o,startIndex:u,endIndex:l})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},Bae=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},sB=function(t){return t.excludeUntil&&t.excludeUntil===1/0},BC=function(t){const e=Bae(t);return!t.disabled&&!e},kVe=function(t){return t.disabled},zVe=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},Mae=function(t,e){return e.attributes&&e.attributes[t]},HVe=function(t,e,r,i=0){return Mae("BANDWIDTH",r)?(t*r.attributes.BANDWIDTH-i*8)/e:NaN},LD=(t,e)=>{if(t.playlists.length===1)return!0;const r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(i=>BC(i)?(i.attributes.BANDWIDTH||0)<r:!1).length===0},oB=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),c$=function(t,e){const r=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let i=!1;for(const n in r){for(const a in r[n])if(i=e(r[n][a]),i)break;if(i)break}return!!i},ty=t=>{if(!t||!t.playlists||!t.playlists.length)return c$(t,r=>r.playlists&&r.playlists.length||r.uri);for(let e=0;e<t.playlists.length;e++){const r=t.playlists[e],i=r.attributes&&r.attributes.CODECS;if(!(i&&i.split(",").every(a=>Vie(a))||c$(t,a=>oB(r,a))))return!1}return!0};var La={liveEdgeDelay:wae,duration:Fae,seekable:RVe,getMediaInfoForTime:NVe,isEnabled:BC,isDisabled:kVe,isExcluded:Bae,isIncompatible:sB,playlistEnd:Iae,isAes:zVe,hasAttribute:Mae,estimateSegmentRequestTime:HVe,isLowestEnabledRendition:LD,isAudioOnly:ty,playlistMatch:oB,segmentDurationWithParts:aB};const{log:Pae}=ye,sp=(t,e)=>`${t}-${e}`,Lae=(t,e,r)=>`placeholder-uri-${t}-${e}-${r}`,GVe=({onwarn:t,oninfo:e,manifestString:r,customTagParsers:i=[],customTagMappers:n=[],llhls:a})=>{const s=new DGe;t&&s.on("warn",t),e&&s.on("info",e),i.forEach(l=>s.addParser(l)),n.forEach(l=>s.addTagMapper(l)),s.push(r),s.end();const o=s.manifest;if(a||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(l){o.hasOwnProperty(l)&&delete o[l]}),o.segments&&o.segments.forEach(function(l){["parts","preloadHints"].forEach(function(c){l.hasOwnProperty(c)&&delete l[c]})})),!o.targetDuration){let l=10;o.segments&&o.segments.length&&(l=o.segments.reduce((c,h)=>Math.max(c,h.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${l}`}),o.targetDuration=l}const u=Tae(o);if(u.length&&!o.partTargetDuration){const l=u.reduce((c,h)=>Math.max(c,h.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${l}`}),Pae.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=l}return o},Rg=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(r=>{if(t.mediaGroups[r])for(const i in t.mediaGroups[r])for(const n in t.mediaGroups[r][i]){const a=t.mediaGroups[r][i][n];e(a,r,i,n)}})},Oae=({playlist:t,uri:e,id:r})=>{t.id=r,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},UVe=t=>{let e=t.playlists.length;for(;e--;){const r=t.playlists[e];Oae({playlist:r,id:sp(e,r.uri)}),r.resolvedUri=Ba(t.uri,r.uri),t.playlists[r.id]=r,t.playlists[r.uri]=r,r.attributes.BANDWIDTH||Pae.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},jVe=t=>{Rg(t,e=>{e.uri&&(e.resolvedUri=Ba(t.uri,e.uri))})},VVe=(t,e)=>{const r=sp(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:ne.location.href,resolvedUri:ne.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};return i.playlists[r]=i.playlists[0],i.playlists[e]=i.playlists[0],i},Rae=(t,e,r=Lae)=>{t.uri=e;for(let n=0;n<t.playlists.length;n++)if(!t.playlists[n].uri){const a=`placeholder-uri-${n}`;t.playlists[n].uri=a}const i=ty(t);Rg(t,(n,a,s,o)=>{if(!n.playlists||!n.playlists.length){if(i&&a==="AUDIO"&&!n.uri)for(let u=0;u<t.playlists.length;u++){const l=t.playlists[u];if(l.attributes&&l.attributes.AUDIO&&l.attributes.AUDIO===s)return}n.playlists=[fe({},n)]}n.playlists.forEach(function(u,l){const c=r(a,s,o,u),h=sp(l,c);u.uri?u.resolvedUri=u.resolvedUri||Ba(t.uri,u.uri):(u.uri=l===0?c:h,u.resolvedUri=u.uri),u.id=u.id||h,u.attributes=u.attributes||{},t.playlists[u.id]=u,t.playlists[u.uri]=u})}),UVe(t),jVe(t)};class h${constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[r]=e;r.programDateTime!==void 0&&(this.offset_=r.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[r]=e,i=r.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((n,a)=>(n.set(a.id,a),n),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},r=[];this.pendingDateRanges_.forEach((i,n)=>{if(!this.processedDateRanges_.has(n)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),r.push(i),!!i.class))if(e[i.class]){const a=e[i.class].push(i);i.classListIndex=a-1}else e[i.class]=[i],i.classListIndex=0});for(const i of r){const n=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&n[i.classListIndex+1]?i.endTime=n[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return r}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((i,n)=>{i.startDate.getTime()<e&&this.processedDateRanges_.delete(n)})}}const Nae=22,jh=({requestType:t,request:e,error:r,parseFailure:i})=>{const n=e.status<200||e.status>299,a=e.status>=400&&e.status<=499,s={uri:e.uri,requestType:t},o=n&&!a||i;if(r&&a)s.error=fe({},r),s.errorType=ye.Error.NetworkRequestFailed;else if(e.aborted)s.errorType=ye.Error.NetworkRequestAborted;else if(e.timedout)s.erroType=ye.Error.NetworkRequestTimeout;else if(o){const u=i?ye.Error.NetworkBodyParserFailed:ye.Error.NetworkBadStatus;s.errorType=u,s.status=e.status,s.headers=e.headers}return s},$Ve=$s("CodecUtils"),kae=function(t){const e=t.attributes||{};if(e.CODECS)return Vo(e.CODECS)},zae=(t,e)=>{const r=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&r.AUDIO&&t.mediaGroups.AUDIO[r.AUDIO]},WVe=(t,e)=>{if(!zae(t,e))return!0;const r=e.attributes||{},i=t.mediaGroups.AUDIO[r.AUDIO];for(const n in i)if(!i[n].uri&&!i[n].playlists)return!0;return!1},fm=function(t){const e={};return t.forEach(({mediaType:r,type:i,details:n})=>{e[r]=e[r]||[],e[r].push(jie(`${i}${n}`))}),Object.keys(e).forEach(function(r){if(e[r].length>1){$Ve(`multiple ${r} codecs found as attributes: ${e[r].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[r]=null;return}e[r]=e[r][0]}),e},f$=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},r2=function(t,e){const r=e.attributes||{},i=fm(kae(e)||[]);if(zae(t,e)&&!i.audio&&!WVe(t,e)){const n=fm(IGe(t,r.AUDIO)||[]);n.audio&&(i.audio=n.audio)}return i},{EventTarget:YVe}=ye,qVe=(t,e)=>{if(e.endList||!e.serverControl)return t;const r={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let n=e.mediaSequence+e.segments.length;if(i){const a=i.parts||[],s=Aae(e)-1;s>-1&&s!==a.length-1&&(r._HLS_part=s),(s>-1||a.length)&&n--}r._HLS_msn=n}if(e.serverControl&&e.serverControl.canSkipUntil&&(r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){const i=new ne.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(n){r.hasOwnProperty(n)&&i.searchParams.set(n,r[n])}),t=i.toString()}return t},XVe=(t,e)=>{if(!t)return e;const r=Ar(t,e);if(t.preloadHints&&!e.preloadHints&&delete r.preloadHints,t.parts&&!e.parts)delete r.parts;else if(t.parts&&e.parts)for(let i=0;i<e.parts.length;i++)t.parts&&t.parts[i]&&(r.parts[i]=Ar(t.parts[i],e.parts[i]));return!t.skipped&&e.skipped&&(r.skipped=!1),t.preload&&!e.preload&&(r.preload=!1),r},ZVe=(t,e,r)=>{const i=t.slice(),n=e.slice();r=r||0;const a=[];let s;for(let o=0;o<n.length;o++){const u=i[o+r],l=n[o];u?(s=u.map||s,a.push(XVe(u,l))):(s&&!l.map&&(l.map=s),a.push(l))}return a},Hae=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Ba(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Ba(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Ba(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Ba(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(r=>{r.resolvedUri||(r.resolvedUri=Ba(e,r.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(r=>{r.resolvedUri||(r.resolvedUri=Ba(e,r.uri))})},Gae=function(t){const e=t.segments||[],r=t.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(let i=0;i<r.preloadHints.length;i++)if(r.preloadHints[i].type==="MAP")return e}r.duration=t.targetDuration,r.preload=!0,e.push(r)}return e},Uae=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,OD=(t,e,r=Uae)=>{const i=Ar(t,{}),n=i.playlists[e.id];if(!n||r(n,e))return null;e.segments=Gae(e);const a=Ar(n,e);if(a.preloadSegment&&!e.preloadSegment&&delete a.preloadSegment,n.segments){if(e.skip){e.segments=e.segments||[];for(let s=0;s<e.skip.skippedSegments;s++)e.segments.unshift({skipped:!0})}a.segments=ZVe(n.segments,e.segments,e.mediaSequence-n.mediaSequence)}a.segments.forEach(s=>{Hae(s,a.resolvedUri)});for(let s=0;s<i.playlists.length;s++)i.playlists[s].id===e.id&&(i.playlists[s]=a);return i.playlists[e.id]=a,i.playlists[e.uri]=a,Rg(t,(s,o,u,l)=>{if(s.playlists)for(let c=0;c<s.playlists.length;c++)e.id===s.playlists[c].id&&(s.playlists[c]=a)}),i},RD=(t,e)=>{const r=t.segments||[],i=r[r.length-1],n=i&&i.parts&&i.parts[i.parts.length-1],a=n&&n.duration||i&&i.duration;return e&&a?a*1e3:(t.partTargetDuration||t.targetDuration||10)*500},d$=(t,e,r)=>{if(!t)return;const i=[];return t.forEach(n=>{if(!n.attributes)return;const{BANDWIDTH:a,RESOLUTION:s,CODECS:o}=n.attributes;i.push({id:n.id,bandwidth:a,resolution:s,codecs:o})}),{type:e,isLive:r,renditions:i}};class kd extends YVe{constructor(e,r,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=$s("PlaylistLoader");const{withCredentials:n=!1}=i;this.src=e,this.vhs_=r,this.withCredentials=n,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const a=r.options_;this.customTagParsers=a&&a.customTagParsers||[],this.customTagMappers=a&&a.customTagMappers||[],this.llhls=a&&a.llhls,this.dateRangesStorage_=new h$,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const r=this.dateRangesStorage_.getDateRangesToProcess();!r.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(r)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let r=Ba(this.main.uri,e.uri);this.llhls&&(r=qVe(r,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,n)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,r,i){const{uri:n,id:a}=r;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[a],status:e.status,message:`HLS playlist request error at URL: ${n}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:jh({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:r}){try{const i=GVe({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:r,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls});return!i.playlists||!i.playlists.length||this.excludeAudioOnlyVariants(i.playlists),i}catch(i){this.error=i,this.error.metadata={errorType:ye.Error.StreamingHlsPlaylistParserError,error:i}}}excludeAudioOnlyVariants(e){const r=i=>{const n=i.attributes||{},{width:a,height:s}=n.RESOLUTION||{};if(a&&s)return!0;const o=kae(i)||[];return!!fm(o).video};e.some(r)&&e.forEach(i=>{r(i)||(i.excludeUntil=1/0)})}haveMetadata({playlistString:e,playlistObject:r,url:i,id:n}){this.request=null,this.state="HAVE_METADATA";const a={playlistInfo:{type:"media",uri:i}};this.trigger({type:"playlistparsestart",metadata:a});const s=r||this.parseManifest_({url:i,manifestString:e});s.lastRequest=Date.now(),Oae({playlist:s,uri:i,id:n});const o=OD(this.main,s);this.targetDuration=s.partTargetDuration||s.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(RD(this.media(),!!o)),a.parsedPlaylist=d$(this.main.playlists,a.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:a}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),ne.clearTimeout(this.mediaUpdateTimeout),ne.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new h$,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,r){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(ne.clearTimeout(this.finalRenditionTimeout),r){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=ne.setTimeout(this.media.bind(this,e,!1),o);return}const i=this.state,n=!this.media_||e.id!==this.media_.id,a=this.main.playlists[e.id];if(a&&a.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(RD(e,!0)),!n)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const s={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:s}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,u)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=z4(e.resolvedUri,u),o)return this.playlistRequestError(this.request,e,i);this.trigger({type:"playlistrequestcomplete",metadata:s}),this.haveMetadata({playlistString:u.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const r=this.media();if(e){const i=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=ne.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}r&&!r.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=ne.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=ne.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(r,i)=>{if(!this.request)return;if(this.request=null,r)return this.error={status:i.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:i.responseText,code:2,metadata:jh({requestType:i.requestType,request:i,error:r})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=z4(this.src,i),this.trigger({type:"playlistparsestart",metadata:e});const n=this.parseManifest_({manifestString:i.responseText,url:this.src});e.parsedPlaylist=d$(n.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(n)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,Rae(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=Gae(i),i.segments.forEach(n=>{Hae(n,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const r=this.srcUri()||ne.location.href;this.main=VVe(e,r),this.haveMetadata({playlistObject:e,url:r,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,r){const i=this.main,n=e.ID;let a=i.playlists.length;for(;a--;){const s=i.playlists[a];if(s.attributes["PATHWAY-ID"]===n){const o=s.resolvedUri,u=s.id;if(r){const l=this.createCloneURI_(s.resolvedUri,e),c=sp(n,l),h=this.createCloneAttributes_(n,s.attributes),f=this.createClonePlaylist_(s,c,e,h);i.playlists[a]=f,i.playlists[c]=f,i.playlists[l]=f}else i.playlists.splice(a,1);delete i.playlists[u],delete i.playlists[o]}}this.updateOrDeleteCloneMedia(e,r)}updateOrDeleteCloneMedia(e,r){const i=this.main,n=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(a=>{if(!(!i.mediaGroups[a]||!i.mediaGroups[a][n])){for(const s in i.mediaGroups[a])if(s===n){for(const o in i.mediaGroups[a][s])i.mediaGroups[a][s][o].playlists.forEach((l,c)=>{const h=i.playlists[l.id],f=h.id,d=h.resolvedUri;delete i.playlists[f],delete i.playlists[d]});delete i.mediaGroups[a][s]}}}),r&&this.createClonedMediaGroups_(e)}addClonePathway(e,r={}){const i=this.main,n=i.playlists.length,a=this.createCloneURI_(r.resolvedUri,e),s=sp(e.ID,a),o=this.createCloneAttributes_(e.ID,r.attributes),u=this.createClonePlaylist_(r,s,e,o);i.playlists[n]=u,i.playlists[s]=u,i.playlists[a]=u,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const r=e.ID,i=e["BASE-ID"],n=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(a=>{if(!(!n.mediaGroups[a]||n.mediaGroups[a][r]))for(const s in n.mediaGroups[a]){if(s===i)n.mediaGroups[a][r]={};else continue;for(const o in n.mediaGroups[a][s]){const u=n.mediaGroups[a][s][o];n.mediaGroups[a][r][o]=fe({},u);const l=n.mediaGroups[a][r][o],c=this.createCloneURI_(u.resolvedUri,e);l.resolvedUri=c,l.uri=c,l.playlists=[],u.playlists.forEach((h,f)=>{const d=n.playlists[h.id],p=Lae(a,r,o),g=sp(r,p);if(d&&!n.playlists[g]){const v=this.createClonePlaylist_(d,g,e),m=v.resolvedUri;n.playlists[g]=v,n.playlists[m]=v}l.playlists[f]=this.createClonePlaylist_(h,g,e)})}}})}createClonePlaylist_(e,r,i,n){const a=this.createCloneURI_(e.resolvedUri,i),s={resolvedUri:a,uri:a,id:r};return e.segments&&(s.segments=[]),n&&(s.attributes=n),Ar(e,s)}createCloneURI_(e,r){const i=new URL(e);i.hostname=r["URI-REPLACEMENT"].HOST;const n=r["URI-REPLACEMENT"].PARAMS;for(const a of Object.keys(n))i.searchParams.set(a,n[a]);return i.href}createCloneAttributes_(e,r){const i={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(n=>{r[n]&&(i[n]=e)}),i}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const i in e.contentProtection){const n=e.contentProtection[i].attributes.keyId;n&&r.add(n.toLowerCase())}return r}}}const ND=function(t,e,r,i){const n=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&n&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=n.byteLength||n.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),r.headers&&(t.responseHeaders=r.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(n||t.responseText)))),i(e,t)},KVe=(t,e)=>{if(!t||!t.size)return;let r=e;return t.forEach(i=>{r=i(r)}),r},JVe=(t,e,r,i)=>{!t||!t.size||t.forEach(n=>{n(e,r,i)})},jae=function(){const t=function e(r,i){r=Ar({timeout:45e3},r);const n=e.beforeRequest||ye.Vhs.xhr.beforeRequest,a=e._requestCallbackSet||ye.Vhs.xhr._requestCallbackSet||new Set,s=e._responseCallbackSet||ye.Vhs.xhr._responseCallbackSet;n&&typeof n=="function"&&(ye.log.warn("beforeRequest is deprecated, use onRequest instead."),a.add(n));const o=ye.Vhs.xhr.original===!0?ye.xhr:ye.Vhs.xhr,u=KVe(a,r);a.delete(n);const l=o(u||r,function(h,f){return JVe(s,l,h,f),ND(l,h,f,i)}),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=r.uri,l.requestType=r.requestType,l.requestTime=Date.now(),l};return t.original=!0,t},QVe=function(t){let e;const r=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=ne.BigInt(t.offset)+ne.BigInt(t.length)-ne.BigInt(1):e=t.offset+t.length-1,"bytes="+r+"-"+e},kD=function(t){const e={};return t.byterange&&(e.Range=QVe(t.byterange)),e},e$e=function(t,e){return t.start(e)+"-"+t.end(e)},t$e=function(t,e){const r=t.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")},r$e=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Vae=function(t){const e={};return Object.keys(t).forEach(r=>{const i=t[r];Wie(i)?e[r]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[r]=i}),e},H4=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},$ae=function(t){return t.resolvedUri},Wae=t=>{const e=Array.prototype.slice.call(t),r=16;let i="",n,a;for(let s=0;s<e.length/r;s++)n=e.slice(s*r,s*r+r).map(t$e).join(""),a=e.slice(s*r,s*r+r).map(r$e).join(""),i+=n+" "+a+`
`;return i},i$e=({bytes:t})=>Wae(t),n$e=t=>{let e="",r;for(r=0;r<t.length;r++)e+=e$e(t,r)+" ";return e};var a$e=Object.freeze({__proto__:null,createTransferableMessage:Vae,initSegmentId:H4,segmentKeyId:$ae,hexDump:Wae,tagDump:i$e,textRanges:n$e});const Yae=.25,s$e=(t,e)=>{if(!e.dateTimeObject)return null;const r=e.videoTimingInfo.transmuxerPrependedSeconds,n=e.videoTimingInfo.transmuxedPresentationStart+r,a=t-n;return new Date(e.dateTimeObject.getTime()+a*1e3)},o$e=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,u$e=(t,e)=>{let r;try{r=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(r<new Date(i.dateTimeObject))return null;for(let u=0;u<e.segments.length-1;u++){i=e.segments[u];const l=new Date(e.segments[u+1].dateTimeObject);if(r<l)break}const n=e.segments[e.segments.length-1],a=n.dateTimeObject,s=n.videoTimingInfo?o$e(n.videoTimingInfo):n.duration+n.duration*Yae,o=new Date(a.getTime()+s*1e3);return r>o?null:(r>new Date(a)&&(i=n),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:La.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},l$e=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let r=0,i;for(let a=0;a<e.segments.length&&(i=e.segments[a],r=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:r+i.duration,!(t<=r));a++);const n=e.segments[e.segments.length-1];if(n.videoTimingInfo&&n.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>r){if(t>r+n.duration*Yae)return null;i=n}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:r-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},c$e=(t,e)=>{let r,i;try{r=new Date(t),i=new Date(e)}catch{}const n=r.getTime();return(i.getTime()-n)/1e3},h$e=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},f$e=({playlist:t,time:e=void 0,callback:r})=>{if(!r)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return r({message:"getProgramTime: playlist and time must be provided"});const i=l$e(e,t);if(!i)return r({message:"valid programTime was not found"});if(i.type==="estimate")return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const n={mediaSeconds:e},a=s$e(e,i.segment);return a&&(n.programDateTime=a.toISOString()),r(null,n)},qae=({programTime:t,playlist:e,retryCount:r=2,seekTo:i,pauseAfterSeek:n=!0,tech:a,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!i)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!a.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!h$e(e))return s({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=u$e(t,e);if(!o)return s({message:`${t} was not found in the stream`});const u=o.segment,l=c$e(u.dateTimeObject,t);if(o.type==="estimate"){if(r===0)return s({message:`${t} is not buffered yet. Try again`});i(o.estimatedStart+l),a.one("seeked",()=>{qae({programTime:t,playlist:e,retryCount:r-1,seekTo:i,pauseAfterSeek:n,tech:a,callback:s})});return}const c=u.start+l,h=()=>s(null,a.currentTime());a.one("seeked",h),n&&a.pause(),i(c)},gA=(t,e)=>{if(t.readyState===4)return e()},d$e=(t,e,r,i)=>{let n=[],a,s=!1;const o=function(h,f,d,p){return f.abort(),s=!0,r(h,f,d,p)},u=function(h,f){if(s)return;if(h)return h.metadata=jh({requestType:i,request:f,error:h}),o(h,f,"",n);const d=f.responseText.substring(n&&n.byteLength||0,f.responseText.length);if(n=HGe(n,Yie(d,!0)),a=a||v1(n),n.length<10||a&&n.length<a+2)return gA(f,()=>o(h,f,"",n));const p=BI(n);return p==="ts"&&n.length<188?gA(f,()=>o(h,f,"",n)):!p&&n.length<376?gA(f,()=>o(h,f,"",n)):o(null,f,p,n)},c=e({uri:t,beforeSend(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function({total:f,loaded:d}){return ND(h,null,{statusCode:h.status},u)})}},function(h,f){return ND(c,h,f,u)});return c},{EventTarget:p$e}=ye,p$=function(t,e){if(!Uae(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let r=0;r<t.segments.length;r++){const i=t.segments[r],n=e.segments[r];if(i.uri!==n.uri)return!1;if(!i.byterange&&!n.byterange)continue;const a=i.byterange,s=n.byterange;if(a&&!s||!a&&s||a.offset!==s.offset||a.length!==s.length)return!1}return!0},g$e=(t,e,r,i)=>{const n=i.attributes.NAME||r;return`placeholder-uri-${t}-${e}-${n}`},v$e=({mainXml:t,srcUrl:e,clientOffset:r,sidxMapping:i,previousManifest:n})=>{const a=kUe(t,{manifestUri:e,clientOffset:r,sidxMapping:i,previousManifest:n});return Rae(a,e,g$e),a},m$e=(t,e)=>{Rg(t,(r,i,n,a)=>{(!e.mediaGroups[i][n]||!(a in e.mediaGroups[i][n]))&&delete t.mediaGroups[i][n][a]})},y$e=(t,e,r)=>{let i=!0,n=Ar(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let a=0;a<e.playlists.length;a++){const s=e.playlists[a];if(s.sidx){const u=dC(s.sidx);r&&r[u]&&r[u].sidx&&DI(s,r[u].sidx,s.sidx.resolvedUri)}const o=OD(n,s,p$);o&&(n=o,i=!1)}return Rg(e,(a,s,o,u)=>{if(a.playlists&&a.playlists.length){const l=a.playlists[0].id,c=OD(n,a.playlists[0],p$);c&&(n=c,u in n.mediaGroups[s][o]||(n.mediaGroups[s][o][u]=a),n.mediaGroups[s][o][u].playlists[0]=n.playlists[l],i=!1)}}),m$e(n,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:n},_$e=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,g$=(t,e)=>{const r={};for(const i in t){const a=t[i].sidx;if(a){const s=dC(a);if(!e[s])break;const o=e[s].sidxInfo;_$e(o,a)&&(r[s]=e[s])}}return r},x$e=(t,e)=>{let i=g$(t.playlists,e);return Rg(t,(n,a,s,o)=>{if(n.playlists&&n.playlists.length){const u=n.playlists;i=Ar(i,g$(u,e))}}),i};class zD extends p$e{constructor(e,r,i={},n){super(),this.isPaused_=!0,this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);const{withCredentials:a=!1}=i;if(this.vhs_=r,this.withCredentials=a,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=$s("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,r,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2,metadata:e.metadata},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,r,i){const n=e.sidx&&dC(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n]){ne.clearTimeout(this.mediaRequest_),this.mediaRequest_=ne.setTimeout(()=>i(!1),0);return}const a=z4(e.sidx.resolvedUri),s=(u,l)=>{if(this.requestErrored_(u,l,r))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:h}=l;let f;try{f=jUe(St(l.response).subarray(8))}catch(d){d.metadata=jh({requestType:h,request:l,parseFailure:!0}),this.requestErrored_(d,l,r);return}return c[n]={sidxInfo:e.sidx,sidx:f},DI(e,f,e.sidx.resolvedUri),i(!0)},o="dash-sidx";this.request=d$e(a,this.vhs_.xhr,(u,l,c,h)=>{if(u)return s(u,l);if(!c||c!=="mp4"){const p=c||"unknown";return s({status:l.status,message:`Unsupported ${p} container type for sidx segment at URL: ${a}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},l)}const{offset:f,length:d}=e.sidx.byterange;if(h.length>=d+f)return s(u,{response:h.subarray(f,f+d),status:l.status,uri:l.uri});this.request=this.vhs_.xhr({uri:a,responseType:"arraybuffer",requestType:"dash-sidx",headers:kD({byterange:e.sidx.byterange})},s)},o)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},ne.clearTimeout(this.minimumUpdatePeriodTimeout_),ne.clearTimeout(this.mediaRequest_),ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const r=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,r,n=>{this.haveMetadata({startingState:r,playlist:e})}))}haveMetadata({startingState:e,playlist:r}){this.state="HAVE_METADATA",this.loadedPlaylists_[r.id]=r,ne.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(r.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(ne.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,ne.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const r=this.media();if(e){const i=r?r.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=ne.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}r&&!r.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){ne.clearTimeout(this.mediaRequest_),this.mediaRequest_=ne.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,r)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:r}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,n)=>{if(i){const{requestType:s}=n;i.metadata=jh({requestType:s,request:n,error:i})}if(this.requestErrored_(i,n)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:r});const a=n.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=n.responseText,n.responseHeaders&&n.responseHeaders.date?this.mainLoaded_=Date.parse(n.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=z4(this.mainPlaylistLoader_.srcUrl,n),a){this.handleMain_(),this.syncClientServerClock_(()=>e(n,a));return}return e(n,a)})}syncClientServerClock_(e){const r=zUe(this.mainPlaylistLoader_.mainXml_);if(r===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(r.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=r.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Ba(this.mainPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,n)=>{if(!this.request)return;if(i){const{requestType:s}=n;return this.error.metadata=jh({requestType:s,request:n,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let a;r.method==="HEAD"?!n.responseHeaders||!n.responseHeaders.date?a=this.mainLoaded_:a=Date.parse(n.responseHeaders.date):a=Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=a-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){ne.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,r={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:r});let i;try{i=v$e({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(a){this.error=a,this.error.metadata={errorType:ye.Error.StreamingDashManifestParserError,error:a},this.trigger("error")}e&&(i=y$e(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const n=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(n&&n!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=n),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),i){const{duration:a,endList:s}=i,o=[];i.playlists.forEach(l=>{o.push({id:l.id,bandwidth:l.attributes.BANDWIDTH,resolution:l.attributes.RESOLUTION,codecs:l.attributes.CODECS})});const u={duration:a,isLive:!s,renditions:o};r.parsedManifest=u,this.trigger({type:"manifestparsecomplete",metadata:r})}return!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(ne.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let r=e.main&&e.main.minimumUpdatePeriod;if(r===0&&(e.media()?r=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof r!="number"||r<=0){r<0&&this.logger_(`found invalid minimumUpdatePeriod of ${r}, not setting a timeout`);return}this.createMUPTimeout_(r)}createMUPTimeout_(e){const r=this.mainPlaylistLoader_;r.minimumUpdatePeriodTimeout_=ne.setTimeout(()=>{r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,r)=>{r&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=x$e(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const r=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==r[e];if(i?this.media_=r[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const n=()=>{this.media().endList||(this.mediaUpdateTimeout=ne.setTimeout(()=>{this.trigger("mediaupdatetimeout"),n()},RD(this.media(),!!i)))};n()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const r=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",r,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const r=new Set;for(const i in e.contentProtection){const n=e.contentProtection[i].attributes["cenc:default_KID"];n&&r.add(n.replace(/-/g,"").toLowerCase())}return r}}}var ln={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const b$e=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e.buffer},Xae=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},C$e=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const r=new BlobBuilder;return r.append(t),URL.createObjectURL(r.getBlob())}},Zae=function(t){return function(){const e=C$e(t),r=Xae(new Worker(e));r.objURL=e;const i=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},r}},Kae=function(t){return`var browserWorkerPolyFill = ${Xae.toString()};
browserWorkerPolyFill(self);
`+t},Jae=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},E$e=Kae(Jae(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var w={};this.on=function(I,L){w[I]||(w[I]=[]),w[I]=w[I].concat(L)},this.off=function(I,L){var P;return w[I]?(P=w[I].indexOf(L),w[I]=w[I].slice(),w[I].splice(P,1),P>-1):!1},this.trigger=function(I){var L,P,N,H;if(L=w[I],!!L)if(arguments.length===2)for(N=L.length,P=0;P<N;++P)L[P].call(this,arguments[1]);else{for(H=[],P=arguments.length,P=1;P<arguments.length;++P)H.push(arguments[P]);for(N=L.length,P=0;P<N;++P)L[P].apply(this,H)}},this.dispose=function(){w={}}}};e.prototype.pipe=function(w){return this.on("data",function(I){w.push(I)}),this.on("done",function(I){w.flush(I)}),this.on("partialdone",function(I){w.partialFlush(I)}),this.on("endedtimeline",function(I){w.endTimeline(I)}),this.on("reset",function(I){w.reset(I)}),w},e.prototype.push=function(w){this.trigger("data",w)},e.prototype.flush=function(w){this.trigger("done",w)},e.prototype.partialFlush=function(w){this.trigger("partialdone",w)},e.prototype.endTimeline=function(w){this.trigger("endedtimeline",w)},e.prototype.reset=function(w){this.trigger("reset",w)};var r=e,i=Math.pow(2,32),n=function(w){var I=new DataView(w.buffer,w.byteOffset,w.byteLength),L;return I.getBigUint64?(L=I.getBigUint64(0),L<Number.MAX_SAFE_INTEGER?Number(L):L):I.getUint32(0)*i+I.getUint32(4)},a={getUint64:n,MAX_UINT32:i},s=a.MAX_UINT32,o,u,l,c,h,f,d,p,g,v,m,y,_,x,b,C,E,A,S,T,D,F,B,O,M,R,z,k,U,V,j,Y,te,re,de,Oe;(function(){var w;if(B={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(w in B)B.hasOwnProperty(w)&&(B[w]=[w.charCodeAt(0),w.charCodeAt(1),w.charCodeAt(2),w.charCodeAt(3)]);O=new Uint8Array([105,115,111,109]),R=new Uint8Array([97,118,99,49]),M=new Uint8Array([0,0,0,1]),z=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),k=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),U={video:z,audio:k},Y=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),j=new Uint8Array([0,0,0,0,0,0,0,0]),te=new Uint8Array([0,0,0,0,0,0,0,0]),re=te,de=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Oe=te,V=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(w){var I=[],L=0,P,N,H;for(P=1;P<arguments.length;P++)I.push(arguments[P]);for(P=I.length;P--;)L+=I[P].byteLength;for(N=new Uint8Array(L+8),H=new DataView(N.buffer,N.byteOffset,N.byteLength),H.setUint32(0,N.byteLength),N.set(w,4),P=0,L=8;P<I.length;P++)N.set(I[P],L),L+=I[P].byteLength;return N},u=function(){return o(B.dinf,o(B.dref,Y))},l=function(w){return o(B.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,w.audioobjecttype<<3|w.samplingfrequencyindex>>>1,w.samplingfrequencyindex<<7|w.channelcount<<3,6,1,2]))},c=function(){return o(B.ftyp,O,M,O,R)},C=function(w){return o(B.hdlr,U[w])},h=function(w){return o(B.mdat,w)},b=function(w){var I=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,w.duration>>>24&255,w.duration>>>16&255,w.duration>>>8&255,w.duration&255,85,196,0,0]);return w.samplerate&&(I[12]=w.samplerate>>>24&255,I[13]=w.samplerate>>>16&255,I[14]=w.samplerate>>>8&255,I[15]=w.samplerate&255),o(B.mdhd,I)},x=function(w){return o(B.mdia,b(w),C(w.type),d(w))},f=function(w){return o(B.mfhd,new Uint8Array([0,0,0,0,(w&4278190080)>>24,(w&16711680)>>16,(w&65280)>>8,w&255]))},d=function(w){return o(B.minf,w.type==="video"?o(B.vmhd,V):o(B.smhd,j),u(),A(w))},p=function(w,I){for(var L=[],P=I.length;P--;)L[P]=T(I[P]);return o.apply(null,[B.moof,f(w)].concat(L))},g=function(w){for(var I=w.length,L=[];I--;)L[I]=y(w[I]);return o.apply(null,[B.moov,m(4294967295)].concat(L).concat(v(w)))},v=function(w){for(var I=w.length,L=[];I--;)L[I]=D(w[I]);return o.apply(null,[B.mvex].concat(L))},m=function(w){var I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(w&4278190080)>>24,(w&16711680)>>16,(w&65280)>>8,w&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(B.mvhd,I)},E=function(w){var I=w.samples||[],L=new Uint8Array(4+I.length),P,N;for(N=0;N<I.length;N++)P=I[N].flags,L[N+4]=P.dependsOn<<4|P.isDependedOn<<2|P.hasRedundancy;return o(B.sdtp,L)},A=function(w){return o(B.stbl,S(w),o(B.stts,Oe),o(B.stsc,re),o(B.stsz,de),o(B.stco,te))},function(){var w,I;S=function(L){return o(B.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),L.type==="video"?w(L):I(L))},w=function(L){var P=L.sps||[],N=L.pps||[],H=[],K=[],ee,ie;for(ee=0;ee<P.length;ee++)H.push((P[ee].byteLength&65280)>>>8),H.push(P[ee].byteLength&255),H=H.concat(Array.prototype.slice.call(P[ee]));for(ee=0;ee<N.length;ee++)K.push((N[ee].byteLength&65280)>>>8),K.push(N[ee].byteLength&255),K=K.concat(Array.prototype.slice.call(N[ee]));if(ie=[B.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(L.width&65280)>>8,L.width&255,(L.height&65280)>>8,L.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(B.avcC,new Uint8Array([1,L.profileIdc,L.profileCompatibility,L.levelIdc,255].concat([P.length],H,[N.length],K))),o(B.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],L.sarRatio){var ae=L.sarRatio[0],ge=L.sarRatio[1];ie.push(o(B.pasp,new Uint8Array([(ae&4278190080)>>24,(ae&16711680)>>16,(ae&65280)>>8,ae&255,(ge&4278190080)>>24,(ge&16711680)>>16,(ge&65280)>>8,ge&255])))}return o.apply(null,ie)},I=function(L){return o(B.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(L.channelcount&65280)>>8,L.channelcount&255,(L.samplesize&65280)>>8,L.samplesize&255,0,0,0,0,(L.samplerate&65280)>>8,L.samplerate&255,0,0]),l(L))}}(),_=function(w){var I=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(w.id&4278190080)>>24,(w.id&16711680)>>16,(w.id&65280)>>8,w.id&255,0,0,0,0,(w.duration&4278190080)>>24,(w.duration&16711680)>>16,(w.duration&65280)>>8,w.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(w.width&65280)>>8,w.width&255,0,0,(w.height&65280)>>8,w.height&255,0,0]);return o(B.tkhd,I)},T=function(w){var I,L,P,N,H,K,ee;return I=o(B.tfhd,new Uint8Array([0,0,0,58,(w.id&4278190080)>>24,(w.id&16711680)>>16,(w.id&65280)>>8,w.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),K=Math.floor(w.baseMediaDecodeTime/s),ee=Math.floor(w.baseMediaDecodeTime%s),L=o(B.tfdt,new Uint8Array([1,0,0,0,K>>>24&255,K>>>16&255,K>>>8&255,K&255,ee>>>24&255,ee>>>16&255,ee>>>8&255,ee&255])),H=92,w.type==="audio"?(P=F(w,H),o(B.traf,I,L,P)):(N=E(w),P=F(w,N.length+H),o(B.traf,I,L,P,N))},y=function(w){return w.duration=w.duration||4294967295,o(B.trak,_(w),x(w))},D=function(w){var I=new Uint8Array([0,0,0,0,(w.id&4278190080)>>24,(w.id&16711680)>>16,(w.id&65280)>>8,w.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return w.type!=="video"&&(I[I.length-1]=0),o(B.trex,I)},function(){var w,I,L;L=function(P,N){var H=0,K=0,ee=0,ie=0;return P.length&&(P[0].duration!==void 0&&(H=1),P[0].size!==void 0&&(K=2),P[0].flags!==void 0&&(ee=4),P[0].compositionTimeOffset!==void 0&&(ie=8)),[0,0,H|K|ee|ie,1,(P.length&4278190080)>>>24,(P.length&16711680)>>>16,(P.length&65280)>>>8,P.length&255,(N&4278190080)>>>24,(N&16711680)>>>16,(N&65280)>>>8,N&255]},I=function(P,N){var H,K,ee,ie,ae,ge;for(ie=P.samples||[],N+=20+16*ie.length,ee=L(ie,N),K=new Uint8Array(ee.length+ie.length*16),K.set(ee),H=ee.length,ge=0;ge<ie.length;ge++)ae=ie[ge],K[H++]=(ae.duration&4278190080)>>>24,K[H++]=(ae.duration&16711680)>>>16,K[H++]=(ae.duration&65280)>>>8,K[H++]=ae.duration&255,K[H++]=(ae.size&4278190080)>>>24,K[H++]=(ae.size&16711680)>>>16,K[H++]=(ae.size&65280)>>>8,K[H++]=ae.size&255,K[H++]=ae.flags.isLeading<<2|ae.flags.dependsOn,K[H++]=ae.flags.isDependedOn<<6|ae.flags.hasRedundancy<<4|ae.flags.paddingValue<<1|ae.flags.isNonSyncSample,K[H++]=ae.flags.degradationPriority&61440,K[H++]=ae.flags.degradationPriority&15,K[H++]=(ae.compositionTimeOffset&4278190080)>>>24,K[H++]=(ae.compositionTimeOffset&16711680)>>>16,K[H++]=(ae.compositionTimeOffset&65280)>>>8,K[H++]=ae.compositionTimeOffset&255;return o(B.trun,K)},w=function(P,N){var H,K,ee,ie,ae,ge;for(ie=P.samples||[],N+=20+8*ie.length,ee=L(ie,N),H=new Uint8Array(ee.length+ie.length*8),H.set(ee),K=ee.length,ge=0;ge<ie.length;ge++)ae=ie[ge],H[K++]=(ae.duration&4278190080)>>>24,H[K++]=(ae.duration&16711680)>>>16,H[K++]=(ae.duration&65280)>>>8,H[K++]=ae.duration&255,H[K++]=(ae.size&4278190080)>>>24,H[K++]=(ae.size&16711680)>>>16,H[K++]=(ae.size&65280)>>>8,H[K++]=ae.size&255;return o(B.trun,H)},F=function(P,N){return P.type==="audio"?w(P,N):I(P,N)}}();var he={ftyp:c,mdat:h,moof:p,moov:g,initSegment:function(w){var I=c(),L=g(w),P;return P=new Uint8Array(I.byteLength+L.byteLength),P.set(I),P.set(L,I.byteLength),P}},le=function(w){var I,L,P=[],N=[];for(N.byteLength=0,N.nalCount=0,N.duration=0,P.byteLength=0,I=0;I<w.length;I++)L=w[I],L.nalUnitType==="access_unit_delimiter_rbsp"?(P.length&&(P.duration=L.dts-P.dts,N.byteLength+=P.byteLength,N.nalCount+=P.length,N.duration+=P.duration,N.push(P)),P=[L],P.byteLength=L.data.byteLength,P.pts=L.pts,P.dts=L.dts):(L.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(P.keyFrame=!0),P.duration=L.dts-P.dts,P.byteLength+=L.data.byteLength,P.push(L));return N.length&&(!P.duration||P.duration<=0)&&(P.duration=N[N.length-1].duration),N.byteLength+=P.byteLength,N.nalCount+=P.length,N.duration+=P.duration,N.push(P),N},pe=function(w){var I,L,P=[],N=[];for(P.byteLength=0,P.nalCount=0,P.duration=0,P.pts=w[0].pts,P.dts=w[0].dts,N.byteLength=0,N.nalCount=0,N.duration=0,N.pts=w[0].pts,N.dts=w[0].dts,I=0;I<w.length;I++)L=w[I],L.keyFrame?(P.length&&(N.push(P),N.byteLength+=P.byteLength,N.nalCount+=P.nalCount,N.duration+=P.duration),P=[L],P.nalCount=L.length,P.byteLength=L.byteLength,P.pts=L.pts,P.dts=L.dts,P.duration=L.duration):(P.duration+=L.duration,P.nalCount+=L.length,P.byteLength+=L.byteLength,P.push(L));return N.length&&P.duration<=0&&(P.duration=N[N.length-1].duration),N.byteLength+=P.byteLength,N.nalCount+=P.nalCount,N.duration+=P.duration,N.push(P),N},xe=function(w){var I;return!w[0][0].keyFrame&&w.length>1&&(I=w.shift(),w.byteLength-=I.byteLength,w.nalCount-=I.nalCount,w[0][0].dts=I.dts,w[0][0].pts=I.pts,w[0][0].duration+=I.duration),w},be=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},q=function(w,I){var L=be();return L.dataOffset=I,L.compositionTimeOffset=w.pts-w.dts,L.duration=w.duration,L.size=4*w.length,L.size+=w.byteLength,w.keyFrame&&(L.flags.dependsOn=2,L.flags.isNonSyncSample=0),L},J=function(w,I){var L,P,N,H,K,ee=I||0,ie=[];for(L=0;L<w.length;L++)for(H=w[L],P=0;P<H.length;P++)K=H[P],N=q(K,ee),ee+=N.size,ie.push(N);return ie},se=function(w){var I,L,P,N,H,K,ee=0,ie=w.byteLength,ae=w.nalCount,ge=ie+4*ae,De=new Uint8Array(ge),at=new DataView(De.buffer);for(I=0;I<w.length;I++)for(N=w[I],L=0;L<N.length;L++)for(H=N[L],P=0;P<H.length;P++)K=H[P],at.setUint32(ee,K.data.byteLength),ee+=4,De.set(K.data,ee),ee+=K.data.byteLength;return De},ve=function(w,I){var L,P=I||0,N=[];return L=q(w,P),N.push(L),N},_e=function(w){var I,L,P=0,N=w.byteLength,H=w.length,K=N+4*H,ee=new Uint8Array(K),ie=new DataView(ee.buffer);for(I=0;I<w.length;I++)L=w[I],ie.setUint32(P,L.data.byteLength),P+=4,ee.set(L.data,P),P+=L.data.byteLength;return ee},we={groupNalsIntoFrames:le,groupFramesIntoGops:pe,extendFirstKeyFrame:xe,generateSampleTable:J,concatenateNalData:se,generateSampleTableForFrame:ve,concatenateNalDataForFrame:_e},He=[33,16,5,32,164,27],ze=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Me=function(w){for(var I=[];w--;)I.push(0);return I},Se=function(w){return Object.keys(w).reduce(function(I,L){return I[L]=new Uint8Array(w[L].reduce(function(P,N){return P.concat(N)},[])),I},{})},Ze,$e=function(){if(!Ze){var w={96e3:[He,[227,64],Me(154),[56]],88200:[He,[231],Me(170),[56]],64e3:[He,[248,192],Me(240),[56]],48e3:[He,[255,192],Me(268),[55,148,128],Me(54),[112]],44100:[He,[255,192],Me(268),[55,163,128],Me(84),[112]],32e3:[He,[255,192],Me(268),[55,234],Me(226),[112]],24e3:[He,[255,192],Me(268),[55,255,128],Me(268),[111,112],Me(126),[224]],16e3:[He,[255,192],Me(268),[55,255,128],Me(268),[111,255],Me(269),[223,108],Me(195),[1,192]],12e3:[ze,Me(268),[3,127,248],Me(268),[6,255,240],Me(268),[13,255,224],Me(268),[27,253,128],Me(259),[56]],11025:[ze,Me(268),[3,127,248],Me(268),[6,255,240],Me(268),[13,255,224],Me(268),[27,255,192],Me(268),[55,175,128],Me(108),[112]],8e3:[ze,Me(268),[3,121,16],Me(47),[7]]};Ze=Se(w)}return Ze},ct=9e4,yt,Bt,Vt,tr,ci,Kr,$r;yt=function(w){return w*ct},Bt=function(w,I){return w*I},Vt=function(w){return w/ct},tr=function(w,I){return w/I},ci=function(w,I){return yt(tr(w,I))},Kr=function(w,I){return Bt(Vt(w),I)},$r=function(w,I,L){return Vt(L?w:w-I)};var Ot={ONE_SECOND_IN_TS:ct,secondsToVideoTs:yt,secondsToAudioTs:Bt,videoTsToSeconds:Vt,audioTsToSeconds:tr,audioTsToVideoTs:ci,videoTsToAudioTs:Kr,metadataTsToSeconds:$r},as=$e,Ha=Ot,xi=function(w){var I,L,P=0;for(I=0;I<w.length;I++)L=w[I],P+=L.data.byteLength;return P},tn=function(w,I,L,P){var N,H=0,K=0,ee=0,ie=0,ae,ge,De;if(I.length&&(N=Ha.audioTsToVideoTs(w.baseMediaDecodeTime,w.samplerate),H=Math.ceil(Ha.ONE_SECOND_IN_TS/(w.samplerate/1024)),L&&P&&(K=N-Math.max(L,P),ee=Math.floor(K/H),ie=ee*H),!(ee<1||ie>Ha.ONE_SECOND_IN_TS/2))){for(ae=as()[w.samplerate],ae||(ae=I[0].data),ge=0;ge<ee;ge++)De=I[0],I.splice(0,0,{data:ae,dts:De.dts-H,pts:De.pts-H});return w.baseMediaDecodeTime-=Math.floor(Ha.videoTsToAudioTs(ie,w.samplerate)),ie}},Ga=function(w,I,L){return I.minSegmentDts>=L?w:(I.minSegmentDts=1/0,w.filter(function(P){return P.dts>=L?(I.minSegmentDts=Math.min(I.minSegmentDts,P.dts),I.minSegmentPts=I.minSegmentDts,!0):!1}))},e0=function(w){var I,L,P=[];for(I=0;I<w.length;I++)L=w[I],P.push({size:L.data.byteLength,duration:1024});return P},t0=function(w){var I,L,P=0,N=new Uint8Array(xi(w));for(I=0;I<w.length;I++)L=w[I],N.set(L.data,P),P+=L.data.byteLength;return N},r0={prefixWithSilence:tn,trimAdtsFramesByEarliestDts:Ga,generateSampleTable:e0,concatenateFrameData:t0},W=Ot.ONE_SECOND_IN_TS,X=function(w,I){typeof I.pts=="number"&&(w.timelineStartInfo.pts===void 0&&(w.timelineStartInfo.pts=I.pts),w.minSegmentPts===void 0?w.minSegmentPts=I.pts:w.minSegmentPts=Math.min(w.minSegmentPts,I.pts),w.maxSegmentPts===void 0?w.maxSegmentPts=I.pts:w.maxSegmentPts=Math.max(w.maxSegmentPts,I.pts)),typeof I.dts=="number"&&(w.timelineStartInfo.dts===void 0&&(w.timelineStartInfo.dts=I.dts),w.minSegmentDts===void 0?w.minSegmentDts=I.dts:w.minSegmentDts=Math.min(w.minSegmentDts,I.dts),w.maxSegmentDts===void 0?w.maxSegmentDts=I.dts:w.maxSegmentDts=Math.max(w.maxSegmentDts,I.dts))},ue=function(w){delete w.minSegmentDts,delete w.maxSegmentDts,delete w.minSegmentPts,delete w.maxSegmentPts},Ee=function(w,I){var L,P,N=w.minSegmentDts;return I||(N-=w.timelineStartInfo.dts),L=w.timelineStartInfo.baseMediaDecodeTime,L+=N,L=Math.max(0,L),w.type==="audio"&&(P=w.samplerate/W,L*=P,L=Math.floor(L)),L},it={clearDtsInfo:ue,calculateTrackBaseMediaDecodeTime:Ee,collectDtsInfo:X},At=4,Dr=128,rn=function(w){for(var I=0,L={payloadType:-1,payloadSize:0},P=0,N=0;I<w.byteLength&&w[I]!==Dr;){for(;w[I]===255;)P+=255,I++;for(P+=w[I++];w[I]===255;)N+=255,I++;if(N+=w[I++],!L.payload&&P===At){var H=String.fromCharCode(w[I+3],w[I+4],w[I+5],w[I+6]);if(H==="GA94"){L.payloadType=P,L.payloadSize=N,L.payload=w.subarray(I,I+N);break}else L.payload=void 0}I+=N,P=0,N=0}return L},ba=function(w){return w.payload[0]!==181||(w.payload[1]<<8|w.payload[2])!==49||String.fromCharCode(w.payload[3],w.payload[4],w.payload[5],w.payload[6])!=="GA94"||w.payload[7]!==3?null:w.payload.subarray(8,w.payload.length-1)},ss=function(w,I){var L=[],P,N,H,K;if(!(I[0]&64))return L;for(N=I[0]&31,P=0;P<N;P++)H=P*3,K={type:I[H+2]&3,pts:w},I[H+2]&4&&(K.ccData=I[H+3]<<8|I[H+4],L.push(K));return L},Ca=function(w){for(var I=w.byteLength,L=[],P=1,N,H;P<I-2;)w[P]===0&&w[P+1]===0&&w[P+2]===3?(L.push(P+2),P+=2):P++;if(L.length===0)return w;N=I-L.length,H=new Uint8Array(N);var K=0;for(P=0;P<N;K++,P++)K===L[0]&&(K++,L.shift()),H[P]=w[K];return H},Jr={parseSei:rn,parseUserData:ba,parseCaptionPackets:ss,discardEmulationPreventionBytes:Ca,USER_DATA_REGISTERED_ITU_T_T35:At},Ii=r,jn=Jr,Pr=function(w){w=w||{},Pr.prototype.init.call(this),this.parse708captions_=typeof w.parse708captions=="boolean"?w.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new Qr(0,0),new Qr(0,1),new Qr(1,0),new Qr(1,1)],this.parse708captions_&&(this.cc708Stream_=new xr({captionServices:w.captionServices})),this.reset(),this.ccStreams_.forEach(function(I){I.on("data",this.trigger.bind(this,"data")),I.on("partialdone",this.trigger.bind(this,"partialdone")),I.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Pr.prototype=new Ii,Pr.prototype.push=function(w){var I,L,P;if(w.nalUnitType==="sei_rbsp"&&(I=jn.parseSei(w.escapedRBSP),!!I.payload&&I.payloadType===jn.USER_DATA_REGISTERED_ITU_T_T35&&(L=jn.parseUserData(I),!!L))){if(w.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(w.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}P=jn.parseCaptionPackets(w.pts,L),this.captionPackets_=this.captionPackets_.concat(P),this.latestDts_!==w.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=w.dts}},Pr.prototype.flushCCStreams=function(w){this.ccStreams_.forEach(function(I){return w==="flush"?I.flush():I.partialFlush()},this)},Pr.prototype.flushStream=function(w){if(!this.captionPackets_.length){this.flushCCStreams(w);return}this.captionPackets_.forEach(function(I,L){I.presortIndex=L}),this.captionPackets_.sort(function(I,L){return I.pts===L.pts?I.presortIndex-L.presortIndex:I.pts-L.pts}),this.captionPackets_.forEach(function(I){I.type<2?this.dispatchCea608Packet(I):this.dispatchCea708Packet(I)},this),this.captionPackets_.length=0,this.flushCCStreams(w)},Pr.prototype.flush=function(){return this.flushStream("flush")},Pr.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Pr.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(w){w.reset()})},Pr.prototype.dispatchCea608Packet=function(w){this.setsTextOrXDSActive(w)?this.activeCea608Channel_[w.type]=null:this.setsChannel1Active(w)?this.activeCea608Channel_[w.type]=0:this.setsChannel2Active(w)&&(this.activeCea608Channel_[w.type]=1),this.activeCea608Channel_[w.type]!==null&&this.ccStreams_[(w.type<<1)+this.activeCea608Channel_[w.type]].push(w)},Pr.prototype.setsChannel1Active=function(w){return(w.ccData&30720)===4096},Pr.prototype.setsChannel2Active=function(w){return(w.ccData&30720)===6144},Pr.prototype.setsTextOrXDSActive=function(w){return(w.ccData&28928)===256||(w.ccData&30974)===4138||(w.ccData&30974)===6186},Pr.prototype.dispatchCea708Packet=function(w){this.parse708captions_&&this.cc708Stream_.push(w)};var Du={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},i0=function(w){var I=Du[w]||w;return w&4096&&w===I?"":String.fromCharCode(I)},bi=function(w){return 32<=w&&w<=127||160<=w&&w<=255},os=function(w){this.windowNum=w,this.reset()};os.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},os.prototype.getText=function(){return this.rows.join(`
`)},os.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},os.prototype.newLine=function(w){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(w),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},os.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},os.prototype.addText=function(w){this.rows[this.rowIdx]+=w},os.prototype.backspace=function(){if(!this.isEmpty()){var w=this.rows[this.rowIdx];this.rows[this.rowIdx]=w.substr(0,w.length-1)}};var Ws=function(w,I,L){this.serviceNum=w,this.text="",this.currentWindow=new os(-1),this.windows=[],this.stream=L,typeof I=="string"&&this.createTextDecoder(I)};Ws.prototype.init=function(w,I){this.startPts=w;for(var L=0;L<8;L++)this.windows[L]=new os(L),typeof I=="function"&&(this.windows[L].beforeRowOverflow=I)},Ws.prototype.setCurrentWindow=function(w){this.currentWindow=this.windows[w]},Ws.prototype.createTextDecoder=function(w){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(w)}catch(I){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+w+" encoding. "+I})}};var xr=function(w){w=w||{},xr.prototype.init.call(this);var I=this,L=w.captionServices||{},P={},N;Object.keys(L).forEach(H=>{N=L[H],/^SERVICE/.test(H)&&(P[H]=N.encoding)}),this.serviceEncodings=P,this.current708Packet=null,this.services={},this.push=function(H){H.type===3?(I.new708Packet(),I.add708Bytes(H)):(I.current708Packet===null&&I.new708Packet(),I.add708Bytes(H))}};xr.prototype=new Ii,xr.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},xr.prototype.add708Bytes=function(w){var I=w.ccData,L=I>>>8,P=I&255;this.current708Packet.ptsVals.push(w.pts),this.current708Packet.data.push(L),this.current708Packet.data.push(P)},xr.prototype.push708Packet=function(){var w=this.current708Packet,I=w.data,L=null,P=null,N=0,H=I[N++];for(w.seq=H>>6,w.sizeCode=H&63;N<I.length;N++)H=I[N++],L=H>>5,P=H&31,L===7&&P>0&&(H=I[N++],L=H),this.pushServiceBlock(L,N,P),P>0&&(N+=P-1)},xr.prototype.pushServiceBlock=function(w,I,L){var P,N=I,H=this.current708Packet.data,K=this.services[w];for(K||(K=this.initService(w,N));N<I+L&&N<H.length;N++)P=H[N],bi(P)?N=this.handleText(N,K):P===24?N=this.multiByteCharacter(N,K):P===16?N=this.extendedCommands(N,K):128<=P&&P<=135?N=this.setCurrentWindow(N,K):152<=P&&P<=159?N=this.defineWindow(N,K):P===136?N=this.clearWindows(N,K):P===140?N=this.deleteWindows(N,K):P===137?N=this.displayWindows(N,K):P===138?N=this.hideWindows(N,K):P===139?N=this.toggleWindows(N,K):P===151?N=this.setWindowAttributes(N,K):P===144?N=this.setPenAttributes(N,K):P===145?N=this.setPenColor(N,K):P===146?N=this.setPenLocation(N,K):P===143?K=this.reset(N,K):P===8?K.currentWindow.backspace():P===12?K.currentWindow.clearText():P===13?K.currentWindow.pendingNewLine=!0:P===14?K.currentWindow.clearText():P===141&&N++},xr.prototype.extendedCommands=function(w,I){var L=this.current708Packet.data,P=L[++w];return bi(P)&&(w=this.handleText(w,I,{isExtended:!0})),w},xr.prototype.getPts=function(w){return this.current708Packet.ptsVals[Math.floor(w/2)]},xr.prototype.initService=function(w,I){var P="SERVICE"+w,L=this,P,N;return P in this.serviceEncodings&&(N=this.serviceEncodings[P]),this.services[w]=new Ws(w,N,L),this.services[w].init(this.getPts(I),function(H){L.flushDisplayed(H,L.services[w])}),this.services[w]},xr.prototype.handleText=function(w,I,L){var P=L&&L.isExtended,N=L&&L.isMultiByte,H=this.current708Packet.data,K=P?4096:0,ee=H[w],ie=H[w+1],ae=I.currentWindow,ge,De;function at(Le){return Le.map(bt=>("0"+(bt&255).toString(16)).slice(-2)).join("")}if(N?(De=[ee,ie],w++):De=[ee],I.textDecoder_&&!P)ge=I.textDecoder_.decode(new Uint8Array(De));else if(N){const Le=at(De);ge=String.fromCharCode(parseInt(Le,16))}else ge=i0(K|ee);return ae.pendingNewLine&&!ae.isEmpty()&&ae.newLine(this.getPts(w)),ae.pendingNewLine=!1,ae.addText(ge),w},xr.prototype.multiByteCharacter=function(w,I){var L=this.current708Packet.data,P=L[w+1],N=L[w+2];return bi(P)&&bi(N)&&(w=this.handleText(++w,I,{isMultiByte:!0})),w},xr.prototype.setCurrentWindow=function(w,I){var L=this.current708Packet.data,P=L[w],N=P&7;return I.setCurrentWindow(N),w},xr.prototype.defineWindow=function(w,I){var L=this.current708Packet.data,P=L[w],N=P&7;I.setCurrentWindow(N);var H=I.currentWindow;return P=L[++w],H.visible=(P&32)>>5,H.rowLock=(P&16)>>4,H.columnLock=(P&8)>>3,H.priority=P&7,P=L[++w],H.relativePositioning=(P&128)>>7,H.anchorVertical=P&127,P=L[++w],H.anchorHorizontal=P,P=L[++w],H.anchorPoint=(P&240)>>4,H.rowCount=P&15,P=L[++w],H.columnCount=P&63,P=L[++w],H.windowStyle=(P&56)>>3,H.penStyle=P&7,H.virtualRowCount=H.rowCount+1,w},xr.prototype.setWindowAttributes=function(w,I){var L=this.current708Packet.data,P=L[w],N=I.currentWindow.winAttr;return P=L[++w],N.fillOpacity=(P&192)>>6,N.fillRed=(P&48)>>4,N.fillGreen=(P&12)>>2,N.fillBlue=P&3,P=L[++w],N.borderType=(P&192)>>6,N.borderRed=(P&48)>>4,N.borderGreen=(P&12)>>2,N.borderBlue=P&3,P=L[++w],N.borderType+=(P&128)>>5,N.wordWrap=(P&64)>>6,N.printDirection=(P&48)>>4,N.scrollDirection=(P&12)>>2,N.justify=P&3,P=L[++w],N.effectSpeed=(P&240)>>4,N.effectDirection=(P&12)>>2,N.displayEffect=P&3,w},xr.prototype.flushDisplayed=function(w,I){for(var L=[],P=0;P<8;P++)I.windows[P].visible&&!I.windows[P].isEmpty()&&L.push(I.windows[P].getText());I.endPts=w,I.text=L.join(`

`),this.pushCaption(I),I.startPts=w},xr.prototype.pushCaption=function(w){w.text!==""&&(this.trigger("data",{startPts:w.startPts,endPts:w.endPts,text:w.text,stream:"cc708_"+w.serviceNum}),w.text="",w.startPts=w.endPts)},xr.prototype.displayWindows=function(w,I){var L=this.current708Packet.data,P=L[++w],N=this.getPts(w);this.flushDisplayed(N,I);for(var H=0;H<8;H++)P&1<<H&&(I.windows[H].visible=1);return w},xr.prototype.hideWindows=function(w,I){var L=this.current708Packet.data,P=L[++w],N=this.getPts(w);this.flushDisplayed(N,I);for(var H=0;H<8;H++)P&1<<H&&(I.windows[H].visible=0);return w},xr.prototype.toggleWindows=function(w,I){var L=this.current708Packet.data,P=L[++w],N=this.getPts(w);this.flushDisplayed(N,I);for(var H=0;H<8;H++)P&1<<H&&(I.windows[H].visible^=1);return w},xr.prototype.clearWindows=function(w,I){var L=this.current708Packet.data,P=L[++w],N=this.getPts(w);this.flushDisplayed(N,I);for(var H=0;H<8;H++)P&1<<H&&I.windows[H].clearText();return w},xr.prototype.deleteWindows=function(w,I){var L=this.current708Packet.data,P=L[++w],N=this.getPts(w);this.flushDisplayed(N,I);for(var H=0;H<8;H++)P&1<<H&&I.windows[H].reset();return w},xr.prototype.setPenAttributes=function(w,I){var L=this.current708Packet.data,P=L[w],N=I.currentWindow.penAttr;return P=L[++w],N.textTag=(P&240)>>4,N.offset=(P&12)>>2,N.penSize=P&3,P=L[++w],N.italics=(P&128)>>7,N.underline=(P&64)>>6,N.edgeType=(P&56)>>3,N.fontStyle=P&7,w},xr.prototype.setPenColor=function(w,I){var L=this.current708Packet.data,P=L[w],N=I.currentWindow.penColor;return P=L[++w],N.fgOpacity=(P&192)>>6,N.fgRed=(P&48)>>4,N.fgGreen=(P&12)>>2,N.fgBlue=P&3,P=L[++w],N.bgOpacity=(P&192)>>6,N.bgRed=(P&48)>>4,N.bgGreen=(P&12)>>2,N.bgBlue=P&3,P=L[++w],N.edgeRed=(P&48)>>4,N.edgeGreen=(P&12)>>2,N.edgeBlue=P&3,w},xr.prototype.setPenLocation=function(w,I){var L=this.current708Packet.data,P=L[w],N=I.currentWindow.penLoc;return I.currentWindow.pendingNewLine=!0,P=L[++w],N.row=P&15,P=L[++w],N.column=P&63,w},xr.prototype.reset=function(w,I){var L=this.getPts(w);return this.flushDisplayed(L,I),this.initService(I.serviceNum,w)};var wse={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},ry=function(w){return w===null?"":(w=wse[w]||w,String.fromCharCode(w))},iy=14,Dse=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],n0=function(){for(var w=[],I=iy+1;I--;)w.push({text:"",indent:0,offset:0});return w},Qr=function(w,I){Qr.prototype.init.call(this),this.field_=w||0,this.dataChannel_=I||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(L){var P,N,H,K,ee;if(P=L.ccData&32639,P===this.lastControlCode_){this.lastControlCode_=null;return}if((P&61440)===4096?this.lastControlCode_=P:P!==this.PADDING_&&(this.lastControlCode_=null),H=P>>>8,K=P&255,P!==this.PADDING_)if(P===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(P===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(L.pts),this.flushDisplayed(L.pts),N=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=N,this.startPts_=L.pts;else if(P===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(L.pts);else if(P===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(L.pts);else if(P===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(L.pts);else if(P===this.CARRIAGE_RETURN_)this.clearFormatting(L.pts),this.flushDisplayed(L.pts),this.shiftRowsUp_(),this.startPts_=L.pts;else if(P===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(P===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(L.pts),this.displayed_=n0();else if(P===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=n0();else if(P===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(L.pts),this.displayed_=n0()),this.mode_="paintOn",this.startPts_=L.pts;else if(this.isSpecialCharacter(H,K))H=(H&3)<<8,ee=ry(H|K),this[this.mode_](L.pts,ee),this.column_++;else if(this.isExtCharacter(H,K))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),H=(H&3)<<8,ee=ry(H|K),this[this.mode_](L.pts,ee),this.column_++;else if(this.isMidRowCode(H,K))this.clearFormatting(L.pts),this[this.mode_](L.pts," "),this.column_++,(K&14)===14&&this.addFormatting(L.pts,["i"]),(K&1)===1&&this.addFormatting(L.pts,["u"]);else if(this.isOffsetControlCode(H,K)){const ae=K&3;this.nonDisplayed_[this.row_].offset=ae,this.column_+=ae}else if(this.isPAC(H,K)){var ie=Dse.indexOf(P&7968);if(this.mode_==="rollUp"&&(ie-this.rollUpRows_+1<0&&(ie=this.rollUpRows_-1),this.setRollUp(L.pts,ie)),ie!==this.row_&&ie>=0&&ie<=14&&(this.clearFormatting(L.pts),this.row_=ie),K&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(L.pts,["u"]),(P&16)===16){const ae=(P&14)>>1;this.column_=ae*4,this.nonDisplayed_[this.row_].indent+=ae}this.isColorPAC(K)&&(K&14)===14&&this.addFormatting(L.pts,["i"])}else this.isNormalChar(H)&&(K===0&&(K=null),ee=ry(H),ee+=ry(K),this[this.mode_](L.pts,ee),this.column_+=ee.length)}};Qr.prototype=new Ii,Qr.prototype.flushDisplayed=function(w){const I=P=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+P+"."})},L=[];this.displayed_.forEach((P,N)=>{if(P&&P.text&&P.text.length){try{P.text=P.text.trim()}catch{I(N)}P.text.length&&L.push({text:P.text,line:N+1,position:10+Math.min(70,P.indent*10)+P.offset*2.5})}else P==null&&I(N)}),L.length&&this.trigger("data",{startPts:this.startPts_,endPts:w,content:L,stream:this.name_})},Qr.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=n0(),this.nonDisplayed_=n0(),this.lastControlCode_=null,this.column_=0,this.row_=iy,this.rollUpRows_=2,this.formatting_=[]},Qr.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},Qr.prototype.isSpecialCharacter=function(w,I){return w===this.EXT_&&I>=48&&I<=63},Qr.prototype.isExtCharacter=function(w,I){return(w===this.EXT_+1||w===this.EXT_+2)&&I>=32&&I<=63},Qr.prototype.isMidRowCode=function(w,I){return w===this.EXT_&&I>=32&&I<=47},Qr.prototype.isOffsetControlCode=function(w,I){return w===this.OFFSET_&&I>=33&&I<=35},Qr.prototype.isPAC=function(w,I){return w>=this.BASE_&&w<this.BASE_+8&&I>=64&&I<=127},Qr.prototype.isColorPAC=function(w){return w>=64&&w<=79||w>=96&&w<=127},Qr.prototype.isNormalChar=function(w){return w>=32&&w<=127},Qr.prototype.setRollUp=function(w,I){if(this.mode_!=="rollUp"&&(this.row_=iy,this.mode_="rollUp",this.flushDisplayed(w),this.nonDisplayed_=n0(),this.displayed_=n0()),I!==void 0&&I!==this.row_)for(var L=0;L<this.rollUpRows_;L++)this.displayed_[I-L]=this.displayed_[this.row_-L],this.displayed_[this.row_-L]={text:"",indent:0,offset:0};I===void 0&&(I=this.row_),this.topRow_=I-this.rollUpRows_+1},Qr.prototype.addFormatting=function(w,I){this.formatting_=this.formatting_.concat(I);var L=I.reduce(function(P,N){return P+"<"+N+">"},"");this[this.mode_](w,L)},Qr.prototype.clearFormatting=function(w){if(this.formatting_.length){var I=this.formatting_.reverse().reduce(function(L,P){return L+"</"+P+">"},"");this.formatting_=[],this[this.mode_](w,I)}},Qr.prototype.popOn=function(w,I){var L=this.nonDisplayed_[this.row_].text;L+=I,this.nonDisplayed_[this.row_].text=L},Qr.prototype.rollUp=function(w,I){var L=this.displayed_[this.row_].text;L+=I,this.displayed_[this.row_].text=L},Qr.prototype.shiftRowsUp_=function(){var w;for(w=0;w<this.topRow_;w++)this.displayed_[w]={text:"",indent:0,offset:0};for(w=this.row_+1;w<iy+1;w++)this.displayed_[w]={text:"",indent:0,offset:0};for(w=this.topRow_;w<this.row_;w++)this.displayed_[w]=this.displayed_[w+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Qr.prototype.paintOn=function(w,I){var L=this.displayed_[this.row_].text;L+=I,this.displayed_[this.row_].text=L};var hB={CaptionStream:Pr,Cea608Stream:Qr,Cea708Stream:xr},ny={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Fse=r,Ise=8589934592,Bse=4294967296,fB="shared",PC=function(w,I){var L=1;for(w>I&&(L=-1);Math.abs(I-w)>Bse;)w+=L*Ise;return w},LC=function(w){var I,L;LC.prototype.init.call(this),this.type_=w||fB,this.push=function(P){if(P.type==="metadata"){this.trigger("data",P);return}this.type_!==fB&&P.type!==this.type_||(L===void 0&&(L=P.dts),P.dts=PC(P.dts,L),P.pts=PC(P.pts,L),I=P.dts,this.trigger("data",P))},this.flush=function(){L=I,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){L=void 0,I=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};LC.prototype=new Fse;var dB={TimestampRolloverStream:LC,handleRollover:PC},Mse=(w,I,L)=>{if(!w)return-1;for(var P=L;P<w.length;P++)if(w[P]===I)return P;return-1},Pse={typedArrayIndexOf:Mse},ay=Pse.typedArrayIndexOf,sy={Utf8:3},pB=function(w,I,L){var P,N="";for(P=I;P<L;P++)N+="%"+("00"+w[P].toString(16)).slice(-2);return N},Ng=function(w,I,L){return decodeURIComponent(pB(w,I,L))},kg=function(w,I,L){return unescape(pB(w,I,L))},zg=function(w){return w[0]<<21|w[1]<<14|w[2]<<7|w[3]},Hg={APIC:function(w){var I=1,L,P,N="-->";w.data[0]===sy.Utf8&&(L=ay(w.data,0,I),!(L<0)&&(w.mimeType=kg(w.data,I,L),I=L+1,w.pictureType=w.data[I],I++,P=ay(w.data,0,I),!(P<0)&&(w.description=Ng(w.data,I,P),I=P+1,w.mimeType===N?w.url=kg(w.data,I,w.data.length):w.pictureData=w.data.subarray(I,w.data.length))))},"T*":function(w){w.data[0]===sy.Utf8&&(w.value=Ng(w.data,1,w.data.length).replace(/\0*$/,""),w.values=w.value.split("\0"))},TXXX:function(w){var I;w.data[0]===sy.Utf8&&(I=ay(w.data,0,1),I!==-1&&(w.description=Ng(w.data,1,I),w.value=Ng(w.data,I+1,w.data.length).replace(/\0*$/,""),w.data=w.value))},"W*":function(w){w.url=kg(w.data,0,w.data.length).replace(/\0.*$/,"")},WXXX:function(w){var I;w.data[0]===sy.Utf8&&(I=ay(w.data,0,1),I!==-1&&(w.description=Ng(w.data,1,I),w.url=kg(w.data,I+1,w.data.length).replace(/\0.*$/,"")))},PRIV:function(w){var I;for(I=0;I<w.data.length;I++)if(w.data[I]===0){w.owner=kg(w.data,0,I);break}w.privateData=w.data.subarray(I+1),w.data=w.privateData}},Lse=function(w){var I,L,P=10,N=0,H=[];if(!(w.length<10||w[0]!==73||w[1]!==68||w[2]!==51)){N=zg(w.subarray(6,10)),N+=10;var K=w[5]&64;K&&(P+=4,P+=zg(w.subarray(10,14)),N-=zg(w.subarray(16,20)));do{if(I=zg(w.subarray(P+4,P+8)),I<1)break;L=String.fromCharCode(w[P],w[P+1],w[P+2],w[P+3]);var ee={id:L,data:w.subarray(P+10,P+I+10)};ee.key=ee.id,Hg[ee.id]?Hg[ee.id](ee):ee.id[0]==="T"?Hg["T*"](ee):ee.id[0]==="W"&&Hg["W*"](ee),H.push(ee),P+=10,P+=I}while(P<N);return H}},gB={parseId3Frames:Lse,parseSyncSafeInteger:zg,frameParsers:Hg},Ose=r,Rse=ny,Pl=gB,oy;oy=function(w){var I={descriptor:w&&w.descriptor},L=0,P=[],N=0,H;if(oy.prototype.init.call(this),this.dispatchType=Rse.METADATA_STREAM_TYPE.toString(16),I.descriptor)for(H=0;H<I.descriptor.length;H++)this.dispatchType+=("00"+I.descriptor[H].toString(16)).slice(-2);this.push=function(K){var ee,ie,ae,ge,De,at;if(K.type==="timed-metadata"){if(K.dataAlignmentIndicator&&(N=0,P.length=0),P.length===0&&(K.data.length<10||K.data[0]!==73||K.data[1]!==68||K.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(P.push(K),N+=K.data.byteLength,P.length===1&&(L=Pl.parseSyncSafeInteger(K.data.subarray(6,10)),L+=10),!(N<L)){for(ee={data:new Uint8Array(L),frames:[],pts:P[0].pts,dts:P[0].dts},De=0;De<L;)ee.data.set(P[0].data.subarray(0,L-De),De),De+=P[0].data.byteLength,N-=P[0].data.byteLength,P.shift();ie=10,ee.data[5]&64&&(ie+=4,ie+=Pl.parseSyncSafeInteger(ee.data.subarray(10,14)),L-=Pl.parseSyncSafeInteger(ee.data.subarray(16,20)));do{if(ae=Pl.parseSyncSafeInteger(ee.data.subarray(ie+4,ie+8)),ae<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(at=String.fromCharCode(ee.data[ie],ee.data[ie+1],ee.data[ie+2],ee.data[ie+3]),ge={id:at,data:ee.data.subarray(ie+10,ie+ae+10)},ge.key=ge.id,Pl.frameParsers[ge.id]?Pl.frameParsers[ge.id](ge):ge.id[0]==="T"?Pl.frameParsers["T*"](ge):ge.id[0]==="W"&&Pl.frameParsers["W*"](ge),ge.owner==="com.apple.streaming.transportStreamTimestamp"){var Le=ge.data,bt=(Le[3]&1)<<30|Le[4]<<22|Le[5]<<14|Le[6]<<6|Le[7]>>>2;bt*=4,bt+=Le[7]&3,ge.timeStamp=bt,ee.pts===void 0&&ee.dts===void 0&&(ee.pts=ge.timeStamp,ee.dts=ge.timeStamp),this.trigger("timestamp",ge)}ee.frames.push(ge),ie+=10,ie+=ae}while(ie<L);this.trigger("data",ee)}}}},oy.prototype=new Ose;var Nse=oy,OC=r,RC=hB,Ys=ny,kse=dB.TimestampRolloverStream,uy,Gg,ly,Pf=188,NC=71;uy=function(){var w=new Uint8Array(Pf),I=0;uy.prototype.init.call(this),this.push=function(L){var P=0,N=Pf,H;for(I?(H=new Uint8Array(L.byteLength+I),H.set(w.subarray(0,I)),H.set(L,I),I=0):H=L;N<H.byteLength;){if(H[P]===NC&&H[N]===NC){this.trigger("data",H.subarray(P,N)),P+=Pf,N+=Pf;continue}P++,N++}P<H.byteLength&&(w.set(H.subarray(P),0),I=H.byteLength-P)},this.flush=function(){I===Pf&&w[0]===NC&&(this.trigger("data",w),I=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){I=0,this.trigger("reset")}},uy.prototype=new OC,Gg=function(){var w,I,L,P;Gg.prototype.init.call(this),P=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,w=function(N,H){var K=0;H.payloadUnitStartIndicator&&(K+=N[K]+1),H.type==="pat"?I(N.subarray(K),H):L(N.subarray(K),H)},I=function(N,H){H.section_number=N[7],H.last_section_number=N[8],P.pmtPid=(N[10]&31)<<8|N[11],H.pmtPid=P.pmtPid},L=function(N,H){var K,ee,ie,ae;if(N[5]&1){for(P.programMapTable={video:null,audio:null,"timed-metadata":{}},K=(N[1]&15)<<8|N[2],ee=3+K-4,ie=(N[10]&15)<<8|N[11],ae=12+ie;ae<ee;){var ge=N[ae],De=(N[ae+1]&31)<<8|N[ae+2];ge===Ys.H264_STREAM_TYPE&&P.programMapTable.video===null?P.programMapTable.video=De:ge===Ys.ADTS_STREAM_TYPE&&P.programMapTable.audio===null?P.programMapTable.audio=De:ge===Ys.METADATA_STREAM_TYPE&&(P.programMapTable["timed-metadata"][De]=ge),ae+=((N[ae+3]&15)<<8|N[ae+4])+5}H.programMapTable=P.programMapTable}},this.push=function(N){var H={},K=4;if(H.payloadUnitStartIndicator=!!(N[1]&64),H.pid=N[1]&31,H.pid<<=8,H.pid|=N[2],(N[3]&48)>>>4>1&&(K+=N[K]+1),H.pid===0)H.type="pat",w(N.subarray(K),H),this.trigger("data",H);else if(H.pid===this.pmtPid)for(H.type="pmt",w(N.subarray(K),H),this.trigger("data",H);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([N,K,H]):this.processPes_(N,K,H)},this.processPes_=function(N,H,K){K.pid===this.programMapTable.video?K.streamType=Ys.H264_STREAM_TYPE:K.pid===this.programMapTable.audio?K.streamType=Ys.ADTS_STREAM_TYPE:K.streamType=this.programMapTable["timed-metadata"][K.pid],K.type="pes",K.data=N.subarray(H),this.trigger("data",K)}},Gg.prototype=new OC,Gg.STREAM_TYPES={h264:27,adts:15},ly=function(){var w=this,I=!1,L={data:[],size:0},P={data:[],size:0},N={data:[],size:0},H,K=function(ie,ae){var ge;const De=ie[0]<<16|ie[1]<<8|ie[2];ae.data=new Uint8Array,De===1&&(ae.packetLength=6+(ie[4]<<8|ie[5]),ae.dataAlignmentIndicator=(ie[6]&4)!==0,ge=ie[7],ge&192&&(ae.pts=(ie[9]&14)<<27|(ie[10]&255)<<20|(ie[11]&254)<<12|(ie[12]&255)<<5|(ie[13]&254)>>>3,ae.pts*=4,ae.pts+=(ie[13]&6)>>>1,ae.dts=ae.pts,ge&64&&(ae.dts=(ie[14]&14)<<27|(ie[15]&255)<<20|(ie[16]&254)<<12|(ie[17]&255)<<5|(ie[18]&254)>>>3,ae.dts*=4,ae.dts+=(ie[18]&6)>>>1)),ae.data=ie.subarray(9+ie[8]))},ee=function(ie,ae,ge){var De=new Uint8Array(ie.size),at={type:ae},Le=0,bt=0,qt=!1,nn;if(!(!ie.data.length||ie.size<9)){for(at.trackId=ie.data[0].pid,Le=0;Le<ie.data.length;Le++)nn=ie.data[Le],De.set(nn.data,bt),bt+=nn.data.byteLength;K(De,at),qt=ae==="video"||at.packetLength<=ie.size,(ge||qt)&&(ie.size=0,ie.data.length=0),qt&&w.trigger("data",at)}};ly.prototype.init.call(this),this.push=function(ie){({pat:function(){},pes:function(){var ae,ge;switch(ie.streamType){case Ys.H264_STREAM_TYPE:ae=L,ge="video";break;case Ys.ADTS_STREAM_TYPE:ae=P,ge="audio";break;case Ys.METADATA_STREAM_TYPE:ae=N,ge="timed-metadata";break;default:return}ie.payloadUnitStartIndicator&&ee(ae,ge,!0),ae.data.push(ie),ae.size+=ie.data.byteLength},pmt:function(){var ae={type:"metadata",tracks:[]};H=ie.programMapTable,H.video!==null&&ae.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.video,codec:"avc",type:"video"}),H.audio!==null&&ae.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.audio,codec:"adts",type:"audio"}),I=!0,w.trigger("data",ae)}})[ie.type]()},this.reset=function(){L.size=0,L.data.length=0,P.size=0,P.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ee(L,"video"),ee(P,"audio"),ee(N,"timed-metadata")},this.flush=function(){if(!I&&H){var ie={type:"metadata",tracks:[]};H.video!==null&&ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.video,codec:"avc",type:"video"}),H.audio!==null&&ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.audio,codec:"adts",type:"audio"}),w.trigger("data",ie)}I=!1,this.flushStreams_(),this.trigger("done")}},ly.prototype=new OC;var vB={PAT_PID:0,MP2T_PACKET_LENGTH:Pf,TransportPacketStream:uy,TransportParseStream:Gg,ElementaryStream:ly,TimestampRolloverStream:kse,CaptionStream:RC.CaptionStream,Cea608Stream:RC.Cea608Stream,Cea708Stream:RC.Cea708Stream,MetadataStream:Nse};for(var kC in Ys)Ys.hasOwnProperty(kC)&&(vB[kC]=Ys[kC]);var zse=vB,Hse=r,Gse=Ot.ONE_SECOND_IN_TS,cy,mB=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];cy=function(w){var I,L=0;cy.prototype.init.call(this),this.skipWarn_=function(P,N){this.trigger("log",{level:"warn",message:`adts skiping bytes ${P} to ${N} in frame ${L} outside syncword`})},this.push=function(P){var N=0,H,K,ee,ie,ae;if(w||(L=0),P.type==="audio"){I&&I.length?(ee=I,I=new Uint8Array(ee.byteLength+P.data.byteLength),I.set(ee),I.set(P.data,ee.byteLength)):I=P.data;for(var ge;N+7<I.length;){if(I[N]!==255||(I[N+1]&246)!==240){typeof ge!="number"&&(ge=N),N++;continue}if(typeof ge=="number"&&(this.skipWarn_(ge,N),ge=null),K=(~I[N+1]&1)*2,H=(I[N+3]&3)<<11|I[N+4]<<3|(I[N+5]&224)>>5,ie=((I[N+6]&3)+1)*1024,ae=ie*Gse/mB[(I[N+2]&60)>>>2],I.byteLength-N<H)break;this.trigger("data",{pts:P.pts+L*ae,dts:P.dts+L*ae,sampleCount:ie,audioobjecttype:(I[N+2]>>>6&3)+1,channelcount:(I[N+2]&1)<<2|(I[N+3]&192)>>>6,samplerate:mB[(I[N+2]&60)>>>2],samplingfrequencyindex:(I[N+2]&60)>>>2,samplesize:16,data:I.subarray(N+7+K,N+H)}),L++,N+=H}typeof ge=="number"&&(this.skipWarn_(ge,N),ge=null),I=I.subarray(N)}},this.flush=function(){L=0,this.trigger("done")},this.reset=function(){I=void 0,this.trigger("reset")},this.endTimeline=function(){I=void 0,this.trigger("endedtimeline")}},cy.prototype=new Hse;var Use=cy,yB;yB=function(w){var I=w.byteLength,L=0,P=0;this.length=function(){return 8*I},this.bitsAvailable=function(){return 8*I+P},this.loadWord=function(){var N=w.byteLength-I,H=new Uint8Array(4),K=Math.min(4,I);if(K===0)throw new Error("no bytes available");H.set(w.subarray(N,N+K)),L=new DataView(H.buffer).getUint32(0),P=K*8,I-=K},this.skipBits=function(N){var H;P>N?(L<<=N,P-=N):(N-=P,H=Math.floor(N/8),N-=H*8,I-=H,this.loadWord(),L<<=N,P-=N)},this.readBits=function(N){var H=Math.min(P,N),K=L>>>32-H;return P-=H,P>0?L<<=H:I>0&&this.loadWord(),H=N-H,H>0?K<<H|this.readBits(H):K},this.skipLeadingZeros=function(){var N;for(N=0;N<P;++N)if((L&2147483648>>>N)!==0)return L<<=N,P-=N,N;return this.loadWord(),N+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var N=this.skipLeadingZeros();return this.readBits(N+1)-1},this.readExpGolomb=function(){var N=this.readUnsignedExpGolomb();return 1&N?1+N>>>1:-1*(N>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var jse=yB,_B=r,Vse=jse,hy,fy,xB;fy=function(){var w=0,I,L;fy.prototype.init.call(this),this.push=function(P){var N;L?(N=new Uint8Array(L.byteLength+P.data.byteLength),N.set(L),N.set(P.data,L.byteLength),L=N):L=P.data;for(var H=L.byteLength;w<H-3;w++)if(L[w+2]===1){I=w+5;break}for(;I<H;)switch(L[I]){case 0:if(L[I-1]!==0){I+=2;break}else if(L[I-2]!==0){I++;break}w+3!==I-2&&this.trigger("data",L.subarray(w+3,I-2));do I++;while(L[I]!==1&&I<H);w=I-2,I+=3;break;case 1:if(L[I-1]!==0||L[I-2]!==0){I+=3;break}this.trigger("data",L.subarray(w+3,I-2)),w=I-2,I+=3;break;default:I+=3;break}L=L.subarray(w),I-=w,w=0},this.reset=function(){L=null,w=0,this.trigger("reset")},this.flush=function(){L&&L.byteLength>3&&this.trigger("data",L.subarray(w+3)),L=null,w=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},fy.prototype=new _B,xB={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},hy=function(){var w=new fy,I,L,P,N,H,K,ee;hy.prototype.init.call(this),I=this,this.push=function(ie){ie.type==="video"&&(L=ie.trackId,P=ie.pts,N=ie.dts,w.push(ie))},w.on("data",function(ie){var ae={trackId:L,pts:P,dts:N,data:ie,nalUnitTypeCode:ie[0]&31};switch(ae.nalUnitTypeCode){case 5:ae.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ae.nalUnitType="sei_rbsp",ae.escapedRBSP=H(ie.subarray(1));break;case 7:ae.nalUnitType="seq_parameter_set_rbsp",ae.escapedRBSP=H(ie.subarray(1)),ae.config=K(ae.escapedRBSP);break;case 8:ae.nalUnitType="pic_parameter_set_rbsp";break;case 9:ae.nalUnitType="access_unit_delimiter_rbsp";break}I.trigger("data",ae)}),w.on("done",function(){I.trigger("done")}),w.on("partialdone",function(){I.trigger("partialdone")}),w.on("reset",function(){I.trigger("reset")}),w.on("endedtimeline",function(){I.trigger("endedtimeline")}),this.flush=function(){w.flush()},this.partialFlush=function(){w.partialFlush()},this.reset=function(){w.reset()},this.endTimeline=function(){w.endTimeline()},ee=function(ie,ae){var ge=8,De=8,at,Le;for(at=0;at<ie;at++)De!==0&&(Le=ae.readExpGolomb(),De=(ge+Le+256)%256),ge=De===0?ge:De},H=function(ie){for(var ae=ie.byteLength,ge=[],De=1,at,Le;De<ae-2;)ie[De]===0&&ie[De+1]===0&&ie[De+2]===3?(ge.push(De+2),De+=2):De++;if(ge.length===0)return ie;at=ae-ge.length,Le=new Uint8Array(at);var bt=0;for(De=0;De<at;bt++,De++)bt===ge[0]&&(bt++,ge.shift()),Le[De]=ie[bt];return Le},K=function(ie){var ae=0,ge=0,De=0,at=0,Le,bt,qt,nn,Ua,Ol,qg,Xg,Zg,Kg,Sy,Wr=[1,1],Jg,Xs;if(Le=new Vse(ie),bt=Le.readUnsignedByte(),nn=Le.readUnsignedByte(),qt=Le.readUnsignedByte(),Le.skipUnsignedExpGolomb(),xB[bt]&&(Ua=Le.readUnsignedExpGolomb(),Ua===3&&Le.skipBits(1),Le.skipUnsignedExpGolomb(),Le.skipUnsignedExpGolomb(),Le.skipBits(1),Le.readBoolean()))for(Sy=Ua!==3?8:12,Xs=0;Xs<Sy;Xs++)Le.readBoolean()&&(Xs<6?ee(16,Le):ee(64,Le));if(Le.skipUnsignedExpGolomb(),Ol=Le.readUnsignedExpGolomb(),Ol===0)Le.readUnsignedExpGolomb();else if(Ol===1)for(Le.skipBits(1),Le.skipExpGolomb(),Le.skipExpGolomb(),qg=Le.readUnsignedExpGolomb(),Xs=0;Xs<qg;Xs++)Le.skipExpGolomb();if(Le.skipUnsignedExpGolomb(),Le.skipBits(1),Xg=Le.readUnsignedExpGolomb(),Zg=Le.readUnsignedExpGolomb(),Kg=Le.readBits(1),Kg===0&&Le.skipBits(1),Le.skipBits(1),Le.readBoolean()&&(ae=Le.readUnsignedExpGolomb(),ge=Le.readUnsignedExpGolomb(),De=Le.readUnsignedExpGolomb(),at=Le.readUnsignedExpGolomb()),Le.readBoolean()&&Le.readBoolean()){switch(Jg=Le.readUnsignedByte(),Jg){case 1:Wr=[1,1];break;case 2:Wr=[12,11];break;case 3:Wr=[10,11];break;case 4:Wr=[16,11];break;case 5:Wr=[40,33];break;case 6:Wr=[24,11];break;case 7:Wr=[20,11];break;case 8:Wr=[32,11];break;case 9:Wr=[80,33];break;case 10:Wr=[18,11];break;case 11:Wr=[15,11];break;case 12:Wr=[64,33];break;case 13:Wr=[160,99];break;case 14:Wr=[4,3];break;case 15:Wr=[3,2];break;case 16:Wr=[2,1];break;case 255:{Wr=[Le.readUnsignedByte()<<8|Le.readUnsignedByte(),Le.readUnsignedByte()<<8|Le.readUnsignedByte()];break}}Wr&&Wr[0]/Wr[1]}return{profileIdc:bt,levelIdc:qt,profileCompatibility:nn,width:(Xg+1)*16-ae*2-ge*2,height:(2-Kg)*(Zg+1)*16-De*2-at*2,sarRatio:Wr}}},hy.prototype=new _B;var $se={H264Stream:hy},Wse=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],bB=function(w,I){var L=w[I+6]<<21|w[I+7]<<14|w[I+8]<<7|w[I+9],P=w[I+5],N=(P&16)>>4;return L=L>=0?L:0,N?L+20:L+10},CB=function(w,I){return w.length-I<10||w[I]!==73||w[I+1]!==68||w[I+2]!==51?I:(I+=bB(w,I),CB(w,I))},Yse=function(w){var I=CB(w,0);return w.length>=I+2&&(w[I]&255)===255&&(w[I+1]&240)===240&&(w[I+1]&22)===16},EB=function(w){return w[0]<<21|w[1]<<14|w[2]<<7|w[3]},qse=function(w,I,L){var P,N="";for(P=I;P<L;P++)N+="%"+("00"+w[P].toString(16)).slice(-2);return N},Xse=function(w,I,L){return unescape(qse(w,I,L))},Zse=function(w,I){var L=(w[I+5]&224)>>5,P=w[I+4]<<3,N=w[I+3]&6144;return N|P|L},Kse=function(w,I){return w[I]===73&&w[I+1]===68&&w[I+2]===51?"timed-metadata":w[I]&!0&&(w[I+1]&240)===240?"audio":null},Jse=function(w){for(var I=0;I+5<w.length;){if(w[I]!==255||(w[I+1]&246)!==240){I++;continue}return Wse[(w[I+2]&60)>>>2]}return null},Qse=function(w){var I,L,P,N;I=10,w[5]&64&&(I+=4,I+=EB(w.subarray(10,14)));do{if(L=EB(w.subarray(I+4,I+8)),L<1)return null;if(N=String.fromCharCode(w[I],w[I+1],w[I+2],w[I+3]),N==="PRIV"){P=w.subarray(I+10,I+L+10);for(var H=0;H<P.byteLength;H++)if(P[H]===0){var K=Xse(P,0,H);if(K==="com.apple.streaming.transportStreamTimestamp"){var ee=P.subarray(H+1),ie=(ee[3]&1)<<30|ee[4]<<22|ee[5]<<14|ee[6]<<6|ee[7]>>>2;return ie*=4,ie+=ee[7]&3,ie}break}}I+=10,I+=L}while(I<w.byteLength);return null},zC={isLikelyAacData:Yse,parseId3TagSize:bB,parseAdtsSize:Zse,parseType:Kse,parseSampleRate:Jse,parseAacTimestamp:Qse},eoe=r,SB=zC,dy;dy=function(){var w=new Uint8Array,I=0;dy.prototype.init.call(this),this.setTimestamp=function(L){I=L},this.push=function(L){var P=0,N=0,H,K,ee,ie;for(w.length?(ie=w.length,w=new Uint8Array(L.byteLength+ie),w.set(w.subarray(0,ie)),w.set(L,ie)):w=L;w.length-N>=3;){if(w[N]===73&&w[N+1]===68&&w[N+2]===51){if(w.length-N<10||(P=SB.parseId3TagSize(w,N),N+P>w.length))break;K={type:"timed-metadata",data:w.subarray(N,N+P)},this.trigger("data",K),N+=P;continue}else if((w[N]&255)===255&&(w[N+1]&240)===240){if(w.length-N<7||(P=SB.parseAdtsSize(w,N),N+P>w.length))break;ee={type:"audio",data:w.subarray(N,N+P),pts:I,dts:I},this.trigger("data",ee),N+=P;continue}N++}H=w.length-N,H>0?w=w.subarray(N):w=new Uint8Array},this.reset=function(){w=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){w=new Uint8Array,this.trigger("endedtimeline")}},dy.prototype=new eoe;var toe=dy,roe=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ioe=roe,noe=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],aoe=noe,py=r,Ug=he,jg=we,gy=r0,qs=it,Fu=zse,vy=Ot,TB=Use,soe=$se.H264Stream,ooe=toe,uoe=zC.isLikelyAacData,loe=Ot.ONE_SECOND_IN_TS,AB=ioe,wB=aoe,my,Vg,yy,a0,coe=function(w,I){I.stream=w,this.trigger("log",I)},DB=function(w,I){for(var L=Object.keys(I),P=0;P<L.length;P++){var N=L[P];N==="headOfPipeline"||!I[N].on||I[N].on("log",coe.bind(w,N))}},FB=function(w,I){var L;if(w.length!==I.length)return!1;for(L=0;L<w.length;L++)if(w[L]!==I[L])return!1;return!0},IB=function(w,I,L,P,N,H){var K=L-I,ee=P-I,ie=N-L;return{start:{dts:w,pts:w+K},end:{dts:w+ee,pts:w+ie},prependedContentDuration:H,baseMediaDecodeTime:w}};Vg=function(w,I){var L=[],P,N=0,H=0,K=1/0;I=I||{},P=I.firstSequenceNumber||0,Vg.prototype.init.call(this),this.push=function(ee){qs.collectDtsInfo(w,ee),w&&AB.forEach(function(ie){w[ie]=ee[ie]}),L.push(ee)},this.setEarliestDts=function(ee){N=ee},this.setVideoBaseMediaDecodeTime=function(ee){K=ee},this.setAudioAppendStart=function(ee){H=ee},this.flush=function(){var ee,ie,ae,ge,De,at,Le;if(L.length===0){this.trigger("done","AudioSegmentStream");return}ee=gy.trimAdtsFramesByEarliestDts(L,w,N),w.baseMediaDecodeTime=qs.calculateTrackBaseMediaDecodeTime(w,I.keepOriginalTimestamps),Le=gy.prefixWithSilence(w,ee,H,K),w.samples=gy.generateSampleTable(ee),ae=Ug.mdat(gy.concatenateFrameData(ee)),L=[],ie=Ug.moof(P,[w]),ge=new Uint8Array(ie.byteLength+ae.byteLength),P++,ge.set(ie),ge.set(ae,ie.byteLength),qs.clearDtsInfo(w),De=Math.ceil(loe*1024/w.samplerate),ee.length&&(at=ee.length*De,this.trigger("segmentTimingInfo",IB(vy.audioTsToVideoTs(w.baseMediaDecodeTime,w.samplerate),ee[0].dts,ee[0].pts,ee[0].dts+at,ee[0].pts+at,Le||0)),this.trigger("timingInfo",{start:ee[0].pts,end:ee[0].pts+at})),this.trigger("data",{track:w,boxes:ge}),this.trigger("done","AudioSegmentStream")},this.reset=function(){qs.clearDtsInfo(w),L=[],this.trigger("reset")}},Vg.prototype=new py,my=function(w,I){var L,P=[],N=[],H,K;I=I||{},L=I.firstSequenceNumber||0,my.prototype.init.call(this),delete w.minPTS,this.gopCache_=[],this.push=function(ee){qs.collectDtsInfo(w,ee),ee.nalUnitType==="seq_parameter_set_rbsp"&&!H&&(H=ee.config,w.sps=[ee.data],wB.forEach(function(ie){w[ie]=H[ie]},this)),ee.nalUnitType==="pic_parameter_set_rbsp"&&!K&&(K=ee.data,w.pps=[ee.data]),P.push(ee)},this.flush=function(){for(var ee,ie,ae,ge,De,at,Le=0,bt,qt;P.length&&P[0].nalUnitType!=="access_unit_delimiter_rbsp";)P.shift();if(P.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(ee=jg.groupNalsIntoFrames(P),ae=jg.groupFramesIntoGops(ee),ae[0][0].keyFrame||(ie=this.getGopForFusion_(P[0],w),ie?(Le=ie.duration,ae.unshift(ie),ae.byteLength+=ie.byteLength,ae.nalCount+=ie.nalCount,ae.pts=ie.pts,ae.dts=ie.dts,ae.duration+=ie.duration):ae=jg.extendFirstKeyFrame(ae)),N.length){var nn;if(I.alignGopsAtEnd?nn=this.alignGopsAtEnd_(ae):nn=this.alignGopsAtStart_(ae),!nn){this.gopCache_.unshift({gop:ae.pop(),pps:w.pps,sps:w.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),P=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}qs.clearDtsInfo(w),ae=nn}qs.collectDtsInfo(w,ae),w.samples=jg.generateSampleTable(ae),De=Ug.mdat(jg.concatenateNalData(ae)),w.baseMediaDecodeTime=qs.calculateTrackBaseMediaDecodeTime(w,I.keepOriginalTimestamps),this.trigger("processedGopsInfo",ae.map(function(Ua){return{pts:Ua.pts,dts:Ua.dts,byteLength:Ua.byteLength}})),bt=ae[0],qt=ae[ae.length-1],this.trigger("segmentTimingInfo",IB(w.baseMediaDecodeTime,bt.dts,bt.pts,qt.dts+qt.duration,qt.pts+qt.duration,Le)),this.trigger("timingInfo",{start:ae[0].pts,end:ae[ae.length-1].pts+ae[ae.length-1].duration}),this.gopCache_.unshift({gop:ae.pop(),pps:w.pps,sps:w.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),P=[],this.trigger("baseMediaDecodeTime",w.baseMediaDecodeTime),this.trigger("timelineStartInfo",w.timelineStartInfo),ge=Ug.moof(L,[w]),at=new Uint8Array(ge.byteLength+De.byteLength),L++,at.set(ge),at.set(De,ge.byteLength),this.trigger("data",{track:w,boxes:at}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),P=[],this.gopCache_.length=0,N.length=0,this.trigger("reset")},this.resetStream_=function(){qs.clearDtsInfo(w),H=void 0,K=void 0},this.getGopForFusion_=function(ee){var ie=45e3,ae=1/0,ge,De,at,Le,bt;for(bt=0;bt<this.gopCache_.length;bt++)Le=this.gopCache_[bt],at=Le.gop,!(!(w.pps&&FB(w.pps[0],Le.pps[0]))||!(w.sps&&FB(w.sps[0],Le.sps[0])))&&(at.dts<w.timelineStartInfo.dts||(ge=ee.dts-at.dts-at.duration,ge>=-1e4&&ge<=ie&&(!De||ae>ge)&&(De=Le,ae=ge)));return De?De.gop:null},this.alignGopsAtStart_=function(ee){var ie,ae,ge,De,at,Le,bt,qt;for(at=ee.byteLength,Le=ee.nalCount,bt=ee.duration,ie=ae=0;ie<N.length&&ae<ee.length&&(ge=N[ie],De=ee[ae],ge.pts!==De.pts);){if(De.pts>ge.pts){ie++;continue}ae++,at-=De.byteLength,Le-=De.nalCount,bt-=De.duration}return ae===0?ee:ae===ee.length?null:(qt=ee.slice(ae),qt.byteLength=at,qt.duration=bt,qt.nalCount=Le,qt.pts=qt[0].pts,qt.dts=qt[0].dts,qt)},this.alignGopsAtEnd_=function(ee){var ie,ae,ge,De,at,Le;for(ie=N.length-1,ae=ee.length-1,at=null,Le=!1;ie>=0&&ae>=0;){if(ge=N[ie],De=ee[ae],ge.pts===De.pts){Le=!0;break}if(ge.pts>De.pts){ie--;continue}ie===N.length-1&&(at=ae),ae--}if(!Le&&at===null)return null;var bt;if(Le?bt=ae:bt=at,bt===0)return ee;var qt=ee.slice(bt),nn=qt.reduce(function(Ua,Ol){return Ua.byteLength+=Ol.byteLength,Ua.duration+=Ol.duration,Ua.nalCount+=Ol.nalCount,Ua},{byteLength:0,duration:0,nalCount:0});return qt.byteLength=nn.byteLength,qt.duration=nn.duration,qt.nalCount=nn.nalCount,qt.pts=qt[0].pts,qt.dts=qt[0].dts,qt},this.alignGopsWith=function(ee){N=ee}},my.prototype=new py,a0=function(w,I){this.numberOfTracks=0,this.metadataStream=I,w=w||{},typeof w.remux<"u"?this.remuxTracks=!!w.remux:this.remuxTracks=!0,typeof w.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=w.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,a0.prototype.init.call(this),this.push=function(L){if(L.content||L.text)return this.pendingCaptions.push(L);if(L.frames)return this.pendingMetadata.push(L);this.pendingTracks.push(L.track),this.pendingBytes+=L.boxes.byteLength,L.track.type==="video"&&(this.videoTrack=L.track,this.pendingBoxes.push(L.boxes)),L.track.type==="audio"&&(this.audioTrack=L.track,this.pendingBoxes.unshift(L.boxes))}},a0.prototype=new py,a0.prototype.flush=function(w){var I=0,L={captions:[],captionStreams:{},metadata:[],info:{}},P,N,H,K=0,ee;if(this.pendingTracks.length<this.numberOfTracks){if(w!=="VideoSegmentStream"&&w!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(K=this.videoTrack.timelineStartInfo.pts,wB.forEach(function(ie){L.info[ie]=this.videoTrack[ie]},this)):this.audioTrack&&(K=this.audioTrack.timelineStartInfo.pts,AB.forEach(function(ie){L.info[ie]=this.audioTrack[ie]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?L.type=this.pendingTracks[0].type:L.type="combined",this.emittedTracks+=this.pendingTracks.length,H=Ug.initSegment(this.pendingTracks),L.initSegment=new Uint8Array(H.byteLength),L.initSegment.set(H),L.data=new Uint8Array(this.pendingBytes),ee=0;ee<this.pendingBoxes.length;ee++)L.data.set(this.pendingBoxes[ee],I),I+=this.pendingBoxes[ee].byteLength;for(ee=0;ee<this.pendingCaptions.length;ee++)P=this.pendingCaptions[ee],P.startTime=vy.metadataTsToSeconds(P.startPts,K,this.keepOriginalTimestamps),P.endTime=vy.metadataTsToSeconds(P.endPts,K,this.keepOriginalTimestamps),L.captionStreams[P.stream]=!0,L.captions.push(P);for(ee=0;ee<this.pendingMetadata.length;ee++)N=this.pendingMetadata[ee],N.cueTime=vy.metadataTsToSeconds(N.pts,K,this.keepOriginalTimestamps),L.metadata.push(N);for(L.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",L),ee=0;ee<L.captions.length;ee++)P=L.captions[ee],this.trigger("caption",P);for(ee=0;ee<L.metadata.length;ee++)N=L.metadata[ee],this.trigger("id3Frame",N)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},a0.prototype.setRemux=function(w){this.remuxTracks=w},yy=function(w){var I=this,L=!0,P,N;yy.prototype.init.call(this),w=w||{},this.baseMediaDecodeTime=w.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var H={};this.transmuxPipeline_=H,H.type="aac",H.metadataStream=new Fu.MetadataStream,H.aacStream=new ooe,H.audioTimestampRolloverStream=new Fu.TimestampRolloverStream("audio"),H.timedMetadataTimestampRolloverStream=new Fu.TimestampRolloverStream("timed-metadata"),H.adtsStream=new TB,H.coalesceStream=new a0(w,H.metadataStream),H.headOfPipeline=H.aacStream,H.aacStream.pipe(H.audioTimestampRolloverStream).pipe(H.adtsStream),H.aacStream.pipe(H.timedMetadataTimestampRolloverStream).pipe(H.metadataStream).pipe(H.coalesceStream),H.metadataStream.on("timestamp",function(K){H.aacStream.setTimestamp(K.timeStamp)}),H.aacStream.on("data",function(K){K.type!=="timed-metadata"&&K.type!=="audio"||H.audioSegmentStream||(N=N||{timelineStartInfo:{baseMediaDecodeTime:I.baseMediaDecodeTime},codec:"adts",type:"audio"},H.coalesceStream.numberOfTracks++,H.audioSegmentStream=new Vg(N,w),H.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),H.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),H.adtsStream.pipe(H.audioSegmentStream).pipe(H.coalesceStream),I.trigger("trackinfo",{hasAudio:!!N,hasVideo:!!P}))}),H.coalesceStream.on("data",this.trigger.bind(this,"data")),H.coalesceStream.on("done",this.trigger.bind(this,"done")),DB(this,H)},this.setupTsPipeline=function(){var H={};this.transmuxPipeline_=H,H.type="ts",H.metadataStream=new Fu.MetadataStream,H.packetStream=new Fu.TransportPacketStream,H.parseStream=new Fu.TransportParseStream,H.elementaryStream=new Fu.ElementaryStream,H.timestampRolloverStream=new Fu.TimestampRolloverStream,H.adtsStream=new TB,H.h264Stream=new soe,H.captionStream=new Fu.CaptionStream(w),H.coalesceStream=new a0(w,H.metadataStream),H.headOfPipeline=H.packetStream,H.packetStream.pipe(H.parseStream).pipe(H.elementaryStream).pipe(H.timestampRolloverStream),H.timestampRolloverStream.pipe(H.h264Stream),H.timestampRolloverStream.pipe(H.adtsStream),H.timestampRolloverStream.pipe(H.metadataStream).pipe(H.coalesceStream),H.h264Stream.pipe(H.captionStream).pipe(H.coalesceStream),H.elementaryStream.on("data",function(K){var ee;if(K.type==="metadata"){for(ee=K.tracks.length;ee--;)!P&&K.tracks[ee].type==="video"?(P=K.tracks[ee],P.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime):!N&&K.tracks[ee].type==="audio"&&(N=K.tracks[ee],N.timelineStartInfo.baseMediaDecodeTime=I.baseMediaDecodeTime);P&&!H.videoSegmentStream&&(H.coalesceStream.numberOfTracks++,H.videoSegmentStream=new my(P,w),H.videoSegmentStream.on("log",I.getLogTrigger_("videoSegmentStream")),H.videoSegmentStream.on("timelineStartInfo",function(ie){N&&!w.keepOriginalTimestamps&&(N.timelineStartInfo=ie,H.audioSegmentStream.setEarliestDts(ie.dts-I.baseMediaDecodeTime))}),H.videoSegmentStream.on("processedGopsInfo",I.trigger.bind(I,"gopInfo")),H.videoSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"videoSegmentTimingInfo")),H.videoSegmentStream.on("baseMediaDecodeTime",function(ie){N&&H.audioSegmentStream.setVideoBaseMediaDecodeTime(ie)}),H.videoSegmentStream.on("timingInfo",I.trigger.bind(I,"videoTimingInfo")),H.h264Stream.pipe(H.videoSegmentStream).pipe(H.coalesceStream)),N&&!H.audioSegmentStream&&(H.coalesceStream.numberOfTracks++,H.audioSegmentStream=new Vg(N,w),H.audioSegmentStream.on("log",I.getLogTrigger_("audioSegmentStream")),H.audioSegmentStream.on("timingInfo",I.trigger.bind(I,"audioTimingInfo")),H.audioSegmentStream.on("segmentTimingInfo",I.trigger.bind(I,"audioSegmentTimingInfo")),H.adtsStream.pipe(H.audioSegmentStream).pipe(H.coalesceStream)),I.trigger("trackinfo",{hasAudio:!!N,hasVideo:!!P})}}),H.coalesceStream.on("data",this.trigger.bind(this,"data")),H.coalesceStream.on("id3Frame",function(K){K.dispatchType=H.metadataStream.dispatchType,I.trigger("id3Frame",K)}),H.coalesceStream.on("caption",this.trigger.bind(this,"caption")),H.coalesceStream.on("done",this.trigger.bind(this,"done")),DB(this,H)},this.setBaseMediaDecodeTime=function(H){var K=this.transmuxPipeline_;w.keepOriginalTimestamps||(this.baseMediaDecodeTime=H),N&&(N.timelineStartInfo.dts=void 0,N.timelineStartInfo.pts=void 0,qs.clearDtsInfo(N),K.audioTimestampRolloverStream&&K.audioTimestampRolloverStream.discontinuity()),P&&(K.videoSegmentStream&&(K.videoSegmentStream.gopCache_=[]),P.timelineStartInfo.dts=void 0,P.timelineStartInfo.pts=void 0,qs.clearDtsInfo(P),K.captionStream.reset()),K.timestampRolloverStream&&K.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(H){N&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(H)},this.setRemux=function(H){var K=this.transmuxPipeline_;w.remux=H,K&&K.coalesceStream&&K.coalesceStream.setRemux(H)},this.alignGopsWith=function(H){P&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(H)},this.getLogTrigger_=function(H){var K=this;return function(ee){ee.stream=H,K.trigger("log",ee)}},this.push=function(H){if(L){var K=uoe(H);K&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!K&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),L=!1}this.transmuxPipeline_.headOfPipeline.push(H)},this.flush=function(){L=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},yy.prototype=new py;var hoe={Transmuxer:yy},foe=function(w){return w>>>0},doe=function(w){return("00"+w.toString(16)).slice(-2)},_y={toUnsigned:foe,toHexString:doe},poe=function(w){var I="";return I+=String.fromCharCode(w[0]),I+=String.fromCharCode(w[1]),I+=String.fromCharCode(w[2]),I+=String.fromCharCode(w[3]),I},BB=poe,goe=_y.toUnsigned,voe=BB,MB=function(w,I){var L=[],P,N,H,K,ee;if(!I.length)return null;for(P=0;P<w.byteLength;)N=goe(w[P]<<24|w[P+1]<<16|w[P+2]<<8|w[P+3]),H=voe(w.subarray(P+4,P+8)),K=N>1?P+N:w.byteLength,H===I[0]&&(I.length===1?L.push(w.subarray(P+8,K)):(ee=MB(w.subarray(P+8,K),I.slice(1)),ee.length&&(L=L.concat(ee)))),P=K;return L},HC=MB,moe=_y.toUnsigned,yoe=a.getUint64,_oe=function(w){var I={version:w[0],flags:new Uint8Array(w.subarray(1,4))};return I.version===1?I.baseMediaDecodeTime=yoe(w.subarray(4)):I.baseMediaDecodeTime=moe(w[4]<<24|w[5]<<16|w[6]<<8|w[7]),I},GC=_oe,xoe=function(w){var I=new DataView(w.buffer,w.byteOffset,w.byteLength),L={version:w[0],flags:new Uint8Array(w.subarray(1,4)),trackId:I.getUint32(4)},P=L.flags[2]&1,N=L.flags[2]&2,H=L.flags[2]&8,K=L.flags[2]&16,ee=L.flags[2]&32,ie=L.flags[0]&65536,ae=L.flags[0]&131072,ge;return ge=8,P&&(ge+=4,L.baseDataOffset=I.getUint32(12),ge+=4),N&&(L.sampleDescriptionIndex=I.getUint32(ge),ge+=4),H&&(L.defaultSampleDuration=I.getUint32(ge),ge+=4),K&&(L.defaultSampleSize=I.getUint32(ge),ge+=4),ee&&(L.defaultSampleFlags=I.getUint32(ge)),ie&&(L.durationIsEmpty=!0),!P&&ae&&(L.baseDataOffsetIsMoof=!0),L},PB=xoe,boe=function(w){return{isLeading:(w[0]&12)>>>2,dependsOn:w[0]&3,isDependedOn:(w[1]&192)>>>6,hasRedundancy:(w[1]&48)>>>4,paddingValue:(w[1]&14)>>>1,isNonSyncSample:w[1]&1,degradationPriority:w[2]<<8|w[3]}},Coe=boe,LB=Coe,Eoe=function(w){var I={version:w[0],flags:new Uint8Array(w.subarray(1,4)),samples:[]},L=new DataView(w.buffer,w.byteOffset,w.byteLength),P=I.flags[2]&1,N=I.flags[2]&4,H=I.flags[1]&1,K=I.flags[1]&2,ee=I.flags[1]&4,ie=I.flags[1]&8,ae=L.getUint32(4),ge=8,De;for(P&&(I.dataOffset=L.getInt32(ge),ge+=4),N&&ae&&(De={flags:LB(w.subarray(ge,ge+4))},ge+=4,H&&(De.duration=L.getUint32(ge),ge+=4),K&&(De.size=L.getUint32(ge),ge+=4),ie&&(I.version===1?De.compositionTimeOffset=L.getInt32(ge):De.compositionTimeOffset=L.getUint32(ge),ge+=4),I.samples.push(De),ae--);ae--;)De={},H&&(De.duration=L.getUint32(ge),ge+=4),K&&(De.size=L.getUint32(ge),ge+=4),ee&&(De.flags=LB(w.subarray(ge,ge+4)),ge+=4),ie&&(I.version===1?De.compositionTimeOffset=L.getInt32(ge):De.compositionTimeOffset=L.getUint32(ge),ge+=4),I.samples.push(De);return I},OB=Eoe,RB={tfdt:GC,trun:OB},NB={parseTfdt:RB.tfdt,parseTrun:RB.trun},Soe=function(w){for(var I=0,L=String.fromCharCode(w[I]),P="";L!=="\0";)P+=L,I++,L=String.fromCharCode(w[I]);return P+=L,P},Toe={uint8ToCString:Soe},xy=Toe.uint8ToCString,Aoe=a.getUint64,woe=function(w){var I=4,L=w[0],P,N,H,K,ee,ie,ae,ge;if(L===0){P=xy(w.subarray(I)),I+=P.length,N=xy(w.subarray(I)),I+=N.length;var De=new DataView(w.buffer);H=De.getUint32(I),I+=4,ee=De.getUint32(I),I+=4,ie=De.getUint32(I),I+=4,ae=De.getUint32(I),I+=4}else if(L===1){var De=new DataView(w.buffer);H=De.getUint32(I),I+=4,K=Aoe(w.subarray(I)),I+=8,ie=De.getUint32(I),I+=4,ae=De.getUint32(I),I+=4,P=xy(w.subarray(I)),I+=P.length,N=xy(w.subarray(I)),I+=N.length}ge=new Uint8Array(w.subarray(I,w.byteLength));var at={scheme_id_uri:P,value:N,timescale:H||1,presentation_time:K,presentation_time_delta:ee,event_duration:ie,id:ae,message_data:ge};return Foe(L,at)?at:void 0},Doe=function(w,I,L,P){return w||w===0?w/I:P+L/I},Foe=function(w,I){var L=I.scheme_id_uri!=="\0",P=w===0&&kB(I.presentation_time_delta)&&L,N=w===1&&kB(I.presentation_time)&&L;return!(w>1)&&P||N},kB=function(w){return w!==void 0||w!==null},Ioe={parseEmsgBox:woe,scaleTime:Doe},$g;typeof window<"u"?$g=window:typeof t<"u"?$g=t:typeof self<"u"?$g=self:$g={};var zB=$g,by=_y.toUnsigned,Wg=_y.toHexString,Ci=HC,Lf=BB,UC=Ioe,Boe=PB,Moe=OB,Poe=GC,Loe=a.getUint64,HB,GB,UB,jB,VB,jC,$B,VC=zB,Ooe=gB.parseId3Frames;HB=function(w){var I={},L=Ci(w,["moov","trak"]);return L.reduce(function(P,N){var H,K,ee,ie,ae;return H=Ci(N,["tkhd"])[0],!H||(K=H[0],ee=K===0?12:20,ie=by(H[ee]<<24|H[ee+1]<<16|H[ee+2]<<8|H[ee+3]),ae=Ci(N,["mdia","mdhd"])[0],!ae)?null:(K=ae[0],ee=K===0?12:20,P[ie]=by(ae[ee]<<24|ae[ee+1]<<16|ae[ee+2]<<8|ae[ee+3]),P)},I)},GB=function(w,I){var L;L=Ci(I,["moof","traf"]);var P=L.reduce(function(N,H){var K=Ci(H,["tfhd"])[0],ee=by(K[4]<<24|K[5]<<16|K[6]<<8|K[7]),ie=w[ee]||9e4,ae=Ci(H,["tfdt"])[0],ge=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),De;ae[0]===1?De=Loe(ae.subarray(4,12)):De=ge.getUint32(4);let at;return typeof De=="bigint"?at=De/VC.BigInt(ie):typeof De=="number"&&!isNaN(De)&&(at=De/ie),at<Number.MAX_SAFE_INTEGER&&(at=Number(at)),at<N&&(N=at),N},1/0);return typeof P=="bigint"||isFinite(P)?P:0},UB=function(w,I){var L=Ci(I,["moof","traf"]),P=0,N=0,H;if(L&&L.length){var K=Ci(L[0],["tfhd"])[0],ee=Ci(L[0],["trun"])[0],ie=Ci(L[0],["tfdt"])[0];if(K){var ae=Boe(K);H=ae.trackId}if(ie){var ge=Poe(ie);P=ge.baseMediaDecodeTime}if(ee){var De=Moe(ee);De.samples&&De.samples.length&&(N=De.samples[0].compositionTimeOffset||0)}}var at=w[H]||9e4;typeof P=="bigint"&&(N=VC.BigInt(N),at=VC.BigInt(at));var Le=(P+N)/at;return typeof Le=="bigint"&&Le<Number.MAX_SAFE_INTEGER&&(Le=Number(Le)),Le},jB=function(w){var I=Ci(w,["moov","trak"]),L=[];return I.forEach(function(P){var N=Ci(P,["mdia","hdlr"]),H=Ci(P,["tkhd"]);N.forEach(function(K,ee){var ie=Lf(K.subarray(8,12)),ae=H[ee],ge,De,at;ie==="vide"&&(ge=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),De=ge.getUint8(0),at=De===0?ge.getUint32(12):ge.getUint32(20),L.push(at))})}),L},jC=function(w){var I=w[0],L=I===0?12:20;return by(w[L]<<24|w[L+1]<<16|w[L+2]<<8|w[L+3])},VB=function(w){var I=Ci(w,["moov","trak"]),L=[];return I.forEach(function(P){var N={},H=Ci(P,["tkhd"])[0],K,ee;H&&(K=new DataView(H.buffer,H.byteOffset,H.byteLength),ee=K.getUint8(0),N.id=ee===0?K.getUint32(12):K.getUint32(20));var ie=Ci(P,["mdia","hdlr"])[0];if(ie){var ae=Lf(ie.subarray(8,12));ae==="vide"?N.type="video":ae==="soun"?N.type="audio":N.type=ae}var ge=Ci(P,["mdia","minf","stbl","stsd"])[0];if(ge){var De=ge.subarray(8);N.codec=Lf(De.subarray(4,8));var at=Ci(De,[N.codec])[0],Le,bt;at&&(/^[asm]vc[1-9]$/i.test(N.codec)?(Le=at.subarray(78),bt=Lf(Le.subarray(4,8)),bt==="avcC"&&Le.length>11?(N.codec+=".",N.codec+=Wg(Le[9]),N.codec+=Wg(Le[10]),N.codec+=Wg(Le[11])):N.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(N.codec)?(Le=at.subarray(28),bt=Lf(Le.subarray(4,8)),bt==="esds"&&Le.length>20&&Le[19]!==0?(N.codec+="."+Wg(Le[19]),N.codec+="."+Wg(Le[20]>>>2&63).replace(/^0/,"")):N.codec="mp4a.40.2"):N.codec=N.codec.toLowerCase())}var qt=Ci(P,["mdia","mdhd"])[0];qt&&(N.timescale=jC(qt)),L.push(N)}),L},$B=function(w,I=0){var L=Ci(w,["emsg"]);return L.map(P=>{var N=UC.parseEmsgBox(new Uint8Array(P)),H=Ooe(N.message_data);return{cueTime:UC.scaleTime(N.presentation_time,N.timescale,N.presentation_time_delta,I),duration:UC.scaleTime(N.event_duration,N.timescale),frames:H}})};var Yg={findBox:Ci,parseType:Lf,timescale:HB,startTime:GB,compositionStartTime:UB,videoTrackIds:jB,tracks:VB,getTimescaleFromMediaHeader:jC,getEmsgID3:$B};const{parseTrun:Roe}=NB,{findBox:WB}=Yg;var YB=zB,Noe=function(w){var I=WB(w,["moof","traf"]),L=WB(w,["mdat"]),P=[];return L.forEach(function(N,H){var K=I[H];P.push({mdat:N,traf:K})}),P},koe=function(w,I,L){var P=I,N=L.defaultSampleDuration||0,H=L.defaultSampleSize||0,K=L.trackId,ee=[];return w.forEach(function(ie){var ae=Roe(ie),ge=ae.samples;ge.forEach(function(De){De.duration===void 0&&(De.duration=N),De.size===void 0&&(De.size=H),De.trackId=K,De.dts=P,De.compositionTimeOffset===void 0&&(De.compositionTimeOffset=0),typeof P=="bigint"?(De.pts=P+YB.BigInt(De.compositionTimeOffset),P+=YB.BigInt(De.duration)):(De.pts=P+De.compositionTimeOffset,P+=De.duration)}),ee=ee.concat(ge)}),ee},qB={getMdatTrafPairs:Noe,parseSamples:koe},zoe=Jr.discardEmulationPreventionBytes,Hoe=hB.CaptionStream,$C=HC,Goe=GC,Uoe=PB,{getMdatTrafPairs:joe,parseSamples:Voe}=qB,$oe=function(w,I){for(var L=w,P=0;P<I.length;P++){var N=I[P];if(L<N.size)return N;L-=N.size}return null},Woe=function(w,I,L){var P=new DataView(w.buffer,w.byteOffset,w.byteLength),N={logs:[],seiNals:[]},H,K,ee,ie;for(K=0;K+4<w.length;K+=ee)if(ee=P.getUint32(K),K+=4,!(ee<=0))switch(w[K]&31){case 6:var ae=w.subarray(K+1,K+1+ee),ge=$oe(K,I);if(H={nalUnitType:"sei_rbsp",size:ee,data:ae,escapedRBSP:zoe(ae),trackId:L},ge)H.pts=ge.pts,H.dts=ge.dts,ie=ge;else if(ie)H.pts=ie.pts,H.dts=ie.dts;else{N.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+K+" for trackId "+L+". See mux.js#223."});break}N.seiNals.push(H);break}return N},Yoe=function(w,I){var L={},P=joe(w);return P.forEach(function(N){var H=N.mdat,K=N.traf,ee=$C(K,["tfhd"]),ie=Uoe(ee[0]),ae=ie.trackId,ge=$C(K,["tfdt"]),De=ge.length>0?Goe(ge[0]).baseMediaDecodeTime:0,at=$C(K,["trun"]),Le,bt;I===ae&&at.length>0&&(Le=Voe(at,De,ie),bt=Woe(H,Le,ae),L[ae]||(L[ae]={seiNals:[],logs:[]}),L[ae].seiNals=L[ae].seiNals.concat(bt.seiNals),L[ae].logs=L[ae].logs.concat(bt.logs))}),L},qoe=function(w,I,L){var P;if(I===null)return null;P=Yoe(w,I);var N=P[I]||{};return{seiNals:N.seiNals,logs:N.logs,timescale:L}},Xoe=function(){var w=!1,I,L,P,N,H,K;this.isInitialized=function(){return w},this.init=function(ee){I=new Hoe,w=!0,K=ee?ee.isPartial:!1,I.on("data",function(ie){ie.startTime=ie.startPts/N,ie.endTime=ie.endPts/N,H.captions.push(ie),H.captionStreams[ie.stream]=!0}),I.on("log",function(ie){H.logs.push(ie)})},this.isNewInit=function(ee,ie){return ee&&ee.length===0||ie&&typeof ie=="object"&&Object.keys(ie).length===0?!1:P!==ee[0]||N!==ie[P]},this.parse=function(ee,ie,ae){var ge;if(this.isInitialized()){if(!ie||!ae)return null;if(this.isNewInit(ie,ae))P=ie[0],N=ae[P];else if(P===null||!N)return L.push(ee),null}else return null;for(;L.length>0;){var De=L.shift();this.parse(De,ie,ae)}return ge=qoe(ee,P,N),ge&&ge.logs&&(H.logs=H.logs.concat(ge.logs)),ge===null||!ge.seiNals?H.logs.length?{logs:H.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ge.seiNals),this.flushStream(),H)},this.pushNals=function(ee){if(!this.isInitialized()||!ee||ee.length===0)return null;ee.forEach(function(ie){I.push(ie)})},this.flushStream=function(){if(!this.isInitialized())return null;K?I.partialFlush():I.flush()},this.clearParsedCaptions=function(){H.captions=[],H.captionStreams={},H.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;I.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){L=[],P=null,N=null,H?this.clearParsedCaptions():H={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Zoe=Xoe;const{parseTfdt:Koe}=NB,Ll=HC,{getTimescaleFromMediaHeader:Joe}=Yg,{parseSamples:Qoe,getMdatTrafPairs:eue}=qB;var XB=function(){let w=9e4;this.init=function(I){const L=Ll(I,["moov","trak","mdia","mdhd"])[0];L&&(w=Joe(L))},this.parseSegment=function(I){const L=[],P=eue(I);let N=0;return P.forEach(function(H){const K=H.mdat,ee=H.traf,ie=Ll(ee,["tfdt"])[0],ae=Ll(ee,["tfhd"])[0],ge=Ll(ee,["trun"]);if(ie&&(N=Koe(ie).baseMediaDecodeTime),ge.length&&ae){const De=Qoe(ge,N,ae);let at=0;De.forEach(function(Le){const bt="utf-8",qt=new TextDecoder(bt),nn=K.slice(at,at+Le.size);if(Ll(nn,["vtte"])[0]){at+=Le.size;return}Ll(nn,["vttc"]).forEach(function(qg){const Xg=Ll(qg,["payl"])[0],Zg=Ll(qg,["sttg"])[0],Kg=Le.pts/w,Sy=(Le.pts+Le.duration)/w;let Wr,Jg;if(Xg)try{Wr=qt.decode(Xg)}catch(Xs){console.error(Xs)}if(Zg)try{Jg=qt.decode(Zg)}catch(Xs){console.error(Xs)}Le.duration&&Wr&&L.push({cueText:Wr,start:Kg,end:Sy,settings:Jg})}),at+=Le.size})}}),L}},WC=ny,ZB=function(w){var I=w[1]&31;return I<<=8,I|=w[2],I},Cy=function(w){return!!(w[1]&64)},Ey=function(w){var I=0;return(w[3]&48)>>>4>1&&(I+=w[4]+1),I},tue=function(w,I){var L=ZB(w);return L===0?"pat":L===I?"pmt":I?"pes":null},rue=function(w){var I=Cy(w),L=4+Ey(w);return I&&(L+=w[L]+1),(w[L+10]&31)<<8|w[L+11]},iue=function(w){var I={},L=Cy(w),P=4+Ey(w);if(L&&(P+=w[P]+1),!!(w[P+5]&1)){var N,H,K;N=(w[P+1]&15)<<8|w[P+2],H=3+N-4,K=(w[P+10]&15)<<8|w[P+11];for(var ee=12+K;ee<H;){var ie=P+ee;I[(w[ie+1]&31)<<8|w[ie+2]]=w[ie],ee+=((w[ie+3]&15)<<8|w[ie+4])+5}return I}},nue=function(w,I){var L=ZB(w),P=I[L];switch(P){case WC.H264_STREAM_TYPE:return"video";case WC.ADTS_STREAM_TYPE:return"audio";case WC.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},aue=function(w){var I=Cy(w);if(!I)return null;var L=4+Ey(w);if(L>=w.byteLength)return null;var P=null,N;return N=w[L+7],N&192&&(P={},P.pts=(w[L+9]&14)<<27|(w[L+10]&255)<<20|(w[L+11]&254)<<12|(w[L+12]&255)<<5|(w[L+13]&254)>>>3,P.pts*=4,P.pts+=(w[L+13]&6)>>>1,P.dts=P.pts,N&64&&(P.dts=(w[L+14]&14)<<27|(w[L+15]&255)<<20|(w[L+16]&254)<<12|(w[L+17]&255)<<5|(w[L+18]&254)>>>3,P.dts*=4,P.dts+=(w[L+18]&6)>>>1)),P},YC=function(w){switch(w){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},sue=function(w){for(var I=4+Ey(w),L=w.subarray(I),P=0,N=0,H=!1,K;N<L.byteLength-3;N++)if(L[N+2]===1){P=N+5;break}for(;P<L.byteLength;)switch(L[P]){case 0:if(L[P-1]!==0){P+=2;break}else if(L[P-2]!==0){P++;break}N+3!==P-2&&(K=YC(L[N+3]&31),K==="slice_layer_without_partitioning_rbsp_idr"&&(H=!0));do P++;while(L[P]!==1&&P<L.length);N=P-2,P+=3;break;case 1:if(L[P-1]!==0||L[P-2]!==0){P+=3;break}K=YC(L[N+3]&31),K==="slice_layer_without_partitioning_rbsp_idr"&&(H=!0),N=P-2,P+=3;break;default:P+=3;break}return L=L.subarray(N),P-=N,N=0,L&&L.byteLength>3&&(K=YC(L[N+3]&31),K==="slice_layer_without_partitioning_rbsp_idr"&&(H=!0)),H},oue={parseType:tue,parsePat:rue,parsePmt:iue,parsePayloadUnitStartIndicator:Cy,parsePesType:nue,parsePesTime:aue,videoPacketContainsKeyFrame:sue},KB=ny,Of=dB.handleRollover,Fr={};Fr.ts=oue,Fr.aac=zC;var s0=Ot.ONE_SECOND_IN_TS,Vn=188,Ao=71,uue=function(w,I){for(var L=0,P=Vn,N,H;P<w.byteLength;){if(w[L]===Ao&&w[P]===Ao){switch(N=w.subarray(L,P),H=Fr.ts.parseType(N,I.pid),H){case"pat":I.pid=Fr.ts.parsePat(N);break;case"pmt":var K=Fr.ts.parsePmt(N);I.table=I.table||{},Object.keys(K).forEach(function(ee){I.table[ee]=K[ee]});break}L+=Vn,P+=Vn;continue}L++,P++}},JB=function(w,I,L){for(var P=0,N=Vn,H,K,ee,ie,ae,ge=!1;N<=w.byteLength;){if(w[P]===Ao&&(w[N]===Ao||N===w.byteLength)){switch(H=w.subarray(P,N),K=Fr.ts.parseType(H,I.pid),K){case"pes":ee=Fr.ts.parsePesType(H,I.table),ie=Fr.ts.parsePayloadUnitStartIndicator(H),ee==="audio"&&ie&&(ae=Fr.ts.parsePesTime(H),ae&&(ae.type="audio",L.audio.push(ae),ge=!0));break}if(ge)break;P+=Vn,N+=Vn;continue}P++,N++}for(N=w.byteLength,P=N-Vn,ge=!1;P>=0;){if(w[P]===Ao&&(w[N]===Ao||N===w.byteLength)){switch(H=w.subarray(P,N),K=Fr.ts.parseType(H,I.pid),K){case"pes":ee=Fr.ts.parsePesType(H,I.table),ie=Fr.ts.parsePayloadUnitStartIndicator(H),ee==="audio"&&ie&&(ae=Fr.ts.parsePesTime(H),ae&&(ae.type="audio",L.audio.push(ae),ge=!0));break}if(ge)break;P-=Vn,N-=Vn;continue}P--,N--}},lue=function(w,I,L){for(var P=0,N=Vn,H,K,ee,ie,ae,ge,De,at,Le=!1,bt={data:[],size:0};N<w.byteLength;){if(w[P]===Ao&&w[N]===Ao){switch(H=w.subarray(P,N),K=Fr.ts.parseType(H,I.pid),K){case"pes":if(ee=Fr.ts.parsePesType(H,I.table),ie=Fr.ts.parsePayloadUnitStartIndicator(H),ee==="video"&&(ie&&!Le&&(ae=Fr.ts.parsePesTime(H),ae&&(ae.type="video",L.video.push(ae),Le=!0)),!L.firstKeyFrame)){if(ie&&bt.size!==0){for(ge=new Uint8Array(bt.size),De=0;bt.data.length;)at=bt.data.shift(),ge.set(at,De),De+=at.byteLength;if(Fr.ts.videoPacketContainsKeyFrame(ge)){var qt=Fr.ts.parsePesTime(ge);qt?(L.firstKeyFrame=qt,L.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}bt.size=0}bt.data.push(H),bt.size+=H.byteLength}break}if(Le&&L.firstKeyFrame)break;P+=Vn,N+=Vn;continue}P++,N++}for(N=w.byteLength,P=N-Vn,Le=!1;P>=0;){if(w[P]===Ao&&w[N]===Ao){switch(H=w.subarray(P,N),K=Fr.ts.parseType(H,I.pid),K){case"pes":ee=Fr.ts.parsePesType(H,I.table),ie=Fr.ts.parsePayloadUnitStartIndicator(H),ee==="video"&&ie&&(ae=Fr.ts.parsePesTime(H),ae&&(ae.type="video",L.video.push(ae),Le=!0));break}if(Le)break;P-=Vn,N-=Vn;continue}P--,N--}},cue=function(w,I){if(w.audio&&w.audio.length){var L=I;(typeof L>"u"||isNaN(L))&&(L=w.audio[0].dts),w.audio.forEach(function(H){H.dts=Of(H.dts,L),H.pts=Of(H.pts,L),H.dtsTime=H.dts/s0,H.ptsTime=H.pts/s0})}if(w.video&&w.video.length){var P=I;if((typeof P>"u"||isNaN(P))&&(P=w.video[0].dts),w.video.forEach(function(H){H.dts=Of(H.dts,P),H.pts=Of(H.pts,P),H.dtsTime=H.dts/s0,H.ptsTime=H.pts/s0}),w.firstKeyFrame){var N=w.firstKeyFrame;N.dts=Of(N.dts,P),N.pts=Of(N.pts,P),N.dtsTime=N.dts/s0,N.ptsTime=N.pts/s0}}},hue=function(w){for(var I=!1,L=0,P=null,N=null,H=0,K=0,ee;w.length-K>=3;){var ie=Fr.aac.parseType(w,K);switch(ie){case"timed-metadata":if(w.length-K<10){I=!0;break}if(H=Fr.aac.parseId3TagSize(w,K),H>w.length){I=!0;break}N===null&&(ee=w.subarray(K,K+H),N=Fr.aac.parseAacTimestamp(ee)),K+=H;break;case"audio":if(w.length-K<7){I=!0;break}if(H=Fr.aac.parseAdtsSize(w,K),H>w.length){I=!0;break}P===null&&(ee=w.subarray(K,K+H),P=Fr.aac.parseSampleRate(ee)),L++,K+=H;break;default:K++;break}if(I)return null}if(P===null||N===null)return null;var ae=s0/P,ge={audio:[{type:"audio",dts:N,pts:N},{type:"audio",dts:N+L*1024*ae,pts:N+L*1024*ae}]};return ge},fue=function(w){var I={pid:null,table:null},L={};uue(w,I);for(var P in I.table)if(I.table.hasOwnProperty(P)){var N=I.table[P];switch(N){case KB.H264_STREAM_TYPE:L.video=[],lue(w,I,L),L.video.length===0&&delete L.video;break;case KB.ADTS_STREAM_TYPE:L.audio=[],JB(w,I,L),L.audio.length===0&&delete L.audio;break}}return L},due=function(w,I){var L=Fr.aac.isLikelyAacData(w),P;return L?P=hue(w):P=fue(w),!P||!P.audio&&!P.video?null:(cue(P,I),P)},pue={inspect:due,parseAudioPes_:JB};const gue=function(w,I){I.on("data",function(L){const P=L.initSegment;L.initSegment={data:P.buffer,byteOffset:P.byteOffset,byteLength:P.byteLength};const N=L.data;L.data=N.buffer,w.postMessage({action:"data",segment:L,byteOffset:N.byteOffset,byteLength:N.byteLength},[L.data])}),I.on("done",function(L){w.postMessage({action:"done"})}),I.on("gopInfo",function(L){w.postMessage({action:"gopInfo",gopInfo:L})}),I.on("videoSegmentTimingInfo",function(L){const P={start:{decode:Ot.videoTsToSeconds(L.start.dts),presentation:Ot.videoTsToSeconds(L.start.pts)},end:{decode:Ot.videoTsToSeconds(L.end.dts),presentation:Ot.videoTsToSeconds(L.end.pts)},baseMediaDecodeTime:Ot.videoTsToSeconds(L.baseMediaDecodeTime)};L.prependedContentDuration&&(P.prependedContentDuration=Ot.videoTsToSeconds(L.prependedContentDuration)),w.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:P})}),I.on("audioSegmentTimingInfo",function(L){const P={start:{decode:Ot.videoTsToSeconds(L.start.dts),presentation:Ot.videoTsToSeconds(L.start.pts)},end:{decode:Ot.videoTsToSeconds(L.end.dts),presentation:Ot.videoTsToSeconds(L.end.pts)},baseMediaDecodeTime:Ot.videoTsToSeconds(L.baseMediaDecodeTime)};L.prependedContentDuration&&(P.prependedContentDuration=Ot.videoTsToSeconds(L.prependedContentDuration)),w.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:P})}),I.on("id3Frame",function(L){w.postMessage({action:"id3Frame",id3Frame:L})}),I.on("caption",function(L){w.postMessage({action:"caption",caption:L})}),I.on("trackinfo",function(L){w.postMessage({action:"trackinfo",trackInfo:L})}),I.on("audioTimingInfo",function(L){w.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ot.videoTsToSeconds(L.start),end:Ot.videoTsToSeconds(L.end)}})}),I.on("videoTimingInfo",function(L){w.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ot.videoTsToSeconds(L.start),end:Ot.videoTsToSeconds(L.end)}})}),I.on("log",function(L){w.postMessage({action:"log",log:L})})};class QB{constructor(I,L){this.options=L||{},this.self=I,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new hoe.Transmuxer(this.options),gue(this.self,this.transmuxer)}pushMp4Captions(I){this.captionParser||(this.captionParser=new Zoe,this.captionParser.init());const L=new Uint8Array(I.data,I.byteOffset,I.byteLength),P=this.captionParser.parse(L,I.trackIds,I.timescales);this.self.postMessage({action:"mp4Captions",captions:P&&P.captions||[],logs:P&&P.logs||[],data:L.buffer},[L.buffer])}initMp4WebVttParser(I){this.webVttParser||(this.webVttParser=new XB);const L=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.webVttParser.init(L)}getMp4WebVttText(I){this.webVttParser||(this.webVttParser=new XB);const L=new Uint8Array(I.data,I.byteOffset,I.byteLength),P=this.webVttParser.parseSegment(L);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:P||[],data:L.buffer},[L.buffer])}probeMp4StartTime({timescales:I,data:L}){const P=Yg.startTime(I,L);this.self.postMessage({action:"probeMp4StartTime",startTime:P,data:L},[L.buffer])}probeMp4Tracks({data:I}){const L=Yg.tracks(I);this.self.postMessage({action:"probeMp4Tracks",tracks:L,data:I},[I.buffer])}probeEmsgID3({data:I,offset:L}){const P=Yg.getEmsgID3(I,L);this.self.postMessage({action:"probeEmsgID3",id3Frames:P,emsgData:I},[I.buffer])}probeTs({data:I,baseStartTime:L}){const P=typeof L=="number"&&!isNaN(L)?L*Ot.ONE_SECOND_IN_TS:void 0,N=pue.inspect(I,P);let H=null;N&&(H={hasVideo:N.video&&N.video.length===2||!1,hasAudio:N.audio&&N.audio.length===2||!1},H.hasVideo&&(H.videoStart=N.video[0].ptsTime),H.hasAudio&&(H.audioStart=N.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:H,data:I},[I.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(I){const L=new Uint8Array(I.data,I.byteOffset,I.byteLength);this.transmuxer.push(L)}reset(){this.transmuxer.reset()}setTimestampOffset(I){const L=I.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ot.secondsToVideoTs(L)))}setAudioAppendStart(I){this.transmuxer.setAudioAppendStart(Math.ceil(Ot.secondsToVideoTs(I.appendStart)))}setRemux(I){this.transmuxer.setRemux(I.remux)}flush(I){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(I){this.transmuxer.alignGopsWith(I.gopsToAlignWith.slice())}}self.onmessage=function(w){if(w.data.action==="init"&&w.data.options){this.messageHandlers=new QB(self,w.data.options);return}this.messageHandlers||(this.messageHandlers=new QB(self)),w.data&&w.data.action&&w.data.action!=="init"&&this.messageHandlers[w.data.action]&&this.messageHandlers[w.data.action](w.data)}}));var S$e=Zae(E$e);const T$e=(t,e,r)=>{const{type:i,initSegment:n,captions:a,captionStreams:s,metadata:o,videoFrameDtsTime:u,videoFramePtsTime:l}=t.data.segment;e.buffer.push({captions:a,captionStreams:s,metadata:o});const c=t.data.segment.boxes||{data:t.data.segment.data},h={type:i,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(n.data,n.byteOffset,n.byteLength)};typeof u<"u"&&(h.videoFrameDtsTime=u),typeof l<"u"&&(h.videoFramePtsTime=l),r(h)},A$e=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},w$e=(t,e)=>{e.gopInfo=t.data.gopInfo},Qae=t=>{const{transmuxer:e,bytes:r,audioAppendStart:i,gopsToAlignWith:n,remux:a,onData:s,onTrackInfo:o,onAudioTimingInfo:u,onVideoTimingInfo:l,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:h,onId3:f,onCaptions:d,onDone:p,onEndedTimeline:g,onTransmuxerLog:v,isEndOfTimeline:m,segment:y,triggerSegmentEventFn:_}=t,x={buffer:[]};let b=m;const C=A=>{e.currentTransmux===t&&(A.data.action==="data"&&T$e(A,x,s),A.data.action==="trackinfo"&&o(A.data.trackInfo),A.data.action==="gopInfo"&&w$e(A,x),A.data.action==="audioTimingInfo"&&u(A.data.audioTimingInfo),A.data.action==="videoTimingInfo"&&l(A.data.videoTimingInfo),A.data.action==="videoSegmentTimingInfo"&&c(A.data.videoSegmentTimingInfo),A.data.action==="audioSegmentTimingInfo"&&h(A.data.audioSegmentTimingInfo),A.data.action==="id3Frame"&&f([A.data.id3Frame],A.data.id3Frame.dispatchType),A.data.action==="caption"&&d(A.data.caption),A.data.action==="endedtimeline"&&(b=!1,g()),A.data.action==="log"&&v(A.data.log),A.data.type==="transmuxed"&&(b||(e.onmessage=null,A$e({transmuxedData:x,callback:p}),ese(e))))},E=()=>{const A={message:"Received an error message from the transmuxer worker",metadata:{errorType:ye.Error.StreamingFailedToTransmuxSegment,segmentInfo:oh({segment:y})}};p(null,A)};if(e.onmessage=C,e.onerror=E,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(n)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:n}),typeof a<"u"&&e.postMessage({action:"setRemux",remux:a}),r.byteLength){const A=r instanceof ArrayBuffer?r:r.buffer,S=r instanceof ArrayBuffer?0:r.byteOffset;_({type:"segmenttransmuxingstart",segment:y}),e.postMessage({action:"push",data:A,byteOffset:S,byteLength:r.byteLength},[A])}m&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},ese=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():Qae(t.currentTransmux))},v$=(t,e)=>{t.postMessage({action:e}),ese(t)},tse=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,v$(e,t);return}e.transmuxQueue.push(v$.bind(null,e,t))},D$e=t=>{tse("reset",t)},F$e=t=>{tse("endTimeline",t)},rse=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,Qae(t);return}t.transmuxer.transmuxQueue.push(t)},I$e=t=>{const e=new S$e;e.currentTransmux=null,e.transmuxQueue=[];const r=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,r.call(e)),e.postMessage({action:"init",options:t}),e};var vA={reset:D$e,endTimeline:F$e,transmux:rse,createTransmuxer:I$e};const op=function(t){const e=t.transmuxer,r=t.endAction||t.action,i=t.callback,n=fe({},t,{endAction:null,transmuxer:null,callback:null}),a=s=>{s.data.action===r&&(e.removeEventListener("message",a),s.data.data&&(s.data.data=new Uint8Array(s.data.data,t.byteOffset||0,t.byteLength||s.data.data.byteLength),t.data&&(t.data=s.data.data)),i(s.data))};if(e.addEventListener("message",a),t.data){const s=t.data instanceof ArrayBuffer;n.byteOffset=s?0:t.data.byteOffset,n.byteLength=t.data.byteLength;const o=[s?t.data:t.data.buffer];e.postMessage(n,o)}else e.postMessage(n)},nu={FAILURE:2,TIMEOUT:-101,ABORTED:-102},ise="wvtt",HD=t=>{t.forEach(e=>{e.abort()})},B$e=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),M$e=t=>{const e=t.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return i.bytesReceived=t.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},uB=(t,e)=>{const{requestType:r}=e,i=jh({requestType:r,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:nu.TIMEOUT,xhr:e,metadata:i}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:nu.ABORTED,xhr:e,metadata:i}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:nu.FAILURE,xhr:e,metadata:i}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:nu.FAILURE,xhr:e,metadata:i}:null},m$=(t,e,r,i)=>(n,a)=>{const s=a.response,o=uB(n,a);if(o)return r(o,t);if(s.byteLength!==16)return r({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:nu.FAILURE,xhr:a},t);const u=new DataView(s),l=new Uint32Array([u.getUint32(0),u.getUint32(4),u.getUint32(8),u.getUint32(12)]);for(let h=0;h<e.length;h++)e[h].bytes=l;const c={uri:a.uri};return i({type:"segmentkeyloadcomplete",segment:t,keyInfo:c}),r(null,t)},P$e=(t,e)=>{e===ise&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},L$e=(t,e,r)=>{e===ise&&op({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:i,mp4VttCues:n})=>{t.bytes=i,r(null,t,{mp4VttCues:n})}})},nse=(t,e)=>{const r=BI(t.map.bytes);if(r!=="mp4"){const i=t.map.resolvedUri||t.map.uri,n=r||"unknown";return e({internal:!0,message:`Found unsupported ${n} container for initialization segment at URL: ${i}`,code:nu.FAILURE,metadata:{mediaType:n}})}op({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:i,data:n})=>(t.map.bytes=n,i.forEach(function(a){t.map.tracks=t.map.tracks||{},!t.map.tracks[a.type]&&(t.map.tracks[a.type]=a,typeof a.id=="number"&&a.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[a.id]=a.timescale),a.type==="text"&&P$e(t,a.codec))}),e(null))})},O$e=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:r})=>(i,n)=>{const a=uB(i,n);if(a)return e(a,t);const s=new Uint8Array(n.response);if(r({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=s,e(null,t);t.map.bytes=s,nse(t,function(o){if(o)return o.xhr=n,o.status=n.status,e(o,t);e(null,t)})},R$e=({segment:t,finishProcessingFn:e,responseType:r,triggerSegmentEventFn:i})=>(n,a)=>{const s=uB(n,a);if(s)return e(s,t);i({type:"segmentloaded",segment:t});const o=r==="arraybuffer"||!a.responseText?a.response:b$e(a.responseText.substring(t.lastReachedChar||0));return t.stats=B$e(a),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},N$e=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d})=>{const p=t.map&&t.map.tracks||{},g=!!(p.audio&&p.video);let v=i.bind(null,t,"audio","start");const m=i.bind(null,t,"audio","end");let y=i.bind(null,t,"video","start");const _=i.bind(null,t,"video","end"),x=()=>rse({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:g,onData:b=>{b.type=b.type==="combined"?"video":b.type,c(t,b)},onTrackInfo:b=>{r&&(g&&(b.isMuxed=!0),r(t,b))},onAudioTimingInfo:b=>{v&&typeof b.start<"u"&&(v(b.start),v=null),m&&typeof b.end<"u"&&m(b.end)},onVideoTimingInfo:b=>{y&&typeof b.start<"u"&&(y(b.start),y=null),_&&typeof b.end<"u"&&_(b.end)},onVideoSegmentTimingInfo:b=>{const C={pts:{start:b.start.presentation,end:b.end.presentation},dts:{start:b.start.decode,end:b.end.decode}};d({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:C}),n(b)},onAudioSegmentTimingInfo:b=>{const C={pts:{start:b.start.pts,end:b.end.pts},dts:{start:b.start.dts,end:b.end.dts}};d({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:C}),a(b)},onId3:(b,C)=>{s(t,b,C)},onCaptions:b=>{o(t,[b])},isEndOfTimeline:u,onEndedTimeline:()=>{l()},onTransmuxerLog:f,onDone:(b,C)=>{h&&(b.type=b.type==="combined"?"video":b.type,d({type:"segmenttransmuxingcomplete",segment:t}),h(C,t,b))},segment:t,triggerSegmentEventFn:d});op({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:b=>{t.bytes=e=b.data;const C=b.result;C&&(r(t,{hasAudio:C.hasAudio,hasVideo:C.hasVideo,isMuxed:g}),r=null),x()}})},ase=({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d})=>{let p=new Uint8Array(e);if(nje(p)){t.isFmp4=!0;const{tracks:g}=t.map;if(g.text&&(!g.audio||!g.video)){c(t,{data:p,type:"text"}),L$e(t,g.text.codec,h);return}const m={isFmp4:!0,hasVideo:!!g.video,hasAudio:!!g.audio};g.audio&&g.audio.codec&&g.audio.codec!=="enca"&&(m.audioCodec=g.audio.codec),g.video&&g.video.codec&&g.video.codec!=="encv"&&(m.videoCodec=g.video.codec),g.video&&g.audio&&(m.isMuxed=!0),r(t,m);const y=(_,x)=>{c(t,{data:p,type:m.hasAudio&&!m.isMuxed?"audio":"video"}),x&&x.length&&s(t,x),_&&_.length&&o(t,_),h(null,t,{})};op({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:({data:_,startTime:x})=>{e=_.buffer,t.bytes=p=_,m.hasAudio&&!m.isMuxed&&i(t,"audio","start",x),m.hasVideo&&i(t,"video","start",x),op({action:"probeEmsgID3",data:p,transmuxer:t.transmuxer,offset:x,callback:({emsgData:b,id3Frames:C})=>{if(e=b.buffer,t.bytes=p=b,!g.video||!b.byteLength||!t.transmuxer){y(void 0,C);return}op({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[g.video.id],callback:E=>{e=E.data.buffer,t.bytes=p=E.data,E.logs.forEach(function(A){f(Ar(A,{stream:"mp4CaptionParser"}))}),y(E.captions,C)}})}})}});return}if(!t.transmuxer){h(null,t,{});return}if(typeof t.container>"u"&&(t.container=BI(p)),t.container!=="ts"&&t.container!=="aac"){r(t,{hasAudio:!1,hasVideo:!1}),h(null,t,{});return}N$e({segment:t,bytes:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d})},sse=function({id:t,key:e,encryptedBytes:r,decryptionWorker:i,segment:n,doneFn:a},s){const o=l=>{if(l.data.source===t){i.removeEventListener("message",o);const c=l.data.decrypted;s(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};i.onerror=()=>{const l="An error occurred in the decryption worker",c=oh({segment:n}),h={message:l,metadata:{error:new Error(l),errorType:ye.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:n.key.resolvedUri||n.map.key.resolvedUri}}};a(h,n)},i.addEventListener("message",o);let u;e.bytes.slice?u=e.bytes.slice():u=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(Vae({source:t,encrypted:r,key:u,iv:e.iv}),[r.buffer,u.buffer])},k$e=({decryptionWorker:t,segment:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d})=>{d({type:"segmentdecryptionstart"}),sse({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:h},p=>{e.bytes=p,d({type:"segmentdecryptioncomplete",segment:e}),ase({segment:e,bytes:e.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d})})},z$e=({activeXhrs:t,decryptionWorker:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d})=>{let p=0,g=!1;return(v,m)=>{if(!g){if(v)return g=!0,HD(t),h(v,m);if(p+=1,p===t.length){const y=function(){if(m.encryptedBytes)return k$e({decryptionWorker:e,segment:m,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d});ase({segment:m,bytes:m.bytes,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:d})};if(m.endOfAllRequests=Date.now(),m.map&&m.map.encryptedBytes&&!m.map.bytes)return d({type:"segmentdecryptionstart",segment:m}),sse({decryptionWorker:e,id:m.requestId+"-init",encryptedBytes:m.map.encryptedBytes,key:m.map.key,segment:m,doneFn:h},_=>{m.map.bytes=_,d({type:"segmentdecryptioncomplete",segment:m}),nse(m,x=>{if(x)return HD(t),h(x,m);y()})});y()}}}},H$e=({loadendState:t,abortFn:e})=>r=>{r.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},G$e=({segment:t,progressFn:e,trackInfoFn:r,timingInfoFn:i,videoSegmentTimingInfoFn:n,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:u,endedTimelineFn:l,dataFn:c})=>h=>{if(!h.target.aborted)return t.stats=Ar(t.stats,M$e(h)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(h,t)},U$e=({xhr:t,xhrOptions:e,decryptionWorker:r,segment:i,abortFn:n,progressFn:a,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:d,dataFn:p,doneFn:g,onTransmuxerLog:v,triggerSegmentEventFn:m})=>{const y=[],_=z$e({activeXhrs:y,decryptionWorker:r,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:d,dataFn:p,doneFn:g,onTransmuxerLog:v,triggerSegmentEventFn:m});if(i.key&&!i.key.bytes){const A=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&A.push(i.map.key);const S=Ar(e,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),T=m$(i,A,_,m),D={uri:i.key.resolvedUri};m({type:"segmentkeyloadstart",segment:i,keyInfo:D});const F=t(S,T);y.push(F)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const F=Ar(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),B=m$(i,[i.map.key],_,m),O={uri:i.map.key.resolvedUri};m({type:"segmentkeyloadstart",segment:i,keyInfo:O});const M=t(F,B);y.push(M)}const S=Ar(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:kD(i.map),requestType:"segment-media-initialization"}),T=O$e({segment:i,finishProcessingFn:_,triggerSegmentEventFn:m});m({type:"segmentloadstart",segment:i});const D=t(S,T);y.push(D)}const x=Ar(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:kD(i),requestType:"segment"}),b=R$e({segment:i,finishProcessingFn:_,responseType:x.responseType,triggerSegmentEventFn:m});m({type:"segmentloadstart",segment:i});const C=t(x,b);C.addEventListener("progress",G$e({segment:i,progressFn:a,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:l,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:d,dataFn:p})),y.push(C);const E={};return y.forEach(A=>{A.addEventListener("loadend",H$e({loadendState:E,abortFn:n}))}),()=>HD(y)},gx=$s("PlaylistSelector"),y$=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},up=function(t,e){if(!t)return"";const r=ne.getComputedStyle(t);return r?r[e]:""},lp=function(t,e){const r=t.slice();t.sort(function(i,n){const a=e(i,n);return a===0?r.indexOf(i)-r.indexOf(n):a})},lB=function(t,e){let r,i;return t.attributes.BANDWIDTH&&(r=t.attributes.BANDWIDTH),r=r||ne.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||ne.Number.MAX_VALUE,r-i},j$e=function(t,e){let r,i;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(r=t.attributes.RESOLUTION.width),r=r||ne.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||ne.Number.MAX_VALUE,r===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:r-i};let ose=function(t){const{main:e,bandwidth:r,playerWidth:i,playerHeight:n,playerObjectFit:a,limitRenditionByPlayerDimensions:s,playlistController:o}=t;if(!e)return;const u={bandwidth:r,width:i,height:n,limitRenditionByPlayerDimensions:s};let l=e.playlists;La.isAudioOnly(e)&&(l=o.getAudioTrackPlaylists_(),u.audioOnly=!0);let c=l.map(E=>{let A;const S=E.attributes&&E.attributes.RESOLUTION&&E.attributes.RESOLUTION.width,T=E.attributes&&E.attributes.RESOLUTION&&E.attributes.RESOLUTION.height;return A=E.attributes&&E.attributes.BANDWIDTH,A=A||ne.Number.MAX_VALUE,{bandwidth:A,width:S,height:T,playlist:E}});lp(c,(E,A)=>E.bandwidth-A.bandwidth),c=c.filter(E=>!La.isIncompatible(E.playlist));let h=c.filter(E=>La.isEnabled(E.playlist));h.length||(h=c.filter(E=>!La.isDisabled(E.playlist)));const f=h.filter(E=>E.bandwidth*ln.BANDWIDTH_VARIANCE<r);let d=f[f.length-1];const p=f.filter(E=>E.bandwidth===d.bandwidth)[0];if(s===!1){const E=p||h[0]||c[0];if(E&&E.playlist){let A="sortedPlaylistReps";return p&&(A="bandwidthBestRep"),h[0]&&(A="enabledPlaylistReps"),gx(`choosing ${y$(E)} using ${A} with options`,u),E.playlist}return gx("could not choose a playlist with options",u),null}const g=f.filter(E=>E.width&&E.height);lp(g,(E,A)=>E.width-A.width);const v=g.filter(E=>E.width===i&&E.height===n);d=v[v.length-1];const m=v.filter(E=>E.bandwidth===d.bandwidth)[0];let y,_,x;m||(y=g.filter(E=>a==="cover"?E.width>i&&E.height>n:E.width>i||E.height>n),_=y.filter(E=>E.width===y[0].width&&E.height===y[0].height),d=_[_.length-1],x=_.filter(E=>E.bandwidth===d.bandwidth)[0]);let b;if(o.leastPixelDiffSelector){const E=g.map(A=>(A.pixelDiff=Math.abs(A.width-i)+Math.abs(A.height-n),A));lp(E,(A,S)=>A.pixelDiff===S.pixelDiff?S.bandwidth-A.bandwidth:A.pixelDiff-S.pixelDiff),b=E[0]}const C=b||x||m||p||h[0]||c[0];if(C&&C.playlist){let E="sortedPlaylistReps";return b?E="leastPixelDiffRep":x?E="resolutionPlusOneRep":m?E="resolutionBestRep":p?E="bandwidthBestRep":h[0]&&(E="enabledPlaylistReps"),gx(`choosing ${y$(C)} using ${E} with options`,u),C.playlist}return gx("could not choose a playlist with options",u),null};const _$=function(){let t=this.useDevicePixelRatio&&ne.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),ose({main:this.playlists.main,bandwidth:this.systemBandwidth,playerWidth:parseInt(up(this.tech_.el(),"width"),10)*t,playerHeight:parseInt(up(this.tech_.el(),"height"),10)*t,playerObjectFit:this.usePlayerObjectFit?up(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})},V$e=function(t){let e=-1,r=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&ne.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),e<0&&(e=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(e=t*this.systemBandwidth+(1-t)*e,r=this.systemBandwidth),ose({main:this.playlists.main,bandwidth:e,playerWidth:parseInt(up(this.tech_.el(),"width"),10)*i,playerHeight:parseInt(up(this.tech_.el(),"height"),10)*i,playerObjectFit:this.usePlayerObjectFit?up(this.tech_.el(),"objectFit"):"",limitRenditionByPlayerDimensions:this.limitRenditionByPlayerDimensions,playlistController:this.playlistController_})}},$$e=function(t){const{main:e,currentTime:r,bandwidth:i,duration:n,segmentDuration:a,timeUntilRebuffer:s,currentTimeline:o,syncController:u}=t,l=e.playlists.filter(p=>!La.isIncompatible(p));let c=l.filter(La.isEnabled);c.length||(c=l.filter(p=>!La.isDisabled(p)));const f=c.filter(La.hasAttribute.bind(null,"BANDWIDTH")).map(p=>{const v=u.getSyncPoint(p,n,o,r)?1:2,y=La.estimateSegmentRequestTime(a,i,p)*v-s;return{playlist:p,rebufferingImpact:y}}),d=f.filter(p=>p.rebufferingImpact<=0);return lp(d,(p,g)=>lB(g.playlist,p.playlist)),d.length?d[0]:(lp(f,(p,g)=>p.rebufferingImpact-g.rebufferingImpact),f[0]||null)},W$e=function(){const t=this.playlists.main.playlists.filter(La.isEnabled);return lp(t,(r,i)=>lB(r,i)),t.filter(r=>!!r2(this.playlists.main,r).video)[0]||null},Y$e=t=>{let e=0,r;return t.bytes&&(r=new Uint8Array(t.bytes),t.segments.forEach(i=>{r.set(i,e),e+=i.byteLength})),r};function use(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const q$e=function(t,e,r){if(!t[r]){e.trigger({type:"usage",name:"vhs-608"});let i=r;/^cc708_/.test(r)&&(i="SERVICE"+r.split("_")[1]);const n=e.textTracks().getTrackById(i);if(n)t[r]=n;else{const a=e.options_.vhs&&e.options_.vhs.captionServices||{};let s=r,o=r,u=!1;const l=a[i];l&&(s=l.label,o=l.language,u=l.default),t[r]=e.addRemoteTextTrack({kind:"captions",id:i,default:u,label:s,language:o},!1).track}}},X$e=function({inbandTextTracks:t,captionArray:e,timestampOffset:r}){if(!e)return;const i=ne.WebKitDataCue||ne.VTTCue;e.forEach(n=>{const a=n.stream;n.content?n.content.forEach(s=>{const o=new i(n.startTime+r,n.endTime+r,s.text);o.line=s.line,o.align="left",o.position=s.position,o.positionAlign="line-left",t[a].addCue(o)}):t[a].addCue(new i(n.startTime+r,n.endTime+r,n.text))})},Z$e=function(t){Object.defineProperties(t.frame,{id:{get(){return ye.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ye.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ye.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},K$e=({inbandTextTracks:t,metadataArray:e,timestampOffset:r,videoDuration:i})=>{if(!e)return;const n=ne.WebKitDataCue||ne.VTTCue,a=t.metadataTrack_;if(!a||(e.forEach(c=>{const h=c.cueTime+r;typeof h!="number"||ne.isNaN(h)||h<0||!(h<1/0)||!c.frames||!c.frames.length||c.frames.forEach(f=>{const d=new n(h,h,f.value||f.url||f.data||"");d.frame=f,d.value=f,Z$e(d),a.addCue(d)})}),!a.cues||!a.cues.length))return;const s=a.cues,o=[];for(let c=0;c<s.length;c++)s[c]&&o.push(s[c]);const u=o.reduce((c,h)=>{const f=c[h.startTime]||[];return f.push(h),c[h.startTime]=f,c},{}),l=Object.keys(u).sort((c,h)=>Number(c)-Number(h));l.forEach((c,h)=>{const f=u[c],d=isFinite(i)?i:c,p=Number(l[h+1])||d;f.forEach(g=>{g.endTime=p})})},J$e={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},Q$e=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),eWe=({inbandTextTracks:t,dateRanges:e})=>{const r=t.metadataTrack_;if(!r)return;const i=ne.WebKitDataCue||ne.VTTCue;e.forEach(n=>{for(const a of Object.keys(n)){if(Q$e.has(a))continue;const s=new i(n.startTime,n.endTime,"");s.id=n.id,s.type="com.apple.quicktime.HLS",s.value={key:J$e[a],data:n[a]},(a==="scte35Out"||a==="scte35In")&&(s.value.data=new Uint8Array(s.value.data.match(/[\da-f]{2}/gi)).buffer),r.addCue(s)}n.processDateRange()})},x$=(t,e,r)=>{t.metadataTrack_||(t.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ye.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},y1=function(t,e,r){let i,n;if(r&&r.cues)for(i=r.cues.length;i--;)n=r.cues[i],n.startTime>=t&&n.endTime<=e&&r.removeCue(n)},tWe=function(t){const e=t.cues;if(!e)return;const r={};for(let i=e.length-1;i>=0;i--){const n=e[i],a=`${n.startTime}-${n.endTime}-${n.text}`;r[a]?t.removeCue(n):r[a]=n}},rWe=(t,e,r)=>{if(typeof e>"u"||e===null||!t.length)return[];const i=Math.ceil((e-r+3)*bh.ONE_SECOND_IN_TS);let n;for(n=0;n<t.length&&!(t[n].pts>i);n++);return t.slice(n)},iWe=(t,e,r)=>{if(!e.length)return t;if(r)return e.slice();const i=e[0].pts;let n=0;for(n;n<t.length&&!(t[n].pts>=i);n++);return t.slice(0,n).concat(e)},nWe=(t,e,r,i)=>{const n=Math.ceil((e-i)*bh.ONE_SECOND_IN_TS),a=Math.ceil((r-i)*bh.ONE_SECOND_IN_TS),s=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=a););if(o===-1)return s;let u=o+1;for(;u--&&!(t[u].pts<=n););return u=Math.max(u,0),s.splice(u,o-u+1),s},aWe=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const r=Object.keys(t).sort(),i=Object.keys(e).sort();if(r.length!==i.length)return!1;for(let n=0;n<r.length;n++){const a=r[n];if(a!==i[n]||t[a]!==e[a])return!1}return!0},sWe=function(t,e,r){e=e||[];const i=[];let n=0;for(let a=0;a<e.length;a++){const s=e[a];if(t===s.timeline&&(i.push(a),n+=s.duration,n>r))return a}return i.length===0?0:i[i.length-1]},Xv=1,oWe=500,b$=t=>typeof t=="number"&&isFinite(t),vx=1/60,uWe=(t,e,r)=>t!=="main"||!e||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,lWe=(t,e,r)=>{let i=e-ln.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));const n=e-r;return Math.min(n,i)},md=t=>{const{startOfSegment:e,duration:r,segment:i,part:n,playlist:{mediaSequence:a,id:s,segments:o=[]},mediaIndex:u,partIndex:l,timeline:c}=t,h=o.length-1;let f="mediaIndex/partIndex increment";t.getMediaInfoForTime?f=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(f+=` with independent ${t.independent}`);const d=typeof l=="number",p=t.segment.uri?"segment":"pre-segment",g=d?Aae({preloadSegment:i})-1:0;return`${p} [${a+u}/${a+h}]`+(d?` part [${l}/${g}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(d?` part start/end [${n.start} => ${n.end}]`:"")+` startOfSegment [${e}] duration [${r}] timeline [${c}] selected by [${f}] playlist [${s}]`},C$=t=>`${t}TimingInfo`,cWe=({segmentTimeline:t,currentTimeline:e,startOfSegment:r,buffered:i,overrideCheck:n})=>!n&&t===e?null:t<e?r:i.length?i.end(i.length-1):r,GD=({timelineChangeController:t,currentTimeline:e,segmentTimeline:r,loaderType:i,audioDisabled:n})=>{if(e===r)return!1;if(i==="audio"){const a=t.lastTimelineChange({type:"main"});return!a||a.to!==r}if(i==="main"&&n){const a=t.pendingTimelineChange({type:"audio"});return!(a&&a.to===r)}return!1},hWe=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),r=t.pendingTimelineChange({type:"main"}),i=e&&r,n=i&&e.to!==r.to;return!!(i&&e.from!==-1&&r.from!==-1&&n)},fWe=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),r=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&r&&e.to<r.to},Ql=t=>{const e=t.pendingSegment_;if(!e)return;if(GD({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&hWe(t.timelineChangeController_)){if(fWe(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},dWe=t=>{let e=0;return["video","audio"].forEach(function(r){const i=t[`${r}TimingInfo`];if(!i)return;const{start:n,end:a}=i;let s;typeof n=="bigint"||typeof a=="bigint"?s=ne.BigInt(a)-ne.BigInt(n):typeof n=="number"&&typeof a=="number"&&(s=a-n),typeof s<"u"&&s>e&&(e=s)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},E$=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+ru:!1,pWe=(t,e)=>{if(e!=="hls")return null;const r=dWe({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!r)return null;const i=t.playlist.targetDuration,n=E$({segmentDuration:r,maxDuration:i*2}),a=E$({segmentDuration:r,maxDuration:i}),s=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${r} when the reported duration is ${t.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return n||a?{severity:n?"warn":"info",message:s}:null},oh=({type:t,segment:e})=>{if(!e)return;const r=!!(e.key||e.map&&e.map.ke),i=!!(e.map&&!e.map.bytes),n=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:n,duration:e.duration,isEncrypted:r,isMediaInitialization:i}};class UD extends ye.EventTarget{constructor(e,r={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=$s(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_(`${this.state_} -> ${i}`),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ql(this)}),this.sourceUpdater_.on("codecschange",i=>{this.trigger(fe({type:"codecschange"},i))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ql(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",i=>{this.trigger(fe({type:"timelinechange"},i)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Ql(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ql(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return vA.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,ne.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&vA.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return pn();if(this.loaderType_==="main"){const{hasAudio:r,hasVideo:i,isMuxed:n}=e;if(i&&r&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,r=!1){if(!e)return null;const i=H4(e);let n=this.initSegments_[i];return r&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,r=!1){if(!e)return null;const i=$ae(e);let n=this.keyCache_[i];this.cacheEncryptionKeys_&&r&&!n&&e.bytes&&(this.keyCache_[i]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});const a={resolvedUri:(n||e).resolvedUri};return n&&(a.bytes=n.bytes),a}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,r={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const i=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=r,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let a=null;if(i&&(i.id?a=i.id:i.uri&&(a=i.uri)),this.logger_(`playlist update [${a} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${pA(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const s=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${s}]`),this.mediaIndex!==null)if(this.mediaIndex-=s,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const u=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=u}}n&&(n.mediaIndex-=s,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&vA.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,r,i=()=>{},n=!1){if(r===1/0&&(r=this.duration_()),r<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let a=1;const s=()=>{a--,a===0&&i()};(n||!this.audioDisabled_)&&(a++,this.sourceUpdater_.removeAudio(e,r,s)),(n||this.loaderType_==="main")&&(this.gopBuffer_=nWe(this.gopBuffer_,e,r,this.timeMapping_),a++,this.sourceUpdater_.removeVideo(e,r,s));for(const o in this.inbandTextTracks_)y1(e,r,this.inbandTextTracks_[o]);y1(e,r,this.segmentMetadataTrack_),s()}monitorBuffer_(){this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ne.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&ne.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=ne.setTimeout(this.monitorBufferTick_.bind(this),oWe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const r={segmentInfo:oh({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:r}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,r=this.playlist_,i=this.partIndex){if(!r||!this.mediaSource_)return!1;const n=typeof e=="number"&&r.segments[e],a=e+1===r.segments.length,s=!n||!n.parts||i+1===n.parts.length;return r.endList&&this.mediaSource_.readyState==="open"&&a&&s}chooseNextRequest_(){const e=this.buffered_(),r=pA(e)||0,i=nB(e,this.currentTime_()),n=!this.hasPlayed_()&&i>=1,a=i>=this.goalBufferLength_(),s=this.playlist_.segments;if(!s.length||n||a)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=sWe(this.currentTimeline_,s,r),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const f=s[this.mediaIndex],d=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=f.end?f.end:r,f.parts&&f.parts[d+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=d+1):o.mediaIndex=this.mediaIndex+1}else{let f,d,p;const g=this.fetchAtBuffer_?r:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${g}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${r}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const v=this.getSyncInfoFromMediaSequenceSync_(g);if(!v){const m="No sync info found while using media sequence sync";return this.error({message:m,metadata:{errorType:ye.Error.StreamingFailedToSelectNextSegment,error:new Error(m)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${v.start} --> ${v.end})`),f=v.segmentIndex,d=v.partIndex,p=v.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const v=La.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:g,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});f=v.segmentIndex,d=v.partIndex,p=v.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${g}`:`currentTime ${g}`,o.mediaIndex=f,o.startOfSegment=p,o.partIndex=d,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const u=s[o.mediaIndex];let l=u&&typeof o.partIndex=="number"&&u.parts&&u.parts[o.partIndex];if(!u||typeof o.partIndex=="number"&&!l)return null;typeof o.partIndex!="number"&&u.parts&&(o.partIndex=0,l=u.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&l&&!c&&!l.independent)if(o.partIndex===0){const f=s[o.mediaIndex-1],d=f.parts&&f.parts.length&&f.parts[f.parts.length-1];d&&d.independent&&(o.mediaIndex-=1,o.partIndex=f.parts.length-1,o.independent="previous segment")}else u.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const h=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=s.length-1&&h&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const r=Math.max(e,this.mediaSequenceSync_.start);e!==r&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${r}`);const i=this.mediaSequenceSync_.getSyncInfoForTime(r);if(!i)return null;if(!i.isAppended)return i;const n=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return n?(n.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),n):null}generateSegmentInfo_(e){const{independent:r,playlist:i,mediaIndex:n,startOfSegment:a,isSyncRequest:s,partIndex:o,forceTimestampOffset:u,getMediaInfoForTime:l}=e,c=i.segments[n],h=typeof o=="number"&&c.parts[o],f={requestId:"segment-loader-"+Math.random(),uri:h&&h.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:h?o:null,isSyncRequest:s,startOfSegment:a,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:h&&h.duration||c.duration,segment:c,part:h,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:r},d=typeof u<"u"?u:this.isPendingTimestampOffset_;f.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:a,buffered:this.buffered_(),overrideCheck:d});const p=pA(this.sourceUpdater_.audioBuffered());return typeof p=="number"&&(f.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(f.gopsToAlignWith=rWe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),f}timestampOffsetForSegment_(e){return cWe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const r=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,a=La.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),s=MVe(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(a<=s)return;const o=$$e({main:this.vhs_.playlists.main,currentTime:r,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:s,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const l=a-s-o.rebufferingImpact;let c=.5;s<=ru&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||l<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*ln.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${md(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")}handleTrackInfo_(e,r){const{hasAudio:i,hasVideo:n}=r,a={segmentInfo:oh({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:i,hasVideo:n}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:a}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(r)||(r=r||{},aWe(this.currentMediaInfo_,r)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ql(this))))}handleTimingInfo_(e,r,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const a=this.pendingSegment_,s=C$(r);a[s]=a[s]||{},a[s][i]=n,this.logger_(`timinginfo: ${r} - ${i} - ${n}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Ql(this)}handleCaptions_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(r.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,r));return}const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),a={};r.forEach(s=>{a[s.stream]=a[s.stream]||{startTime:1/0,captions:[],endTime:0};const o=a[s.stream];o.startTime=Math.min(o.startTime,s.startTime+n),o.endTime=Math.max(o.endTime,s.endTime+n),o.captions.push(s)}),Object.keys(a).forEach(s=>{const{startTime:o,endTime:u,captions:l}=a[s],c=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${u} for ${s}`),q$e(c,this.vhs_.tech_,s),y1(o,u,c[s]),X$e({captionArray:l,inbandTextTracks:c,timestampOffset:n})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,r,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,r,i));return}this.addMetadataToTextTrack(i,r,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(r=>r())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(r=>r())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!GD({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,r=this.getCurrentMediaInfo_();if(!e||!r)return!1;const{hasAudio:i,hasVideo:n,isMuxed:a}=r;return!(n&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!a&&!e.audioTimingInfo||GD({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Ql(this),this.callQueue_.push(this.handleData_.bind(this,e,r));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[C$(r.type)].start;else{const n=this.getCurrentMediaInfo_(),a=this.loaderType_==="main"&&n&&n.hasVideo;let s;a&&(s=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:a,firstVideoFrameTimeForData:s,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,r.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=this.chooseNextRequest_();if(n.mediaIndex!==i.mediaIndex||n.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,r)}}updateAppendInitSegmentStatus(e,r){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==e.playlist&&(this.appendInitSegment_[r]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:r,map:i,playlist:n}){if(i){const a=H4(i);if(this.activeInitSegmentId_===a)return null;r=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=a}return r&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,r):null}handleQuotaExceededError_({segmentInfo:e,type:r,bytes:i},n){const a=this.sourceUpdater_.audioBuffered(),s=this.sourceUpdater_.videoBuffered();a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ch(a).join(", ")),s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ch(s).join(", "));const o=a.length?a.start(0):0,u=a.length?a.end(a.length-1):0,l=s.length?s.start(0):0,c=s.length?s.end(s.length-1):0;if(u-o<=Xv&&c-l<=Xv){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${Ch(a).join(", ")}, video buffer: ${Ch(s).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:r,bytes:i}));const f=this.currentTime_()-Xv;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${f}`),this.remove(0,f,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Xv}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=ne.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Xv*1e3)},!0)}handleAppendError_({segmentInfo:e,type:r,bytes:i},n){if(n){if(n.code===Nae){this.handleQuotaExceededError_({segmentInfo:e,type:r,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error({message:`${r} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ye.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:r,initSegment:i,data:n,bytes:a}){if(!a){const o=[n];let u=n.byteLength;i&&(o.unshift(i),u+=i.byteLength),a=Y$e({bytes:u,segments:o})}const s={segmentInfo:oh({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:s}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:a},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:a}))}handleSegmentTimingInfo_(e,r,i){if(!this.pendingSegment_||r!==this.pendingSegment_.requestId)return;const n=this.pendingSegment_.segment,a=`${e}TimingInfo`;n[a]||(n[a]={}),n[a].transmuxerPrependedSeconds=i.prependedContentDuration||0,n[a].transmuxedPresentationStart=i.start.presentation,n[a].transmuxedDecodeStart=i.start.decode,n[a].transmuxedPresentationEnd=i.end.presentation,n[a].transmuxedDecodeEnd=i.end.decode,n[a].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,r){const{type:i,data:n}=r;if(!n||!n.byteLength||i==="audio"&&this.audioDisabled_)return;const a=this.getInitSegmentAndUpdateState_({type:i,initSegment:r.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:a,data:n})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Ql(this),this.loadQueue_.push(()=>{const r=fe({},e,{forceTimestampOffset:!0});fe(e,this.generateSegmentInfo_(r)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const r=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=this.mediaIndex!==null,a=e.timeline!==this.currentTimeline_&&e.timeline>0,s=i||n&&a;this.logger_(`Requesting
${use(e.uri)}
${md(e)}`),r.map&&!r.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=U$e({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:s,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:u,stream:l})=>{this.logger_(`${md(e)} logged from transmuxer stream ${l} as a ${u}: ${o}`)},triggerSegmentEventFn:({type:o,segment:u,keyInfo:l,trackInfo:c,timingInfo:h})=>{const d={segmentInfo:oh({segment:u})};l&&(d.keyInfo=l),c&&(d.trackInfo=c),h&&(d.timingInfo=h),this.trigger({type:o,metadata:d})}})}trimBackBuffer_(e){const r=lWe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)}createSimplifiedSegmentObj_(e){const r=e.segment,i=e.part,n=e.segment.key||e.segment.map&&e.segment.map.key,a=e.segment.map&&!e.segment.map.bytes,s={resolvedUri:i?i.resolvedUri:r.resolvedUri,byterange:i?i.byterange:r.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:n,isMediaInitialization:a},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===r.timeline&&(o.videoTimingInfo?s.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(s.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),r.key){const u=r.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);s.key=this.segmentKey(r.key),s.key.iv=u}return r.map&&(s.map=this.initSegmentForMap(r.map)),s}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,r){if(this.pendingSegment_.byteLength=r.bytesReceived,e<vx){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${vx}`);return}const i={bandwidthInfo:{from:this.bandwidth,to:r.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,r,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,r,i));return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_||r.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===nu.ABORTED)return;if(this.pause(),e.code===nu.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,r.stats),n.endOfAllRequests=r.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=iWe(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){const r=this.syncController_.mappingForTimeline(e);r!==null&&(this.timeMapping_=r)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:r,mediaIndex:i,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:a,useVideoTimingInfo:s,videoTimingInfo:o,audioTimingInfo:u}){if(typeof e<"u")return e;if(!s)return u.start;const l=r.segments[i-1];return i===0||!l||typeof l.start>"u"||l.end!==n+a?n:o.start}waitForAppendsToComplete_(e){const r=this.getCurrentMediaInfo_(e);if(!r){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:n,isMuxed:a}=r,s=this.loaderType_==="main"&&n,o=!this.audioDisabled_&&i&&!a;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}s&&e.waitingOnAppends++,o&&e.waitingOnAppends++,s&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const r=uWe(this.loaderType_,this.getCurrentMediaInfo_(),e);return r?(this.error({message:r,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let r=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),r=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:r,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:r&&typeof r.transmuxedDecodeStart=="number"?r.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const r=this.getMediaInfo_(),n=this.loaderType_==="main"&&r&&r.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;n&&(e.timingInfo.end=typeof n.end=="number"?n.end:n.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const u={segmentInfo:oh({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:u})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=pWe(e,this.sourceType_);if(r&&(r.severity==="warn"?ye.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${md(e)}`);return}this.logger_(`Appended ${md(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,n=e.part,a=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,s=n&&n.end&&this.currentTime_()-n.end>e.playlist.partTargetDuration*3;if(a||s){this.logger_(`bad ${a?"segment":"part"} ${md(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<vx){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${vx}`);return}const r=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-r)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const r=e.segment,i=r.start,n=r.end;if(!b$(i)||!b$(n))return;y1(i,n,this.segmentMetadataTrack_);const a=ne.WebKitDataCue||ne.VTTCue,s={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,programDateTime:r.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:n},o=JSON.stringify(s),u=new a(i,n,o);u.value=s,this.segmentMetadataTrack_.addCue(u)}}function Ku(){}const lse=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},gWe=["video","audio"],jD=(t,e)=>{const r=e[`${t}Buffer`];return r&&r.updating||e.queuePending[t]},vWe=(t,e)=>{for(let r=0;r<e.length;r++){const i=e[r];if(i.type==="mediaSource")return null;if(i.type===t)return r}return null},cp=(t,e)=>{if(e.queue.length===0)return;let r=0,i=e.queue[r];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),cp("audio",e),cp("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||jD(t,e))){if(i.type!==t){if(r=vWe(t,e.queue),r===null)return;i=e.queue[r]}if(e.queue.splice(r,1),e.queuePending[t]=i,i.action(t,e),!i.doneFn){e.queuePending[t]=null,cp(t,e);return}}},cse=(t,e)=>{const r=e[`${t}Buffer`],i=lse(t);r&&(r.removeEventListener("updateend",e[`on${i}UpdateEnd_`]),r.removeEventListener("error",e[`on${i}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Wo=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,Wa={appendBuffer:(t,e,r)=>(i,n)=>{const a=n[`${i}Buffer`];if(Wo(n.mediaSource,a)){n.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${i}Buffer`);try{a.appendBuffer(t)}catch(s){n.logger_(`Error with code ${s.code} `+(s.code===Nae?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${i}Buffer`),n.queuePending[i]=null,r(s)}}},remove:(t,e)=>(r,i)=>{const n=i[`${r}Buffer`];if(Wo(i.mediaSource,n)){i.logger_(`Removing ${t} to ${e} from ${r}Buffer`);try{n.remove(t,e)}catch{i.logger_(`Remove ${t} to ${e} from ${r}Buffer failed`)}}},timestampOffset:t=>(e,r)=>{const i=r[`${e}Buffer`];Wo(r.mediaSource,i)&&(r.logger_(`Setting ${e}timestampOffset to ${t}`),i.timestampOffset=t)},callback:t=>(e,r)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(r){ye.log.warn("Failed to call media source endOfStream",r)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(r){ye.log.warn("Failed to set media source duration",r)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const r=e[`${t}Buffer`];if(Wo(e.mediaSource,r)){e.logger_(`calling abort on ${t}Buffer`);try{r.abort()}catch(i){ye.log.warn(`Failed to abort on ${t}Buffer`,i)}}},addSourceBuffer:(t,e)=>r=>{const i=lse(t),n=Up(e);r.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const a=r.mediaSource.addSourceBuffer(n);a.addEventListener("updateend",r[`on${i}UpdateEnd_`]),a.addEventListener("error",r[`on${i}Error_`]),r.codecs[t]=e,r[`${t}Buffer`]=a},removeSourceBuffer:t=>e=>{const r=e[`${t}Buffer`];if(cse(t,e),!!Wo(e.mediaSource,r)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(r)}catch(i){ye.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,i)}}},changeType:t=>(e,r)=>{const i=r[`${e}Buffer`],n=Up(t);if(!Wo(r.mediaSource,i))return;const a=t.substring(0,t.indexOf(".")),s=r.codecs[e];if(s.substring(0,s.indexOf("."))===a)return;const u={codecsChangeInfo:{from:s,to:t}};r.trigger({type:"codecschange",metadata:u}),r.logger_(`changing ${e}Buffer codec from ${s} to ${t}`);try{i.changeType(n),r.codecs[e]=t}catch(l){u.errorType=ye.Error.StreamingCodecsChangeError,u.error=l,l.metadata=u,r.error_=l,r.trigger("error"),ye.log.warn(`Failed to changeType on ${e}Buffer`,l)}}},Ya=({type:t,sourceUpdater:e,action:r,doneFn:i,name:n})=>{e.queue.push({type:t,action:r,doneFn:i,name:n}),cp(t,e)},S$=(t,e)=>r=>{const i=e[`${t}Buffered`](),n=FVe(i);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,n),e.queuePending[t]){const a=e.queuePending[t].doneFn;e.queuePending[t]=null,a&&a(e[`${t}Error_`])}cp(t,e)};class hse extends ye.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>cp("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=$s("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=S$("video",this),this.onAudioUpdateEnd_=S$("audio",this),this.onVideoError_=r=>{this.videoError_=r},this.onAudioError_=r=>{this.audioError_=r},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,r){Ya({type:"mediaSource",sourceUpdater:this,action:Wa.addSourceBuffer(e,r),name:"addSourceBuffer"})}abort(e){Ya({type:e,sourceUpdater:this,action:Wa.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ye.log.error("removeSourceBuffer is not supported!");return}Ya({type:"mediaSource",sourceUpdater:this,action:Wa.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ye.browser.IS_FIREFOX&&ne.MediaSource&&ne.MediaSource.prototype&&typeof ne.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return ne.SourceBuffer&&ne.SourceBuffer.prototype&&typeof ne.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,r){if(!this.canChangeType()){ye.log.error("changeType is not supported!");return}Ya({type:e,sourceUpdater:this,action:Wa.changeType(r),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(r=>{const i=e[r];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(r,i);this.canChangeType()&&this.changeType(r,i)})}appendBuffer(e,r){const{segmentInfo:i,type:n,bytes:a}=e;if(this.processedAppend_=!0,n==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,r]),this.logger_(`delayed audio append of ${a.length} until video append`);return}const s=r;if(Ya({type:n,sourceUpdater:this,action:Wa.appendBuffer(a,i||{mediaIndex:-1},s),doneFn:r,name:"appendBuffer"}),n==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(u=>{this.appendBuffer.apply(this,u)})}}audioBuffered(){return Wo(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:pn()}videoBuffered(){return Wo(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:pn()}buffered(){const e=Wo(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=Wo(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!e?this.audioBuffered():e&&!r?this.videoBuffered():BVe(this.audioBuffered(),this.videoBuffered())}setDuration(e,r=Ku){Ya({type:"mediaSource",sourceUpdater:this,action:Wa.duration(e),name:"duration",doneFn:r})}endOfStream(e=null,r=Ku){typeof e!="string"&&(e=void 0),Ya({type:"mediaSource",sourceUpdater:this,action:Wa.endOfStream(e),name:"endOfStream",doneFn:r})}removeAudio(e,r,i=Ku){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}Ya({type:"audio",sourceUpdater:this,action:Wa.remove(e,r),doneFn:i,name:"remove"})}removeVideo(e,r,i=Ku){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}Ya({type:"video",sourceUpdater:this,action:Wa.remove(e,r),doneFn:i,name:"remove"})}updating(){return!!(jD("audio",this)||jD("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(Ya({type:"audio",sourceUpdater:this,action:Wa.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(Ya({type:"video",sourceUpdater:this,action:Wa.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&Ya({type:"audio",sourceUpdater:this,action:Wa.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&Ya({type:"video",sourceUpdater:this,action:Wa.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),gWe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>cse(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const T$=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),mWe=t=>{const e=new Uint8Array(t);return Array.from(e).map(r=>r.toString(16).padStart(2,"0")).join("")},A$=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class yWe extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class _We extends UD{constructor(e,r={}){super(e,r),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return pn();const e=this.subtitlesTrack_.cues,r=e[0].startTime,i=e[e.length-1].startTime;return pn([[r,i]])}initSegmentForMap(e,r=!1){if(!e)return null;const i=H4(e);let n=this.initSegments_[i];if(r&&!n&&e.bytes){const a=A$.byteLength+e.bytes.byteLength,s=new Uint8Array(a);s.set(e.bytes),s.set(A$,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:s}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,r){y1(e,r,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const r=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",r),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,r,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(r.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===nu.TIMEOUT&&this.handleTimeout_(),e.code===nu.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const n=this.pendingSegment_,a=i.mp4VttCues&&i.mp4VttCues.length;a&&(n.mp4VttCues=i.mp4VttCues),this.saveBandwidthRelatedStats_(n.duration,r.stats),r.key&&this.segmentKey(r.key,!0),this.state="APPENDING",this.trigger("appending");const s=n.segment;if(s.map&&(s.map.bytes=r.map.bytes),n.bytes=r.bytes,typeof ne.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,r,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(n)}catch(o){this.stopForError({message:o.message,metadata:{errorType:ye.Error.StreamingVttParserError,error:o}});return}if(a||this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,n.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new ne.VTTCue(o.startTime,o.endTime,o.text):o)}),tWe(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,r){const i=e&&e.type==="vtt",n=r&&r.type==="text";i&&n&&super.handleData_(e,r)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const r=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(i=>{const n=i.start+r,a=i.end+r,s=new ne.VTTCue(n,a,i.cueText);i.settings&&i.settings.split(" ").forEach(o=>{const u=o.split(":"),l=u[0],c=u[1];s[l]=isNaN(c)?c:Number(c)}),e.cues.push(s)})}parseVTTCues_(e){let r,i=!1;if(typeof ne.WebVTT!="function")throw new yWe;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof ne.TextDecoder=="function"?r=new ne.TextDecoder("utf8"):(r=ne.WebVTT.StringDecoder(),i=!0);const n=new ne.WebVTT.Parser(ne,ne.vttjs,r);if(n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=s=>{e.timestampmap=s},n.onparsingerror=s=>{ye.log.warn("Error encountered when parsing cues: "+s.message)},e.segment.map){let s=e.segment.map.bytes;i&&(s=T$(s)),n.parse(s)}let a=e.bytes;i&&(a=T$(a)),n.parse(a),n.flush()}updateTimeMapping_(e,r,i){const n=e.segment;if(!r)return;if(!e.cues.length){n.empty=!0;return}const{MPEGTS:a,LOCAL:s}=e.timestampmap,u=a/bh.ONE_SECOND_IN_TS-s+r.mapping;if(e.cues.forEach(l=>{const c=l.endTime-l.startTime,h=this.handleRollover_(l.startTime+u,r.time);l.startTime=Math.max(h,0),l.endTime=Math.max(h+c,0)}),!i.syncInfo){const l=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(l,c-n.duration)}}}handleRollover_(e,r){if(r===null)return e;let i=e*bh.ONE_SECOND_IN_TS;const n=r*bh.ONE_SECOND_IN_TS;let a;for(n<i?a=-8589934592:a=8589934592;Math.abs(i-n)>4294967296;)i+=a;return i/bh.ONE_SECOND_IN_TS}}const xWe=function(t,e){const r=t.cues;for(let i=0;i<r.length;i++){const n=r[i];if(e>=n.adStartTime&&e<=n.adEndTime)return n}return null},bWe=function(t,e,r=0){if(!t.segments)return;let i=r,n;for(let a=0;a<t.segments.length;a++){const s=t.segments[a];if(n||(n=xWe(e,i+s.duration/2)),n){if("cueIn"in s){n.endTime=i,n.adEndTime=i,i+=s.duration,n=null;continue}if(i<n.endTime){i+=s.duration;continue}n.endTime+=s.duration}else if("cueOut"in s&&(n=new ne.VTTCue(i,i+s.duration,s.cueOut),n.adStartTime=i,n.adEndTime=i+parseFloat(s.cueOut),e.addCue(n)),"cueOutCont"in s){const[o,u]=s.cueOutCont.split("/").map(parseFloat);n=new ne.VTTCue(i,i+s.duration,""),n.adStartTime=i-o,n.adEndTime=n.adStartTime+u,e.addCue(n)}i+=s.duration}};class w${constructor({start:e,end:r,segmentIndex:i,partIndex:n=null,appended:a=!1}){this.start_=e,this.end_=r,this.segmentIndex_=i,this.partIndex_=n,this.appended_=a}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class CWe{constructor(e,r=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=r}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class fse{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,r){const{mediaSequence:i,segments:n}=e;if(this.isReliable_=this.isReliablePlaylist_(i,n),!!this.isReliable_)return this.updateStorage_(n,i,this.calculateBaseTime_(i,n,r))}getSyncInfoForTime(e){for(const{segmentSyncInfo:r,partsSyncInfo:i}of this.storage_.values())if(i.length){for(const n of i)if(n.isInRange(e))return n}else if(r.isInRange(e))return r;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,r,i){const n=new Map;let a=`
`,s=i,o=r;this.start_=s,e.forEach((u,l)=>{const c=this.storage_.get(o),h=s,f=h+u.duration,d=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),p=new w$({start:h,end:f,appended:d,segmentIndex:l});u.syncInfo=p;let g=s;const v=(u.parts||[]).map((m,y)=>{const _=g,x=g+m.duration,b=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[y]&&c.partsSyncInfo[y].isAppended),C=new w$({start:_,end:x,appended:b,segmentIndex:l,partIndex:y});return g=x,a+=`Media Sequence: ${o}.${y} | Range: ${_} --> ${x} | Appended: ${b}
`,m.syncInfo=C,C});n.set(o,new CWe(p,v)),a+=`${use(u.resolvedUri)} | Media Sequence: ${o} | Range: ${h} --> ${f} | Appended: ${d}
`,o++,s=f}),this.end_=s,this.storage_=n,this.diagnostics_=a}calculateBaseTime_(e,r,i){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const n=Math.min(...this.storage_.keys());if(e<n){const a=n-e;let s=this.storage_.get(n).segmentSyncInfo.start;for(let o=0;o<a;o++){const u=r[o];s-=u.duration}return s}return i}isReliablePlaylist_(e,r){return e!=null&&Array.isArray(r)&&r.length}}class D$ extends fse{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,r,i){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,r,i)}}const EWe=86400,mA=[{name:"VOD",run:(t,e,r,i,n)=>r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,r,i,n,a)=>{const s=t.getMediaSequenceSync(a);if(!s||!s.isReliable)return null;const o=s.getSyncInfoForTime(n);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,r,i,n)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let a=null,s=null;const o=PD(e);n=n||0;for(let u=0;u<o.length;u++){const l=e.endList||n===0?u:o.length-(u+1),c=o[l],h=c.segment,f=t.timelineToDatetimeMappings[h.timeline];if(!f||!h.dateTimeObject)continue;let p=h.dateTimeObject.getTime()/1e3+f;if(h.parts&&typeof c.partIndex=="number")for(let v=0;v<c.partIndex;v++)p+=h.parts[v].duration;const g=Math.abs(n-p);if(s!==null&&(g===0||s<g))break;s=g,a={time:p,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return a}},{name:"Segment",run:(t,e,r,i,n)=>{let a=null,s=null;n=n||0;const o=PD(e);for(let u=0;u<o.length;u++){const l=e.endList||n===0?u:o.length-(u+1),c=o[l],h=c.segment,f=c.part&&c.part.start||h&&h.start;if(h.timeline===i&&typeof f<"u"){const d=Math.abs(n-f);if(s!==null&&s<d)break;(!a||s===null||s>=d)&&(s=d,a={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return a}},{name:"Discontinuity",run:(t,e,r,i,n)=>{let a=null;if(n=n||0,e.discontinuityStarts&&e.discontinuityStarts.length){let s=null;for(let o=0;o<e.discontinuityStarts.length;o++){const u=e.discontinuityStarts[o],l=e.discontinuitySequence+o+1,c=t.discontinuities[l];if(c){const h=Math.abs(n-c.time);if(s!==null&&s<h)break;(!a||s===null||s>=h)&&(s=h,a={time:c.time,segmentIndex:u,partIndex:null})}}}return a}},{name:"Playlist",run:(t,e,r,i,n)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class SWe extends ye.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const r=new fse,i=new D$(r),n=new D$(r);this.mediaSequenceStorage_={main:r,audio:i,vtt:n},this.logger_=$s("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,r,i,n,a){if(r!==1/0)return mA.find(({name:u})=>u==="VOD").run(this,e,r);const s=this.runStrategies_(e,r,i,n,a);if(!s.length)return null;for(const o of s){const{syncPoint:u,strategy:l}=o,{segmentIndex:c,time:h}=u;if(c<0)continue;const f=e.segments[c],d=h,p=d+f.duration;if(this.logger_(`Strategy: ${l}. Current time: ${n}. selected segment: ${c}. Time: [${d} -> ${p}]}`),n>=d&&n<p)return this.logger_("Found sync point with exact match: ",u),u}return this.selectSyncPoint_(s,{key:"time",value:n})}getExpiredTime(e,r){if(!e||!e.segments)return null;const i=this.runStrategies_(e,r,e.discontinuitySequence,0);if(!i.length)return null;const n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+t2({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,r,i,n,a){const s=[];for(let o=0;o<mA.length;o++){const u=mA[o],l=u.run(this,e,r,i,n,a);l&&(l.strategy=u.name,s.push({strategy:u.name,syncPoint:l}))}return s}selectSyncPoint_(e,r){let i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[r.key]-r.value),a=e[0].strategy;for(let s=1;s<e.length;s++){const o=Math.abs(e[s].syncPoint[r.key]-r.value);o<n&&(n=o,i=e[s].syncPoint,a=e[s].strategy)}return this.logger_(`syncPoint for [${r.key}: ${r.value}] chosen with strategy [${a}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+(typeof i.partIndex=="number"?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,r){const i=r.mediaSequence-e.mediaSequence;if(i>EWe){ye.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);return}for(let n=i-1;n>=0;n--){const a=e.segments[n];if(a&&typeof a.start<"u"){r.syncInfo={mediaSequence:e.mediaSequence+n,time:a.start},this.logger_(`playlist refresh sync: [time:${r.syncInfo.time}, mediaSequence: ${r.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const r=e.segments[0],i=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:r}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,r),n=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));const a=n.dateTimeObject;n.discontinuity&&r&&a&&(this.timelineToDatetimeMappings[n.timeline]=-(a.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,r,i){const n=e.segment,a=e.part;let s=this.timelines[e.timeline],o,u;if(typeof e.timestampOffset=="number")s={time:e.startOfSegment,mapping:e.startOfSegment-r.start},i&&(this.timelines[e.timeline]=s,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${s.time}] [mapping: ${s.mapping}]`)),o=e.startOfSegment,u=r.end+s.mapping;else if(s)o=r.start+s.mapping,u=r.end+s.mapping;else return!1;return a&&(a.start=o,a.end=u),(!n.start||o<n.start)&&(n.start=o),n.end=u,!0}saveDiscontinuitySyncInfo_(e){const r=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(let n=0;n<r.discontinuityStarts.length;n++){const a=r.discontinuityStarts[n],s=r.discontinuitySequence+n+1,o=a-e.mediaIndex,u=Math.abs(o);if(!this.discontinuities[s]||this.discontinuities[s].accuracy>u){let l;o<0?l=i.start-t2({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex,endIndex:a}):l=i.end+t2({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:e.mediaIndex+1,endIndex:a}),this.discontinuities[s]={time:l,accuracy:u}}}}dispose(){this.trigger("dispose"),this.off()}}class TWe extends ye.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:r,to:i}){return typeof r=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:r,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:r,to:i}){if(typeof r=="number"&&typeof i=="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:i},delete this.pendingTimelineChanges_[e];const n={timelineChangeInfo:{from:r,to:i}};this.trigger({type:"timelinechange",metadata:n})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const AWe=Kae(Jae(function(){var t=function(){function g(){this.listeners={}}var v=g.prototype;return v.on=function(y,_){this.listeners[y]||(this.listeners[y]=[]),this.listeners[y].push(_)},v.off=function(y,_){if(!this.listeners[y])return!1;var x=this.listeners[y].indexOf(_);return this.listeners[y]=this.listeners[y].slice(0),this.listeners[y].splice(x,1),x>-1},v.trigger=function(y){var _=this.listeners[y];if(_)if(arguments.length===2)for(var x=_.length,b=0;b<x;++b)_[b].call(this,arguments[1]);else for(var C=Array.prototype.slice.call(arguments,1),E=_.length,A=0;A<E;++A)_[A].apply(this,C)},v.dispose=function(){this.listeners={}},v.pipe=function(y){this.on("data",function(_){y.push(_)})},g}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(g){return g.subarray(0,g.byteLength-g[g.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const r=function(){const g=[[[],[],[],[],[]],[[],[],[],[],[]]],v=g[0],m=g[1],y=v[4],_=m[4];let x,b,C;const E=[],A=[];let S,T,D,F,B,O;for(x=0;x<256;x++)A[(E[x]=x<<1^(x>>7)*283)^x]=x;for(b=C=0;!y[b];b^=S||1,C=A[C]||1)for(F=C^C<<1^C<<2^C<<3^C<<4,F=F>>8^F&255^99,y[b]=F,_[F]=b,D=E[T=E[S=E[b]]],O=D*16843009^T*65537^S*257^b*16843008,B=E[F]*257^F*16843008,x=0;x<4;x++)v[x][b]=B=B<<24^B>>>8,m[x][F]=O=O<<24^O>>>8;for(x=0;x<5;x++)v[x]=v[x].slice(0),m[x]=m[x].slice(0);return g};let i=null;class n{constructor(v){i||(i=r()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let m,y,_;const x=this._tables[0][4],b=this._tables[1],C=v.length;let E=1;if(C!==4&&C!==6&&C!==8)throw new Error("Invalid aes key size");const A=v.slice(0),S=[];for(this._key=[A,S],m=C;m<4*C+28;m++)_=A[m-1],(m%C===0||C===8&&m%C===4)&&(_=x[_>>>24]<<24^x[_>>16&255]<<16^x[_>>8&255]<<8^x[_&255],m%C===0&&(_=_<<8^_>>>24^E<<24,E=E<<1^(E>>7)*283)),A[m]=A[m-C]^_;for(y=0;m;y++,m--)_=A[y&3?m:m-4],m<=4||y<4?S[y]=_:S[y]=b[0][x[_>>>24]]^b[1][x[_>>16&255]]^b[2][x[_>>8&255]]^b[3][x[_&255]]}decrypt(v,m,y,_,x,b){const C=this._key[1];let E=v^C[0],A=_^C[1],S=y^C[2],T=m^C[3],D,F,B;const O=C.length/4-2;let M,R=4;const z=this._tables[1],k=z[0],U=z[1],V=z[2],j=z[3],Y=z[4];for(M=0;M<O;M++)D=k[E>>>24]^U[A>>16&255]^V[S>>8&255]^j[T&255]^C[R],F=k[A>>>24]^U[S>>16&255]^V[T>>8&255]^j[E&255]^C[R+1],B=k[S>>>24]^U[T>>16&255]^V[E>>8&255]^j[A&255]^C[R+2],T=k[T>>>24]^U[E>>16&255]^V[A>>8&255]^j[S&255]^C[R+3],R+=4,E=D,A=F,S=B;for(M=0;M<4;M++)x[(3&-M)+b]=Y[E>>>24]<<24^Y[A>>16&255]<<16^Y[S>>8&255]<<8^Y[T&255]^C[R++],D=E,E=A,A=S,S=T,T=D}}class a extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(v){this.jobs.push(v),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const s=function(g){return g<<24|(g&65280)<<8|(g&16711680)>>8|g>>>24},o=function(g,v,m){const y=new Int32Array(g.buffer,g.byteOffset,g.byteLength>>2),_=new n(Array.prototype.slice.call(v)),x=new Uint8Array(g.byteLength),b=new Int32Array(x.buffer);let C,E,A,S,T,D,F,B,O;for(C=m[0],E=m[1],A=m[2],S=m[3],O=0;O<y.length;O+=4)T=s(y[O]),D=s(y[O+1]),F=s(y[O+2]),B=s(y[O+3]),_.decrypt(T,D,F,B,b,O),b[O]=s(b[O]^C),b[O+1]=s(b[O+1]^E),b[O+2]=s(b[O+2]^A),b[O+3]=s(b[O+3]^S),C=T,E=D,A=F,S=B;return x};class u{constructor(v,m,y,_){const x=u.STEP,b=new Int32Array(v.buffer),C=new Uint8Array(v.byteLength);let E=0;for(this.asyncStream_=new a,this.asyncStream_.push(this.decryptChunk_(b.subarray(E,E+x),m,y,C)),E=x;E<b.length;E+=x)y=new Uint32Array([s(b[E-4]),s(b[E-3]),s(b[E-2]),s(b[E-1])]),this.asyncStream_.push(this.decryptChunk_(b.subarray(E,E+x),m,y,C));this.asyncStream_.push(function(){_(null,e(C))})}static get STEP(){return 32e3}decryptChunk_(v,m,y,_){return function(){const x=o(v,m,y);_.set(x,v.byteOffset)}}}var l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof l<"u"?c=l:typeof self<"u"?c=self:c={};var h=c,f=function(v){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(v):v&&v.buffer instanceof ArrayBuffer},d=h.BigInt||Number;d("0x1"),d("0x100"),d("0x10000"),d("0x1000000"),d("0x100000000"),d("0x10000000000"),d("0x1000000000000"),d("0x100000000000000"),d("0x10000000000000000"),function(){var g=new Uint16Array([65484]),v=new Uint8Array(g.buffer,g.byteOffset,g.byteLength);return v[0]===255?"big":v[0]===204?"little":"unknown"}();const p=function(g){const v={};return Object.keys(g).forEach(m=>{const y=g[m];f(y)?v[m]={bytes:y.buffer,byteOffset:y.byteOffset,byteLength:y.byteLength}:v[m]=y}),v};self.onmessage=function(g){const v=g.data,m=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),y=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),_=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new u(m,y,_,function(x,b){self.postMessage(p({source:v.source,decrypted:b}),[b.buffer])})}}));var wWe=Zae(AWe);const DWe=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},dse=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},VD=(t,e)=>{e.activePlaylistLoader=t,t.load()},FWe=(t,e)=>()=>{const{segmentLoaders:{[t]:r,main:i},mediaTypes:{[t]:n}}=e,a=n.activeTrack(),s=n.getActiveGroup(),o=n.activePlaylistLoader,u=n.lastGroup_;if(!(s&&u&&s.id===u.id)&&(n.lastGroup_=s,n.lastTrack_=a,dse(r,n),!(!s||s.isMainPlaylist))){if(!s.playlistLoader){o&&i.resetEverything();return}r.resyncLoader(),VD(s.playlistLoader,n)}},IWe=(t,e)=>()=>{const{segmentLoaders:{[t]:r},mediaTypes:{[t]:i}}=e;i.lastGroup_=null,r.abort(),r.pause()},BWe=(t,e)=>()=>{const{mainPlaylistLoader:r,segmentLoaders:{[t]:i,main:n},mediaTypes:{[t]:a}}=e,s=a.activeTrack(),o=a.getActiveGroup(),u=a.activePlaylistLoader,l=a.lastTrack_;if(!(l&&s&&l.id===s.id)&&(a.lastGroup_=o,a.lastTrack_=s,dse(i,a),!!o)){if(o.isMainPlaylist){if(!s||!l||s.id===l.id)return;const c=e.vhs.playlistController_,h=c.selectPlaylist();if(c.media()===h)return;a.logger_(`track change. Switching main audio from ${l.id} to ${s.id}`),r.pause(),n.resetEverything(),c.fastQualityChange_(h);return}if(t==="AUDIO"){if(!o.playlistLoader){n.setAudio(!0),n.resetEverything();return}i.setAudio(!0),n.setAudio(!1)}if(u===o.playlistLoader){VD(o.playlistLoader,a);return}i.track&&i.track(s),i.resetEverything(),VD(o.playlistLoader,a)}},G4={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:r},excludePlaylist:i}=e,n=r.activeTrack(),a=r.activeGroup(),s=(a.filter(u=>u.default)[0]||a[0]).id,o=r.tracks[s];if(n===o){i({error:{message:"Problem encountered loading the default audio track."}});return}ye.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const u in r.tracks)r.tracks[u].enabled=r.tracks[u]===o;r.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:r}}=e;ye.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=r.activeTrack();i&&(i.mode="disabled"),r.onTrackChanged()}},F$={AUDIO:(t,e,r)=>{if(!e)return;const{tech:i,requestOptions:n,segmentLoaders:{[t]:a}}=r;e.on("loadedmetadata",()=>{const s=e.media();a.playlist(s,n),(!i.paused()||s.endList&&i.preload()!=="none")&&a.load()}),e.on("loadedplaylist",()=>{a.playlist(e.media(),n),i.paused()||a.load()}),e.on("error",G4[t](t,r))},SUBTITLES:(t,e,r)=>{const{tech:i,requestOptions:n,segmentLoaders:{[t]:a},mediaTypes:{[t]:s}}=r;e.on("loadedmetadata",()=>{const o=e.media();a.playlist(o,n),a.track(s.activeTrack()),(!i.paused()||o.endList&&i.preload()!=="none")&&a.load()}),e.on("loadedplaylist",()=>{a.playlist(e.media(),n),i.paused()||a.load()}),e.on("error",G4[t](t,r))}},MWe={AUDIO:(t,e)=>{const{vhs:r,sourceType:i,segmentLoaders:{[t]:n},requestOptions:a,main:{mediaGroups:s},mediaTypes:{[t]:{groups:o,tracks:u,logger_:l}},mainPlaylistLoader:c}=e,h=ty(c.main);(!s[t]||Object.keys(s[t]).length===0)&&(s[t]={main:{default:{default:!0}}},h&&(s[t].main.default.playlists=c.main.playlists));for(const f in s[t]){o[f]||(o[f]=[]);for(const d in s[t][f]){let p=s[t][f][d],g;if(h?(l(`AUDIO group '${f}' label '${d}' is a main playlist`),p.isMainPlaylist=!0,g=null):i==="vhs-json"&&p.playlists?g=new kd(p.playlists[0],r,a):p.resolvedUri?g=new kd(p.resolvedUri,r,a):p.playlists&&i==="dash"?g=new zD(p.playlists[0],r,a,c):g=null,p=Ar({id:d,playlistLoader:g},p),F$[t](t,p.playlistLoader,e),o[f].push(p),typeof u[d]>"u"){const v=new ye.AudioTrack({id:d,kind:DWe(p),enabled:!1,language:p.language,default:p.default,label:d});u[d]=v}}}n.on("error",G4[t](t,e))},SUBTITLES:(t,e)=>{const{tech:r,vhs:i,sourceType:n,segmentLoaders:{[t]:a},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[t]:{groups:u,tracks:l}},mainPlaylistLoader:c}=e;for(const h in o[t]){u[h]||(u[h]=[]);for(const f in o[t][h]){if(!i.options_.useForcedSubtitles&&o[t][h][f].forced)continue;let d=o[t][h][f],p;if(n==="hls")p=new kd(d.resolvedUri,i,s);else if(n==="dash"){if(!d.playlists.filter(v=>v.excludeUntil!==1/0).length)return;p=new zD(d.playlists[0],i,s,c)}else n==="vhs-json"&&(p=new kd(d.playlists?d.playlists[0]:d.resolvedUri,i,s));if(d=Ar({id:f,playlistLoader:p},d),F$[t](t,d.playlistLoader,e),u[h].push(d),typeof l[f]>"u"){const g=r.addRemoteTextTrack({id:f,kind:"subtitles",default:d.default&&d.autoselect,language:d.language,label:f},!1).track;l[f]=g}}}a.on("error",G4[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:r,main:{mediaGroups:i},mediaTypes:{[t]:{groups:n,tracks:a}}}=e;for(const s in i[t]){n[s]||(n[s]=[]);for(const o in i[t][s]){const u=i[t][s][o];if(!/^(?:CC|SERVICE)/.test(u.instreamId))continue;const l=r.options_.vhs&&r.options_.vhs.captionServices||{};let c={label:o,language:u.language,instreamId:u.instreamId,default:u.default&&u.autoselect};if(l[c.instreamId]&&(c=Ar(c,l[c.instreamId])),c.default===void 0&&delete c.default,n[s].push(Ar({id:o},u)),typeof a[o]>"u"){const h=r.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;a[o]=h}}}}},pse=(t,e)=>{for(let r=0;r<t.length;r++)if(oB(e,t[r])||t[r].playlists&&pse(t[r].playlists,e))return!0;return!1},PWe=(t,e)=>r=>{const{mainPlaylistLoader:i,mediaTypes:{[t]:{groups:n}}}=e,a=i.media();if(!a)return null;let s=null;a.attributes[t]&&(s=n[a.attributes[t]]);const o=Object.keys(n);if(!s)if(t==="AUDIO"&&o.length>1&&ty(e.main))for(let u=0;u<o.length;u++){const l=n[o[u]];if(pse(l,a)){s=l;break}}else n.main?s=n.main:o.length===1&&(s=n[o[0]]);return typeof r>"u"?s:r===null||!s?null:s.filter(u=>u.id===r.id)[0]||null},LWe={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const i in r)if(r[i].enabled)return r[i];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:r}}}=e;for(const i in r)if(r[i].mode==="showing"||r[i].mode==="hidden")return r[i];return null}},OWe=(t,{mediaTypes:e})=>()=>{const r=e[t].activeTrack();return r?e[t].activeGroup(r):null},RWe=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(l=>{MWe[l](l,t)});const{mediaTypes:e,mainPlaylistLoader:r,tech:i,vhs:n,segmentLoaders:{["AUDIO"]:a,main:s}}=t;["AUDIO","SUBTITLES"].forEach(l=>{e[l].activeGroup=PWe(l,t),e[l].activeTrack=LWe[l](l,t),e[l].onGroupChanged=FWe(l,t),e[l].onGroupChanging=IWe(l,t),e[l].onTrackChanged=BWe(l,t),e[l].getActiveGroup=OWe(l,t)});const o=e.AUDIO.activeGroup();if(o){const l=(o.filter(h=>h.default)[0]||o[0]).id;e.AUDIO.tracks[l].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),a.setAudio(!0)):s.setAudio(!0)}r.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(l=>e[l].onGroupChanged())}),r.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(l=>e[l].onGroupChanging())});const u=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",u),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),n.on("dispose",()=>{i.audioTracks().removeEventListener("change",u),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const l in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[l])},NWe=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ku,activeTrack:Ku,getActiveGroup:Ku,onGroupChanged:Ku,onTrackChanged:Ku,lastTrack_:null,logger_:$s(`MediaGroups[${e}]`)}}),t};class I${constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Ba(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(r=>[r.ID,r])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class kWe extends ye.EventTarget{constructor(e,r){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new I$,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=$s("Content Steering"),this.xhr_=e,this.getBandwidth_=r}assignTagProperties(e,r){this.manifestType_=r.serverUri?"HLS":"DASH";const i=r.serverUri||r.serverURL;if(!i){this.logger_(`steering manifest URL is ${i}, cannot request steering manifest.`),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=Ba(e,i),this.defaultPathway=r.pathwayId||r.defaultServiceLocation,this.queryBeforeStart=r.queryBeforeStart,this.proxyServerUrl_=r.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const r=this.steeringManifest.reloadUri;if(!r)return;const i=e?r:this.getRequestURI(r);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const n={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:n}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(a,s)=>{if(a){if(s.status===410){this.logger_(`manifest request 410 ${a}.`),this.logger_(`There will be no more content steering requests to ${i} this session.`),this.excludedSteeringManifestURLs.add(i);return}if(s.status===429){const l=s.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${a}.`),this.logger_(`content steering will retry in ${l} seconds.`),this.startTTLTimeout_(parseInt(l,10));return}this.logger_(`manifest failed to load ${a}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:n});let o;try{o=JSON.parse(this.request_.responseText)}catch(l){const c={errorType:ye.Error.StreamingContentSteeringParserError,error:l};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const u={contentSteeringInfo:n.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:u}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const r=new ne.URL(e),i=new ne.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(r.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const r=JSON.parse(ne.atob(e));this.assignSteeringProperties_(r)}setSteeringParams_(e){const r=new ne.URL(e),i=this.getPathway(),n=this.getBandwidth_();if(i){const a=`_${this.manifestType_}_pathway`;r.searchParams.set(a,i)}if(n){const a=`_${this.manifestType_}_throughput`;r.searchParams.set(a,n)}return r.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const i=(n=>{for(const a of n)if(this.availablePathways_.has(a))return a;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==i&&(this.currentPathway=i,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const r=n=>this.excludedSteeringManifestURLs.has(n);if(this.proxyServerUrl_){const n=this.setProxyServerUrl_(e);if(!r(n))return n}const i=this.setSteeringParams_(e);return r(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const r=e*1e3;this.ttlTimeout_=ne.setTimeout(()=>{this.requestSteeringManifest()},r)}clearTTLTimeout_(){ne.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new I$}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,r){return!r&&this.steeringManifest.reloadUri||r&&(Ba(e,r.serverURL)!==this.steeringManifest.reloadUri||r.defaultServiceLocation!==this.defaultPathway||r.queryBeforeStart!==this.queryBeforeStart||r.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const zWe=(t,e)=>{let r=null;return(...i)=>{clearTimeout(r),r=setTimeout(()=>{t.apply(null,i)},e)}},HWe=10;let ec;const GWe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],UWe=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},jWe=function({currentPlaylist:t,buffered:e,currentTime:r,nextPlaylist:i,bufferLowWaterLine:n,bufferHighWaterLine:a,duration:s,bufferBasedABR:o,log:u}){if(!i)return ye.log.warn("We received no playlist to switch to. Please check your stream."),!1;const l=`allowing switch ${t&&t.id||"null"} -> ${i.id}`;if(!t)return u(`${l} as current playlist is not set`),!0;if(i.id===t.id)return!1;const c=!!Nd(e,r).length;if(!t.endList)return!c&&typeof t.partTargetDuration=="number"?(u(`not ${l} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(u(`${l} as current playlist is live`),!0);const h=nB(e,r),f=o?ln.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ln.MAX_BUFFER_LOW_WATER_LINE;if(s<f)return u(`${l} as duration < max low water line (${s} < ${f})`),!0;const d=i.attributes.BANDWIDTH,p=t.attributes.BANDWIDTH;if(d<p&&(!o||h<a)){let g=`${l} as next bandwidth < current bandwidth (${d} < ${p})`;return o&&(g+=` and forwardBuffer < bufferHighWaterLine (${h} < ${a})`),u(g),!0}if((!o||d>p)&&h>=n){let g=`${l} as forwardBuffer >= bufferLowWaterLine (${h} >= ${n})`;return o&&(g+=` and next bandwidth > current bandwidth (${d} > ${p})`),u(g),!0}return u(`not ${l} as no switching criteria met`),!1};class VWe extends ye.EventTarget{constructor(e){super(),this.fastQualityChange_=zWe(this.fastQualityChange_.bind(this),100);const{src:r,withCredentials:i,tech:n,bandwidth:a,externVhs:s,useCueTags:o,playlistExclusionDuration:u,enableLowInitialPlaylist:l,sourceType:c,cacheEncryptionKeys:h,bufferBasedABR:f,leastPixelDiffSelector:d,captionServices:p,experimentalUseMMS:g}=e;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:v}=e;(v===null||typeof v>"u")&&(v=1/0),ec=s,this.bufferBasedABR=!!f,this.leastPixelDiffSelector=!!d,this.withCredentials=i,this.tech_=n,this.vhs_=n.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=u,this.maxPlaylistRetries=v,this.enableLowInitialPlaylist=l,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:v,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=NWe(),g&&ne.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new ne.ManagedMediaSource,this.usingManagedMediaSource_=!0,ye.log("Using ManagedMediaSource")):ne.MediaSource&&(this.mediaSource=new ne.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=pn(),this.hasPlayed_=!1,this.syncController_=new SWe(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.segmentMetadataTrack_.mode="hidden",this.decrypter_=new wWe,this.sourceUpdater_=new hse(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new TWe,this.keyStatusMap_=new Map;const m={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:a,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new zD(r,this.vhs_,Ar(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new kd(r,this.vhs_,Ar(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new UD(Ar(m,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new UD(Ar(m,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new _We(Ar(m,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((x,b)=>{function C(){n.off("vttjserror",E),x()}function E(){n.off("vttjsloaded",C),b()}n.one("vttjsloaded",C),n.one("vttjserror",E),n.addWebVttScript_()})}),e);const y=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new kWe(this.vhs_.xhr,y),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),GWe.forEach(x=>{this[x+"_"]=UWe.bind(this,x)}),this.logger_=$s("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const _=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(_,()=>{const x=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-x,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return e===-1||r===-1?-1:e+r}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const r=this.selectPlaylist();r&&this.shouldSwitchToMedia_(r)&&this.switchMedia_(r,e)}switchMedia_(e,r,i){const n=this.media(),a=n&&(n.id||n.uri),s=e&&(e.id||e.uri);if(a&&a!==s){this.logger_(`switch media ${a} -> ${s} from ${r}`);const o={renditionInfo:{id:s,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:r};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${r}`})}this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const r=this.mediaTypes_[e],i=r?r.activeGroup():null,n=this.contentSteeringController_.getPathway();if(i&&n){const s=(i.length?i[0].playlists:i.playlists).filter(o=>o.attributes.serviceLocation===n);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=ne.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(ne.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),r=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return r;const i=e.mediaGroups.AUDIO,n=Object.keys(i);let a;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)a=this.mediaTypes_.AUDIO.activeTrack();else{const o=i.main||n.length&&i[n[0]];for(const u in o)if(o[u].default){a={label:u};break}}if(!a)return r;const s=[];for(const o in i)if(i[o][a.label]){const u=i[o][a.label];if(u.playlists&&u.playlists.length)s.push.apply(s,u.playlists);else if(u.uri)s.push(u);else if(e.playlists.length)for(let l=0;l<e.playlists.length;l++){const c=e.playlists[l];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&s.push(c)}}return s.length?s:r}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const r=this.mainPlaylistLoader_.media(),i=r.targetDuration*1.5*1e3;LD(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,r.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.mainSegmentLoader_.load()),RWe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),r),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let r=this.mainPlaylistLoader_.media();if(!r){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let i;if(this.enableLowInitialPlaylist&&(i=this.selectInitialPlaylist()),i||(i=this.selectPlaylist()),!i||!this.shouldSwitchToMedia_(i)||(this.initialMedia_=i,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;r=this.initialMedia_}this.handleUpdatedMediaPlaylist(r)}),this.mainPlaylistLoader_.on("error",()=>{const r=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:r.playlist,error:r})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const r=this.mainPlaylistLoader_.media(),i=r.targetDuration*1.5*1e3;LD(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=i,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(r,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const r=this.mainPlaylistLoader_.media();if(r.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(r)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(r=>{this.mainPlaylistLoader_.on(r,i=>{this.player_.trigger(fe({},i))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,r){const i=e.mediaGroups||{};let n=!0;const a=Object.keys(i.AUDIO);for(const s in i.AUDIO)for(const o in i.AUDIO[s])i.AUDIO[s][o].uri||(n=!1);n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),ec.Playlist.isAes(r)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),a.length&&Object.keys(i.AUDIO[a[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const r=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),n=this.bufferLowWaterLine(),a=this.bufferHighWaterLine(),s=this.tech_.buffered();return jWe({buffered:s,currentTime:i,currentPlaylist:r,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:a,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const i=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const i=this.audioSegmentLoader_.pendingSegment_;if(!i||!i.segment||!i.segment.syncInfo)return;const n=i.segment.syncInfo.end+.01;this.tech_.setCurrentTime(n)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",i=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:HWe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const i=this.getCodecsOrExclude_();i&&this.sourceUpdater_.addOrChangeSourceBuffers(i)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(i=>{this.mainSegmentLoader_.on(i,n=>{this.player_.trigger(fe({},n))}),this.audioSegmentLoader_.on(i,n=>{this.player_.trigger(fe({},n))}),this.subtitleSegmentLoader_.on(i,n=>{this.player_.trigger(fe({},n))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const r=this.seekable();if(!r.length)return!1;const i=r.end(0);let n=i;if(e.start){const a=e.start.timeOffset;a<0?n=Math.max(i+a,r.start(0)):n=Math.min(i,a)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,r=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const r=this.duration();e[e.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const r=this.mainSegmentLoader_.getCurrentMediaInfo_();!r||r.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const i=this.syncController_.getExpiredTime(e,this.duration());if(i===null)return!1;const n=ec.Playlist.playlistEnd(e,i),a=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return n-a<=iu;const o=s.end(s.length-1);return o-a<=iu&&n-o<=iu}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:r={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||r.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=r,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const n=this.mainPlaylistLoader_.main.playlists,a=n.filter(BC),s=a.length===1&&a[0]===e;if(n.length===1&&i!==1/0)return ye.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(s);if(s){if(this.main().contentSteering){const p=this.pathwayAttribute_(e),g=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(p),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(p)},g);return}let d=!1;n.forEach(p=>{if(p===e)return;const g=p.excludeUntil;typeof g<"u"&&g!==1/0&&(d=!0,delete p.excludeUntil)}),d&&(ye.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+i*1e3,e.excludeUntil=o,r.reason&&(e.lastExcludeReason_=r.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const u=this.selectPlaylist();if(!u){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const l=r.internal?this.logger_:ye.log.warn,c=r.message?" "+r.message:"";l(`${r.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${u.id}.`),u.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),u.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const h=u.targetDuration/2*1e3||5*1e3,f=typeof u.lastRequest=="number"&&Date.now()-u.lastRequest<=h;return this.switchMedia_(u,"exclude",s||f)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,r){const i=[],n=e==="all";(n||e==="main")&&i.push(this.mainPlaylistLoader_);const a=[];(n||e==="audio")&&a.push("AUDIO"),(n||e==="subtitle")&&(a.push("CLOSED-CAPTIONS"),a.push("SUBTITLES")),a.forEach(s=>{const o=this.mediaTypes_[s]&&this.mediaTypes_[s].activePlaylistLoader;o&&i.push(o)}),["main","audio","subtitle"].forEach(s=>{const o=this[`${s}SegmentLoader_`];o&&(e===s||e==="all")&&i.push(o)}),i.forEach(s=>r.forEach(o=>{typeof s[o]=="function"&&s[o]()}))}setCurrentTime(e){const r=Nd(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(r&&r.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:ec.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,r){const i=e.media();if(!i)return null;const n=this.syncController_.getMediaSequenceSync(r);if(n&&n.isReliable){const o=n.start,u=n.end;if(!isFinite(o)||!isFinite(u))return null;const l=ec.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i),c=Math.max(o,u-l);return pn([[o,c]])}const a=this.syncController_.getExpiredTime(i,this.duration());if(a===null)return null;const s=ec.Playlist.seekable(i,a,ec.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i));return s.length?s:null}computeFinalSeekable_(e,r){if(!r)return e;const i=e.start(0),n=e.end(0),a=r.start(0),s=r.end(0);return a>n||i>s?e:pn([[Math.max(i,a),Math.min(n,s)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let r;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!r))return;const i=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,r),!this.seekable_||i&&i.length&&this.seekable_.length&&i.start(0)===this.seekable_.start(0)&&i.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${Sae(this.seekable_)}]`);const n={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:n}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const n=this.seekable();if(!n.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<n.end(n.length-1))&&this.sourceUpdater_.setDuration(n.end(n.length-1));return}const r=this.tech_.buffered();let i=ec.Playlist.duration(this.mainPlaylistLoader_.media());r.length>0&&(i=Math.max(i,r.end(r.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const r=this.mediaTypes_[e].groups;for(const i in r)r[i].forEach(n=>{n.playlistLoader&&n.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!r||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=r2(this.main(),r),n={},a=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||MGe),e.main.isMuxed&&(n.video+=`,${i.audio||e.main.audioCodec||_V}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||a)&&(n.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||_V,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video){this.excludePlaylist({playlistToExclude:r,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const s=(l,c)=>l?K1(c,this.usingManagedMediaSource_):KT(c),o={};let u;if(["video","audio"].forEach(function(l){if(n.hasOwnProperty(l)&&!s(e[l].isFmp4,n[l])){const c=e[l].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(n[l]),l==="audio"&&(u=c)}}),a&&u&&r.attributes.AUDIO){const l=r.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===l&&c!==r&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${l} as ${u} does not support codec(s): "${n.audio}"`)}if(Object.keys(o).length){const l=Object.keys(o).reduce((c,h)=>(c&&(c+=", "),c+=`${h} does not support codec(s): "${o[h].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:r,error:{internal:!0,message:l},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const l=[];if(["video","audio"].forEach(c=>{const h=(Vo(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,f=(Vo(n[c]||"")[0]||{}).type;h&&f&&h.toLowerCase()!==f.toLowerCase()&&l.push(`"${this.sourceUpdater_.codecs[c]}" -> "${n[c]}"`)}),l.length){this.excludePlaylist({playlistToExclude:r,error:{message:`Codec switching not supported: ${l.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return n}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const r=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}excludeUnsupportedVariants_(){const e=this.main().playlists,r=[];Object.keys(e).forEach(i=>{const n=e[i];if(r.indexOf(n.id)!==-1)return;r.push(n.id);const a=r2(this.main,n),s=[];a.audio&&!KT(a.audio)&&!K1(a.audio,this.usingManagedMediaSource_)&&s.push(`audio codec ${a.audio}`),a.video&&!KT(a.video)&&!K1(a.video,this.usingManagedMediaSource_)&&s.push(`video codec ${a.video}`),a.text&&a.text==="stpp.ttml.im1t"&&s.push(`text codec ${a.text}`),s.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id} for unsupported: ${s.join(", ")}`))})}excludeIncompatibleVariants_(e){const r=[],i=this.main().playlists,n=fm(Vo(e)),a=f$(n),s=n.video&&Vo(n.video)[0]||null,o=n.audio&&Vo(n.audio)[0]||null;Object.keys(i).forEach(u=>{const l=i[u];if(r.indexOf(l.id)!==-1||l.excludeUntil===1/0)return;r.push(l.id);const c=[],h=r2(this.mainPlaylistLoader_.main,l),f=f$(h);if(!(!h.audio&&!h.video)){if(f!==a&&c.push(`codec count "${f}" !== "${a}"`),!this.sourceUpdater_.canChangeType()){const d=h.video&&Vo(h.video)[0]||null,p=h.audio&&Vo(h.audio)[0]||null;d&&s&&d.type.toLowerCase()!==s.type.toLowerCase()&&c.push(`video codec "${d.type}" !== "${s.type}"`),p&&o&&p.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${p.type}" !== "${o.type}"`)}c.length&&(l.excludeUntil=1/0,this.logger_(`excluding ${l.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let r=0;const i=this.seekable();i.length&&(r=i.start(0)),bWe(e,this.cueTagsTrack_,r)}goalBufferLength(){const e=this.tech_.currentTime(),r=ln.GOAL_BUFFER_LENGTH,i=ln.GOAL_BUFFER_LENGTH_RATE,n=Math.max(r,ln.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+e*i,n)}bufferLowWaterLine(){const e=this.tech_.currentTime(),r=ln.BUFFER_LOW_WATER_LINE,i=ln.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(r,ln.MAX_BUFFER_LOW_WATER_LINE),a=Math.max(r,ln.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+e*i,this.bufferBasedABR?a:n)}bufferHighWaterLine(){return ln.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){x$(this.inbandTextTracks_,"com.apple.streaming",this.tech_),eWe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,r,i){const n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();x$(this.inbandTextTracks_,e,this.tech_),K$e({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:n,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const r of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(r));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(r=>{this.contentSteeringController_.on(r,i=>{this.trigger(fe({},i))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const r=this.main();(this.contentSteeringController_.didDASHTagChange(r.uri,r.contentSteering)||(()=>{const a=this.contentSteeringController_.getAvailablePathways(),s=[];for(const o of r.playlists){const u=o.attributes.serviceLocation;if(u&&(s.push(u),!a.has(u)))return!0}return!!(!s.length&&a.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const i=this.main().playlists,n=new Set;let a=!1;Object.keys(i).forEach(s=>{const o=i[s],u=this.pathwayAttribute_(o),l=u&&e!==u;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!l&&(delete o.excludeUntil,delete o.lastExcludeReason_,a=!0);const h=!o.excludeUntil&&o.excludeUntil!==1/0;!n.has(o.id)&&l&&h&&(n.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const o=this.mediaTypes_[s];if(o.activePlaylistLoader){const u=o.activePlaylistLoader.media_;u&&u.attributes.serviceLocation!==e&&(a=!0)}}),a&&this.changeSegmentPathway_()}handlePathwayClones_(){const r=this.main().playlists,i=this.contentSteeringController_.currentPathwayClones,n=this.contentSteeringController_.nextPathwayClones;if(i&&i.size||n&&n.size){for(const[s,o]of i.entries())n.get(s)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(s));for(const[s,o]of n.entries()){const u=i.get(s);if(!u){r.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(s);continue}this.equalPathwayClones_(u,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(s))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...n])))}}equalPathwayClones_(e,r){if(e["BASE-ID"]!==r["BASE-ID"]||e.ID!==r.ID||e["URI-REPLACEMENT"].HOST!==r["URI-REPLACEMENT"].HOST)return!1;const i=e["URI-REPLACEMENT"].PARAMS,n=r["URI-REPLACEMENT"].PARAMS;for(const a in i)if(i[a]!==n[a])return!1;for(const a in n)if(i[a]!==n[a])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const r="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{const n=this.mainPlaylistLoader_.getKeyIdSet(i);!n||!n.size||n.forEach(a=>{const s="usable",o=this.keyStatusMap_.has(a)&&this.keyStatusMap_.get(a)===s,u=i.lastExcludeReason_===r&&i.excludeUntil===1/0;o?o&&u&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_(`enabling playlist ${i.id} because key ID ${a} is ${s}`)):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==r&&(i.excludeUntil=1/0,i.lastExcludeReason_=r,this.logger_(`excluding playlist ${i.id} because the key ID ${a} doesn't exist in the keyStatusMap or is not ${s}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(i=>{const n=i&&i.attributes&&i.attributes.RESOLUTION&&i.attributes.RESOLUTION.height<720,a=i.excludeUntil===1/0&&i.lastExcludeReason_===r;n&&a&&(delete i.excludeUntil,ye.log.warn(`enabling non-HD playlist ${i.id} because all playlists were excluded due to ${r} key IDs`))})}addKeyStatus_(e,r){const a=(typeof e=="string"?e:mWe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${r}' with key ID ${a} added to the keyStatusMap`),this.keyStatusMap_.set(a,r)}updatePlaylistByKeyStatus(e,r){this.addKeyStatus_(e,r),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const $We=(t,e,r)=>i=>{const n=t.main.playlists[e],a=sB(n),s=BC(n);if(typeof i>"u")return s;i?delete n.disabled:n.disabled=!0;const o={renditionInfo:{id:e,bandwidth:n.attributes.BANDWIDTH,resolution:n.attributes.RESOLUTION,codecs:n.attributes.CODECS},cause:"fast-quality"};return i!==s&&!a&&(i?(r(n),t.trigger({type:"renditionenabled",metadata:o})):t.trigger({type:"renditiondisabled",metadata:o})),i};class WWe{constructor(e,r,i){const{playlistController_:n}=e,a=n.fastQualityChange_.bind(n);if(r.attributes){const s=r.attributes.RESOLUTION;this.width=s&&s.width,this.height=s&&s.height,this.bandwidth=r.attributes.BANDWIDTH,this.frameRate=r.attributes["FRAME-RATE"]}this.codecs=r2(n.main(),r),this.playlist=r,this.id=i,this.enabled=$We(e.playlists,r.id,a)}}const YWe=function(t){t.representations=()=>{const e=t.playlistController_.main(),r=ty(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return r?r.filter(i=>!sB(i)).map((i,n)=>new WWe(t,i,i.id)):[]}},B$=["seeking","seeked","pause","playing","error"];class qWe extends ye.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=$s("PlaybackWatcher"),this.logger_("initialize");const r=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),a=()=>this.resetTimeUpdate_(),s=this.playlistController_,o=["main","subtitle","audio"],u={};o.forEach(c=>{u[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},s[`${c}SegmentLoader_`].on("appendsdone",u[c].updateend),s[`${c}SegmentLoader_`].on("playlistupdate",u[c].reset),this.tech_.on(["seeked","seeking"],u[c].reset)});const l=c=>{["main","audio"].forEach(h=>{s[`${h}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(B$,a),this.tech_.on("canplay",i),this.tech_.one("play",r),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(B$,a),this.tech_.off("canplay",i),this.tech_.off("play",r),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{s[`${c}SegmentLoader_`].off("appendsdone",u[c].updateend),s[`${c}SegmentLoader_`].off("playlistupdate",u[c].reset),this.tech_.off(["seeked","seeking"],u[c].reset)}),this.checkCurrentTimeTimeout_&&ne.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&ne.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=ne.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const r=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=r.buffered_()}checkSegmentDownloads_(e){const r=this.playlistController_,i=r[`${e}SegmentLoader_`],n=i.buffered_(),a=PVe(this[`${e}Buffered_`],n);if(this[`${e}Buffered_`]=n,a){const s={bufferedRanges:n};r.trigger({type:"bufferedrangeschanged",metadata:s}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Ch(n)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&r.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),r=this.tech_.buffered();if(this.lastRecordedTime===e&&(!r.length||e+iu>=r.end(r.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(pn([this.lastRecordedTime,e]));const i={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:i}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const r=this.seekable(),i=this.tech_.currentTime(),n=this.afterSeekableWindow_(r,i,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let a;if(n&&(a=r.end(r.length-1)),this.beforeSeekableWindow_(r,i)){const p=r.start(0);a=p+(p===r.end(0)?0:iu)}if(typeof a<"u")return this.logger_(`Trying to seek outside of seekable at time ${i} with seekable range ${Sae(r)}. Seeking to ${a}.`),this.tech_.setCurrentTime(a),!0;const s=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),u=s.audioBuffer?s.audioBuffered():null,l=s.videoBuffer?s.videoBuffered():null,c=this.media(),h=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-ru)*2,f=[u,l];for(let p=0;p<f.length;p++){if(!f[p])continue;if(nB(f[p],i)<h)return!1}const d=px(o,i);return d.length===0?!1:(a=d.start(0)+iu,this.logger_(`Buffered region starts (${d.start(0)})  just beyond seek point (${i}). Seeking to ${a}.`),this.tech_.setCurrentTime(a),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),r=this.tech_.buffered(),i=Nd(r,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),r=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,r)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${r}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:r}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=px(n,r);return s.length>0?(this.logger_(`Stopped at ${r} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(r),!0):!1}afterSeekableWindow_(e,r,i,n=!1){if(!e.length)return!1;let a=e.end(e.length-1)+iu;const s=!i.endList,o=typeof i.partTargetDuration=="number";return s&&(o||n)&&(a=e.end(e.length-1)+i.targetDuration*3),r>a}beforeSeekableWindow_(e,r){return!!(e.length&&e.start(0)>0&&r<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:r,currentTime:i}){if(!e)return;let n;if(e.length&&r.length){const a=Nd(e,i-3),s=Nd(e,i),o=Nd(r,i);o.length&&!s.length&&a.length&&(n={start:a.end(0),end:o.end(0)})}else px(e,i).length||(n=this.gapFromVideoUnderflow_(e,i));return n?(this.logger_(`Encountered a gap in video from ${n.start} to ${n.end}. Seeking to current time ${i}`),!0):!1}skipTheGap_(e){const r=this.tech_.buffered(),i=this.tech_.currentTime(),n=px(r,i);if(this.resetTimeUpdate_(),n.length===0||i!==e)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+ru);const a={gapInfo:{from:i,to:n.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:a}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,r){const i=IVe(e);for(let n=0;n<i.length;n++){const a=i.start(n),s=i.end(n);if(r-a<4&&r-a>2)return{start:a,end:s}}return null}}const XWe={errorInterval:30,getSource(t){const r=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(r)}},gse=function(t,e){let r=0,i=0;const n=Ar(XWe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const a=function(){i&&t.currentTime(i)},s=function(c){c!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",a),t.src(c),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-r<n.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!n.getSource||typeof n.getSource!="function"){ye.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),n.getSource.call(t,s)},u=function(){t.off("loadedmetadata",a),t.off("error",o),t.off("dispose",u)},l=function(c){u(),gse(t,c)};t.on("error",o),t.on("dispose",u),t.reloadSourceOnError=l},ZWe=function(t){gse(this,t)};var vse="3.17.0",KWe="7.1.0",JWe="1.3.1",QWe="7.2.0",eYe="4.0.2";const si={PlaylistLoader:kd,Playlist:La,utils:a$e,STANDARD_PLAYLIST_SELECTOR:_$,INITIAL_PLAYLIST_SELECTOR:W$e,lastBandwidthSelector:_$,movingAverageBandwidthSelector:V$e,comparePlaylistBandwidth:lB,comparePlaylistResolution:j$e,xhr:jae()};Object.keys(ln).forEach(t=>{Object.defineProperty(si,t,{get(){return ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),ln[t]},set(e){if(ye.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ye.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}ln[t]=e}})});const mse="videojs-vhs",yse=function(t,e){const r=e.media();let i=-1;for(let n=0;n<t.length;n++)if(t[n].id===r.id){i=n;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},tYe=function(t,e){e.representations().forEach(r=>{t.addQualityLevel(r)}),yse(t,e.playlists)};si.canPlaySource=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const rYe=(t,e,r)=>{if(!t)return t;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=fm(Vo(e.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(i.audio=r.attributes.CODECS);const n=Up(i.video),a=Up(i.audio),s={};for(const o in t)s[o]={},a&&(s[o].audioContentType=a),n&&(s[o].videoContentType=n),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(s[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(s[o].url=t[o]);return Ar(t,s)},iYe=(t,e)=>t.reduce((r,i)=>{if(!i.contentProtection)return r;const n=e.reduce((a,s)=>{const o=i.contentProtection[s];return o&&o.pssh&&(a[s]={pssh:o.pssh}),a},{});return Object.keys(n).length&&r.push(n),r},[]),nYe=({player:t,sourceKeySystems:e,audioMedia:r,mainPlaylists:i})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const n=r?i.concat([r]):i,a=iYe(n,Object.keys(e)),s=[],o=[];return a.forEach(u=>{o.push(new Promise((l,c)=>{t.tech_.one("keysessioncreated",l)})),s.push(new Promise((l,c)=>{t.eme.initializeMediaKeys({keySystems:u},h=>{if(h){c(h);return}l()})}))}),Promise.race([Promise.all(s),Promise.race(o)])},aYe=({player:t,sourceKeySystems:e,media:r,audioMedia:i})=>{const n=rYe(e,r,i);return n?(t.currentSource().keySystems=n,n&&!t.eme?(ye.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},_se=()=>{if(!ne.localStorage)return null;const t=ne.localStorage.getItem(mse);if(!t)return null;try{return JSON.parse(t)}catch{return null}},sYe=t=>{if(!ne.localStorage)return!1;let e=_se();e=e?Ar(e,t):t;try{ne.localStorage.setItem(mse,JSON.stringify(e))}catch{return!1}return e},oYe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,xse=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},bse=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},Cse=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},Ese=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};si.supportsNativeHls=function(){if(!Ye||!Ye.createElement)return!1;const t=Ye.createElement("video");return ye.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(r){return/maybe|probably/i.test(t.canPlayType(r))}):!1}();si.supportsNativeDash=function(){return!Ye||!Ye.createElement||!ye.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Ye.createElement("video").canPlayType("application/dash+xml"))}();si.supportsTypeNatively=t=>t==="hls"?si.supportsNativeHls:t==="dash"?si.supportsNativeDash:!1;si.isSupported=function(){return ye.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};si.xhr.onRequest=function(t){xse(si.xhr,t)};si.xhr.onResponse=function(t){bse(si.xhr,t)};si.xhr.offRequest=function(t){Cse(si.xhr,t)};si.xhr.offResponse=function(t){Ese(si.xhr,t)};const uYe=ye.getComponent("Component");class Sse extends uYe{constructor(e,r,i){if(super(r,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=$s("VhsHandler"),r.options_&&r.options_.playerId){const n=ye.getPlayer(r.options_.playerId);this.player_=n}if(this.tech_=r,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&r.overrideNativeAudioTracks&&r.overrideNativeVideoTracks)r.overrideNativeAudioTracks(!0),r.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(r.featuresNativeVideoTracks||r.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Ye,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],n=>{const a=Ye.fullscreenElement||Ye.webkitFullscreenElement||Ye.mozFullScreenElement||Ye.msFullscreenElement;a&&a.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Ar(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.usePlayerObjectFit=this.options_.usePlayerObjectFit||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=typeof this.options_.useNetworkInformationApi<"u"?this.options_.useNetworkInformationApi:!0,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const i=_se();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=ln.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ln.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","usePlayerObjectFit","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(i=>{typeof this.source_[i]<"u"&&(this.options_[i]=this.source_[i])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio,this.usePlayerObjectFit=this.options_.usePlayerObjectFit;const r=this.options_.customPixelRatio;typeof r=="number"&&r>=0&&(this.customPixelRatio=r)}setOptions(e={}){this.setOptions_(e)}src(e,r){if(!e)return;this.setOptions_(),this.options_.src=oYe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=si,this.options_.sourceType=$ie(r),this.options_.seekTo=a=>{this.tech_.setCurrentTime(a)},this.options_.player_=this.player_,this.playlistController_=new VWe(this.options_);const i=Ar({liveRangeSafeTimeDelta:iu},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new qWe(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const a=ye.players[this.tech_.options_.playerId];let s=this.playlistController_.error;typeof s=="object"&&!s.code?s.code=3:typeof s=="string"&&(s={message:s,code:3}),a.error(s)});const n=this.options_.bufferBasedABR?si.movingAverageBandwidthSelector(.55):si.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):n.bind(this),this.playlistController_.selectInitialPlaylist=si.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(a){this.playlistController_.selectPlaylist=a.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(a){this.playlistController_.mainSegmentLoader_.throughput.rate=a,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let a=this.playlistController_.mainSegmentLoader_.bandwidth;const s=ne.navigator.connection||ne.navigator.mozConnection||ne.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&s){const u=s.downlink*1e3*1e3;u>=o&&a>=o?a=Math.max(a,u):a=u}return a},set(a){this.playlistController_.mainSegmentLoader_.bandwidth=a,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const a=1/(this.bandwidth||1);let s;return this.throughput>0?s=1/this.throughput:s=0,Math.floor(1/(a+s))},set(){ye.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ch(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ch(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&sYe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{YWe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=ne.URL.createObjectURL(this.playlistController_.mediaSource),(ye.browser.IS_ANY_SAFARI||ye.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),nYe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(r=>{this.logger_("error while creating EME key session",r),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,r=aYe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{this.playlistController_.updatePlaylistByKeyStatus(i.keyId,i.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!r){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ye.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{tYe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{yse(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":vse,"mux.js":KWe,"mpd-parser":JWe,"m3u8-parser":QWe,"aes-decrypter":eYe}}version(){return this.constructor.version()}canChangeType(){return hse.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&ne.URL.revokeObjectURL&&(ne.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,r){return f$e({playlist:this.playlistController_.media(),time:e,callback:r})}seekToProgramTime(e,r,i=!0,n=2){return qae({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})}setupXhrHooks_(){this.xhr.onRequest=e=>{xse(this.xhr,e)},this.xhr.onResponse=e=>{bse(this.xhr,e)},this.xhr.offRequest=e=>{Cse(this.xhr,e)},this.xhr.offResponse=e=>{Ese(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],r=["gapjumped","playedrangeschanged"];e.forEach(i=>{this.playlistController_.on(i,n=>{this.player_.trigger(fe({},n))})}),r.forEach(i=>{this.playbackWatcher_.on(i,n=>{this.player_.trigger(fe({},n))})})}}const U4={name:"videojs-http-streaming",VERSION:vse,canHandleSource(t,e={}){const r=Ar(ye.options,e);return!r.vhs.experimentalUseMMS&&!K1("avc1.4d400d,mp4a.40.2",!1)?!1:U4.canPlayType(t.type,r)},handleSource(t,e,r={}){const i=Ar(ye.options,r);return e.vhs=new Sse(t,e,i),e.vhs.xhr=jae(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const r=$ie(t);if(!r)return"";const i=U4.getOverrideNative(e);return!si.supportsTypeNatively(r)||i?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,r=!(ye.browser.IS_ANY_SAFARI||ye.browser.IS_IOS),{overrideNative:i=r}=e;return i}},lYe=()=>K1("avc1.4d400d,mp4a.40.2",!0);lYe()&&ye.getTech("Html5").registerSourceHandler(U4,0);ye.VhsHandler=Sse;ye.VhsSourceHandler=U4;ye.Vhs=si;ye.use||ye.registerComponent("Vhs",si);ye.options.vhs=ye.options.vhs||{};(!ye.getPlugin||!ye.getPlugin("reloadSourceOnError"))&&ye.registerPlugin("reloadSourceOnError",ZWe);const Ln=class{static isLeapYear(t){return t<1600?t%4===0:t%4===0&&t%100!==0||t%400===0}static getDaysOfMonth(t,e){if(t===1582&&e===10)return 21;const r=e-1;let i=Ln.DAYS_OF_MONTH[r];return r===1&&Ln.isLeapYear(t)&&i++,i}static getDaysOfYear(t){return t===1582?355:Ln.isLeapYear(t)?366:365}static getDaysInYear(t,e,r){let i=0;for(let a=1;a<e;a++)i+=Ln.getDaysOfMonth(t,a);let n=r;if(t===1582&&e===10&&r>=15){if(r>=15)n-=10;else if(r>4)throw new Error(`wrong solar year ${t} month ${e} day ${r}`)}return i+=n,i}static getWeeksOfMonth(t,e,r){return Math.ceil((Ln.getDaysOfMonth(t,e)+vr.fromYmd(t,e,1).getWeek()-r)/7)}static getDaysBetween(t,e,r,i,n,a){let s,o,u;if(t==i)s=Ln.getDaysInYear(i,n,a)-Ln.getDaysInYear(t,e,r);else if(t>i){for(o=Ln.getDaysOfYear(i)-Ln.getDaysInYear(i,n,a),u=i+1;u<t;u++)o+=Ln.getDaysOfYear(u);o+=Ln.getDaysInYear(t,e,r),s=-o}else{for(o=Ln.getDaysOfYear(t)-Ln.getDaysInYear(t,e,r),u=t+1;u<i;u++)o+=Ln.getDaysOfYear(u);o+=Ln.getDaysInYear(i,n,a),s=o}return s}};let Gr=Ln;Gr.WEEK=["{w.sun}","{w.mon}","{w.tues}","{w.wed}","{w.thur}","{w.fri}","{w.sat}"];Gr.DAYS_OF_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];Gr.XINGZUO=["{xz.aries}","{xz.taurus}","{xz.gemini}","{xz.cancer}","{xz.leo}","{xz.virgo}","{xz.libra}","{xz.scorpio}","{xz.sagittarius}","{xz.capricornus}","{xz.aquarius}","{xz.pisces}"];Gr.FESTIVAL={"1-1":"{jr.yuanDan}","2-14":"{jr.qingRen}","3-8":"{jr.fuNv}","3-12":"{jr.zhiShu}","3-15":"{jr.xiaoFei}","4-1":"{jr.yuRen}","5-1":"{jr.wuYi}","5-4":"{jr.qingNian}","6-1":"{jr.erTong}","7-1":"{jr.jianDang}","8-1":"{jr.jianJun}","9-10":"{jr.jiaoShi}","10-1":"{jr.guoQing}","10-31":"{jr.wanShengYe}","11-1":"{jr.wanSheng}","12-24":"{jr.pingAn}","12-25":"{jr.shengDan}"};Gr.OTHER_FESTIVAL={"1-8":["周恩来逝世纪念日"],"1-10":["中国人民警察节"],"1-14":["日记情人节"],"1-21":["列宁逝世纪念日"],"1-26":["国际海关日"],"1-27":["国际大屠杀纪念日"],"2-2":["世界湿地日"],"2-4":["世界抗癌日"],"2-7":["京汉铁路罢工纪念日"],"2-10":["国际气象节"],"2-19":["邓小平逝世纪念日"],"2-20":["世界社会公正日"],"2-21":["国际母语日"],"2-24":["第三世界青年日"],"3-1":["国际海豹日"],"3-3":["世界野生动植物日","全国爱耳日"],"3-5":["周恩来诞辰纪念日","中国青年志愿者服务日"],"3-6":["世界青光眼日"],"3-7":["女生节"],"3-12":["孙中山逝世纪念日"],"3-14":["马克思逝世纪念日","白色情人节"],"3-17":["国际航海日"],"3-18":["全国科技人才活动日","全国爱肝日"],"3-20":["国际幸福日"],"3-21":["世界森林日","世界睡眠日","国际消除种族歧视日"],"3-22":["世界水日"],"3-23":["世界气象日"],"3-24":["世界防治结核病日"],"3-29":["中国黄花岗七十二烈士殉难纪念日"],"4-2":["国际儿童图书日","世界自闭症日"],"4-4":["国际地雷行动日"],"4-7":["世界卫生日"],"4-8":["国际珍稀动物保护日"],"4-12":["世界航天日"],"4-14":["黑色情人节"],"4-15":["全民国家安全教育日"],"4-22":["世界地球日","列宁诞辰纪念日"],"4-23":["世界读书日"],"4-24":["中国航天日"],"4-25":["儿童预防接种宣传日"],"4-26":["世界知识产权日","全国疟疾日"],"4-28":["世界安全生产与健康日"],"4-30":["全国交通安全反思日"],"5-2":["世界金枪鱼日"],"5-3":["世界新闻自由日"],"5-5":["马克思诞辰纪念日"],"5-8":["世界红十字日"],"5-11":["世界肥胖日"],"5-12":["全国防灾减灾日","护士节"],"5-14":["玫瑰情人节"],"5-15":["国际家庭日"],"5-19":["中国旅游日"],"5-20":["网络情人节"],"5-22":["国际生物多样性日"],"5-25":["525心理健康节"],"5-27":["上海解放日"],"5-29":["国际维和人员日"],"5-30":["中国五卅运动纪念日"],"5-31":["世界无烟日"],"6-3":["世界自行车日"],"6-5":["世界环境日"],"6-6":["全国爱眼日"],"6-8":["世界海洋日"],"6-11":["中国人口日"],"6-14":["世界献血日","亲亲情人节"],"6-17":["世界防治荒漠化与干旱日"],"6-20":["世界难民日"],"6-21":["国际瑜伽日"],"6-25":["全国土地日"],"6-26":["国际禁毒日","联合国宪章日"],"7-1":["香港回归纪念日"],"7-6":["国际接吻日","朱德逝世纪念日"],"7-7":["七七事变纪念日"],"7-11":["世界人口日","中国航海日"],"7-14":["银色情人节"],"7-18":["曼德拉国际日"],"7-30":["国际友谊日"],"8-3":["男人节"],"8-5":["恩格斯逝世纪念日"],"8-6":["国际电影节"],"8-8":["全民健身日"],"8-9":["国际土著人日"],"8-12":["国际青年节"],"8-14":["绿色情人节"],"8-19":["世界人道主义日","中国医师节"],"8-22":["邓小平诞辰纪念日"],"8-29":["全国测绘法宣传日"],"9-3":["中国抗日战争胜利纪念日"],"9-5":["中华慈善日"],"9-8":["世界扫盲日"],"9-9":["毛泽东逝世纪念日","全国拒绝酒驾日"],"9-14":["世界清洁地球日","相片情人节"],"9-15":["国际民主日"],"9-16":["国际臭氧层保护日"],"9-17":["世界骑行日"],"9-18":["九一八事变纪念日"],"9-20":["全国爱牙日"],"9-21":["国际和平日"],"9-27":["世界旅游日"],"9-30":["中国烈士纪念日"],"10-1":["国际老年人日"],"10-2":["国际非暴力日"],"10-4":["世界动物日"],"10-11":["国际女童日"],"10-10":["辛亥革命纪念日"],"10-13":["国际减轻自然灾害日","中国少年先锋队诞辰日"],"10-14":["葡萄酒情人节"],"10-16":["世界粮食日"],"10-17":["全国扶贫日"],"10-20":["世界统计日"],"10-24":["世界发展信息日","程序员节"],"10-25":["抗美援朝纪念日"],"11-5":["世界海啸日"],"11-8":["记者节"],"11-9":["全国消防日"],"11-11":["光棍节"],"11-12":["孙中山诞辰纪念日"],"11-14":["电影情人节"],"11-16":["国际宽容日"],"11-17":["国际大学生节"],"11-19":["世界厕所日"],"11-28":["恩格斯诞辰纪念日"],"11-29":["国际声援巴勒斯坦人民日"],"12-1":["世界艾滋病日"],"12-2":["全国交通安全日"],"12-3":["世界残疾人日"],"12-4":["全国法制宣传日"],"12-5":["世界弱能人士日","国际志愿人员日"],"12-7":["国际民航日"],"12-9":["世界足球日","国际反腐败日"],"12-10":["世界人权日"],"12-11":["国际山岳日"],"12-12":["西安事变纪念日"],"12-13":["国家公祭日"],"12-14":["拥抱情人节"],"12-18":["国际移徙者日"],"12-26":["毛泽东诞辰纪念日"]};Gr.WEEK_FESTIVAL={"3-0-1":"全国中小学生安全教育日","5-2-0":"母亲节","5-3-0":"全国助残日","6-3-0":"父亲节","9-3-6":"全民国防教育日","10-1-1":"世界住房日","11-4-4":"感恩节"};class Xa{static fromYmd(e,r,i,n){return new Xa(e,r,i,n)}static fromDate(e,r){return Xa.fromYmd(e.getFullYear(),e.getMonth()+1,e.getDate(),r)}constructor(e,r,i,n){this._year=e,this._month=r,this._day=i,this._start=n}getYear(){return this._year}getMonth(){return this._month}getDay(){return this._day}getStart(){return this._start}getIndex(){let e=vr.fromYmd(this._year,this._month,1).getWeek()-this._start;return e<0&&(e+=7),Math.ceil((this._day+e)/7)}getIndexInYear(){let e=vr.fromYmd(this._year,1,1).getWeek()-this._start;return e<0&&(e+=7),Math.ceil((Gr.getDaysInYear(this._year,this._month,this._day)+e)/7)}next(e,r){const i=this._start;if(e===0)return Xa.fromYmd(this._year,this._month,this._day,i);let n=vr.fromYmd(this._year,this._month,this._day);if(r){let a=e,s=Xa.fromYmd(this._year,this._month,this._day,i),o=this._month;const u=a>0;for(;a!==0;){n=n.next(u?7:-7),s=Xa.fromYmd(n.getYear(),n.getMonth(),n.getDay(),i);let l=s.getMonth();if(o!==l){const c=s.getIndex();if(u)if(c===1){const h=s.getFirstDay();s=Xa.fromYmd(h.getYear(),h.getMonth(),h.getDay(),i),l=s.getMonth()}else n=vr.fromYmd(s.getYear(),s.getMonth(),1),s=Xa.fromYmd(n.getYear(),n.getMonth(),n.getDay(),i);else if(Gr.getWeeksOfMonth(s.getYear(),s.getMonth(),i)===c){const h=s.getFirstDay().next(6);s=Xa.fromYmd(h.getYear(),h.getMonth(),h.getDay(),i),l=s.getMonth()}else n=vr.fromYmd(s.getYear(),s.getMonth(),Gr.getDaysOfMonth(s.getYear(),s.getMonth())),s=Xa.fromYmd(n.getYear(),n.getMonth(),n.getDay(),i);o=l}a-=u?1:-1}return s}else return n=n.next(e*7),Xa.fromYmd(n.getYear(),n.getMonth(),n.getDay(),i)}getFirstDay(){const e=vr.fromYmd(this._year,this._month,this._day);let r=e.getWeek()-this._start;return r<0&&(r+=7),e.next(-r)}getFirstDayInMonth(){let e=0;const r=this.getDays();for(let i=0;i<r.length;i++)if(this._month===r[i].getMonth()){e=i;break}return r[e]}getDays(){const e=this.getFirstDay(),r=[];r.push(e);for(let i=1;i<7;i++)r.push(e.next(i));return r}getDaysInMonth(){const e=this.getDays(),r=[];for(let i=0;i<e.length;i++){const n=e[i];this._month===n.getMonth()&&r.push(n)}return r}toString(){return`${this.getYear()}.${this.getMonth()}.${this.getIndex()}`}toFullString(){return`${this.getYear()}年${this.getMonth()}月第${this.getIndex()}周`}}const _t=class{static getTimeZhiIndex(t){if(!t)return 0;t.length>5&&(t=t.substring(0,5));let e=1;for(let r=1;r<22;r+=2){if(t>=(r<10?"0":"")+r+":00"&&t<=(r+1<10?"0":"")+(r+1)+":59")return e;e++}return 0}static convertTime(t){return _t.ZHI[_t.getTimeZhiIndex(t)+1]}static getJiaZiIndex(t){return _t.index(t,_t.JIA_ZI,0)}static hex(t){let e=t.toString(16);return e.length<2&&(e="0"+e),e.toUpperCase()}static getDayYi(t,e){const r=[],i=_t.hex(_t.getJiaZiIndex(e)),n=_t.hex(_t.getJiaZiIndex(t));let a=_t.DAY_YI_JI,s=a.indexOf(i+"=");for(;s>-1;){a=a.substring(s+3);let o=a;o.indexOf("=")>-1&&(o=o.substring(0,o.indexOf("=")-2));let u=!1;const l=o.substring(0,o.indexOf(":"));let c,h;for(c=0,h=l.length;c<h;c+=2)if(l.substring(c,c+2)==n){u=!0;break}if(u){let f=o.substring(o.indexOf(":")+1);for(f=f.substring(0,f.indexOf(",")),c=0,h=f.length;c<h;c+=2)r.push(_t.YI_JI[parseInt(f.substring(c,c+2),16)]);break}s=a.indexOf(i+"=")}return r.length<1&&r.push(_t.SHEN_SHA[0]),r}static getDayJi(t,e){const r=[],i=_t.hex(_t.getJiaZiIndex(e)),n=_t.hex(_t.getJiaZiIndex(t));let a=_t.DAY_YI_JI,s=a.indexOf(i+"=");for(;s>-1;){a=a.substring(s+3);let o=a;o.indexOf("=")>-1&&(o=o.substring(0,o.indexOf("=")-2));let u=!1;const l=o.substring(0,o.indexOf(":"));let c,h;for(c=0,h=l.length;c<h;c+=2)if(l.substring(c,c+2)==n){u=!0;break}if(u){let f=o.substring(o.indexOf(",")+1);for(c=0,h=f.length;c<h;c+=2)r.push(_t.YI_JI[parseInt(f.substring(c,c+2),16)]);break}s=a.indexOf(i+"=")}return r.length<1&&r.push(_t.SHEN_SHA[0]),r}static getDayJiShen(t,e){const r=[],i=_t.hex(_t.getJiaZiIndex(e)),n=Math.abs(t).toString(16).toUpperCase(),a=_t.DAY_SHEN_SHA.indexOf(n+i+"=");if(a>-1){let s=_t.DAY_SHEN_SHA.substring(a+4);s.indexOf("=")>-1&&(s=s.substring(0,s.indexOf("=")-3));let o=s.substring(0,s.indexOf(","));for(let u=0,l=o.length;u<l;u+=2)r.push(_t.SHEN_SHA[parseInt(o.substring(u,u+2),16)])}return r.length<1&&r.push(_t.SHEN_SHA[0]),r}static getDayXiongSha(t,e){const r=[],i=_t.hex(_t.getJiaZiIndex(e)),n=Math.abs(t).toString(16).toUpperCase(),a=_t.DAY_SHEN_SHA.indexOf(n+i+"=");if(a>-1){let s=_t.DAY_SHEN_SHA.substring(a+4);s.indexOf("=")>-1&&(s=s.substring(0,s.indexOf("=")-3));const o=s.substring(s.indexOf(",")+1);for(let u=0,l=o.length;u<l;u+=2)r.push(_t.SHEN_SHA[parseInt(o.substring(u,u+2),16)])}return r.length<1&&r.push(_t.SHEN_SHA[0]),r}static getTimeYi(t,e){const r=[],i=_t.hex(_t.getJiaZiIndex(t)),n=_t.hex(_t.getJiaZiIndex(e)),a=_t.TIME_YI_JI.indexOf(i+n+"=");if(a>-1){let s=_t.TIME_YI_JI.substring(a+5);s.indexOf("=")>-1&&(s=s.substring(0,s.indexOf("=")-4));let o=s.substring(0,s.indexOf(","));for(let u=0,l=o.length;u<l;u+=2)r.push(_t.YI_JI[parseInt(o.substring(u,u+2),16)])}return r.length<1&&r.push(_t.SHEN_SHA[0]),r}static getTimeJi(t,e){const r=[],i=_t.hex(_t.getJiaZiIndex(t)),n=_t.hex(_t.getJiaZiIndex(e)),a=_t.TIME_YI_JI.indexOf(i+n+"=");if(a>-1){let s=_t.TIME_YI_JI.substring(a+5);s.indexOf("=")>-1&&(s=s.substring(0,s.indexOf("=")-4));let o=s.substring(s.indexOf(",")+1);for(let u=0,l=o.length;u<l;u+=2)r.push(_t.YI_JI[parseInt(o.substring(u,u+2),16)])}return r.length<1&&r.push(_t.SHEN_SHA[0]),r}static getXunIndex(t){const e=_t.find(t,_t.GAN),r=_t.find(t,_t.ZHI);let i=e.index-r.index;return i<0&&(i+=12),Math.floor(i/2)}static getXun(t){return _t.XUN[_t.getXunIndex(t)]}static getXunKong(t){return _t.XUN_KONG[_t.getXunIndex(t)]}static find(t,e){for(let r=0,i=e.length;r<i;r++){const n=e[r];if(!(n.length<1)&&t.indexOf(n)>-1)return{index:r,value:n}}return null}static index(t,e,r){for(let i=0,n=e.length;i<n;i++)if(e[i]===t)return i+r;return-1}};let $=_t;$.BASE_MONTH_ZHI_INDEX=2;$.XUN=["{jz.jiaZi}","{jz.jiaXu}","{jz.jiaShen}","{jz.jiaWu}","{jz.jiaChen}","{jz.jiaYin}"];$.XUN_KONG=["{dz.xu}{dz.hai}","{dz.shen}{dz.you}","{dz.wu}{dz.wei}","{dz.chen}{dz.si}","{dz.yin}{dz.mao}","{dz.zi}{dz.chou}"];$.CHANG_SHENG=["{ds.changSheng}","{ds.muYu}","{ds.guanDai}","{ds.linGuan}","{ds.diWang}","{ds.shuai}","{ds.bing}","{ds.si}","{ds.mu}","{ds.jue}","{ds.tai}","{ds.yang}"];$.MONTH_ZHI=["","{dz.yin}","{dz.mao}","{dz.chen}","{dz.si}","{dz.wu}","{dz.wei}","{dz.shen}","{dz.you}","{dz.xu}","{dz.hai}","{dz.zi}","{dz.chou}"];$.JIE_QI=["{jq.dongZhi}","{jq.xiaoHan}","{jq.daHan}","{jq.liChun}","{jq.yuShui}","{jq.jingZhe}","{jq.chunFen}","{jq.qingMing}","{jq.guYu}","{jq.liXia}","{jq.xiaoMan}","{jq.mangZhong}","{jq.xiaZhi}","{jq.xiaoShu}","{jq.daShu}","{jq.liQiu}","{jq.chuShu}","{jq.baiLu}","{jq.qiuFen}","{jq.hanLu}","{jq.shuangJiang}","{jq.liDong}","{jq.xiaoXue}","{jq.daXue}"];$.JIE_QI_IN_USE=["DA_XUE","{jq.dongZhi}","{jq.xiaoHan}","{jq.daHan}","{jq.liChun}","{jq.yuShui}","{jq.jingZhe}","{jq.chunFen}","{jq.qingMing}","{jq.guYu}","{jq.liXia}","{jq.xiaoMan}","{jq.mangZhong}","{jq.xiaZhi}","{jq.xiaoShu}","{jq.daShu}","{jq.liQiu}","{jq.chuShu}","{jq.baiLu}","{jq.qiuFen}","{jq.hanLu}","{jq.shuangJiang}","{jq.liDong}","{jq.xiaoXue}","{jq.daXue}","DONG_ZHI","XIAO_HAN","DA_HAN","LI_CHUN","YU_SHUI","JING_ZHE"];$.LIU_YAO=["{ly.xianSheng}","{ly.youYin}","{ly.xianFu}","{ly.foMie}","{ly.daAn}","{ly.chiKou}"];$.HOU=["{h.first}","{h.second}","{h.third}"];$.WU_HOU=["{h.qiuYinJie}","{h.miJiao}","{h.shuiQuan}","{h.yanBei}","{h.queShi}","{h.zhiShi}","{h.jiShi}","{h.zhengNiao}","{h.shuiZe}","{h.dongFeng}","{h.zheChongShiZhen}","{h.yuZhi}","{h.taJi}","{h.houYan}","{h.caoMuMengDong}","{h.taoShi}","{h.cangGeng}","{h.yingHua}","{h.xuanNiaoZhi}","{h.leiNai}","{h.shiDian}","{h.tongShi}","{h.tianShu}","{h.hongShi}","{h.pingShi}","{h.mingJiu}","{h.daiSheng}","{h.louGuo}","{h.qiuYinChu}","{h.wangGua}","{h.kuCai}","{h.miCao}","{h.maiQiu}","{h.tangLang}","{h.juShi}","{h.fanShe}","{h.luJia}","{h.tiaoShi}","{h.banXia}","{h.wenFeng}","{h.xiShuai}","{h.yingShi}","{h.fuCao}","{h.tuRun}","{h.daYu}","{h.liangFeng}","{h.baiLu}","{h.hanChan}","{h.yingNai}","{h.tianDi}","{h.heNai}","{h.hongYanLai}","{h.xuanNiaoGui}","{h.qunNiao}","{h.leiShi}","{h.zheChongPiHu}","{h.shuiShiHe}","{h.hongYanLaiBin}","{h.queRu}","{h.juYou}","{h.caiNai}","{h.caoMuHuangLuo}","{h.zheChongXianFu}","{h.shuiShiBing}","{h.diShi}","{h.zhiRu}","{h.hongCang}","{h.tianQi}","{h.biSe}","{h.heDan}","{h.huShi}","{h.liTing}"];$.GAN=["","{tg.jia}","{tg.yi}","{tg.bing}","{tg.ding}","{tg.wu}","{tg.ji}","{tg.geng}","{tg.xin}","{tg.ren}","{tg.gui}"];$.POSITION_XI=["","{bg.gen}","{bg.qian}","{bg.kun}","{bg.li}","{bg.xun}","{bg.gen}","{bg.qian}","{bg.kun}","{bg.li}","{bg.xun}"];$.POSITION_YANG_GUI=["","{bg.kun}","{bg.kun}","{bg.dui}","{bg.qian}","{bg.gen}","{bg.kan}","{bg.li}","{bg.gen}","{bg.zhen}","{bg.xun}"];$.POSITION_YIN_GUI=["","{bg.gen}","{bg.kan}","{bg.qian}","{bg.dui}","{bg.kun}","{bg.kun}","{bg.gen}","{bg.li}","{bg.xun}","{bg.zhen}"];$.POSITION_FU=["","{bg.xun}","{bg.xun}","{bg.zhen}","{bg.zhen}","{bg.kan}","{bg.li}","{bg.kun}","{bg.kun}","{bg.qian}","{bg.dui}"];$.POSITION_FU_2=["","{bg.kan}","{bg.kun}","{bg.qian}","{bg.xun}","{bg.gen}","{bg.kan}","{bg.kun}","{bg.qian}","{bg.xun}","{bg.gen}"];$.POSITION_CAI=["","{bg.gen}","{bg.gen}","{bg.kun}","{bg.kun}","{bg.kan}","{bg.kan}","{bg.zhen}","{bg.zhen}","{bg.li}","{bg.li}"];$.POSITION_TAI_SUI_YEAR=["{bg.kan}","{bg.gen}","{bg.gen}","{bg.zhen}","{bg.xun}","{bg.xun}","{bg.li}","{bg.kun}","{bg.kun}","{bg.dui}","{bg.kan}","{bg.kan}"];$.POSITION_GAN=["{bg.zhen}","{bg.zhen}","{bg.li}","{bg.li}","{ps.center}","{ps.center}","{bg.dui}","{bg.dui}","{bg.kan}","{bg.kan}"];$.POSITION_ZHI=["{bg.kan}","{ps.center}","{bg.zhen}","{bg.zhen}","{ps.center}","{bg.li}","{bg.li}","{ps.center}","{bg.dui}","{bg.dui}","{ps.center}","{bg.kan}"];$.POSITION_TAI_DAY=["{ts.zhan}{ts.men}{ts.dui} {ps.wai}{ps.dongNan}","{ts.dui}{ts.mo}{ts.ce} {ps.wai}{ps.dongNan}","{ts.chu}{ts.zao}{ts.lu} {ps.wai}{ps.zhengNan}","{ts.cangKu}{ts.men} {ps.wai}{ps.zhengNan}","{ts.fang}{ts.chuang}{ts.xi} {ps.wai}{ps.zhengNan}","{ts.zhan}{ts.men}{ts.chuang} {ps.wai}{ps.zhengNan}","{ts.zhan}{ts.dui}{ts.mo} {ps.wai}{ps.zhengNan}","{ts.chu}{ts.zao}{ts.ce} {ps.wai}{ps.xiNan}","{ts.cangKu}{ts.lu} {ps.wai}{ps.xiNan}","{ts.fang}{ts.chuang}{ts.men} {ps.wai}{ps.xiNan}","{ts.zhan}{ts.men}{ts.xi} {ps.wai}{ps.xiNan}","{ts.dui}{ts.mo}{ts.chuang} {ps.wai}{ps.xiNan}","{ts.chu}{ts.zao}{ts.dui} {ps.wai}{ps.xiNan}","{ts.cangKu}{ts.ce} {ps.wai}{ps.zhengXi}","{ts.fang}{ts.chuang}{ts.lu} {ps.wai}{ps.zhengXi}","{ts.zhan}{ts.daMen} {ps.wai}{ps.zhengXi}","{ts.dui}{ts.mo}{ts.xi} {ps.wai}{ps.zhengXi}","{ts.chu}{ts.zao}{ts.chuang} {ps.wai}{ps.zhengXi}","{ts.cangKu}{ts.dui} {ps.wai}{ps.xiBei}","{ts.fang}{ts.chuang}{ts.ce} {ps.wai}{ps.xiBei}","{ts.zhan}{ts.men}{ts.lu} {ps.wai}{ps.xiBei}","{ts.dui}{ts.mo}{ts.men} {ps.wai}{ps.xiBei}","{ts.chu}{ts.zao}{ts.xi} {ps.wai}{ps.xiBei}","{ts.cangKu}{ts.chuang} {ps.wai}{ps.xiBei}","{ts.fang}{ts.chuang}{ts.dui} {ps.wai}{ps.zhengBei}","{ts.zhan}{ts.men}{ts.ce} {ps.wai}{ps.zhengBei}","{ts.dui}{ts.mo}{ts.lu} {ps.wai}{ps.zhengBei}","{ts.chu}{ts.zao}{ts.men} {ps.wai}{ps.zhengBei}","{ts.cangKu}{ts.xi} {ps.wai}{ps.zhengBei}","{ts.zhan}{ts.fang}{ts.chuang} {ps.fangNei}{ps.bei}","{ts.zhan}{ts.men}{ts.dui} {ps.fangNei}{ps.bei}","{ts.dui}{ts.mo}{ts.ce} {ps.fangNei}{ps.bei}","{ts.chu}{ts.zao}{ts.lu} {ps.fangNei}{ps.bei}","{ts.cangKu}{ts.men} {ps.fangNei}{ps.bei}","{ts.fang}{ts.chuang}{ts.xi} {ps.fangNei}{ps.center}","{ts.zhan}{ts.men}{ts.chuang} {ps.fangNei}{ps.center}","{ts.zhan}{ts.dui}{ts.mo} {ps.fangNei}{ps.nan}","{ts.chu}{ts.zao}{ts.ce} {ps.fangNei}{ps.nan}","{ts.cangKu}{ts.lu} {ps.fangNei}{ps.nan}","{ts.fang}{ts.chuang}{ts.men} {ps.fangNei}{ps.xi}","{ts.zhan}{ts.men}{ts.xi} {ps.fangNei}{ps.dong}","{ts.dui}{ts.mo}{ts.chuang} {ps.fangNei}{ps.dong}","{ts.chu}{ts.zao}{ts.dui} {ps.fangNei}{ps.dong}","{ts.cangKu}{ts.ce} {ps.fangNei}{ps.dong}","{ts.fang}{ts.chuang}{ts.lu} {ps.fangNei}{ps.center}","{ts.zhan}{ts.daMen} {ps.wai}{ps.dongBei}","{ts.dui}{ts.mo}{ts.xi} {ps.wai}{ps.dongBei}","{ts.chu}{ts.zao}{ts.chuang} {ps.wai}{ps.dongBei}","{ts.cangKu}{ts.dui} {ps.wai}{ps.dongBei}","{ts.fang}{ts.chuang}{ts.ce} {ps.wai}{ps.dongBei}","{ts.zhan}{ts.men}{ts.lu} {ps.wai}{ps.dongBei}","{ts.dui}{ts.mo}{ts.men} {ps.wai}{ps.zhengDong}","{ts.chu}{ts.zao}{ts.xi} {ps.wai}{ps.zhengDong}","{ts.cangKu}{ts.chuang} {ps.wai}{ps.zhengDong}","{ts.fang}{ts.chuang}{ts.dui} {ps.wai}{ps.zhengDong}","{ts.zhan}{ts.men}{ts.ce} {ps.wai}{ps.zhengDong}","{ts.dui}{ts.mo}{ts.lu} {ps.wai}{ps.dongNan}","{ts.chu}{ts.zao}{ts.men} {ps.wai}{ps.dongNan}","{ts.cangKu}{ts.xi} {ps.wai}{ps.dongNan}","{ts.zhan}{ts.fang}{ts.chuang} {ps.wai}{ps.dongNan}"];$.POSITION_TAI_MONTH=["{ts.zhan}{ts.fang}{ts.chuang}","{ts.zhan}{ts.hu}{ts.win}","{ts.zhan}{ts.men}{ts.tang}","{ts.zhan}{ts.chu}{ts.zao}","{ts.zhan}{ts.fang}{ts.chuang}","{ts.zhan}{ts.chuang}{ts.cang}","{ts.zhan}{ts.dui}{ts.mo}","{ts.zhan}{ts.ce}{ts.hu}","{ts.zhan}{ts.men}{ts.fang}","{ts.zhan}{ts.fang}{ts.chuang}","{ts.zhan}{ts.zao}{ts.lu}","{ts.zhan}{ts.fang}{ts.chuang}"];$.ZHI=["","{dz.zi}","{dz.chou}","{dz.yin}","{dz.mao}","{dz.chen}","{dz.si}","{dz.wu}","{dz.wei}","{dz.shen}","{dz.you}","{dz.xu}","{dz.hai}"];$.ZHI_XING=["","{zx.jian}","{zx.chu}","{zx.man}","{zx.ping}","{zx.ding}","{zx.zhi}","{zx.po}","{zx.wei}","{zx.cheng}","{zx.shou}","{zx.kai}","{zx.bi}"];$.JIA_ZI=["{jz.jiaZi}","{jz.yiChou}","{jz.bingYin}","{jz.dingMao}","{jz.wuChen}","{jz.jiSi}","{jz.gengWu}","{jz.xinWei}","{jz.renShen}","{jz.guiYou}","{jz.jiaXu}","{jz.yiHai}","{jz.bingZi}","{jz.dingChou}","{jz.wuYin}","{jz.jiMao}","{jz.gengChen}","{jz.xinSi}","{jz.renWu}","{jz.guiWei}","{jz.jiaShen}","{jz.yiYou}","{jz.bingXu}","{jz.dingHai}","{jz.wuZi}","{jz.jiChou}","{jz.gengYin}","{jz.xinMao}","{jz.renChen}","{jz.guiSi}","{jz.jiaWu}","{jz.yiWei}","{jz.bingShen}","{jz.dingYou}","{jz.wuXu}","{jz.jiHai}","{jz.gengZi}","{jz.xinChou}","{jz.renYin}","{jz.guiMao}","{jz.jiaChen}","{jz.yiSi}","{jz.bingWu}","{jz.dingWei}","{jz.wuShen}","{jz.jiYou}","{jz.gengXu}","{jz.xinHai}","{jz.renZi}","{jz.guiChou}","{jz.jiaYin}","{jz.yiMao}","{jz.bingChen}","{jz.dingSi}","{jz.wuWu}","{jz.jiWei}","{jz.gengShen}","{jz.xinYou}","{jz.renXu}","{jz.guiHai}"];$.CHANG_SHENG_OFFSET={"{tg.jia}":1,"{tg.bing}":10,"{tg.wu}":10,"{tg.geng}":7,"{tg.ren}":4,"{tg.yi}":6,"{tg.ding}":9,"{tg.ji}":9,"{tg.xin}":0,"{tg.gui}":3};$.TIAN_SHEN=["","{sn.qingLong}","{sn.mingTang}","{sn.tianXing}","{sn.zhuQue}","{sn.jinKui}","{sn.tianDe}","{sn.baiHu}","{sn.yuTang}","{sn.tianLao}","{sn.xuanWu}","{sn.siMing}","{sn.gouChen}"];$.ZHI_TIAN_SHEN_OFFSET={"{dz.zi}":4,"{dz.chou}":2,"{dz.yin}":0,"{dz.mao}":10,"{dz.chen}":8,"{dz.si}":6,"{dz.wu}":4,"{dz.wei}":2,"{dz.shen}":0,"{dz.you}":10,"{dz.xu}":8,"{dz.hai}":6};$.TIAN_SHEN_TYPE={"{sn.qingLong}":"{s.huangDao}","{sn.mingTang}":"{s.huangDao}","{sn.jinKui}":"{s.huangDao}","{sn.tianDe}":"{s.huangDao}","{sn.yuTang}":"{s.huangDao}","{sn.siMing}":"{s.huangDao}","{sn.tianXing}":"{s.heiDao}","{sn.zhuQue}":"{s.heiDao}","{sn.baiHu}":"{s.heiDao}","{sn.tianLao}":"{s.heiDao}","{sn.xuanWu}":"{s.heiDao}","{sn.gouChen}":"{s.heiDao}"};$.TIAN_SHEN_TYPE_LUCK={"{s.huangDao}":"{s.goodLuck}","{s.heiDao}":"{s.badLuck}"};$.LU={"{tg.jia}":"{dz.yin}","{tg.yi}":"{dz.mao}","{tg.bing}":"{dz.si}","{tg.ding}":"{dz.wu}","{tg.wu}":"{dz.si}","{tg.ji}":"{dz.wu}","{tg.geng}":"{dz.shen}","{tg.xin}":"{dz.you}","{tg.ren}":"{dz.hai}","{tg.gui}":"{dz.zi}","{dz.yin}":"{tg.jia}","{dz.mao}":"{tg.yi}","{dz.si}":"{tg.bing},{tg.wu}","{dz.wu}":"{tg.ding},{tg.ji}","{dz.shen}":"{tg.geng}","{dz.you}":"{tg.xin}","{dz.hai}":"{tg.ren}","{dz.zi}":"{tg.gui}"};$.PENGZU_GAN=["","{tg.jia}不开仓财物耗散","{tg.yi}不栽植千株不长","{tg.bing}不修灶必见灾殃","{tg.ding}不剃头头必生疮","{tg.wu}不受田田主不祥","{tg.ji}不破券二比并亡","{tg.geng}不经络织机虚张","{tg.xin}不合酱主人不尝","{tg.ren}不泱水更难提防","{tg.gui}不词讼理弱敌强"];$.PENGZU_ZHI=["","{dz.zi}不问卜自惹祸殃","{dz.chou}不冠带主不还乡","{dz.yin}不祭祀神鬼不尝","{dz.mao}不穿井水泉不香","{dz.chen}不哭泣必主重丧","{dz.si}不远行财物伏藏","{dz.wu}不苫盖屋主更张","{dz.wei}不服药毒气入肠","{dz.shen}不安床鬼祟入房","{dz.you}不会客醉坐颠狂","{dz.xu}不吃犬作怪上床","{dz.hai}不嫁娶不利新郎"];$.NUMBER=["{n.zero}","{n.one}","{n.two}","{n.three}","{n.four}","{n.five}","{n.six}","{n.seven}","{n.eight}","{n.nine}","{n.ten}","{n.eleven}","{n.twelve}"];$.MONTH=["","{m.one}","{m.two}","{m.three}","{m.four}","{m.five}","{m.six}","{m.seven}","{m.eight}","{m.nine}","{m.ten}","{m.eleven}","{m.twelve}"];$.SEASON=["","{od.first}{sz.chun}","{od.second}{sz.chun}","{od.third}{sz.chun}","{od.first}{sz.xia}","{od.second}{sz.xia}","{od.third}{sz.xia}","{od.first}{sz.qiu}","{od.second}{sz.qiu}","{od.third}{sz.qiu}","{od.first}{sz.dong}","{od.second}{sz.dong}","{od.third}{sz.dong}"];$.SHENGXIAO=["","{sx.rat}","{sx.ox}","{sx.tiger}","{sx.rabbit}","{sx.dragon}","{sx.snake}","{sx.horse}","{sx.goat}","{sx.monkey}","{sx.rooster}","{sx.dog}","{sx.pig}"];$.DAY=["","{d.one}","{d.two}","{d.three}","{d.four}","{d.five}","{d.six}","{d.seven}","{d.eight}","{d.nine}","{d.ten}","{d.eleven}","{d.twelve}","{d.thirteen}","{d.fourteen}","{d.fifteen}","{d.sixteen}","{d.seventeen}","{d.eighteen}","{d.nighteen}","{d.twenty}","{d.twentyOne}","{d.twentyTwo}","{d.twentyThree}","{d.twentyFour}","{d.twentyFive}","{d.twentySix}","{d.twentySeven}","{d.twentyEight}","{d.twentyNine}","{d.thirty}"];$.YUE_XIANG=["","{yx.shuo}","{yx.jiShuo}","{yx.eMeiXin}","{yx.eMeiXin}","{yx.eMei}","{yx.xi}","{yx.shangXian}","{yx.shangXian}","{yx.jiuYe}","{yx.night}","{yx.night}","{yx.night}","{yx.jianYingTu}","{yx.xiaoWang}","{yx.wang}","{yx.jiWang}","{yx.liDai}","{yx.juDai}","{yx.qinDai}","{yx.gengDai}","{yx.jianKuiTu}","{yx.xiaXian}","{yx.xiaXian}","{yx.youMing}","{yx.youMing}","{yx.eMeiCan}","{yx.eMeiCan}","{yx.can}","{yx.xiao}","{yx.hui}"];$.XIU={"{dz.shen}1":"{xx.bi}","{dz.shen}2":"{xx.yi}","{dz.shen}3":"{xx.ji}","{dz.shen}4":"{xx.kui}","{dz.shen}5":"{xx.gui}","{dz.shen}6":"{xx.di}","{dz.shen}0":"{xx.xu}","{dz.zi}1":"{xx.bi}","{dz.zi}2":"{xx.yi}","{dz.zi}3":"{xx.ji}","{dz.zi}4":"{xx.kui}","{dz.zi}5":"{xx.gui}","{dz.zi}6":"{xx.di}","{dz.zi}0":"{xx.xu}","{dz.chen}1":"{xx.bi}","{dz.chen}2":"{xx.yi}","{dz.chen}3":"{xx.ji}","{dz.chen}4":"{xx.kui}","{dz.chen}5":"{xx.gui}","{dz.chen}6":"{xx.di}","{dz.chen}0":"{xx.xu}","{dz.si}1":"{xx.wei}","{dz.si}2":"{xx.zi}","{dz.si}3":"{xx.zhen}","{dz.si}4":"{xx.dou}","{dz.si}5":"{xx.lou}","{dz.si}6":"{xx.liu}","{dz.si}0":"{xx.fang}","{dz.you}1":"{xx.wei}","{dz.you}2":"{xx.zi}","{dz.you}3":"{xx.zhen}","{dz.you}4":"{xx.dou}","{dz.you}5":"{xx.lou}","{dz.you}6":"{xx.liu}","{dz.you}0":"{xx.fang}","{dz.chou}1":"{xx.wei}","{dz.chou}2":"{xx.zi}","{dz.chou}3":"{xx.zhen}","{dz.chou}4":"{xx.dou}","{dz.chou}5":"{xx.lou}","{dz.chou}6":"{xx.liu}","{dz.chou}0":"{xx.fang}","{dz.yin}1":"{xx.xin}","{dz.yin}2":"{xx.shi}","{dz.yin}3":"{xx.can}","{dz.yin}4":"{xx.jiao}","{dz.yin}5":"{xx.niu}","{dz.yin}6":"{xx.vei}","{dz.yin}0":"{xx.xing}","{dz.wu}1":"{xx.xin}","{dz.wu}2":"{xx.shi}","{dz.wu}3":"{xx.can}","{dz.wu}4":"{xx.jiao}","{dz.wu}5":"{xx.niu}","{dz.wu}6":"{xx.vei}","{dz.wu}0":"{xx.xing}","{dz.xu}1":"{xx.xin}","{dz.xu}2":"{xx.shi}","{dz.xu}3":"{xx.can}","{dz.xu}4":"{xx.jiao}","{dz.xu}5":"{xx.niu}","{dz.xu}6":"{xx.vei}","{dz.xu}0":"{xx.xing}","{dz.hai}1":"{xx.zhang}","{dz.hai}2":"{xx.tail}","{dz.hai}3":"{xx.qiang}","{dz.hai}4":"{xx.jing}","{dz.hai}5":"{xx.kang}","{dz.hai}6":"{xx.nv}","{dz.hai}0":"{xx.mao}","{dz.mao}1":"{xx.zhang}","{dz.mao}2":"{xx.tail}","{dz.mao}3":"{xx.qiang}","{dz.mao}4":"{xx.jing}","{dz.mao}5":"{xx.kang}","{dz.mao}6":"{xx.nv}","{dz.mao}0":"{xx.mao}","{dz.wei}1":"{xx.zhang}","{dz.wei}2":"{xx.tail}","{dz.wei}3":"{xx.qiang}","{dz.wei}4":"{xx.jing}","{dz.wei}5":"{xx.kang}","{dz.wei}6":"{xx.nv}","{dz.wei}0":"{xx.mao}"};$.XIU_LUCK={"{xx.jiao}":"{s.goodLuck}","{xx.kang}":"{s.badLuck}","{xx.di}":"{s.badLuck}","{xx.fang}":"{s.goodLuck}","{xx.xin}":"{s.badLuck}","{xx.tail}":"{s.goodLuck}","{xx.ji}":"{s.goodLuck}","{xx.dou}":"{s.goodLuck}","{xx.niu}":"{s.badLuck}","{xx.nv}":"{s.badLuck}","{xx.xu}":"{s.badLuck}","{xx.wei}":"{s.badLuck}","{xx.shi}":"{s.goodLuck}","{xx.qiang}":"{s.goodLuck}","{xx.kui}":"{s.badLuck}","{xx.lou}":"{s.goodLuck}","{xx.vei}":"{s.goodLuck}","{xx.mao}":"{s.badLuck}","{xx.bi}":"{s.goodLuck}","{xx.zi}":"{s.badLuck}","{xx.can}":"{s.goodLuck}","{xx.jing}":"{s.goodLuck}","{xx.gui}":"{s.badLuck}","{xx.liu}":"{s.badLuck}","{xx.xing}":"{s.badLuck}","{xx.zhang}":"{s.goodLuck}","{xx.yi}":"{s.badLuck}","{xx.zhen}":"{s.goodLuck}"};$.XIU_SONG={"{xx.jiao}":"角星造作主荣昌，外进田财及女郎，嫁娶婚姻出贵子，文人及第见君王，惟有埋葬不可用，三年之后主瘟疫，起工修筑坟基地，堂前立见主人凶。","{xx.kang}":"亢星造作长房当，十日之中主有殃，田地消磨官失职，接运定是虎狼伤，嫁娶婚姻用此日，儿孙新妇守空房，埋葬若还用此日，当时害祸主重伤。","{xx.di}":"氐星造作主灾凶，费尽田园仓库空，埋葬不可用此日，悬绳吊颈祸重重，若是婚姻离别散，夜招浪子入房中，行船必定遭沉没，更生聋哑子孙穷。","{xx.fang}":"房星造作田园进，钱财牛马遍山岗，更招外处田庄宅，荣华富贵福禄康，埋葬若然用此日，高官进职拜君王，嫁娶嫦娥至月殿，三年抱子至朝堂。","{xx.xin}":"心星造作大为凶，更遭刑讼狱囚中，忤逆官非宅产退，埋葬卒暴死相从，婚姻若是用此日，子死儿亡泪满胸，三年之内连遭祸，事事教君没始终。","{xx.tail}":"尾星造作主天恩，富贵荣华福禄增，招财进宝兴家宅，和合婚姻贵子孙，埋葬若能依此日，男清女正子孙兴，开门放水招田宅，代代公侯远播名。","{xx.ji}":"箕星造作主高强，岁岁年年大吉昌，埋葬修坟大吉利，田蚕牛马遍山岗，开门放水招田宅，箧满金银谷满仓，福荫高官加禄位，六亲丰禄乐安康。","{xx.dou}":"斗星造作主招财，文武官员位鼎台，田宅家财千万进，坟堂修筑贵富来，开门放水招牛马，旺蚕男女主和谐，遇此吉宿来照护，时支福庆永无灾。","{xx.niu}":"牛星造作主灾危，九横三灾不可推，家宅不安人口退，田蚕不利主人衰，嫁娶婚姻皆自损，金银财谷渐无之，若是开门并放水，牛猪羊马亦伤悲。","{xx.nv}":"女星造作损婆娘，兄弟相嫌似虎狼，埋葬生灾逢鬼怪，颠邪疾病主瘟惶，为事遭官财失散，泻利留连不可当，开门放水用此日，全家财散主离乡。","{xx.xu}":"虚星造作主灾殃，男女孤眠不一双，内乱风声无礼节，儿孙媳妇伴人床，开门放水遭灾祸，虎咬蛇伤又卒亡，三三五五连年病，家破人亡不可当。","{xx.wei}":"危星不可造高楼，自遭刑吊见血光，三年孩子遭水厄，后生出外永不还，埋葬若还逢此日，周年百日取高堂，三年两载一悲伤，开门放水到官堂。","{xx.shi}":"室星修造进田牛，儿孙代代近王侯，家贵荣华天上至，寿如彭祖八千秋，开门放水招财帛，和合婚姻生贵儿，埋葬若能依此日，门庭兴旺福无休。","{xx.qiang}":"壁星造作主增财，丝蚕大熟福滔天，奴婢自来人口进，开门放水出英贤，埋葬招财官品进，家中诸事乐陶然，婚姻吉利主贵子，早播名誉著祖鞭。","{xx.kui}":"奎星造作得祯祥，家内荣和大吉昌，若是埋葬阴卒死，当年定主两三伤，看看军令刑伤到，重重官事主瘟惶，开门放水遭灾祸，三年两次损儿郎。","{xx.lou}":"娄星修造起门庭，财旺家和事事兴，外进钱财百日进，一家兄弟播高名，婚姻进益生贵子，玉帛金银箱满盈，放水开门皆吉利，男荣女贵寿康宁。","{xx.vei}":"胃星造作事如何，家贵荣华喜气多，埋葬贵临官禄位，夫妇齐眉永保康，婚姻遇此家富贵，三灾九祸不逢他，从此门前多吉庆，儿孙代代拜金阶。","{xx.mao}":"昴星造作进田牛，埋葬官灾不得休，重丧二日三人死，尽卖田园不记增，开门放水招灾祸，三岁孩儿白了头，婚姻不可逢此日，死别生离是可愁。","{xx.bi}":"毕星造作主光前，买得田园有余钱，埋葬此日添官职，田蚕大熟永丰年，开门放水多吉庆，合家人口得安然，婚姻若得逢此日，生得孩儿福寿全。","{xx.zi}":"觜星造作有徒刑，三年必定主伶丁，埋葬卒死多因此，取定寅年使杀人，三丧不止皆由此，一人药毒二人身，家门田地皆退败，仓库金银化作尘。","{xx.can}":"参星造作旺人家，文星照耀大光华，只因造作田财旺，埋葬招疾哭黄沙，开门放水加官职，房房子孙见田加，婚姻许遁遭刑克，男女朝开幕落花。","{xx.jing}":"井星造作旺蚕田，金榜题名第一光，埋葬须防惊卒死，狂颠风疾入黄泉，开门放水招财帛，牛马猪羊旺莫言，贵人田塘来入宅，儿孙兴旺有余钱。","{xx.gui}":"鬼星起造卒人亡，堂前不见主人郎，埋葬此日官禄至，儿孙代代近君王，开门放水须伤死，嫁娶夫妻不久长，修土筑墙伤产女，手扶双女泪汪汪。","{xx.liu}":"柳星造作主遭官，昼夜偷闭不暂安，埋葬瘟惶多疾病，田园退尽守冬寒，开门放水遭聋瞎，腰驼背曲似弓弯，更有棒刑宜谨慎，妇人随客走盘桓。","{xx.xing}":"星宿日好造新房，进职加官近帝王，不可埋葬并放水，凶星临位女人亡，生离死别无心恋，要自归休别嫁郎，孔子九曲殊难度，放水开门天命伤。","{xx.zhang}":"张星日好造龙轩，年年并见进庄田，埋葬不久升官职，代代为官近帝前，开门放水招财帛，婚姻和合福绵绵，田蚕人满仓库满，百般顺意自安然。","{xx.yi}":"翼星不利架高堂，三年二载见瘟惶，埋葬若还逢此日，子孙必定走他乡，婚姻此日不宜利，归家定是不相当，开门放水家须破，少女恋花贪外郎。","{xx.zhen}":"轸星临水造龙宫，代代为官受皇封，富贵荣华增寿禄，库满仓盈自昌隆，埋葬文昌来照助，宅舍安宁不见凶，更有为官沾帝宠，婚姻龙子入龙宫。"};$.ZHENG={"{xx.jiao}":"{wx.mu}","{xx.jing}":"{wx.mu}","{xx.kui}":"{wx.mu}","{xx.dou}":"{wx.mu}","{xx.kang}":"{wx.jin}","{xx.gui}":"{wx.jin}","{xx.lou}":"{wx.jin}","{xx.niu}":"{wx.jin}","{xx.di}":"{wx.tu}","{xx.liu}":"{wx.tu}","{xx.vei}":"{wx.tu}","{xx.nv}":"{wx.tu}","{xx.fang}":"{wx.ri}","{xx.xing}":"{wx.ri}","{xx.mao}":"{wx.ri}","{xx.xu}":"{wx.ri}","{xx.xin}":"{wx.yue}","{xx.zhang}":"{wx.yue}","{xx.bi}":"{wx.yue}","{xx.wei}":"{wx.yue}","{xx.tail}":"{wx.huo}","{xx.yi}":"{wx.huo}","{xx.zi}":"{wx.huo}","{xx.shi}":"{wx.huo}","{xx.ji}":"{wx.shui}","{xx.zhen}":"{wx.shui}","{xx.can}":"{wx.shui}","{xx.qiang}":"{wx.shui}"};$.ANIMAL={"{xx.jiao}":"{dw.jiao}","{xx.dou}":"{dw.xie}","{xx.kui}":"{dw.lang}","{xx.jing}":"{dw.han}","{xx.kang}":"{dw.long}","{xx.niu}":"{dw.niu}","{xx.lou}":"{dw.gou}","{xx.gui}":"{dw.yang}","{xx.nv}":"{dw.fu}","{xx.di}":"{dw.he}","{xx.vei}":"{dw.zhi}","{xx.liu}":"{dw.zhang}","{xx.fang}":"{dw.tu}","{xx.xu}":"{dw.shu}","{xx.mao}":"{dw.ji}","{xx.xing}":"{dw.ma}","{xx.xin}":"{dw.huLi}","{xx.wei}":"{dw.yan}","{xx.bi}":"{dw.wu}","{xx.zhang}":"{dw.lu}","{xx.tail}":"{dw.hu}","{xx.shi}":"{dw.zhu}","{xx.zi}":"{dw.hou}","{xx.yi}":"{dw.she}","{xx.ji}":"{dw.bao}","{xx.qiang}":"{dw.xu}","{xx.can}":"{dw.yuan}","{xx.zhen}":"{dw.yin}"};$.GONG={"{xx.jiao}":"{ps.dong}","{xx.jing}":"{ps.nan}","{xx.kui}":"{ps.xi}","{xx.dou}":"{ps.bei}","{xx.kang}":"{ps.dong}","{xx.gui}":"{ps.nan}","{xx.lou}":"{ps.xi}","{xx.niu}":"{ps.bei}","{xx.di}":"{ps.dong}","{xx.liu}":"{ps.nan}","{xx.vei}":"{ps.xi}","{xx.nv}":"{ps.bei}","{xx.fang}":"{ps.dong}","{xx.xing}":"{ps.nan}","{xx.mao}":"{ps.xi}","{xx.xu}":"{ps.bei}","{xx.xin}":"{ps.dong}","{xx.zhang}":"{ps.nan}","{xx.bi}":"{ps.xi}","{xx.wei}":"{ps.bei}","{xx.tail}":"{ps.dong}","{xx.yi}":"{ps.nan}","{xx.zi}":"{ps.xi}","{xx.shi}":"{ps.bei}","{xx.ji}":"{ps.dong}","{xx.zhen}":"{ps.nan}","{xx.can}":"{ps.xi}","{xx.qiang}":"{ps.bei}"};$.SHOU={"{ps.dong}":"{sn.qingLong}","{ps.nan}":"{sn.zhuQue}","{ps.xi}":"{sn.baiHu}","{ps.bei}":"{sn.xuanWu}"};$.FESTIVAL={"1-1":"{jr.chunJie}","1-15":"{jr.yuanXiao}","2-2":"{jr.longTou}","5-5":"{jr.duanWu}","7-7":"{jr.qiXi}","8-15":"{jr.zhongQiu}","9-9":"{jr.chongYang}","12-8":"{jr.laBa}"};$.OTHER_FESTIVAL={"1-4":["接神日"],"1-5":["隔开日"],"1-7":["人日"],"1-8":["谷日","顺星节"],"1-9":["天日"],"1-10":["地日"],"1-20":["天穿节"],"1-25":["填仓节"],"1-30":["正月晦"],"2-1":["中和节"],"2-2":["社日节"],"3-3":["上巳节"],"5-20":["分龙节"],"5-25":["会龙节"],"6-6":["天贶节"],"6-24":["观莲节"],"6-25":["五谷母节"],"7-15":["中元节"],"7-22":["财神节"],"7-29":["地藏节"],"8-1":["天灸日"],"10-1":["寒衣节"],"10-10":["十成节"],"10-15":["下元节"],"12-7":["驱傩日"],"12-16":["尾牙"],"12-24":["祭灶日"]};$.CHONG=["{dz.wu}","{dz.wei}","{dz.shen}","{dz.you}","{dz.xu}","{dz.hai}","{dz.zi}","{dz.chou}","{dz.yin}","{dz.mao}","{dz.chen}","{dz.si}"];$.CHONG_GAN=["{tg.wu}","{tg.ji}","{tg.geng}","{tg.xin}","{tg.ren}","{tg.gui}","{tg.jia}","{tg.yi}","{tg.bing}","{tg.ding}"];$.CHONG_GAN_TIE=["{tg.ji}","{tg.wu}","{tg.xin}","{tg.geng}","{tg.gui}","{tg.ren}","{tg.yi}","{tg.jia}","{tg.ding}","{tg.bing}"];$.CHONG_GAN_4=["{tg.geng}","{tg.xin}","{tg.ren}","{tg.gui}","","","{tg.jia}","{tg.yi}","{tg.bing}","{tg.ding}"];$.HE_GAN_5=["{tg.ji}","{tg.geng}","{tg.xin}","{tg.ren}","{tg.gui}","{tg.jia}","{tg.yi}","{tg.bing}","{tg.ding}","{tg.wu}"];$.HE_ZHI_6=["{dz.chou}","{dz.zi}","{dz.hai}","{dz.xu}","{dz.you}","{dz.shen}","{dz.wei}","{dz.wu}","{dz.si}","{dz.chen}","{dz.mao}","{dz.yin}"];$.SHA={"{dz.zi}":"{ps.nan}","{dz.chou}":"{ps.dong}","{dz.yin}":"{ps.bei}","{dz.mao}":"{ps.xi}","{dz.chen}":"{ps.nan}","{dz.si}":"{ps.dong}","{dz.wu}":"{ps.bei}","{dz.wei}":"{ps.xi}","{dz.shen}":"{ps.nan}","{dz.you}":"{ps.dong}","{dz.xu}":"{ps.bei}","{dz.hai}":"{ps.xi}"};$.POSITION_DESC={"{bg.kan}":"{ps.zhengBei}","{bg.gen}":"{ps.dongBei}","{bg.zhen}":"{ps.zhengDong}","{bg.xun}":"{ps.dongNan}","{bg.li}":"{ps.zhengNan}","{bg.kun}":"{ps.xiNan}","{bg.dui}":"{ps.zhengXi}","{bg.qian}":"{ps.xiBei}","{ps.center}":"{ps.zhong}"};$.NAYIN={"{jz.jiaZi}":"{ny.haiZhong}{wx.jin}","{jz.jiaWu}":"{ny.shaZhong}{wx.jin}","{jz.bingYin}":"{ny.luZhong}{wx.huo}","{jz.bingShen}":"{ny.shanXia}{wx.huo}","{jz.wuChen}":"{ny.daLin}{wx.mu}","{jz.wuXu}":"{ny.pingDi}{wx.mu}","{jz.gengWu}":"{ny.luPang}{wx.tu}","{jz.gengZi}":"{ny.biShang}{wx.tu}","{jz.renShen}":"{ny.jianFeng}{wx.jin}","{jz.renYin}":"{ny.jinBo}{wx.jin}","{jz.jiaXu}":"{ny.shanTou}{wx.huo}","{jz.jiaChen}":"{ny.fuDeng}{wx.huo}","{jz.bingZi}":"{ny.jianXia}{wx.shui}","{jz.bingWu}":"{ny.tianHe}{wx.shui}","{jz.wuYin}":"{ny.chengTou}{wx.tu}","{jz.wuShen}":"{ny.daYi}{wx.tu}","{jz.gengChen}":"{ny.baiLa}{wx.jin}","{jz.gengXu}":"{ny.chaiChuan}{wx.jin}","{jz.renWu}":"{ny.yangLiu}{wx.mu}","{jz.renZi}":"{ny.sangZhe}{wx.mu}","{jz.jiaShen}":"{ny.quanZhong}{wx.shui}","{jz.jiaYin}":"{ny.daXi}{wx.shui}","{jz.bingXu}":"{ny.wuShang}{wx.tu}","{jz.bingChen}":"{ny.shaZhong}{wx.tu}","{jz.wuZi}":"{ny.piLi}{wx.huo}","{jz.wuWu}":"{ny.tianShang}{wx.huo}","{jz.gengYin}":"{ny.songBo}{wx.mu}","{jz.gengShen}":"{ny.shiLiu}{wx.mu}","{jz.renChen}":"{ny.changLiu}{wx.shui}","{jz.renXu}":"{ny.daHai}{wx.shui}","{jz.yiChou}":"{ny.haiZhong}{wx.jin}","{jz.yiWei}":"{ny.shaZhong}{wx.jin}","{jz.dingMao}":"{ny.luZhong}{wx.huo}","{jz.dingYou}":"{ny.shanXia}{wx.huo}","{jz.jiSi}":"{ny.daLin}{wx.mu}","{jz.jiHai}":"{ny.pingDi}{wx.mu}","{jz.xinWei}":"{ny.luPang}{wx.tu}","{jz.xinChou}":"{ny.biShang}{wx.tu}","{jz.guiYou}":"{ny.jianFeng}{wx.jin}","{jz.guiMao}":"{ny.jinBo}{wx.jin}","{jz.yiHai}":"{ny.shanTou}{wx.huo}","{jz.yiSi}":"{ny.fuDeng}{wx.huo}","{jz.dingChou}":"{ny.jianXia}{wx.shui}","{jz.dingWei}":"{ny.tianHe}{wx.shui}","{jz.jiMao}":"{ny.chengTou}{wx.tu}","{jz.jiYou}":"{ny.daYi}{wx.tu}","{jz.xinSi}":"{ny.baiLa}{wx.jin}","{jz.xinHai}":"{ny.chaiChuan}{wx.jin}","{jz.guiWei}":"{ny.yangLiu}{wx.mu}","{jz.guiChou}":"{ny.sangZhe}{wx.mu}","{jz.yiYou}":"{ny.quanZhong}{wx.shui}","{jz.yiMao}":"{ny.daXi}{wx.shui}","{jz.dingHai}":"{ny.wuShang}{wx.tu}","{jz.dingSi}":"{ny.shaZhong}{wx.tu}","{jz.jiChou}":"{ny.piLi}{wx.huo}","{jz.jiWei}":"{ny.tianShang}{wx.huo}","{jz.xinMao}":"{ny.songBo}{wx.mu}","{jz.xinYou}":"{ny.shiLiu}{wx.mu}","{jz.guiSi}":"{ny.changLiu}{wx.shui}","{jz.guiHai}":"{ny.daHai}{wx.shui}"};$.WU_XING_GAN={"{tg.jia}":"{wx.mu}","{tg.yi}":"{wx.mu}","{tg.bing}":"{wx.huo}","{tg.ding}":"{wx.huo}","{tg.wu}":"{wx.tu}","{tg.ji}":"{wx.tu}","{tg.geng}":"{wx.jin}","{tg.xin}":"{wx.jin}","{tg.ren}":"{wx.shui}","{tg.gui}":"{wx.shui}"};$.WU_XING_ZHI={"{dz.yin}":"{wx.mu}","{dz.mao}":"{wx.mu}","{dz.si}":"{wx.huo}","{dz.wu}":"{wx.huo}","{dz.chen}":"{wx.tu}","{dz.chou}":"{wx.tu}","{dz.xu}":"{wx.tu}","{dz.wei}":"{wx.tu}","{dz.shen}":"{wx.jin}","{dz.you}":"{wx.jin}","{dz.hai}":"{wx.shui}","{dz.zi}":"{wx.shui}"};$.SHI_SHEN={"{tg.jia}{tg.jia}":"{ss.biJian}","{tg.jia}{tg.yi}":"{ss.jieCai}","{tg.jia}{tg.bing}":"{ss.shiShen}","{tg.jia}{tg.ding}":"{ss.shangGuan}","{tg.jia}{tg.wu}":"{ss.pianCai}","{tg.jia}{tg.ji}":"{ss.zhengCai}","{tg.jia}{tg.geng}":"{ss.qiSha}","{tg.jia}{tg.xin}":"{ss.zhengGuan}","{tg.jia}{tg.ren}":"{ss.pianYin}","{tg.jia}{tg.gui}":"{ss.zhengYin}","{tg.yi}{tg.yi}":"{ss.biJian}","{tg.yi}{tg.jia}":"{ss.jieCai}","{tg.yi}{tg.ding}":"{ss.shiShen}","{tg.yi}{tg.bing}":"{ss.shangGuan}","{tg.yi}{tg.ji}":"{ss.pianCai}","{tg.yi}{tg.wu}":"{ss.zhengCai}","{tg.yi}{tg.xin}":"{ss.qiSha}","{tg.yi}{tg.geng}":"{ss.zhengGuan}","{tg.yi}{tg.gui}":"{ss.pianYin}","{tg.yi}{tg.ren}":"{ss.zhengYin}","{tg.bing}{tg.bing}":"{ss.biJian}","{tg.bing}{tg.ding}":"{ss.jieCai}","{tg.bing}{tg.wu}":"{ss.shiShen}","{tg.bing}{tg.ji}":"{ss.shangGuan}","{tg.bing}{tg.geng}":"{ss.pianCai}","{tg.bing}{tg.xin}":"{ss.zhengCai}","{tg.bing}{tg.ren}":"{ss.qiSha}","{tg.bing}{tg.gui}":"{ss.zhengGuan}","{tg.bing}{tg.jia}":"{ss.pianYin}","{tg.bing}{tg.yi}":"{ss.zhengYin}","{tg.ding}{tg.ding}":"{ss.biJian}","{tg.ding}{tg.bing}":"{ss.jieCai}","{tg.ding}{tg.ji}":"{ss.shiShen}","{tg.ding}{tg.wu}":"{ss.shangGuan}","{tg.ding}{tg.xin}":"{ss.pianCai}","{tg.ding}{tg.geng}":"{ss.zhengCai}","{tg.ding}{tg.gui}":"{ss.qiSha}","{tg.ding}{tg.ren}":"{ss.zhengGuan}","{tg.ding}{tg.yi}":"{ss.pianYin}","{tg.ding}{tg.jia}":"{ss.zhengYin}","{tg.wu}{tg.wu}":"{ss.biJian}","{tg.wu}{tg.ji}":"{ss.jieCai}","{tg.wu}{tg.geng}":"{ss.shiShen}","{tg.wu}{tg.xin}":"{ss.shangGuan}","{tg.wu}{tg.ren}":"{ss.pianCai}","{tg.wu}{tg.gui}":"{ss.zhengCai}","{tg.wu}{tg.jia}":"{ss.qiSha}","{tg.wu}{tg.yi}":"{ss.zhengGuan}","{tg.wu}{tg.bing}":"{ss.pianYin}","{tg.wu}{tg.ding}":"{ss.zhengYin}","{tg.ji}{tg.ji}":"{ss.biJian}","{tg.ji}{tg.wu}":"{ss.jieCai}","{tg.ji}{tg.xin}":"{ss.shiShen}","{tg.ji}{tg.geng}":"{ss.shangGuan}","{tg.ji}{tg.gui}":"{ss.pianCai}","{tg.ji}{tg.ren}":"{ss.zhengCai}","{tg.ji}{tg.yi}":"{ss.qiSha}","{tg.ji}{tg.jia}":"{ss.zhengGuan}","{tg.ji}{tg.ding}":"{ss.pianYin}","{tg.ji}{tg.bing}":"{ss.zhengYin}","{tg.geng}{tg.geng}":"{ss.biJian}","{tg.geng}{tg.xin}":"{ss.jieCai}","{tg.geng}{tg.ren}":"{ss.shiShen}","{tg.geng}{tg.gui}":"{ss.shangGuan}","{tg.geng}{tg.jia}":"{ss.pianCai}","{tg.geng}{tg.yi}":"{ss.zhengCai}","{tg.geng}{tg.bing}":"{ss.qiSha}","{tg.geng}{tg.ding}":"{ss.zhengGuan}","{tg.geng}{tg.wu}":"{ss.pianYin}","{tg.geng}{tg.ji}":"{ss.zhengYin}","{tg.xin}{tg.xin}":"{ss.biJian}","{tg.xin}{tg.geng}":"{ss.jieCai}","{tg.xin}{tg.gui}":"{ss.shiShen}","{tg.xin}{tg.ren}":"{ss.shangGuan}","{tg.xin}{tg.yi}":"{ss.pianCai}","{tg.xin}{tg.jia}":"{ss.zhengCai}","{tg.xin}{tg.ding}":"{ss.qiSha}","{tg.xin}{tg.bing}":"{ss.zhengGuan}","{tg.xin}{tg.ji}":"{ss.pianYin}","{tg.xin}{tg.wu}":"{ss.zhengYin}","{tg.ren}{tg.ren}":"{ss.biJian}","{tg.ren}{tg.gui}":"{ss.jieCai}","{tg.ren}{tg.jia}":"{ss.shiShen}","{tg.ren}{tg.yi}":"{ss.shangGuan}","{tg.ren}{tg.bing}":"{ss.pianCai}","{tg.ren}{tg.ding}":"{ss.zhengCai}","{tg.ren}{tg.wu}":"{ss.qiSha}","{tg.ren}{tg.ji}":"{ss.zhengGuan}","{tg.ren}{tg.geng}":"{ss.pianYin}","{tg.ren}{tg.xin}":"{ss.zhengYin}","{tg.gui}{tg.gui}":"{ss.biJian}","{tg.gui}{tg.ren}":"{ss.jieCai}","{tg.gui}{tg.yi}":"{ss.shiShen}","{tg.gui}{tg.jia}":"{ss.shangGuan}","{tg.gui}{tg.ding}":"{ss.pianCai}","{tg.gui}{tg.bing}":"{ss.zhengCai}","{tg.gui}{tg.ji}":"{ss.qiSha}","{tg.gui}{tg.wu}":"{ss.zhengGuan}","{tg.gui}{tg.xin}":"{ss.pianYin}","{tg.gui}{tg.geng}":"{ss.zhengYin}"};$.ZHI_HIDE_GAN={"{dz.zi}":["{tg.gui}"],"{dz.chou}":["{tg.ji}","{tg.gui}","{tg.xin}"],"{dz.yin}":["{tg.jia}","{tg.bing}","{tg.wu}"],"{dz.mao}":["{tg.yi}"],"{dz.chen}":["{tg.wu}","{tg.yi}","{tg.gui}"],"{dz.si}":["{tg.bing}","{tg.geng}","{tg.wu}"],"{dz.wu}":["{tg.ding}","{tg.ji}"],"{dz.wei}":["{tg.ji}","{tg.ding}","{tg.yi}"],"{dz.shen}":["{tg.geng}","{tg.ren}","{tg.wu}"],"{dz.you}":["{tg.xin}"],"{dz.xu}":["{tg.wu}","{tg.xin}","{tg.ding}"],"{dz.hai}":["{tg.ren}","{tg.jia}"]};$.YI_JI=["{yj.jiSi}","{yj.qiFu}","{yj.qiuSi}","{yj.kaiGuang}","{yj.suHui}","{yj.qiJiao}","{yj.zhaiJiao}","{yj.muYu}","{yj.chouShen}","{yj.zaoMiao}","{yj.siZhao}","{yj.fenXiang}","{yj.xieTu}","{yj.chuHuo}","{yj.diaoKe}","{yj.jiaQu}","{yj.DingHun}","{yj.naCai}","{yj.wenMing}","{yj.naXu}","{yj.guiNing}","{yj.anChuang}","{yj.heZhang}","{yj.guanJi}","{yj.dingMeng}","{yj.jinRenKou}","{yj.caiYi}","{yj.wanMian}","{yj.kaiRong}","{yj.xiuFen}","{yj.qiZuan}","{yj.poTu}","{yj.anZang}","{yj.liBei}","{yj.chengFu}","{yj.chuFu}","{yj.kaiShengFen}","{yj.heShouMu}","{yj.ruLian}","{yj.yiJiu}","{yj.puDu}","{yj.ruZhai}","{yj.anXiang}","{yj.anMen}","{yj.xiuZao}","{yj.qiJi}","{yj.dongTu}","{yj.shangLiang}","{yj.shuZhu}","{yj.kaiJing}","{yj.zuoBei}","{yj.chaiXie}","{yj.poWu}","{yj.huaiYuan}","{yj.buYuan}","{yj.faMuZuoLiang}","{yj.zuoZhao}","{yj.jieChu}","{yj.kaiZhuYan}","{yj.chuanPing}","{yj.gaiWuHeJi}","{yj.kaiCe}","{yj.zaoCang}","{yj.saiXue}","{yj.pingZhi}","{yj.zaoQiao}","{yj.zuoCe}","{yj.zhuDi}","{yj.kaiChi}","{yj.faMu}","{yj.kaiQu}","{yj.jueJing}","{yj.saoShe}","{yj.fangShui}","{yj.zaoWu}","{yj.heJi}","{yj.zaoChuChou}","{yj.xiuMen}","{yj.dingSang}","{yj.zuoLiang}","{yj.xiuShi}","{yj.jiaMa}","{yj.kaiShi}","{yj.guaBian}","{yj.naChai}","{yj.qiuCai}","{yj.kaiCang}","{yj.maiChe}","{yj.zhiChan}","{yj.guYong}","{yj.chuHuoCai}","{yj.anJiXie}","{yj.zaoCheQi}","{yj.jingLuo}","{yj.yunNiang}","{yj.zuoRan}","{yj.guZhu}","{yj.zaoChuan}","{yj.geMi}","{yj.zaiZhong}","{yj.quYu}","{yj.jieWang}","{yj.muYang}","{yj.anDuiWei}","{yj.xiYi}","{yj.ruXue}","{yj.liFa}","{yj.tanBing}","{yj.jianGui}","{yj.chengChuan}","{yj.duShui}","{yj.zhenJiu}","{yj.chuXing}","{yj.yiXi}","{yj.fenJu}","{yj.TiTou}","{yj.zhengShou}","{yj.naChu}","{yj.buZhuo}","{yj.tianLie}","{yj.jiaoNiuMa}","{yj.huiQinYou}","{yj.fuRen}","{yj.qiuYi}","{yj.zhiBing}","{yj.ciSong}","{yj.qiJiDongTu}","{yj.poWuHuaiYuan}","{yj.gaiWu}","{yj.zaoCangKu}","{yj.liQuanJiaoYi}","{yj.jiaoYi}","{yj.liQuan}","{yj.anJi}","{yj.huiYou}","{yj.qiuYiLiaoBing}","{yj.zhuShi}","{yj.yuShi}","{yj.xingSang}","{yj.duanYi}","{yj.guiXiu}","{s.none}"];$.DAY_YI_JI="30=192531010D:838454151A4C200C1E23221D212726,030F522E1F00=2430000C18:8319000776262322200C1E1D,06292C2E1F04=32020E1A26:7917155B0001025D,0F522E38201D=162E3A0A22:790F181113332C2E2D302F1554,7001203810=0E1A263202:79026A17657603,522E201F05=0D19250131:7911192C2E302F00030401060F1571292A75,707C20522F=0C18243000:4F2C2E2B383F443D433663,0F01478A20151D=0E1A320226:3840,0001202B892F=14202C3808:3807504089,8829=0E1A263202:383940,6370018A75202B454F6605=32020E1A26:38394089,0001202B22=16223A0A2E:384C,8A2020=2B3707131F:2C2E5B000739337C38802D44484C2425201F1E272621,5229701535=121E2A3606:2C2E2D2B156343364C,0F4729710D708A20036A1904=0D19250131:5040262789,0F7129033B=202C380814:5040000738,0F7D7C584F012063452B35=1A2632020E:50400089,8813=1A2632020E:69687011180F791966762627201E,0352292E8034=182430000C:291503000D332E53261F2075,0F5238584F450B=000C182430:297170192C2E2D2F2B3E363F4C,0F521563200103470B=131F2B3707:297115030102195283840D332C2E,0F1F5863201D8A02=222E3A0A16:261F1E20232289,52290058363F32=16222E3A0A:261F201E232289,8D39=0D19310125:262322271E201D21,52450F4F09=0D19253101:262322271E202189,1F4526=16222E3A0A:262322271F1E20,712906=0F1B273303:17262322274050,80387C6B2C=0915212D39:1707702C2E71291F20,0F52000106111D15=16222E3A0A:170007386A7448363F261F1E,030F79636F2026=030F1B2733:1784832C2E5B26201F,0F010D2913=182430000C:175447440D15838477656A49,2B2E1F8A202228=101C283404:70504C7889,8803=0D19250131:700F181126151E20001A7919,8D2F=0915212D39:705283845B0D2F71,0F202E4106=3606121E2A:70786289,06802E1F23=1824000C30:70076A363F,292017=202C380814:700718111A302F717566,0F2B2E2026=3B0B17232F:70545283842E71291A7933192A5D5A5040,090C384F45208A1D6B38=212D390915:7039170F45513A2C2E7129242526271F201D,00010352153A=15212D3909:703911170E2C2E2D2F4B15712952633D,092B8A2027=010D192531:702D155483840F63262720,53292F017D4F38442B2E1F4717=16222E3A0A:705C4C39171A4F0E7971295B5248,0F2E1F1D37=1A2632020E:2E260F27201F,523815292F1A22=0E1A260232:64262322271F2021,0F2F293822=2F3B0B1723:161A0F1526271F4C,586103473818=2430000C18:161A7889,292E1F0F386131=17232F3B0B:04795B3F651A5D,0F5201062016=14202C3808:04170F79195D1A637566363F76,01522E8A2039=132B37071F:0470170F191A134C8384662426232227201E,8D08=0D19253101:040370181123220F1326271E2021,29153B=0D19310125:040307177938494C,0F26207017=0E2632021A:0403010218111A17332C2E2D2B15713E6575,45382064291D=142C380820:04033918110F0D2C2E7129332D2B72528384547566,8D1C=1830000C24:040318111A17332C15290D200C7A,4745063835=0F2733031B:040318111A16175B795452848315302F6563395D,387029202E=14202C3808:04031975363F6366,0F5401202C5283842E2F1E=0E1A320226:0403080618111A16332E2F152A09537919702C5445490D75072B,8063203820=182430000C:04067033392C7161262322271E1D210C,8D2F=101C283404:3F4889,881C=2733030F1B:3F74397677658988,0F3847201D=293505111D:3F8B657789,0F2029702E7D35=111D293505:3F8B6589,1F200A=020E1A2632:3F656477,0F2B71292005=111D290535:3F6589,8810=0F1B273303:3F88,2B38200F1C=293505111D:0F83843D363F776424,15462F2C520329712A=0F1B273303:0F17795B54838458,52807C3811=121E2A3606:0F172C2E387129363F7566512D4E4461,01034752203A=172F3B0B23:0F171511793F76584C,0347200C1D20=2D39091521:0F175B3975660745514F2B4825201E211D,010352292E2E=0F1B273303:0F170070792C2E261F,040341232228=05111D2935:0F1700707129385C363F3D1F1E232226,80412B202F14=14202C3808:0F17000728705448757A,522E1F15562F05=30000C1824:0F17000102061979454F3A15477677,241F8A2021=2F3B0B1723:0F17000102060370392E52838453331F,452F2C266A79292B203810=0C18243000:0F170001020E032A70692C2E302F802D2B0D7129474C201F2322,5211183809615D34=1A2632020E:0F171170792F5B1566770001032C2B802D,29387C207134=14202C3808:0F0D33000103452E528384297115752620,63386F7014=15212D3909:0F7045332C2E71201F1D21,4701155229530327=101C283404:0F70161715232238838426271F20,7D035219=121E2A3606:0F705B0004037C5D15653F1F26,522B473809=131F2B0737:0F705215261E20,012E1F25=182430000C:0F707B7C00012F75,52201B=2531010D19:0F706A151E201D528384544466,47010C2E292F2C3820=14202C3808:0F707500261E20,382E1F05=3606121E2A:0F161A17452F0D33712C2E2B5443633F,150170208A0327=0E1A263202:0F150370002E0D3979528384532971331F1E20,477D0D=06121E2A36:0F5B8370000102060403161A494447,386A418A201A=17232F3B0B:0F03700D332C2E2971152F52838463,01004547380C26=101C283404:0F03700D33195284835329711563,01260038206B0E=131F2B3707:0F03706A4F0D332C528384532E29711563,4500750F=131F2B3707:0F0370010239332E2C19528384532971156375262720,8D18=17232F3B0B:0F0370390D332C192E2971637547202322,581528=0E1A263202:0F0302791566046F,29710D722A38528384202E4530=0E1A263202:0F030102392E15634447001F1E,293845200D707538=1E2A360612:0F0300017039712952542D2C302F80380D2A363F3349483E616320,1118150C1F2E20=33030F1B27:0F03000102700D29713963451F0C20,528338542F15806128=121E2A3606:0F030001027039452971150D332C2F6327,2052838403=2C38081420:0F030001022A0D3945297115528384637020,476A382E1F4426=010D192531:0F03390D332C1929711563261D2E2322,382000521118750C706B15=131F2B3707:0F033915666A52261E272048,382E2F6329712C0114=0D19253101:0F52838403700D332C29712E1F27201E2322,1545017505=131F2B3707:0F528400012E7129,092026=3707131F2B:0F528471295B795D2B155333565A446375661F201E272621,00016B0C4113=14202C3808:0F280001363F8B4326232220,2E1F47032F7D35=16222E3A0A:0F0211195465756679,2F384570202B6A10=15212D3909:0F0102700D332C2E2F0319528384531529716345261F2322,8D32=101C283404:0F0102037039330D5284832971152E1F0C,0026206B37=16222E3A0A:0F003854,20521D2106=020E1A2632:0F00175058,5D6B80382E16=1B2733030F:0F00701784831952712C2E1526271F,033806201F=2B3707131F:0F00701A17830E544C5C78,7129632E1F38208A452F16=15212D3909:0F00040370396A742E15444948,458A384F2021=16222E3A0A:0F005B261F20,2E2F1D=2531010D19:0F0003450D3329712C2E2F1575,528A63705A20587D7C12=17232F3B0B:0F00030D70332C2E3952838453542971156375,6B2019=1B2733030F:0F000301020D297115332E1F0C,165220262E=121E2A3606:0F00030102700D332E2C192971155383846375261F1E20,8D1F=33030F1B27:0F00030102700D19297115332C2B535448,2E45208A00=2632020E1A:0F00030102705283842E544779,2920454F754C3836=16222E3A0A:0F0052037029710D332C15,7545584F8A201D2121=121E2A3606:0F00074850,8A2036=0D25310119:0F00071A706A717677492923221E202726,80522E1F39=1E2A360612:0F006A385040740717,1F70631E=212D390915:0F006A1938271779,565A4575522F801F1E632B=121E2A3606:0F00010D0302703352838453297115632E,208A454F2B=0E1A263202:0F000170390D332E2971152F63751F1E20,52846A381F=14202C3808:0F000106387129,2E1F24=14202C3808:0F0001062E7129,522010=0814202C38:0F0001062871292E7C528384032C5C2A15767765,11185D8A206B08=131F2B0737:0F0001067C1F20,522900=202C380814:0F0001020D700339332C192A83842971152E1F0C20262322,065256386110=111D293505:0F000102700D332C2E297115383F631F20,0347562B=14202C3808:0F000102700D332C712E15261F201E,80036A61473831=0C18243000:0F000102700D335283845329711563,38048A7D45202A=14202C3808:0F000102702E15471F1E,294F2B452C2F268011=0D19253101:0F0001022E792D3E75663D19,472063703852292B39=222E3A0A16:0F0001022E154826271F1E203874362322,036312=0D19253101:0F000102032971152C2E19,4720637038522B15=111D293505:0F000102030D70332E3919528384532971152B2F201F0C,8D1B=232F3B0B17:0F000102030D7033528384534529711520,63475814=131F2B3707:0F000102030D332C2E195283845329716375261E2322,8D19=15212D3909:0F00010203700D332C2E1929711552838453637526202322,8D09=111D293505:0F00010203700D332E2F192971152B52838453631F20,8D33=1A2632020E:0F00010203700D332E2F1929711552838453261F201E2322,8D03=2E3A0A1622:0F0001020370332C2E2F1575261F,2971476A458352380C=111D293505:0F0001020370332E2F0D19297115637566302B2C3979,8D08=000C182430:0F000102037039297175261F1D21,454F2E1563410F=17232F3B0B:0F0001020370390D3319297115632E2C752620212322,8D07=3606121E2A:0F0001020370390D332C1929712E157563548384534C,20248A38=16222E3A0A:0F0001020370390D1952838453542971631F0C,152036=14202C3808:0F00010203703915632719792322,80262045297158750F=111D293505:0F00010203528384157033,752971206B452F2B262E05=3404101C28:0F00010206030D7129302F79802D7C2B5C4744,11701D2052843833=111D293505:0F00010206181139702E1F686F6A792D2C304E153375664923221D21,52296B0D800D=15212D3909:0F000102070D70332C2E19528384297115637526201E2322,8D05=2C38081420:0F0001021A175D2C19152E302F7183846379,8A20704F7545410A=131F2B3707:0F001A651707,565A58202E1F476320=121E36062A:0F11707B7C5271291E20,2E1F39=111D293505:0F11700001522E71291F20,2B07=131F2B0737:0F11700001397129,2E2002=111D293505:0F11707129,2E1F2002=131F37072B:0F1152702E2F71291F20,000103=131F37072B:0F1152702E2F71291F20,7A3A=111D293505:0F117B7C2C2E71291F20,520300=111D350529:0F110001702E2F71291F20,0621=101C280434:0F11000170717B,522E1F0A=06121E2A36:0F110001708471292E1F20,03388051561C=121E2A3606:0F1100017B7C702E7129,522B22=2D39091521:0F110039702C2E522F1574487B7C2D4E804B,098A204538612B=05111D2935:0F1118795B65170002195D,52382E8A201E=2531010D19:0F111829711500010370390D332E750C201F,4552832F382B8004=2A3606121E:0F1118175C000301027039450D29332C2E2F15631F,8A582020=31010D1925:0F1118032A0D545283841A802D2C2E2B71296366774744201F26232221,010900150C06=2C38081420:0F11180300706A2E1549466319,292F26806B382B20754506=2E3A0A1622:0F1118528384530001035C702971152B332C2E63201F1E23222621,6B75452D4F802E=111D293505:0F1118060300017B7C792E39767566261F20,7129805136=232F3B0B17:0F111800171A454F514E3A3871157765443D23221E262720,80612E1F1C=212D390915:0F11180003706A4F0D332C2E192971155363751F20262322,524746416128=3B0B17232F:0F111800037039450D2971332C632026,1F2E2B38528327=3B0B17232F:0F11180006032A0D70332E011954838471152C202322,58477D630C=0814202C38:0F1118000106287129705B032C2E302F802D4E2B201F,528458384108=380814202C:0F11180001027039302971542F7526201E,63472E151F583A=1E2A360612:0F1118000102030D70332C2E192971158384535426201E2322,471F1B=1F2B370713:0F1118000102030D70332C2E195283845329711563261F0C20,4745752522=3505111D29:0F1118000102030D70332E2C192971153953631F0C262720,5284612528=390915212D:0F111800010203700D332C2E192971152F4B49471F270C2322,52562B2029=390915212D:0F111800010203391929710D1552838453,2075708A456309410F=0A16222E3A:0F111800010206032A0D097170292D302F1575761320,521F47251D=1F2B370713:0F18000102111A1703154F2C2E382D2F807566,7163708A1F207D2A=05111D2935:0F111800017C5C2C2E7129,527015382021=2B3707131F:0F11185C0370332D152322528384636626271E,2F292C2E1F00010601=2430000C18:0F11185C0001092A0D7014692983847B7C2C2E302F802D2B,06454F208A2E=0D19253101:0F11181200171A7919547638,5215201D09=3A0A16222E:0F1A1716007015713F261F2720,5263587D2B470304=111D293505:0F1A0070153871291F20,7A7629=010D192531:0F181179005B712980152D4E2A0D533358,5270208A11=0814202C38:0F181138171A7975665B52845415,47701F8A2013=121E2A3606:0F181117795B5C007054292A0D690403332D2C2E66632B3D,8A454F3822=121E2A3606:0F1811705200012E71291F20,382A=16222E0A3A:0F1811705200012E71291F20,062B27=14202C0838:0F18117052000171291E20,2E1F27=16222E0A3A:0F18117000012E71291F20,527A06=111D290535:0F1811700001062E2F1F20,712912=14202C3808:0F181100062839707952542C2E302F03565A7566441F1E,0D29802B2029=1824300C00:0F181100012C2E7129,522025=121E2A0636:0F18110001261F20,03522E=0915212D39:0F18110001702C2E7129,6F454F098A2025=030F1B2733:0F18110001702C2E71291F0D2B152F2127,5283162014=16222E3A0A:0F18110001707B7C0D7129,52565A152B2034=17232F3B0B:0F1811000104037115454F7677657B7C392023222726210C,52092E1F27=3707131F2B:0F181100010603797B7C802D302F2B6743441F202322,2952477D2528=14202C0838:0F181100017B7C2E71291F20,036F33=0D19253101:0F18110001027939706954528384685D15565A75201E1D26,29032E11=182430000C:0F1811000102062A0D2C2D804B2B672E2F7129,70471F8A2030=17232F3B0B:0F5C707971292C2E0E032A0D6A804B2D8C2B3348634C,52110915462031=15212D3909:0F5C5B0001032A0D7052842C2E71291F20,1118517D462B=0F1B273303:0F5C111800015B712952841F20,756A251A=2733030F1B:1545332C2E2F84836375662620,0F0003700D71292B1C=0E1A320226:1516291211020056,06382007=000C182430:1551000403706A454F3A3D771F262322271E1D21,382B41522016=17232F3B0B:1500443626271F1E,29710F47380D19520337=182430000C:150001021745512E443D65262322,2B63387C18=192531010D:151A83842627202322,580F7003632E1F297C26=0E1A263202:15391A302F83845475662627201E,0F702E4629004708=3606121E2A:5B000102073911522C302F3A678C363F33490D482425200C1E2322,0F15382E1F6116=1E2A360612:5B71297000010611182A0D39792C2E332D4E80151F202621,52454F3804=2C38081420:5B11180001020328700D332C2E195283847115632F751F2720,290F476630=0C18243000:201E27262322,8902=3404101C28:2A0D11180F52848353037039156358332C2E,3820002628=010D192531:4089,030F565A61206B27=1824300C00:4089,8836=1C28340410:0370833F0F6A5215,010D582E1F202C2F2938=112935051D:03700F,79192C2E2D715275262322271F201D2136=112935051D:0370110F45510D3371290941614C522623222720,8D3B=152D390921:03047039171A533852443D363F,8D11=0F1B273303:030402111A16175B4F3A2B153E0079015D54528483696A51,7006200F05=0F1B270333:03041A174533302F56795B3E808339528454,700F292026=121E2A3606:037B7C2E2F261F20,0F14=1E2A360612:030270170F45513A2C71295283842A0D532D24252623222720,155A382E1F2F=1B2733030F:03027011170D332D2C2E2F716152838454,010F201F2C=121E2A3606:03027039450D332C2F2D2971528384636626202322,581535=212D390915:03020E0F18110D332C2E2D2F4971293E615244756653,8A202531=1B2733030F:030102703945802D2C512B7129092322270C7566,112E528325=2D39091521:030102062C2E543E3D636679,380D19462971001F=293505111D:03111A171538193E3F,0F632C2E70454F200C19=17232F3B0B:031A2B7915656A,0F177001204529710D632E2F02=32020E1A26:033945302F838475262720,297071000F2E1F3810=17232F3B0B:0339332C2E1575201E26,0F520D631F29712A72473826=390915212D:0339332C2E302B66201D1F27,0D2971010015520F6B0E=15212D3909:03392D2E332F211D201F1E27,0F7015380029710D195824=16223A0A2E:036F791E20,522E1F31=1D29350511:5283845B79037B7C802D2C2E4E302F2B38493D4463664C1F2021,0F0D712917=15212D3909:5283845303702971150D2F,388A6A6D0F2012=111D293505:528384530370331929272E2B2F631F1D20,0F156B380E=0D19253101:528384530339454F0D297115332E2F637520,0F00705802=2A3606121E:528384530339332E152C2F58631F20,380D000F2900=283404101C:528384530003010215392C20,1112180F29560D2E1F754511=15212D3909:5283845300031929150D332C2E63,0F217045208A717521=3505111D29:5283845300010670802D2C2E4E155B201F1E232221,380F71296A0E=17232F3B0B:5283845354037029711575262720,631F58000F2E38010D=111D293505:528384000103451915332C2E631F2720,29716A0D0F7019=1D29350511:5283840001032E1570637566302F391F,0F4729712030=16222E3A0A:5283845479036A2627201E,0F380D70297115012F1A=1F2B370713:528384542E03700F111869565A7566631F1E2021,297138000C31=121E2A3606:52838454443D65002C2E15495D1F,0F417D712B38630F=0D19253101:5283845444360F11756415,2C2F29016B472E2B20381D=212D390915:528384545363000103332E15,0F1F197029710D757D2032=121E2A3606:528384546315332C2E2F26201F2322,0F0D45002971756B17=192531010D:52838454754C2971150301022E,0F63206A0938268A4117=1B2733030F:52848353000103297115332E2F19,0F8A514F6A6620754526=1824300C00:528403395B2F1E20,0F012D=0B17232F3B:5254700001020612692D4E584647336375662E1F1E,71290D262037=131F2B3707:525400045B17791A565D754C7866,2E1F207C34=0F2733031B:483F89,8838=232F3B0B17:767779392623222789,152B1F1D200E=0A16222E3A:767789,528300292025=14202C3808:7665261F20,0F291A=222E3A0A16:7665262322271F201E21,0F0029807124=1824000C30:7889,292E1F24=101C283404:8D,8832=1D29350511:63767789,522E0006206B31=131F2B3707:7B7C343589,0F7038=2632020E1A:7B7C343589,520F20=0E1A260232:7B34,8812=1C28340410:02703918110F7919155283756626232227201E,012C2E1F0C29=121E2A3606:020F11161A17454F2C2E2D302F2B38434C,2070016328=1824300C00:02060418110D332C2E415B637566262322271F20,520F23=142038082C:07504089,0F010C=15212D3909:07262723221F40,0F7129523B=2430000C18:0717363F1A2C4F3A67433D8B,71290F0103471A=2531010D19:0704031118528384542D2E4E49201F1E1D2127,292B000C3B=283404101C:073F7765644889,012014=111D293505:074048261F202322,0F71454F1500018008=111D293505:07404826271F1E2089,882C=0D19253101:07565A5283845463756677261F20,010F15296120=2F3B0B1723:07487677393F89,0F2952151F1D30=111D293505:074889,06520F3808=17232F3B0B:074889,883B=131F2B3707:074889,8832=15212D3909:07762623221F1E20,000F1552296B2F2A=0D19253101:0776776A742623221F200C211D1E,11180F2F5206802B0B=04101C2834:0776776564,000F29382011=101C283404:0706397B7C794C636A48,520F7129472026=14202C3808:077C343589,880A=380814202C:076A79040363660F5D363F,52292E1F20382F15560123=16223A0A2E:076A696819,0F2918=222E3A0A16:076A171552847983546578,712970010F2D=182430000C:076A48,45752F29384C0F204F612B30=131F2B3707:076A7626271F1E20,0D0F29382F2E0E=0814202C38:07343589,065238=1C28340410:070039201F0C2789,06030F292F23=101C280434:076564,0F292002=0D19253101:073918111A17332C2E71292322271F1E20481D45548384,38002F702A=1824300C00:7C343589,8801=172F3B0B23:6A79363F65,0F292B7118=1B2733030F:6A170F19,5845754C201F4F382430=1B2733030F:6A170F1963766F,5452201F32=0C18243000:6A0339332C20528384531563,29713801000F0C47806B3B=2A3606121E:77766564000789,0F52201E8A01=202C380814:1F2027260076232289,0F29528339=0F1B330327:3435,8809=0F1B273303:34357B7C,8818=121E2A3606:34357B7C7789,0F291D=232F3B0B17:34357B7C89,0F2021=33030F1B27:34357B7C89,030F27=390915212D:34357B7C89,712917=1D29350511:3435073989,8802=2C38081420:34357C89,0111180F292006=30000C1824:34357C89,71291A=14202C3808:34357C89,8A2036=182430000C:3435000789,8835=232F3B0B17:34350089,0F2025=3707131F2B:34353989,0F2037=0D25310119:343589,0F52202D=0F1B273303:343589,0F7152290D=131F2B3707:343589,8830=121E2A3606:343589,881C=16222E3A0A:343589,8819=131F2B3707:343589,880F=15212D3909:343589,8832=14202C3808:343589,8813=0D19253101:343589,8811=17232F3B0B:343589,881E=142C380820:017018110F1A2E15495247838463462322271F,8D03=0F1B270333:0103040818111A155284262322271E20217A79708330,38472E631B=14202C3808:010670170F0E3A294152838454262322271F201E,2E1815442C=0F1B273303:01067071292C2E1F20,1103150F520A=17232F0B3B:010670181126271F202165,293816=182430000C:0106111839513A2C2E2D2F8C804B4723221F63,7152292037=0F2733031B:010203040618110F3315292A271D200C6339171A712C2E30491E21,7A21=0E1A260232:010206040318110F2E292A27200C70072C302F541F392B49,381512=1A2632020E:010206110F452C2E7129095B5226232227201F0C,58804B036B2B381C=142C380820:01023918112E2D493E52756624262322271F20,8D12=121E2A3606:008354,06462F2E1F27=030F1B2733:00797084831754,0F2E472D4E1F06=0D19250131:0079701811072C2E01060F33152627200C7A1A302F4576631F2B,8052382900=172F3B0B23:00790F072C2E0103047018111A262322271E7A302F5448637545,293815561E=101C340428:007952151E20,0F2E1F33=0F1B273303:007984831A160F1719,632E20471D6B01=152D390921:0079110F0304062A528423222627207A19701A2C2E2F5D83,294513=0F1B273303:0079181A165B332F2B262322271E2021030469702D4E49712930845D,454F05=152139092D:0079192E2F030417332D1552847A5D,4E201F=162E3A0A22:003826232277,632E20523A=0D19310125:0038262389,521513=1C28340410:00384089,0F202E157C07=04101C2834:00384089,152967631F=101C283404:00384740,0F2037=1C28340410:00387765504089,0F157C04=131F37072B:00385476,521F13=16222E3A0A:003854767789,2E1F522010=131F2B3707:003854637519,205D1D1F52151E210F=121E2A3606:003889,52201F1D4733=121E2A3606:003889,881F=212D390915:001D23221E2789,52290F2E1F202B=07131F2B37:002C7080305C784C62,2E1F472001=283404101C:004D64547589,0F292E=131F2B3707:005040,522E1F0F2C2004=3404101C28:005089,032C2E1F33=182430000C:005089,8815=192531010D:00261F23221E201D2189,8D12=131F2B3707:00261F2322271E200C89,8D1E=121E2A3606:0026271E20,2F2E1F33=16222E3A0A:002627241F1E20232289,8D33=14202C3808:002627651E20232289,881B=182430000C:00262789,292C2E1F2B2F2A=07131F2B37:00262322271F1E203F8B65,52290F038002=15212D3909:001779332D2322271E2007760304,38290F1C=1F2B370713:00173883546365756619,466115201F701D47522434=0D25310119:00170F79191A6540,712909387C2015=0E1A263202:00170F332C2E2D2F802952443F26232227201F,15637C383A=132B37071F:00170F7665776489,8D2A=390915212D:00177689,0F52804F2507=2E3A0A1622:00177179546A76,0F52443D1F2D=0915212D39:0070,0F292C2E791F13=131F2B3707:007083624C,0F38202E7D4F45471F7107=380814202C:00704F0D332C2E2D15363F261F20274C,0F2906036F4703=3404101C28:00702C2E164C157126271F1E202425363F,29386A032B0F=0F1B273303:00700F1715262720,472E386309=15212D0939:007022230726,2E17712952302F15=15212D3909:00704889,8834=1C28340410:0070784889,0345201F21=2D39091521:007007482089,2E1F58470B=0D19253101:0070071A010618110F5B52846775,6326202E=16222E3A0A:00701A17794C0F302F715475,2E454F8A20243A=0F1B330327:007018111A1617192E15382627201F656477,4F090A=0F1B273303:002E2F18110F5B3315292A26271F20210C7A70710102393E19,035A37=14202C3808:002E4344793F26271F20,03702C2F292B381A31=0E1A263202:00161A5D454F153826201E27,7D0D2904=152139092D:0004037039180F332D152952262322271F0C533A83,4117804735=1F2B370713:0004037B7C0F79494766754667,80293869208A1E=162E3A0A22:00040301067018111A0F332C15292A261E200C7A7919712F5D52838454,5617454F06=3404101C28:000403110F527079156523221E2027,0129802E1F6B1D=1830000C24:0004031A170F11332C2E302F1571292A657677451949,70201D5218=102834041C:0004031811171A5B332C2E155D52,0D29204504=17233B0B2F:00040318110F1519262322271E2021,52831F3825=3B0B17232F:00046A7966444C7765,010C202F38520F70292E31=14202C3808:003F261F202789,8836=131F2B3707:003F657789,7152290F032B3A=2632020E1A:003F651F0C2027232289,0F292B=16222E3A0A:003F89,8836=212D390915:000F76,032E1F522C292B22=2B3707131F:000F7765,2E1F7C4607=0F1B273303:000F01111A1615292A2627200C2C670279538384543E49,634512=0F1B273303:000F1320,6380382936=0F2733031B:000F1323222627,2E3829031535=0D25310119:00676589,0F200F=0C18243000:00401D232289,71290F47202B=101C283404:0040395089,8803=30000C1824:004023222089,0F291118470D=0A16222E3A:004089,0F5211=1A2632020E:004089,0F0147200B=3A0A16222E:00037039454F0D332971152C4C48,090F476341382E0A=111D293505:00037039041A26271F1E202322,0F2F2C335129452E0D3A3B=222E3A0A16:000370396A450D332F4B154C,0F208A7D41381F2E14=0F1B273303:00030401061A16170F332E71292627200C02696A45514F0D2C2D4E497A,2B0B=0F1B273303:000304111A33152D2E302F71292A5284530770022B,0F6345203B=0F1B330327:00030418111617332E2D2F292A52845407020D302B,090F452001=0F1B273303:000304080618110F1A2E2D0D3371292A2C302F7566010239454E802B,632039=2430000C18:00036A7415384878,45751F20240F522E834F2E=182430000C:000301394F2E154763751F27,0F707A802629710D192035=14202C3808:0003391983845475,2E1F0F6A702971722A0D04=0F1B270333:00483F,6338200F2A=3B0B17232F:00481F2023221E27262189,0F292C2E1B=122A36061E:0076645089,8819=202C380814:0076777566262322271F201E,0F111852290D=101C283404:00763989,0F2036=1E2A360612:00788B89,0671292E25=010D192531:00784C793989,0F29702E1F208A21=31010D1925:0006261F1E201D212322,0F2938111801=2A3606121E:00060403702C2E4C154947443D651F,0D2920=101C283404:0006522E261F20,0F712939=2632020E1A:00060724232227261F2025,520F157929382F22=31010D1925:0006547677,0F5229151F201B=0E1A320226:00061A161718110F292A0C26271F21797001022F49,470D=0814202C38:002876396577261F20,5283290F37=212D390915:0028397976771E232227,0F522E47442027=121E2A3606:006389,8822=101C280434:007B7C3989,881E=1830000C24:007B343589,8805=2E3A0A1622:00021719792B155D5466774962,010611180F292030=14202C3808:00020370454F0D3933192C2E2D156375261F202322,0F7123=0E1A260232:0002070818111A16175B153E445D5452848365647576,2038454F15=182430000C:0007385476771548,52061F2024=2D39091521:0007504089,0F29157030=15212D3909:0007504089,060F71702F2918=15212D3909:0007504089,880B=17232F0B3B:000770171989,0F2E20382F=0B17232F3B:00077089,522E1F8A202C=07131F2B37:000704036939487C4466,0F7011293821=1824000C30:000715547776,521F18=0E2632021A:0007030401021811171A0F2E2322271F1E706749528483,202F293800=0F1B330327:00077663,0F297138202C=0B17232F3B:000776776548,0F1118152E1F2017=121E2A3606:00077665776489,52830F208A14=1A2632020E:00077B7C4834353989,2952203B=2632020E1A:00076A386563,0F7D8A2066454F52754C15=1E2A360612:00076A0F3874485040,06707C2509=3606121E2A:00076A74504089,5229702C7D15=14202C3808:00076A74173926271F1E20,0F7029522B09=000C182430:00076A54196348767765,7920297115528A0D382B16=101C283404:000734357B7C3989,0F528329200C=06121E2A36:0007343589,290F7104=2E3A0A1622:0007343589,0F292F702012=182430000C:0007343589,0F71296B708003=15212D3909:0007343589,7129706300=0D19310125:0007010618111A332D302F15262322271E530270164C,560F712924=0E1A263202:000701020618111A1752848354230C7027,262038292C=111D293505:0007711F204840,010F29153814=17232F3B0B:00076527262322,1552835A201D0F382D=0D19253101:0007363F8B3989,09292C208A0F28=030F1B2733:000739483F66,0F208A2B0A=04101C2834:0007397B7C343589,0106522008=020E1A2632:0007396A48343589,0F203A=283404101C:00073934357B7C89,0F5223=3505111D29:000739343589,032010=0A16222E3A:000739343589,520F2F=111D293505:000739343589,8A200A=15212D0939:00077A7089,8817=17232F3B0B:000789,8D3B=172F3B0B23:000789,8815=1B2733030F:007C343589,881B=212D390915:007C343589,8812=15212D3909:006A79190F6F2627,6B46204538290B=380814202C:006A38075040,0F630141202B454F2D=121E2A3606:006A5040077448,702B2C0F2F292E=0B17232F3B:006A583F232227261F20,0F291547031C=232F3B0B17:006A6F391974,0F2E614447702C292F71201F38521F=31010D1925:0034353989,522E1F2B=0D19253101:00343589,060F5200=2A3606121E:00343589,7129565A01=131F2B3707:00343589,883B=111D350529:00343589,8800=152D390921:000150402627,0F292F2B1E=2733030F1B:00010F17505840,565A80385283846315=101C283404:000103020611187B7C2D4E616439201E0C26,522E474429=101C283404:0001030239450D297115332C2E4C,0F542070528438632C=101C283404:000103392E54837548,19700F58157A20381F=1830000C24:00010670175B71292A152322271E,03637C2B380F=0E1A263202:0001067052842E71291F20,030F38477533=131F2B3707:0001067011185B0D332C2E2D712909262322271F200C,0F5263250C=17232F0B3B:000106040318111A170F33292A26276A201D0C7A71077C1F1E74694F,520A=0D19253101:0001060403232226380F767754,568020152D=111D293505:000106025B75712904032D302F382B2A0D801E20,2E1F0F0C=0D19253101:00010607155B5C26271E2021165D83,38470F2920=16222E3A0A:000106073018110F3329271E0C7A0D75,3826201508=0F1B273303:00010618111A16332C2E2F2D27200C07483A450D,1552843825=0E1A263202:000102261E2027,03476F700F2971382E39=15212D3909:0001027007834878,2E388A201D17=131F2B3707:00010203450D3329152C2E2F5375,0F638A6A1D382D=0E1A263202:000102030D70332C2E29712F534426201F1E,0F38152F=121E2A3606:0001020370450D332C2E2D152971,0F52838A201D1B=1D29350511:0001020370528384631575712D2E4E3E581F1E1D,292C2B452620803A=222E3A0A16:0001020370392F2971152B54754C,458A1F0F20462C=14202C3808:0001020370392F80712B546675201E26,1F58472E152F=16222E3A0A:000102037039714515750D33,201D381F092E0F1103=32020E1A26:000102030F7039453319152E2D2F63751F0C1E20,71290D38472C=16222E3A0A:000102035270392E2D5863,0F381D2B2921201511=131F2B3707:0001020352666A,0F7020262938172F3A=2430000C18:00010203332C2E2F1558631F,0F1920707A2971264627=05111D2935:0001020311180F702E1F7952838468332D6749443E46630C1E1D21,292B2035=1C28340410:000102031118396375664819,1D4138702080291F=232F3B0B17:000102033945332C6375201D21,0F1929710D702D=101C283404:00010203390D3329152C2B751E20,2E1F54475352458316=111D293505:0001020339161745514F2C190F1A152E2D2F304979,8D13=17232F3B0B:00010203396A79637566201D211E,29387D71707A30=101C283404:000102033911170D3319152E2F0947442627201F,8D25=3505111D29:000102031811392E2D19528384543E4463751F20,152F1A290F0D=0E1A263202:0001020626232227201E,0F2E03801F0F=101C283404:0001020617385483,030F47202B6B1B=2733030F1B:000102060F17705283797823221E2027,2E712910=121E2A3606:000102062A397129797B7C2E1F2425,162F5D20262B=182430000C:0001020603691817452C2E2D498344,412B6A09633808=3A0A16222E:0001020603700F7B7C2E1F692D48302F565A586366240C21,2B151A292039=17232F3B0B:000102060717706A33392D2E4E674447482322271E210C,71292B4F2023=33030F1B27:0001020607036A5D397C2163664744,0F4E25208A08=04101C2834:000102060775261F20,71290F70150C=101C283404:00010206111803302F565A802D4E2B881F261E0C,0D0F521B=16222E3A0A:00010206090D5B7952838454685D7B7C443D77656366201F1E,030F47454F24=010D192531:000102071283542627201D210C4C78,29580F2E6352031F01=32020E1A26:00010275261E0C2322,6303706F0F292E1F19=0E2632021A:000102081A158483262322270C1E,700F292E1B=101C283404:00011A1615262322271F1E200C214C,472B0F1124=3707131F2B:00013974150726271F1E200C,0F06520D297170382B4507=17233B0B2F:000118111A16175B154C26271E200C232279302F5D528384547543,0F297C7A03=17232F3B0B:000118111A332C2E2D1571292A2627200C7A1979,387C02=172F3B0B23:000118111A332C2E2D1571292A23222627200C7A791970302F5D5283845456,387C454F1F=0E1A263202:0001081811171A160F1571292A26271E20396476452B0D,632E523813=15212D3909:00211D1E232289,8D16=0E2632021A:006526232227201F,8926=05111D2935:00657689,6B0F5225=16223A0A2E:00654C89,8D03=2A3606121E:006589,2970472008=15212D3909:001A170F5B332E2D7129261E203E5D,1503528306=152139092D:001A170F1379232227761926,71293833=1C28340410:001A1715838444363F261F1E200C2322,0F476B52036338=14202C3808:001A2B5448701938754C,152E20242510=0D19253101:0039504089,8D39=283404101C:003926271E20747677642322480C06,2E1F38=0F1B273303:0039262322271E201D210C0748766465776A,150F382939=202C380814:0039332C2E2D2F152B4644261F1E,0F7019382971637A31=192531010D:0039787989,1F2E2010=101C283404:0039787089,2E1F8A034F206B29=05111D2935:00398B7989,0F200C=131F2B3707:0039077426271F1E20,0F29713852832B632D=14202C3808:0039076A7426271F2048,0F79197029717A382C=0E1A263202:00397C343548,8929=3B0B17232F:003934357B7C89,0F2028=16222E0A3A:0039343589,8D34=16222E3A0A:0039343589,880B=111D293505:0039343589,8805=17233B0B2F:0039343589,882E=101C283404:0039343589,8806=17233B0B2F:00390103040618111A17332C2E262322271E157A7071302F45631F2075,807C2B=0915212D39:00396577647969271E2322,52012E1F2620612D=16222E3A0A:00391A6A15384C4943363F7448,0F0379472B6319=192531010D:00394C786F89,0F2E442035=182430000C:003989,882A=121E2A3606:003989,8816=13191F252B313701070D:003989,8801=0D19310125:003989,880D=0F1B273303:0018112C2E01040607332D292A09270C2322696870302F47023945,382052801C=101C340428:00190F153917701A48,472E1F200334=1F2B370713:00195475667689,5229152E2019=222E3A0A16:004C504089,0F5215470A=3A0A16222E:005C702C2F802B154C78,5A562E1F208A45466319=102834041C:0089,090F1538=131F2B3707:71297C790001062A0F802D,5215705D2F=0E1A263202:7100030170391959152E2D2F2B,0F201F4F75668A3824=030F1B2733:5483846376656419786A,298030201A=2430000C18:5452838479195D00012A0D7B7C2C2E3348156366242526201E,0F71292D=07131F2B37:54528384700001020339482D301571565A363F637566,06292B201F8A29=030F1B2733:54528384036F796A153E65,7129631D=2733030F1B:5452848303152F802C2D,2E1F208A7A700F29710C7D22=33030F1B27:118384155B20272E1F21,0F03380E=0E1A263202:1179302F842627201E,0071292E1F0E=06121E2A36:11177B7C52842C2E5B1F20,060071292F0F0E=101C283404:110F70528475660D7129,012E1F20262A=101C283404:110F03706A795215636626271E,0C012F38062C292B07=020E1A2632:110F0001702C2E7129201F,52060C=0E1A263202:110F00017052792E1F1E,71290D2B2020=293505111D:110F1A6A702C2E1952838453712F6375,45201500011D=101C340428:11037B7C2E2F7129,0F52200B=0E1A263202:11000170792C2E7129,0F52201F01=111D350529:110001527B7C2E75,0F2009=04101C2834:1100010206702D804E2B2620,0F52540D00=131F2B3707:110001392E1F20,0F712932=17232F3B0B:117154528384292C2E302D4E092A0D50407970443D,5680410023=2B3707131F:111879690001020370396A2E2D528384543E637566,0F380D58292000=222E3A0A16:111879076A1A171523221E272024,5229700F1D012E2B0C2F0B=06121E2A36:111817000106702C2E71292A0D33802D302F4E2B44,0F52252029=07131F2B37:11180F000704030D7C684580302F153867534775,70204119=2430000C18:11180F00012A0D70795D7B7C39332D2C2E4E4863664C,064F478A2037=1E2A360612:11180F000152548471702C2E2D4E303348492A156144474C63,8A201F38450618=202C380814:11180F000128032A0D7129302C2E2F2D802B09411F1E20,5284543824=2F3B0B1723:11180F0001020370391952845329712B632E7B7C792D2C8020,385D151E=293505111D:11180F0001020339700D29716375662E1F2620,3815568016=16222E3A0A:11180F000102587B7C5283847971302F804B2B497675,09612E1F201E=232F3B0B17:11180F00010E715229702E79692C2D2B15093954444C66,2F565A806132=131F2B3707:11180F71297052838454792A0D33802D153853201F1E212627,012F56476628=3707131F2B:11180F71297000010604032A0D793969302F33802D636675,201F52565A1E18=1D29350511:11180F5C000102030D332C2E195329711563261F202322,52843A=202C380814:11180370392A0D3329712C2F156375795B5D,450C8A00382E1F20010C=3A0A16222E:11185283847975661271393D692D15565A201E262322,292F060D0C02=30000C1824:111852838470795B302F404533802D152B39201E23221D212726,0F2E1F010D2923=2D39091521:111852838453546319297115030D332B2C,060F8A2E38201F38=0D19253101:111800020D041A796933483E5347446563751F1D212026,010F09150C17=2430000C18:1118000717161A2C2E3371292B56433D6375363F,0F010347208A09=020E1A2632:111800012A0D2C705271292E201F,1538617904=30000C1824:11180001032A0D70795B2C2E302F802D4E152B33714161201F26,520958470A=000C182430:11180001020439332C2E302F2B5844477515634C1F2721,0F520D19267A2971702037=232F3B0B17:111800010206037939695483845D2D2E4E446375661F262120,0F52290D7123=31010D1925:111800010206071979697C67474475664C,0F16298A2014=182430000C:11187129705B79000106032A0D397B6F7C802D2C2B61756627261E0C1D21,0F2E15414732=192531010D:111871545283842979397B7C69152B2A0D33485324251F1D1E26,6B00702F800C201E=1F2B370713:5D0007363F232227261E21,037C0F471F202E=0E1A263202:6526232227201F,880E=111D293505:653989,8806=131F2B3707:363F6526232227201E89,8832=1A2632020E:1A454F548384,881D=121E2A3606:1A38712975,0F201A=0E1A263202:1A162623227954,0001710F290C=0F1B273303:1A16170F13152654,3852204F32=0F1B273303:1A5D453A332C2E2F4B25262322271F201E1D21,000F704723=2F3B0B1723:3950177089,522E1F0F201A=1D29350511:39701117302F713819297566,004551152C2E201D1F34=121E2A3606:393589,881A=15212D3909:393589,882C=182430000C:393589,8825=101C283404:393589,881C=2531010D19:394089,71294709636F7C440D=0D19253101:3948007889,8D38=2430000C18:394889,8811=111D293505:394889,882A=0E1A263202:3907,8807=0D19253101:39343589,8831=101C283404:393489,8801=222E3A0A16:390050404C89,0F528329692018=131F2B3707:39006A26201F,0F520D38580629712B09=380814202C:390001022C2E302F1575804B2D261F20,0D0F0319707D5229717A15=17232F3B0B:3989,8D11=0A16222E3A:181179838454637566,0F5229012007=111D293505:18117915384C,52200E=0C18243000:1811795B032C2E302F802D4163754C27261E1D2120,010D0F29521F29=16222E0A3A:1811795B5466,01202F=192531010D:181179000607040D03302F5283844F3A45512B1533664C47,090F702E208A2B=0B17232F3B:18117900012C2E5B1F20,0F710D52291A=122A36061E:181179190E332C2E2D52637566262322271F20,8D02=0F1B273303:181117332C2E1526232227201F1E3E,38030F522922=142038082C:181170792C2F7129,52201F=121E36062A:18117001061579,71292023=121E2A3606:18117000012C2E7129,522024=3505111D29:18110F3900010203700D3329711563752E1F0C201D,38525D1A=101C283404:18110F197983842E230C271F1E7A70525463,2620291503=111D293505:1811002E1F8384,0F2022=1824000C30:181100012C2E2F1F,0F3821=142038082C:181100012C2E2F1F20,0F5229=14202C3808:181100015B3875,2E2034=15212D3909:181100012A0D2C2E2F2B2D304E447129841F,0F09416138200F=0814202C38:181100012A0D52842953411E20,2E1F0F47152F=131F2B3707:18110001032A0D845B7129302F791533536678,0F208A1F1D33=17232F3B0B:18115452840001712970802D2C2E302F2B2A0D78791F,0F204758610E=0F1B273303:18111A16175B3315262322271F1E201D215D838454433E363F754551,00030F290D=0C18243000:18115C0001702A2C2E2F5283847129795B6375802D154C,1F208A2407=15212D3909:88,262052830D=17232F3B0B:88,8D17=102834041C:88,8D0B=15212D0939:88,8D24=121E2A0636:88,8D09=17232F0B3B:88,8D13=111D293505:1979,3F2F2E45207D37=112935051D:1966583F6589,8831=16222E3A0A:4C4089,880C=0C18243000:4C78,297172380D2A2E0F47484112=16222E3A0A:5C0F1811790070528471291F20,2F0380512514=1C28340410:5C0001020652835B0E03804B2D4E2B752024210C,292E565A36=1A2632020E:5C11180001027170520D2984832B15200C,03802E386333=15212D3909:89,6B34=111D293505:89,8D";$.TIME_YI_JI="0D28=,2C2E2128=,2C2E0110=,2C2E0C1F=,2C2E7A701B1C=,01022308=,01026D003026=,000106037A702D02=,000106037A702802=,000106037A703131=,000106037A70341B=,000106087A701F0E=,000106087A702E15=,000106087A702C2E0E39=,000106087A702C2E0D2B=,881727=,88032D=,88352F=,882B2F=,882125=,882A22=,880C1E=,880220=,88161A=,882018=,883422=,880113=,880B11=,883315=,882915=,881F17=,88150D=,88122E=,88302A=,88262A=,883A28=,880826=,881C2C=,881905=,882303=,880F09=,88050B=,883701=,882D01=,88060C=,882410=,881A12=,882E0E=,88380E=,881010=,883630=,881834=,880E38=,882232=,882C30=,88043A=,881E0A=,880006=,883208=,880A04=,881400=,882808=,883137=,883B35=,882737=,881D39=,88133B=,880933=,88251D=,882F1B=,881B1F=,88111D=,880719=,88391B=,88212D=,7A702C0B15=,7A70551515=,7A70552D00=,7A7D2C2E1334=382C,000106083528=382C,7A70000106080504=382C7A6C55700F197120,00010608223A=380006082C,01026D0D2C=380006082C,01027A70551D30=380006082C0F71295283,01027A703636=380006082C0F71295283,0102416D1226=380006082C7A706C550F297120,0102251C=380006082C7A6C55700F197120,01026D2300=3800010608,2C2E0324=3800010608,7A702C2E082E=3800010608,7A70552C2E3B34=38000106082C,2F8026330C=38000106082C,2F80267A701622=38000106082C7A70556C0F197120,1904=38000106082C7A6C55700F197120,1514=38000106087A70556C0F197120,2C2E3138=38000106087A70556C0F197120,2C2E0B10=38000106087A6C55700F197120,2C2E2B28=387A6C55700F197120,000106082C2E2E16=38082C,000106037A700E3A=38082C,000106037A703708=38082C6C550F197120,000106037A701B20=38082C6C550F197120,000106037A70111C=38082C6C550F197120,000106037A703A2D=2C38,000106082733=2C38,000106081015=2C38020F71295283,000106083817=2C2920,7A700F03=2C2920,616D1839=2C292070556C100F,00010608161B=2C2920020F7100010608,302B=2C2920556C0F1971,7A701E07=2C2920010F,1B1B=2C2920010670100F00,352B=2C292000010206100F70,082B=2C292000010206100F707A,0C21=2C292000010870556C100F7A,0617=2C29206C0F1971,7A70552807=2C29207A70556C0F197100010206,122F=2C29207A706C55100F1971,1017=2C29207A706C55100F1971,2731=2C20,616D0436=2C2070550F,7A7D01022E12=2C200F71295283,01021831=2C20556C0F1971,7A702912=2C20100F52,01026D1D33=2C807138152952,000106080E31=2C80713815295270556C100F,000106083201=2C80713815295270556C100F7A,000106080327=2C80713815295202100F,000106037A702B2B=2C80713815295202100F,000106037A702801=2C80713815295202100F,000106083639=2C80713815295202100F7A7055,00010608341D=2C807138152952556C100F,000106037A701B23=2C807138152952010F6C55,7A70302D=2C8071381529520102100F7A7055,2231=2C8071381529520102100F7A6C55,1F13=2C80713815295200010206100F20,7A70313B=2C8071381529526C550F,000106037A701A15=2C8071381529527A70550F,000106080219=2C8071381529527A70556C0F19,000106082E0D=2C80713815295208556C100F,000106037A70161F=2C80711529525670556C100F,000106083813=2C80711529525670556C100F,000106082D05=2C807115295256020F7A706C55,2237=2C80711529525602100F,000106081F0D=2C80711529525602100F55,000106037A702627=2C8071152952560102100F7A706C,2C33=2C8071152952560102100F7A706C,0939=2C80711529525601100F7A7055,416D021F=2C80711529525600010206100F70,0E37=2C80711529525600010870556C10,2129=2C8071152952566C550F,7A702519=2C8071152952566C550F19,7A702417=2C8071152952566C55100F19,000106037A70043B=2C8071152952566C55100F19,000106037A700C1B=2C8071152952566C55100F19,7A703B31=2C8071152952566C100F19,7A705500010603172D=2C8071152952567A70550F,416D3A2F=2C8071152952567A70556C100F,1901=2C8071152952567A706C55100F19,1119=2C8071152952567A6C55700F19,1C2B=2C80711529525608556C100F,000106037A701403=2C80711529525608556C100F,000106037A70071D=2C80711529525608100F55,000106037A701908=292C20,7A7D01026D2E0F=292C200102100F7A7055,032C=292C20000608,0102071C=292C206C550F1971,000106037A700E33=292C207A70556C000108,0503=2920550F,7A702C2E0721=2920556C100F,7A702C1225=2920000108556C100F,7A702C2E1F11=2900010870556C100F7A,032C201A11=297A70556C100F,032C200E35=297A70556C100F,032C20000A=70556C0F197120,7A7D3A29=70556C100F2C20,000106081C25=70556C100F2C20,000106082805=70556C100F2C20,000106082F20=70556C100F2C20,00010608150C=70556C100F29522002,7A7D000106033314=70556C100F,00010608032C20122A=70556C08,7A7D000106032415=70100F2C715220,000106081A0D=4B0F2C20,000106037A701902=4B0F2C20,000106080E3B=4B0F20,7A702C000106032E17=0F2C09382920,7A7000010603363B=0F2C093829206C55,000106037A70082C=0F29528320,7A2C71707D01026D0718=0F712952832C20,7A7D01021C26=0F712952832C20,7A7D01026D3918=0F712952832C2038000608,01027A70552126=0F712952832C2010,01021330=0F712952832C207A7055,01021118=0F712952832C207A7055,01023524=0F715220,7A70552C2E3419=20556C0F1971,7A702C2E1D31=2000010206100F,7A702C1E05=0270290F2C207A,00010608212C=0270550F,00010608032C200C23=0270550F,00010608032C203706=0270550F20,000106082C2E2520=0270550F20,7A7D000106032E13=0270550F202C807115295256,000106081620=020F29528320,000106087A2C71707D0112=020F2952832055,7A2C71707D000106030F08=020F20,7A7055000106032A23=020F712952832C20,2521=020F712952832C20,000106082F21=020F712952832C20,000106080003=020F712952832C20,7A700432=020F712952832C2038000106086C,7A701E03=020F712952832C2070556C10,000106081623=020F712952832C2001,2236=020F712952832C2001,000B=020F712952832C2001,7A70552C36=020F712952832C20013800,416D341E=020F712952832C20017055,7A7D0E32=020F712952832C200110,7A7D0329=020F712952832C2001107A706C55,262D=020F712952832C20017A7055,1229=020F712952832C2000010608,122D=020F712952832C2000010608,1011=020F712952832C2000010608,0A0B=020F712952832C2000010608,1F0F=020F712952832C2000010870556C,1A0E=020F712952832C206C55,7A703312=020F712952832C2010,000106037A70172A=020F712952832C2010,7A7055000106033B3B=020F712952832C2010,416D000106037A700B12=020F712952832C20106C55,000106037A700615=020F712952832C207A7055,3203=020F712952832C207A7055,201B=020F712952832C207A706C5510,2023=020F712952832C207A6C7055,2A1B=020F7129528320,000106087A702C2629=020F7129528320,7A702C2E3709=020F7129528320,7A702C000106083A24=020F7129528320,7A70552C2E341A=020F712952832038000106087A70,2C2E1C2D=020F712952832001,7A702C2E0611=020F712952832001,7A702C2E021A=020F712952832001,7A7D2C2E3815=020F71295283200100,7A702C2E3024=020F71295283200110,616D2C2E093B=020F71295283206C55,7A702C2E000106030505=020F71295283206C55,7A702C030C1A=020F71295283207A706C55,000106082C2E3705=020F712952837A706C55,032C201F0C=02550F20,000106037A700508=02550F20,000106037A703029=02550F20,000106087A702C2E3027=02550F202C807115295256,000106037A703526=02100F2C29528320,000106037A70150E=02100F2C29528320,00010608380F=02100F2C29528320,000106083527=02100F2C29528320,7A70000106031C27=02100F2C2955528320,000106081227=02100F2C29555283207A706C,00010608060F=02100F2C29555283207A706C,000106081D34=02100F7020,7A7D000106030F02=02100F7055528315,2F8026000106083920=02100F7055528315,2F802600010608212A=02100F7055528315,000106082A20=02100F7055528315,000106083A26=02100F7055528315,000106080439=02100F7055528315,000106080008=02100F7055528315,000106081B21=02100F7055528315,00010608071B=02100F7055528315,000106080D24=02100F7055528315,000106082C2E2C32=02100F7055528315,000106082C2E2B2C=02100F7055528315,00010608032C201402=02100F7055528315,00010608032C20391C=02100F7055528315,7A7D000106031F10=02100F705552831538,2F8026000106082D06=02100F70555283157A,2F802600010608290D=02100F20,7A702C000106032416=02100F20,616D000106037A702C34=02100F20292C,7A70000106031C2A=02100F528315,7A7055000106032234=02100F528315,7A7055000106032A21=02100F55528315,000106037A703313=02100F55528315,000106037A700509=02100F55528315,000106037A702D03=02100F55528315,000106037A700613=02100F55528315,000106037A702235=02100F55528315,000106037A70391D=02100F55528315,000106037A70100F=02100F55528315,000106087A702C111B=02100F55528315,000106087A702C2E2916=02100F55528315,7A2C71707D000106030430=02100F55528315,7A2C71707D000106033B32=02100F55528315,7A2C71707D000106081903=02100F55528315,7A702C2E000106033A27=02100F55528315,7A702C000106030931=02100F55528315,7A702C000106030C1C=02100F55528315,7A70000106032735=02100F555283152C8071,000106037A700B13=02100F555283152C807138,000106037A701517=02100F555283152C807138,000106037A702917=02100F555283156C,000106037A703136=550F522010,7A2C71707D01022A1E=550F715220,7A702C2E1333=550F715220,7A702C2E000106081405=556C,000106087A702C2E0433=556C,7A70000106083B38=556C0F197120,7A702C2E1E01=556C0F19712001,7A702C2E190B=556C000108,7A70230B=556C000108,7A702C2E1A0F=556C0001082C807115295256,7A701830=556C0008,7A2C71707D01023814=556C100F295220,7A2C71707D03082F=556C100F295220,7A702C0C1D=556C100F295220,7A702C2E00010603021D=556C100F295220,7A70000106031121=556C100F2952202C,7A701835=556C100F2952202C80713815,000106037A703B30=556C100F29522002,000106037A70290C=556C100F29522002,7A70000106030930=556C100F2952200238,000106037A702B27=556C100F2952200102,7A702C2E3812=556C08,000106037A701012=556C08,000106037A701621=556C08,7A702C2E000106033209=556C08,7A702C2E000106032021=556C082C807138152952,000106037A700009=556C082C807138152952,000106037A702A1D=807138152952000170100F,032C200A05=807138152952000170100F,032C20273B=8071381529527A706C550F,032C203423=80711529525600010870556C100F,032C201511=80711529525600010870556C100F,032C20183B=80711529525600010870556C100F,032C203311=010F2C80093829206C55,7A702B29=010F2C80093829206C55,7A70616D3A25=010F2C09382920,7A70550825=010F2C093829207A6C5570,201E=010F09382920,7A702C2E352E=010670100F2C71522000,1C28=010670100F7152207A6C55,2C2E2E11=0106100F7152,7A70032C203205=0106100F71526C,7A70032C202A19=0102290F20,7A702C2E2A1F=010270290F2C207A6C55,2413=010270290F2C207A6C55,0437=010270290F2C207A6C55,0935=010270550F,032C201B18=010270550F20,2B24=010270550F20,2F80261906=010270550F20,2C2E2732=010270550F20,2C2E071A=010270550F20,2C2E3700=010270550F20,7A7D1724=010270550F203800,2F80263921=010270550F202C29,416D290F=010270550F202C807138152952,1619=010270550F202C8071381529527A,3207=010270550F202C80711529525600,0829=010270550F2000,060D=010270550F2000,0001=010270550F2000,2736=010270550F207A,1B1E=010270550F207A,2C2E140B=010270550F207A6C,0114=010270550F7A6C,032C202C3B=010270550F7A6C,032C20201F=0102550F20,7A702C1A13=0102550F20,7A702C3637=0102550F20,7A702C280B=0102550F20,7A702C223B=0102550F20,7A702C032D04=0102100F2C29528320,7A701409=0102100F2C29528320,7A70552307=0102100F2C2952832000,0005=0102100F295283,032C207A700A00=0102100F2955528320,7A2C71707D082D=0102100F2955528320,7A702C2E2809=0102100F295552832000,7A702C2E2B2D=0102100F7055528315,021E=0102100F7055528315,0C20=0102100F7055528315,2F80263420=0102100F7055528315,2F80261510=0102100F7055528315,2F80262E10=0102100F7055528315,2F80262806=0102100F7055528315,2F80263134=0102100F7055528315,2F80261D38=0102100F7055528315,2F8026251A=0102100F7055528315,2F80263A2A=0102100F7055528315,2F80267A7D1120=0102100F7055528315,2F80267A7D0824=0102100F7055528315,2C2E1E00=0102100F7055528315,2C2E7A2F1D=0102100F7055528315,032C200A06=0102100F7055528315,7A7D2C2E1C2E=0102100F70555283153800,2F80261832=0102100F70555283153800,2C2E280A=0102100F70555283153800,2C2E320A=0102100F705552831538007A,2738=0102100F705552831538007A6C,2F80260720=0102100F705552831538007A6C,2F8026032B=0102100F70555283152C292000,1907=0102100F70555283152C292000,3703=0102100F70555283152C292000,2739=0102100F70555283152C29207A,251B=0102100F70555283152C29207A,2B25=0102100F70555283152C29207A6C,1331=0102100F70555283152C207A,0D29=0102100F70555283152C80717A,1B1D=0102100F70555283158071,032C200D2D=0102100F705552831500,1725=0102100F705552831500,352D=0102100F705552831500,0C19=0102100F705552831500,150F=0102100F705552831500,3025=0102100F705552831500,0F07=0102100F705552831500,1E09=0102100F705552831500,251F=0102100F705552831500,010C=0102100F705552831500,2F80261A10=0102100F705552831500,2F80261016=0102100F705552831500,2F80260934=0102100F705552831500,2F80262910=0102100F705552831500,2F80267A7D1A14=0102100F705552831500,2C2E2304=0102100F705552831500,7A7D3421=0102100F7055528315002C2920,212F=0102100F7055528315002C807138,111F=0102100F7055528315002C807138,3135=0102100F7055528315008071,032C200828=0102100F7055528315007A6C,2022=0102100F70555283156C,7A7D140A=0102100F70555283156C,7A7D2C2E2127=0102100F70555283157A,1618=0102100F70555283157A,0B0F=0102100F70555283157A,1836=0102100F70555283157A,172E=0102100F70555283157A,2F8026352A=0102100F70555283157A,2F80262B2E=0102100F70555283157A,2F8026082A=0102100F70555283157A,2F80262306=0102100F70555283157A,2F80263702=0102100F70555283157A,2F80262C38=0102100F70555283157A,2F80261E06=0102100F70555283157A,2F80261B1A=0102100F70555283157A,2F8026032A=0102100F70555283157A,2C2E1F14=0102100F70555283157A,2C2E3810=0102100F70555283157A,2C2E262C=0102100F70555283157A29,032C20201A=0102100F70555283157A00,2F80260A02=0102100F70555283157A00,2F80261838=0102100F70555283157A6C,2F80260E34=0102100F70555283157A6C,2F80260438=0102100F70555283157A6C,2C2E2F1A=0102100F70555283157A6C,2C2E2305=0102100F528315,7A70553525=0102100F5283152C8071,7A70550723=0102100F528315807138,7A7055032C200D2A=0102100F55528315,2F80267A2C71707D3316=0102100F55528315,2F80267A2C71707D1224=0102100F55528315,2F80267A2C71707D212E=0102100F55528315,2F80267A700616=0102100F55528315,2F80267A70380C=0102100F55528315,2F80267A700434=0102100F55528315,2F80267A702A18=0102100F55528315,7A2C71707D2628=0102100F55528315,7A2C71707D100C=0102100F55528315,7A2C71707D2F80261729=0102100F55528315,7A701F15=0102100F55528315,7A70240E=0102100F55528315,7A703632=0102100F55528315,7A701339=0102100F55528315,7A700115=0102100F55528315,7A702C2C37=0102100F55528315,7A702C320B=0102100F55528315,7A702C3206=0102100F55528315,7A702C2E2238=0102100F55528315,616D2F80267A2C71707D3816=0102100F555283153800,2F80267A701406=0102100F555283153800,2F80267A700111=0102100F555283152C8071,7A700501=0102100F555283152C8071,7A70370B=0102100F555283152C807138,7A703B37=0102100F555283152C80713800,7A701C2F=0102100F555283152920,7A702C240F=0102100F555283152920,7A702C0A03=0102100F555283152920,7A702C0221=0102100F55528315292000,7A702C2E3317=0102100F55528315292000,7A702C2E3634=0102100F5552831500,2F80267A2C71707D3028=0102100F5552831500,7A2C71707D111A=0102100F5552831500,7A2C71707D071E=0102100F5552831500,7A2C71707D2913=0102100F5552831500,7A702F19=0102100F5552831500,7A702301=0102100F5552831500,7A702C3919=0102100F5552831500,7A702C3B33=0102100F5552831500,7A702C2E0223=0102100F5552831500,7A702C03032F=0102100F55528315006C,7A702C2E262E=0102100F555283156C,2F80267A70032E=0102100F555283156C,7A2C71707D0F0B=0102100F555283156C,7A701D3B=0102100F555283156C,7A702C2E030116=01100F1571292C20,2F80267A703200=01100F1571292C20,7A7055370A=01100F1571292C2000,7A701B22=01100F1571292C2000,7A701E04=01100F1571292C2000,416D1336=01100F1571292C20007A70556C,391A=01100F1571292C20007A6C7055,1C24=01100F1571292C207A7055,2F80260D2E=01100F15712920,7A702C2E2D0A=01100F15712920,7A702C2E2800=01100F15712920027A7055,2C2E251E=01100F157129207A70556C,2C2E1228=01100F157129207A70556C,416D2C2E050A=01100F5220,7A70550000=01100F5220,616D2624=01100F5220,616D2F80267A702804=01100F5220006C,7A70550F06=01100F52207A70556C,2C2E2F1E=01100F52207A70556C,2C2E1014=01100F527A70556C,032C20161E=01100F712920,7A702C2E0A0A=01100F71522C2920,616D161C=0070100F292C20,01020F04=0006100F7020,7A7D01026D183A=0006100F7020,616D0102201C=0006100F20,7A2C71707D01026D1D37=000170100F292C20,2F18=000170100F292C802038,161D=00014B0F,032C201338=00014B0F2C2002,2F80261728=00014B0F20,2C2E0F0A=00014B0F20,7A2C71707D1833=00014B0F20,7A702C1407=00014B0F20,7A702C1401=0001060838,2C2E1123=0001060838,416D032C202019=000106082C38,2C31=000106082C38,391F=000106082C38,2523=000106082C38,7A70416D1C29=000106082C38020F71295283,3811=000106082C38020F71295283,7A700937=000106082C386C550F197120,7A700117=00010252100F29202C7A706C55,1337=00010206700F202C807138152952,3A2E=00010206100F7020,616D0610=00010206100F20,7A2C71707D0328=00010206100F20,7A700F01=00010206100F20,7A702C3310=00010206100F20,7A702C2E3139=0001100F298020,7A702C2625=00010870556C100F2C20,1909=00010870556C100F2C20,391E=00010870556C100F2C20,2124=00010870556C100F2C20,2F80267A7D0F00=00010870556C100F2C2038,2D09=00010870556C100F2C2002,0500=00010870556C100F2C207A,2C39=00010870556C100F2C207A,2518=00010870556C100F2C207A,0B0C=00010870556C100F2C207A,2F80262911=00010870556C100F7A,032C200007=000108556C100F2C2029,7A700A07=000108556C100F2C2029,7A701332=000108556C100F20,2C2E7A70100D=000108556C100F20,7A702C2E2239=000108556C100F20,7A702C2E0A01=000108556C100F20,7A702C2E380D=0001086C100F2C20,7A70551D36=0001086C100F2C20,7A70552F1F=000108100F70552920,010D=000108100F70552920,616D0507=000108100F705529202C80713815,0B0D=000108100F705529202C8071157A,3133=000108100F7055292002,2309=000108100F7055292002,416D0002=000108100F705529207A,2F80263202=000108100F705529207A,2F80263638=000108100F705529207A,2C2E2A1A=000108100F705529207A38,2F80262414=000108100F705529207A6C,2C2E2E14=000108100F552920,7A2C71707D1404=000108100F552920,7A2C71707D0B17=000108100F552920,7A70330D=000108100F552920,7A702C172F=000108100F552920,7A702C2E3707=000108100F5529206C,616D7A702C2E302E=6C55700F197120,2C2E7A7D0C22=6C55700F197120,7A7D01026D1E02=6C550F297120,000106037A703923=6C550F297120,7A702C2E03230A=6C550F1920,7A2C71707D240C=6C550F19200210,7A2C71707D000106031A16=6C550F197120,000106037A701513=6C550F197120,7A703A2B=6C550F197120,7A701837=6C550F197120,7A702F23=6C550F197120,7A702F22=6C550F197120,7A702D07=6C550F197120,7A702C2E3922=6C550F197120,7A700102093A=6C550F197120,7A70000106031B19=6C550F197120,616D7A70071F=6C550F197120,616D7A702C2E212B=6C550F197120,616D7A702C2E000106032734=6C550F197120292C,000106037A700325=6C550F1971200001020610,7A702C122B=6C550F19712008,000106037A702411=6C100F2952,7A7055032C20010E=100F2C29528320,01023704=100F2C29528320,0102363A=100F292C206C55,000106037A702B26=100F2920,7A2C71707D01026D302C=100F7055528315,01021E08=100F7055528315,01022730=100F7055528315,01021512=100F7055528315,010200352C=100F7055528315,7A7D01026D2F1C=100F7055528315,7A7D01026D0222=100F70555283153800,01026D2412=100F70555283157A,01022230=100F70555283157A,0102060E=100F70555283157A6C,01022C3A=100F70555283157A6C,01026D1F12=100F1571292C20,01026D3B36=100F1571292C20,01026D1516=100F1571292C20,000106037A702302=100F1571292C20,000106037A701D32=100F1571292C20,000106082F8026330E=100F1571292C20,000106086D2A1C=100F1571292C20,7A7001026D313A=100F1571292C20,7A7000010603341C=100F1571292C20,416D7A70000106032B2A=100F1571292C2002,000106037A700326=100F1571292C20556C,000106037A70273A=100F1571292C2000,01026D0722=100F1571292C2000,01026D2E0C=100F1571292C206C55,000106037A701408=100F1571292C207A706C55,01022020=100F1571292C207A706C55,000106081726=100F1571292C207A6C7055,0102290E=100F1571292C207A6C7055,000106080932=100F1571292C207A6C7055,000106080D26=100F52,00010608032C20100E=100F5283153800,01027A70550B16=100F5220,2F8026000106081122=100F5220,6D010200133A=100F5220,01026D1F16=100F5220,000106037A703132=100F5220,000106083B3A=100F5220,000106082522=100F5220,00010608190A=100F5220,000106082C2E021C=100F5220,7A70000106030936=100F52202C,01026D3A2C=100F52206C55,01027A701A0C=100F52206C55,000106037A700E30=100F52206C55,000106037A700A08=100F52207A706C55,000106083204=100F52207A6C5570,01026D0B0E=100F55528315,01027A2C71707D0004=100F55528315,7A2C71707D01026D1D3A=100F55528315,7A2C71707D01026D3418=100F5552831500,7A2C71707D0102201D=100F712920,7A702C2E00010608030E36=100F71522C2920,01023635=100F715229,00010608032C20021B=7A70550F2C715220,1900=7A70550F715220,2C2E0A09=7A70556C,00010608172C=7A70556C,00010608032C200B14=7A70556C,00010608032C202914=7A70556C0F197120,2C2E0938=7A70556C0F197120,000106082C2E111E=7A70556C000108,0502=7A70556C000108,2F80260D2F=7A70556C0001082C807138152952,2D0B=7A70556C0001082C807138152952,3633=7A70556C0001082C807115295256,0C18=7A70556C0008,01020218=7A70556C0008,0102302F=7A70556C100F295220,000106082C35=7A70556C100F295220,000106081E0B=7A70556C100F2952202C807115,3130=7A70556C100F29522002,000106080506=7A70556C100F29522001,2C2E330F=7A70556C100F29522001022C8071,010F=7A70556C100F295220010200,0435=7A70556C100F295280713815,032C200614=7A70556C100F295201,032C20122C=7A70556C100F29520102,032C203B39=7A706C550F297120,0F05=7A706C550F297102,032C200D25=7A706C550F19712001,616D2233=7A706C550F19712000010608,2626=7A6C70550F197120,01021A17=7A6C70550F197120,00010608262F=7A6C70550F1971202C29,000106083529=7A6C70550F19712002,616D000106082D08=7A6C70550F197120103800,0102341F=7A6C55700F197120,2C2E172B=082C38,7A7055000106030D27=082C38,7A70000106030827=08556C100F2C20,000106037A702803=08556C100F2C20,000106037A701013=08556C100F2C20,7A7000010603262B=08556C100F2C20,7A7000010603240D=08556C100F2C20,7A70000106033631=08556C100F2C20,7A70000106030431=08556C100F20,7A702C2E000106031D35=08100F552920,000106037A701335=08100F552920,000106037A700612=08100F55292038,000106037A70";$.SHEN_SHA=["{s.none}","{sn.tianEn}","{sn.muCang}","{sn.shiYang}","{sn.shengQi}","{sn.yiHou}","{sn.qingLong}","{sn.zaiSha}","{sn.tianHuo}","{sn.siJi}","{sn.baLong}","{sn.fuRi}","{sn.xuShi}","{sn.mingTang}","{sn.yueSha}","{sn.yueXu}","{sn.xueZhi}","{sn.tianZei}","{sn.wuXu}","{sn.tuFu}","{sn.guiJi}","{sn.xueJi}","{sn.yueDe}","{sn.yueEn}","{sn.siXiang}","{sn.wangRi}","{sn.tianCang}","{sn.buJiang}","{sn.yaoAn}","{sn.wuHe}","{sn.mingFeiDui}","{sn.yueJian}","{sn.xiaoShi}","{sn.tuHu}","{sn.wangWang}","{sn.tianXing}","{sn.tianDe}","{sn.guanRi}","{sn.jiQi}","{sn.yuYu}","{sn.daShi}","{sn.daBai}","{sn.xianChi}","{sn.zhuQue}","{sn.shouRi}","{sn.tianWu}","{sn.fuDe}","{sn.liuYi}","{sn.jinTang}","{sn.jinKui}","{sn.yanDui}","{sn.zhaoYao}","{sn.jiuKong}","{sn.jiuKan}","{sn.jiuJiao}","{sn.xiangRi}","{sn.baoGuang}","{sn.tianGang}","{sn.siShen}","{sn.yueXing}","{sn.yueHai}","{sn.youHuo}","{sn.chongRi}","{sn.shiDe}","{sn.minRi}","{sn.sanHe}","{sn.linRi}","{sn.tianMa}","{sn.shiYin}","{sn.mingFei}","{sn.siQi}","{sn.diNang}","{sn.baiHu}","{sn.yueDeHe}","{sn.jingAn}","{sn.yuTang}","{sn.puHu}","{sn.jieShen}","{sn.xiaoHao}","{sn.tianDeHe}","{sn.yueKong}","{sn.yiMa}","{sn.tianHou}","{sn.chuShen}","{sn.yuePo}","{sn.daHao}","{sn.wuLi}","{sn.tianLao}","{sn.yinDe}","{sn.fuSheng}","{sn.tianLi}","{sn.zhiSi}","{sn.yuanWu}","{sn.yangDe}","{sn.tianXi}","{sn.tianYi}","{sn.siMing}","{sn.yueYan}","{sn.diHuo}","{sn.fourHit}","{sn.daSha}","{sn.daHui}","{sn.tianYuan}","{sn.liuHe}","{sn.wuFu}","{sn.shengXin}","{sn.heKui}","{sn.jieSha}","{sn.siQiong}","{sn.gouChen}","{sn.chuShuiLong}","{sn.baFeng}","{sn.tianShe}","{sn.wuMu}","{sn.baZhuan}","{sn.yinCuo}","{sn.siHao}","{sn.yangCuo}","{sn.siFei}","{sn.sanYin}","{sn.xiaoHui}","{sn.yinDaoChongYang}","{sn.danYin}","{sn.guChen}","{sn.yinWei}","{sn.xingHen}","{sn.liaoLi}","{sn.jueYin}","{sn.chunYang}","{sn.qiNiao}","{sn.suiBo}","{sn.yinYangJiaoPo}","{sn.yinYangJuCuo}","{sn.yinYangJiChong}","{sn.zhuZhen}","{sn.yangCuoYinChong}","{sn.qiFu}","{sn.tianGou}","{sn.jiuHu}","{sn.chengRi}","{sn.tianFu}","{sn.guYang}","{sn.jueYang}","{sn.chunYin}","{sn.liuShe}","{sn.yinShen}","{sn.jieChu}","{sn.yangPoYinChong}"];$.DAY_SHEN_SHA="100=010203040506,0708090A0B101=010C0D,0E0F101112131415102=16011718191A1B1C1D1E,1F20212223103=24011825261B271D1E,28292A2B104=012C2D2E2F3031,3233343536105=3738,393A3B3C3D123E106=3F404142434445,464748107=494A4B4C4D,4E108=4F5051524C4D5345,54555657109=58595345,5A5B12565C10A=5D415E5F60,616263640B6510B=0266676869,6A6B6C0A3E6D10C=1602171803041B05061E,07086E10D=24181B0C0D,0E0F1011126F13141510E=70191A1C1D,1F2021222310F=0125261B271D,28292A2B110=012C2D2E2F3031,3233343536111=49013738,393A3B3C3D123E112=4F50013F404142434445,4648113=014A4B,4E6E114=51524C4D5345,54550B5657115=0158595345,5A5B12565C116=1601185D415E5F60,61626364117=24021867681B69,6A6B3E6D118=0203040506,0708119=1B0C0D,0E0F10111213141511A=191A1B1C1D1E,1F2021222311B=4925261B271D1E,28292A11C=4F502C2D2E2F3031,323334353611D=3738,393A3B3C3D123E11E=3F404142434445,460B4811F=4A4B,4E71120=16171851524C4D5345,545556121=241858595345,5A5B12565C122=5D415E5F60,61626364123=0267681B69,6A6B3E6D124=0203041B05061E,070847125=491B0C0D,0E0F101112131415126=4F50191A1C1D1E,1F20212223127=2526271D1E,28292A2B128=2C2D2E2F3031,32333435360B129=3738,393A3B3C3D123E12A=1617183F404142434445,464812B=24184A4B,4E7212C=51524C4D53,5455565712D=0158595345,5A5B12565C12E=015D415E5F60,616263647312F=49010267681B69,6A6B3E6D130=4F500102030405061E,070874131=010C0D,0E0F101112131415726E132=191A1C1D1E,1F2021220B722375133=2526271D1E,28292A2B134=1617182C2D2E2F3031,3233343536135=24183738,393A3B3C3D126F3E136=3F4041424344,4648137=4A4B,4E72138=51524C4D5345,545576567257139=4958595345,5A5B7612565C7713A=4F505D415E5F60,6162636413B=02676869,6A6B3E6D200=1601025D60,393B28292A11090A201=0103041A1B4A,123435360B6D202=011819681B4C1D061E,3D1014203=011718252F591D0D1E,1F20213233204=012C26,3C23205=493751522D2E69,121364223E2B206=503F4005311E,6A3A5A5B207=5841440C38,4615208=431C4D45,6B4E5648209=27534B45,545507086162125620A=16666730,0E0F635720B=0241425E5F1B,6C0A0B3E5C20C=02185D1B601E,393B28292A116E20D=171803041B4A,126F3435366D20E=7019684C1D06,3D101420F=4901252F591D0D,1F2021323378210=50012C26,3C23211=013751522D2E69,121364223E2B212=013F40053145,6A3A5A5B213=015841440C38,46156E214=16431C4D5345,6B4E5648215=27534B45,545507086162120B5648216=18671B30,0E0F6357217=02171841425E5F1B,3E5C218=025D60,393B28292A11219=4903041A1B4A,123435366D21A=5019681B4C1D061E,3D101421B=252F591D0D45,1F2021323321C=2C26,3C2321D=3751522D2E69,121364223E2B21E=163F40053145,6A3A5A5B21F=5841440C38,467147150B220=18431C4D5345,6B4E5648221=171827534B45,5455070861621256222=6730,0E0F6357223=490241425E5F1B,3E5C224=50025D1B601E,393B28292A11225=03041A4A,123435366D226=19684C1D061E,3D1014227=252F591D0D1E,1F20213233228=162C26,3C23229=3751522D2E69,121364220B3E2B22A=183F40053145,6A3A5A5B22B=17185841440C38,46157222C=431C4D53,6B4E564822D=490127534B45,54550708616212567922E=5001671B30,0E0F635722F=010241425E5F,3E5C230=01025D601E,393B28292A1174231=0103041A4A,1234353647726E6D232=1619684C1D061E,3D1014233=252F591D0D1E,1F202132330B75234=182C26,3C23235=17183751522D2E69,126F1364223E2B236=3F400531,6A3A5A5B237=495841440C38,461572238=50431C4D5345,6B4E76567248239=27534B45,5455070861627612567323A=6730,0E0F635723B=0241425E5F,3E5C300=0102415E5F1A1B69,090A471457301=011B05,6A125C302=5001185D19515203042F0C1D601E,323315303=4F490118251C1D1E,3C5A5B106D304=012C2706,1F20213B710B787A305=58372668300D,6B123E306=173F402D2E45,07086423307=00,393A0E2B308=24164142444A533145,61624622567B309=674C533845,28292A4E12135630A=431B594D,5455633435364830B=021B27,3D116C0A3E30C=500218415E5F1A1B691E,146E5730D=4F49181B05,6A126F5C30E=705D19515203042F0C1D60,3233150B30F=01251C1D,3C5A5B106D310=01172C2706,1F20213B7C311=0158372668300D,6B123E312=2416013F402D2E45,0708476423313=01,393A0E0F6E2B314=4142444A533145,61624622567D315=66671B4C533845,28292A4E121356316=5018431B594D,54556334353648317=4F4902181B4B,3D113E318=02415E5F1A69,140B57319=1B05,6A125C31A=175D19515203042F0C1D601E,32331531B=251C1D1E,3C5A5B106D31C=24162C2706,1F20213B31D=58372668300D,6B123E31E=3F402D2E45,0708642331F=00,393A0E0F2B320=50184142444A533145,61624622567E321=4F4918671B4C533845,28292A4E121356322=43594D,5455633435360B48323=021B4B,3D113E324=0217415E5F1A691E,1457325=05,6A125C326=58165D19515203042F0C1D601E,323315327=251C1D1E,3C5A5B106D328=2C2706,1F20213B75329=58372668300D,6B123E32A=50183F402D2E45,0708642332B=4F4918,393A0E0F722B32C=4142444A5331,616246220B567B32D=01671B4C533845,28292A4E12135632E=011743594D,5455633435364832F=01024B,3D113E330=24160102415E5F1A691E,741457331=0105,6A12726E5C332=5D19515203042F0C1D601E,32331572333=251C1D1E,3C5A5B106D334=50182C2706,1F20213B335=4F491858372668300D,6B126F3E336=3F402D2E,0708640B23337=00,393A0E0F722B338=174142444A533145,616246762256727B73339=674C533845,28292A4E7612135633A=241643594D,5455633435364833B=024B,3D113E400=5001431B,5A5B1248401=490141425E5F2F4B,32336314402=4F01024A1D1E,396B3C130B57403=01025803044C1D1E,07085C404=01183F5D5960,0E0F10127F405=171819,1F20213E6D788075406=162526690645,28292A407=242C2D2E050D,6162343536647B408=3767680C5345,6A3A3B3D12155623409=4041441C5345,46562B40A=501B274D31,4E1140B=4951521A1B3038,5455223E40C=4F431B1E,5A5B0981120B6E4840D=41425E5F2F4B,3233631440E=02184A1D,396B3C135740F=010217185803044C1D,0708475C410=16013F585960,0E0F1012411=240119,1F20213E6D412=012526690645,28292A413=012C2D2E050D,6162343536646E7B414=503767681B0C5345,6A3A3B3D126F155623415=494041441B1C5345,46562B416=4F1B274D31,4E11710B417=51521A1B3038,54556C81223E418=18431B,5A5B1248419=171841425E5F2F4B,3233631441A=16024A1D1E,396B3C135741B=24025844044C1D1E,07085C41C=3F5D5960,0E0F101241D=19,1F20213E6D41E=50702526690645,28292A41F=492C2D2E050D,6162343536647D420=4F663767681B0C5345,6A3A3B3D12150B5623421=4041441B1C5345,46562B422=181B274D31,4E11423=171851521A3038,5455223E424=16431E,5A5B1248425=2441425E5F2F4B,32336314426=024A1D1E,396B3C1357427=025803044C1D1E,07085C428=503F5D5960,0E0F10126F429=4919,1F20213E6D42A=4F2526690645,28292A0B8242B=2C2D2E050D,616234353664727E7342C=183767681B0C53,6A3A3B3D1215562342D=0117184041441C5345,4647562B42E=1601274D31,4E1142F=240151521A3038,5455223E430=01431E,5A5B761248431=0141425E5F2F4B,32336314726E432=50024A1D1E,396B3C137257433=49025844044C1D1E,0708745C434=4F3F5D5960,0E0F10120B435=19,1F20213E6D75436=1825266906,28292A82437=17182C2D2E050D,616234353664727B73438=163767680C5345,6A3A3B3D1215567223439=244041441C5345,46562B43A=274D31,4E1143B=51521A3038,545576223E83500=012F4D31,54550708323312501=01586938,0E0F3C63502=16010241435E5F051D1E,641448503=01020C1D4B1E,6A28292A353615220B504=0117183F03041C,123457505=181927,3D103E5C506=5D25306045,1F20213B616213507=492C2667,6D508=503751522D2E530645,1256509=401B4A530D45,393A5A5B115650A=4142441A1B4C,462350B=681B59,6B4E3E2B50C=162F4D311E,5455070832330981126E50D=586938,0E0F3C0B50E=02171841435E5F051D,64144850F=0102180C1D4B,6A28292A35361522510=013F03041C,123457511=49011927,3D103E5C512=50015D25306045,1F20213B616213513=012C26671B,6E6D514=3751522D2E1B530645,126F56515=401B4A530D45,393A5A5B1156516=164142441A1B4C,467123517=6859,6B4E6C810B3E2B518=17182F4D31,54550708323312519=18586938,0E0F3C6351A=0241435E5F051D1E,64144851B=49020C1D4B1E,6A28292A3536152251C=503F03041C,12345751D=1927,3D103E5C51E=705D25306045,1F20213B61621351F=2C26671B,6D520=163751522D2E1B530645,1256521=404A530D45,393A5A5B110B56522=17184142441A1B,4623523=186859,6B4E3E2B524=2F4D311E,54550708323312525=49586938,0E0F3C63526=500241435E5F051D1E,641448527=020C1D4B1E,6A28292A35361522528=3F03041C,126F344757529=1927,3D103E5C52A=165D25306045,1F20213B616213658452B=662C2667,0B726D52C=17183751522D2E1B5306,125652D=0118404A530D45,393A5A5B115652E=014142441A4C,462352F=49016859,6B4E3E2B530=50012F4D311E,545507083233761285531=01586938,0E0F3C63726E532=0241435E5F051D1E,64147248533=020C1D4B1E,6A28292A7435361522534=163F03041C,123457535=1927,3D100B3E5C536=16185D253060,1F20213B61621378537=182C2667,726D538=3751522D2E530645,125672539=49404A530D45,393A5A5B115653A=504142441A4C,46472353B=681B59,6B4E763E2B600=241601304D,3C28292A4E1235361423601=01,54553B63342B602=0102681D311E,3D603=010241425E5F4A1D381E,64604=01183F434C,39127148605=4F49181951520304594B,61620B3E73606=50256745,5A5B102257607=172C69,1F20215C608=5D37261B05536045,6B111256609=402D2E1A1B0C5345,6B11125660A=24161B1C06,6A3A0E0F1360B=5841442F270D,3233463E60C=304D1E,3C28292A4E0981123536146E2360D=00,54553B63342B60E=0218681D31,3D60F=4F4901021841425E5F4A1D38,640B610=50013F434C,391248611=01171951520304594B,61623E612=0125671B45,5A5B102257613=012C1B69,1F20216E5C614=24165D37261B05536045,6B11126F56615=402D2E1A1B0C5345,070815566D616=1C06,6A3A0E0F1347617=5841442F270D,3233466C813E618=18304D,3C28292A4E1235361423619=4F4918,54553B63340B2B61A=5002681D311E,3D61B=021741425E5F4A1D381E,6461C=3F434C,39124861D=1951520304594B,61623E61E=24167025671B45,5A5B10225761F=2C1B69,1F20215C620=5D372605536045,6B111256621=402D2E1A0C5345,070815566D622=181B1C06,6A3A0E0F13623=4F49185841442F270D,3233460B3E624=50304D1E,3C28292A4E1235361423625=17,54553B63342B626=02681D311E,3D627=0241425E5F4A1D381E,64628=24163F434C,39126F48629=1951520304594B,61623E62A=256745,5A5B1022578662B=2C69,1F2021725C7562C=185D37261B055360,6B11125662D=4F490118402D2E1A0C5345,0708150B566D62E=50011C06,6A3A0E0F1362F=01175841442F270D,3233463E630=01304D1E,3C28292A4E761235361423631=01,54553B6334726E2B87632=241602681D311E,3D72633=0241425E5F4A1D381E,7464634=3F434C,39124748635=1951520304594B,61623E6573636=661825671B,5A5B10225786637=4F49182C69,1F20210B725C75638=505D372605536045,6B11125672639=17402D2E1A0C5345,070815566D63A=1B1C06,6A3A0E0F1363B=5841442F270D,323346763E700=0103404142445906,46701=01020D,4E14702=50015152694D1D1E,54553B23703=4901051D1E,5A5B2B1288704=4F0102415E5F0C31,6162636415705=6667681C38,6A6B3E706=4303042745,07080B48707=02304B,0E0F101112708=16171819,1F20135657709=24185825261B5345,28292A353622565C70A=025D2C2D2E2F4A60,3233893470B=374C,393A3C3D3E6D70C=503F4041424459061E,466E70D=49020D,4E1470E=4F5152694D1D,54553B70F=01051D,5A5B12132B710=0102415E5F0C31,61626364150B65711=0167681C38,6A6B3E712=162417184303041B2745,070848713=240102181B304B,0E0F1011126E714=191A1B5345,1F20215657715=5825261B5345,28292A353622565C717=49374C,393A3C3D126F473E6D718=4F3F404142445906,46719=020D,4E1471A=515269,1D1E71B=051D1E,5A5B12132B71C=16021718415E5F0C31,616263641571D=241867681B1C38,6A6B3E71E=4303041B2745,07084871F=021B30,0E0F101112720=50191A5345,1F20215657721=495825265345,28292A353622565C722=4F025D2C2D2E2F4A60,32338934723=374C,393A3C3D123E6D724=3F4041424459061E,46098A0B725=020D,4E7114726=1617185152694D1D1E,54553B23727=2418051D1E,5A5B12132B728=02415E5F0C31,616263641573729=67681B1C38,6A6B3E72A=504303042745,07084872B=4902304B,0E0F1011126F7272C=4F70191A1B,1F2021565772D=015825265345,28292A353622565C72E=01025D2C2D2E2F4A60,323389340B72F=01374C,393A3C3D6C8A123E6D730=160117183F4041424459061E,46731=240102180D,4E14726E732=5152694D1D1E,54553B767223733=051D1E,5A5B7612132B77734=5002415E5F0C31,6162636415735=4967681C38,6A6B473E736=4F4303041B27,7448737=02304B,0E0F10111272738=191A5345,1F20210B56725775739=5825265345,28292A353622565C73A=160217185D2C2D2E2F4A60,3233893473B=2418374C,393A3C3D123E6D800=50013F5D402760,6A3A5A5B22801=490102414430,466D802=014D1D061E,6B4E4714803=011D0D1E,54550708616212804=0102671B4A,0E0F6323805=41425E5F4C,8B2B806=16593145,3928292A113536807=025803041A1B38,1234130B808=181943681B695345,3D105648809=1718252F0553534B45,1F20213B32335680A=50022C260C,3C155780B=493751522D2E1C,12643E5C80C=3F5D4027601E,6A3A5A5B226E80D=02414430,466D80E=4D1D06,6B4E1480F=011D0D,5455070861621279810=16010266674A,0E0F6323811=0141425E5F1B4C,0B3E2B812=01181B593145,3928292A113536813=010217185803041A1B38,1234136E814=501943681B695345,3D105648815=49252F05534B45,1F20213B323356816=022C260C,3C1557817=3751522D2E1C,126F643E5C818=3F5D402760,6A3A5A5B22819=02414430,466D81A=164D1D061E,6B4E1481B=1D0D1E,545507086162120B6581C=0218671B4A,0E0F632381D=171841425E5F1B4C,3E2B81E=501B593145,3928292A11353681F=49025D03041A38,123413820=194368695345,3D10475648821=252F05534B45,1F20213B323356716=50025D2C2D2E2F4A60,32338934822=022C260C,3C1557823=3751522D2E1C,12643E5C824=163F5D4027601E,6A3A5A5B098A22825=02414430,46710B6D826=184D1D061E,6B4E14827=17181D0D1E,54550708616212828=5002671B4A,0E0F6323829=4941425E5F4C,3E2B82A=593145,3928292A11353682B=025803041A38,126F34137282C=701943681B6953,3D10564882D=01252F05534B45,1F2021613233567882E=1601022C260C,3C155782F=013751522D2E1C,6C8A12640B3E5C830=01183F5D4027601E,6A3A5A5B22831=01021718414430,46726E6D832=504D1D061E,6B4E761472833=491D0D1E,545507086162761273834=02674A,0E0F6323835=41425E5F4C,3E2B836=1B5931,3928292A11743536837=025803041A38,12341372838=16194368695345,3D10567248839=252F05534B45,1F20213B32330B567583A=02182C260C,3C155783B=17183751522D2E1C,12643E5C900=013F408C2E4C,0708641457901=010259,393A0E0F5C902=2416015D4142441D601E,61624635367B903=0167691D1E,28292A4E126D904=01021B054D06,5455637134220B905=580C0D,3D11153E906=17415E5F1A1B1C45,23907=4F49021B27,6A3B12472B908=501819515203042F30533145,323356909=1825533845,3C5A5B105690A=022C43,1F2021487C90B=3726684A4B,6B12133E90C=24163F402D2E4C1E,070864146E5790D=0259,393A0E0F5C90E=5D4142441D60,61624635360B7B90F=0167691D,28292A4E126D910=0102171B054D06,5455633422911=4F4901581B0C0D,3D11153E912=500118415E5F1A1B1C45,23913=0102181B27,6A3B126E2B914=19515203042F30533145,323356915=25533845,3C5A5B1056916=2416022C43,1F202148917=3726684A4B,6B126F133E918=3F402D2E4C,070864140B57919=0259,393A0E0F5C91A=175D4142441D601E,61624635367D91B=4F4966671B691D1E,28292A4E126D91C=5002181B054D06,545563342291D=18581B0C0D,3D11153E91E=415E5F1A1C45,2391F=0227,6A3B122B920=241619515203042F305331,323356921=25533845,3C5A5B1056922=022C43,1F20210B48788D923=3726684A4B,6B12133E924=173F402D2E4C1E,0708098A641457925=4F49022E,393A0E0F475C926=50185D4142441D601E,61624635367E927=18671B691D1E,28292A4E126D928=02054D06,5455633422929=580C0D,3D11153E92A=2416415E5F1A1C45,2392B=0227,6A3B126F722B92C=7019515203042F305331,32330B5692D=0125533845,3C5A5B105692E=0102162C43,1F2021487592F=4F49013726684A4B,6B6C8A12133E930=5001183F402D2E4C1E,0708641457931=01021859,393A0E0F726E5C932=5D4142441D601E,616246763536727B73933=67691D1E,28292A4E76126D934=241602054D06,5455633422935=580C0D,3D11153E936=415E5F1A1B1C,740B23937=0227,6A3B12722B938=1719515203042F30533145,32335672939=4F4925533845,3C5A5B105693A=5002182C43,1F20214893B=183726684A4B,6B12133EA00=160170182543261C,28292A48A01=240117182C2D2E274B,61623464147BA02=013F376768301D1E,6A3A3D1257A03=01584041441D1E,465CA04=015D4D60,4E1113A05=4951521A1B4A,54553E6DA06=4F501B4C0645,5A5B12A07=41425E5F2F590D,32336322A08=025345,396B3C0B5623A09=020304695345,0708562BA0A=16180531,0E0F10126FA0B=241618190C38,1F20213B3536103EA0C=2543261C1E,28292A6E48A0D=2C2D2E274B,61623464147BA0E=3F376768301D,6A3A3D124757A0F=4924584041441B1D,465CA10=4F50015D1B4D60,4E1113A11=0151521A1B4A,54553E6DA12=011B4C0645,5A5B120BA13=0141425E5F2F590D,323363226EA14=1602185345,396B3C5623A15=240217180304695345,0708562BA16=0531,0E0F1012A17=190C38,1F20213B3536153EA18=2543261C,28292A4882A19=49503F3767681B301D1E,6A3A3D1257A1A=4F503F3767681B301D1E,6A3A3D1257A1B=584041441B1D1E,465CA1C=5D1B4D60,4E1171130BA1D=51521A1B4A,54553E6DA1E=16184C0645,5A5B12A1F=24171841425E5F2F590D,32336322A20=025345,396B3C5623A21=020304695345,0708562BA22=0531,0E0F10128EA23=49190C38,1F20213B3536153E788FA24=4F502543261C1E,28292A48A25=2C2D2E274B,61623464147DA26=663F3767681B301D1E,6A3A3D120B57A27=584041441B1D1E,465CA28=16185D4D60,4E1113A29=24171851521A4A,54553E6DA2A=4C0645,5A5B7612A2B=41425E5F2F590D,3233632272A2C=0253,396B3C475623A2D=1601020304695345,0708562BA2E=4F50010531,0E0F1012A2F=01190C38,1F20213B3536153EA30=012543261C1E,28292A09900B4882A31=012C2D2E274B,6162346414726E7E73A32=16183F376768301D1E,6A3A3D126F7257A33=2417185D4041441D1E,465CA34=5D4D60,4E1113A35=51521A4A,5455763E6D83A36=4C06,5A5B12A37=4941425E5F2F590D,3233632272A38=4F50029145,396B3C567223A39=020304695345,070874562BA3A=0531,0E0F10120BA3B=190C38,1F20213B6C903536153E75B00=01701718254A31,1F20216162B01=0118582C26,674C38B02=50013F375152432D2E591D1E,121448B03=4901401B1D4B1E,393A5B11B04=014142441A69,4657B05=681B05,6B4E3E5CB06=682F0C4D6045,5455070832331215B07=1C,0E0F3C636DB08=1602415E5F27530645,3536136456B09=0230530D45,6A28292A0B56B0A=17180304,126F342223B0B=1819,3D103E2BB0C=50254A311E,1F202161626EB0D=49582C26,671B4C38B0E=3F375152432D2E591D,121448B0F=01401B1D4B,393A3B5A5B11B10=014142441A1B69,4657B11=01681B05,6B4E3E5CB12=16015D2F0C4D6045,5455070832331215B13=011C,0E0F3C630B6E6DB14=021718415E5F27530645,3536136456B15=021830530D45,6A28292A56B16=500304,12342223B17=4919,3D103E2BB18=254A31,1F4E21616278B19=582C26,671B4C38B1A=3F375152432D2E1B591D1E,121448B1B=401B1D4B1E,393A3B5A5B1147B1C=164142441A1B69,467157B1D=6805,6B4E0B3E5CB1E=17185D2F0C926045,5455070832331215B1F=181C,0E0F3C636DB20=5002415E5F27530645,3536136456B21=490230530D45,6A28292A56B22=0304,12342223B23=19,3D103E2BB24=254A311E,1F20136162B25=582C26671B4C38,00B26=163F375152432D2E1B591D1E,121448B27=401D4B1E,393A3B5A5B110BB28=17184142441A69,4657B29=186805,6B4E3E5CB2A=505D2F0C4D6045,54550708323376121585B2B=491C,0E0F3C63726DB2C=02415E5F275306,3536136456B2D=010230530D45,6A28292A56B2E=010304,12342223B2F=0119,3D103E2BB30=1601254A311E,1F2021616209906584B31=0166582C26674C38,0B726EB32=17183F375152432D2E591D1E,126F147248B33=18401D4B1E,393A3B5A5B11B34=504142441A69,4657B35=49681B05,6B4E763E5CB36=5D2F0C4D60,5455070832331215B37=1C,0E0F3C63726DB38=02415E5F27530645,353613645672B39=0230530D45,6A28292A744756B3A=160304,12342223B3B=19,3D106C900B3E2BC00=500170661825670C,5A5B1013141523C01=4F4901182C1C,1F2021222BC02=011637261B271D311E,6B1112C03=01402D2E1A1B311D381E,0708C04=0143,6A3A0E0F7148C05=41442F4B,32334635360B3EC06=24164A4D45,3C28292A4E1257C07=174C,545563345CC08=025D6859536045,3D56C09=0241425E5F5345,4764566DC0A=50186906,393B126FC0B=4F4918581951520304050D,61623EC0C=25671B0C1E,5A5B101314156E23C0D=2C1B1C,1F2021222BC0E=3F37264B1D31,6B1112C0F=01402D2E1A1B301D38,07080BC10=241601431B,6A3A0E0F48C11=011741442F4B,32334635363EC12=014A4D45,3C28292A4E1257C13=014C,545563346E5CC14=5002185D6804536045,3D56C15=4F49021841425E5F5345,64566DC16=6906,393B12C17=581951524404050D,61623EC18=25670C,5A5B101314152386C19=2C1B1C,1F2021220B2BC1A=24163F37261B271D31,6B1112C1B=17402D2E1A1B301D381E,0708C1C=43,6A3A0E0F48C1D=41582F4B,32334635363EC1E=50184A4D45,3C28292A4E1257C1F=4F49184C,545563345CC20=025D6859536045,3D56C21=0241425E5F5345,64566DC22=6906,393B12C23=581951520304050D,61620B3EC24=241625671B0C1E,5A5B1013141523C25=172C1B1C,1F2021222BC26=3F3726271D311E,6B1112C27=402D2E1A301D381E,0708C28=501843,6A5B0E0F48C29=4F491841442F4B,32334635363EC2A=4A4D45,3C28292A4E761257C2B=4C,54556334725C93C2C=025D68595360,3D56C2D=010241425E5F5345,640B566DC2E=2416016906,393B12C2F=0117581951520304050D,61623EC30=0125670C,5A5B1009901314152386C31=012C1C,1F202122726E2B75C32=50183F3726271D311E,6B11126F72C33=4F4918402D2E1A301D381E,070847C34=431B,6A3A0E0F48C35=41442F4B,3233467635363EC36=4A4D,3C28292A4E1257C37=4C,545563340B725CC38=2416025D6859536045,3D5672C39=021741425E5F5345,7464566DC3A=6906,393B12C3B=581951520304050D,61626C903E6573";class Eh{constructor(e,r,i,n){this._day=Eh._ymd(e),this._name=r,this._work=i,this._target=Eh._ymd(n)}static _ymd(e){return e.indexOf("-")<0?e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6):e}getDay(){return this._day}setDay(e){this._day=Eh._ymd(e)}getName(){return this._name}setName(e){this._name=e}isWork(){return this._work}setWork(e){this._work=e}getTarget(){return this._target}setTarget(e){this._target=Eh._ymd(e)}toString(){return this._day+" "+this._name+(this._work?"调休":"")+" "+this._target}}const Ft=class{static _padding(t){return(t<10?"0":"")+t}static _findForward(t){const e=Ft._DATA_IN_USE.indexOf(t);if(e<0)return null;let r=Ft._DATA_IN_USE.substring(e);const i=r.length%Ft._SIZE;for(i>0&&(r=r.substring(i));r.indexOf(t)!==0&&r.length>=Ft._SIZE;)r=r.substring(Ft._SIZE);return r}static _findBackward(t){const e=Ft._DATA_IN_USE.lastIndexOf(t);if(e<0)return null;let r=t.length,i=Ft._DATA_IN_USE.substring(0,e+r),n=i.length;const a=n%Ft._SIZE;for(a>0&&(i=i.substring(0,n-a)),n=i.length;n-r!==i.lastIndexOf(t)&&n>=Ft._SIZE;)i=i.substring(0,n-Ft._SIZE),n=i.length;return i}static _buildHolidayForward(t){const e=t.substring(0,8),r=Ft._NAMES_IN_USE[t.charCodeAt(8)-Ft._ZERO],i=t.charCodeAt(9)===Ft._ZERO,n=t.substring(10,18);return new Eh(e,r,i,n)}static _buildHolidayBackward(t){const e=t.length,r=t.substring(e-18,e-10),i=Ft._NAMES_IN_USE[t.charCodeAt(e-10)-Ft._ZERO],n=t.charCodeAt(e-9)===Ft._ZERO,a=t.substring(e-8);return new Eh(r,i,n,a)}static _findHolidaysForward(t){const e=[];let r=Ft._findForward(t);if(r==null)return e;for(;r.indexOf(t)===0;)e.push(Ft._buildHolidayForward(r)),r=r.substring(Ft._SIZE);return e}static _findHolidaysBackward(t){let e=[],r=Ft._findBackward(t);if(r==null)return e;let i=r.length,n=t.length;for(;i-n===r.lastIndexOf(t);)e.push(Ft._buildHolidayBackward(r)),r=r.substring(0,i-Ft._SIZE),i=r.length;return e.reverse(),e}static getHoliday(t,e=0,r=0){let i;return e==0||r==0?i=Ft._findHolidaysForward((t+"").replace(/-/g,"")):i=Ft._findHolidaysForward(t+Ft._padding(e)+Ft._padding(r)),i.length<1?null:i[0]}static getHolidays(t,e=0){return e==0?Ft._findHolidaysForward((t+"").replace(/-/g,"")):Ft._findHolidaysForward(t+Ft._padding(e))}static getHolidaysByTarget(t,e=0){return e==0?Ft._findHolidaysBackward((t+"").replace(/-/g,"")):Ft._findHolidaysBackward(t+Ft._padding(e))}static _fixNames(t){t&&(Ft._NAMES_IN_USE=t)}static _fixData(t){if(!t)return;const e=[];for(;t.length>=Ft._SIZE;){const r=t.substring(0,Ft._SIZE),i=r.substring(0,8),n=Ft._TAG_REMOVE==r.substring(8,9),a=Ft.getHoliday(i);if(!a)n||e.push(r);else{let s=-1;for(let o=0,u=Ft._NAMES_IN_USE.length;o<u;o++)if(Ft._NAMES_IN_USE[o]===a.getName()){s=o;break}if(s>-1){const o=i+String.fromCharCode(s+Ft._ZERO)+(a.isWork()?"0":"1")+a.getTarget().replace(/-/g,"");Ft._DATA_IN_USE=Ft._DATA_IN_USE.replace(new RegExp(o,"g"),n?"":r)}}t=t.substring(Ft._SIZE)}e.length>0&&(Ft._DATA_IN_USE+=e.join(""))}static fix(t,e){e?(Ft._fixNames(t),Ft._fixData(e)):Ft._fixData(t)}};let Cl=Ft;Cl.NAMES=["元旦节","春节","清明节","劳动节","端午节","中秋节","国庆节","国庆中秋","抗战胜利日"];Cl.DATA="200112290020020101200112300020020101200201010120020101200201020120020101200201030120020101200202091020020212200202101020020212200202121120020212200202131120020212200202141120020212200202151120020212200202161120020212200202171120020212200202181120020212200204273020020501200204283020020501200205013120020501200205023120020501200205033120020501200205043120020501200205053120020501200205063120020501200205073120020501200209286020021001200209296020021001200210016120021001200210026120021001200210036120021001200210046120021001200210056120021001200210066120021001200210076120021001200301010120030101200302011120030201200302021120030201200302031120030201200302041120030201200302051120030201200302061120030201200302071120030201200302081020030201200302091020030201200304263020030501200304273020030501200305013120030501200305023120030501200305033120030501200305043120030501200305053120030501200305063120030501200305073120030501200309276020031001200309286020031001200310016120031001200310026120031001200310036120031001200310046120031001200310056120031001200310066120031001200310076120031001200401010120040101200401171020040122200401181020040122200401221120040122200401231120040122200401241120040122200401251120040122200401261120040122200401271120040122200401281120040122200405013120040501200405023120040501200405033120040501200405043120040501200405053120040501200405063120040501200405073120040501200405083020040501200405093020040501200410016120041001200410026120041001200410036120041001200410046120041001200410056120041001200410066120041001200410076120041001200410096020041001200410106020041001200501010120050101200501020120050101200501030120050101200502051020050209200502061020050209200502091120050209200502101120050209200502111120050209200502121120050209200502131120050209200502141120050209200502151120050209200504303020050501200505013120050501200505023120050501200505033120050501200505043120050501200505053120050501200505063120050501200505073120050501200505083020050501200510016120051001200510026120051001200510036120051001200510046120051001200510056120051001200510066120051001200510076120051001200510086020051001200510096020051001200512310020060101200601010120060101200601020120060101200601030120060101200601281020060129200601291120060129200601301120060129200601311120060129200602011120060129200602021120060129200602031120060129200602041120060129200602051020060129200604293020060501200604303020060501200605013120060501200605023120060501200605033120060501200605043120060501200605053120060501200605063120060501200605073120060501200609306020061001200610016120061001200610026120061001200610036120061001200610046120061001200610056120061001200610066120061001200610076120061001200610086020061001200612300020070101200612310020070101200701010120070101200701020120070101200701030120070101200702171020070218200702181120070218200702191120070218200702201120070218200702211120070218200702221120070218200702231120070218200702241120070218200702251020070218200704283020070501200704293020070501200705013120070501200705023120070501200705033120070501200705043120070501200705053120070501200705063120070501200705073120070501200709296020071001200709306020071001200710016120071001200710026120071001200710036120071001200710046120071001200710056120071001200710066120071001200710076120071001200712290020080101200712300120080101200712310120080101200801010120080101200802021020080206200802031020080206200802061120080206200802071120080206200802081120080206200802091120080206200802101120080206200802111120080206200802121120080206200804042120080404200804052120080404200804062120080404200805013120080501200805023120080501200805033120080501200805043020080501200806074120080608200806084120080608200806094120080608200809135120080914200809145120080914200809155120080914200809276020081001200809286020081001200809296120081001200809306120081001200810016120081001200810026120081001200810036120081001200810046120081001200810056120081001200901010120090101200901020120090101200901030120090101200901040020090101200901241020090125200901251120090125200901261120090125200901271120090125200901281120090125200901291120090125200901301120090125200901311120090125200902011020090125200904042120090404200904052120090404200904062120090404200905013120090501200905023120090501200905033120090501200905284120090528200905294120090528200905304120090528200905314020090528200909276020091001200910016120091001200910026120091001200910036120091001200910046120091001200910055120091003200910065120091003200910075120091003200910085120091003200910105020091003201001010120100101201001020120100101201001030120100101201002131120100213201002141120100213201002151120100213201002161120100213201002171120100213201002181120100213201002191120100213201002201020100213201002211020100213201004032120100405201004042120100405201004052120100405201005013120100501201005023120100501201005033120100501201006124020100616201006134020100616201006144120100616201006154120100616201006164120100616201009195020100922201009225120100922201009235120100922201009245120100922201009255020100922201009266020101001201010016120101001201010026120101001201010036120101001201010046120101001201010056120101001201010066120101001201010076120101001201010096020101001201101010120110101201101020120110101201101030120110101201101301020110203201102021120110203201102031120110203201102041120110203201102051120110203201102061120110203201102071120110203201102081120110203201102121020110203201104022020110405201104032120110405201104042120110405201104052120110405201104303120110501201105013120110501201105023120110501201106044120110606201106054120110606201106064120110606201109105120110912201109115120110912201109125120110912201110016120111001201110026120111001201110036120111001201110046120111001201110056120111001201110066120111001201110076120111001201110086020111001201110096020111001201112310020120101201201010120120101201201020120120101201201030120120101201201211020120123201201221120120123201201231120120123201201241120120123201201251120120123201201261120120123201201271120120123201201281120120123201201291020120123201203312020120404201204012020120404201204022120120404201204032120120404201204042120120404201204283020120501201204293120120501201204303120120501201205013120120501201205023020120501201206224120120623201206234120120623201206244120120623201209295020120930201209305120120930201210016120121001201210026120121001201210036120121001201210046120121001201210056120121001201210066120121001201210076120121001201210086020121001201301010120130101201301020120130101201301030120130101201301050020130101201301060020130101201302091120130210201302101120130210201302111120130210201302121120130210201302131120130210201302141120130210201302151120130210201302161020130210201302171020130210201304042120130404201304052120130404201304062120130404201304273020130501201304283020130501201304293120130501201304303120130501201305013120130501201306084020130612201306094020130612201306104120130612201306114120130612201306124120130612201309195120130919201309205120130919201309215120130919201309225020130919201309296020131001201310016120131001201310026120131001201310036120131001201310046120131001201310056120131001201310066120131001201310076120131001201401010120140101201401261020140131201401311120140131201402011120140131201402021120140131201402031120140131201402041120140131201402051120140131201402061120140131201402081020140131201404052120140405201404062120140405201404072120140405201405013120140501201405023120140501201405033120140501201405043020140501201405314120140602201406014120140602201406024120140602201409065120140908201409075120140908201409085120140908201409286020141001201410016120141001201410026120141001201410036120141001201410046120141004201410056120141001201410066120141001201410076120141001201410116020141001201501010120150101201501020120150101201501030120150101201501040020150101201502151020150219201502181120150219201502191120150219201502201120150219201502211120150219201502221120150219201502231120150219201502241120150219201502281020150219201504042120150405201504052120150405201504062120150405201505013120150501201505023120150501201505033120150501201506204120150620201506214120150620201506224120150620201509038120150903201509048120150903201509058120150903201509068020150903201509265120150927201509275120150927201510016120151001201510026120151001201510036120151001201510046120151004201510056120151001201510066120151001201510076120151001201510106020151001201601010120160101201601020120160101201601030120160101201602061020160208201602071120160208201602081120160208201602091120160208201602101120160208201602111120160208201602121120160208201602131120160208201602141020160208201604022120160404201604032120160404201604042120160404201604303120160501201605013120160501201605023120160501201606094120160609201606104120160609201606114120160609201606124020160609201609155120160915201609165120160915201609175120160915201609185020160915201610016120161001201610026120161001201610036120161001201610046120161001201610056120161001201610066120161001201610076120161001201610086020161001201610096020161001201612310120170101201701010120170101201701020120170101201701221020170128201701271120170128201701281120170128201701291120170128201701301120170128201701311120170128201702011120170128201702021120170128201702041020170128201704012020170404201704022120170404201704032120170404201704042120170404201704293120170501201704303120170501201705013120170501201705274020170530201705284120170530201705294120170530201705304120170530201709306020171001201710016120171001201710026120171001201710036120171001201710045120171004201710056120171001201710066120171001201710076120171001201710086120171001201712300120180101201712310120180101201801010120180101201802111020180216201802151120180216201802161120180216201802171120180216201802181120180216201802191120180216201802201120180216201802211120180216201802241020180216201804052120180405201804062120180405201804072120180405201804082020180405201804283020180501201804293120180501201804303120180501201805013120180501201806164120180618201806174120180618201806184120180618201809225120180924201809235120180924201809245120180924201809296020181001201809306020181001201810016120181001201810026120181001201810036120181001201810046120181001201810056120181001201810066120181001201810076120181001201812290020190101201812300120190101201812310120190101201901010120190101201902021020190205201902031020190205201902041120190205201902051120190205201902061120190205201902071120190205201902081120190205201902091120190205201902101120190205201904052120190405201904062120190405201904072120190405201904283020190501201905013120190501201905023120190501201905033120190501201905043120190501201905053020190501201906074120190607201906084120190607201906094120190607201909135120190913201909145120190913201909155120190913201909296020191001201910016120191001201910026120191001201910036120191001201910046120191001201910056120191001201910066120191001201910076120191001201910126020191001202001010120200101202001191020200125202001241120200125202001251120200125202001261120200125202001271120200125202001281120200125202001291120200125202001301120200125202001311120200125202002011120200125202002021120200125202004042120200404202004052120200404202004062120200404202004263020200501202005013120200501202005023120200501202005033120200501202005043120200501202005053120200501202005093020200501202006254120200625202006264120200625202006274120200625202006284020200625202009277020201001202010017120201001202010026120201001202010036120201001202010046120201001202010056120201001202010066120201001202010076120201001202010086120201001202010106020201001202101010120210101202101020120210101202101030120210101202102071020210212202102111120210212202102121120210212202102131120210212202102141120210212202102151120210212202102161120210212202102171120210212202102201020210212202104032120210404202104042120210404202104052120210404202104253020210501202105013120210501202105023120210501202105033120210501202105043120210501202105053120210501202105083020210501202106124120210614202106134120210614202106144120210614202109185020210921202109195120210921202109205120210921202109215120210921202109266020211001202110016120211001202110026120211001202110036120211001202110046120211001202110056120211001202110066120211001202110076120211001202110096020211001202201010120220101202201020120220101202201030120220101202201291020220201202201301020220201202201311120220201202202011120220201202202021120220201202202031120220201202202041120220201202202051120220201202202061120220201202204022020220405202204032120220405202204042120220405202204052120220405202204243020220501202204303120220501202205013120220501202205023120220501202205033120220501202205043120220501202205073020220501202206034120220603202206044120220603202206054120220603202209105120220910202209115120220910202209125120220910202210016120221001202210026120221001202210036120221001202210046120221001202210056120221001202210066120221001202210076120221001202210086020221001202210096020221001202212310120230101202301010120230101202301020120230101202301211120230122202301221120230122202301231120230122202301241120230122202301251120230122202301261120230122202301271120230122202301281020230122202301291020230122202304052120230405202304233020230501202304293120230501202304303120230501202305013120230501202305023120230501202305033120230501202305063020230501202306224120230622202306234120230622202306244120230622202306254020230622202309295120230929202309306120231001202310016120231001202310026120231001202310036120231001202310046120231001202310056120231001202310066120231001202310076020231001202310086020231001202312300120240101202312310120240101202401010120240101202402041020240210202402101120240210202402111120240210202402121120240210202402131120240210202402141120240210202402151120240210202402161120240210202402171120240210202402181020240210202404042120240404202404052120240404202404062120240404202404072020240404202404283020240501202405013120240501202405023120240501202405033120240501202405043120240501202405053120240501202405113020240501202406084120240610202406094120240610202406104120240610202409145020240917202409155120240917202409165120240917202409175120240917202409296020241001202410016120241001202410026120241001202410036120241001202410046120241001202410056120241001202410066120241001202410076120241001202410126020241001202501010120250101202501261020250129202501281120250129202501291120250129202501301120250129202501311120250129202502011120250129202502021120250129202502031120250129202502041120250129202502081020250129202504042120250404202504052120250404202504062120250404202504273020250501202505013120250501202505023120250501202505033120250501202505043120250501202505053120250501202505314120250531202506014120250531202506024120250531202509287020251001202510017120251001202510027120251001202510037120251001202510047120251001202510057120251001202510067120251001202510077120251001202510087120251001202510117020251001";Cl._SIZE=18;Cl._ZERO=48;Cl._TAG_REMOVE="~";Cl._NAMES_IN_USE=Ft.NAMES;Cl._DATA_IN_USE=Ft.DATA;class mx{constructor(e,r){let i=!1,n=!1,a,s;for(a=0,s=$.JIE_QI.length;a<s;a++)if($.JIE_QI[a]===e){a%2==0?n=!0:i=!0;break}this._name=e,this._solar=r,this._jie=i,this._qi=n}getName(){return this._name}getSolar(){return this._solar}setName(e){this._name=e}setSolar(e){this._solar=e}isJie(){return this._jie}isQi(){return this._qi}toString(){return this.getName()}}class cYe{constructor(e,r){this._liuNian=e,this._index=r}getIndex(){return this._index}getMonthInChinese(){return $.MONTH[this._index+1]}getGanZhi(){const e=$.find(this._liuNian.getGanZhi(),$.GAN).index-1,r=[2,4,6,8,0][e%5],i=$.GAN[(this._index+r)%10+1],n=$.ZHI[(this._index+$.BASE_MONTH_ZHI_INDEX)%12+1];return i+n}getXun(){return $.getXun(this.getGanZhi())}getXunKong(){return $.getXunKong(this.getGanZhi())}}class Pe{constructor(e,r=""){this._name=e,this._remark=r}getName(){return this._name}getRemark(){return this._remark}toString(){return this._name}toFullString(){const e=[this._name];return this._remark&&e.push("["+this._remark+"]"),e.join("")}}class Cn{}Cn.SAN_HUI=["1-7","7-7","10-15"];Cn.SAN_YUAN=["1-15","7-15","10-15"];Cn.WU_LA=["1-1","5-5","7-7","10-1","12-8"];Cn.AN_WU=["{dz.wei}","{dz.xu}","{dz.chen}","{dz.yin}","{dz.wu}","{dz.zi}","{dz.you}","{dz.shen}","{dz.si}","{dz.hai}","{dz.mao}","{dz.chou}"];Cn.BA_HUI={"{jz.bingWu}":"天会","{jz.renWu}":"地会","{jz.renZi}":"人会","{jz.gengWu}":"日会","{jz.gengShen}":"月会","{jz.xinYou}":"星辰会","{jz.jiaChen}":"五行会","{jz.jiaXu}":"四时会"};Cn.BA_JIE={"{jq.liChun}":"东北方度仙上圣天尊同梵炁始青天君下降","{jq.chunFen}":"东方玉宝星上天尊同青帝九炁天君下降","{jq.liXia}":"东南方好生度命天尊同梵炁始丹天君下降","{jq.xiaZhi}":"南方玄真万福天尊同赤帝三炁天君下降","{jq.liQiu}":"西南方太灵虚皇天尊同梵炁始素天君下降","{jq.qiuFen}":"西方太妙至极天尊同白帝七炁天君下降","{jq.liDong}":"西北方无量太华天尊同梵炁始玄天君下降","{jq.dongZhi}":"北方玄上玉宸天尊同黑帝五炁天君下降"};Cn.FESTIVAL={"1-1":[new Pe("天腊之辰","天腊，此日五帝会于东方九炁青天")],"1-3":[new Pe("郝真人圣诞"),new Pe("孙真人圣诞")],"1-5":[new Pe("孙祖清静元君诞")],"1-7":[new Pe("举迁赏会","此日上元赐福，天官同地水二官考校罪福")],"1-9":[new Pe("玉皇上帝圣诞")],"1-13":[new Pe("关圣帝君飞升")],"1-15":[new Pe("上元天官圣诞"),new Pe("老祖天师圣诞")],"1-19":[new Pe("长春邱真人(邱处机)圣诞")],"1-28":[new Pe("许真君(许逊天师)圣诞")],"2-1":[new Pe("勾陈天皇大帝圣诞"),new Pe("长春刘真人(刘渊然)圣诞")],"2-2":[new Pe("土地正神诞"),new Pe("姜太公圣诞")],"2-3":[new Pe("文昌梓潼帝君圣诞")],"2-6":[new Pe("东华帝君圣诞")],"2-13":[new Pe("度人无量葛真君圣诞")],"2-15":[new Pe("太清道德天尊(太上老君)圣诞")],"2-19":[new Pe("慈航真人圣诞")],"3-1":[new Pe("谭祖(谭处端)长真真人圣诞")],"3-3":[new Pe("玄天上帝圣诞")],"3-6":[new Pe("眼光娘娘圣诞")],"3-15":[new Pe("天师张大真人圣诞"),new Pe("财神赵公元帅圣诞")],"3-16":[new Pe("三茅真君得道之辰"),new Pe("中岳大帝圣诞")],"3-18":[new Pe("王祖(王处一)玉阳真人圣诞"),new Pe("后土娘娘圣诞")],"3-19":[new Pe("太阳星君圣诞")],"3-20":[new Pe("子孙娘娘圣诞")],"3-23":[new Pe("天后妈祖圣诞")],"3-26":[new Pe("鬼谷先师诞")],"3-28":[new Pe("东岳大帝圣诞")],"4-1":[new Pe("长生谭真君成道之辰")],"4-10":[new Pe("何仙姑圣诞")],"4-14":[new Pe("吕祖纯阳祖师圣诞")],"4-15":[new Pe("钟离祖师圣诞")],"4-18":[new Pe("北极紫微大帝圣诞"),new Pe("泰山圣母碧霞元君诞"),new Pe("华佗神医先师诞")],"4-20":[new Pe("眼光圣母娘娘诞")],"4-28":[new Pe("神农先帝诞")],"5-1":[new Pe("南极长生大帝圣诞")],"5-5":[new Pe("地腊之辰","地腊，此日五帝会于南方三炁丹天"),new Pe("南方雷祖圣诞"),new Pe("地祗温元帅圣诞"),new Pe("雷霆邓天君圣诞")],"5-11":[new Pe("城隍爷圣诞")],"5-13":[new Pe("关圣帝君降神"),new Pe("关平太子圣诞")],"5-18":[new Pe("张天师圣诞")],"5-20":[new Pe("马祖丹阳真人圣诞")],"5-29":[new Pe("紫青白祖师圣诞")],"6-1":[new Pe("南斗星君下降")],"6-2":[new Pe("南斗星君下降")],"6-3":[new Pe("南斗星君下降")],"6-4":[new Pe("南斗星君下降")],"6-5":[new Pe("南斗星君下降")],"6-6":[new Pe("南斗星君下降")],"6-10":[new Pe("刘海蟾祖师圣诞")],"6-15":[new Pe("灵官王天君圣诞")],"6-19":[new Pe("慈航(观音)成道日")],"6-23":[new Pe("火神圣诞")],"6-24":[new Pe("南极大帝中方雷祖圣诞"),new Pe("关圣帝君圣诞")],"6-26":[new Pe("二郎真君圣诞")],"7-7":[new Pe("道德腊之辰","道德腊，此日五帝会于西方七炁素天"),new Pe("庆生中会","此日中元赦罪，地官同天水二官考校罪福")],"7-12":[new Pe("西方雷祖圣诞")],"7-15":[new Pe("中元地官大帝圣诞")],"7-18":[new Pe("王母娘娘圣诞")],"7-20":[new Pe("刘祖(刘处玄)长生真人圣诞")],"7-22":[new Pe("财帛星君文财神增福相公李诡祖圣诞")],"7-26":[new Pe("张三丰祖师圣诞")],"8-1":[new Pe("许真君飞升日")],"8-3":[new Pe("九天司命灶君诞")],"8-5":[new Pe("北方雷祖圣诞")],"8-10":[new Pe("北岳大帝诞辰")],"8-15":[new Pe("太阴星君诞")],"9-1":[new Pe("北斗九皇降世之辰")],"9-2":[new Pe("北斗九皇降世之辰")],"9-3":[new Pe("北斗九皇降世之辰")],"9-4":[new Pe("北斗九皇降世之辰")],"9-5":[new Pe("北斗九皇降世之辰")],"9-6":[new Pe("北斗九皇降世之辰")],"9-7":[new Pe("北斗九皇降世之辰")],"9-8":[new Pe("北斗九皇降世之辰")],"9-9":[new Pe("北斗九皇降世之辰"),new Pe("斗姥元君圣诞"),new Pe("重阳帝君圣诞"),new Pe("玄天上帝飞升"),new Pe("酆都大帝圣诞")],"9-22":[new Pe("增福财神诞")],"9-23":[new Pe("萨翁真君圣诞")],"9-28":[new Pe("五显灵官马元帅圣诞")],"10-1":[new Pe("民岁腊之辰","民岁腊，此日五帝会于北方五炁黑天"),new Pe("东皇大帝圣诞")],"10-3":[new Pe("三茅应化真君圣诞")],"10-6":[new Pe("天曹诸司五岳五帝圣诞")],"10-15":[new Pe("下元水官大帝圣诞"),new Pe("建生大会","此日下元解厄，水官同天地二官考校罪福")],"10-18":[new Pe("地母娘娘圣诞")],"10-19":[new Pe("长春邱真君飞升")],"10-20":[new Pe("虚靖天师(即三十代天师弘悟张真人)诞")],"11-6":[new Pe("西岳大帝圣诞")],"11-9":[new Pe("湘子韩祖圣诞")],"11-11":[new Pe("太乙救苦天尊圣诞")],"11-26":[new Pe("北方五道圣诞")],"12-8":[new Pe("王侯腊之辰","王侯腊，此日五帝会于上方玄都玉京")],"12-16":[new Pe("南岳大帝圣诞"),new Pe("福德正神诞")],"12-20":[new Pe("鲁班先师圣诞")],"12-21":[new Pe("天猷上帝圣诞")],"12-22":[new Pe("重阳祖师圣诞")],"12-23":[new Pe("祭灶王","最适宜谢旧年太岁，开启拜新年太岁")],"12-25":[new Pe("玉帝巡天"),new Pe("天神下降")],"12-29":[new Pe("清静孙真君(孙不二)成道")]};class me{constructor(e,r="",i=!1,n=""){this._name=e,this._result=r||"",this._everyMonth=i,this._remark=n}getName(){return this._name}getResult(){return this._result}isEveryMonth(){return this._everyMonth}getRemark(){return this._remark}toString(){return this._name}toFullString(){const e=[this._name];return this._result&&e.push(this._result),this._remark&&e.push(this._remark),e.join(" ")}}const Q=class{static getXiu(t,e){return Q.XIU_27[(Q.XIU_OFFSET[Math.abs(t)-1]+e-1)%Q.XIU_27.length]}};let Or=Q;Or.DAY_ZHAI_GUAN_YIN=["1-8","2-7","2-9","2-19","3-3","3-6","3-13","4-22","5-3","5-17","6-16","6-18","6-19","6-23","7-13","8-16","9-19","9-23","10-2","11-19","11-24","12-25"];Or.XIU_27=["{xx.jiao}","{xx.kang}","{xx.di}","{xx.fang}","{xx.xin}","{xx.tail}","{xx.ji}","{xx.dou}","{xx.nv}","{xx.xu}","{xx.wei}","{xx.shi}","{xx.qiang}","{xx.kui}","{xx.lou}","{xx.vei}","{xx.mao}","{xx.bi}","{xx.zi}","{xx.can}","{xx.jing}","{xx.gui}","{xx.liu}","{xx.xing}","{xx.zhang}","{xx.yi}","{xx.zhen}"];Or.XIU_OFFSET=[11,13,15,17,19,21,24,0,2,4,7,9];Or._DJ="犯者夺纪";Or._JS="犯者减寿";Or._SS="犯者损寿";Or._XL="犯者削禄夺纪";Or._JW="犯者三年内夫妇俱亡";Or._Y=new me("杨公忌");Or._T=new me("四天王巡行","",!0);Or._D=new me("斗降",Q._DJ,!0);Or._S=new me("月朔",Q._DJ,!0);Or._W=new me("月望",Q._DJ,!0);Or._H=new me("月晦",Q._JS,!0);Or._L=new me("雷斋日",Q._JS,!0);Or._J=new me("九毒日","犯者夭亡，奇祸不测");Or._R=new me("人神在阴","犯者得病",!0,"宜先一日即戒");Or._M=new me("司命奏事",Q._JS,!0,"如月小，即戒廿九");Or._HH=new me("月晦",Q._JS,!0,"如月小，即戒廿九");Or.FESTIVAL={"1-1":[new me("天腊，玉帝校世人神气禄命",Q._XL),Q._S],"1-3":[new me("万神都会",Q._DJ),Q._D],"1-5":[new me("五虚忌")],"1-6":[new me("六耗忌"),Q._L],"1-7":[new me("上会日",Q._SS)],"1-8":[new me("五殿阎罗天子诞",Q._DJ),Q._T],"1-9":[new me("玉皇上帝诞",Q._DJ)],"1-13":[Q._Y],"1-14":[new me("三元降",Q._JS),Q._T],"1-15":[new me("三元降",Q._JS),new me("上元神会",Q._DJ),Q._W,Q._T],"1-16":[new me("三元降",Q._JS)],"1-19":[new me("长春真人诞")],"1-23":[new me("三尸神奏事"),Q._T],"1-25":[Q._H,new me("天地仓开日","犯者损寿，子带疾")],"1-27":[Q._D],"1-28":[Q._R],"1-29":[Q._T],"1-30":[Q._HH,Q._M,Q._T],"2-1":[new me("一殿秦广王诞",Q._DJ),Q._S],"2-2":[new me("万神都会",Q._DJ),new me("福德土地正神诞","犯者得祸")],"2-3":[new me("文昌帝君诞",Q._XL),Q._D],"2-6":[new me("东华帝君诞"),Q._L],"2-8":[new me("释迦牟尼佛出家",Q._DJ),new me("三殿宋帝王诞",Q._DJ),new me("张大帝诞",Q._DJ),Q._T],"2-11":[Q._Y],"2-14":[Q._T],"2-15":[new me("释迦牟尼佛涅槃",Q._XL),new me("太上老君诞",Q._XL),new me("月望",Q._XL,!0),Q._T],"2-17":[new me("东方杜将军诞")],"2-18":[new me("四殿五官王诞",Q._XL),new me("至圣先师孔子讳辰",Q._XL)],"2-19":[new me("观音大士诞",Q._DJ)],"2-21":[new me("普贤菩萨诞")],"2-23":[Q._T],"2-25":[Q._H],"2-27":[Q._D],"2-28":[Q._R],"2-29":[Q._T],"2-30":[Q._HH,Q._M,Q._T],"3-1":[new me("二殿楚江王诞",Q._DJ),Q._S],"3-3":[new me("玄天上帝诞",Q._DJ),Q._D],"3-6":[Q._L],"3-8":[new me("六殿卞城王诞",Q._DJ),Q._T],"3-9":[new me("牛鬼神出","犯者产恶胎"),Q._Y],"3-12":[new me("中央五道诞")],"3-14":[Q._T],"3-15":[new me("昊天上帝诞",Q._DJ),new me("玄坛诞",Q._DJ),Q._W,Q._T],"3-16":[new me("准提菩萨诞",Q._DJ)],"3-19":[new me("中岳大帝诞"),new me("后土娘娘诞"),new me("三茅降")],"3-20":[new me("天地仓开日",Q._SS),new me("子孙娘娘诞")],"3-23":[Q._T],"3-25":[Q._H],"3-27":[new me("七殿泰山王诞"),Q._D],"3-28":[Q._R,new me("苍颉至圣先师诞",Q._XL),new me("东岳大帝诞")],"3-29":[Q._T],"3-30":[Q._HH,Q._M,Q._T],"4-1":[new me("八殿都市王诞",Q._DJ),Q._S],"4-3":[Q._D],"4-4":[new me("万神善会","犯者失瘼夭胎"),new me("文殊菩萨诞")],"4-6":[Q._L],"4-7":[new me("南斗、北斗、西斗同降",Q._JS),Q._Y],"4-8":[new me("释迦牟尼佛诞",Q._DJ),new me("万神善会","犯者失瘼夭胎"),new me("善恶童子降","犯者血死"),new me("九殿平等王诞"),Q._T],"4-14":[new me("纯阳祖师诞",Q._JS),Q._T],"4-15":[Q._W,new me("钟离祖师诞"),Q._T],"4-16":[new me("天地仓开日",Q._SS)],"4-17":[new me("十殿转轮王诞",Q._DJ)],"4-18":[new me("天地仓开日",Q._SS),new me("紫徽大帝诞",Q._SS)],"4-20":[new me("眼光圣母诞")],"4-23":[Q._T],"4-25":[Q._H],"4-27":[Q._D],"4-28":[Q._R],"4-29":[Q._T],"4-30":[Q._HH,Q._M,Q._T],"5-1":[new me("南极长生大帝诞",Q._DJ),Q._S],"5-3":[Q._D],"5-5":[new me("地腊",Q._XL),new me("五帝校定生人官爵",Q._XL),Q._J,Q._Y],"5-6":[Q._J,Q._L],"5-7":[Q._J],"5-8":[new me("南方五道诞"),Q._T],"5-11":[new me("天地仓开日",Q._SS),new me("天下都城隍诞")],"5-12":[new me("炳灵公诞")],"5-13":[new me("关圣降",Q._XL)],"5-14":[new me("夜子时为天地交泰",Q._JW),Q._T],"5-15":[Q._W,Q._J,Q._T],"5-16":[new me("九毒日",Q._JW),new me("天地元气造化万物之辰",Q._JW)],"5-17":[Q._J],"5-18":[new me("张天师诞")],"5-22":[new me("孝娥神诞",Q._DJ)],"5-23":[Q._T],"5-25":[Q._J,Q._H],"5-26":[Q._J],"5-27":[Q._J,Q._D],"5-28":[Q._R],"5-29":[Q._T],"5-30":[Q._HH,Q._M,Q._T],"6-1":[Q._S],"6-3":[new me("韦驮菩萨圣诞"),Q._D,Q._Y],"6-5":[new me("南赡部洲转大轮",Q._SS)],"6-6":[new me("天地仓开日",Q._SS),Q._L],"6-8":[Q._T],"6-10":[new me("金粟如来诞")],"6-14":[Q._T],"6-15":[Q._W,Q._T],"6-19":[new me("观世音菩萨成道",Q._DJ)],"6-23":[new me("南方火神诞","犯者遭回禄"),Q._T],"6-24":[new me("雷祖诞",Q._XL),new me("关帝诞",Q._XL)],"6-25":[Q._H],"6-27":[Q._D],"6-28":[Q._R],"6-29":[Q._T],"6-30":[Q._HH,Q._M,Q._T],"7-1":[Q._S,Q._Y],"7-3":[Q._D],"7-5":[new me("中会日",Q._SS,!1,"一作初七")],"7-6":[Q._L],"7-7":[new me("道德腊",Q._XL),new me("五帝校生人善恶",Q._XL),new me("魁星诞",Q._XL)],"7-8":[Q._T],"7-10":[new me("阴毒日","",!1,"大忌")],"7-12":[new me("长真谭真人诞")],"7-13":[new me("大势至菩萨诞",Q._JS)],"7-14":[new me("三元降",Q._JS),Q._T],"7-15":[Q._W,new me("三元降",Q._DJ),new me("地官校籍",Q._DJ),Q._T],"7-16":[new me("三元降",Q._JS)],"7-18":[new me("西王母诞",Q._DJ)],"7-19":[new me("太岁诞",Q._DJ)],"7-22":[new me("增福财神诞",Q._XL)],"7-23":[Q._T],"7-25":[Q._H],"7-27":[Q._D],"7-28":[Q._R],"7-29":[Q._Y,Q._T],"7-30":[new me("地藏菩萨诞",Q._DJ),Q._HH,Q._M,Q._T],"8-1":[Q._S,new me("许真君诞")],"8-3":[Q._D,new me("北斗诞",Q._XL),new me("司命灶君诞","犯者遭回禄")],"8-5":[new me("雷声大帝诞",Q._DJ)],"8-6":[Q._L],"8-8":[Q._T],"8-10":[new me("北斗大帝诞")],"8-12":[new me("西方五道诞")],"8-14":[Q._T],"8-15":[Q._W,new me("太明朝元","犯者暴亡",!1,"宜焚香守夜"),Q._T],"8-16":[new me("天曹掠刷真君降","犯者贫夭")],"8-18":[new me("天人兴福之辰","",!1,"宜斋戒，存想吉事")],"8-23":[new me("汉恒候张显王诞"),Q._T],"8-24":[new me("灶君夫人诞")],"8-25":[Q._H],"8-27":[Q._D,new me("至圣先师孔子诞",Q._XL),Q._Y],"8-28":[Q._R,new me("四天会事")],"8-29":[Q._T],"8-30":[new me("诸神考校","犯者夺算"),Q._HH,Q._M,Q._T],"9-1":[Q._S,new me("南斗诞",Q._XL),new me("北斗九星降世",Q._DJ,!1,"此九日俱宜斋戒")],"9-3":[Q._D,new me("五瘟神诞")],"9-6":[Q._L],"9-8":[Q._T],"9-9":[new me("斗母诞",Q._XL),new me("酆都大帝诞"),new me("玄天上帝飞升")],"9-10":[new me("斗母降",Q._DJ)],"9-11":[new me("宜戒")],"9-13":[new me("孟婆尊神诞")],"9-14":[Q._T],"9-15":[Q._W,Q._T],"9-17":[new me("金龙四大王诞","犯者遭水厄")],"9-19":[new me("日宫月宫会合",Q._JS),new me("观世音菩萨诞",Q._JS)],"9-23":[Q._T],"9-25":[Q._H,Q._Y],"9-27":[Q._D],"9-28":[Q._R],"9-29":[Q._T],"9-30":[new me("药师琉璃光佛诞","犯者危疾"),Q._HH,Q._M,Q._T],"10-1":[Q._S,new me("民岁腊",Q._DJ),new me("四天王降","犯者一年内死")],"10-3":[Q._D,new me("三茅诞")],"10-5":[new me("下会日",Q._JS),new me("达摩祖师诞",Q._JS)],"10-6":[Q._L,new me("天曹考察",Q._DJ)],"10-8":[new me("佛涅槃日","",!1,"大忌色欲"),Q._T],"10-10":[new me("四天王降","犯者一年内死")],"10-11":[new me("宜戒")],"10-14":[new me("三元降",Q._JS),Q._T],"10-15":[Q._W,new me("三元降",Q._DJ),new me("下元水府校籍",Q._DJ),Q._T],"10-16":[new me("三元降",Q._JS),Q._T],"10-23":[Q._Y,Q._T],"10-25":[Q._H],"10-27":[Q._D,new me("北极紫徽大帝降")],"10-28":[Q._R],"10-29":[Q._T],"10-30":[Q._HH,Q._M,Q._T],"11-1":[Q._S],"11-3":[Q._D],"11-4":[new me("至圣先师孔子诞",Q._XL)],"11-6":[new me("西岳大帝诞")],"11-8":[Q._T],"11-11":[new me("天地仓开日",Q._DJ),new me("太乙救苦天尊诞",Q._DJ)],"11-14":[Q._T],"11-15":[new me("月望","上半夜犯男死 下半夜犯女死"),new me("四天王巡行","上半夜犯男死 下半夜犯女死")],"11-17":[new me("阿弥陀佛诞")],"11-19":[new me("太阳日宫诞","犯者得奇祸")],"11-21":[Q._Y],"11-23":[new me("张仙诞","犯者绝嗣"),Q._T],"11-25":[new me("掠刷大夫降","犯者遭大凶"),Q._H],"11-26":[new me("北方五道诞")],"11-27":[Q._D],"11-28":[Q._R],"11-29":[Q._T],"11-30":[Q._HH,Q._M,Q._T],"12-1":[Q._S],"12-3":[Q._D],"12-6":[new me("天地仓开日",Q._JS),Q._L],"12-7":[new me("掠刷大夫降","犯者得恶疾")],"12-8":[new me("王侯腊",Q._DJ),new me("释迦如来成佛之辰"),Q._T,new me("初旬内戊日，亦名王侯腊",Q._DJ)],"12-12":[new me("太素三元君朝真")],"12-14":[Q._T],"12-15":[Q._W,Q._T],"12-16":[new me("南岳大帝诞")],"12-19":[Q._Y],"12-20":[new me("天地交道","犯者促寿")],"12-21":[new me("天猷上帝诞")],"12-23":[new me("五岳诞降"),Q._T],"12-24":[new me("司今朝天奏人善恶","犯者得大祸")],"12-25":[new me("三清玉帝同降，考察善恶","犯者得奇祸"),Q._H],"12-27":[Q._D],"12-28":[Q._R],"12-29":[new me("华严菩萨诞"),Q._T],"12-30":[new me("诸神下降，察访善恶","犯者男女俱亡")]};Or.OTHER_FESTIVAL={"1-1":["弥勒菩萨圣诞"],"1-6":["定光佛圣诞"],"2-8":["释迦牟尼佛出家"],"2-15":["释迦牟尼佛涅槃"],"2-19":["观世音菩萨圣诞"],"2-21":["普贤菩萨圣诞"],"3-16":["准提菩萨圣诞"],"4-4":["文殊菩萨圣诞"],"4-8":["释迦牟尼佛圣诞"],"4-15":["佛吉祥日"],"4-28":["药王菩萨圣诞"],"5-13":["伽蓝菩萨圣诞"],"6-3":["韦驮菩萨圣诞"],"6-19":["观音菩萨成道"],"7-13":["大势至菩萨圣诞"],"7-15":["佛欢喜日"],"7-24":["龙树菩萨圣诞"],"7-30":["地藏菩萨圣诞"],"8-15":["月光菩萨圣诞"],"8-22":["燃灯佛圣诞"],"9-9":["摩利支天菩萨圣诞"],"9-19":["观世音菩萨出家"],"9-30":["药师琉璃光佛圣诞"],"10-5":["达摩祖师圣诞"],"10-20":["文殊菩萨出家"],"11-17":["阿弥陀佛圣诞"],"11-19":["日光菩萨圣诞"],"12-8":["释迦牟尼佛成道"],"12-23":["监斋菩萨圣诞"],"12-29":["华严菩萨圣诞"]};class Ka{}Ka.NUMBER=["{n.one}","{n.two}","{n.three}","{n.four}","{n.five}","{n.six}","{n.seven}","{n.eight}","{n.nine}"];Ka.WU_XING=["{wx.shui}","{wx.tu}","{wx.mu}","{wx.mu}","{wx.tu}","{wx.jin}","{wx.jin}","{wx.tu}","{wx.huo}"];Ka.POSITION=["{bg.kan}","{bg.kun}","{bg.zhen}","{bg.xun}","{ps.center}","{bg.qian}","{bg.dui}","{bg.gen}","{bg.li}"];Ka.LUCK_XUAN_KONG=["{s.goodLuck}","{s.badLuck}","{s.badLuck}","{s.goodLuck}","{s.badLuck}","{s.goodLuck}","{s.badLuck}","{s.goodLuck}","{s.goodLuck}"];Ka.YIN_YANG_QI_MEN=["{s.yang}","{s.yin}","{s.yang}","{s.yang}","{s.yang}","{s.yin}","{s.yin}","{s.yang}","{s.yin}"];Ka.COLOR=["{s.white}","{s.black}","{s.blue}","{s.green}","{s.yellow}","{s.white}","{s.red}","{s.white}","{s.purple}"];const xt=class{static updateArray(t){const e=xt._ARRAYS[t],r=xt._OBJS[t];for(let i in e){const n=e[i];for(let a=0,s=n.length;a<s;a++)r[i][a]=n[a].replace(/{(.[^}]*)}/g,(o,u)=>xt.getMessage(u))}}static updateStringDictionary(t){const e=xt._DICT_STRING[t],r=xt._OBJS[t];for(let i in e){const n=e[i];for(let a in n){const s=a.replace(/{(.[^}]*)}/g,(o,u)=>xt.getMessage(u));r[i][s]=n[a].replace(/{(.[^}]*)}/g,(o,u)=>xt.getMessage(u))}}}static updateNumberDictionary(t){const e=xt._DICT_NUMBER[t],r=xt._OBJS[t];for(let i in e){const n=e[i];for(let a in n){const s=a.replace(/{(.[^}]*)}/g,(o,u)=>xt.getMessage(u));r[i][s]=n[a]}}}static updateArrayDictionary(t){const e=xt._DICT_ARRAY[t],r=xt._OBJS[t];for(let i in e){const n=e[i];for(let a in n){const s=a.replace(/{(.[^}]*)}/g,(u,l)=>xt.getMessage(l)),o=n[a];for(let u=0,l=o.length;u<l;u++)o[u]=o[u].replace(/{(.[^}]*)}/g,(c,h)=>xt.getMessage(h));r[i][s]=o}}}static update(){for(let t in xt._ARRAYS)xt.updateArray(t);for(let t in xt._DICT_STRING)xt.updateStringDictionary(t);for(let t in xt._DICT_NUMBER)xt.updateNumberDictionary(t);for(let t in xt._DICT_ARRAY)xt.updateArrayDictionary(t)}static setMessages(t,e){if(e){xt._MESSAGES[t]||(xt._MESSAGES[t]={});for(const r in e)xt._MESSAGES[t][r]=e[r];xt.update()}}static getMessage(t){let e=xt._MESSAGES[xt._LANG][t];return e==null&&(e=xt._MESSAGES[xt._DEFAULT_LANG][t]),e==null&&(e=t),e}static setLanguage(t){xt._MESSAGES[t]&&(xt._LANG=t,xt.update())}static getLanguage(){return xt._LANG}static initArray(t){const e=xt._ARRAYS[t],r=xt._OBJS[t];for(let i in e){e[i].length=0;const n=r[i];for(let a=0,s=n.length;a<s;a++)e[i].push(n[a])}}static initArrayDictionary(t){const e=xt._DICT_ARRAY[t],r=xt._OBJS[t];for(let i in e){const n=r[i];for(let a in n)e[i][a]=n[a]}}static initStringDictionary(t){const e=xt._DICT_STRING[t],r=xt._OBJS[t];for(let i in e){const n=r[i];for(let a in n)e[i][a]=n[a]}}static initNumberDictionary(t){const e=xt._DICT_NUMBER[t],r=xt._OBJS[t];for(let i in e){const n=r[i];for(let a in n)e[i][a]=n[a]}}static init(){if(!xt._INIT){xt._INIT=!0;for(let t in xt._ARRAYS)xt.initArray(t);for(let t in xt._DICT_STRING)xt.initStringDictionary(t);for(let t in xt._DICT_NUMBER)xt.initNumberDictionary(t);for(let t in xt._DICT_ARRAY)xt.initArrayDictionary(t);xt.setLanguage(xt._DEFAULT_LANG)}}};let Ke=xt;Ke._DEFAULT_LANG="chs";Ke._INIT=!1;Ke._MESSAGES={chs:{"tg.jia":"甲","tg.yi":"乙","tg.bing":"丙","tg.ding":"丁","tg.wu":"戊","tg.ji":"己","tg.geng":"庚","tg.xin":"辛","tg.ren":"壬","tg.gui":"癸","dz.zi":"子","dz.chou":"丑","dz.yin":"寅","dz.mao":"卯","dz.chen":"辰","dz.si":"巳","dz.wu":"午","dz.wei":"未","dz.shen":"申","dz.you":"酉","dz.xu":"戌","dz.hai":"亥","zx.jian":"建","zx.chu":"除","zx.man":"满","zx.ping":"平","zx.ding":"定","zx.zhi":"执","zx.po":"破","zx.wei":"危","zx.cheng":"成","zx.shou":"收","zx.kai":"开","zx.bi":"闭","jz.jiaZi":"甲子","jz.yiChou":"乙丑","jz.bingYin":"丙寅","jz.dingMao":"丁卯","jz.wuChen":"戊辰","jz.jiSi":"己巳","jz.gengWu":"庚午","jz.xinWei":"辛未","jz.renShen":"壬申","jz.guiYou":"癸酉","jz.jiaXu":"甲戌","jz.yiHai":"乙亥","jz.bingZi":"丙子","jz.dingChou":"丁丑","jz.wuYin":"戊寅","jz.jiMao":"己卯","jz.gengChen":"庚辰","jz.xinSi":"辛巳","jz.renWu":"壬午","jz.guiWei":"癸未","jz.jiaShen":"甲申","jz.yiYou":"乙酉","jz.bingXu":"丙戌","jz.dingHai":"丁亥","jz.wuZi":"戊子","jz.jiChou":"己丑","jz.gengYin":"庚寅","jz.xinMao":"辛卯","jz.renChen":"壬辰","jz.guiSi":"癸巳","jz.jiaWu":"甲午","jz.yiWei":"乙未","jz.bingShen":"丙申","jz.dingYou":"丁酉","jz.wuXu":"戊戌","jz.jiHai":"己亥","jz.gengZi":"庚子","jz.xinChou":"辛丑","jz.renYin":"壬寅","jz.guiMao":"癸卯","jz.jiaChen":"甲辰","jz.yiSi":"乙巳","jz.bingWu":"丙午","jz.dingWei":"丁未","jz.wuShen":"戊申","jz.jiYou":"己酉","jz.gengXu":"庚戌","jz.xinHai":"辛亥","jz.renZi":"壬子","jz.guiChou":"癸丑","jz.jiaYin":"甲寅","jz.yiMao":"乙卯","jz.bingChen":"丙辰","jz.dingSi":"丁巳","jz.wuWu":"戊午","jz.jiWei":"己未","jz.gengShen":"庚申","jz.xinYou":"辛酉","jz.renXu":"壬戌","jz.guiHai":"癸亥","sx.rat":"鼠","sx.ox":"牛","sx.tiger":"虎","sx.rabbit":"兔","sx.dragon":"龙","sx.snake":"蛇","sx.horse":"马","sx.goat":"羊","sx.monkey":"猴","sx.rooster":"鸡","sx.dog":"狗","sx.pig":"猪","dw.long":"龙","dw.niu":"牛","dw.gou":"狗","dw.yang":"羊","dw.tu":"兔","dw.shu":"鼠","dw.ji":"鸡","dw.ma":"马","dw.hu":"虎","dw.zhu":"猪","dw.hou":"猴","dw.she":"蛇","dw.huLi":"狐","dw.yan":"燕","dw.bao":"豹","dw.yuan":"猿","dw.yin":"蚓","dw.lu":"鹿","dw.wu":"乌","dw.jiao":"蛟","dw.lang":"狼","dw.fu":"蝠","dw.zhang":"獐","dw.xu":"獝","dw.xie":"獬","dw.han":"犴","dw.he":"貉","dw.zhi":"彘","wx.jin":"金","wx.mu":"木","wx.shui":"水","wx.huo":"火","wx.tu":"土","wx.ri":"日","wx.yue":"月","n.zero":"〇","n.one":"一","n.two":"二","n.three":"三","n.four":"四","n.five":"五","n.six":"六","n.seven":"七","n.eight":"八","n.nine":"九","n.ten":"十","n.eleven":"十一","n.twelve":"十二","d.one":"初一","d.two":"初二","d.three":"初三","d.four":"初四","d.five":"初五","d.six":"初六","d.seven":"初七","d.eight":"初八","d.nine":"初九","d.ten":"初十","d.eleven":"十一","d.twelve":"十二","d.thirteen":"十三","d.fourteen":"十四","d.fifteen":"十五","d.sixteen":"十六","d.seventeen":"十七","d.eighteen":"十八","d.nighteen":"十九","d.twenty":"二十","d.twentyOne":"廿一","d.twentyTwo":"廿二","d.twentyThree":"廿三","d.twentyFour":"廿四","d.twentyFive":"廿五","d.twentySix":"廿六","d.twentySeven":"廿七","d.twentyEight":"廿八","d.twentyNine":"廿九","d.thirty":"三十","m.one":"正","m.two":"二","m.three":"三","m.four":"四","m.five":"五","m.six":"六","m.seven":"七","m.eight":"八","m.nine":"九","m.ten":"十","m.eleven":"冬","m.twelve":"腊","w.sun":"日","w.mon":"一","w.tues":"二","w.wed":"三","w.thur":"四","w.fri":"五","w.sat":"六","xz.aries":"白羊","xz.taurus":"金牛","xz.gemini":"双子","xz.cancer":"巨蟹","xz.leo":"狮子","xz.virgo":"处女","xz.libra":"天秤","xz.scorpio":"天蝎","xz.sagittarius":"射手","xz.capricornus":"摩羯","xz.aquarius":"水瓶","xz.pisces":"双鱼","bg.qian":"乾","bg.kun":"坤","bg.zhen":"震","bg.xun":"巽","bg.kan":"坎","bg.li":"离","bg.gen":"艮","bg.dui":"兑","ps.center":"中","ps.dong":"东","ps.nan":"南","ps.xi":"西","ps.bei":"北","ps.zhong":"中宫","ps.zhengDong":"正东","ps.zhengNan":"正南","ps.zhengXi":"正西","ps.zhengBei":"正北","ps.dongBei":"东北","ps.dongNan":"东南","ps.xiBei":"西北","ps.xiNan":"西南","ps.wai":"外","ps.fangNei":"房内","jq.dongZhi":"冬至","jq.xiaoHan":"小寒","jq.daHan":"大寒","jq.liChun":"立春","jq.yuShui":"雨水","jq.jingZhe":"惊蛰","jq.chunFen":"春分","jq.qingMing":"清明","jq.guYu":"谷雨","jq.liXia":"立夏","jq.xiaoMan":"小满","jq.mangZhong":"芒种","jq.xiaZhi":"夏至","jq.xiaoShu":"小暑","jq.daShu":"大暑","jq.liQiu":"立秋","jq.chuShu":"处暑","jq.baiLu":"白露","jq.qiuFen":"秋分","jq.hanLu":"寒露","jq.shuangJiang":"霜降","jq.liDong":"立冬","jq.xiaoXue":"小雪","jq.daXue":"大雪","sn.qingLong":"青龙","sn.baiHu":"白虎","sn.zhuQue":"朱雀","sn.xuanWu":"玄武","sn.mingTang":"明堂","sn.tianXing":"天刑","sn.tianDe":"天德","sn.jinKui":"金匮","sn.yuTang":"玉堂","sn.siMing":"司命","sn.tianLao":"天牢","sn.gouChen":"勾陈","sn.tianEn":"天恩","sn.muCang":"母仓","sn.shiYang":"时阳","sn.shengQi":"生气","sn.yiHou":"益后","sn.zaiSha":"灾煞","sn.tianHuo":"天火","sn.siJi":"四忌","sn.baLong":"八龙","sn.fuRi":"复日","sn.xuShi":"续世","sn.yueSha":"月煞","sn.yueXu":"月虚","sn.xueZhi":"血支","sn.tianZei":"天贼","sn.wuXu":"五虚","sn.tuFu":"土符","sn.guiJi":"归忌","sn.xueJi":"血忌","sn.yueDe":"月德","sn.yueEn":"月恩","sn.siXiang":"四相","sn.wangRi":"王日","sn.tianCang":"天仓","sn.buJiang":"不将","sn.wuHe":"五合","sn.mingFeiDui":"鸣吠对","sn.yueJian":"月建","sn.xiaoShi":"小时","sn.tuHu":"土府","sn.wangWang":"往亡","sn.yaoAn":"要安","sn.siShen":"死神","sn.tianMa":"天马","sn.jiuHu":"九虎","sn.qiNiao":"七鸟","sn.liuShe":"六蛇","sn.guanRi":"官日","sn.jiQi":"吉期","sn.yuYu":"玉宇","sn.daShi":"大时","sn.daBai":"大败","sn.xianChi":"咸池","sn.shouRi":"守日","sn.tianWu":"天巫","sn.fuDe":"福德","sn.liuYi":"六仪","sn.jinTang":"金堂","sn.yanDui":"厌对","sn.zhaoYao":"招摇","sn.jiuKong":"九空","sn.jiuKan":"九坎","sn.jiuJiao":"九焦","sn.xiangRi":"相日","sn.baoGuang":"宝光","sn.tianGang":"天罡","sn.yueXing":"月刑","sn.yueHai":"月害","sn.youHuo":"游祸","sn.chongRi":"重日","sn.shiDe":"时德","sn.minRi":"民日","sn.sanHe":"三合","sn.linRi":"临日","sn.shiYin":"时阴","sn.mingFei":"鸣吠","sn.siQi":"死气","sn.diNang":"地囊","sn.yueDeHe":"月德合","sn.jingAn":"敬安","sn.puHu":"普护","sn.jieShen":"解神","sn.xiaoHao":"小耗","sn.tianDeHe":"天德合","sn.yueKong":"月空","sn.yiMa":"驿马","sn.tianHou":"天后","sn.chuShen":"除神","sn.yuePo":"月破","sn.daHao":"大耗","sn.wuLi":"五离","sn.yinDe":"阴德","sn.fuSheng":"福生","sn.tianLi":"天吏","sn.zhiSi":"致死","sn.yuanWu":"元武","sn.yangDe":"阳德","sn.tianXi":"天喜","sn.tianYi":"天医","sn.yueYan":"月厌","sn.diHuo":"地火","sn.fourHit":"四击","sn.daSha":"大煞","sn.daHui":"大会","sn.tianYuan":"天愿","sn.liuHe":"六合","sn.wuFu":"五富","sn.shengXin":"圣心","sn.heKui":"河魁","sn.jieSha":"劫煞","sn.siQiong":"四穷","sn.chuShuiLong":"触水龙","sn.baFeng":"八风","sn.tianShe":"天赦","sn.wuMu":"五墓","sn.baZhuan":"八专","sn.yinCuo":"阴错","sn.siHao":"四耗","sn.yangCuo":"阳错","sn.siFei":"四废","sn.sanYin":"三阴","sn.xiaoHui":"小会","sn.yinDaoChongYang":"阴道冲阳","sn.danYin":"单阴","sn.guChen":"孤辰","sn.yinWei":"阴位","sn.xingHen":"行狠","sn.liaoLi":"了戾","sn.jueYin":"绝阴","sn.chunYang":"纯阳","sn.suiBo":"岁薄","sn.yinYangJiaoPo":"阴阳交破","sn.yinYangJuCuo":"阴阳俱错","sn.yinYangJiChong":"阴阳击冲","sn.zhuZhen":"逐阵","sn.yangCuoYinChong":"阳错阴冲","sn.qiFu":"七符","sn.tianGou":"天狗","sn.chengRi":"成日","sn.tianFu":"天符","sn.guYang":"孤阳","sn.jueYang":"绝阳","sn.chunYin":"纯阴","sn.yinShen":"阴神","sn.jieChu":"解除","sn.yangPoYinChong":"阳破阴冲","ss.biJian":"比肩","ss.jieCai":"劫财","ss.shiShen":"食神","ss.shangGuan":"伤官","ss.pianCai":"偏财","ss.zhengCai":"正财","ss.qiSha":"七杀","ss.zhengGuan":"正官","ss.pianYin":"偏印","ss.zhengYin":"正印","s.none":"无","s.huangDao":"黄道","s.heiDao":"黑道","s.goodLuck":"吉","s.badLuck":"凶","s.yin":"阴","s.yang":"阳","s.white":"白","s.black":"黑","s.blue":"碧","s.green":"绿","s.yellow":"黄","s.red":"赤","s.purple":"紫","jr.chuXi":"除夕","jr.chunJie":"春节","jr.yuanXiao":"元宵节","jr.longTou":"龙头节","jr.duanWu":"端午节","jr.qiXi":"七夕节","jr.zhongQiu":"中秋节","jr.chongYang":"重阳节","jr.laBa":"腊八节","jr.yuanDan":"元旦节","jr.qingRen":"情人节","jr.fuNv":"妇女节","jr.zhiShu":"植树节","jr.xiaoFei":"消费者权益日","jr.wuYi":"劳动节","jr.qingNian":"青年节","jr.erTong":"儿童节","jr.yuRen":"愚人节","jr.jianDang":"建党节","jr.jianJun":"建军节","jr.jiaoShi":"教师节","jr.guoQing":"国庆节","jr.wanShengYe":"万圣节前夜","jr.wanSheng":"万圣节","jr.pingAn":"平安夜","jr.shengDan":"圣诞节","ds.changSheng":"长生","ds.muYu":"沐浴","ds.guanDai":"冠带","ds.linGuan":"临官","ds.diWang":"帝旺","ds.shuai":"衰","ds.bing":"病","ds.si":"死","ds.mu":"墓","ds.jue":"绝","ds.tai":"胎","ds.yang":"养","h.first":"初候","h.second":"二候","h.third":"三候","h.qiuYinJie":"蚯蚓结","h.miJiao":"麋角解","h.shuiQuan":"水泉动","h.yanBei":"雁北乡","h.queShi":"鹊始巢","h.zhiShi":"雉始雊","h.jiShi":"鸡始乳","h.zhengNiao":"征鸟厉疾","h.shuiZe":"水泽腹坚","h.dongFeng":"东风解冻","h.zheChongShiZhen":"蛰虫始振","h.yuZhi":"鱼陟负冰","h.taJi":"獭祭鱼","h.houYan":"候雁北","h.caoMuMengDong":"草木萌动","h.taoShi":"桃始华","h.cangGeng":"仓庚鸣","h.yingHua":"鹰化为鸠","h.xuanNiaoZhi":"玄鸟至","h.leiNai":"雷乃发声","h.shiDian":"始电","h.tongShi":"桐始华","h.tianShu":"田鼠化为鴽","h.hongShi":"虹始见","h.pingShi":"萍始生","h.mingJiu":"鸣鸠拂奇羽","h.daiSheng":"戴胜降于桑","h.louGuo":"蝼蝈鸣","h.qiuYinChu":"蚯蚓出","h.wangGua":"王瓜生","h.kuCai":"苦菜秀","h.miCao":"靡草死","h.maiQiu":"麦秋至","h.tangLang":"螳螂生","h.juShi":"鵙始鸣","h.fanShe":"反舌无声","h.luJia":"鹿角解","h.tiaoShi":"蜩始鸣","h.banXia":"半夏生","h.wenFeng":"温风至","h.xiShuai":"蟋蟀居壁","h.yingShi":"鹰始挚","h.fuCao":"腐草为萤","h.tuRun":"土润溽暑","h.daYu":"大雨行时","h.liangFeng":"凉风至","h.baiLu":"白露降","h.hanChan":"寒蝉鸣","h.yingNai":"鹰乃祭鸟","h.tianDi":"天地始肃","h.heNai":"禾乃登","h.hongYanLai":"鸿雁来","h.xuanNiaoGui":"玄鸟归","h.qunNiao":"群鸟养羞","h.leiShi":"雷始收声","h.zheChongPiHu":"蛰虫坯户","h.shuiShiHe":"水始涸","h.hongYanLaiBin":"鸿雁来宾","h.queRu":"雀入大水为蛤","h.juYou":"菊有黄花","h.caiNai":"豺乃祭兽","h.caoMuHuangLuo":"草木黄落","h.zheChongXianFu":"蛰虫咸俯","h.shuiShiBing":"水始冰","h.diShi":"地始冻","h.zhiRu":"雉入大水为蜃","h.hongCang":"虹藏不见","h.tianQi":"天气上升地气下降","h.biSe":"闭塞而成冬","h.heDan":"鹖鴠不鸣","h.huShi":"虎始交","h.liTing":"荔挺出","ts.zhan":"占","ts.hu":"户","ts.win":"窗","ts.fang":"房","ts.chuang":"床","ts.lu":"炉","ts.zao":"灶","ts.dui":"碓","ts.mo":"磨","ts.xi":"栖","ts.chu":"厨","ts.ce":"厕","ts.cang":"仓","ts.cangKu":"仓库","ts.daMen":"大门","ts.men":"门","ts.tang":"堂","ly.xianSheng":"先胜","ly.xianFu":"先负","ly.youYin":"友引","ly.foMie":"佛灭","ly.daAn":"大安","ly.chiKou":"赤口","yj.jiSi":"祭祀","yj.qiFu":"祈福","yj.qiuSi":"求嗣","yj.kaiGuang":"开光","yj.suHui":"塑绘","yj.qiJiao":"齐醮","yj.zhaiJiao":"斋醮","yj.muYu":"沐浴","yj.chouShen":"酬神","yj.zaoMiao":"造庙","yj.siZhao":"祀灶","yj.fenXiang":"焚香","yj.xieTu":"谢土","yj.chuHuo":"出火","yj.diaoKe":"雕刻","yj.jiaQu":"嫁娶","yj.DingHun":"订婚","yj.naCai":"纳采","yj.wenMing":"问名","yj.naXu":"纳婿","yj.guiNing":"归宁","yj.anChuang":"安床","yj.heZhang":"合帐","yj.guanJi":"冠笄","yj.dingMeng":"订盟","yj.jinRenKou":"进人口","yj.caiYi":"裁衣","yj.wanMian":"挽面","yj.kaiRong":"开容","yj.xiuFen":"修坟","yj.qiZuan":"启钻","yj.poTu":"破土","yj.anZang":"安葬","yj.liBei":"立碑","yj.chengFu":"成服","yj.chuFu":"除服","yj.kaiShengFen":"开生坟","yj.heShouMu":"合寿木","yj.ruLian":"入殓","yj.yiJiu":"移柩","yj.puDu":"普渡","yj.ruZhai":"入宅","yj.anXiang":"安香","yj.anMen":"安门","yj.xiuZao":"修造","yj.qiJi":"起基","yj.dongTu":"动土","yj.shangLiang":"上梁","yj.shuZhu":"竖柱","yj.kaiJing":"开井开池","yj.zuoBei":"作陂放水","yj.chaiXie":"拆卸","yj.poWu":"破屋","yj.huaiYuan":"坏垣","yj.buYuan":"补垣","yj.faMuZuoLiang":"伐木做梁","yj.zuoZhao":"作灶","yj.jieChu":"解除","yj.kaiZhuYan":"开柱眼","yj.chuanPing":"穿屏扇架","yj.gaiWuHeJi":"盖屋合脊","yj.kaiCe":"开厕","yj.zaoCang":"造仓","yj.saiXue":"塞穴","yj.pingZhi":"平治道涂","yj.zaoQiao":"造桥","yj.zuoCe":"作厕","yj.zhuDi":"筑堤","yj.kaiChi":"开池","yj.faMu":"伐木","yj.kaiQu":"开渠","yj.jueJing":"掘井","yj.saoShe":"扫舍","yj.fangShui":"放水","yj.zaoWu":"造屋","yj.heJi":"合脊","yj.zaoChuChou":"造畜稠","yj.xiuMen":"修门","yj.dingSang":"定磉","yj.zuoLiang":"作梁","yj.xiuShi":"修饰垣墙","yj.jiaMa":"架马","yj.kaiShi":"开市","yj.guaBian":"挂匾","yj.naChai":"纳财","yj.qiuCai":"求财","yj.kaiCang":"开仓","yj.maiChe":"买车","yj.zhiChan":"置产","yj.guYong":"雇佣","yj.chuHuoCai":"出货财","yj.anJiXie":"安机械","yj.zaoCheQi":"造车器","yj.jingLuo":"经络","yj.yunNiang":"酝酿","yj.zuoRan":"作染","yj.guZhu":"鼓铸","yj.zaoChuan":"造船","yj.geMi":"割蜜","yj.zaiZhong":"栽种","yj.quYu":"取渔","yj.jieWang":"结网","yj.muYang":"牧养","yj.anDuiWei":"安碓磑","yj.xiYi":"习艺","yj.ruXue":"入学","yj.liFa":"理发","yj.tanBing":"探病","yj.jianGui":"见贵","yj.chengChuan":"乘船","yj.duShui":"渡水","yj.zhenJiu":"针灸","yj.chuXing":"出行","yj.yiXi":"移徙","yj.fenJu":"分居","yj.TiTou":"剃头","yj.zhengShou":"整手足甲","yj.naChu":"纳畜","yj.buZhuo":"捕捉","yj.tianLie":"畋猎","yj.jiaoNiuMa":"教牛马","yj.huiQinYou":"会亲友","yj.fuRen":"赴任","yj.qiuYi":"求医","yj.zhiBing":"治病","yj.ciSong":"词讼","yj.qiJiDongTu":"起基动土","yj.poWuHuaiYuan":"破屋坏垣","yj.gaiWu":"盖屋","yj.zaoCangKu":"造仓库","yj.liQuanJiaoYi":"立券交易","yj.jiaoYi":"交易","yj.liQuan":"立券","yj.anJi":"安机","yj.huiYou":"会友","yj.qiuYiLiaoBing":"求医疗病","yj.zhuShi":"诸事不宜","yj.yuShi":"馀事勿取","yj.xingSang":"行丧","yj.duanYi":"断蚁","yj.guiXiu":"归岫","xx.bi":"毕","xx.yi":"翼","xx.ji":"箕","xx.kui":"奎","xx.gui":"鬼","xx.di":"氐","xx.xu":"虚","xx.wei":"危","xx.zi":"觜","xx.zhen":"轸","xx.dou":"斗","xx.lou":"娄","xx.liu":"柳","xx.fang":"房","xx.xin":"心","xx.shi":"室","xx.can":"参","xx.jiao":"角","xx.niu":"牛","xx.vei":"胃","xx.xing":"星","xx.zhang":"张","xx.tail":"尾","xx.qiang":"壁","xx.jing":"井","xx.kang":"亢","xx.nv":"女","xx.mao":"昴","sz.chun":"春","sz.xia":"夏","sz.qiu":"秋","sz.dong":"冬","od.first":"孟","od.second":"仲","od.third":"季","yx.shuo":"朔","yx.jiShuo":"既朔","yx.eMeiXin":"蛾眉新","yx.eMei":"蛾眉","yx.xi":"夕","yx.shangXian":"上弦","yx.jiuYe":"九夜","yx.night":"宵","yx.jianYingTu":"渐盈凸","yx.xiaoWang":"小望","yx.wang":"望","yx.jiWang":"既望","yx.liDai":"立待","yx.juDai":"居待","yx.qinDai":"寝待","yx.gengDai":"更待","yx.jianKuiTu":"渐亏凸","yx.xiaXian":"下弦","yx.youMing":"有明","yx.eMeiCan":"蛾眉残","yx.can":"残","yx.xiao":"晓","yx.hui":"晦","ny.sangZhe":"桑柘","ny.baiLa":"白蜡","ny.yangLiu":"杨柳","ny.jinBo":"金箔","ny.haiZhong":"海中","ny.daHai":"大海","ny.shaZhong":"沙中","ny.luZhong":"炉中","ny.shanXia":"山下","ny.daLin":"大林","ny.pingDi":"平地","ny.luPang":"路旁","ny.biShang":"壁上","ny.jianFeng":"剑锋","ny.shanTou":"山头","ny.fuDeng":"覆灯","ny.jianXia":"涧下","ny.tianHe":"天河","ny.chengTou":"城头","ny.daYi":"大驿","ny.chaiChuan":"钗钏","ny.quanZhong":"泉中","ny.daXi":"大溪","ny.wuShang":"屋上","ny.piLi":"霹雳","ny.tianShang":"天上","ny.songBo":"松柏","ny.shiLiu":"石榴","ny.changLiu":"长流"},en:{"tg.jia":"Jia","tg.yi":"Yi","tg.bing":"Bing","tg.ding":"Ding","tg.wu":"Wu","tg.ji":"Ji","tg.geng":"Geng","tg.xin":"Xin","tg.ren":"Ren","tg.gui":"Gui","dz.zi":"Zi","dz.chou":"Chou","dz.yin":"Yin","dz.mao":"Mao","dz.chen":"Chen","dz.si":"Si","dz.wu":"Wu","dz.wei":"Wei","dz.shen":"Shen","dz.you":"You","dz.xu":"Xu","dz.hai":"Hai","zx.jian":"Build","zx.chu":"Remove","zx.man":"Full","zx.ping":"Flat","zx.ding":"Stable","zx.zhi":"Hold","zx.po":"Break","zx.wei":"Danger","zx.cheng":"Complete","zx.shou":"Collect","zx.kai":"Open","zx.bi":"Close","jz.jiaZi":"JiaZi","jz.yiChou":"YiChou","jz.bingYin":"BingYin","jz.dingMao":"DingMao","jz.wuChen":"WuChen","jz.jiSi":"JiSi","jz.gengWu":"GengWu","jz.xinWei":"XinWei","jz.renShen":"RenShen","jz.guiYou":"GuiYou","jz.jiaXu":"JiaXu","jz.yiHai":"YiHai","jz.bingZi":"BingZi","jz.dingChou":"DingChou","jz.wuYin":"WuYin","jz.jiMao":"JiMao","jz.gengChen":"GengChen","jz.xinSi":"XinSi","jz.renWu":"RenWu","jz.guiWei":"GuiWei","jz.jiaShen":"JiaShen","jz.yiYou":"YiYou","jz.bingXu":"BingXu","jz.dingHai":"DingHai","jz.wuZi":"WuZi","jz.jiChou":"JiChou","jz.gengYin":"GengYin","jz.xinMao":"XinMao","jz.renChen":"RenChen","jz.guiSi":"GuiSi","jz.jiaWu":"JiaWu","jz.yiWei":"YiWei","jz.bingShen":"BingShen","jz.dingYou":"DingYou","jz.wuXu":"WuXu","jz.jiHai":"JiHai","jz.gengZi":"GengZi","jz.xinChou":"XinChou","jz.renYin":"RenYin","jz.guiMao":"GuiMao","jz.jiaChen":"JiaChen","jz.yiSi":"YiSi","jz.bingWu":"BingWu","jz.dingWei":"DingWei","jz.wuShen":"WuShen","jz.jiYou":"JiYou","jz.gengXu":"GengXu","jz.xinHai":"XinHai","jz.renZi":"RenZi","jz.guiChou":"GuiChou","jz.jiaYin":"JiaYin","jz.yiMao":"YiMao","jz.bingChen":"BingChen","jz.dingSi":"DingSi","jz.wuWu":"WuWu","jz.jiWei":"JiWei","jz.gengShen":"GengShen","jz.xinYou":"XinYou","jz.renXu":"RenXu","jz.guiHai":"GuiHai","sx.rat":"Rat","sx.ox":"Ox","sx.tiger":"Tiger","sx.rabbit":"Rabbit","sx.dragon":"Dragon","sx.snake":"Snake","sx.horse":"Horse","sx.goat":"Goat","sx.monkey":"Monkey","sx.rooster":"Rooster","sx.dog":"Dog","sx.pig":"Pig","dw.long":"Dragon","dw.niu":"Ox","dw.gou":"Dog","dw.yang":"Goat","dw.tu":"Rabbit","dw.shu":"Rat","dw.ji":"Rooster","dw.ma":"Horse","dw.hu":"Tiger","dw.zhu":"Pig","dw.hou":"Monkey","dw.she":"Snake","dw.huLi":"Fox","dw.yan":"Swallow","dw.bao":"Leopard","dw.yuan":"Ape","dw.yin":"Earthworm","dw.lu":"Deer","dw.wu":"Crow","dw.lang":"Wolf","dw.fu":"Bat","wx.jin":"Metal","wx.mu":"Wood","wx.shui":"Water","wx.huo":"Fire","wx.tu":"Earth","wx.ri":"Sun","wx.yue":"Moon","n.zero":"0","n.one":"1","n.two":"2","n.three":"3","n.four":"4","n.five":"5","n.six":"6","n.seven":"7","n.eight":"8","n.nine":"9","n.ten":"10","n.eleven":"11","n.twelve":"12","w.sun":"Sunday","w.mon":"Monday","w.tues":"Tuesday","w.wed":"Wednesday","w.thur":"Thursday","w.fri":"Friday","w.sat":"Saturday","xz.aries":"Aries","xz.taurus":"Taurus","xz.gemini":"Gemini","xz.cancer":"Cancer","xz.leo":"Leo","xz.virgo":"Virgo","xz.libra":"Libra","xz.scorpio":"Scorpio","xz.sagittarius":"Sagittarius","xz.capricornus":"Capricornus","xz.aquarius":"Aquarius","xz.pisces":"Pisces","bg.qian":"Qian","bg.kun":"Kun","bg.zhen":"Zhen","bg.xun":"Xun","bg.kan":"Kan","bg.li":"Li","bg.gen":"Gen","bg.dui":"Dui","ps.center":"Center","ps.dong":"East","ps.nan":"South","ps.xi":"West","ps.bei":"North","ps.zhong":"Center","ps.zhengDong":"East","ps.zhengNan":"South","ps.zhengXi":"West","ps.zhengBei":"North","ps.dongBei":"Northeast","ps.dongNan":"Southeast","ps.xiBei":"Northwest","ps.xiNan":"Southwest","jq.dongZhi":"Winter Solstice","jq.xiaoHan":"Lesser Cold","jq.daHan":"Great Cold","jq.liChun":"Spring Beginning","jq.yuShui":"Rain Water","jq.jingZhe":"Awakening from Hibernation","jq.chunFen":"Spring Equinox","jq.qingMing":"Fresh Green","jq.guYu":"Grain Rain","jq.liXia":"Beginning of Summer","jq.xiaoMan":"Lesser Fullness","jq.mangZhong":"Grain in Ear","jq.xiaZhi":"Summer Solstice","jq.xiaoShu":"Lesser Heat","jq.daShu":"Greater Heat","jq.liQiu":"Beginning of Autumn","jq.chuShu":"End of Heat","jq.baiLu":"White Dew","jq.qiuFen":"Autumnal Equinox","jq.hanLu":"Cold Dew","jq.shuangJiang":"First Frost","jq.liDong":"Beginning of Winter","jq.xiaoXue":"Light Snow","jq.daXue":"Heavy Snow","sn.qingLong":"Azure Dragon","sn.baiHu":"White Tiger","sn.zhuQue":"Rosefinch","sn.xuanWu":"Black Tortoise","sn.tianEn":"Serene Grace","sn.siShen":"Death","sn.tianMa":"Pegasus","sn.baLong":"Eight Dragon","sn.jiuHu":"Nine Tiger","sn.qiNiao":"Seven Bird","sn.liuShe":"Six Snake","s.none":"None","s.goodLuck":"Good luck","s.badLuck":"Bad luck","s.yin":"Yin","s.yang":"Yang","s.white":"White","s.black":"Black","s.blue":"Blue","s.green":"Green","s.yellow":"Yellow","s.red":"Red","s.purple":"Purple","jr.chuXi":"Chinese New Year's Eve","jr.chunJie":"Luna New Year","jr.yuanXiao":"Lantern Festival","jr.duanWu":"Dragon Boat Festival","jr.qiXi":"Begging Festival","jr.zhongQiu":"Mid-Autumn Festival","jr.laBa":"Laba Festival","jr.yuanDan":"New Year's Day","jr.qingRen":"Valentine's Day","jr.fuNv":"Women's Day","jr.xiaoFei":"Consumer Rights Day","jr.zhiShu":"Arbor Day","jr.wuYi":"International Worker's Day","jr.erTong":"Children's Day","jr.qingNian":"Youth Day","jr.yuRen":"April Fools' Day","jr.jianDang":"Party's Day","jr.jianJun":"Army Day","jr.jiaoShi":"Teachers' Day","jr.guoQing":"National Day","jr.wanShengYe":"All Saints' Eve","jr.wanSheng":"All Saints' Day","jr.pingAn":"Christmas Eve","jr.shengDan":"Christmas Day","ts.zhan":"At","ts.hu":"Household","ts.zao":"Cooker","ts.dui":"Pestle","ts.xi":"Habitat","ts.win":"Window","ts.fang":"Room","ts.chuang":"Bed","ts.lu":"Stove","ts.mo":"Mill","ts.chu":"Kitchen","ts.ce":"Toilet","ts.cang":"Depot","ts.cangKu":"Depot","ts.daMen":"Gate","ts.men":"Door","ts.tang":"Hall","ly.xianSheng":"Win first","ly.xianFu":"Lose first","ly.youYin":"Friend's referral","ly.foMie":"Buddhism's demise","ly.daAn":"Great safety","ly.chiKou":"Chikagoro","yj.jiSi":"Sacrifice","yj.qiFu":"Pray","yj.qiuSi":"Seek heirs","yj.kaiGuang":"Consecretion","yj.suHui":"Paint sculptural","yj.qiJiao":"Build altar","yj.zhaiJiao":"Taoist rites","yj.muYu":"Bathing","yj.chouShen":"Reward gods","yj.zaoMiao":"Build temple","yj.siZhao":"Offer kitchen god","yj.fenXiang":"Burn incense","yj.xieTu":"Earth gratitude","yj.chuHuo":"Expel the flame","yj.diaoKe":"Carving","yj.jiaQu":"Marriage","yj.DingHun":"Engagement","yj.naCai":"Proposing","yj.wenMing":"Ask name","yj.naXu":"Uxorilocal marriage","yj.guiNing":"Visit parents","yj.anChuang":"Bed placing","yj.heZhang":"Make up accounts","yj.guanJi":"Crowning adulthood","yj.dingMeng":"Make alliance","yj.jinRenKou":"Adopt","yj.caiYi":"Dressmaking","yj.wanMian":"Cosmeticsurgery","yj.kaiRong":"Open face","yj.xiuFen":"Grave repair","yj.qiZuan":"Open coffin","yj.poTu":"Break earth","yj.anZang":"Burial","yj.liBei":"Tombstone erecting","yj.chengFu":"Formation of clothes","yj.chuFu":"Mourning clothes removal","yj.kaiShengFen":"Open grave","yj.heShouMu":"Make coffin","yj.ruLian":"Body placing","yj.yiJiu":"Move coffin","yj.puDu":"Save soul","yj.ruZhai":"Enter house","yj.anXiang":"Incenst placement","yj.anMen":"Door placing","yj.xiuZao":"Repair","yj.qiJi":"Digging","yj.dongTu":"Break ground","yj.shangLiang":"Beam placing","yj.shuZhu":"Erecting pillars","yj.kaiJing":"Open pond and well","yj.zuoBei":"Make pond and fill water","yj.chaiXie":"Smash house","yj.poWu":"Break house","yj.huaiYuan":"Demolish","yj.buYuan":"Mending","yj.faMuZuoLiang":"Make beams","yj.zuoZhao":"Make stove","yj.jieChu":"Removal","yj.kaiZhuYan":"Build beam","yj.chuanPing":"Build door","yj.gaiWuHeJi":"Cover house","yj.kaiCe":"Open toilet","yj.zaoCang":"Build depot","yj.saiXue":"Block nest","yj.pingZhi":"Repair roads","yj.zaoQiao":"Build bridge","yj.zuoCe":"Build toilet","yj.zhuDi":"Fill","yj.kaiChi":"Open pond","yj.faMu":"Lumbering","yj.kaiQu":"Canalization","yj.jueJing":"Dig well","yj.saoShe":"Sweep house","yj.fangShui":"Drainage","yj.zaoWu":"Build house","yj.heJi":"Close ridge","yj.zaoChuChou":"Livestock thickening","yj.xiuMen":"Repair door","yj.dingSang":"Fix stone","yj.zuoLiang":"Beam construction","yj.xiuShi":"Decorate wall","yj.jiaMa":"Erect horse","yj.kaiShi":"Opening","yj.guaBian":"Hang plaque","yj.naChai":"Accept wealth","yj.qiuCai":"Seek wealth","yj.kaiCang":"Open depot","yj.maiChe":"Buy car","yj.zhiChan":"Buy property","yj.guYong":"Hire","yj.chuHuoCai":"Delivery","yj.anJiXie":"Build machine","yj.zaoCheQi":"Build car","yj.jingLuo":"Build loom","yj.yunNiang":"Brew","yj.zuoRan":"Dye","yj.guZhu":"Cast","yj.zaoChuan":"Build boat","yj.geMi":"Harvest honey","yj.zaiZhong":"Farming","yj.quYu":"Fishing","yj.jieWang":"Netting","yj.muYang":"Graze","yj.anDuiWei":"Build rub","yj.xiYi":"Learn","yj.ruXue":"Enter school","yj.liFa":"Haircut","yj.tanBing":"Visiting","yj.jianGui":"Meet noble","yj.chengChuan":"Ride boat","yj.duShui":"Cross water","yj.zhenJiu":"Acupuncture","yj.chuXing":"Travel","yj.yiXi":"Move","yj.fenJu":"Live apart","yj.TiTou":"Shave","yj.zhengShou":"Manicure","yj.naChu":"Feed livestock","yj.buZhuo":"Catch","yj.tianLie":"Hunt","yj.jiaoNiuMa":"Train horse","yj.huiQinYou":"Meet friends","yj.fuRen":"Go post","yj.qiuYi":"See doctor","yj.zhiBing":"Treat","yj.ciSong":"Litigation","yj.qiJiDongTu":"Lay foundation","yj.poWuHuaiYuan":"Demolish","yj.gaiWu":"Build house","yj.zaoCangKu":"Build depot","yj.liQuanJiaoYi":"Covenant trade","yj.jiaoYi":"Trade","yj.liQuan":"Covenant","yj.anJi":"Install machine","yj.huiYou":"Meet friends","yj.qiuYiLiaoBing":"Seek treatment","yj.zhuShi":"Everything Sucks","yj.yuShi":"Do nothing else","yj.xingSang":"Funeral","yj.duanYi":"Block ant hole","yj.guiXiu":"Place beam","xx.bi":"Finish","xx.yi":"Wing","xx.ji":"Sieve","xx.kui":"Qui","xx.gui":"Ghost","xx.di":"Foundation","xx.xu":"Virtual","xx.wei":"Danger","xx.zi":"Mouth","xx.zhen":"Cross-bar","xx.dou":"Fight","xx.lou":"Weak","xx.liu":"Willow","xx.fang":"House","xx.xin":"Heart","xx.shi":"Room","xx.can":"Join","xx.jiao":"Horn","xx.niu":"Ox","xx.vei":"Stomach","xx.xing":"Star","xx.zhang":"Chang","xx.tail":"Tail","xx.qiang":"Wall","xx.jing":"Well","xx.kang":"Kang","xx.nv":"Female","xx.mao":"Mao","sz.chun":"Spring","sz.xia":"Summer","sz.qiu":"Autumn","sz.dong":"Winter","yx.shuo":"New","yx.eMeiXin":"New waxing","yx.eMei":"Waxing","yx.xi":"Evening","yx.shangXian":"First quarter","yx.jiuYe":"Nine night","yx.night":"Night","yx.jianYingTu":"Gibbous","yx.xiaoWang":"Little full","yx.wang":"Full","yx.jianKuiTu":"Disseminating","yx.xiaXian":"Third quarter","yx.eMeiCan":"Waning waxing","yx.can":"Waning","yx.xiao":"Daybreak","yx.hui":"Obscure","ny.sangZhe":"Cudrania","ny.baiLa":"Wax","ny.yangLiu":"Willow","ny.jinBo":"Foil","ny.haiZhong":"Sea","ny.daHai":"Ocean","ny.shaZhong":"Sand","ny.luZhong":"Stove","ny.shanXia":"Piedmont","ny.daLin":"Forest","ny.pingDi":"Land","ny.luPang":"Roadside","ny.biShang":"Wall","ny.jianFeng":"Blade","ny.shanTou":"Hilltop","ny.fuDeng":"Light","ny.jianXia":"Valleyn","ny.tianHe":"River","ny.chengTou":"City","ny.daYi":"Post","ny.chaiChuan":"Ornaments","ny.quanZhong":"Spring","ny.daXi":"Stream","ny.wuShang":"Roof","ny.piLi":"Thunderbolt","ny.tianShang":"Sky","ny.songBo":"Coniferin","ny.shiLiu":"Pomegranate","ny.changLiu":"Flows"}};Ke._OBJS={LunarUtil:$,SolarUtil:Gr,TaoUtil:Cn,FotoUtil:Or,NineStarUtil:Ka};Ke._DICT_STRING={LunarUtil:{TIAN_SHEN_TYPE:{},TIAN_SHEN_TYPE_LUCK:{},XIU_LUCK:{},LU:{},XIU:{},SHA:{},POSITION_DESC:{},NAYIN:{},WU_XING_GAN:{},WU_XING_ZHI:{},SHOU:{},GONG:{},FESTIVAL:{},ZHENG:{},ANIMAL:{},SHI_SHEN:{},XIU_SONG:{}},SolarUtil:{FESTIVAL:{}},TaoUtil:{BA_HUI:{},BA_JIE:{}}};Ke._DICT_NUMBER={LunarUtil:{ZHI_TIAN_SHEN_OFFSET:{},CHANG_SHENG_OFFSET:{}}};Ke._DICT_ARRAY={LunarUtil:{ZHI_HIDE_GAN:{}}};Ke._ARRAYS={LunarUtil:{GAN:[],ZHI:[],JIA_ZI:[],ZHI_XING:[],XUN:[],XUN_KONG:[],CHONG:[],CHONG_GAN:[],CHONG_GAN_TIE:[],HE_GAN_5:[],HE_ZHI_6:[],SHENGXIAO:[],NUMBER:[],POSITION_XI:[],POSITION_YANG_GUI:[],POSITION_YIN_GUI:[],POSITION_FU:[],POSITION_FU_2:[],POSITION_CAI:[],POSITION_TAI_SUI_YEAR:[],POSITION_GAN:[],POSITION_ZHI:[],JIE_QI:[],JIE_QI_IN_USE:[],TIAN_SHEN:[],SHEN_SHA:[],PENGZU_GAN:[],PENGZU_ZHI:[],MONTH_ZHI:[],CHANG_SHENG:[],HOU:[],WU_HOU:[],POSITION_TAI_DAY:[],POSITION_TAI_MONTH:[],YI_JI:[],LIU_YAO:[],MONTH:[],SEASON:[],DAY:[],YUE_XIANG:[]},SolarUtil:{WEEK:[],XINGZUO:[]},TaoUtil:{AN_WU:[]},FotoUtil:{XIU_27:[]},NineStarUtil:{NUMBER:[],WU_XING:[],POSITION:[],LUCK_XUAN_KONG:[],YIN_YANG_QI_MEN:[],COLOR:[]}};class hYe{constructor(e,r){this._year=e.getStartYear()+r,this._age=e.getStartAge()+r,this._index=r,this._daYun=e,this._lunar=e.getLunar()}getYear(){return this._year}getAge(){return this._age}getIndex(){return this._index}getLunar(){return this._lunar}getGanZhi(){let e=$.getJiaZiIndex(this._lunar.getJieQiTable()[Ke.getMessage("jq.liChun")].getLunar().getYearInGanZhiExact())+this._index;return this._daYun.getIndex()>0&&(e+=this._daYun.getStartAge()-1),e%=$.JIA_ZI.length,$.JIA_ZI[e]}getXun(){return $.getXun(this.getGanZhi())}getXunKong(){return $.getXunKong(this.getGanZhi())}getLiuYue(){const e=[];for(let r=0;r<12;r++)e.push(new cYe(this,r));return e}}class fYe{constructor(e,r,i){this._year=e.getStartYear()+r,this._age=e.getStartAge()+r,this._index=r,this._daYun=e,this._lunar=e.getLunar(),this._forward=i}getYear(){return this._year}getAge(){return this._age}getIndex(){return this._index}getGanZhi(){let e=$.getJiaZiIndex(this._lunar.getTimeInGanZhi()),r=this._index+1;this._daYun.getIndex()>0&&(r+=this._daYun.getStartAge()-1),e+=this._forward?r:-r;const i=$.JIA_ZI.length;for(;e<0;)e+=i;return e%=i,$.JIA_ZI[e]}getXun(){return $.getXun(this.getGanZhi())}getXunKong(){return $.getXunKong(this.getGanZhi())}}class dYe{constructor(e,r){const i=e.getLunar(),n=i.getSolar().getYear(),a=e.getStartSolar().getYear();let s,o,u,l;r<1?(s=n,o=1,u=a-1,l=a-n):(s=a+(r-1)*10,o=s-n+1,u=s+9,l=o+9),this._startYear=s,this._endYear=u,this._startAge=o,this._endAge=l,this._index=r,this._yun=e,this._lunar=i}getStartYear(){return this._startYear}getEndYear(){return this._endYear}getStartAge(){return this._startAge}getEndAge(){return this._endAge}getIndex(){return this._index}getLunar(){return this._lunar}getGanZhi(){if(this._index<1)return"";let e=$.getJiaZiIndex(this._lunar.getMonthInGanZhiExact());e+=this._yun.isForward()?this._index:-this._index;const r=$.JIA_ZI.length;return e>=r&&(e-=r),e<0&&(e+=r),$.JIA_ZI[e]}getXun(){return $.getXun(this.getGanZhi())}getXunKong(){return $.getXunKong(this.getGanZhi())}getLiuNian(e=10){this._index<1&&(e=this._endYear-this._startYear+1);const r=[];for(let i=0;i<e;i++)r.push(new hYe(this,i));return r}getXiaoYun(e=10){this._index<1&&(e=this._endYear-this._startYear+1);const r=[];for(let i=0;i<e;i++)r.push(new fYe(this,i,this._yun.isForward()));return r}}class pYe{constructor(e,r,i=1){this._gender=r,this._lunar=e;const n=e.getYearGanIndexExact()%2===0,a=r===1,s=n&&a||!n&&!a;this._forward=s;const o=e.getPrevJie(),u=e.getNextJie(),l=e.getSolar(),c=s?l:o.getSolar(),h=s?u.getSolar():l;let f,d,p,g=0;if(i===2){let v=h.subtractMinute(c);f=Math.floor(v/4320),v-=f*4320,d=Math.floor(v/360),v-=d*360,p=Math.floor(v/12),v-=p*12,g=v*2}else{const v=h.getHour()==23?11:$.getTimeZhiIndex(h.toYmdHms().substring(11,16)),m=c.getHour()==23?11:$.getTimeZhiIndex(c.toYmdHms().substring(11,16));let y=v-m,_=h.subtract(c);y<0&&(y+=12,_--);let x=Math.floor(y*10/30);d=_*4+x,p=y*10-x*30,f=Math.floor(d/12),d=d-f*12}this._startYear=f,this._startMonth=d,this._startDay=p,this._startHour=g}getGender(){return this._gender}getStartYear(){return this._startYear}getStartMonth(){return this._startMonth}getStartDay(){return this._startDay}getStartHour(){return this._startHour}isForward(){return this._forward}getLunar(){return this._lunar}getStartSolar(){let e=this._lunar.getSolar();return e=e.nextYear(this._startYear),e=e.nextMonth(this._startMonth),e=e.next(this._startDay),e.nextHour(this._startHour)}getDaYun(e=10){const r=[];for(let i=0;i<e;i++)r.push(new dYe(this,i));return r}}class cB{constructor(e){this._sect=2,this._lunar=e}static fromLunar(e){return new cB(e)}getSect(){return this._sect}setSect(e){this._sect=e==1?1:2}getDayGanIndex(){return this._sect===2?this._lunar.getDayGanIndexExact2():this._lunar.getDayGanIndexExact()}getDayZhiIndex(){return this._sect===2?this._lunar.getDayZhiIndexExact2():this._lunar.getDayZhiIndexExact()}getYear(){return this._lunar.getYearInGanZhiExact()}getYearGan(){return this._lunar.getYearGanExact()}getYearZhi(){return this._lunar.getYearZhiExact()}getYearHideGan(){const e=$.ZHI_HIDE_GAN[this.getYearZhi()];return e||[]}getYearWuXing(){const e=$.WU_XING_GAN[this.getYearGan()],r=$.WU_XING_ZHI[this.getYearZhi()];return e&&r?e+r:""}getYearNaYin(){const e=$.NAYIN[this.getYear()];return e||""}getYearShiShenGan(){const e=$.SHI_SHEN[this.getDayGan()+this.getYearGan()];return e||""}getYearShiShenZhi(){const e=this.getDayGan(),r=$.ZHI_HIDE_GAN[this.getYearZhi()],i=[];if(r)for(let n=0,a=r.length;n<a;n++){const s=$.SHI_SHEN[e+r[n]];s&&i.push(s)}return i}getDiShi(e){const r=$.CHANG_SHENG_OFFSET[this.getDayGan()];if(r==null)return"";let i=r+(this.getDayGanIndex()%2==0?e:-e);return i>=12&&(i-=12),i<0&&(i+=12),$.CHANG_SHENG[i]}getYearDiShi(){return this.getDiShi(this._lunar.getYearZhiIndexExact())}getYearXun(){return this._lunar.getYearXunExact()}getYearXunKong(){return this._lunar.getYearXunKongExact()}getMonth(){return this._lunar.getMonthInGanZhiExact()}getMonthGan(){return this._lunar.getMonthGanExact()}getMonthZhi(){return this._lunar.getMonthZhiExact()}getMonthHideGan(){const e=$.ZHI_HIDE_GAN[this.getMonthZhi()];return e||[]}getMonthWuXing(){const e=$.WU_XING_GAN[this.getMonthGan()],r=$.WU_XING_ZHI[this.getMonthZhi()];return e&&r?e+r:""}getMonthNaYin(){const e=$.NAYIN[this.getMonth()];return e||""}getMonthShiShenGan(){const e=$.SHI_SHEN[this.getDayGan()+this.getMonthGan()];return e||""}getMonthShiShenZhi(){const e=this.getDayGan(),r=$.ZHI_HIDE_GAN[this.getMonthZhi()],i=[];if(r)for(let n=0,a=r.length;n<a;n++){const s=$.SHI_SHEN[e+r[n]];s&&i.push(s)}return i}getMonthDiShi(){return this.getDiShi(this._lunar.getMonthZhiIndexExact())}getMonthXun(){return this._lunar.getMonthXunExact()}getMonthXunKong(){return this._lunar.getMonthXunKongExact()}getDay(){return this._sect===2?this._lunar.getDayInGanZhiExact2():this._lunar.getDayInGanZhiExact()}getDayGan(){return this._sect===2?this._lunar.getDayGanExact2():this._lunar.getDayGanExact()}getDayZhi(){return this._sect===2?this._lunar.getDayZhiExact2():this._lunar.getDayZhiExact()}getDayHideGan(){const e=$.ZHI_HIDE_GAN[this.getDayZhi()];return e||[]}getDayWuXing(){const e=$.WU_XING_GAN[this.getDayGan()],r=$.WU_XING_ZHI[this.getDayZhi()];return e&&r?e+r:""}getDayNaYin(){const e=$.NAYIN[this.getDay()];return e||""}getDayShiShenGan(){return"日主"}getDayShiShenZhi(){const e=this.getDayGan(),r=$.ZHI_HIDE_GAN[this.getDayZhi()],i=[];if(r)for(let n=0,a=r.length;n<a;n++){const s=$.SHI_SHEN[e+r[n]];s&&i.push(s)}return i}getDayDiShi(){return this.getDiShi(this.getDayZhiIndex())}getDayXun(){return this._sect===2?this._lunar.getDayXunExact2():this._lunar.getDayXunExact()}getDayXunKong(){return this._sect===2?this._lunar.getDayXunKongExact2():this._lunar.getDayXunKongExact()}getTime(){return this._lunar.getTimeInGanZhi()}getTimeGan(){return this._lunar.getTimeGan()}getTimeZhi(){return this._lunar.getTimeZhi()}getTimeHideGan(){const e=$.ZHI_HIDE_GAN[this.getTimeZhi()];return e||[]}getTimeWuXing(){const e=$.WU_XING_GAN[this._lunar.getTimeGan()],r=$.WU_XING_ZHI[this._lunar.getTimeZhi()];return e&&r?e+r:""}getTimeNaYin(){const e=$.NAYIN[this.getTime()];return e||""}getTimeShiShenGan(){const e=$.SHI_SHEN[this.getDayGan()+this.getTimeGan()];return e||""}getTimeShiShenZhi(){const e=this.getDayGan(),r=$.ZHI_HIDE_GAN[this.getTimeZhi()],i=[];if(r)for(let n=0,a=r.length;n<a;n++){const s=$.SHI_SHEN[e+r[n]];s&&i.push(s)}return i}getTimeDiShi(){return this.getDiShi(this._lunar.getTimeZhiIndex())}getTimeXun(){return this._lunar.getTimeXun()}getTimeXunKong(){return this._lunar.getTimeXunKong()}getTaiYuan(){let e=this._lunar.getMonthGanIndexExact()+1;e>=10&&(e-=10);let r=this._lunar.getMonthZhiIndexExact()+3;return r>=12&&(r-=12),$.GAN[e+1]+$.ZHI[r+1]}getTaiYuanNaYin(){const e=$.NAYIN[this.getTaiYuan()];return e||""}getTaiXi(){const e=this._sect==2?this._lunar.getDayGanIndexExact2():this._lunar.getDayGanIndexExact(),r=this._sect==2?this._lunar.getDayZhiIndexExact2():this._lunar.getDayZhiIndexExact();return $.HE_GAN_5[e]+$.HE_ZHI_6[r]}getTaiXiNaYin(){const e=$.NAYIN[this.getTaiXi()];return e||""}getMingGong(){const e=$.find(this.getMonthZhi(),$.MONTH_ZHI).index,r=$.find(this.getTimeZhi(),$.MONTH_ZHI).index;let i=e+r;i=(i>=14?26:14)-i;let n=(this._lunar.getYearGanIndexExact()+1)*2+i;for(;n>10;)n-=10;return $.GAN[n]+$.MONTH_ZHI[i]}getMingGongNaYin(){const e=$.NAYIN[this.getMingGong()];return e||""}getShenGong(){const e=$.find(this.getMonthZhi(),$.MONTH_ZHI).index,r=$.find(this.getTimeZhi(),$.ZHI).index;let i=e+r;i>12&&(i-=12);let n=(this._lunar.getYearGanIndexExact()+1)*2+i;for(;n>10;)n-=10;return $.GAN[n]+$.MONTH_ZHI[i]}getShenGongNaYin(){const e=$.NAYIN[this.getShenGong()];return e||""}getLunar(){return this._lunar}getYun(e,r=1){return new pYe(this._lunar,e,r)}toString(){return this.getYear()+" "+this.getMonth()+" "+this.getDay()+" "+this.getTime()}}const zo=class{static fromIndex(t){return new zo(t)}constructor(t){this._index=t}getNumber(){return Ka.NUMBER[this._index]}getColor(){return Ka.COLOR[this._index]}getWuXing(){return Ka.WU_XING[this._index]}getPosition(){return Ka.POSITION[this._index]}getPositionDesc(){const t=$.POSITION_DESC[this.getPosition()];return t||""}getNameInXuanKong(){return zo.NAME_XUAN_KONG[this._index]}getNameInBeiDou(){return zo.NAME_BEI_DOU[this._index]}getNameInQiMen(){return zo.NAME_QI_MEN[this._index]}getNameInTaiYi(){return zo.NAME_TAI_YI[this._index]}getLuckInQiMen(){return zo.LUCK_QI_MEN[this._index]}getLuckInXuanKong(){return Ka.LUCK_XUAN_KONG[this._index]}getYinYangInQiMen(){return Ka.YIN_YANG_QI_MEN[this._index]}getTypeInTaiYi(){return zo.TYPE_TAI_YI[this._index]}getBaMenInQiMen(){return zo.BA_MEN_QI_MEN[this._index]}getSongInTaiYi(){return zo.SONG_TAI_YI[this._index]}getIndex(){return this._index}toString(){return this.getNumber()+this.getColor()+this.getWuXing()+this.getNameInBeiDou()}toFullString(){let t=this.getNumber();return t+=this.getColor(),t+=this.getWuXing(),t+=" ",t+=this.getPosition(),t+="(",t+=this.getPositionDesc(),t+=") ",t+=this.getNameInBeiDou(),t+=" 玄空[",t+=this.getNameInXuanKong(),t+=" ",t+=this.getLuckInXuanKong(),t+="] 奇门[",t+=this.getNameInQiMen(),t+=" ",t+=this.getLuckInQiMen(),this.getBaMenInQiMen().length>0&&(t+=" ",t+=this.getBaMenInQiMen(),t+="门"),t+=" ",t+=this.getYinYangInQiMen(),t+="] 太乙[",t+=this.getNameInTaiYi(),t+=" ",t+=this.getTypeInTaiYi(),t+="]",t}};let sa=zo;sa.NAME_BEI_DOU=["天枢","天璇","天玑","天权","玉衡","开阳","摇光","洞明","隐元"];sa.NAME_XUAN_KONG=["贪狼","巨门","禄存","文曲","廉贞","武曲","破军","左辅","右弼"];sa.NAME_QI_MEN=["天蓬","天芮","天冲","天辅","天禽","天心","天柱","天任","天英"];sa.BA_MEN_QI_MEN=["休","死","伤","杜","","开","惊","生","景"];sa.NAME_TAI_YI=["太乙","摄提","轩辕","招摇","天符","青龙","咸池","太阴","天乙"];sa.TYPE_TAI_YI=["吉神","凶神","安神","安神","凶神","吉神","凶神","吉神","吉神"];sa.SONG_TAI_YI=["门中太乙明，星官号贪狼，赌彩财喜旺，婚姻大吉昌，出入无阻挡，参谒见贤良，此行三五里，黑衣别阴阳。","门前见摄提，百事必忧疑，相生犹自可，相克祸必临，死门并相会，老妇哭悲啼，求谋并吉事，尽皆不相宜，只可藏隐遁，若动伤身疾。","出入会轩辕，凡事必缠牵，相生全不美，相克更忧煎，远行多不利，博彩尽输钱，九天玄女法，句句不虚言。","招摇号木星，当之事莫行，相克行人阻，阴人口舌迎，梦寐多惊惧，屋响斧自鸣，阴阳消息理，万法弗违情。","五鬼为天符，当门阴女谋，相克无好事，行路阻中途，走失难寻觅，道逢有尼姑，此星当门值，万事有灾除。","神光跃青龙，财气喜重重，投入有酒食，赌彩最兴隆，更逢相生旺，休言克破凶，见贵安营寨，万事总吉同。","吾将为咸池，当之尽不宜，出入多不利，相克有灾情，赌彩全输尽，求财空手回，仙人真妙语，愚人莫与知，动用虚惊退，反复逆风吹。","坐临太阴星，百祸不相侵，求谋悉成就，知交有觅寻，回风归来路，恐有殃伏起，密语中记取，慎乎莫轻行。","迎来天乙星，相逢百事兴，运用和合庆，茶酒喜相迎，求谋并嫁娶，好合有天成，祸福如神验，吉凶甚分明。"];sa.LUCK_QI_MEN=["大凶","大凶","小吉","大吉","大吉","大吉","小凶","小吉","小凶"];class gYe{constructor(e,r){this._name=e,this._index=r}getName(){return this._name}setName(e){this._name=e}getIndex(){return this._index}setIndex(e){this._index=e}toString(){return this.getName()}toFullString(){return this.getName()+"第"+this.getIndex()+"天"}}class yx{constructor(e,r){this._name=e,this._index=r}getName(){return this._name}setName(e){this._name=e}getIndex(){return this._index}setIndex(e){this._index=e}toString(){return this.getName()}toFullString(){return this.getName()+"第"+this.getIndex()+"天"}}class MC{static fromYm(e,r){return Ma.fromYear(e).getMonth(r)}constructor(e,r,i,n,a){this._year=e,this._month=r,this._dayCount=i,this._firstJulianDay=n,this._index=a,this._zhiIndex=(a-1+$.BASE_MONTH_ZHI_INDEX)%12}getYear(){return this._year}getMonth(){return this._month}getIndex(){return this._index}getGanIndex(){const e=(Ma.fromYear(this._year).getGanIndex()+1)%5*2;return(this._index-1+e)%10}getZhiIndex(){return this._zhiIndex}getGan(){return $.GAN[this.getGanIndex()+1]}getZhi(){return $.ZHI[this._zhiIndex+1]}getGanZhi(){return this.getGan()+this.getZhi()}isLeap(){return this._month<0}getDayCount(){return this._dayCount}getFirstJulianDay(){return this._firstJulianDay}getPositionXi(){return $.POSITION_XI[this.getGanIndex()+1]}getPositionXiDesc(){return $.POSITION_DESC[this.getPositionXi()]}getPositionYangGui(){return $.POSITION_YANG_GUI[this.getGanIndex()+1]}getPositionYangGuiDesc(){return $.POSITION_DESC[this.getPositionYangGui()]}getPositionYinGui(){return $.POSITION_YIN_GUI[this.getGanIndex()+1]}getPositionYinGuiDesc(){return $.POSITION_DESC[this.getPositionYinGui()]}getPositionFu(e=2){return(e==1?$.POSITION_FU:$.POSITION_FU_2)[this.getGanIndex()+1]}getPositionFuDesc(e=2){return $.POSITION_DESC[this.getPositionFu(e)]}getPositionCai(){return $.POSITION_CAI[this.getGanIndex()+1]}getPositionCaiDesc(){return $.POSITION_DESC[this.getPositionCai()]}getPositionTaiSui(){let e;switch(Math.abs(this._month)){case 1:case 5:case 9:e="艮";break;case 3:case 7:case 11:e="坤";break;case 4:case 8:case 12:e="巽";break;default:e=$.POSITION_GAN[vr.fromJulianDay(this.getFirstJulianDay()).getLunar().getMonthGanIndex()]}return e}getPositionTaiSuiDesc(){return $.POSITION_DESC[this.getPositionTaiSui()]}getNineStar(){const e=Ma.fromYear(this._year).getZhiIndex()%3,i=(13+Math.abs(this._month))%12;let n=27-e*3;i<$.BASE_MONTH_ZHI_INDEX&&(n-=3);const a=(n-i)%9;return sa.fromIndex(a)}toString(){return`${this.getYear()}年${this.isLeap()?"闰":""}${$.MONTH[Math.abs(this.getMonth())]}月(${this.getDayCount()})天`}next(e){if(e==0)return MC.fromYm(this._year,this._month);{let r=Math.abs(e),i=this._year,n=i,a=this._month,s=0,o=Ma.fromYear(i).getMonths(),u,l,c;if(e>0){for(;;){for(c=o.length,u=0;u<c;u++)if(l=o[u],l.getYear()===n&&l.getMonth()===a){s=u;break}const h=c-s-1;if(r<h)break;r-=h;const f=o[c-1];n=f.getYear(),a=f.getMonth(),i++,o=Ma.fromYear(i).getMonths()}return o[s+r]}else{for(;;){for(c=o.length,u=0;u<c;u++)if(l=o[u],l.getYear()===n&&l.getMonth()===a){s=u;break}if(r<=s)break;r-=s;const h=o[0];n=h.getYear(),a=h.getMonth(),i--,o=Ma.fromYear(i).getMonths()}return o[s-r]}}}}const Ue=class{static decode(t){const e="0000000000",r=e+e;return t=t.replace(/J/g,"00"),t=t.replace(/I/g,"000"),t=t.replace(/H/g,"0000"),t=t.replace(/G/g,"00000"),t=t.replace(/t/g,"02"),t=t.replace(/s/g,"002"),t=t.replace(/r/g,"0002"),t=t.replace(/q/g,"00002"),t=t.replace(/p/g,"000002"),t=t.replace(/o/g,"0000002"),t=t.replace(/n/g,"00000002"),t=t.replace(/m/g,"000000002"),t=t.replace(/l/g,"0000000002"),t=t.replace(/k/g,"01"),t=t.replace(/j/g,"0101"),t=t.replace(/i/g,"001"),t=t.replace(/h/g,"001001"),t=t.replace(/g/g,"0001"),t=t.replace(/f/g,"00001"),t=t.replace(/e/g,"000001"),t=t.replace(/d/g,"0000001"),t=t.replace(/c/g,"00000001"),t=t.replace(/b/g,"000000001"),t=t.replace(/a/g,"0000000001"),t=t.replace(/A/g,r+r+r),t=t.replace(/B/g,r+r+e),t=t.replace(/C/g,r+r),t=t.replace(/D/g,r+e),t=t.replace(/E/g,r),t=t.replace(/F/g,e),t}static nutationLon2(t){let e=-1.742*t,r=t*t,i=0;for(let n=0,a=Ue.NUT_B.length;n<a;n+=5)i+=(Ue.NUT_B[n+3]+e)*Math.sin(Ue.NUT_B[n]+Ue.NUT_B[n+1]*t+Ue.NUT_B[n+2]*r),e=0;return i/100/Ue.SECOND_PER_RAD}static eLon(t,e){t/=10;let r=0,i=1,n,a,s,o,u=1,l,c=Ue.XL0[u+1]-Ue.XL0[u];for(let f=0;f<6;f++,i*=t)if(n=Math.floor(Ue.XL0[u+f]),a=Math.floor(Ue.XL0[u+1+f]),l=a-n,l!=0){e<0?s=a:(s=Math.floor(3*e*l/c+.5+n),f!=0&&(s+=3),s>a&&(s=a)),o=0;for(let d=n;d<s;d+=3)o+=Ue.XL0[d]*Math.cos(Ue.XL0[d+1]+t*Ue.XL0[d+2]);r+=o*i}r/=Ue.XL0[0];let h=t*t;return r+=(-.0728-2.7702*t-1.1019*h-.0996*h*t)/Ue.SECOND_PER_RAD,r}static mLon(t,e){let r=Ue.XL1,i=r[0].length,n=1,a=0,s,o,u=t*t,l=u*t,c=l*t,h=c*t,f=t-10;a+=(3.81034409+8399.684730072*t-3319e-8*u+311e-10*l-2033e-13*c)*Ue.SECOND_PER_RAD,a+=5028.792262*t+1.1124406*u+7699e-8*l-23479e-9*c-178e-10*h,f>0&&(a+=-.866+1.43*f+.054*f*f),u/=1e4,l/=1e8,c/=1e8,e*=6,e<0&&(e=i);for(let d=0,p=r.length;d<p;d++,n*=t){let g=r[d],v=g.length,m=Math.floor(e*v/i+.5);for(d>0&&(m+=6),m>=v&&(m=v),s=0,o=0;s<m;s+=6)o+=g[s]*Math.cos(g[s+1]+t*g[s+2]+u*g[s+3]+l*g[s+4]+c*g[s+5]);a+=o*n}return a/=Ue.SECOND_PER_RAD,a}static gxcSunLon(t){let e=t*t,r=-.043126+628.301955*t-2732e-9*e;return-20.49552*(1+(.016708634-42037e-9*t-1267e-10*e)*Math.cos(r))/Ue.SECOND_PER_RAD}static ev(t){let e=628.307585*t;return 628.332+21*Math.sin(1.527+e)+.44*Math.sin(1.48+e*2)+.129*Math.sin(5.82+e)*t+55e-5*Math.sin(4.21+e)*t*t}static saLon(t,e){return Ue.eLon(t,e)+Ue.nutationLon2(t)+Ue.gxcSunLon(t)+Math.PI}static dtExt(t,e){let r=(t-1820)/100;return-20+e*r*r}static dtCalc(t){let e=Ue.DT_AT.length,r=Ue.DT_AT[e-2],i=Ue.DT_AT[e-1];if(t>=r){let u=31;return t>r+100?Ue.dtExt(t,u):Ue.dtExt(t,u)-(Ue.dtExt(r,u)-i)*(r+100-t)/100}let n;for(n=0;n<e&&!(t<Ue.DT_AT[n+5]);n+=5);let a=(t-Ue.DT_AT[n])/(Ue.DT_AT[n+5]-Ue.DT_AT[n])*10,s=a*a,o=s*a;return Ue.DT_AT[n+1]+Ue.DT_AT[n+2]*a+Ue.DT_AT[n+3]*s+Ue.DT_AT[n+4]*o}static dtT(t){return Ue.dtCalc(t/365.2425+2e3)/Ue.SECOND_PER_DAY}static mv(t){let e=8399.71-914*Math.sin(.7848+8328.691425*t+1523e-7*t*t);return e-=179*Math.sin(2.543+15542.7543*t)+160*Math.sin(.1874+7214.0629*t)+62*Math.sin(3.14+16657.3828*t)+34*Math.sin(4.827+16866.9323*t)+22*Math.sin(4.9+23871.4457*t)+12*Math.sin(2.59+14914.4523*t)+7*Math.sin(.23+6585.7609*t)+5*Math.sin(.9+25195.624*t)+5*Math.sin(2.32-7700.3895*t)+5*Math.sin(3.88+8956.9934*t)+5*Math.sin(.49+7771.3771*t),e}static saLonT(t){let e,r=628.3319653318;return e=(t-1.75347-Math.PI)/r,r=Ue.ev(e),e+=(t-Ue.saLon(e,10))/r,r=Ue.ev(e),e+=(t-Ue.saLon(e,-1))/r,e}static msaLon(t,e,r){return Ue.mLon(t,e)+-34e-7-(Ue.eLon(t,r)+Ue.gxcSunLon(t)+Math.PI)}static msaLonT(t){let e,r=7771.37714500204;return e=(t+1.08472)/r,e+=(t-Ue.msaLon(e,3,3))/r,r=Ue.mv(e)-Ue.ev(e),e+=(t-Ue.msaLon(e,20,10))/r,e+=(t-Ue.msaLon(e,-1,60))/r,e}static saLonT2(t){const e=628.3319653318;let r=(t-1.75347-Math.PI)/e;return r-=(5297e-9*r*r+.0334166*Math.cos(4.669257+628.307585*r)+2061e-7*Math.cos(2.67823+628.307585*r)*r)/e,r+=(t-Ue.eLon(r,8)-Math.PI+(20.5+17.2*Math.sin(2.1824-33.75705*r))/Ue.SECOND_PER_RAD)/e,r}static msaLonT2(t){let e,r=7771.37714500204;e=(t+1.08472)/r;let i,n=e*e;return e-=(-3309e-8*n+.10976*Math.cos(.784758+8328.6914246*e+152292e-9*n)+.02224*Math.cos(.1874+7214.0628654*e-21848e-8*n)-.03342*Math.cos(4.669257+628.307585*e))/r,n=e*e,i=Ue.mLon(e,20)-(4.8950632+628.3319653318*e+5297e-9*n+.0334166*Math.cos(4.669257+628.307585*e)+2061e-7*Math.cos(2.67823+628.307585*e)*e+349e-6*Math.cos(4.6261+1256.61517*e)-20.5/Ue.SECOND_PER_RAD),r=7771.38-914*Math.sin(.7848+8328.691425*e+1523e-7*n)-179*Math.sin(2.543+15542.7543*e)-160*Math.sin(.1874+7214.0629*e),e+=(t-i)/r,e}static qiHigh(t){let e=Ue.saLonT2(t)*36525;e=e-Ue.dtT(e)+Ue.ONE_THIRD;const r=(e+.5)%1*Ue.SECOND_PER_DAY;return(r<1200||r>Ue.SECOND_PER_DAY-1200)&&(e=Ue.saLonT(t)*36525-Ue.dtT(e)+Ue.ONE_THIRD),e}static shuoHigh(t){let e=Ue.msaLonT2(t)*36525;e=e-Ue.dtT(e)+Ue.ONE_THIRD;let r=(e+.5)%1*Ue.SECOND_PER_DAY;return(r<1800||r>Ue.SECOND_PER_DAY-1800)&&(e=Ue.msaLonT(t)*36525-Ue.dtT(e)+Ue.ONE_THIRD),e}static qiLow(t){const e=628.3319653318;let r=(t-4.895062166)/e;r-=(53*r*r+334116*Math.cos(4.67+628.307585*r)+2061*Math.cos(2.678+628.3076*r)*r)/e/1e7;const i=4895062166e-2+6283319653318e-3*r+53*r*r+334166*Math.cos(4.669257+628.307585*r)+3489*Math.cos(4.6261+1256.61517*r)+2060.6*Math.cos(2.67823+628.307585*r)*r-994-834*Math.sin(2.1824-33.75705*r);return r-=(i/1e7-t)/628.332+(32*(r+1.8)*(r+1.8)-20)/Ue.SECOND_PER_DAY/36525,r*36525+Ue.ONE_THIRD}static shuoLow(t){let e=7771.37714500204,r=(t+1.08472)/e;return r-=(-331e-7*r*r+.10976*Math.cos(.785+8328.6914*r)+.02224*Math.cos(.187+7214.0629*r)-.03342*Math.cos(4.669+628.3076*r))/e+(32*(r+1.8)*(r+1.8)-20)/Ue.SECOND_PER_DAY/36525,r*36525+Ue.ONE_THIRD}static calcShuo(t){let e=Ue.SHUO_KB.length,r=0,i=14,n;t+=vr.J2000;let a=Ue.SHUO_KB[0]-i,s=Ue.SHUO_KB[e-1]-i,o=2436935;if(t<a||t>=o)r=Math.floor(Ue.shuoHigh(Math.floor((t+i-2451551)/29.5306)*Math.PI*2)+.5);else if(t>=a&&t<s){for(n=0;n<e&&!(t+i<Ue.SHUO_KB[n+2]);n+=2);r=Ue.SHUO_KB[n]+Ue.SHUO_KB[n+1]*Math.floor((t+i-Ue.SHUO_KB[n])/Ue.SHUO_KB[n+1]),r=Math.floor(r+.5),r==1683460&&r++,r-=vr.J2000}else if(t>=s&&t<o){r=Math.floor(Ue.shuoLow(Math.floor((t+i-2451551)/29.5306)*Math.PI*2)+.5);let u=Math.floor((t-s)/29.5306),l=Ue.SB.substring(u,u+1);l=="1"?r+=1:l=="2"&&(r-=1)}return r}static calcQi(t){let e=Ue.QI_KB.length,r=0,i=7,n;t+=vr.J2000;let a=Ue.QI_KB[0]-i,s=Ue.QI_KB[e-1]-i,o=2436935;if(t<a||t>=o)r=Math.floor(Ue.qiHigh(Math.floor((t+i-2451259)/365.2422*24)*Math.PI/12)+.5);else if(t>=a&&t<s){for(n=0;n<e&&!(t+i<Ue.QI_KB[n+2]);n+=2);r=Ue.QI_KB[n]+Ue.QI_KB[n+1]*Math.floor((t+i-Ue.QI_KB[n])/Ue.QI_KB[n+1]),r=Math.floor(r+.5),r==1683460&&r++,r-=vr.J2000}else if(t>=s&&t<o){r=Math.floor(Ue.qiLow(Math.floor((t+i-2451259)/365.2422*24)*Math.PI/12)+.5);let u=Math.floor((t-s)/365.2422*24),l=Ue.QB.substring(u,u+1);l=="1"?r+=1:l=="2"&&(r-=1)}return r}static qiAccurate(t){const e=Ue.saLonT(t)*36525;return e-Ue.dtT(e)+Ue.ONE_THIRD}static qiAccurate2(t){const e=Math.PI/12,r=Math.floor((t+293)/365.2422*24)*e,i=Ue.qiAccurate(r);return i-t>5?Ue.qiAccurate(r-e):i-t<-5?Ue.qiAccurate(r+e):i}};let Gi=Ue;Gi.PI_2=2*Math.PI;Gi.ONE_THIRD=1/3;Gi.SECOND_PER_DAY=86400;Gi.SECOND_PER_RAD=648e3/Math.PI;Gi.NUT_B=[2.1824,-33.75705,36e-6,-1720,920,3.5069,1256.66393,11e-6,-132,57,1.3375,16799.4182,-51e-6,-23,10,4.3649,-67.5141,72e-6,21,-9,.04,-628.302,0,-14,0,2.36,8328.691,0,7,0,3.46,1884.966,0,-5,2,5.44,16833.175,0,-4,2,3.69,25128.11,0,-3,0,3.55,628.362,0,2,0];Gi.DT_AT=[-4e3,108371.7,-13036.8,392,0,-500,17201,-627.82,16.17,-.3413,-150,12200.6,-346.41,5.403,-.1593,150,9113.8,-328.13,-1.647,.0377,500,5707.5,-391.41,.915,.3145,900,2203.4,-283.45,13.034,-.1778,1300,490.1,-57.35,2.085,-.0072,1600,120,-9.81,-1.532,.1403,1700,10.2,-.91,.51,-.037,1800,13.4,-.72,.202,-.0193,1830,7.8,-1.81,.416,-.0247,1860,8.3,-.13,-.406,.0292,1880,-5.4,.32,-.183,.0173,1900,-2.3,2.06,.169,-.0135,1920,21.2,1.69,-.304,.0167,1940,24.2,1.22,-.064,.0031,1960,33.2,.51,.231,-.0109,1980,51,1.29,-.026,.0032,2e3,63.87,.1,0,0,2005,64.7,.21,0,0,2012,66.8,.22,0,0,2018,73.6,.4,0,0,2021,78.1,.44,0,0,2024,83.1,.55,0,0,2028,98.6];Gi.XL0=[1e10,20,578,920,1100,1124,1136,1148,1217,1226,1229,1229,1229,1229,1937,2363,2618,2633,2660,2666,17534704567,0,0,334165646,4.669256804,6283.075849991,3489428,4.6261024,12566.1517,349706,2.744118,5753.384885,341757,2.828866,3.523118,313590,3.62767,77713.771468,267622,4.418084,7860.419392,234269,6.135162,3930.209696,132429,.742464,11506.76977,127317,2.037097,529.690965,119917,1.109629,1577.343542,99025,5.23268,5884.92685,90186,2.04505,26.29832,85722,3.50849,398.149,77979,1.17883,5223.69392,75314,2.53339,5507.55324,50526,4.58293,18849.22755,49238,4.20507,775.52261,35666,2.91954,.06731,31709,5.84902,11790.62909,28413,1.89869,796.29801,27104,.31489,10977.0788,24281,.34481,5486.77784,20616,4.80647,2544.31442,20539,1.86948,5573.1428,20226,2.45768,6069.77675,15552,.83306,213.2991,13221,3.41118,2942.46342,12618,1.08303,20.7754,11513,.64545,.98032,10285,.636,4694.00295,10190,.97569,15720.83878,10172,4.2668,7.11355,9921,6.2099,2146.1654,9761,.681,155.4204,8580,5.9832,161000.6857,8513,1.2987,6275.9623,8471,3.6708,71430.6956,7964,1.8079,17260.1547,7876,3.037,12036.4607,7465,1.7551,5088.6288,7387,3.5032,3154.6871,7355,4.6793,801.8209,6963,.833,9437.7629,6245,3.9776,8827.3903,6115,1.8184,7084.8968,5696,2.7843,6286.599,5612,4.3869,14143.4952,5558,3.4701,6279.5527,5199,.1891,12139.5535,5161,1.3328,1748.0164,5115,.2831,5856.4777,4900,.4874,1194.447,4104,5.3682,8429.2413,4094,2.3985,19651.0485,3920,6.1683,10447.3878,3677,6.0413,10213.2855,3660,2.5696,1059.3819,3595,1.7088,2352.8662,3557,1.776,6812.7668,3329,.5931,17789.8456,3041,.4429,83996.8473,3005,2.7398,1349.8674,2535,3.1647,4690.4798,2474,.2148,3.5904,2366,.4847,8031.0923,2357,2.0653,3340.6124,2282,5.222,4705.7323,2189,5.5559,553.5694,2142,1.4256,16730.4637,2109,4.1483,951.7184,2030,.3713,283.8593,1992,5.2221,12168.0027,1986,5.7747,6309.3742,1912,3.8222,23581.2582,1889,5.3863,149854.4001,1790,2.2149,13367.9726,1748,4.5605,135.0651,1622,5.9884,11769.8537,1508,4.1957,6256.7775,1442,4.1932,242.7286,1435,3.7236,38.0277,1397,4.4014,6681.2249,1362,1.8893,7632.9433,1250,1.1305,5.5229,1205,2.6223,955.5997,1200,1.0035,632.7837,1129,.1774,4164.312,1083,.3273,103.0928,1052,.9387,11926.2544,1050,5.3591,1592.596,1033,6.1998,6438.4962,1001,6.0291,5746.2713,980,.999,11371.705,980,5.244,27511.468,938,2.624,5760.498,923,.483,522.577,922,4.571,4292.331,905,5.337,6386.169,862,4.165,7058.598,841,3.299,7234.794,836,4.539,25132.303,813,6.112,4732.031,812,6.271,426.598,801,5.821,28.449,787,.996,5643.179,776,2.957,23013.54,769,3.121,7238.676,758,3.974,11499.656,735,4.386,316.392,731,.607,11513.883,719,3.998,74.782,706,.323,263.084,676,5.911,90955.552,663,3.665,17298.182,653,5.791,18073.705,630,4.717,6836.645,615,1.458,233141.314,612,1.075,19804.827,596,3.321,6283.009,596,2.876,6283.143,555,2.452,12352.853,541,5.392,419.485,531,.382,31441.678,519,4.065,6208.294,513,2.361,10973.556,494,5.737,9917.697,450,3.272,11015.106,449,3.653,206.186,447,2.064,7079.374,435,4.423,5216.58,421,1.906,245.832,413,.921,3738.761,402,.84,20.355,387,1.826,11856.219,379,2.344,3.881,374,2.954,3128.389,370,5.031,536.805,365,1.018,16200.773,365,1.083,88860.057,352,5.978,3894.182,352,2.056,244287.6,351,3.713,6290.189,340,1.106,14712.317,339,.978,8635.942,339,3.202,5120.601,333,.837,6496.375,325,3.479,6133.513,316,5.089,21228.392,316,1.328,10873.986,309,3.646,10.637,303,1.802,35371.887,296,3.397,9225.539,288,6.026,154717.61,281,2.585,14314.168,262,3.856,266.607,262,2.579,22483.849,257,1.561,23543.231,255,3.949,1990.745,251,3.744,10575.407,240,1.161,10984.192,238,.106,7.046,236,4.272,6040.347,234,3.577,10969.965,211,3.714,65147.62,210,.754,13521.751,207,4.228,5650.292,202,.814,170.673,201,4.629,6037.244,200,.381,6172.87,199,3.933,6206.81,199,5.197,6262.3,197,1.046,18209.33,195,1.07,5230.807,195,4.869,36.028,194,4.313,6244.943,192,1.229,709.933,192,5.595,6282.096,192,.602,6284.056,189,3.744,23.878,188,1.904,15.252,188,.867,22003.915,182,3.681,15110.466,181,.491,1.484,179,3.222,39302.097,179,1.259,12559.038,62833196674749,0,0,20605886,2.67823456,6283.07584999,430343,2.635127,12566.1517,42526,1.59047,3.52312,11926,5.79557,26.29832,10898,2.96618,1577.34354,9348,2.5921,18849.2275,7212,1.1385,529.691,6777,1.8747,398.149,6733,4.4092,5507.5532,5903,2.888,5223.6939,5598,2.1747,155.4204,4541,.398,796.298,3637,.4662,775.5226,2896,2.6471,7.1135,2084,5.3414,.9803,1910,1.8463,5486.7778,1851,4.9686,213.2991,1729,2.9912,6275.9623,1623,.0322,2544.3144,1583,1.4305,2146.1654,1462,1.2053,10977.0788,1246,2.8343,1748.0164,1188,3.258,5088.6288,1181,5.2738,1194.447,1151,2.075,4694.003,1064,.7661,553.5694,997,1.303,6286.599,972,4.239,1349.867,945,2.7,242.729,858,5.645,951.718,758,5.301,2352.866,639,2.65,9437.763,610,4.666,4690.48,583,1.766,1059.382,531,.909,3154.687,522,5.661,71430.696,520,1.854,801.821,504,1.425,6438.496,433,.241,6812.767,426,.774,10447.388,413,5.24,7084.897,374,2.001,8031.092,356,2.429,14143.495,350,4.8,6279.553,337,.888,12036.461,337,3.862,1592.596,325,3.4,7632.943,322,.616,8429.241,318,3.188,4705.732,297,6.07,4292.331,295,1.431,5746.271,290,2.325,20.355,275,.935,5760.498,270,4.804,7234.794,253,6.223,6836.645,228,5.003,17789.846,225,5.672,11499.656,215,5.202,11513.883,208,3.955,10213.286,208,2.268,522.577,206,2.224,5856.478,206,2.55,25132.303,203,.91,6256.778,189,.532,3340.612,188,4.735,83996.847,179,1.474,4164.312,178,3.025,5.523,177,3.026,5753.385,159,4.637,3.286,157,6.124,5216.58,155,3.077,6681.225,154,4.2,13367.973,143,1.191,3894.182,138,3.093,135.065,136,4.245,426.598,134,5.765,6040.347,128,3.085,5643.179,127,2.092,6290.189,125,3.077,11926.254,125,3.445,536.805,114,3.244,12168.003,112,2.318,16730.464,111,3.901,11506.77,111,5.32,23.878,105,3.75,7860.419,103,2.447,1990.745,96,.82,3.88,96,4.08,6127.66,91,5.42,206.19,91,.42,7079.37,88,5.17,11790.63,81,.34,9917.7,80,3.89,10973.56,78,2.4,1589.07,78,2.58,11371.7,77,3.98,955.6,77,3.36,36.03,76,1.3,103.09,75,5.18,10969.97,75,4.96,6496.37,73,5.21,38.03,72,2.65,6309.37,70,5.61,3738.76,69,2.6,3496.03,69,.39,15.25,69,2.78,20.78,65,1.13,7058.6,64,4.28,28.45,61,5.63,10984.19,60,.73,419.48,60,5.28,10575.41,58,5.55,17298.18,58,3.19,4732.03,5291887,0,0,871984,1.072097,6283.07585,30913,.86729,12566.1517,2734,.053,3.5231,1633,5.1883,26.2983,1575,3.6846,155.4204,954,.757,18849.228,894,2.057,77713.771,695,.827,775.523,506,4.663,1577.344,406,1.031,7.114,381,3.441,5573.143,346,5.141,796.298,317,6.053,5507.553,302,1.192,242.729,289,6.117,529.691,271,.306,398.149,254,2.28,553.569,237,4.381,5223.694,208,3.754,.98,168,.902,951.718,153,5.759,1349.867,145,4.364,1748.016,134,3.721,1194.447,125,2.948,6438.496,122,2.973,2146.165,110,1.271,161000.686,104,.604,3154.687,100,5.986,6286.599,92,4.8,5088.63,89,5.23,7084.9,83,3.31,213.3,76,3.42,5486.78,71,6.19,4690.48,68,3.43,4694,65,1.6,2544.31,64,1.98,801.82,61,2.48,10977.08,50,1.44,6836.65,49,2.34,1592.6,46,1.31,4292.33,46,3.81,149854.4,43,.04,7234.79,40,4.94,7632.94,39,1.57,71430.7,38,3.17,6309.37,35,.99,6040.35,35,.67,1059.38,31,3.18,2352.87,31,3.55,8031.09,30,1.92,10447.39,30,2.52,6127.66,28,4.42,9437.76,28,2.71,3894.18,27,.67,25132.3,26,5.27,6812.77,25,.55,6279.55,23,1.38,4705.73,22,.64,6256.78,20,6.07,640.88,28923,5.84384,6283.07585,3496,0,0,1682,5.4877,12566.1517,296,5.196,155.42,129,4.722,3.523,71,5.3,18849.23,64,5.97,242.73,40,3.79,553.57,11408,3.14159,0,772,4.134,6283.076,77,3.84,12566.15,42,.42,155.42,88,3.14,0,17,2.77,6283.08,5,2.01,155.42,3,2.21,12566.15,27962,3.1987,84334.66158,10164,5.42249,5507.55324,8045,3.8801,5223.6939,4381,3.7044,2352.8662,3193,4.0003,1577.3435,2272,3.9847,1047.7473,1814,4.9837,6283.0758,1639,3.5646,5856.4777,1444,3.7028,9437.7629,1430,3.4112,10213.2855,1125,4.8282,14143.4952,1090,2.0857,6812.7668,1037,4.0566,71092.8814,971,3.473,4694.003,915,1.142,6620.89,878,4.44,5753.385,837,4.993,7084.897,770,5.554,167621.576,719,3.602,529.691,692,4.326,6275.962,558,4.41,7860.419,529,2.484,4705.732,521,6.25,18073.705,903,3.897,5507.553,618,1.73,5223.694,380,5.244,2352.866,166,1.627,84334.662,10001398880,0,0,167069963,3.098463508,6283.075849991,1395602,3.0552461,12566.1517,308372,5.198467,77713.771468,162846,1.173877,5753.384885,157557,2.846852,7860.419392,92480,5.45292,11506.76977,54244,4.56409,3930.2097,47211,3.661,5884.92685,34598,.96369,5507.55324,32878,5.89984,5223.69392,30678,.29867,5573.1428,24319,4.2735,11790.62909,21183,5.84715,1577.34354,18575,5.02194,10977.0788,17484,3.01194,18849.22755,10984,5.05511,5486.77784,9832,.8868,6069.7768,8650,5.6896,15720.8388,8583,1.2708,161000.6857,6490,.2725,17260.1547,6292,.9218,529.691,5706,2.0137,83996.8473,5574,5.2416,71430.6956,4938,3.245,2544.3144,4696,2.5781,775.5226,4466,5.5372,9437.7629,4252,6.0111,6275.9623,3897,5.3607,4694.003,3825,2.3926,8827.3903,3749,.8295,19651.0485,3696,4.9011,12139.5535,3566,1.6747,12036.4607,3454,1.8427,2942.4634,3319,.2437,7084.8968,3192,.1837,5088.6288,3185,1.7778,398.149,2846,1.2134,6286.599,2779,1.8993,6279.5527,2628,4.589,10447.3878,2460,3.7866,8429.2413,2393,4.996,5856.4777,2359,.2687,796.298,2329,2.8078,14143.4952,2210,1.95,3154.6871,2035,4.6527,2146.1654,1951,5.3823,2352.8662,1883,.6731,149854.4001,1833,2.2535,23581.2582,1796,.1987,6812.7668,1731,6.152,16730.4637,1717,4.4332,10213.2855,1619,5.2316,17789.8456,1381,5.1896,8031.0923,1364,3.6852,4705.7323,1314,.6529,13367.9726,1041,4.3329,11769.8537,1017,1.5939,4690.4798,998,4.201,6309.374,966,3.676,27511.468,874,6.064,1748.016,779,3.674,12168.003,771,.312,7632.943,756,2.626,6256.778,746,5.648,11926.254,693,2.924,6681.225,680,1.423,23013.54,674,.563,3340.612,663,5.661,11371.705,659,3.136,801.821,648,2.65,19804.827,615,3.029,233141.314,612,5.134,1194.447,563,4.341,90955.552,552,2.091,17298.182,534,5.1,31441.678,531,2.407,11499.656,523,4.624,6438.496,513,5.324,11513.883,477,.256,11856.219,461,1.722,7234.794,458,3.766,6386.169,458,4.466,5746.271,423,1.055,5760.498,422,1.557,7238.676,415,2.599,7058.598,401,3.03,1059.382,397,1.201,1349.867,379,4.907,4164.312,360,5.707,5643.179,352,3.626,244287.6,348,.761,10973.556,342,3.001,4292.331,336,4.546,4732.031,334,3.138,6836.645,324,4.164,9917.697,316,1.691,11015.106,307,.238,35371.887,298,1.306,6283.143,298,1.75,6283.009,293,5.738,16200.773,286,5.928,14712.317,281,3.515,21228.392,280,5.663,8635.942,277,.513,26.298,268,4.207,18073.705,266,.9,12352.853,260,2.962,25132.303,255,2.477,6208.294,242,2.8,709.933,231,1.054,22483.849,229,1.07,14314.168,216,1.314,154717.61,215,6.038,10873.986,200,.561,7079.374,198,2.614,951.718,197,4.369,167283.762,186,2.861,5216.58,183,1.66,39302.097,183,5.912,3738.761,175,2.145,6290.189,173,2.168,10575.407,171,3.702,1592.596,171,1.343,3128.389,164,5.55,6496.375,164,5.856,10984.192,161,1.998,10969.965,161,1.909,6133.513,157,4.955,25158.602,154,6.216,23543.231,153,5.357,13521.751,150,5.77,18209.33,150,5.439,155.42,139,1.778,9225.539,139,1.626,5120.601,128,2.46,13916.019,123,.717,143571.324,122,2.654,88860.057,121,4.414,3894.182,121,1.192,3.523,120,4.03,553.569,119,1.513,17654.781,117,3.117,14945.316,113,2.698,6040.347,110,3.085,43232.307,109,.998,955.6,108,2.939,17256.632,107,5.285,65147.62,103,.139,11712.955,103,5.85,213.299,102,3.046,6037.244,101,2.842,8662.24,100,3.626,6262.3,98,2.36,6206.81,98,5.11,6172.87,98,2,15110.47,97,2.67,5650.29,97,2.75,6244.94,96,4.02,6282.1,96,5.31,6284.06,92,.1,29088.81,85,3.26,20426.57,84,2.6,28766.92,81,3.58,10177.26,80,5.81,5230.81,78,2.53,16496.36,77,4.06,6127.66,73,.04,5481.25,72,5.96,12559.04,72,5.92,4136.91,71,5.49,22003.91,70,3.41,7.11,69,.62,11403.68,69,3.9,1589.07,69,1.96,12416.59,69,4.51,426.6,67,1.61,11087.29,66,4.5,47162.52,66,5.08,283.86,66,4.32,16858.48,65,1.04,6062.66,64,1.59,18319.54,63,5.7,45892.73,63,4.6,66567.49,63,3.82,13517.87,62,2.62,11190.38,61,1.54,33019.02,60,5.58,10344.3,60,5.38,316428.23,60,5.78,632.78,59,6.12,9623.69,57,.16,17267.27,57,3.86,6076.89,57,1.98,7668.64,56,4.78,20199.09,55,4.56,18875.53,55,3.51,17253.04,54,3.07,226858.24,54,4.83,18422.63,53,5.02,12132.44,52,3.63,5333.9,52,.97,155427.54,51,3.36,20597.24,50,.99,11609.86,50,2.21,1990.75,48,1.62,12146.67,48,1.17,12569.67,47,4.62,5436.99,47,1.81,12562.63,47,.59,21954.16,47,.76,7342.46,46,.27,4590.91,46,3.77,156137.48,45,5.66,10454.5,44,5.84,3496.03,43,.24,17996.03,41,5.93,51092.73,41,4.21,12592.45,40,5.14,1551.05,40,5.28,15671.08,39,3.69,18052.93,39,4.94,24356.78,38,2.72,11933.37,38,5.23,7477.52,38,4.99,9779.11,37,3.7,9388.01,37,4.44,4535.06,36,2.16,28237.23,36,2.54,242.73,36,.22,5429.88,35,6.15,19800.95,35,2.92,36949.23,34,5.63,2379.16,34,5.73,16460.33,34,5.11,5849.36,33,6.19,6268.85,10301861,1.1074897,6283.07584999,172124,1.064423,12566.1517,70222,3.14159,0,3235,1.0217,18849.2275,3080,2.8435,5507.5532,2497,1.3191,5223.6939,1849,1.4243,1577.3435,1008,5.9138,10977.0788,865,1.42,6275.962,863,.271,5486.778,507,1.686,5088.629,499,6.014,6286.599,467,5.987,529.691,440,.518,4694.003,410,1.084,9437.763,387,4.75,2544.314,375,5.071,796.298,352,.023,83996.847,344,.949,71430.696,341,5.412,775.523,322,6.156,2146.165,286,5.484,10447.388,284,3.42,2352.866,255,6.132,6438.496,252,.243,398.149,243,3.092,4690.48,225,3.689,7084.897,220,4.952,6812.767,219,.42,8031.092,209,1.282,1748.016,193,5.314,8429.241,185,1.82,7632.943,175,3.229,6279.553,173,1.537,4705.732,158,4.097,11499.656,158,5.539,3154.687,150,3.633,11513.883,148,3.222,7234.794,147,3.653,1194.447,144,.817,14143.495,135,6.151,5746.271,134,4.644,6836.645,128,2.693,1349.867,123,5.65,5760.498,118,2.577,13367.973,113,3.357,17789.846,110,4.497,4292.331,108,5.828,12036.461,102,5.621,6256.778,99,1.14,1059.38,98,.66,5856.48,93,2.32,10213.29,92,.77,16730.46,88,1.5,11926.25,86,1.42,5753.38,85,.66,155.42,81,1.64,6681.22,80,4.11,951.72,66,4.55,5216.58,65,.98,25132.3,64,4.19,6040.35,64,.52,6290.19,63,1.51,5643.18,59,6.18,4164.31,57,2.3,10973.56,55,2.32,11506.77,55,2.2,1592.6,55,5.27,3340.61,54,5.54,553.57,53,5.04,9917.7,53,.92,11371.7,52,3.98,17298.18,52,3.6,10969.97,49,5.91,3894.18,49,2.51,6127.66,48,1.67,12168,46,.31,801.82,42,3.7,10575.41,42,4.05,10984.19,40,2.17,7860.42,40,4.17,26.3,38,5.82,7058.6,37,3.39,6496.37,36,1.08,6309.37,36,5.34,7079.37,34,3.62,11790.63,32,.32,16200.77,31,4.24,3738.76,29,4.55,11856.22,29,1.26,8635.94,27,3.45,5884.93,26,5.08,10177.26,26,5.38,21228.39,24,2.26,11712.96,24,1.05,242.73,24,5.59,6069.78,23,3.63,6284.06,23,1.64,4732.03,22,3.46,213.3,21,1.05,3496.03,21,3.92,13916.02,21,4.01,5230.81,20,5.16,12352.85,20,.69,1990.75,19,2.73,6062.66,19,5.01,11015.11,18,6.04,6283.01,18,2.85,7238.68,18,5.6,6283.14,18,5.16,17253.04,18,2.54,14314.17,17,1.58,7.11,17,.98,3930.21,17,4.75,17267.27,16,2.19,6076.89,16,2.19,18073.7,16,6.12,3.52,16,4.61,9623.69,16,3.4,16496.36,15,.19,9779.11,15,5.3,13517.87,15,4.26,3128.39,15,.81,709.93,14,.5,25158.6,14,4.38,4136.91,13,.98,65147.62,13,3.31,154717.61,13,2.11,1589.07,13,1.92,22483.85,12,6.03,9225.54,12,1.53,12559.04,12,5.82,6282.1,12,5.61,5642.2,12,2.38,167283.76,12,.39,12132.44,12,3.98,4686.89,12,5.81,12569.67,12,.56,5849.36,11,.45,6172.87,11,5.8,16858.48,11,6.22,12146.67,11,2.27,5429.88,435939,5.784551,6283.07585,12363,5.57935,12566.1517,1234,3.1416,0,879,3.628,77713.771,569,1.87,5573.143,330,5.47,18849.228,147,4.48,5507.553,110,2.842,161000.686,101,2.815,5223.694,85,3.11,1577.34,65,5.47,775.52,61,1.38,6438.5,50,4.42,6286.6,47,3.66,7084.9,46,5.39,149854.4,42,.9,10977.08,40,3.2,5088.63,35,1.81,5486.78,32,5.35,3154.69,30,3.52,796.3,29,4.62,4690.48,28,1.84,4694,27,3.14,71430.7,27,6.17,6836.65,26,1.42,2146.17,25,2.81,1748.02,24,2.18,155.42,23,4.76,7234.79,21,3.38,7632.94,21,.22,4705.73,20,4.22,1349.87,20,2.01,1194.45,20,4.58,529.69,19,1.59,6309.37,18,5.7,6040.35,18,6.03,4292.33,17,2.9,9437.76,17,2,8031.09,17,5.78,83996.85,16,.05,2544.31,15,.95,6127.66,14,.36,10447.39,14,1.48,2352.87,13,.77,553.57,13,5.48,951.72,13,5.27,6279.55,13,3.76,6812.77,11,5.41,6256.78,10,.68,1592.6,10,4.95,398.15,10,1.15,3894.18,10,5.2,244287.6,10,1.94,11856.22,9,5.39,25132.3,8,6.18,1059.38,8,.69,8429.24,8,5.85,242.73,7,5.26,14143.5,7,.52,801.82,6,2.24,8635.94,6,4,13367.97,6,2.77,90955.55,6,5.17,7058.6,5,1.46,233141.31,5,4.13,7860.42,5,3.91,26.3,5,3.89,12036.46,5,5.58,6290.19,5,5.54,1990.75,5,.83,11506.77,5,6.22,6681.22,4,5.26,10575.41,4,1.91,7477.52,4,.43,10213.29,4,1.09,709.93,4,5.09,11015.11,4,4.22,88860.06,4,3.57,7079.37,4,1.98,6284.06,4,3.93,10973.56,4,6.18,9917.7,4,.36,10177.26,4,2.75,3738.76,4,3.33,5643.18,4,5.36,25158.6,14459,4.27319,6283.07585,673,3.917,12566.152,77,0,0,25,3.73,18849.23,4,2.8,6286.6,386,2.564,6283.076,31,2.27,12566.15,5,3.44,5573.14,2,2.05,18849.23,1,2.06,77713.77,1,4.41,161000.69,1,3.82,149854.4,1,4.08,6127.66,1,5.26,6438.5,9,1.22,6283.08,1,.66,12566.15];Gi.XL1=[[22639.586,.78475822,8328.691424623,1.5229241,25.0719,-.123598,4586.438,.1873974,7214.06286536,-2.184756,-18.86,.0828,2369.914,2.542952,15542.75428998,-.661832,6.212,-.0408,769.026,3.140313,16657.38284925,3.04585,50.144,-.2472,666.418,1.527671,628.30195521,-.02664,.062,-.0054,411.596,4.826607,16866.932315,-1.28012,-1.07,-.0059,211.656,4.115028,-1114.6285593,-3.70768,-43.93,.2064,205.436,.230523,6585.7609101,-2.15812,-18.92,.0882,191.956,4.898507,23871.4457146,.86109,31.28,-.164,164.729,2.586078,14914.4523348,-.6352,6.15,-.035,147.321,5.4553,-7700.3894694,-1.5496,-25.01,.118,124.988,.48608,7771.377145,-.3309,3.11,-.02,109.38,3.88323,8956.9933798,1.4963,25.13,-.129,55.177,5.57033,-1324.178025,.6183,7.3,-.035,45.1,.89898,25195.62374,.2428,24,-.129,39.533,3.81213,-8538.24089,2.803,26.1,-.118,38.43,4.30115,22756.817155,-2.8466,-12.6,.042,36.124,5.49587,24986.074274,4.5688,75.2,-.371,30.773,1.94559,14428.125731,-4.3695,-37.7,.166,28.397,3.28586,7842.364821,-2.2114,-18.8,.077,24.358,5.64142,16171.056245,-.6885,6.3,-.046,18.585,4.41371,-557.31428,-1.8538,-22,.1,17.954,3.58454,8399.6791,-.3576,3.2,-.03,14.53,4.9416,23243.143759,.888,31.2,-.16,14.38,.9709,32200.137139,2.384,56.4,-.29,14.251,5.7641,-2.3012,1.523,25.1,-.12,13.899,.3735,31085.50858,-1.324,12.4,-.08,13.194,1.7595,-9443.319984,-5.231,-69,.33,9.679,3.0997,-16029.080894,-3.072,-50.1,.24,9.366,.3016,24080.99518,-3.465,-19.9,.08,8.606,4.1582,-1742.930514,-3.681,-44,.21,8.453,2.8416,16100.06857,1.192,28.2,-.14,8.05,2.6292,14286.15038,-.609,6.1,-.03,7.63,6.2388,17285.684804,3.019,50.2,-.25,7.447,1.4845,1256.60391,-.053,.1,-.01,7.371,.2736,5957.458955,-2.131,-19,.09,7.063,5.6715,33.757047,-.308,-3.6,.02,6.383,4.7843,7004.5134,2.141,32.4,-.16,5.742,2.6572,32409.686605,-1.942,5,-.05,4.374,4.3443,22128.5152,-2.82,-13,.05,3.998,3.2545,33524.31516,1.766,49,-.25,3.21,2.2443,14985.44001,-2.516,-16,.06,2.915,1.7138,24499.74767,.834,31,-.17,2.732,1.9887,13799.82378,-4.343,-38,.17,2.568,5.4122,-7072.08751,-1.576,-25,.11,2.521,3.2427,8470.66678,-2.238,-19,.07,2.489,4.0719,-486.3266,-3.734,-44,.2,2.146,5.6135,-1952.47998,.645,7,-.03,1.978,2.7291,39414.2,.199,37,-.21,1.934,1.5682,33314.7657,6.092,100,-.5,1.871,.4166,30457.20662,-1.297,12,-.1,1.753,2.0582,-8886.0057,-3.38,-47,.2,1.437,2.386,-695.87607,.59,7,0,1.373,3.026,-209.54947,4.33,51,-.2,1.262,5.94,16728.37052,1.17,28,-.1,1.224,6.172,6656.74859,-4.04,-41,.2,1.187,5.873,6099.43431,-5.89,-63,.3,1.177,1.014,31571.83518,2.41,56,-.3,1.162,3.84,9585.29534,1.47,25,-.1,1.143,5.639,8364.73984,-2.18,-19,.1,1.078,1.229,70.98768,-1.88,-22,.1,1.059,3.326,40528.82856,3.91,81,-.4,.99,5.013,40738.37803,-.42,30,-.2,.948,5.687,-17772.01141,-6.75,-94,.5,.876,.298,-.35232,0,0,0,.822,2.994,393.02097,0,0,0,.788,1.836,8326.39022,3.05,50,-.2,.752,4.985,22614.8418,.91,31,-.2,.74,2.875,8330.99262,0,0,0,.669,.744,-24357.77232,-4.6,-75,.4,.644,1.314,8393.12577,-2.18,-19,.1,.639,5.888,575.33849,0,0,0,.635,1.116,23385.11911,-2.87,-13,0,.584,5.197,24428.75999,2.71,53,-.3,.583,3.513,-9095.55517,.95,4,0,.572,6.059,29970.88002,-5.03,-32,.1,.565,2.96,.32863,1.52,25,-.1,.561,4.001,-17981.56087,-2.43,-43,.2,.557,.529,7143.07519,-.3,3,0,.546,2.311,25614.37623,4.54,75,-.4,.536,4.229,15752.30376,-4.99,-45,.2,.493,3.316,-8294.9344,-1.83,-29,.1,.491,1.744,8362.4485,1.21,21,-.1,.478,1.803,-10071.6219,-5.2,-69,.3,.454,.857,15333.2048,3.66,57,-.3,.445,2.071,8311.7707,-2.18,-19,.1,.426,.345,23452.6932,-3.44,-20,.1,.42,4.941,33733.8646,-2.56,-2,0,.413,1.642,17495.2343,-1.31,-1,0,.404,1.458,23314.1314,-.99,9,-.1,.395,2.132,38299.5714,-3.51,-6,0,.382,2.7,31781.3846,-1.92,5,0,.375,4.827,6376.2114,2.17,32,-.2,.361,3.867,16833.1753,-.97,3,0,.358,5.044,15056.4277,-4.4,-38,.2,.35,5.157,-8257.7037,-3.4,-47,.2,.344,4.233,157.7344,0,0,0,.34,2.672,13657.8484,-.58,6,0,.329,5.61,41853.0066,3.29,74,-.4,.325,5.895,-39.8149,0,0,0,.309,4.387,21500.2132,-2.79,-13,.1,.302,1.278,786.0419,0,0,0,.302,5.341,-24567.3218,-.27,-24,.1,.301,1.045,5889.8848,-1.57,-12,0,.294,4.201,-2371.2325,-3.65,-44,.2,.293,3.704,21642.1886,-6.55,-57,.2,.29,4.069,32828.4391,2.36,56,-.3,.289,3.472,31713.8105,-1.35,12,-.1,.285,5.407,-33.7814,.31,4,0,.283,5.998,-16.9207,-3.71,-44,.2,.283,2.772,38785.898,.23,37,-.2,.274,5.343,15613.742,-2.54,-16,.1,.263,3.997,25823.9257,.22,24,-.1,.254,.6,24638.3095,-1.61,2,0,.253,1.344,6447.1991,.29,10,-.1,.25,.887,141.9754,-3.76,-44,.2,.247,.317,5329.157,-2.1,-19,.1,.245,.141,36.0484,-3.71,-44,.2,.231,2.287,14357.1381,-2.49,-16,.1,.227,5.158,2.6298,0,0,0,.219,5.085,47742.8914,1.72,63,-.3,.211,2.145,6638.7244,-2.18,-19,.1,.201,4.415,39623.7495,-4.13,-14,0,.194,2.091,588.4927,0,0,0,.193,3.057,-15400.7789,-3.1,-50,0,.186,5.598,16799.3582,-.72,6,0,.185,3.886,1150.677,0,0,0,.183,1.619,7178.0144,1.52,25,0,.181,2.635,8328.3391,1.52,25,0,.181,2.077,8329.0437,1.52,25,0,.179,3.215,-9652.8694,-.9,-18,0,.176,1.716,-8815.018,-5.26,-69,0,.175,5.673,550.7553,0,0,0,.17,2.06,31295.058,-5.6,-39,0,.167,1.239,7211.7617,-.7,6,0,.165,4.499,14967.4158,-.7,6,0,.164,3.595,15540.4531,.9,31,0,.164,4.237,522.3694,0,0,0,.163,4.633,15545.0555,-2.2,-19,0,.161,.478,6428.0209,-2.2,-19,0,.158,2.03,13171.5218,-4.3,-38,0,.157,2.28,7216.3641,-3.7,-44,0,.154,5.65,7935.6705,1.5,25,0,.152,.46,29828.9047,-1.3,12,0,.151,1.19,-.7113,0,0,0,.15,1.42,23942.4334,-1,9,0,.144,2.75,7753.3529,1.5,25,0,.137,2.08,7213.7105,-2.2,-19,0,.137,1.44,7214.4152,-2.2,-19,0,.136,4.46,-1185.6162,-1.8,-22,0,.136,3.03,8000.1048,-2.2,-19,0,.134,2.83,14756.7124,-.7,6,0,.131,5.05,6821.0419,-2.2,-19,0,.128,5.99,-17214.6971,-4.9,-72,0,.127,5.35,8721.7124,1.5,25,0,.126,4.49,46628.2629,-2,19,0,.125,5.94,7149.6285,1.5,25,0,.124,1.09,49067.0695,1.1,55,0,.121,2.88,15471.7666,1.2,28,0,.111,3.92,41643.4571,7.6,125,-1,.11,1.96,8904.0299,1.5,25,0,.106,3.3,-18.0489,-2.2,-19,0,.105,2.3,-4.931,1.5,25,0,.104,2.22,-6.559,-1.9,-22,0,.101,1.44,1884.9059,-.1,0,0,.1,5.92,5471.1324,-5.9,-63,0,.099,1.12,15149.7333,-.7,6,0,.096,4.73,15508.9972,-.4,10,0,.095,5.18,7230.9835,1.5,25,0,.093,3.37,39900.5266,3.9,81,0,.092,2.01,25057.0619,2.7,53,0,.092,1.21,-79.6298,0,0,0,.092,1.65,-26310.2523,-4,-68,0,.091,1.01,42062.5561,-1,23,0,.09,6.1,29342.5781,-5,-32,0,.09,4.43,15542.402,-.7,6,0,.09,3.8,15543.1066,-.7,6,0,.089,4.15,6063.3859,-2.2,-19,0,.086,4.03,52.9691,0,0,0,.085,.49,47952.4409,-2.6,11,0,.085,1.6,7632.8154,2.1,32,0,.084,.22,14392.0773,-.7,6,0,.083,6.22,6028.4466,-4,-41,0,.083,.63,-7909.9389,2.8,26,0,.083,5.2,-77.5523,0,0,0,.082,2.74,8786.1467,-2.2,-19,0,.08,2.43,9166.5428,-2.8,-26,0,.08,3.7,-25405.1732,4.1,27,0,.078,5.68,48857.52,5.4,106,-1,.077,1.85,8315.5735,-2.2,-19,0,.075,5.46,-18191.1103,1.9,8,0,.075,1.41,-16238.6304,1.3,1,0,.074,5.06,40110.0761,-.4,30,0,.072,2.1,64.4343,-3.7,-44,0,.071,2.17,37671.2695,-3.5,-6,0,.069,1.71,16693.4313,-.7,6,0,.069,3.33,-26100.7028,-8.3,-119,1,.068,1.09,8329.4028,1.5,25,0,.068,3.62,8327.9801,1.5,25,0,.068,2.41,16833.1509,-1,3,0,.067,3.4,24709.2971,-3.5,-20,0,.067,1.65,8346.7156,-.3,3,0,.066,2.61,22547.2677,1.5,39,0,.066,3.5,15576.5113,-1,3,0,.065,5.76,33037.9886,-2,5,0,.065,4.58,8322.1325,-.3,3,0,.065,6.2,17913.9868,3,50,0,.065,1.5,22685.8295,-1,9,0,.065,2.37,7180.3058,-1.9,-15,0,.064,1.06,30943.5332,2.4,56,0,.064,1.89,8288.8765,1.5,25,0,.064,4.7,6.0335,.3,4,0,.063,2.83,8368.5063,1.5,25,0,.063,5.66,-2580.7819,.7,7,0,.062,3.78,7056.3285,-2.2,-19,0,.061,1.49,8294.91,1.8,29,0,.061,.12,-10281.1714,-.9,-18,0,.061,3.06,-8362.4729,-1.2,-21,0,.061,4.43,8170.9571,1.5,25,0,.059,5.78,-13.1179,-3.7,-44,0,.059,5.97,6625.5702,-2.2,-19,0,.058,5.01,-.508,-.3,0,0,.058,2.73,7161.0938,-2.2,-19,0,.057,.19,7214.0629,-2.2,-19,0,.057,4,22199.5029,-4.7,-35,0,.057,5.38,8119.142,5.8,76,0,.056,1.07,7542.6495,1.5,25,0,.056,.28,8486.4258,1.5,25,0,.054,4.19,16655.0816,4.6,75,0,.053,.72,7267.032,-2.2,-19,0,.053,3.12,12.6192,.6,7,0,.052,2.99,-32896.013,-1.8,-49,0,.052,3.46,1097.708,0,0,0,.051,5.37,-6443.786,-1.6,-25,0,.051,1.35,7789.401,-2.2,-19,0,.051,5.83,40042.502,.2,38,0,.051,3.63,9114.733,1.5,25,0,.05,1.51,8504.484,-2.5,-22,0,.05,5.23,16659.684,1.5,25,0,.05,1.15,7247.82,-2.5,-23,0,.047,.25,-1290.421,.3,0,0,.047,4.67,-32686.464,-6.1,-100,0,.047,3.49,548.678,0,0,0,.047,2.37,6663.308,-2.2,-19,0,.046,.98,1572.084,0,0,0,.046,2.04,14954.262,-.7,6,0,.046,3.72,6691.693,-2.2,-19,0,.045,6.19,-235.287,0,0,0,.044,2.96,32967.001,-.1,27,0,.044,3.82,-1671.943,-5.6,-66,0,.043,5.82,1179.063,0,0,0,.043,.07,34152.617,1.7,49,0,.043,3.71,6514.773,-.3,0,0,.043,5.62,15.732,-2.5,-23,0,.043,5.8,8351.233,-2.2,-19,0,.042,.27,7740.199,1.5,25,0,.042,6.14,15385.02,-.7,6,0,.042,6.13,7285.051,-4.1,-41,0,.041,1.27,32757.451,4.2,78,0,.041,4.46,8275.722,1.5,25,0,.04,.23,8381.661,1.5,25,0,.04,5.87,-766.864,2.5,29,0,.04,1.66,254.431,0,0,0,.04,.4,9027.981,-.4,0,0,.04,2.96,7777.936,1.5,25,0,.039,4.67,33943.068,6.1,100,0,.039,3.52,8326.062,1.5,25,0,.039,3.75,21013.887,-6.5,-57,0,.039,5.6,606.978,0,0,0,.039,1.19,8331.321,1.5,25,0,.039,2.84,7211.433,-2.2,-19,0,.038,.67,7216.693,-2.2,-19,0,.038,6.22,25161.867,.6,28,0,.038,4.4,7806.322,1.5,25,0,.038,4.16,9179.168,-2.2,-19,0,.037,4.73,14991.999,-.7,6,0,.036,.35,67.514,-.6,-7,0,.036,3.7,25266.611,-1.6,0,0,.036,5.39,16328.796,-.7,6,0,.035,1.44,7174.248,-2.2,-19,0,.035,5,15684.73,-4.4,-38,0,.035,.39,-15.419,-2.2,-19,0,.035,6.07,15020.385,-.7,6,0,.034,6.01,7371.797,-2.2,-19,0,.034,.96,-16623.626,-3.4,-54,0,.033,6.24,9479.368,1.5,25,0,.033,3.21,23661.896,5.2,82,0,.033,4.06,8311.418,-2.2,-19,0,.033,2.4,1965.105,0,0,0,.033,5.17,15489.785,-.7,6,0,.033,5.03,21986.54,.9,31,0,.033,4.1,16691.14,2.7,46,0,.033,5.13,47114.589,1.7,63,0,.033,4.45,8917.184,1.5,25,0,.033,4.23,2.078,0,0,0,.032,2.33,75.251,1.5,25,0,.032,2.1,7253.878,-2.2,-19,0,.032,3.11,-.224,1.5,25,0,.032,4.43,16640.462,-.7,6,0,.032,5.68,8328.363,0,0,0,.031,5.32,8329.02,3,50,0,.031,3.7,16118.093,-.7,6,0,.03,3.67,16721.817,-.7,6,0,.03,5.27,-1881.492,-1.2,-15,0,.03,5.72,8157.839,-2.2,-19,0,.029,5.73,-18400.313,-6.7,-94,0,.029,2.76,16,-2.2,-19,0,.029,1.75,8879.447,1.5,25,0,.029,.32,8851.061,1.5,25,0,.029,.9,14704.903,3.7,57,0,.028,2.9,15595.723,-.7,6,0,.028,5.88,16864.631,.2,24,0,.028,.63,16869.234,-2.8,-26,0,.028,4.04,-18609.863,-2.4,-43,0,.027,5.83,6727.736,-5.9,-63,0,.027,6.12,418.752,4.3,51,0,.027,.14,41157.131,3.9,81,0,.026,3.8,15.542,0,0,0,.026,1.68,50181.698,4.8,99,-1,.026,.32,315.469,0,0,0,.025,5.67,19.188,.3,0,0,.025,3.16,62.133,-2.2,-19,0,.025,3.76,15502.939,-.7,6,0,.025,4.53,45999.961,-2,19,0,.024,3.21,837.851,-4.4,-51,0,.024,2.82,38157.596,.3,37,0,.024,5.21,15540.124,-.7,6,0,.024,.26,14218.576,0,13,0,.024,3.01,15545.384,-.7,6,0,.024,1.16,-17424.247,-.6,-21,0,.023,2.34,-67.574,.6,7,0,.023,2.44,18.024,-1.9,-22,0,.023,3.7,469.4,0,0,0,.023,.72,7136.511,-2.2,-19,0,.023,4.5,15582.569,-.7,6,0,.023,2.8,-16586.395,-4.9,-72,0,.023,1.51,80.182,0,0,0,.023,1.09,5261.583,-1.5,-12,0,.023,.56,54956.954,-.5,44,0,.023,4.01,8550.86,-2.2,-19,0,.023,4.46,38995.448,-4.1,-14,0,.023,3.82,2358.126,0,0,0,.022,3.77,32271.125,.5,34,0,.022,.82,15935.775,-.7,6,0,.022,1.07,24013.421,-2.9,-13,0,.022,.4,8940.078,-2.2,-19,0,.022,2.06,15700.489,-.7,6,0,.022,4.27,15124.002,-5,-45,0,.021,1.16,56071.583,3.2,88,0,.021,5.58,9572.189,-2.2,-19,0,.02,1.7,-17.273,-3.7,-44,0,.02,3.05,214.617,0,0,0,.02,4.41,8391.048,-2.2,-19,0,.02,5.95,23869.145,2.4,56,0,.02,.42,40947.927,-4.7,-21,0,.019,1.39,5818.897,.3,10,0,.019,.71,23873.747,-.7,6,0,.019,2.81,7291.615,-2.2,-19,0,.019,5.09,8428.018,-2.2,-19,0,.019,4.14,6518.187,-1.6,-12,0,.019,3.85,21.33,0,0,0,.018,.66,14445.046,-.7,6,0,.018,1.65,.966,-4,-48,0,.018,5.64,-17143.709,-6.8,-94,0,.018,6.01,7736.432,-2.2,-19,0,.018,2.74,31153.083,-1.9,5,0,.018,4.58,6116.355,-2.2,-19,0,.018,2.28,46.401,.3,0,0,.018,3.8,10213.597,1.4,25,0,.018,2.84,56281.132,-1.1,36,0,.018,3.53,8249.062,1.5,25,0,.017,4.43,20871.911,-3,-13,0,.017,4.44,627.596,0,0,0,.017,1.85,628.308,0,0,0,.017,1.19,8408.321,2,25,0,.017,1.95,7214.056,-2,-19,0,.017,1.57,7214.07,-2,-19,0,.017,1.65,13870.811,-6,-60,0,.017,.3,22.542,-4,-44,0,.017,2.62,-119.445,0,0,0,.016,4.87,5747.909,2,32,0,.016,4.45,14339.108,-1,6,0,.016,1.83,41366.68,0,30,0,.016,4.53,16309.618,-3,-23,0,.016,2.54,15542.754,-1,6,0,.016,6.05,1203.646,0,0,0,.015,5.2,2751.147,0,0,0,.015,1.8,-10699.924,-5,-69,0,.015,.4,22824.391,-3,-20,0,.015,2.1,30666.756,-6,-39,0,.015,2.1,6010.417,-2,-19,0,.015,.7,-23729.47,-5,-75,0,.015,1.4,14363.691,-1,6,0,.015,5.8,16900.689,-2,0,0,.015,5.2,23800.458,3,53,0,.015,5.3,6035,-2,-19,0,.015,1.2,8251.139,2,25,0,.015,3.6,-8.86,0,0,0,.015,.8,882.739,0,0,0,.015,3,1021.329,0,0,0,.015,.6,23296.107,1,31,0,.014,5.4,7227.181,2,25,0,.014,.1,7213.352,-2,-19,0,.014,4,15506.706,3,50,0,.014,3.4,7214.774,-2,-19,0,.014,4.6,6665.385,-2,-19,0,.014,.1,-8.636,-2,-22,0,.014,3.1,15465.202,-1,6,0,.014,4.9,508.863,0,0,0,.014,3.5,8406.244,2,25,0,.014,1.3,13313.497,-8,-82,0,.014,2.8,49276.619,-3,0,0,.014,.1,30528.194,-3,-10,0,.013,1.7,25128.05,1,31,0,.013,2.9,14128.405,-1,6,0,.013,3.4,57395.761,3,80,0,.013,2.7,13029.546,-1,6,0,.013,3.9,7802.556,-2,-19,0,.013,1.6,8258.802,-2,-19,0,.013,2.2,8417.709,-2,-19,0,.013,.7,9965.21,-2,-19,0,.013,3.4,50391.247,0,48,0,.013,3,7134.433,-2,-19,0,.013,2.9,30599.182,-5,-31,0,.013,3.6,-9723.857,1,0,0,.013,4.8,7607.084,-2,-19,0,.012,.8,23837.689,1,35,0,.012,3.6,4.409,-4,-44,0,.012,5,16657.031,3,50,0,.012,4.4,16657.735,3,50,0,.012,1.1,15578.803,-4,-38,0,.012,6,-11.49,0,0,0,.012,1.9,8164.398,0,0,0,.012,2.4,31852.372,-4,-17,0,.012,2.4,6607.085,-2,-19,0,.012,4.2,8359.87,0,0,0,.012,.5,5799.713,-2,-19,0,.012,2.7,7220.622,0,0,0,.012,4.3,-139.72,0,0,0,.012,2.3,13728.836,-2,-16,0,.011,3.6,14912.146,1,31,0,.011,4.7,14916.748,-2,-19,0],[1.6768,4.66926,628.301955,-.0266,.1,-.005,.51642,3.3721,6585.76091,-2.158,-18.9,.09,.41383,5.7277,14914.452335,-.635,6.2,-.04,.37115,3.9695,7700.389469,1.55,25,-.12,.2756,.7416,8956.99338,1.496,25.1,-.13,.24599,4.2253,-2.3012,1.523,25.1,-.12,.07118,.1443,7842.36482,-2.211,-19,.08,.06128,2.4998,16171.05625,-.688,6,0,.04516,.443,8399.6791,-.36,3,0,.04048,5.771,14286.15038,-.61,6,0,.03747,4.626,1256.60391,-.05,0,0,.03707,3.415,5957.45895,-2.13,-19,.1,.03649,1.8,23243.14376,.89,31,-.2,.02438,.042,16029.08089,3.07,50,-.2,.02165,1.017,-1742.93051,-3.68,-44,.2,.01923,3.097,17285.6848,3.02,50,-.3,.01692,1.28,.3286,1.52,25,-.1,.01361,.298,8326.3902,3.05,50,-.2,.01293,4.013,7072.0875,1.58,25,-.1,.01276,4.413,8330.9926,0,0,0,.0127,.101,8470.6668,-2.24,-19,.1,.01097,1.203,22128.5152,-2.82,-13,0,.01088,2.545,15542.7543,-.66,6,0,.00835,.19,7214.0629,-2.18,-19,.1,.00734,4.855,24499.7477,.83,31,-.2,.00686,5.13,13799.8238,-4.34,-38,.2,.00631,.93,-486.3266,-3.73,-44,0,.00585,.699,9585.2953,1.5,25,0,.00566,4.073,8328.3391,1.5,25,0,.00566,.638,8329.0437,1.5,25,0,.00539,2.472,-1952.48,.6,7,0,.00509,2.88,-.7113,0,0,0,.00469,3.56,30457.2066,-1.3,12,0,.00387,.78,-.3523,0,0,0,.00378,1.84,22614.8418,.9,31,0,.00362,5.53,-695.8761,.6,7,0,.00317,2.8,16728.3705,1.2,28,0,.00303,6.07,157.7344,0,0,0,.003,2.53,33.757,-.3,-4,0,.00295,4.16,31571.8352,2.4,56,0,.00289,5.98,7211.7617,-.7,6,0,.00285,2.06,15540.4531,.9,31,0,.00283,2.65,2.6298,0,0,0,.00282,6.17,15545.0555,-2.2,-19,0,.00278,1.23,-39.8149,0,0,0,.00272,3.82,7216.3641,-3.7,-44,0,.0027,4.37,70.9877,-1.9,-22,0,.00256,5.81,13657.8484,-.6,6,0,.00244,5.64,-.2237,1.5,25,0,.0024,2.96,8311.7707,-2.2,-19,0,.00239,.87,-33.7814,.3,4,0,.00216,2.31,15.9995,-2.2,-19,0,.00186,3.46,5329.157,-2.1,-19,0,.00169,2.4,24357.772,4.6,75,0,.00161,5.8,8329.403,1.5,25,0,.00161,5.2,8327.98,1.5,25,0,.0016,4.26,23385.119,-2.9,-13,0,.00156,1.26,550.755,0,0,0,.00155,1.25,21500.213,-2.8,-13,0,.00152,.6,-16.921,-3.7,-44,0,.0015,2.71,-79.63,0,0,0,.0015,5.29,15.542,0,0,0,.00148,1.06,-2371.232,-3.7,-44,0,.00141,.77,8328.691,1.5,25,0,.00141,3.67,7143.075,-.3,0,0,.00138,5.45,25614.376,4.5,75,0,.00129,4.9,23871.446,.9,31,0,.00126,4.03,141.975,-3.8,-44,0,.00124,6.01,522.369,0,0,0,.0012,4.94,-10071.622,-5.2,-69,0,.00118,5.07,-15.419,-2.2,-19,0,.00107,3.49,23452.693,-3.4,-20,0,.00104,4.78,17495.234,-1.3,0,0,.00103,1.44,-18.049,-2.2,-19,0,.00102,5.63,15542.402,-.7,6,0,.00102,2.59,15543.107,-.7,6,0,.001,4.11,-6.559,-1.9,-22,0,97e-5,.08,15400.779,3.1,50,0,96e-5,5.84,31781.385,-1.9,5,0,94e-5,1.08,8328.363,0,0,0,94e-5,2.46,16799.358,-.7,6,0,94e-5,1.69,6376.211,2.2,32,0,93e-5,3.64,8329.02,3,50,0,93e-5,2.65,16655.082,4.6,75,0,9e-4,1.9,15056.428,-4.4,-38,0,89e-5,1.59,52.969,0,0,0,88e-5,2.02,-8257.704,-3.4,-47,0,88e-5,3.02,7213.711,-2.2,-19,0,87e-5,.5,7214.415,-2.2,-19,0,87e-5,.49,16659.684,1.5,25,0,82e-5,5.64,-4.931,1.5,25,0,79e-5,5.17,13171.522,-4.3,-38,0,76e-5,3.6,29828.905,-1.3,12,0,76e-5,4.08,24567.322,.3,24,0,76e-5,4.58,1884.906,-.1,0,0,73e-5,.33,31713.811,-1.4,12,0,73e-5,.93,32828.439,2.4,56,0,71e-5,5.91,38785.898,.2,37,0,69e-5,2.2,15613.742,-2.5,-16,0,66e-5,3.87,15.732,-2.5,-23,0,66e-5,.86,25823.926,.2,24,0,65e-5,2.52,8170.957,1.5,25,0,63e-5,.18,8322.132,-.3,0,0,6e-4,5.84,8326.062,1.5,25,0,6e-4,5.15,8331.321,1.5,25,0,6e-4,2.18,8486.426,1.5,25,0,58e-5,2.3,-1.731,-4,-44,0,58e-5,5.43,14357.138,-2,-16,0,57e-5,3.09,8294.91,2,29,0,57e-5,4.67,-8362.473,-1,-21,0,56e-5,4.15,16833.151,-1,0,0,54e-5,1.93,7056.329,-2,-19,0,54e-5,5.27,8315.574,-2,-19,0,52e-5,5.6,8311.418,-2,-19,0,52e-5,2.7,-77.552,0,0,0,51e-5,4.3,7230.984,2,25,0,5e-4,.4,-.508,0,0,0,49e-5,5.4,7211.433,-2,-19,0,49e-5,4.4,7216.693,-2,-19,0,49e-5,4.3,16864.631,0,24,0,49e-5,2.2,16869.234,-3,-26,0,47e-5,6.1,627.596,0,0,0,47e-5,5,12.619,1,7,0,45e-5,4.9,-8815.018,-5,-69,0,44e-5,1.6,62.133,-2,-19,0,42e-5,2.9,-13.118,-4,-44,0,42e-5,4.1,-119.445,0,0,0,41e-5,4.3,22756.817,-3,-13,0,41e-5,3.6,8288.877,2,25,0,4e-4,.5,6663.308,-2,-19,0,4e-4,1.1,8368.506,2,25,0,39e-5,4.1,6443.786,2,25,0,39e-5,3.1,16657.383,3,50,0,38e-5,.1,16657.031,3,50,0,38e-5,3,16657.735,3,50,0,38e-5,4.6,23942.433,-1,9,0,37e-5,4.3,15385.02,-1,6,0,37e-5,5,548.678,0,0,0,36e-5,1.8,7213.352,-2,-19,0,36e-5,1.7,7214.774,-2,-19,0,35e-5,1.1,7777.936,2,25,0,35e-5,1.6,-8.86,0,0,0,35e-5,4.4,23869.145,2,56,0,35e-5,2,6691.693,-2,-19,0,34e-5,1.3,-1185.616,-2,-22,0,34e-5,2.2,23873.747,-1,6,0,33e-5,2,-235.287,0,0,0,33e-5,3.1,17913.987,3,50,0,33e-5,1,8351.233,-2,-19,0],[.00487,4.6693,628.30196,-.027,0,-.01,.00228,2.6746,-2.3012,1.523,25,-.12,.0015,3.372,6585.76091,-2.16,-19,.1,.0012,5.728,14914.45233,-.64,6,0,.00108,3.969,7700.38947,1.55,25,-.1,8e-4,.742,8956.99338,1.5,25,-.1,254e-6,6.002,.3286,1.52,25,-.1,21e-5,.144,7842.3648,-2.21,-19,0,18e-5,2.5,16171.0562,-.7,6,0,13e-5,.44,8399.6791,-.4,3,0,126e-6,5.03,8326.3902,3,50,0,12e-5,5.77,14286.1504,-.6,6,0,118e-6,5.96,8330.9926,0,0,0,11e-5,1.8,23243.1438,.9,31,0,11e-5,3.42,5957.459,-2.1,-19,0,11e-5,4.63,1256.6039,-.1,0,0,99e-6,4.7,-.7113,0,0,0,7e-5,.04,16029.0809,3.1,50,0,7e-5,5.14,8328.3391,1.5,25,0,7e-5,5.85,8329.0437,1.5,25,0,6e-5,1.02,-1742.9305,-3.7,-44,0,6e-5,3.1,17285.6848,3,50,0,54e-6,5.69,-.352,0,0,0,43e-6,.52,15.542,0,0,0,41e-6,2.03,2.63,0,0,0,4e-5,.1,8470.667,-2.2,-19,0,4e-5,4.01,7072.088,1.6,25,0,36e-6,2.93,-8.86,-.3,0,0,3e-5,1.2,22128.515,-2.8,-13,0,3e-5,2.54,15542.754,-.7,6,0,27e-6,4.43,7211.762,-.7,6,0,26e-6,.51,15540.453,.9,31,0,26e-6,1.44,15545.055,-2.2,-19,0,25e-6,5.37,7216.364,-3.7,-44,0],[12e-6,1.041,-2.3012,1.52,25,-.1,17e-7,.31,-.711,0,0,0]];Gi.QI_KB=[1640650479938e-6,15.218425,1642476703182e-6,15.21874996,1683430515601e-6,15.218750011,1752157640664e-6,15.218749978,1807675003759e-6,15.218620279,1883627765182e-6,15.218612292,19073691281e-4,15.218449176,1936603140413e-6,15.218425,193914552418e-5,15.218466998,19471807983e-4,15.218524844,1964362041824e-6,15.218533526,1987372340971e-6,15.218513908,1999653819126e-6,15.218530782,2007445469786e-6,15.218535181,2021324917146e-6,15.218526248,2047257232342e-6,15.218519654,2070282898213e-6,15.218425,207320487285e-5,15.218515221,2080144500926e-6,15.218530782,2086703688963e-6,15.218523776,2110033182763e-6,15.218425,2111190300888e-6,15.218425,2113731271005e-6,15.218515671,2120670840263e-6,15.218425,2123973309063e-6,15.218425,2125068997336e-6,15.218477932,2136026312633e-6,15.218472436,2156099495538e-6,15.218425,2159021324663e-6,15.218425,2162308575254e-6,15.218461742,2178485706538e-6,15.218425,2178759662849e-6,15.218445786,21853340208e-4,15.218425,2187525481425e-6,15.218425,2188621191481e-6,15.218437494,232214776e-2];Gi.QB=Ue.decode("FrcFs22AFsckF2tsDtFqEtF1posFdFgiFseFtmelpsEfhkF2anmelpFlF1ikrotcnEqEq2FfqmcDsrFor22FgFrcgDscFs22FgEeFtE2sfFs22sCoEsaF2tsD1FpeE2eFsssEciFsFnmelpFcFhkF2tcnEqEpFgkrotcnEqrEtFermcDsrE222FgBmcmr22DaEfnaF222sD1FpeForeF2tssEfiFpEoeFssD1iFstEqFppDgFstcnEqEpFg11FscnEqrAoAF2ClAEsDmDtCtBaDlAFbAEpAAAAAD2FgBiBqoBbnBaBoAAAAAAAEgDqAdBqAFrBaBoACdAAf1AACgAAAeBbCamDgEifAE2AABa1C1BgFdiAAACoCeE1ADiEifDaAEqAAFe1AcFbcAAAAAF1iFaAAACpACmFmAAAAAAAACrDaAAADG0");Gi.SHUO_KB=[1457698231017e-6,29.53067166,1546082512234e-6,29.53085106,16406407353e-4,29.5306,1642472151543e-6,29.53085439,16834305093e-4,29.53086148,1752148041079e-6,29.53085097,1807665420323e-6,29.53059851,18836181141e-4,29.5306,19073607047e-4,29.5306,19365962249e-4,29.5306,19391356753e-4,29.5306,1947168];Gi.SB=Ue.decode("EqoFscDcrFpmEsF2DfFideFelFpFfFfFiaipqti1ksttikptikqckstekqttgkqttgkqteksttikptikq2fjstgjqttjkqttgkqtekstfkptikq2tijstgjiFkirFsAeACoFsiDaDiADc1AFbBfgdfikijFifegF1FhaikgFag1E2btaieeibggiffdeigFfqDfaiBkF1kEaikhkigeidhhdiegcFfakF1ggkidbiaedksaFffckekidhhdhdikcikiakicjF1deedFhFccgicdekgiFbiaikcfi1kbFibefgEgFdcFkFeFkdcfkF1kfkcickEiFkDacFiEfbiaejcFfffkhkdgkaiei1ehigikhdFikfckF1dhhdikcfgjikhfjicjicgiehdikcikggcifgiejF1jkieFhegikggcikFegiegkfjebhigikggcikdgkaFkijcfkcikfkcifikiggkaeeigefkcdfcfkhkdgkegieidhijcFfakhfgeidieidiegikhfkfckfcjbdehdikggikgkfkicjicjF1dbidikFiggcifgiejkiegkigcdiegfggcikdbgfgefjF1kfegikggcikdgFkeeijcfkcikfkekcikdgkabhkFikaffcfkhkdgkegbiaekfkiakicjhfgqdq2fkiakgkfkhfkfcjiekgFebicggbedF1jikejbbbiakgbgkacgiejkijjgigfiakggfggcibFifjefjF1kfekdgjcibFeFkijcfkfhkfkeaieigekgbhkfikidfcjeaibgekgdkiffiffkiakF1jhbakgdki1dj1ikfkicjicjieeFkgdkicggkighdF1jfgkgfgbdkicggfggkidFkiekgijkeigfiskiggfaidheigF1jekijcikickiggkidhhdbgcfkFikikhkigeidieFikggikhkffaffijhidhhakgdkhkijF1kiakF1kfheakgdkifiggkigicjiejkieedikgdfcggkigieeiejfgkgkigbgikicggkiaideeijkefjeijikhkiggkiaidheigcikaikffikijgkiahi1hhdikgjfifaakekighie1hiaikggikhkffakicjhiahaikggikhkijF1kfejfeFhidikggiffiggkigicjiekgieeigikggiffiggkidheigkgfjkeigiegikifiggkidhedeijcfkFikikhkiggkidhh1ehigcikaffkhkiggkidhh1hhigikekfiFkFikcidhh1hitcikggikhkfkicjicghiediaikggikhkijbjfejfeFhaikggifikiggkigiejkikgkgieeigikggiffiggkigieeigekijcijikggifikiggkideedeijkefkfckikhkiggkidhh1ehijcikaffkhkiggkidhh1hhigikhkikFikfckcidhh1hiaikgjikhfjicjicgiehdikcikggifikigiejfejkieFhegikggifikiggfghigkfjeijkhigikggifikiggkigieeijcijcikfksikifikiggkidehdeijcfdckikhkiggkhghh1ehijikifffffkhsFngErD1pAfBoDd1BlEtFqA2AqoEpDqElAEsEeB2BmADlDkqBtC1FnEpDqnEmFsFsAFnllBbFmDsDiCtDmAB2BmtCgpEplCpAEiBiEoFqFtEqsDcCnFtADnFlEgdkEgmEtEsCtDmADqFtAFrAtEcCqAE1BoFqC1F1DrFtBmFtAC2ACnFaoCgADcADcCcFfoFtDlAFgmFqBq2bpEoAEmkqnEeCtAE1bAEqgDfFfCrgEcBrACfAAABqAAB1AAClEnFeCtCgAADqDoBmtAAACbFiAAADsEtBqAB2FsDqpFqEmFsCeDtFlCeDtoEpClEqAAFrAFoCgFmFsFqEnAEcCqFeCtFtEnAEeFtAAEkFnErAABbFkADnAAeCtFeAfBoAEpFtAABtFqAApDcCGJ");const ro=class{static fromYear(t){let e;return!ro._CACHE_YEAR||ro._CACHE_YEAR.getYear()!=t?(e=new ro(t),ro._CACHE_YEAR=e):e=ro._CACHE_YEAR,e}constructor(t){this._year=t,this._months=[],this._jieQiJulianDays=[];const e=t-4;let r=e%10,i=e%12;r<0&&(r+=10),i<0&&(i+=12),this._ganIndex=r,this._zhiIndex=i,this.compute()}compute(){const t=[],e=[],r=[],i=[];let n,a;const s=this._year;let o=Math.floor((s-2e3)*365.2422+180),u=Math.floor((o-355+183)/365.2422)*365.2422+355;for(Gi.calcQi(u)>o&&(u-=365.2422),n=0;n<26;n++)t.push(Gi.calcQi(u+15.2184*n));for(n=0,a=$.JIE_QI_IN_USE.length;n<a;n++)n===0?o=Gi.qiAccurate2(t[0]-15.2184):n<=26?o=Gi.qiAccurate2(t[n-1]):o=Gi.qiAccurate2(t[25]+15.2184*(n-26)),this._jieQiJulianDays.push(o+vr.J2000);for(u=Gi.calcShuo(t[0]),u>t[0]&&(u-=29.53),n=0;n<16;n++)e.push(Gi.calcShuo(u+29.5306*n));for(n=0;n<15;n++)r.push(Math.floor(e[n+1]-e[n])),i.push(n);const l=s-1;let c=16;if(ro._LEAP_11.indexOf(s)>-1)c=13;else if(ro._LEAP_12.indexOf(s)>-1)c=14;else if(e[13]<=t[24]){for(n=1;e[n+1]>t[2*n]&&n<13;)n++;c=n}for(a=c;a<15;a++)i[a]-=1;const h=[11,12,1,2,3,4,5,6,7,8,9,10];let f=-1,d=-1,p=l;for(n=0;n<15;n++){const g=e[n]+vr.J2000,v=i[n];let m=h[v%12];1724360<=g&&g<1729794||1807724<=g&&g<1808699?m=h[(v+1)%12]:(g==1729794||g==1808699)&&(m=12),f==-1&&(f=m,d=m),m<f&&(p+=1,d=1),f=m,n==c?m=-m:(g==1729794||g==1808699)&&(m=-11),this._months.push(new MC(p,m,r[n],e[n]+vr.J2000,d)),d++}}getYear(){return this._year}getGanIndex(){return this._ganIndex}getZhiIndex(){return this._zhiIndex}getGan(){return $.GAN[this._ganIndex+1]}getZhi(){return $.ZHI[this._zhiIndex+1]}getGanZhi(){return this.getGan()+this.getZhi()}getJieQiJulianDays(){return this._jieQiJulianDays}getDayCount(){let t=0;for(let e=0,r=this._months.length;e<r;e++){const i=this._months[e];i.getYear()==this._year&&(t+=i.getDayCount())}return t}getMonths(){return this._months}getMonthsInYear(){const t=[];for(let e=0,r=this._months.length;e<r;e++){const i=this._months[e];i.getYear()==this._year&&t.push(i)}return t}getMonth(t){for(let e=0,r=this._months.length;e<r;e++){const i=this._months[e];if(i.getYear()==this._year&&i.getMonth()==t)return i}return null}getLeapMonth(){for(let t=0,e=this._months.length;t<e;t++){const r=this._months[t];if(r.getYear()==this._year&&r.isLeap())return Math.abs(r.getMonth())}return 0}toString(){return`${this.getYear()}`}toFullString(){return`${this.getYear()}年`}_getZaoByGan(t,e){const r=this.getMonth(1);if(r==null)return"";let i=t-vr.fromJulianDay(r.getFirstJulianDay()).getLunar().getDayGanIndex();return i<0&&(i+=10),e.replace("几",$.NUMBER[i+1])}_getZaoByZhi(t,e){const r=this.getMonth(1);if(r==null)return"";let i=t-vr.fromJulianDay(r.getFirstJulianDay()).getLunar().getDayZhiIndex();return i<0&&(i+=12),e.replace("几",$.NUMBER[i+1])}getTouLiang(){return this._getZaoByZhi(0,"几鼠偷粮")}getCaoZi(){return this._getZaoByZhi(0,"草子几分")}getGengTian(){return this._getZaoByZhi(1,"几牛耕田")}getHuaShou(){return this._getZaoByZhi(3,"花收几分")}getZhiShui(){return this._getZaoByZhi(4,"几龙治水")}getTuoGu(){return this._getZaoByZhi(6,"几马驮谷")}getQiangMi(){return this._getZaoByZhi(9,"几鸡抢米")}getKanCan(){return this._getZaoByZhi(9,"几姑看蚕")}getGongZhu(){return this._getZaoByZhi(11,"几屠共猪")}getJiaTian(){return this._getZaoByGan(0,"甲田几分")}getFenBing(){return this._getZaoByGan(2,"几人分饼")}getDeJin(){return this._getZaoByGan(7,"几日得金")}getRenBing(){return this._getZaoByGan(2,this._getZaoByZhi(2,"几人几丙"))}getRenChu(){return this._getZaoByGan(3,this._getZaoByZhi(2,"几人几锄"))}getYuan(){return ro.YUAN[Math.floor((this._year+2696)/60)%3]+"元"}getYun(){return ro.YUN[Math.floor((this._year+2696)/20)%9]+"运"}getNineStar(){const t=$.getJiaZiIndex(this.getGanZhi())+1;let r=(62+Math.floor(this._year+2696)/60%3*3-t)%9;return r==0&&(r=9),sa.fromIndex(r-1)}getPositionXi(){return $.POSITION_XI[this._ganIndex+1]}getPositionXiDesc(){return $.POSITION_DESC[this.getPositionXi()]}getPositionYangGui(){return $.POSITION_YANG_GUI[this._ganIndex+1]}getPositionYangGuiDesc(){return $.POSITION_DESC[this.getPositionYangGui()]}getPositionYinGui(){return $.POSITION_YIN_GUI[this._ganIndex+1]}getPositionYinGuiDesc(){return $.POSITION_DESC[this.getPositionYinGui()]}getPositionFu(t=2){return(t==1?$.POSITION_FU:$.POSITION_FU_2)[this._ganIndex+1]}getPositionFuDesc(t=2){return $.POSITION_DESC[this.getPositionFu(t)]}getPositionCai(){return $.POSITION_CAI[this._ganIndex+1]}getPositionCaiDesc(){return $.POSITION_DESC[this.getPositionCai()]}getPositionTaiSui(){return $.POSITION_TAI_SUI_YEAR[this._zhiIndex]}getPositionTaiSuiDesc(){return $.POSITION_DESC[this.getPositionTaiSui()]}next(t){return ro.fromYear(this._year+t)}};let Ma=ro;Ma.YUAN=["下","上","中"];Ma.YUN=["七","八","九","一","二","三","四","五","六"];Ma._LEAP_11=[75,94,170,265,322,398,469,553,583,610,678,735,754,773,849,887,936,1050,1069,1126,1145,1164,1183,1259,1278,1308,1373,1403,1441,1460,1498,1555,1593,1612,1631,1642,2033,2128,2147,2242,2614,2728,2910,3062,3244,3339,3616,3711,3730,3825,4007,4159,4197,4322,4341,4379,4417,4531,4599,4694,4713,4789,4808,4971,5085,5104,5161,5180,5199,5294,5305,5476,5677,5696,5772,5791,5848,5886,6049,6068,6144,6163,6258,6402,6440,6497,6516,6630,6641,6660,6679,6736,6774,6850,6869,6899,6918,6994,7013,7032,7051,7070,7089,7108,7127,7146,7222,7271,7290,7309,7366,7385,7404,7442,7461,7480,7491,7499,7594,7624,7643,7662,7681,7719,7738,7814,7863,7882,7901,7939,7958,7977,7996,8034,8053,8072,8091,8121,8159,8186,8216,8235,8254,8273,8311,8330,8341,8349,8368,8444,8463,8474,8493,8531,8569,8588,8626,8664,8683,8694,8702,8713,8721,8751,8789,8808,8816,8827,8846,8884,8903,8922,8941,8971,9036,9066,9085,9104,9123,9142,9161,9180,9199,9218,9256,9294,9313,9324,9343,9362,9381,9419,9438,9476,9514,9533,9544,9552,9563,9571,9582,9601,9639,9658,9666,9677,9696,9734,9753,9772,9791,9802,9821,9886,9897,9916,9935,9954,9973,9992];Ma._LEAP_12=[37,56,113,132,151,189,208,227,246,284,303,341,360,379,417,436,458,477,496,515,534,572,591,629,648,667,697,716,792,811,830,868,906,925,944,963,982,1001,1020,1039,1058,1088,1153,1202,1221,1240,1297,1335,1392,1411,1422,1430,1517,1525,1536,1574,3358,3472,3806,3988,4751,4941,5066,5123,5275,5343,5438,5457,5495,5533,5552,5715,5810,5829,5905,5924,6421,6535,6793,6812,6888,6907,7002,7184,7260,7279,7374,7556,7746,7757,7776,7833,7852,7871,7966,8015,8110,8129,8148,8224,8243,8338,8406,8425,8482,8501,8520,8558,8596,8607,8615,8645,8740,8778,8835,8865,8930,8960,8979,8998,9017,9055,9074,9093,9112,9150,9188,9237,9275,9332,9351,9370,9408,9427,9446,9457,9465,9495,9560,9590,9628,9647,9685,9715,9742,9780,9810,9818,9829,9848,9867,9905,9924,9943,9962,1e4];Ma._CACHE_YEAR=null;class i2{static fromYmdHms(e,r,i,n,a,s){return new i2(e,r,i,n,a,s)}constructor(e,r,i,n,a,s){this._lunar=ri.fromYmdHms(e,r,i,n,a,s),this._zhiIndex=$.getTimeZhiIndex([(n<10?"0":"")+n,(a<10?"0":"")+a].join(":")),this._ganIndex=(this._lunar.getDayGanIndexExact()%5*2+this._zhiIndex)%10}getGanIndex(){return this._ganIndex}getZhiIndex(){return this._zhiIndex}getGan(){return $.GAN[this._ganIndex+1]}getZhi(){return $.ZHI[this._zhiIndex+1]}getGanZhi(){return this.getGan()+this.getZhi()}getShengXiao(){return $.SHENGXIAO[this._zhiIndex+1]}getPositionXi(){return $.POSITION_XI[this._ganIndex+1]}getPositionXiDesc(){return $.POSITION_DESC[this.getPositionXi()]}getPositionYangGui(){return $.POSITION_YANG_GUI[this._ganIndex+1]}getPositionYangGuiDesc(){return $.POSITION_DESC[this.getPositionYangGui()]}getPositionYinGui(){return $.POSITION_YIN_GUI[this._ganIndex+1]}getPositionYinGuiDesc(){return $.POSITION_DESC[this.getPositionYinGui()]}getPositionFu(e=2){return(e===1?$.POSITION_FU:$.POSITION_FU_2)[this._ganIndex+1]}getPositionFuDesc(e=2){return $.POSITION_DESC[this.getPositionFu(e)]}getPositionCai(){return $.POSITION_CAI[this._ganIndex+1]}getPositionCaiDesc(){return $.POSITION_DESC[this.getPositionCai()]}getNaYin(){return $.NAYIN[this.getGanZhi()]}getTianShen(){return $.TIAN_SHEN[(this._zhiIndex+$.ZHI_TIAN_SHEN_OFFSET[this._lunar.getDayZhiExact()])%12+1]}getTianShenType(){return $.TIAN_SHEN_TYPE[this.getTianShen()]}getTianShenLuck(){return $.TIAN_SHEN_TYPE_LUCK[this.getTianShenType()]}getChong(){return $.CHONG[this._zhiIndex]}getSha(){return $.SHA[this.getZhi()]}getChongShengXiao(){const e=this.getChong();for(let r=0,i=$.ZHI.length;r<i;r++)if($.ZHI[r]===e)return $.SHENGXIAO[r];return""}getChongDesc(){return"("+this.getChongGan()+this.getChong()+")"+this.getChongShengXiao()}getChongGan(){return $.CHONG_GAN[this._ganIndex]}getChongGanTie(){return $.CHONG_GAN_TIE[this._ganIndex]}getYi(){return $.getTimeYi(this._lunar.getDayInGanZhiExact(),this.getGanZhi())}getJi(){return $.getTimeJi(this._lunar.getDayInGanZhiExact(),this.getGanZhi())}getNineStar(){const e=this._lunar.getSolar().toYmd(),r=this._lunar.getJieQiTable();let i=!1;e>=r[Ke.getMessage("jq.dongZhi")].toYmd()&&e<r[Ke.getMessage("jq.xiaZhi")].toYmd()&&(i=!0);const a=(i?[0,3,6]:[8,5,2])[this._lunar.getDayZhiIndex()%3],s=i?a+this._zhiIndex:a+9-this._zhiIndex;return sa.fromIndex(s%9)}getXun(){return $.getXun(this.getGanZhi())}getXunKong(){return $.getXunKong(this.getGanZhi())}getMinHm(){let e=this._lunar.getHour();return e<1?"00:00":e>22?"23:00":(e%2===0&&(e-=1),(e<10?"0":"")+e+":00")}getMaxHm(){let e=this._lunar.getHour();return e<1?"00:59":e>22?"23:59":(e%2!==0&&(e+=1),(e<10?"0":"")+e+":59")}toString(){return this.getGanZhi()}}const Td=class{constructor(t){this._lunar=t}static fromLunar(t){return new Td(t)}static fromYmdHms(t,e,r,i,n,a){return Td.fromLunar(ri.fromYmdHms(t+Td.DEAD_YEAR-1,e,r,i,n,a))}static fromYmd(t,e,r){return Td.fromYmdHms(t,e,r,0,0,0)}getLunar(){return this._lunar}getYear(){const t=this._lunar.getSolar().getYear();let e=t-Td.DEAD_YEAR;return t===this._lunar.getYear()&&e++,e}getMonth(){return this._lunar.getMonth()}getDay(){return this._lunar.getDay()}getYearInChinese(){const t=this.getYear()+"";let e="";const r=48;for(let i=0,n=t.length;i<n;i++)e+=$.NUMBER[t.charCodeAt(i)-r];return e}getMonthInChinese(){return this._lunar.getMonthInChinese()}getDayInChinese(){return this._lunar.getDayInChinese()}getFestivals(){const t=Or.FESTIVAL[this.getMonth()+"-"+this.getDay()];return t||[]}getOtherFestivals(){const t=[],e=Or.OTHER_FESTIVAL[this.getMonth()+"-"+this.getDay()];return e&&e.forEach(r=>{t.push(r)}),t}isMonthZhai(){const t=this.getMonth();return t===1||t===5||t===9}isDayYangGong(){const t=this.getFestivals();for(let e=0,r=t.length;e<r;e++)if(t[e].getName()==="杨公忌")return!0;return!1}isDayZhaiShuoWang(){const t=this.getDay();return t===1||t===15}isDayZhaiSix(){const t=this.getDay();if(t===8||t===14||t===15||t===23||t===29||t===30)return!0;if(t===28){const e=MC.fromYm(this._lunar.getYear(),this.getMonth());if(e!=null&&e.getDayCount()!==30)return!0}return!1}isDayZhaiTen(){const t=this.getDay();return t===1||t===8||t===14||t===15||t===18||t===23||t===24||t===28||t===29||t===30}isDayZhaiGuanYin(){const t=this.getMonth()+"-"+this.getDay();for(let e=0,r=Or.DAY_ZHAI_GUAN_YIN.length;e<r;e++)if(t===Or.DAY_ZHAI_GUAN_YIN[e])return!0;return!1}getXiu(){return Or.getXiu(this.getMonth(),this.getDay())}getXiuLuck(){return $.XIU_LUCK[this.getXiu()]}getXiuSong(){return $.XIU_SONG[this.getXiu()]}getZheng(){return $.ZHENG[this.getXiu()]}getAnimal(){return $.ANIMAL[this.getXiu()]}getGong(){return $.GONG[this.getXiu()]}getShou(){return $.SHOU[this.getGong()]}toString(){return this.getYearInChinese()+"年"+this.getMonthInChinese()+"月"+this.getDayInChinese()}toFullString(){let t=this.toString();const e=this.getFestivals();for(let r=0,i=e.length;r<i;r++)t+=" ("+e[r]+")";return t}};let Tse=Td;Tse.DEAD_YEAR=-543;const Ad=class{constructor(t){this._lunar=t}static fromLunar(t){return new Ad(t)}static fromYmdHms(t,e,r,i,n,a){return Ad.fromLunar(ri.fromYmdHms(t+Ad.BIRTH_YEAR,e,r,i,n,a))}static fromYmd(t,e,r){return Ad.fromYmdHms(t,e,r,0,0,0)}getLunar(){return this._lunar}getYear(){return this._lunar.getYear()-Ad.BIRTH_YEAR}getMonth(){return this._lunar.getMonth()}getDay(){return this._lunar.getDay()}getYearInChinese(){const t=this.getYear()+"";let e="";const r=48;for(let i=0,n=t.length;i<n;i++)e+=$.NUMBER[t.charCodeAt(i)-r];return e}getMonthInChinese(){return this._lunar.getMonthInChinese()}getDayInChinese(){return this._lunar.getDayInChinese()}getFestivals(){const t=[],e=Cn.FESTIVAL[this.getMonth()+"-"+this.getDay()];e&&e.forEach(n=>{t.push(n)});const r=this._lunar.getJieQi();Ke.getMessage("jq.dongZhi")===r?t.push(new Pe("元始天尊圣诞")):Ke.getMessage("jq.xiaZhi")===r&&t.push(new Pe("灵宝天尊圣诞"));let i=Cn.BA_JIE[r];return i&&t.push(new Pe(i)),i=Cn.BA_HUI[this._lunar.getDayInGanZhi()],i&&t.push(new Pe(i)),t}_isDayIn(t){const e=this.getMonth()+"-"+this.getDay();for(let r=0,i=t.length;r<i;r++)if(e===t[r])return!0;return!1}isDaySanHui(){return this._isDayIn(Cn.SAN_HUI)}isDaySanYuan(){return this._isDayIn(Cn.SAN_YUAN)}isDayBaJie(){return!!Cn.BA_JIE[this._lunar.getJieQi()]}isDayWuLa(){return this._isDayIn(Cn.WU_LA)}isDayBaHui(){return!!Cn.BA_HUI[this._lunar.getDayInGanZhi()]}isDayMingWu(){return Ke.getMessage("tg.wu")===this._lunar.getDayGan()}isDayAnWu(){return this._lunar.getDayZhi()===Cn.AN_WU[Math.abs(this.getMonth())-1]}isDayWu(){return this.isDayMingWu()||this.isDayAnWu()}isDayTianShe(){let t=!1;const e=this._lunar.getMonthZhi(),r=this._lunar.getDayInGanZhi();return[Ke.getMessage("dz.yin"),Ke.getMessage("dz.mao"),Ke.getMessage("dz.chen")].join(",").indexOf(e)>-1?Ke.getMessage("jz.wuYin")===r&&(t=!0):[Ke.getMessage("dz.si"),Ke.getMessage("dz.wu"),Ke.getMessage("dz.wei")].join(",").indexOf(e)>-1?Ke.getMessage("jz.jiaWu")===r&&(t=!0):[Ke.getMessage("dz.shen"),Ke.getMessage("dz.you"),Ke.getMessage("dz.xu")].join(",").indexOf(e)>-1?Ke.getMessage("jz.wuShen")===r&&(t=!0):[Ke.getMessage("dz.hai"),Ke.getMessage("dz.zi"),Ke.getMessage("dz.chou")].join(",").indexOf(e)>-1&&Ke.getMessage("jz.jiaZi")===r&&(t=!0),t}toString(){return this.getYearInChinese()+"年"+this.getMonthInChinese()+"月"+this.getDayInChinese()}toFullString(){return"道歷"+this.getYearInChinese()+"年，天運"+this._lunar.getYearInGanZhi()+"年，"+this._lunar.getMonthInGanZhi()+"月，"+this._lunar.getDayInGanZhi()+"日。"+this.getMonthInChinese()+"月"+this.getDayInChinese()+"日，"+this._lunar.getTimeZhi()+"時。"}};let Ase=Ad;Ase.BIRTH_YEAR=-2697;class ri{static fromYmd(e,r,i){return ri.fromYmdHms(e,r,i,0,0,0)}static fromYmdHms(e,r,i,n,a,s){let o=Ma.fromYear(e);const u=o.getMonth(r);if(u==null)throw new Error(`wrong lunar year ${e} month ${r}`);if(i<1)throw new Error("lunar day must bigger than 0");const l=u.getDayCount();if(i>l)throw new Error(`only ${l} days in lunar year ${e} month ${r}`);const c=vr.fromJulianDay(u.getFirstJulianDay()+i-1),h=vr.fromYmdHms(c.getYear(),c.getMonth(),c.getDay(),n,a,s);return c.getYear()!==e&&(o=Ma.fromYear(c.getYear())),new ri(e,r,i,n,a,s,h,o)}static fromSolar(e){let r=0,i=0,n=0;const a=Ma.fromYear(e.getYear()),s=a.getMonths();for(let o=0,u=s.length;o<u;o++){const l=s[o],c=e.subtract(vr.fromJulianDay(l.getFirstJulianDay()));if(c<l.getDayCount()){r=l.getYear(),i=l.getMonth(),n=c+1;break}}return new ri(r,i,n,e.getHour(),e.getMinute(),e.getSecond(),e,a)}static fromDate(e){return ri.fromSolar(vr.fromDate(e))}static _computeJieQi(e,r){const i=r.getJieQiJulianDays();for(let n=0,a=$.JIE_QI_IN_USE.length;n<a;n++){const s=$.JIE_QI_IN_USE[n];e.jieQiList.push(s),e.jieQi[s]=vr.fromJulianDay(i[n])}}static _computeYear(e,r,i){const n=i-4;let a=n%10,s=n%12;a<0&&(a+=10),s<0&&(s+=12);let o=a,u=s,l=a,c=s;const h=r.getYear(),f=r.toYmd(),d=r.toYmdHms();let p=e.jieQi[Ke.getMessage("jq.liChun")];p.getYear()!=h&&(p=e.jieQi.LI_CHUN);const g=p.toYmd(),v=p.toYmdHms();i===h?(f<g&&(o--,u--),d<v&&(l--,c--)):i<h&&(f>=g&&(o++,u++),d>=v&&(l++,c++)),e.yearGanIndex=a,e.yearZhiIndex=s,e.yearGanIndexByLiChun=(o<0?o+10:o)%10,e.yearZhiIndexByLiChun=(u<0?u+12:u)%12,e.yearGanIndexExact=(l<0?l+10:l)%10,e.yearZhiIndexExact=(c<0?c+12:c)%12}static _computeMonth(e,r){let i=null,n,a;const s=r.toYmd(),o=r.toYmdHms(),u=$.JIE_QI_IN_USE.length;let l=-3;for(n=0;n<u;n+=2){a=e.jieQi[$.JIE_QI_IN_USE[n]];let h=i==null?s:i.toYmd();if(s>=h&&s<a.toYmd())break;i=a,l++}let c=((e.yearGanIndexByLiChun+(l<0?1:0))%5+1)*2%10;for(e.monthGanIndex=((l<0?l+10:l)+c)%10,e.monthZhiIndex=((l<0?l+12:l)+$.BASE_MONTH_ZHI_INDEX)%12,i=null,l=-3,n=0;n<u;n+=2){a=e.jieQi[$.JIE_QI_IN_USE[n]];let h=i==null?o:i.toYmdHms();if(o>=h&&o<a.toYmdHms())break;i=a,l++}c=((e.yearGanIndexExact+(l<0?1:0))%5+1)*2%10,e.monthGanIndexExact=((l<0?l+10:l)+c)%10,e.monthZhiIndexExact=((l<0?l+12:l)+$.BASE_MONTH_ZHI_INDEX)%12}static _computeDay(e,r,i,n){const a=vr.fromYmdHms(r.getYear(),r.getMonth(),r.getDay(),12,0,0),s=Math.floor(a.getJulianDay())-11,o=s%10,u=s%12;e.dayGanIndex=o,e.dayZhiIndex=u;let l=o,c=u;e.dayGanIndexExact2=l,e.dayZhiIndexExact2=c;const h=(i<10?"0":"")+i+":"+(n<10?"0":"")+n;h>="23:00"&&h<="23:59"&&(l++,l>=10&&(l-=10),c++,c>=12&&(c-=12)),e.dayGanIndexExact=l,e.dayZhiIndexExact=c}static _computeTime(e,r,i){const n=$.getTimeZhiIndex((r<10?"0":"")+r+":"+(i<10?"0":"")+i);e.timeZhiIndex=n,e.timeGanIndex=(e.dayGanIndexExact%5*2+n)%10}static _computeWeek(e,r){e.weekIndex=r.getWeek()}static _compute(e,r,i,n,a){const s={timeGanIndex:0,timeZhiIndex:0,dayGanIndex:0,dayZhiIndex:0,dayGanIndexExact:0,dayZhiIndexExact:0,dayGanIndexExact2:0,dayZhiIndexExact2:0,monthGanIndex:0,monthZhiIndex:0,monthGanIndexExact:0,monthZhiIndexExact:0,yearGanIndex:0,yearZhiIndex:0,yearGanIndexByLiChun:0,yearZhiIndexByLiChun:0,yearGanIndexExact:0,yearZhiIndexExact:0,weekIndex:0,jieQi:{},jieQiList:[]};return ri._computeJieQi(s,a),ri._computeYear(s,n,e),ri._computeMonth(s,n),ri._computeDay(s,n,r,i),ri._computeTime(s,r,i),ri._computeWeek(s,n),s}constructor(e,r,i,n,a,s,o,u){const l=ri._compute(e,n,a,o,u);this._year=e,this._month=r,this._day=i,this._hour=n,this._minute=a,this._second=s,this._timeGanIndex=l.timeGanIndex,this._timeZhiIndex=l.timeZhiIndex,this._dayGanIndex=l.dayGanIndex,this._dayZhiIndex=l.dayZhiIndex,this._dayGanIndexExact=l.dayGanIndexExact,this._dayZhiIndexExact=l.dayZhiIndexExact,this._dayGanIndexExact2=l.dayGanIndexExact2,this._dayZhiIndexExact2=l.dayZhiIndexExact2,this._monthGanIndex=l.monthGanIndex,this._monthZhiIndex=l.monthZhiIndex,this._monthGanIndexExact=l.monthGanIndexExact,this._monthZhiIndexExact=l.monthZhiIndexExact,this._yearGanIndex=l.yearGanIndex,this._yearZhiIndex=l.yearZhiIndex,this._yearGanIndexByLiChun=l.yearGanIndexByLiChun,this._yearZhiIndexByLiChun=l.yearZhiIndexByLiChun,this._yearGanIndexExact=l.yearGanIndexExact,this._yearZhiIndexExact=l.yearZhiIndexExact,this._weekIndex=l.weekIndex,this._jieQi=l.jieQi,this._jieQiList=l.jieQiList,this._solar=o,this._eightChar=new cB(this),this._lang=Ke.getLanguage()}getYear(){return this._year}getMonth(){return this._month}getDay(){return this._day}getHour(){return this._hour}getMinute(){return this._minute}getSecond(){return this._second}getTimeGanIndex(){return this._timeGanIndex}getTimeZhiIndex(){return this._timeZhiIndex}getDayGanIndex(){return this._dayGanIndex}getDayZhiIndex(){return this._dayZhiIndex}getMonthGanIndex(){return this._monthGanIndex}getMonthZhiIndex(){return this._monthZhiIndex}getYearGanIndex(){return this._yearGanIndex}getYearZhiIndex(){return this._yearZhiIndex}getYearGanIndexByLiChun(){return this._yearGanIndexByLiChun}getYearZhiIndexByLiChun(){return this._yearZhiIndexByLiChun}getDayGanIndexExact(){return this._dayGanIndexExact}getDayZhiIndexExact(){return this._dayZhiIndexExact}getDayGanIndexExact2(){return this._dayGanIndexExact2}getDayZhiIndexExact2(){return this._dayZhiIndexExact2}getMonthGanIndexExact(){return this._monthGanIndexExact}getMonthZhiIndexExact(){return this._monthZhiIndexExact}getYearGanIndexExact(){return this._yearGanIndexExact}getYearZhiIndexExact(){return this._yearZhiIndexExact}getGan(){return this.getYearGan()}getZhi(){return this.getYearZhi()}getYearGan(){return $.GAN[this._yearGanIndex+1]}getYearGanByLiChun(){return $.GAN[this._yearGanIndexByLiChun+1]}getYearGanExact(){return $.GAN[this._yearGanIndexExact+1]}getYearZhi(){return $.ZHI[this._yearZhiIndex+1]}getYearZhiByLiChun(){return $.ZHI[this._yearZhiIndexByLiChun+1]}getYearZhiExact(){return $.ZHI[this._yearZhiIndexExact+1]}getYearInGanZhi(){return this.getYearGan()+this.getYearZhi()}getYearInGanZhiByLiChun(){return this.getYearGanByLiChun()+this.getYearZhiByLiChun()}getYearInGanZhiExact(){return this.getYearGanExact()+this.getYearZhiExact()}getMonthGan(){return $.GAN[this._monthGanIndex+1]}getMonthGanExact(){return $.GAN[this._monthGanIndexExact+1]}getMonthZhi(){return $.ZHI[this._monthZhiIndex+1]}getMonthZhiExact(){return $.ZHI[this._monthZhiIndexExact+1]}getMonthInGanZhi(){return this.getMonthGan()+this.getMonthZhi()}getMonthInGanZhiExact(){return this.getMonthGanExact()+this.getMonthZhiExact()}getDayGan(){return $.GAN[this._dayGanIndex+1]}getDayGanExact(){return $.GAN[this._dayGanIndexExact+1]}getDayGanExact2(){return $.GAN[this._dayGanIndexExact2+1]}getDayZhi(){return $.ZHI[this._dayZhiIndex+1]}getDayZhiExact(){return $.ZHI[this._dayZhiIndexExact+1]}getDayZhiExact2(){return $.ZHI[this._dayZhiIndexExact2+1]}getDayInGanZhi(){return this.getDayGan()+this.getDayZhi()}getDayInGanZhiExact(){return this.getDayGanExact()+this.getDayZhiExact()}getDayInGanZhiExact2(){return this.getDayGanExact2()+this.getDayZhiExact2()}getTimeGan(){return $.GAN[this._timeGanIndex+1]}getTimeZhi(){return $.ZHI[this._timeZhiIndex+1]}getTimeInGanZhi(){return this.getTimeGan()+this.getTimeZhi()}getShengxiao(){return this.getYearShengXiao()}getYearShengXiao(){return $.SHENGXIAO[this._yearZhiIndex+1]}getYearShengXiaoByLiChun(){return $.SHENGXIAO[this._yearZhiIndexByLiChun+1]}getYearShengXiaoExact(){return $.SHENGXIAO[this._yearZhiIndexExact+1]}getMonthShengXiao(){return $.SHENGXIAO[this._monthZhiIndex+1]}getMonthShengXiaoExact(){return $.SHENGXIAO[this._monthZhiIndexExact+1]}getDayShengXiao(){return $.SHENGXIAO[this._dayZhiIndex+1]}getTimeShengXiao(){return $.SHENGXIAO[this._timeZhiIndex+1]}getYearInChinese(){const e=this._year+"";let r="";const i=48;for(let n=0,a=e.length;n<a;n++){const s=e.charCodeAt(n);r+=$.NUMBER[s-i]}return r}getMonthInChinese(){return(this._month<0?"闰":"")+$.MONTH[Math.abs(this._month)]}getDayInChinese(){return $.DAY[this._day]}getPengZuGan(){return $.PENGZU_GAN[this._dayGanIndex+1]}getPengZuZhi(){return $.PENGZU_ZHI[this._dayZhiIndex+1]}getPositionXi(){return this.getDayPositionXi()}getPositionXiDesc(){return this.getDayPositionXiDesc()}getPositionYangGui(){return this.getDayPositionYangGui()}getPositionYangGuiDesc(){return this.getDayPositionYangGuiDesc()}getPositionYinGui(){return this.getDayPositionYinGui()}getPositionYinGuiDesc(){return this.getDayPositionYinGuiDesc()}getPositionFu(){return this.getDayPositionFu()}getPositionFuDesc(){return this.getDayPositionFuDesc()}getPositionCai(){return this.getDayPositionCai()}getPositionCaiDesc(){return this.getDayPositionCaiDesc()}getDayPositionXi(){return $.POSITION_XI[this._dayGanIndex+1]}getDayPositionXiDesc(){const e=$.POSITION_DESC[this.getDayPositionXi()];return e||""}getDayPositionYangGui(){return $.POSITION_YANG_GUI[this._dayGanIndex+1]}getDayPositionYangGuiDesc(){const e=$.POSITION_DESC[this.getDayPositionYangGui()];return e||""}getDayPositionYinGui(){return $.POSITION_YIN_GUI[this._dayGanIndex+1]}getDayPositionYinGuiDesc(){const e=$.POSITION_DESC[this.getDayPositionYinGui()];return e||""}getDayPositionFu(e=2){return(e===1?$.POSITION_FU:$.POSITION_FU_2)[this._dayGanIndex+1]}getDayPositionFuDesc(e=2){const r=$.POSITION_DESC[this.getDayPositionFu(e)];return r||""}getDayPositionCai(){return $.POSITION_CAI[this._dayGanIndex+1]}getDayPositionCaiDesc(){const e=$.POSITION_DESC[this.getDayPositionCai()];return e||""}getTimePositionXi(){return $.POSITION_XI[this._timeGanIndex+1]}getTimePositionXiDesc(){const e=$.POSITION_DESC[this.getTimePositionXi()];return e||""}getTimePositionYangGui(){return $.POSITION_YANG_GUI[this._timeGanIndex+1]}getTimePositionYangGuiDesc(){const e=$.POSITION_DESC[this.getTimePositionYangGui()];return e||""}getTimePositionYinGui(){return $.POSITION_YIN_GUI[this._timeGanIndex+1]}getTimePositionYinGuiDesc(){const e=$.POSITION_DESC[this.getTimePositionYinGui()];return e||""}getTimePositionFu(e=2){return(e===1?$.POSITION_FU:$.POSITION_FU_2)[this._timeGanIndex+1]}getTimePositionFuDesc(e=2){const r=$.POSITION_DESC[this.getTimePositionFu(e)];return r||""}getTimePositionCai(){return $.POSITION_CAI[this._timeGanIndex+1]}getTimePositionCaiDesc(){const e=$.POSITION_DESC[this.getTimePositionCai()];return e||""}getYearPositionTaiSui(e=2){let r;switch(e){case 1:r=this._yearZhiIndex;break;case 3:r=this._yearZhiIndexExact;break;default:r=this._yearZhiIndexByLiChun}return $.POSITION_TAI_SUI_YEAR[r]}getYearPositionTaiSuiDesc(e=2){return $.POSITION_DESC[this.getYearPositionTaiSui(e)]}getMonthPositionTaiSui(e=2){let r,i;switch(e){case 3:r=this._monthZhiIndexExact,i=this._monthGanIndexExact;break;default:r=this._monthZhiIndex,i=this._monthGanIndex}let n=r-$.BASE_MONTH_ZHI_INDEX;return n<0&&(n+=12),[Ke.getMessage("bg.gen"),$.POSITION_GAN[i],Ke.getMessage("bg.kun"),Ke.getMessage("bg.xun")][n%4]}getMonthPositionTaiSuiDesc(e=2){return $.POSITION_DESC[this.getMonthPositionTaiSui(e)]}getDayPositionTaiSui(e=2){let r,i;switch(e){case 1:r=this.getDayInGanZhi(),i=this._yearZhiIndex;break;case 3:r=this.getDayInGanZhi(),i=this._yearZhiIndexExact;break;default:r=this.getDayInGanZhiExact2(),i=this._yearZhiIndexByLiChun}let n;return[Ke.getMessage("jz.jiaZi"),Ke.getMessage("jz.yiChou"),Ke.getMessage("jz.bingYin"),Ke.getMessage("jz.dingMao"),Ke.getMessage("jz.wuChen"),Ke.getMessage("jz.jiSi")].join(",").indexOf(r)>-1?n=Ke.getMessage("bg.zhen"):[Ke.getMessage("jz.bingZi"),Ke.getMessage("jz.dingChou"),Ke.getMessage("jz.wuYin"),Ke.getMessage("jz.jiMao"),Ke.getMessage("jz.gengChen"),Ke.getMessage("jz.xinSi")].join(",").indexOf(r)>-1?n=Ke.getMessage("bg.li"):[Ke.getMessage("jz.wuZi"),Ke.getMessage("jz.jiChou"),Ke.getMessage("jz.gengYin"),Ke.getMessage("jz.xinMao"),Ke.getMessage("jz.renChen"),Ke.getMessage("jz.guiSi")].join(",").indexOf(r)>-1?n=Ke.getMessage("ps.center"):[Ke.getMessage("jz.gengZi"),Ke.getMessage("jz.xinChou"),Ke.getMessage("jz.renYin"),Ke.getMessage("jz.guiMao"),Ke.getMessage("jz.jiaChen"),Ke.getMessage("jz.yiSi")].join(",").indexOf(r)>-1?n=Ke.getMessage("bg.dui"):[Ke.getMessage("jz.renZi"),Ke.getMessage("jz.guiChou"),Ke.getMessage("jz.jiaYin"),Ke.getMessage("jz.yiMao"),Ke.getMessage("jz.bingChen"),Ke.getMessage("jz.dingSi")].join(",").indexOf(r)>-1?n=Ke.getMessage("bg.kan"):n=$.POSITION_TAI_SUI_YEAR[i],n}getDayPositionTaiSuiDesc(e=2){return $.POSITION_DESC[this.getDayPositionTaiSui(e)]}getChong(){return this.getDayChong()}getChongGan(){return this.getDayChongGan()}getChongGanTie(){return this.getDayChongGanTie()}getChongShengXiao(){return this.getDayChongShengXiao()}getChongDesc(){return this.getDayChongDesc()}getSha(){return this.getDaySha()}getDayChong(){return $.CHONG[this._dayZhiIndex]}getDayChongGan(){return $.CHONG_GAN[this._dayGanIndex]}getDayChongGanTie(){return $.CHONG_GAN_TIE[this._dayGanIndex]}getDayChongShengXiao(){const e=this.getChong();for(let r=0,i=$.ZHI.length;r<i;r++)if($.ZHI[r]===e)return $.SHENGXIAO[r];return""}getDayChongDesc(){return"("+this.getDayChongGan()+this.getDayChong()+")"+this.getDayChongShengXiao()}getDaySha(){const e=$.SHA[this.getDayZhi()];return e||""}getTimeChong(){return $.CHONG[this._timeZhiIndex]}getTimeChongGan(){return $.CHONG_GAN[this._timeGanIndex]}getTimeChongGanTie(){return $.CHONG_GAN_TIE[this._timeGanIndex]}getTimeChongShengXiao(){const e=this.getTimeChong();for(let r=0,i=$.ZHI.length;r<i;r++)if($.ZHI[r]===e)return $.SHENGXIAO[r];return""}getTimeChongDesc(){return"("+this.getTimeChongGan()+this.getTimeChong()+")"+this.getTimeChongShengXiao()}getTimeSha(){const e=$.SHA[this.getTimeZhi()];return e||""}getYearNaYin(){const e=$.NAYIN[this.getYearInGanZhi()];return e||""}getMonthNaYin(){const e=$.NAYIN[this.getMonthInGanZhi()];return e||""}getDayNaYin(){const e=$.NAYIN[this.getDayInGanZhi()];return e||""}getTimeNaYin(){const e=$.NAYIN[this.getTimeInGanZhi()];return e||""}getSeason(){return $.SEASON[Math.abs(this._month)]}static _convertJieQi(e){let r=e;return r==="DONG_ZHI"?r=Ke.getMessage("jq.dongZhi"):r==="DA_HAN"?r=Ke.getMessage("jq.daHan"):r==="XIAO_HAN"?r=Ke.getMessage("jq.xiaoHan"):r==="LI_CHUN"?r=Ke.getMessage("jq.liChun"):r==="DA_XUE"?r=Ke.getMessage("jq.daXue"):r==="YU_SHUI"?r=Ke.getMessage("jq.yuShui"):r==="JING_ZHE"&&(r=Ke.getMessage("jq.jingZhe")),r}checkLang(){const e=Ke.getLanguage();if(this._lang!=e){for(let r=0,i=$.JIE_QI_IN_USE.length;r<i;r++){const n=$.JIE_QI_IN_USE[r],a=this._jieQiList[r],s=this._jieQi[a];this._jieQiList[r]=n,this._jieQi[n]=s}this._lang=e}}getJie(){for(let e=0,r=$.JIE_QI_IN_USE.length;e<r;e+=2){const i=$.JIE_QI_IN_USE[e],n=this.getJieQiSolar(i);if(n&&n.getYear()===this._solar.getYear()&&n.getMonth()===this._solar.getMonth()&&n.getDay()===this._solar.getDay())return ri._convertJieQi(i)}return""}getQi(){for(let e=1,r=$.JIE_QI_IN_USE.length;e<r;e+=2){const i=$.JIE_QI_IN_USE[e],n=this.getJieQiSolar(i);if(n&&n.getYear()===this._solar.getYear()&&n.getMonth()===this._solar.getMonth()&&n.getDay()===this._solar.getDay())return ri._convertJieQi(i)}return""}getJieQi(){let e="";for(let r in this._jieQi){const i=this._jieQi[r];if(i.getYear()==this._solar.getYear()&&i.getMonth()==this._solar.getMonth()&&i.getDay()==this._solar.getDay()){e=r;break}}return ri._convertJieQi(e)}getWeek(){return this._weekIndex}getWeekInChinese(){return Gr.WEEK[this.getWeek()]}getXiu(){let e=$.XIU[this.getDayZhi()+this.getWeek()];return e||""}getXiuLuck(){let e=$.XIU_LUCK[this.getXiu()];return e||""}getXiuSong(){let e=$.XIU_SONG[this.getXiu()];return e||""}getZheng(){let e=$.ZHENG[this.getXiu()];return e||""}getAnimal(){let e=$.ANIMAL[this.getXiu()];return e||""}getGong(){let e=$.GONG[this.getXiu()];return e||""}getShou(){let e=$.SHOU[this.getGong()];return e||""}getFestivals(){const e=[],r=$.FESTIVAL[this._month+"-"+this._day];return r&&e.push(r),Math.abs(this._month)==12&&this._day>=29&&this._year!=this.next(1).getYear()&&e.push(Ke.getMessage("jr.chuXi")),e}getOtherFestivals(){const e=[],r=$.OTHER_FESTIVAL[this._month+"-"+this._day];r&&r.forEach(s=>{e.push(s)});let i=this.getJieQiSolar(Ke.getMessage("jq.qingMing"));const n=this._solar.toYmd();n===i.next(-1).toYmd()&&e.push("寒食节"),i=this.getJieQiSolar(Ke.getMessage("jq.liChun"));let a=4-i.getLunar().getDayGanIndex();return a<0&&(a+=10),n===i.next(a+40).toYmd()&&e.push("春社"),i=this.getJieQiSolar(Ke.getMessage("jq.liQiu")),a=4-i.getLunar().getDayGanIndex(),a<0&&(a+=10),n===i.next(a+40).toYmd()&&e.push("秋社"),e}getBaZi(){const e=this.getEightChar(),r=[];return r.push(e.getYear()),r.push(e.getMonth()),r.push(e.getDay()),r.push(e.getTime()),r}getBaZiWuXing(){const e=this.getEightChar(),r=[];return r.push(e.getYearWuXing()),r.push(e.getMonthWuXing()),r.push(e.getDayWuXing()),r.push(e.getTimeWuXing()),r}getBaZiNaYin(){const e=this.getEightChar(),r=[];return r.push(e.getYearNaYin()),r.push(e.getMonthNaYin()),r.push(e.getDayNaYin()),r.push(e.getTimeNaYin()),r}getBaZiShiShenGan(){const e=this.getEightChar(),r=[];return r.push(e.getYearShiShenGan()),r.push(e.getMonthShiShenGan()),r.push(e.getDayShiShenGan()),r.push(e.getTimeShiShenGan()),r}getBaZiShiShenZhi(){const e=this.getEightChar(),r=[];return r.push(e.getYearShiShenZhi()[0]),r.push(e.getMonthShiShenZhi()[0]),r.push(e.getDayShiShenZhi()[0]),r.push(e.getTimeShiShenZhi()[0]),r}getBaZiShiShenYearZhi(){return this.getEightChar().getYearShiShenZhi()}getBaZiShiShenMonthZhi(){return this.getEightChar().getMonthShiShenZhi()}getBaZiShiShenDayZhi(){return this.getEightChar().getDayShiShenZhi()}getBaZiShiShenTimeZhi(){return this.getEightChar().getTimeShiShenZhi()}getZhiXing(){let e=this._dayZhiIndex-this._monthZhiIndex;return e<0&&(e+=12),$.ZHI_XING[e+1]}getDayTianShen(){const e=this.getMonthZhi(),r=$.ZHI_TIAN_SHEN_OFFSET[e];return r==null?"":$.TIAN_SHEN[(this._dayZhiIndex+r)%12+1]}getTimeTianShen(){const e=this.getDayZhiExact(),r=$.ZHI_TIAN_SHEN_OFFSET[e];return r==null?"":$.TIAN_SHEN[(this._timeZhiIndex+r)%12+1]}getDayTianShenType(){const e=$.TIAN_SHEN_TYPE[this.getDayTianShen()];return e||""}getTimeTianShenType(){const e=$.TIAN_SHEN_TYPE[this.getTimeTianShen()];return e||""}getDayTianShenLuck(){const e=$.TIAN_SHEN_TYPE_LUCK[this.getDayTianShenType()];return e||""}getTimeTianShenLuck(){const e=$.TIAN_SHEN_TYPE_LUCK[this.getTimeTianShenType()];return e||""}getDayPositionTai(){return $.POSITION_TAI_DAY[$.getJiaZiIndex(this.getDayInGanZhi())]}getMonthPositionTai(){const e=this._month;return e<0?"":$.POSITION_TAI_MONTH[e-1]}getDayYi(e=1){return $.getDayYi(e==2?this.getMonthInGanZhiExact():this.getMonthInGanZhi(),this.getDayInGanZhi())}getDayJi(e=1){return $.getDayJi(e==2?this.getMonthInGanZhiExact():this.getMonthInGanZhi(),this.getDayInGanZhi())}getDayJiShen(){return $.getDayJiShen(this.getMonth(),this.getDayInGanZhi())}getDayXiongSha(){return $.getDayXiongSha(this.getMonth(),this.getDayInGanZhi())}getTimeYi(){return $.getTimeYi(this.getDayInGanZhiExact(),this.getTimeInGanZhi())}getTimeJi(){return $.getTimeJi(this.getDayInGanZhiExact(),this.getTimeInGanZhi())}getYueXiang(){return $.YUE_XIANG[this._day]}_getYearNineStar(e){const r=$.getJiaZiIndex(e)+1,i=$.getJiaZiIndex(this.getYearInGanZhi())+1;let n=r-i;n>1?n-=60:n<-1&&(n+=60);let s=(62+Math.floor((this._year+n+2696)/60)%3*3-r)%9;return s===0&&(s=9),sa.fromIndex(s-1)}getYearNineStar(e=2){let r;switch(e){case 1:r=this.getYearInGanZhi();break;case 3:r=this.getYearInGanZhiExact();break;default:r=this.getYearInGanZhiByLiChun()}return this._getYearNineStar(r)}getMonthNineStar(e=2){let r,i;switch(e){case 1:r=this._yearZhiIndex,i=this._monthZhiIndex;break;case 3:r=this._yearZhiIndexExact,i=this._monthZhiIndexExact;break;default:r=this._yearZhiIndexByLiChun,i=this._monthZhiIndex}let n=27-r%3*3;return i<$.BASE_MONTH_ZHI_INDEX&&(n-=3),sa.fromIndex((n-i)%9)}getJieQiSolar(e){return this.checkLang(),this._jieQi[e]}getDayNineStar(){const e=this._solar.toYmd(),r=this.getJieQiSolar(Ke.getMessage("jq.dongZhi")),i=this.getJieQiSolar("DONG_ZHI"),n=this.getJieQiSolar(Ke.getMessage("jq.xiaZhi")),a=$.getJiaZiIndex(r.getLunar().getDayInGanZhi()),s=$.getJiaZiIndex(i.getLunar().getDayInGanZhi()),o=$.getJiaZiIndex(n.getLunar().getDayInGanZhi());let u,l,c;a>29?u=r.next(60-a):u=r.next(-a);const h=u.toYmd();s>29?l=i.next(60-s):l=i.next(-s);const f=l.toYmd();o>29?c=n.next(60-o):c=n.next(-o);const d=c.toYmd();let p=0;return e>=h&&e<d?p=this._solar.subtract(u)%9:e>=d&&e<f?p=8-this._solar.subtract(c)%9:e>=f?p=this._solar.subtract(l)%9:e<h&&(p=(8+u.subtract(this._solar))%9),sa.fromIndex(p)}getTimeNineStar(){const e=this._solar.toYmd();let r=!1;(e>=this.getJieQiSolar(Ke.getMessage("jq.dongZhi")).toYmd()&&e<this.getJieQiSolar(Ke.getMessage("jq.xiaZhi")).toYmd()||e>=this.getJieQiSolar("DONG_ZHI").toYmd())&&(r=!0);const n=(r?[0,3,6]:[8,5,2])[this.getDayZhiIndex()%3],a=r?n+this._timeZhiIndex:n+9-this._timeZhiIndex;return sa.fromIndex(a%9)}getSolar(){return this._solar}getJieQiTable(){return this.checkLang(),this._jieQi}getJieQiList(){return this._jieQiList}getNextJie(e=!1){const r=[];for(let i=0,n=$.JIE_QI_IN_USE.length/2;i<n;i++)r.push($.JIE_QI_IN_USE[i*2]);return this.getNearJieQi(!0,r,e)}getPrevJie(e=!1){const r=[];for(let i=0,n=$.JIE_QI_IN_USE.length/2;i<n;i++)r.push($.JIE_QI_IN_USE[i*2]);return this.getNearJieQi(!1,r,e)}getNextQi(e=!1){const r=[];for(let i=0,n=$.JIE_QI_IN_USE.length/2;i<n;i++)r.push($.JIE_QI_IN_USE[i*2+1]);return this.getNearJieQi(!0,r,e)}getPrevQi(e=!1){const r=[];for(let i=0,n=$.JIE_QI_IN_USE.length/2;i<n;i++)r.push($.JIE_QI_IN_USE[i*2+1]);return this.getNearJieQi(!1,r,e)}getNextJieQi(e=!1){return this.getNearJieQi(!0,[],e)}getPrevJieQi(e=!1){return this.getNearJieQi(!1,[],e)}getNearJieQi(e,r,i){let n="",a=null,s={},o=!1;if(r)for(let l=0,c=r.length;l<c;l++)s[r[l]]=!0,o=!0;const u=i?this._solar.toYmd():this._solar.toYmdHms();for(let l in this._jieQi){const c=this._jieQi[l],h=ri._convertJieQi(l);if(o&&!s[h])continue;const f=i?c.toYmd():c.toYmdHms();if(e){if(f<=u)continue;if(a==null)n=h,a=c;else{const d=i?a.toYmd():a.toYmdHms();f<d&&(n=h,a=c)}}else{if(f>u)continue;if(a==null)n=h,a=c;else{const d=i?a.toYmd():a.toYmdHms();f>d&&(n=h,a=c)}}}return new mx(n,a)}getCurrentJieQi(){let e=null;for(let r in this._jieQi){const i=this._jieQi[r];if(i.getYear()==this._solar.getYear()&&i.getMonth()==this._solar.getMonth()&&i.getDay()==this._solar.getDay()){e=new mx(ri._convertJieQi(r),i);break}}return e}getCurrentJie(){for(let e=0,r=$.JIE_QI_IN_USE.length;e<r;e+=2){const i=$.JIE_QI_IN_USE[e],n=this.getJieQiSolar(i);if(n&&n.getYear()===this._solar.getYear()&&n.getMonth()===this._solar.getMonth()&&n.getDay()===this._solar.getDay())return new mx(ri._convertJieQi(i),n)}return null}getCurrentQi(){for(let e=1,r=$.JIE_QI_IN_USE.length;e<r;e+=2){const i=$.JIE_QI_IN_USE[e],n=this.getJieQiSolar(i);if(n&&n.getYear()===this._solar.getYear()&&n.getMonth()===this._solar.getMonth()&&n.getDay()===this._solar.getDay())return new mx(ri._convertJieQi(i),n)}return null}getEightChar(){return this._eightChar}next(e){return this._solar.next(e).getLunar()}getYearXun(){return $.getXun(this.getYearInGanZhi())}getMonthXun(){return $.getXun(this.getMonthInGanZhi())}getDayXun(){return $.getXun(this.getDayInGanZhi())}getTimeXun(){return $.getXun(this.getTimeInGanZhi())}getYearXunByLiChun(){return $.getXun(this.getYearInGanZhiByLiChun())}getYearXunExact(){return $.getXun(this.getYearInGanZhiExact())}getMonthXunExact(){return $.getXun(this.getMonthInGanZhiExact())}getDayXunExact(){return $.getXun(this.getDayInGanZhiExact())}getDayXunExact2(){return $.getXun(this.getDayInGanZhiExact2())}getYearXunKong(){return $.getXunKong(this.getYearInGanZhi())}getMonthXunKong(){return $.getXunKong(this.getMonthInGanZhi())}getDayXunKong(){return $.getXunKong(this.getDayInGanZhi())}getTimeXunKong(){return $.getXunKong(this.getTimeInGanZhi())}getYearXunKongByLiChun(){return $.getXunKong(this.getYearInGanZhiByLiChun())}getYearXunKongExact(){return $.getXunKong(this.getYearInGanZhiExact())}getMonthXunKongExact(){return $.getXunKong(this.getMonthInGanZhiExact())}getDayXunKongExact(){return $.getXunKong(this.getDayInGanZhiExact())}getDayXunKongExact2(){return $.getXunKong(this.getDayInGanZhiExact2())}toString(){return this.getYearInChinese()+"年"+this.getMonthInChinese()+"月"+this.getDayInChinese()}toFullString(){let e=this.toString();e+=" "+this.getYearInGanZhi()+"("+this.getYearShengXiao()+")年",e+=" "+this.getMonthInGanZhi()+"("+this.getMonthShengXiao()+")月",e+=" "+this.getDayInGanZhi()+"("+this.getDayShengXiao()+")日",e+=" "+this.getTimeZhi()+"("+this.getTimeShengXiao()+")时",e+=" 纳音["+this.getYearNaYin()+" "+this.getMonthNaYin()+" "+this.getDayNaYin()+" "+this.getTimeNaYin()+"]",e+=" 星期"+this.getWeekInChinese(),this.getFestivals().forEach(i=>{e+=" ("+i+")"}),this.getOtherFestivals().forEach(i=>{e+=" ("+i+")"});const r=this.getJieQi();return r.length>0&&(e+=" ["+r+"]"),e+=" "+this.getGong()+"方"+this.getShou(),e+=" 星宿["+this.getXiu()+this.getZheng()+this.getAnimal()+"]("+this.getXiuLuck()+")",e+=" 彭祖百忌["+this.getPengZuGan()+" "+this.getPengZuZhi()+"]",e+=" 喜神方位["+this.getDayPositionXi()+"]("+this.getDayPositionXiDesc()+")",e+=" 阳贵神方位["+this.getDayPositionYangGui()+"]("+this.getDayPositionYangGuiDesc()+")",e+=" 阴贵神方位["+this.getDayPositionYinGui()+"]("+this.getDayPositionYinGuiDesc()+")",e+=" 福神方位["+this.getDayPositionFu()+"]("+this.getDayPositionFuDesc()+")",e+=" 财神方位["+this.getDayPositionCai()+"]("+this.getDayPositionCaiDesc()+")",e+=" 冲["+this.getDayChongDesc()+"]",e+=" 煞["+this.getDaySha()+"]",e}getShuJiu(){const e=vr.fromYmd(this._solar.getYear(),this._solar.getMonth(),this._solar.getDay());let r=this.getJieQiSolar("DONG_ZHI"),i=vr.fromYmd(r.getYear(),r.getMonth(),r.getDay());e.isBefore(i)&&(r=this.getJieQiSolar(Ke.getMessage("jq.dongZhi")),i=vr.fromYmd(r.getYear(),r.getMonth(),r.getDay()));const n=vr.fromYmd(r.getYear(),r.getMonth(),r.getDay()).next(81);if(e.isBefore(i)||!e.isBefore(n))return null;const a=e.subtract(i);return new gYe($.NUMBER[Math.floor(a/9)+1]+"九",a%9+1)}getFu(){const e=vr.fromYmd(this._solar.getYear(),this._solar.getMonth(),this._solar.getDay()),r=this.getJieQiSolar(Ke.getMessage("jq.xiaZhi")),i=this.getJieQiSolar(Ke.getMessage("jq.liQiu"));let n=vr.fromYmd(r.getYear(),r.getMonth(),r.getDay()),a=6-r.getLunar().getDayGanIndex();if(a<0&&(a+=10),a+=20,n=n.next(a),e.isBefore(n))return null;let s=e.subtract(n);if(s<10)return new yx("初伏",s+1);if(n=n.next(10),s=e.subtract(n),s<10)return new yx("中伏",s+1);n=n.next(10);const o=vr.fromYmd(i.getYear(),i.getMonth(),i.getDay());if(s=e.subtract(n),o.isAfter(n)){if(s<10)return new yx("中伏",s+11);n=n.next(10),s=e.subtract(n)}return s<10?new yx("末伏",s+1):null}getLiuYao(){return $.LIU_YAO[(Math.abs(this._month)+this._day-2)%6]}getWuHou(){const e=this.getPrevJieQi(!0),r=$.find(e.getName(),$.JIE_QI);let i=Math.floor(this._solar.subtract(e.getSolar())/5);return i>2&&(i=2),$.WU_HOU[(r.index*3+i)%$.WU_HOU.length]}getHou(){const e=this.getPrevJieQi(!0),r=this._solar.subtract(e.getSolar()),i=$.HOU.length-1;let n=Math.floor(r/5);return n>i&&(n=i),e.getName()+" "+$.HOU[n]}getDayLu(){const e=$.LU[this.getDayGan()],r=$.LU[this.getDayZhi()];let i=e+"命互禄";return r&&(i+=" "+r+"命进禄"),i}getTime(){return i2.fromYmdHms(this._year,this._month,this._day,this._hour,this._minute,this._second)}getTimes(){const e=[];e.push(i2.fromYmdHms(this._year,this._month,this._day,0,0,0));for(let r=0;r<12;r++)e.push(i2.fromYmdHms(this._year,this._month,this._day,(r+1)*2-1,0,0));return e}getFoto(){return Tse.fromLunar(this)}getTao(){return Ase.fromLunar(this)}}class n2{static fromYm(e,r){return new n2(e,r)}static fromDate(e){return n2.fromYm(e.getFullYear(),e.getMonth()+1)}constructor(e,r){this._year=e,this._month=r}getYear(){return this._year}getMonth(){return this._month}next(e){const r=e<0?-1:1;let i=Math.abs(e),n=this._year+Math.floor(i/12)*r;return i=this._month+i%12*r,i>12?(i-=12,n++):i<1&&(i+=12,n--),n2.fromYm(n,i)}getDays(){const e=[],r=vr.fromYmd(this._year,this._month,1);e.push(r);const i=Gr.getDaysOfMonth(this._year,this._month);for(let n=1;n<i;n++)e.push(r.next(n));return e}getWeeks(e){const r=[];let i=Xa.fromYmd(this._year,this._month,1,e);for(;;){r.push(i),i=i.next(1,!1);const n=i.getFirstDay();if(n.getYear()>this._year||n.getMonth()>this._month)break}return r}toString(){return`${this.getYear()}-${this.getMonth()}`}toFullString(){return`${this.getYear()}年${this.getMonth()}月`}}const io=class{static fromYmd(t,e,r){return io.fromYmdHms(t,e,r,0,0,0)}static fromYmdHms(t,e,r,i,n,a){return new io(t,e,r,i,n,a)}static fromDate(t){return io.fromYmdHms(t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds())}static fromJulianDay(t){let e=Math.floor(t+.5),r=t+.5-e,i;e>=2299161&&(i=Math.floor((e-186721625e-2)/36524.25),e+=1+i-Math.floor(i/4)),e+=1524;let n=Math.floor((e-122.1)/365.25);e-=Math.floor(365.25*n);let a=Math.floor(e/30.601);e-=Math.floor(30.601*a);let s=e;a>13?(a-=13,n-=4715):(a-=1,n-=4716),r*=24;let o=Math.floor(r);r-=o,r*=60;let u=Math.floor(r);r-=u,r*=60;let l=Math.round(r);return l>59&&(l-=60,u++),u>59&&(u-=60,o++),o>23&&(o-=24,s+=1),io.fromYmdHms(n,a,s,o,u,l)}static fromBaZi(t,e,r,i,n=2,a=1900){n=n==1?1:2;const s=[];let o=$.index(e.substring(1),$.ZHI,-1)-2;if(o<0&&(o+=12),(($.index(t.substring(0,1),$.GAN,-1)+1)*2+o)%10!==$.index(e.substring(0,1),$.GAN,-1))return s;let u=$.getJiaZiIndex(t)-57;u<0&&(u+=60),u++,o*=2;let l=$.index(i.substring(1),$.ZHI,-1)*2,c=[l];l==0&&n==2&&(c=[0,23]);const h=a-1,f=new Date().getFullYear();for(;u<=f;){if(u>=h){const d=ri.fromYmd(u,1,1),p=d.getJieQiList();let v=d.getJieQiTable()[p[4+o]];if(v.getYear()>=a){let m=$.getJiaZiIndex(r)-$.getJiaZiIndex(v.getLunar().getDayInGanZhiExact2());m<0&&(m+=60),m>0&&(v=v.next(m)),c.forEach(y=>{let _=0,x=0;m==0&&y===v.getHour()&&(_=v.getMinute(),x=v.getSecond());const b=io.fromYmdHms(v.getYear(),v.getMonth(),v.getDay(),y,_,x);let C=b.getLunar(),E=n===2?C.getDayInGanZhiExact2():C.getDayInGanZhiExact();C.getYearInGanZhiExact()===t&&C.getMonthInGanZhiExact()===e&&E===r&&C.getTimeInGanZhi()===i&&s.push(b)})}}u+=60}return s}constructor(t,e,r,i,n,a){if(t===1582&&e===10&&r>4&&r<15)throw new Error(`wrong solar year ${t} month ${e} day ${r}`);if(e<1||e>12)throw new Error(`wrong month ${e}`);if(r<1||r>31)throw new Error(`wrong day ${r}`);if(i<0||i>23)throw new Error(`wrong hour ${i}`);if(n<0||n>59)throw new Error(`wrong minute ${n}`);if(a<0||a>59)throw new Error(`wrong second ${a}`);this._year=t,this._month=e,this._day=r,this._hour=i,this._minute=n,this._second=a}getYear(){return this._year}getMonth(){return this._month}getDay(){return this._day}getHour(){return this._hour}getMinute(){return this._minute}getSecond(){return this._second}getWeek(){return(Math.floor(this.getJulianDay()+.5)+7000001)%7}getWeekInChinese(){return Gr.WEEK[this.getWeek()]}getSolarWeek(t){return Xa.fromYmd(this._year,this._month,this._day,t)}isLeapYear(){return Gr.isLeapYear(this._year)}getFestivals(){const t=[];let e=Gr.FESTIVAL[this._month+"-"+this._day];e&&t.push(e);const r=Math.ceil(this._day/7),i=this.getWeek();return e=Gr.WEEK_FESTIVAL[this._month+"-"+r+"-"+i],e&&t.push(e),this._day+7>Gr.getDaysOfMonth(this._year,this._month)&&(e=Gr.WEEK_FESTIVAL[this._month+"-0-"+i],e&&t.push(e)),t}getOtherFestivals(){const t=[],e=Gr.OTHER_FESTIVAL[this._month+"-"+this._day];return e&&e.forEach(r=>{t.push(r)}),t}getXingzuo(){return this.getXingZuo()}getXingZuo(){let t=11;const e=this._month*100+this._day;return e>=321&&e<=419?t=0:e>=420&&e<=520?t=1:e>=521&&e<=621?t=2:e>=622&&e<=722?t=3:e>=723&&e<=822?t=4:e>=823&&e<=922?t=5:e>=923&&e<=1023?t=6:e>=1024&&e<=1122?t=7:e>=1123&&e<=1221?t=8:e>=1222||e<=119?t=9:e<=218&&(t=10),Gr.XINGZUO[t]}getSalaryRate(){if(this._month===1&&this._day===1||this._month===5&&this._day===1||this._month===10&&this._day>=1&&this._day<=3)return 3;const t=this.getLunar();if(t.getMonth()===1&&t.getDay()>=1&&t.getDay()<=3||t.getMonth()===5&&t.getDay()===5||t.getMonth()===8&&t.getDay()===15||t.getJieQi()==="清明")return 3;const e=Cl.getHoliday(this._year,this._month,this._day);if(e){if(!e.isWork())return 2}else{const r=this.getWeek();if(r===6||r===0)return 2}return 1}toYmd(){let t=this._year+"";for(;t.length<4;)t="0"+t;return[t,(this._month<10?"0":"")+this._month,(this._day<10?"0":"")+this._day].join("-")}toYmdHms(){return this.toYmd()+" "+[(this._hour<10?"0":"")+this._hour,(this._minute<10?"0":"")+this._minute,(this._second<10?"0":"")+this._second].join(":")}toString(){return this.toYmd()}toFullString(){let t=this.toYmdHms();return this.isLeapYear()&&(t+=" 闰年"),t+=" 星期"+this.getWeekInChinese(),this.getFestivals().forEach(r=>{t+=" ("+r+")"}),t+=" "+this.getXingZuo()+"座",t}nextYear(t){const e=this._year+t;let r=this._month,i=this._day;return e===1582&&r===10?i>4&&i<15&&(i+=10):r===2&&i>28&&(Gr.isLeapYear(e)||(i=28)),io.fromYmdHms(e,r,i,this._hour,this._minute,this._second)}nextMonth(t){const e=n2.fromYm(this._year,this._month).next(t),r=e.getYear(),i=e.getMonth();let n=this._day;if(r===1582&&i===10)n>4&&n<15&&(n+=10);else{const a=Gr.getDaysOfMonth(r,i);n>a&&(n=a)}return io.fromYmdHms(r,i,n,this._hour,this._minute,this._second)}nextDay(t){let e=this._year,r=this._month,i=this._day;if(e===1582&&r===10&&i>4&&(i-=10),t>0){i+=t;let n=Gr.getDaysOfMonth(e,r);for(;i>n;)i-=n,r++,r>12&&(r=1,e++),n=Gr.getDaysOfMonth(e,r)}else if(t<0){for(;i+t<=0;)r--,r<1&&(r=12,e--),i+=Gr.getDaysOfMonth(e,r);i+=t}return e===1582&&r===10&&i>4&&(i+=10),io.fromYmdHms(e,r,i,this._hour,this._minute,this._second)}next(t,e=!1){if(e){let r=io.fromYmdHms(this._year,this._month,this._day,this._hour,this._minute,this._second);if(t!==0){let i=Math.abs(t);const n=t<1?-1:1;for(;i>0;){r=r.next(n);let a=!0;const s=Cl.getHoliday(r.getYear(),r.getMonth(),r.getDay());if(s)a=s.isWork();else{const o=r.getWeek();(o===0||o===6)&&(a=!1)}a&&(i-=1)}}return r}else return this.nextDay(t)}nextHour(t){const e=this._hour+t,r=e<0?-1:1;let i=Math.abs(e),n=Math.floor(i/24)*r;i=i%24*r,i<0&&(i+=24,n--);const a=this.next(n);return io.fromYmdHms(a.getYear(),a.getMonth(),a.getDay(),i,a.getMinute(),a.getSecond())}getLunar(){return ri.fromSolar(this)}getJulianDay(){let t=this._year,e=this._month,r=this._day+((this._second/60+this._minute)/60+this._hour)/24,i=0,n=!1;return t*372+e*31+Math.floor(r)>=588829&&(n=!0),e<=2&&(e+=12,t--),n&&(i=Math.floor(t/100),i=2-i+Math.floor(i/4)),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(e+1))+r+i-1524.5}isBefore(t){return this._year>t.getYear()?!1:this._year<t.getYear()?!0:this._month>t.getMonth()?!1:this._month<t.getMonth()?!0:this._day>t.getDay()?!1:this._day<t.getDay()?!0:this._hour>t.getHour()?!1:this._hour<t.getHour()?!0:this._minute>t.getMinute()?!1:this._minute<t.getMinute()?!0:this._second<t.getSecond()}isAfter(t){return this._year>t.getYear()?!0:this._year<t.getYear()?!1:this._month>t.getMonth()?!0:this._month<t.getMonth()?!1:this._day>t.getDay()?!0:this._day<t.getDay()?!1:this._hour>t.getHour()?!0:this._hour<t.getHour()?!1:this._minute>t.getMinute()?!0:this._minute<t.getMinute()?!1:this._second>t.getSecond()}subtract(t){return Gr.getDaysBetween(t.getYear(),t.getMonth(),t.getDay(),this._year,this._month,this._day)}subtractMinute(t){let e=this.subtract(t);const r=this._hour*60+this._minute,i=t.getHour()*60+t.getMinute();let n=r-i;return n<0&&(n+=1440,e--),n+=e*1440,n}};let vr=io;vr.J2000=2451545;Ke.init();export{E6e as $,ZD as A,Xj as B,B1 as C,qYe as D,Ge as E,OYe as F,Hu as G,XYe as H,Qle as I,kYe as J,UYe as K,jYe as L,zYe as M,HYe as N,xYe as O,GYe as P,DYe as Q,IYe as R,BYe as S,ri as T,Fm as U,ft as V,oi as W,NYe as X,IQ as Y,P6e as Z,PYe as _,FYe as a,u6e as a0,$8e as a1,fBe as a2,WIe as a3,KBe as a4,U9e as a5,OMe as a6,OBe as a7,gMe as a8,HFe as a9,pQ as aa,DPe as ab,pf as ac,ye as ad,EYe as ae,yYe as af,wYe as b,TYe as c,bYe as d,CYe as e,Br as f,AYe as g,AW as h,Eu as i,wA as j,Ae as k,RYe as l,mYe as m,SYe as n,AA as o,fr as p,YW as q,du as r,XD as s,MYe as t,el as u,LYe as v,hle as w,Si as x,_Ye as y,Fue as z};
