import{_ as c}from"./index.KXZlVRe5.js";import{f as m,p as f,Q as u,i as l,R as _,j as p,w as g,u as h,o as v,q as i,k as w,m as y}from"./vendor.CGB3Xnwf.js";import{_ as R}from"../index.mSaQI5.js";const b={class:"main-content"},I=m({__name:"ModelLayout",setup(L){const n=_(),t=f(null),d=e=>{e.data&&e.data.cmd&&console.log("接收到模型页面的消息",e.data)},o=(e,r)=>{var a,s;console.log(t.value,"iframeRef"),(s=(a=t.value)==null?void 0:a.contentWindow)==null||s.postMessage({cmd:e,param:r},"*")};return u((e,r,a)=>{e.name==="dashboard"?o("changeSystem","ground"):e.name==="overview"?o("changeIndoor","柴油发电机房"):e.name==="dataroom"&&o("changeIndoor","中心数据机房"),a()}),l(()=>{var e;window.addEventListener("message",d,!1),(e=t.value)==null||e.addEventListener("load",function(){setTimeout(()=>{n.name==="dashboard"?o("changeSystem","ground"):n.name==="overview"?o("changeIndoor","柴油发电机房"):n.name==="dataroom"&&o("changeIndoor","中心数据机房")},500)})}),(e,r)=>{const a=y("router-view"),s=c;return v(),p(s,{title:h(n).meta.title},{default:g(()=>[i("div",b,[i("iframe",{ref_key:"iframeRef",ref:t,src:"https://chenhaiqiang32.github.io/taobaorm_guangdianyunjifang/",width:"100%",height:"100%",frameborder:"0"},null,512)]),w(a)]),_:1},8,["title"])}}}),B=R(I,[["__scopeId","data-v-11c9da32"]]);export{B as default};
