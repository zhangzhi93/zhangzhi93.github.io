import{_ as d}from"./index-DvVOMBE-.js";import{d as m,b as f,ai as u,o as l,aj as _,a2 as g,a8 as p,ac as h,a3 as v,a7 as i,c as w,ak as y,aa as b}from"./index-DmKWdaUf.js";const I={class:"main-content"},L=m({__name:"ModelLayout",setup(M){const n=_(),t=f(null),c=e=>{e.data&&e.data.cmd&&console.log("接收到模型页面的消息",e.data)},a=(e,r)=>{var o,s;console.log(t.value,"iframeRef"),(s=(o=t.value)==null?void 0:o.contentWindow)==null||s.postMessage({cmd:e,param:r},"*")};return u((e,r,o)=>{e.name==="dashboard"?a("changeSystem","ground"):e.name==="overview"?a("changeIndoor","柴油发电机房"):e.name==="dataroom"&&a("changeIndoor","中心数据机房"),o()}),l(()=>{var e;window.addEventListener("message",c,!1),(e=t.value)==null||e.addEventListener("load",function(){setTimeout(()=>{n.name==="dashboard"?a("changeSystem","ground"):n.name==="overview"?a("changeIndoor","柴油发电机房"):n.name==="dataroom"&&a("changeIndoor","中心数据机房")},500)})}),(e,r)=>{const o=y("router-view"),s=d;return v(),g(s,{title:h(n).meta.title},{default:p(()=>[i("div",I,[i("iframe",{ref_key:"iframeRef",ref:t,src:"https://chenhaiqiang32.github.io/taobaorm_guangdianyunjifang/",width:"100%",height:"100%",frameborder:"0"},null,512)]),w(o)]),_:1},8,["title"])}}}),x=b(L,[["__scopeId","data-v-11c9da32"]]);export{x as default};
